<div class="container mt-5">
    <div class="row">
        <div class="col-6 text-left">
            <img src="{{patient.qrcoce}}" alt="" width="40%">
        </div>
        <div class="col-6 text-right">
            <div class="col-12">
                <img src="assets/plugins/images/gdental.png" alt="">
            </div>
            <div class="col-12">
                <p>Phòng Khám Nha Khoa GDental</p>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-12 text-center">
            <h1>Hóa Đơn Thanh Toán</h1>
        </div>
        <div class="col-12 text-center">
            ---------oOo---------
        </div>
    </div>

    <div class="container-lv2">
        <!-- <div class="row mt-5">
            <div class="col-12 text-left">
               <h3>Ông/Bà: {{invoice.examination.patient.name}}</h3>
            </div>
            <div class="col-12 text-center">
                ---------oOo---------
            </div>
        </div> -->

        <div class="col-12">
            <div class="table-responsive">
                <table class="table table-borderless">
                    <thead>
                        <tr>
                            <th style="width: 50%;"></th>
                            <th style="width: 50%;"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <h3>Bệnh nhân: {{patient.name}}</h3>
                            </td>
                            <td>
                                <h3>Bác sĩ khám: {{doctor.name}}</h3>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h3>Số điện thoại: {{patient.phone}}</h3>
                            </td>
                            <td>
                                <h3>Chuyên khoa: ...</h3>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <h3>Ghi chú: {{exam.note}}</h3>
                            </td>
                        </tr>

                        <tr>
                            <td colspan="2" class="text-center">
                                <table style="width: 100%;font-size:large;" class="table table-bodered">
                                    <thead>
                                        <tr>
                                            <th>STT</th>
                                            <th>Dịch vụ khám</th>
                                            <th>Đơn giá</th>
                                            <th>Số lượng</th>
                                            <th>Thành tiền</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of diagnosis; let i=index">
                                            <td>{{i+1}}</td>
                                            <td>{{item.service.name}}</td>
                                            <td>{{item.service.cost}}</td>
                                            <td> {{item.cost/item.service.cost}}</td>
                                            <td>{{item.cost}}</td>
                                        </tr>

                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>Voucher: </td>
                                            <td> {{ invoice.voucher ? invoice.voucher.amount : 0 }} </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>Chi phí: </td>
                                            <td>{{ invoice.cost }}</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>Nợ: </td>
                                            <td>{{ invoice.owe }}</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>Tổng cộng: </td>
                                            <td>{{ invoice.cost + invoice.owe }}</td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td>Đã trả: </td>
                                            <td>{{ invoice.paid }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="col-12" *ngIf="reexam != null; else NotReexam">
            <div class="col-12">
                <h4>Tái khám ngày: {{ reexam.date }} vào lúc {{ reexam.time }}</h4>
            </div>
            <div class="col-12">
                <h4>Nội dung tái khám: {{ reexam.detail }}</h4>
            </div>
        </div>
        <ng-template #NotReexam>
            <div class="col-12">
                <h4></h4>
            </div>
            <div class="col-12">
                <h4></h4>
            </div>
        </ng-template>
    </div>

    <div class="row">
        <div class="col-9 text-right">
        </div>
        <div class="col-3 text-center">
            <h1>Nhân viên thu tiền</h1>
        </div>

        <div class="col-9 text-right">
        </div>
        <div class="col-3 text-center">
            <h2>{{ staff.name }} </h2>
        </div>
    </div>
    <br>
    <br>
    <br>
</div>