(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+z1p":function(t,e,n){var i;(i=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).en=Object.assign(i.en||{},{a:"Cannot upload file:",b:"Image toolbar",c:"Table toolbar",d:"Bold",e:"Full size image",f:"Side image",g:"Left aligned image",h:"Centered image",i:"Right aligned image",j:"Block quote",k:"Insert image or file",l:"Insert image",m:"Insert table",n:"Header column",o:"Insert column left",p:"Insert column right",q:"Delete column",r:"Column",s:"Header row",t:"Insert row below",u:"Insert row above",v:"Delete row",w:"Row",x:"Merge cell up",y:"Merge cell right",z:"Merge cell down",aa:"Merge cell left",ab:"Split cell vertically",ac:"Split cell horizontally",ad:"Merge cells",ae:"Numbered List",af:"Bulleted List",ag:"Increase indent",ah:"Decrease indent",ai:"Italic",aj:"image widget",ak:"Choose heading",al:"Heading",am:"Upload failed",an:"Enter image caption",ao:"Insert media",ap:"The URL must not be empty.",aq:"This media URL is not supported.",ar:"media widget",as:"Link",at:"Widget toolbar",au:"Upload in progress",av:"Open in a new tab",aw:"Downloadable",ax:"Unlink",ay:"Edit link",az:"Open link in new tab",ba:"This link has no URL",bb:"Save",bc:"Cancel",bd:"Paste the media URL in the input.",be:"Tip: Paste the URL into the content to embed faster.",bf:"Media URL",bg:"Link URL",bh:"Undo",bi:"Redo",bj:"Rich Text Editor",bk:"Dropdown toolbar",bl:"%0 of %1",bm:"Previous",bn:"Next",bo:"Editor toolbar",bp:"Show more items",bq:"Paragraph",br:"Heading 1",bs:"Heading 2",bt:"Heading 3",bu:"Heading 4",bv:"Heading 5",bw:"Heading 6",bx:"Change image text alternative",by:"Rich Text Editor, %0",bz:"Could not obtain resized image URL.",ca:"Selecting resized image failed",cb:"Could not insert image at the current position.",cc:"Inserting image failed",cd:"Text alternative"}),window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var l=e[i]={i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(i,l,(function(e){return t[e]}).bind(null,l));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=92)}([function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return l}));class i extends Error{constructor(t,e,n){t=l(t),n&&(t+=" "+JSON.stringify(n)),super(t),this.name="CKEditorError",this.context=e,this.data=n}is(t){return"CKEditorError"===t}static rethrowUnexpectedError(t,e){if(t.is&&t.is("CKEditorError"))throw t;const n=new i(t.message,e);throw n.stack=t.stack,n}}function l(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${e[1]}\n`:t}},function(t,e,n){"use strict";var i,l=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function r(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function o(t,e){for(var n={},i=[],l=0;l<t.length;l++){var o=t[l],a=e.base?o[0]+e.base:o[0],u=n[a]||0,c="".concat(a," ").concat(u);n[a]=u+1;var h=r(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(s[h].references++,s[h].updater(d)):s.push({identifier:c,updater:g(d,e),references:1}),i.push(c)}return i}function a(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var s=n.nc;s&&(i.nonce=s)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=l(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var u,c=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,i){var l=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,l);else{var s=document.createTextNode(l),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function d(t,e,n){var i=n.css,l=n.media,s=n.sourceMap;if(l?t.setAttribute("media",l):t.removeAttribute("media"),s&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,m=0;function g(t,e){var n,i,l;if(e.singleton){var s=m++;n=p||(p=a(e)),i=h.bind(null,n,s,!1),l=h.bind(null,n,s,!0)}else n=a(e),i=d.bind(null,n,e),l=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else l()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var l=r(n[i]);s[l].references--}for(var a=o(t,e),u=0;u<n.length;u++){var c=r(n[u]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=a}}}},,function(t,e,n){"use strict";var i=n(7),l="object"==typeof self&&self&&self.Object===Object&&self,s=i.a||l||Function("return this")();e.a=s},function(t,n,i){"use strict";(function(t){var l=i(3),s=i(12),r=e&&!e.nodeType&&e,o=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===r?l.a.Buffer:void 0;n.a=(a?a.isBuffer:void 0)||s.a}).call(this,i(9)(t))},function(t,n,i){"use strict";(function(t){var l=i(7),s=e&&!e.nodeType&&e,r=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=r&&r.exports===s&&l.a.process,a=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();n.a=a}).call(this,i(9)(t))},function(t,e,n){"use strict";(function(t){var e=n(0);const i="object"==typeof window?window:t;if(i.CKEDITOR_VERSION)throw new e.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);i.CKEDITOR_VERSION="18.0.0"}).call(this,n(10))},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(10))},function(t,n,i){"use strict";(function(t){var l=i(3),s=e&&!e.nodeType&&e,r=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=r&&r.exports===s?l.a.Buffer:void 0,a=o?o.allocUnsafe:void 0;n.a=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}}).call(this,i(9)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(1),l=n(69);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){var i=n(1),l=n(14);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,n){var i=n(1),l=n(16);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,n){var i=n(1),l=n(18);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var i=n(1),l=n(20);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var i=n(1),l=n(22);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(1),l=n(24);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(t,e,n){var i=n(1),l=n(26);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,n){var i=n(1),l=n(28);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(t,e,n){var i=n(1),l=n(30);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var i=n(1),l=n(32);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var i=n(1),l=n(34);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(t,e,n){var i=n(1),l=n(36);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var i=n(1),l=n(38);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(1),l=n(40);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(t,e,n){var i=n(1),l=n(42);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(t,e,n){var i=n(1),l=n(44);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(t,e,n){var i=n(1),l=n(46);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(t,e,n){var i=n(1),l=n(48);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(t,e,n){var i=n(1),l=n(50);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(t,e,n){var i=n(1),l=n(52);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var i=n(1),l=n(54);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(1),l=n(56);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,n){var i=n(1),l=n(58);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(t,e,n){var i=n(1),l=n(60);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(t,e,n){var i=n(1),l=n(62);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(t,e,n){var i=n(1),l=n(64);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var i=n(1),l=n(66);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var i=n(1),l=n(68);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,n){var i=n(1),l=n(71);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(t,e,n){var i=n(1),l=n(73);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,n){var i=n(1),l=n(75);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(t,e,n){var i=n(1),l=n(77);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(1),l=n(79);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(t,e,n){var i=n(1),l=n(81);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(1),l=n(83);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(t,e,n){var i=n(1),l=n(85);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var i=n(1),l=n(87);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(t,e,n){var i=n(1),l=n(89);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=":root{--ck-table-selected-cell-background:#cee5fd}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{background-color:var(--ck-table-selected-cell-background)!important;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}"},function(t,e,n){var i=n(1),l=n(91);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[t.i,l,""]]);var s=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});t.exports=s},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}"},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Um}));var i=n(3),l=i.a.Symbol,s=Object.prototype,r=s.hasOwnProperty,o=s.toString,a=l?l.toStringTag:void 0,u=Object.prototype.toString,c=l?l.toStringTag:void 0,h=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":c&&c in Object(t)?function(t){var e=r.call(t,a),n=t[a];try{t[a]=void 0;var i=!0}catch(t){}var l=o.call(t);return i&&(e?t[a]=n:delete t[a]),l}(t):function(t){return u.call(t)}(t)},d=function(t,e){return function(n){return t(e(n))}},p=d(Object.getPrototypeOf,Object),m=function(t){return null!=t&&"object"==typeof t},g=Function.prototype,f=Object.prototype,b=g.toString,v=f.hasOwnProperty,y=b.call(Object),w=function(t){if(!m(t)||"[object Object]"!=h(t))return!1;var e=p(t);if(null===e)return!0;var n=v.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==y},x=function(t,e){return t===e||t!=t&&e!=e},k=function(t,e){for(var n=t.length;n--;)if(x(t[n][0],e))return n;return-1},_=Array.prototype.splice;function C(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}C.prototype.clear=function(){this.__data__=[],this.size=0},C.prototype.delete=function(t){var e=this.__data__,n=k(e,t);return!(n<0||(n==e.length-1?e.pop():_.call(e,n,1),--this.size,0))},C.prototype.get=function(t){var e=this.__data__,n=k(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return k(this.__data__,t)>-1},C.prototype.set=function(t,e){var n=this.__data__,i=k(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var T,S=C,M=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},P=function(t){if(!M(t))return!1;var e=h(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},A=i.a["__core-js_shared__"],E=(T=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",I=Function.prototype.toString,D=function(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""},O=/^\[object .+?Constructor\]$/,F=Function.prototype,N=Object.prototype,R=RegExp("^"+F.toString.call(N.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!M(t)||function(t){return!!E&&E in t}(t))&&(P(t)?R:O).test(D(t))}(n)?n:void 0},B=L(i.a,"Map"),V=L(Object,"create"),z=Object.prototype.hasOwnProperty,j=Object.prototype.hasOwnProperty;function H(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}H.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},H.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},H.prototype.get=function(t){var e=this.__data__;if(V){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return z.call(e,t)?e[t]:void 0},H.prototype.has=function(t){var e=this.__data__;return V?void 0!==e[t]:j.call(e,t)},H.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=V&&void 0===e?"__lodash_hash_undefined__":e,this};var W=H,U=function(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map};function $(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}$.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(B||S),string:new W}},$.prototype.delete=function(t){var e=U(this,t).delete(t);return this.size-=e?1:0,e},$.prototype.get=function(t){return U(this,t).get(t)},$.prototype.has=function(t){return U(this,t).has(t)},$.prototype.set=function(t,e){var n=U(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var Y=$;function q(t){var e=this.__data__=new S(t);this.size=e.size}q.prototype.clear=function(){this.__data__=new S,this.size=0},q.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},q.prototype.get=function(t){return this.__data__.get(t)},q.prototype.has=function(t){return this.__data__.has(t)},q.prototype.set=function(t,e){var n=this.__data__;if(n instanceof S){var i=n.__data__;if(!B||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Y(i)}return n.set(t,e),this.size=n.size,this};var G=q,X=function(){try{var t=L(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),K=function(t,e,n){"__proto__"==e&&X?X(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Z=Object.prototype.hasOwnProperty,Q=function(t,e,n){var i=t[e];Z.call(t,e)&&x(i,n)&&(void 0!==n||e in t)||K(t,e,n)},J=function(t,e,n,i){var l=!n;n||(n={});for(var s=-1,r=e.length;++s<r;){var o=e[s],a=i?i(n[o],t[o],o,n,t):void 0;void 0===a&&(a=t[o]),l?K(n,o,a):Q(n,o,a)}return n},tt=function(t){return m(t)&&"[object Arguments]"==h(t)},et=Object.prototype,nt=et.hasOwnProperty,it=et.propertyIsEnumerable,lt=tt(function(){return arguments}())?tt:function(t){return m(t)&&nt.call(t,"callee")&&!it.call(t,"callee")},st=Array.isArray,rt=n(4),ot=/^(?:0|[1-9]\d*)$/,at=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ot.test(t))&&t>-1&&t%1==0&&t<e},ut=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ct={};ct["[object Float32Array]"]=ct["[object Float64Array]"]=ct["[object Int8Array]"]=ct["[object Int16Array]"]=ct["[object Int32Array]"]=ct["[object Uint8Array]"]=ct["[object Uint8ClampedArray]"]=ct["[object Uint16Array]"]=ct["[object Uint32Array]"]=!0,ct["[object Arguments]"]=ct["[object Array]"]=ct["[object ArrayBuffer]"]=ct["[object Boolean]"]=ct["[object DataView]"]=ct["[object Date]"]=ct["[object Error]"]=ct["[object Function]"]=ct["[object Map]"]=ct["[object Number]"]=ct["[object Object]"]=ct["[object RegExp]"]=ct["[object Set]"]=ct["[object String]"]=ct["[object WeakMap]"]=!1;var ht=function(t){return function(e){return t(e)}},dt=n(5),pt=dt.a&&dt.a.isTypedArray,mt=pt?ht(pt):function(t){return m(t)&&ut(t.length)&&!!ct[h(t)]},gt=Object.prototype.hasOwnProperty,ft=function(t,e){var n=st(t),i=!n&&lt(t),l=!n&&!i&&Object(rt.a)(t),s=!n&&!i&&!l&&mt(t),r=n||i||l||s,o=r?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],a=o.length;for(var u in t)!e&&!gt.call(t,u)||r&&("length"==u||l&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||at(u,a))||o.push(u);return o},bt=Object.prototype,vt=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||bt)},yt=d(Object.keys,Object),wt=Object.prototype.hasOwnProperty,xt=function(t){return null!=t&&ut(t.length)&&!P(t)},kt=function(t){return xt(t)?ft(t):function(t){if(!vt(t))return yt(t);var e=[];for(var n in Object(t))wt.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},_t=Object.prototype.hasOwnProperty,Ct=function(t){return xt(t)?ft(t,!0):function(t){if(!M(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=vt(t),n=[];for(var i in t)("constructor"!=i||!e&&_t.call(t,i))&&n.push(i);return n}(t)},Tt=n(8),St=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},Mt=function(){return[]},Pt=Object.prototype.propertyIsEnumerable,At=Object.getOwnPropertySymbols,Et=At?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,l=0,s=[];++n<i;){var r=t[n];e(r)&&(s[l++]=r)}return s}(At(t),(function(e){return Pt.call(t,e)})))}:Mt,It=function(t,e){for(var n=-1,i=e.length,l=t.length;++n<i;)t[l+n]=e[n];return t},Dt=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)It(e,Et(t)),t=p(t);return e}:Mt,Ot=function(t,e,n){var i=e(t);return st(t)?i:It(i,n(t))},Ft=function(t){return Ot(t,kt,Et)},Nt=function(t){return Ot(t,Ct,Dt)},Rt=L(i.a,"DataView"),Lt=L(i.a,"Promise"),Bt=L(i.a,"Set"),Vt=L(i.a,"WeakMap"),zt=D(Rt),jt=D(B),Ht=D(Lt),Wt=D(Bt),Ut=D(Vt),$t=h;(Rt&&"[object DataView]"!=$t(new Rt(new ArrayBuffer(1)))||B&&"[object Map]"!=$t(new B)||Lt&&"[object Promise]"!=$t(Lt.resolve())||Bt&&"[object Set]"!=$t(new Bt)||Vt&&"[object WeakMap]"!=$t(new Vt))&&($t=function(t){var e=h(t),n="[object Object]"==e?t.constructor:void 0,i=n?D(n):"";if(i)switch(i){case zt:return"[object DataView]";case jt:return"[object Map]";case Ht:return"[object Promise]";case Wt:return"[object Set]";case Ut:return"[object WeakMap]"}return e});var Yt=$t,qt=Object.prototype.hasOwnProperty,Gt=i.a.Uint8Array,Xt=function(t){var e=new t.constructor(t.byteLength);return new Gt(e).set(new Gt(t)),e},Kt=/\w*$/,Zt=l?l.prototype:void 0,Qt=Zt?Zt.valueOf:void 0,Jt=function(t,e){var n=e?Xt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},te=Object.create,ee=function(){function t(){}return function(e){if(!M(e))return{};if(te)return te(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ne=function(t){return"function"!=typeof t.constructor||vt(t)?{}:ee(p(t))},ie=dt.a&&dt.a.isMap,le=ie?ht(ie):function(t){return m(t)&&"[object Map]"==Yt(t)},se=dt.a&&dt.a.isSet,re=se?ht(se):function(t){return m(t)&&"[object Set]"==Yt(t)},oe={};oe["[object Arguments]"]=oe["[object Array]"]=oe["[object ArrayBuffer]"]=oe["[object DataView]"]=oe["[object Boolean]"]=oe["[object Date]"]=oe["[object Float32Array]"]=oe["[object Float64Array]"]=oe["[object Int8Array]"]=oe["[object Int16Array]"]=oe["[object Int32Array]"]=oe["[object Map]"]=oe["[object Number]"]=oe["[object Object]"]=oe["[object RegExp]"]=oe["[object Set]"]=oe["[object String]"]=oe["[object Symbol]"]=oe["[object Uint8Array]"]=oe["[object Uint8ClampedArray]"]=oe["[object Uint16Array]"]=oe["[object Uint32Array]"]=!0,oe["[object Error]"]=oe["[object Function]"]=oe["[object WeakMap]"]=!1;var ae=function t(e,n,i,l,s,r){var o,a=1&n,u=2&n,c=4&n;if(i&&(o=s?i(e,l,s,r):i(e)),void 0!==o)return o;if(!M(e))return e;var h=st(e);if(h){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&qt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!a)return St(e,o)}else{var d=Yt(e),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(rt.a)(e))return Object(Tt.a)(e,a);if("[object Object]"==d||"[object Arguments]"==d||p&&!s){if(o=u||p?{}:ne(e),!a)return u?function(t,e){return J(t,Dt(t),e)}(e,function(t,e){return t&&J(e,Ct(e),t)}(o,e)):function(t,e){return J(t,Et(t),e)}(e,function(t,e){return t&&J(e,kt(e),t)}(o,e))}else{if(!oe[d])return s?e:{};o=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return Xt(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return function(t,e){var n=e?Xt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Jt(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,Kt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new i;case"[object Symbol]":return function(t){return Qt?Object(Qt.call(t)):{}}(t)}}(e,d,a)}}r||(r=new G);var m=r.get(e);if(m)return m;r.set(e,o),re(e)?e.forEach((function(l){o.add(t(l,n,i,l,e,r))})):le(e)&&e.forEach((function(l,s){o.set(s,t(l,n,i,s,e,r))}));var g=c?u?Nt:Ft:u?keysIn:kt,f=h?void 0:g(e);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(f||e,(function(l,s){f&&(l=e[s=l]),Q(o,s,t(l,n,i,s,e,r))})),o},ue=function(t,e){return ae(t,5,e="function"==typeof e?e:void 0)},ce=function(t){return m(t)&&1===t.nodeType&&!w(t)};class he{constructor(t,e){this._config={},e&&this.define(de(e)),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}*names(){for(const t of Object.keys(this._config))yield t}_setToTarget(t,e,n,i=!1){if(w(e))return void this._setObjectToTarget(t,e,i);const l=e.split(".");e=l.pop();for(const s of l)w(t[s])||(t[s]={}),t=t[s];if(w(n))return w(t[e])||(t[e]={}),void this._setObjectToTarget(t=t[e],n,i);i&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const i of n){if(!w(t[i])){t=null;break}t=t[i]}return t?de(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],n)})}}function de(t){return ue(t,pe)}function pe(t){return ce(t)?t:void 0}var me=function(){return function t(){t.called=!0}};class ge{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=me(),this.off=me()}}const fe=new Array(256).fill().map((t,e)=>("0"+e.toString(16)).slice(-2));function be(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+fe[t>>0&255]+fe[t>>8&255]+fe[t>>16&255]+fe[t>>24&255]+fe[e>>0&255]+fe[e>>8&255]+fe[e>>16&255]+fe[e>>24&255]+fe[n>>0&255]+fe[n>>8&255]+fe[n>>16&255]+fe[n>>24&255]+fe[i>>0&255]+fe[i>>8&255]+fe[i>>16&255]+fe[i>>24&255]}var ve={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},ye=(n(6),n(0));const we=Symbol("listeningTo"),xe=Symbol("emitterId");var ke={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;this.listenTo(this,t,(function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))}),n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let l,s;this[we]||(this[we]={});const r=this[we];Ce(t)||_e(t);const o=Ce(t);(l=r[o])||(l=r[o]={emitter:t,callbacks:{}}),(s=l.callbacks[e])||(s=l.callbacks[e]=[]),s.push(n),function(t,e){const n=Te(t);if(n[e])return;let i=e,l=null;const s=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},s.push(n[i]),l&&n[i].childEvents.push(l),l=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of s)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(l)}}(t,e);const a=Se(t,e),u=ve.get(i.priority),c={callback:n,priority:u};for(const h of a){let t=!1;for(let e=0;e<h.length;e++)if(h[e].priority<u){h.splice(e,0,c),t=!0;break}t||h.push(c)}},stopListening(t,e,n){const i=this[we];let l=t&&Ce(t);const s=i&&l&&i[l],r=s&&e&&s.callbacks[e];if(!(!i||t&&!s||e&&!r))if(n)Pe(t,e,n);else if(r){for(;n=r.pop();)Pe(t,e,n);delete s.callbacks[e]}else if(s){for(e in s.callbacks)this.stopListening(t,e);delete i[l]}else{for(l in i)this.stopListening(i[l].emitter);delete this[we]}},fire(t,...e){try{const n=t instanceof ge?t:new ge(this,t),i=n.name;let l=function t(e,n){let i;return e._events&&(i=e._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null}(this,i);if(n.path.push(this),l){const t=[n,...e];l=Array.from(l);for(let e=0;e<l.length&&(l[e].callback.apply(this,t),n.off.called&&(delete n.off.called,Pe(this,i,l[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(i),l=this._delegations.get("*");t&&Me(t,n,e),l&&Me(l,n,e)}return n.return}catch(t){ye.b.rethrowUnexpectedError(t,this)}},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function _e(t,e){t[xe]||(t[xe]=e||be())}function Ce(t){return t[xe]}function Te(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function Se(t,e){const n=Te(t)[e];if(!n)return[];let i=[n.callbacks];for(let l=0;l<n.childEvents.length;l++){const e=Se(t,n.childEvents[l]);i=i.concat(e)}return i}function Me(t,e,n){for(let[i,l]of t){l?"function"==typeof l&&(l=l(e.name)):l=e.name;const t=new ge(e.source,l);t.path=[...e.path],i.fire(t,...n)}}function Pe(t,e,n){const i=Se(t,e);for(const l of i)for(let t=0;t<l.length;t++)l[t].callback==n&&(l.splice(t,1),t--)}function Ae(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)})})}class Ee{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const i=this._idProperty;if(i in t){if("string"!=typeof(n=t[i]))throw new ye.b("collection-add-invalid-id",this);if(this.get(n))throw new ye.b("collection-add-item-already-exists",this)}else t[i]=n=be();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new ye.b("collection-add-item-invalid-index",this);return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new ye.b("collection-get-invalid-arg: Index or id must be given.",this);e=this._items[t]}return e||null}has(t){return this._itemMap.has("string"==typeof t?t:t[this._idProperty])}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,i,l=!1;const s=this._idProperty;if("string"==typeof t?(l=!(i=this._itemMap.get(n=t)),i&&(e=this._items.indexOf(i))):"number"==typeof t?(l=!(i=this._items[e=t]),i&&(n=i[s])):(n=(i=t)[s],l=-1==(e=this._items.indexOf(i))||!this._itemMap.get(n)),l)throw new ye.b("collection-remove-404: Item not found.",this);this._items.splice(e,1),this._itemMap.delete(n);const r=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(r),this.fire("remove",i,e),i}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new ye.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{this._setUpBindToBinding("function"==typeof t?e=>t(e):e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,l)=>{const s=e._bindToCollection==this,r=e._bindToInternalToExternalMap.get(i);if(s&&r)this._bindToExternalToInternalMap.set(i,r),this._bindToInternalToExternalMap.set(r,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(l);let s=l;for(const t of this._skippedIndexesFromExternal)l>t&&s--;for(const t of e._skippedIndexesFromExternal)s>=t&&s++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,s);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)s<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const i of e)n(0,i,e.getIndex(i));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}Ae(Ee,ke);class Ie{constructor(t,e=[],n=[]){this._context=t,this._plugins=new Map,this._availablePlugins=new Map;for(const i of e)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,l]of n)this._contextPlugins.set(i,l),this._contextPlugins.set(l,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){let e=t;throw"function"==typeof t&&(e=t.pluginName||t.name),new ye.b("plugincollection-plugin-not-loaded: The requested plugin is not loaded.",this._context,{plugin:e})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const n=this,i=this._context,l=new Set,s=[],r=h(t),o=h(e),a=function(t){const e=[];for(const n of t)c(n)||e.push(n);return e.length?e:null}(t);if(a){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(ye.a)(t),{plugins:a}),Promise.reject(new ye.b(t,i,{plugins:a}))}return Promise.all(r.map((function t(r){if(!o.includes(r)&&!n._plugins.has(r)&&!l.has(r))return function(r){return new Promise(o=>{l.add(r),r.requires&&r.requires.forEach(n=>{const l=c(n);if(r.isContextPlugin&&!l.isContextPlugin)throw new ye.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:l.name,requiredBy:r.name});if(e.includes(l))throw new ye.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:l.name,requiredBy:r.name});t(l)});const a=n._contextPlugins.get(r)||new r(i);n._add(r,a),s.push(a),o()})}(r).catch(t=>{throw console.error(Object(ye.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:r}),t})}))).then(()=>u(s,"init")).then(()=>u(s,"afterInit")).then(()=>s);function u(t,e){return t.reduce((t,i)=>i[e]?n._contextPlugins.has(i)?t:t.then(i[e].bind(i)):t,Promise.resolve())}function c(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function h(t){return t.map(t=>c(t)).filter(t=>!!t)}}destroy(){const t=[];for(const[,e]of this)"function"!=typeof e.destroy||this._contextPlugins.has(e)||t.push(e.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;if(n){if(this._plugins.has(n))throw new ye.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t});this._plugins.set(n,e)}}}Ae(Ie,ke),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const De=["ar","fa","he","ku","ug"];class Oe{constructor(t={}){this.uiLanguage=t.uiLanguage||"en",this.contentLanguage=t.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Fe(this.uiLanguage),this.contentLanguageDirection=Fe(this.contentLanguage),this.t=(...t)=>this._t(...t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(t,e){let n=function(t,e){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/,""):e.replace(/ \[context: [^\]]+\]$/,"")}(this.uiLanguage,t);return e&&(n=n.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)),n}}function Fe(t){return De.includes(t)?"rtl":"ltr"}class Ne{constructor(t){this.config=new he(t,this.constructor.defaultConfig);const e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new Ie(this,e);const n=this.config.get("language")||{};this.locale=new Oe({uiLanguage:"string"==typeof n?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Ee,this._contextOwner=null}initPlugins(){const t=this.config.get("plugins")||[];for(const e of t){if("function"!=typeof e)throw new ye.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:e});if(!0!==e.isContextPlugin)throw new ye.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:e})}return this.plugins.init(t)}destroy(){return Promise.all(Array.from(this.editors,t=>t.destroy())).then(()=>this.plugins.destroy())}_addEditor(t,e){if(this._contextOwner)throw new ye.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(t),e&&(this._contextOwner=t)}_removeEditor(t){return this.editors.has(t)&&this.editors.remove(t),this._contextOwner===t?this.destroy():Promise.resolve()}_getEditorConfig(){const t={};for(const e of this.config.names())["plugins","removePlugins","extraPlugins"].includes(e)||(t[e]=this.config.get(e));return t}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>n))})}}function Re(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var Le=function(t){return ae(t,4)};class Be{constructor(t){this.document=t,this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new ye.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let l=0;for(;n[l]==i[l]&&n[l];)l++;return 0===l?null:n[l-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Re(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=Le(this);return delete t.parent,t}is(t){return"node"==t||"view:node"==t}}Ae(Be,ke);class Ve extends Be{constructor(t,e){super(t),this._textData=e}is(t){return"text"==t||"view:text"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof Ve&&(this===t||this.data===t.data)}_clone(){return new Ve(this.document,this.data)}}class ze{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new ye.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.data.length)throw new ye.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t||"view:textProxy"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function je(t){return!(!t||!t[Symbol.iterator])}function He(t){return je(t)?new Map(t):function(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}(t)}class We{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=Ue(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=Ue(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function Ue(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){return t instanceof RegExp?t.test(e):t===e}(e.name,t.name),!n.name)||e.attributes&&(n.attributes=function(t,e){const n=[];for(const i in t){const l=t[i];if(!e.hasAttribute(i))return null;{const t=e.getAttribute(i);if(!0===l)n.push(i);else if(l instanceof RegExp){if(!l.test(t))return null;n.push(i)}else{if(t!==l)return null;n.push(i)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const i of t)if(i instanceof RegExp){const t=e.getClassNames();for(const e of t)i.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(i))return null;n.push(i)}return n}(e.classes,t),!n.classes))&&!(e.styles&&(n.styles=function(t,e){const n=[];for(const i in t){const l=t[i];if(!e.hasStyle(i))return null;{const t=e.getStyle(i);if(l instanceof RegExp){if(!l.test(t))return null;n.push(i)}else{if(t!==l)return null;n.push(i)}}}return n}(e.styles,t),!n.styles))&&n}var $e=function(t){return"symbol"==typeof t||m(t)&&"[object Symbol]"==h(t)},Ye=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qe=/^\w*$/;function Ge(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,l=e?e.apply(this,i):i[0],s=n.cache;if(s.has(l))return s.get(l);var r=t.apply(this,i);return n.cache=s.set(l,r)||s,r};return n.cache=new(Ge.Cache||Y),n}Ge.Cache=Y;var Xe=Ge,Ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ze=/\\(\\)?/g,Qe=function(t){var e=Xe((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ke,(function(t,n,i,l){e.push(i?l.replace(Ze,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}(),Je=l?l.prototype:void 0,tn=Je?Je.toString:void 0,en=function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(st(e))return function(t,e){for(var n=-1,i=null==t?0:t.length,l=Array(i);++n<i;)l[n]=e(t[n],n,t);return l}(e,t)+"";if($e(e))return tn?tn.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)},nn=function(t,e){return st(t)?t:function(t,e){if(st(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!$e(t))||qe.test(t)||!Ye.test(t)||null!=e&&t in Object(e)}(t,e)?[t]:Qe(en(t))},ln=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},sn=function(t){if("string"==typeof t||$e(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},rn=function(t,e){for(var n=0,i=(e=nn(e,t)).length;null!=t&&n<i;)t=t[sn(e[n++])];return n&&n==i?t:void 0},on=function(t,e,n){var i=-1,l=t.length;e<0&&(e=-e>l?0:l+e),(n=n>l?l:n)<0&&(n+=l),l=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(l);++i<l;)s[i]=t[i+e];return s},an=function(t,e){return null==t||function(t,e){return null==(t=function(t,e){return e.length<2?t:rn(t,on(e,0,-1))}(t,e=nn(e,t)))||delete t[sn(ln(e))]}(t,e)},un=function(t,e,n){var i=null==t?void 0:rn(t,e);return void 0===i?n:i},cn=function(t,e,n){(void 0!==n&&!x(t[e],n)||void 0===n&&!(e in t))&&K(t,e,n)},hn=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},dn=function(t){return t},pn=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},mn=Math.max,gn=function(t){return function(){return t}},fn=Date.now,bn=function(t){var e=0,n=0;return function(){var i=fn(),l=16-(i-n);if(n=i,l>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(X?function(t,e){return X(t,"toString",{configurable:!0,enumerable:!1,value:gn(e),writable:!0})}:dn),vn=function(t){return function(t,e){return bn(function(t,e,n){return e=mn(void 0===e?t.length-1:e,0),function(){for(var i=arguments,l=-1,s=mn(i.length-e,0),r=Array(s);++l<s;)r[l]=i[e+l];l=-1;for(var o=Array(e+1);++l<e;)o[l]=i[l];return o[e]=n(r),pn(t,this,o)}}(t,void 0,dn),t+"")}((function(e,n){var i=-1,l=n.length,s=l>1?n[l-1]:void 0,r=l>2?n[2]:void 0;for(s=t.length>3&&"function"==typeof s?(l--,s):void 0,r&&function(t,e,n){if(!M(n))return!1;var i=typeof e;return!!("number"==i?xt(n)&&at(e,n.length):"string"==i&&e in n)&&x(n[e],t)}(n[0],n[1],r)&&(s=l<3?void 0:s,l=1),e=Object(e);++i<l;){var o=n[i];o&&t(e,o,i,s)}return e}))},yn=vn((function(t,e,n){!function t(e,n,i,l,s){e!==n&&function(t,e,n){for(var i=-1,l=Object(t),s=n(t),r=s.length;r--;){var o=s[++i];if(!1===e(l[o],o))break}}(n,(function(r,o){if(s||(s=new G),M(r))!function(t,e,n,i,l,s,r){var o=hn(t,n),a=hn(e,n),u=r.get(a);if(u)cn(t,n,u);else{var c=s?s(o,a,n+"",t,e,r):void 0,h=void 0===c;if(h){var d=st(a),p=!d&&Object(rt.a)(a),g=!d&&!p&&mt(a);c=a,d||p||g?st(o)?c=o:function(t){return m(t)&&xt(t)}(o)?c=St(o):p?(h=!1,c=Object(Tt.a)(a,!0)):g?(h=!1,c=Jt(a,!0)):c=[]:w(a)||lt(a)?(c=o,lt(o)?c=function(t){return J(t,Ct(t))}(o):M(o)&&!P(o)||(c=ne(a))):h=!1}h&&(r.set(a,c),l(c,a,i,s,r),r.delete(a)),cn(t,n,c)}}(e,n,o,i,t,l,s);else{var a=l?l(hn(e,o),r,o+"",e,n,s):void 0;void 0===a&&(a=r),cn(e,o,a)}}),Ct)}(t,e,n)})),wn=function(t,e,n){return null==t?t:function(t,e,n,i){if(!M(t))return t;for(var l=-1,s=(e=nn(e,t)).length,r=s-1,o=t;null!=o&&++l<s;){var a=sn(e[l]),u=n;if(l!=r){var c=o[a];void 0===(u=void 0)&&(u=M(c)?c:at(e[l+1])?[]:{})}Q(o,a,u),o=o[a]}return t}(t,e,n)};class xn{constructor(t){this._styles={},this._styleProcessor=t}get isEmpty(){const t=Object.entries(this._styles);return!Array.from(t).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(t){this.clear();const e=Array.from(function(t){let e=null,n=0,i=0,l=null;const s=new Map;if(""===t)return s;";"!=t.charAt(t.length-1)&&(t+=";");for(let r=0;r<t.length;r++){const o=t.charAt(r);if(null===e)switch(o){case":":l||(l=t.substr(n,r-n),i=r+1);break;case'"':case"'":e=o;break;case";":{const e=t.substr(i,r-i);l&&s.set(l.trim(),e.trim()),l=null,n=r+1;break}}else o===e&&(e=null)}return s}(t).entries());for(const[n,i]of e)this._styleProcessor.toNormalizedForm(n,i,this._styles)}has(t){if(this.isEmpty)return!1;const e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(e)}set(t,e){if(M(t))for(const[n,i]of Object.entries(t))this._styleProcessor.toNormalizedForm(n,i,this._styles);else this._styleProcessor.toNormalizedForm(t,e,this._styles)}remove(t){const e=_n(t);an(this._styles,e),delete this._styles[t],this._cleanEmptyObjectsOnPath(e)}getNormalized(t){return this._styleProcessor.getNormalized(t,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(t=>t.join(":")).sort().join(";")+";"}getAsString(t){if(this.isEmpty)return;if(this._styles[t]&&!M(this._styles[t]))return this._styles[t];const e=this._styleProcessor.getReducedForm(t,this._styles).find(([e])=>e===t);return Array.isArray(e)?e[1]:void 0}getStyleNames(){return this.isEmpty?[]:this._getStylesEntries().map(([t])=>t)}clear(){this._styles={}}_getStylesEntries(){const t=[],e=Object.keys(this._styles);for(const n of e)t.push(...this._styleProcessor.getReducedForm(n,this._styles));return t}_cleanEmptyObjectsOnPath(t){const e=t.split(".");if(!(e.length>1))return;const n=e.splice(0,e.length-1).join("."),i=un(this._styles,n);i&&!Array.from(Object.keys(i)).length&&this.remove(n)}}class kn{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(t,e,n){if(M(e))Cn(n,_n(t),e);else if(this._normalizers.has(t)){const i=this._normalizers.get(t),{path:l,value:s}=i(e);Cn(n,l,s)}else Cn(n,t,e)}getNormalized(t,e){if(!t)return yn({},e);if(void 0!==e[t])return e[t];if(this._extractors.has(t)){const n=this._extractors.get(t);if("string"==typeof n)return un(e,n);const i=n(t,e);if(i)return i}return un(e,_n(t))}getReducedForm(t,e){const n=this.getNormalized(t,e);return void 0===n?[]:this._reducers.has(t)?this._reducers.get(t)(n):[[t,n]]}getRelatedStyles(t){return this._consumables.get(t)||[]}setNormalizer(t,e){this._normalizers.set(t,e)}setExtractor(t,e){this._extractors.set(t,e)}setReducer(t,e){this._reducers.set(t,e)}setStyleRelation(t,e){this._mapStyleNames(t,e);for(const n of e)this._mapStyleNames(n,[t])}_mapStyleNames(t,e){this._consumables.has(t)||this._consumables.set(t,[]),this._consumables.get(t).push(...e)}}function _n(t){return t.replace("-",".")}function Cn(t,e,n){let i=n;M(n)&&(i=yn({},un(t,e),n)),wn(t,e,i)}class Tn extends Be{constructor(t,e,n,i){if(super(t),this.name=e,this._attrs=function(t){t=He(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");Sn(this._classes,t),this._attrs.delete("class")}this._styles=new xn(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){const n=t.replace(/^view:/,"");return e?"element"==n&&e==this.name:"element"==n||n==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==t){const t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(t)}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?!this._styles.isEmpty:this._attrs.has(t)}isSimilar(t){if(!(t instanceof Tn))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const e of this._styles.getStyleNames())if(!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e))return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.getAsString(t)}getNormalizedStyle(t){return this._styles.getNormalized(t)}getStyleNames(){return this._styles.getStyleNames()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new We(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=this._styles.toString(),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(e?` style="${e}"`:"")+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const i of this.getChildren())e.push(i._clone(t));const n=new this.constructor(this.document,this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){return"string"==typeof e?[new Ve(t,e)]:(je(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Ve(t,e):e instanceof ze?new Ve(t,e.data):e))}(this.document,e);for(const l of i)null!==l.parent&&l._remove(),l.parent=this,l.document=this.document,this._children.splice(t,0,l),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?Sn(this._classes,e):"style"==t?this._styles.setTo(e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.delete(t))}_setStyle(t,e){this._fireChange("attributes",this),this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._styles.remove(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function Sn(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}class Mn extends Tn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Pn}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"containerElement"==n&&e==this.name||super.is(t,e):"containerElement"==n||super.is(t)}}function Pn(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const n of t)if(!n.is("uiElement"))return null;return this.childCount}var An=vn((function(t,e){J(e,Ct(e),t)}));const En=Symbol("observableProperties"),In=Symbol("boundObservables"),Dn=Symbol("boundProperties"),On={set(t,e){if(M(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);Nn(this);const n=this[En];if(t in this&&!n.has(t))throw new ye.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let l=this.fire("set:"+t,t,e,i);void 0===l&&(l=e),i===l&&n.has(t)||(n.set(t,l),this.fire("change:"+t,t,l,i))}}),this[t]=e},bind(...t){if(!t.length||!Bn(t))throw new ye.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(t).size!==t.length)throw new ye.b("observable-bind-duplicate-properties: Properties must be unique.",this);Nn(this);const e=this[Dn];t.forEach(t=>{if(e.has(t))throw new ye.b("observable-bind-rebind: Cannot bind the same property more than once.",this)});const n=new Map;return t.forEach(t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)}),{to:Rn,toMany:Ln,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(En in this))return;const e=this[Dn],n=this[In];if(t.length){if(!Bn(t))throw new ye.b("observable-unbind-wrong-properties: Properties must be strings.",this);t.forEach(t=>{const i=e.get(t);if(!i)return;let l,s,r,o;i.to.forEach(t=>{s=t[1],r=n.get(l=t[0]),(o=r[s]).delete(i),o.size||delete r[s],Object.keys(r).length||(n.delete(l),this.stopListening(l,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new ye.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};An(On,ke);var Fn=On;function Nn(t){En in t||(Object.defineProperty(t,En,{value:new Map}),Object.defineProperty(t,In,{value:new Map}),Object.defineProperty(t,Dn,{value:new Map}))}function Rn(...t){const e=function(...t){if(!t.length)throw new ye.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);const e={to:[]};let n;return"function"==typeof t[t.length-1]&&(e.callback=t.pop()),t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new ye.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);e.to.push(n={observable:t,properties:[]})}}),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new ye.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(i>1&&e.callback)throw new ye.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var l;e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==i)throw new ye.b("observable-bind-to-properties-length: The number of properties must match.",this);t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),l=this._observable,this._to.forEach(t=>{const e=l[In];let n;e.get(t.observable)||l.listenTo(t.observable,"change",(i,s)=>{(n=e.get(t.observable)[s])&&n.forEach(t=>{Vn(l,t.property)})})}),function(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(l=>{e=l.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([l.observable,e]),function(t,e,n,i){const l=t[In],s=l.get(n),r=s||{};r[i]||(r[i]=new Set),r[i].add(e),s||l.set(n,r)}(t._observable,n,l.observable,e)})})}(this),this._bindProperties.forEach(t=>{Vn(this._observable,t)})}function Ln(t,e,n){if(this._bindings.size>1)throw new ye.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function Bn(t){return t.every(t=>"string"==typeof t)}function Vn(t,e){const n=t[Dn].get(e);let i;i=n.callback?n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(i=n.to[0])[0][i[1]],t.hasOwnProperty(e)?t[e]=i:t.set(e,i)}class zn extends Mn{constructor(t,e,n,i){super(t,e,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"editableElement"==n&&e==this.name||super.is(t,e):"editableElement"==n||super.is(t)}destroy(){this.stopListening()}}Ae(zn,Fn);const jn=Symbol("rootName");class Hn extends zn{constructor(t,e){super(t,e),this.rootName="main"}is(t,e=null){const n=t.replace(/^view:/,"");return e?"rootElement"==n&&e==this.name||super.is(t,e):"rootElement"==n||super.is(t)}get rootName(){return this.getCustomProperty(jn)}set rootName(t){this._setCustomProperty(jn,t)}set _name(t){this.name=t}}class Wn{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new ye.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new ye.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,this.position=Un._createAt(t.startPosition?t.startPosition:t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let i;if(n instanceof Ve){if(t.isAtEnd)return this.position=Un._createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if(i instanceof Tn)return this.shallow?t.offset++:t=new Un(i,0),this.position=t,this._formatReturnValue("elementStart",i,e,t,1);if(i instanceof Ve){if(this.singleCharacters)return t=new Un(i,0),this.position=t,this._next();{let n,l=i.data.length;return i==this._boundaryEndParent?(n=new ze(i,0,l=this.boundaries.end.offset),t=Un._createAfter(n)):(n=new ze(i,0,i.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,l)}}if("string"==typeof i){let i;const l=new ze(n,t.offset,i=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset);return t.offset+=i,this.position=t,this._formatReturnValue("text",l,e,t,i)}return t=Un._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let i;if(n instanceof Ve){if(t.isAtStart)return this.position=Un._createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if(i instanceof Tn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new Un(i,i.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof Ve){if(this.singleCharacters)return t=new Un(i,i.data.length),this.position=t,this._previous();{let n,l=i.data.length;if(i==this._boundaryStartParent){const e=this.boundaries.start.offset;l=(n=new ze(i,e,i.data.length-e)).data.length,t=Un._createBefore(n)}else n=new ze(i,0,i.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,l)}}if("string"==typeof i){let i;t.offset-=i=this.singleCharacters?1:t.offset-(n===this._boundaryStartParent?this.boundaries.start.offset:0);const l=new ze(n,t.offset,i);return this.position=t,this._formatReturnValue("text",l,e,t,i)}return t=Un._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,l){return e instanceof ze&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Un._createAfter(e.textNode):(i=Un._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Un._createBefore(e.textNode):(i=Un._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:l}}}}class Un{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof zn);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=Un._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Wn(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}is(t){return"position"==t||"view:position"==t}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=Re(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Wn(t)}clone(){return new Un(this.parent,this.offset)}static _createAt(t,e){if(t instanceof Un)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new ye.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",n)}return new Un(n,e)}}static _createAfter(t){if(t.is("textProxy"))return new Un(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new ye.b("view-position-after-root: You can not make position after root.",t,{root:t});return new Un(t.parent,t.index+1)}static _createBefore(t){if(t.is("textProxy"))return new Un(t.textNode,t.offsetInText);if(!t.parent)throw new ye.b("view-position-before-root: You can not make position before root.",t,{root:t});return new Un(t.parent,t.index)}}class $n{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Wn({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Yn,{direction:"backward"}),e=this.end.getLastMatchingPosition(Yn);return t.parent.is("text")&&t.isAtStart&&(t=Un._createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=Un._createAfter(e.parent)),new $n(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Yn);if(t.isAfter(this.end)||t.isEqual(this.end))return new $n(t,t);let e=this.end.getLastMatchingPosition(Yn,{direction:"backward"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("text")&&(t=new Un(n,0)),i&&i.is("text")&&(e=new Un(i,i.data.length)),new $n(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new $n(this.start,t.start)),this.containsPosition(t.end)&&e.push(new $n(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new $n(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Wn(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let t=this.start.nodeAfter,e=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(t=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(e=this.end.parent.previousSibling),t&&t.is("element")&&t===e?t:null}clone(){return new $n(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Wn(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new Wn(t);yield e.position;for(const n of e)yield n.nextPosition}is(t){return"range"==t||"view:range"==t}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,i){return new this(new Un(t,e),new Un(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(Un._createBefore(t),e)}}function Yn(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function qn(t){let e=0;for(const n of t)e++;return e}class Gn{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=qn(this.getRanges());if(e!=qn(t.getRanges()))return!1;if(0==e)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let e=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),n.start.isEqual(i.start)&&n.end.isEqual(i.end)){e=!0;break}if(!e)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof Gn||t instanceof Xn)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof $n)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof Un)this._setRanges([new $n(t)]),this._setFakeOptions(e);else if(t instanceof Be){const i=!!n&&!!n.backward;let l;if(void 0===e)throw new ye.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);l="in"==e?$n._createIn(t):"on"==e?$n._createOn(t):new $n(Un._createAt(t,e)),this._setRanges([l],i),this._setFakeOptions(n)}else{if(!je(t))throw new ye.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new ye.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);const n=Un._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new $n(n,i),!0):this._addRange(new $n(i,n)),this.fire("change")}is(t){return"selection"==t||"view:selection"==t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const n of t)this._addRange(n);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof $n))throw new ye.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new ye.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:t,intersectingRange:e});this._ranges.push(new $n(t.start,t.end))}}Ae(Gn,ke);class Xn{constructor(t=null,e,n){this._selection=new Gn,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"==t||"documentSelection"==t||"view:selection"==t||"view:documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}Ae(Xn,ke);class Kn{constructor(t){this.selection=new Xn,this.roots=new Ee({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}Ae(Kn,Fn);class Zn extends Tn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=Qn,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new ye.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}is(t,e=null){const n=t&&t.replace(/^view:/,"");return e?"attributeElement"==n&&e==this.name||super.is(t,e):"attributeElement"==n||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function Qn(){if(Jn(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(Jn(t)>1)return null;t=t.parent}return!t||Jn(t)>1?null:this.childCount}function Jn(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}Zn.DEFAULT_PRIORITY=10;class ti extends Tn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=ei}is(t,e=null){const n=t.replace(/^view:/,"");return e?"emptyElement"==n&&e==this.name||super.is(t,e):"emptyElement"==n||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Be||Array.from(e).length>0))throw new ye.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,e])}}function ei(){return null}const ni=navigator.userAgent.toLowerCase();var ii={isMac:function(t){return t.indexOf("macintosh")>-1}(ni),isEdge:function(t){return!!t.match(/edge\/(\d+.?\d*)/)}(ni),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(ni),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(ni),isAndroid:function(t){return t.indexOf("android")>-1}(ni),features:{isRegExpUnicodePropertySupported:function(){let t=!1;try{t=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(t){}return t}()}};const li={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},si={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},ri=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++)t[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function oi(t){let e;if("string"==typeof t){if(!(e=ri[t.toLowerCase()]))throw new ye.b("keyboard-unknown-key: Unknown key name.",null,{key:t})}else e=t.keyCode+(t.altKey?ri.alt:0)+(t.ctrlKey?ri.ctrl:0)+(t.shiftKey?ri.shift:0);return e}function ai(t){return"string"==typeof t&&(t=ci(t)),t.map(t=>"string"==typeof t?oi(t):t).reduce((t,e)=>e+t,0)}function ui(t){return ii.isMac?ci(t).map(t=>si[t.toLowerCase()]||t).reduce((t,e)=>t.slice(-1)in li?t+e:t+"+"+e):t}function ci(t){return t.split(/\s*\+\s*/)}class hi extends Tn{constructor(t,e,n,i){super(t,e,n,i),this.getFillerOffset=di}is(t,e=null){const n=t.replace(/^view:/,"");return e?"uiElement"==n&&e==this.name||super.is(t,e):"uiElement"==n||super.is(t)}_insertChild(t,e){if(e&&(e instanceof Be||Array.from(e).length>0))throw new ye.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const n of this.getAttributeKeys())e.setAttribute(n,this.getAttribute(n));return e}}function di(){return null}class pi{constructor(t,e){this.document=t,this._children=[],e&&this._insertChild(0,e)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t||"view:documentFragment"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t,e){return"string"==typeof e?[new Ve(t,e)]:(je(e)||(e=[e]),Array.from(e).map(e=>"string"==typeof e?new Ve(t,e):e instanceof ze?new Ve(t,e.data):e))}(this.document,e);for(const l of i)null!==l.parent&&l._remove(),l.parent=this,this._children.splice(t,0,l),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}Ae(pi,ke);class mi{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new Ve(this.document,t)}createAttributeElement(t,e,n={}){const i=new Zn(this.document,t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e){return new Mn(this.document,t,e)}createEditableElement(t,e){const n=new zn(this.document,t,e);return n._document=this.document,n}createEmptyElement(t,e){return new ti(this.document,t,e)}createUIElement(t,e,n){const i=new hi(this.document,t,e);return n&&(i.render=n),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){w(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Un?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new ye.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!e.parent)throw new ye.b("view-writer-break-root: Trying to break root element.",this.document);if(t.isAtStart)return Un._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(Un._createAfter(e),n);const i=new $n(t,Un._createAt(e,"end")),l=new Un(n,0);this.move(i,l)}return Un._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Un(t,e))}const i=n.getChild(e-1),l=n.getChild(e);if(!i||!l)return t;if(i.is("text")&&l.is("text"))return yi(i,l);if(i.is("attributeElement")&&l.is("attributeElement")&&i.isSimilar(l)){const t=i.childCount;return i._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new Un(i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new ye.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);const i=e.getChild(e.childCount-1),l=Un._createAt(i instanceof Ve?i:e,"end");return this.move($n._createIn(n),Un._createAt(e,"end")),this.remove($n._createOn(n)),l}insert(t,e){!function t(e,n){for(const i of e){if(!wi.some(t=>i instanceof t))throw new ye.b("view-writer-insert-invalid-node",n);i.is("text")||t(i.getChildren(),n)}}(e=je(e)?[...e]:[e],this.document);const n=gi(t);if(!n)throw new ye.b("view-writer-invalid-position-container",this.document);const i=this._breakAttributes(t,!0),l=n._insertChild(i.offset,e);for(const o of e)this._addToClonedElementsGroup(o);const s=i.getShiftedBy(l),r=this.mergeAttributes(i);if(0===l)return new $n(r,r);{r.isEqual(i)||s.offset--;const t=this.mergeAttributes(s);return new $n(r,t)}}remove(t){const e=t instanceof $n?t:$n._createOn(t);if(ki(e,this.document),e.isCollapsed)return new pi(this.document);const{start:n,end:i}=this._breakAttributesRange(e,!0),l=n.parent._removeChildren(n.offset,i.offset-n.offset);for(const r of l)this._removeFromClonedElementsGroup(r);const s=this.mergeAttributes(n);return e.start=s,e.end=s.clone(),new pi(this.document,l)}clear(t,e){ki(t,this.document);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let l;if(n.is("element")&&e.isSimilar(n))l=$n._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(l=$n._createIn(t))}l&&(l.end.isAfter(t.end)&&(l.end=t.end),l.start.isBefore(t.start)&&(l.start=t.start),this.remove(l))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,l=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-l}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof Zn))throw new ye.b("view-writer-wrap-invalid-attribute",this.document);if(ki(t,this.document),t.isCollapsed){let n=t.start;n.parent.is("element")&&!Array.from(n.parent.getChildren()).some(t=>!t.is("uiElement"))&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new $n(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof Zn))throw new ye.b("view-writer-unwrap-invalid-attribute",this.document);if(ki(t,this.document),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),l=this._unwrapChildren(n.parent,n.offset,i.offset,e),s=this.mergeAttributes(l.start);s.isEqual(l.start)||l.end.offset--;const r=this.mergeAttributes(l.end);return new $n(s,r)}rename(t,e){const n=new Mn(this.document,t,e.getAttributes());return this.insert(Un._createAfter(e),n),this.move($n._createIn(e),Un._createAt(n,0)),this.remove($n._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Un._createAt(t,e)}createPositionAfter(t){return Un._createAfter(t)}createPositionBefore(t){return Un._createBefore(t)}createRange(t,e){return new $n(t,e)}createRangeOn(t){return $n._createOn(t)}createRangeIn(t){return $n._createIn(t)}createSelection(t,e,n){return new Gn(t,e,n)}_wrapChildren(t,e,n,i){let l=e;const s=[];for(;l<n;){const e=t.getChild(l),n=e.is("text"),r=e.is("attributeElement"),o=e.is("emptyElement"),a=e.is("uiElement");if(r&&this._wrapAttributeElement(i,e))s.push(new Un(t,l));else if(n||o||a||r&&fi(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(l,n),this._addToClonedElementsGroup(n),s.push(new Un(t,l))}else r&&this._wrapChildren(e,0,e.childCount,i);l++}let r=0;for(const o of s)o.offset-=r,o.offset!=e&&(this.mergeAttributes(o).isEqual(o)||(r++,n--));return $n._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let l=e;const s=[];for(;l<n;){const e=t.getChild(l);if(e.is("attributeElement"))if(e.isSimilar(i)){const i=e.getChildren(),r=e.childCount;e._remove(),t._insertChild(l,i),this._removeFromClonedElementsGroup(e),s.push(new Un(t,l),new Un(t,l+r)),l+=r,n+=r-1}else this._unwrapAttributeElement(i,e)?(s.push(new Un(t,l),new Un(t,l+1)),l++):(this._unwrapChildren(e,0,e.childCount,i),l++);else l++}let r=0;for(const o of s)o.offset-=r,o.offset!=e&&o.offset!=n&&(this.mergeAttributes(o).isEqual(o)||(r++,n--));return $n._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),l=this._wrapChildren(n.parent,n.offset,i.offset,e),s=this.mergeAttributes(l.start);s.isEqual(l.start)||l.end.offset--;const r=this.mergeAttributes(l.end);return new $n(s,r)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return bi(t.clone());t.parent.is("text")&&(t=vi(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,t.parent._insertChild(t.offset,n);const i=new $n(t,t.getShiftedBy(1));this.wrap(i,e);const l=new Un(n.parent,n.index);n._remove();const s=l.nodeBefore,r=l.nodeAfter;return s instanceof Ve&&r instanceof Ve?yi(s,r):bi(l)}_wrapAttributeElement(t,e){if(!_i(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!_i(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(ki(t,this.document),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new $n(n,n)}const l=this._breakAttributes(i,e),s=l.parent.childCount,r=this._breakAttributes(n,e);return l.offset+=l.parent.childCount-s,new $n(r,l)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new ye.b("view-writer-cannot-break-empty-element",this.document);if(t.parent.is("uiElement"))throw new ye.b("view-writer-cannot-break-ui-element",this.document);if(!e&&i.is("text")&&xi(i.parent))return t.clone();if(xi(i))return t.clone();if(i.is("text"))return this._breakAttributes(vi(t),e);if(n==i.childCount){const t=new Un(i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new Un(i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,l=i._clone();i.parent._insertChild(t,l),this._addToClonedElementsGroup(l);const s=i._removeChildren(n,i.childCount-n);l._appendChild(s);const r=new Un(i.parent,t);return this._breakAttributes(r,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const i of t.getChildren())this._addToClonedElementsGroup(i);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const i of t.getChildren())this._removeFromClonedElementsGroup(i);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function gi(t){let e=t.parent;for(;!xi(e);){if(!e)return;e=e.parent}return e}function fi(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function bi(t){const e=t.nodeBefore;if(e&&e.is("text"))return new Un(e,e.data.length);const n=t.nodeAfter;return n&&n.is("text")?new Un(n,0):t}function vi(t){if(t.offset==t.parent.data.length)return new Un(t.parent.parent,t.parent.index+1);if(0===t.offset)return new Un(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new Ve(t.root.document,e)),new Un(t.parent.parent,t.parent.index+1)}function yi(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Un(t,n)}const wi=[Ve,Zn,Mn,ti,hi];function xi(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function ki(t,e){const n=gi(t.start),i=gi(t.end);if(!n||!i||n!==i)throw new ye.b("view-writer-invalid-range-container",e)}function _i(t,e){return null===t.id&&null===e.id}function Ci(t){return"[object Text]"==Object.prototype.toString.call(t)}const Ti=t=>t.createTextNode("\xa0"),Si=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},Mi=(()=>{let t="";for(let e=0;e<7;e++)t+="\u200b";return t})();function Pi(t){return Ci(t)&&t.data.substr(0,7)===Mi}function Ai(t){return 7==t.data.length&&Pi(t)}function Ei(t){return Pi(t)?t.data.slice(7):t.data}function Ii(t,e){if(e.keyCode==ri.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;Pi(e)&&n<=7&&t.collapse(e,0)}}}function Di(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.from(t)),Array.isArray(e)||(e=Array.from(e));const l=function(t,e,n){const i=Oi(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const l=Oi(Fi(t,i),Fi(e,i),n);return{firstIndex:i,lastIndexOld:t.length-l,lastIndexNew:e.length-l}}(t,e,n);return i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:l}=t;if(-1===n)return Array(e).fill("equal");let s=[];return n>0&&(s=s.concat(Array(n).fill("equal"))),l-n>0&&(s=s.concat(Array(l-n).fill("insert"))),i-n>0&&(s=s.concat(Array(i-n).fill("delete"))),l<e&&(s=s.concat(Array(e-l).fill("equal"))),s}(l,e.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:l,lastIndexNew:s}=e;return s-i>0&&n.push({index:i,type:"insert",values:t.slice(i,s)}),l-i>0&&n.push({index:i+(s-i),type:"delete",howMany:l-i}),n}(e,l)}function Oi(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function Fi(t,e){return t.slice(e).reverse()}function Ni(t,e,n){n=n||function(t,e){return t===e};const i=t.length,l=e.length;if(i>200||l>200||i+l>300)return Ni.fastDiff(t,e,n,!0);let s,r;if(l<i){const n=t;t=e,e=n,s="delete",r="insert"}else s="insert",r="delete";const o=t.length,a=e.length,u=a-o,c={},h={};function d(i){const l=(void 0!==h[i-1]?h[i-1]:-1)+1,u=void 0!==h[i+1]?h[i+1]:-1,d=l>u?-1:1;c[i+d]&&(c[i]=c[i+d].slice(0)),c[i]||(c[i]=[]),c[i].push(l>u?s:r);let p=Math.max(l,u),m=p-i;for(;m<o&&p<a&&n(t[m],e[p]);)m++,p++,c[i].push("equal");return p}let p,m=0;do{for(p=-m;p<u;p++)h[p]=d(p);for(p=u+m;p>u;p--)h[p]=d(p);h[u]=d(u),m++}while(h[u]!==a);return c[u].slice(1)}function Ri(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Li(t){const e=t.parentNode;e&&e.removeChild(t)}function Bi(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}Ni.fastDiff=Di;class Vi{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new ye.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(e)}}}render(){let t;for(const e of this.markedChildren)this._updateChildrenMappings(e);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const e of this.markedAttributes)this._updateAttrs(e);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;this._inlineFiller=Pi(e.parent)?e.parent:zi(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),l=this._diffNodeLists(n,i),s=this._findReplaceActions(l,n,i);if(-1!==s.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const l of s)if("replace"===l){const l=e.equal+e.insert,s=e.equal+e.delete,r=t.getChild(l);r&&!r.is("uiElement")&&this._updateElementMappings(r,n[s]),Li(i[l]),e.equal++}else e[l]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("text")?Un._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Ci(e.parent)&&Pi(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Pi(t))throw new ye.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Ai(t)?t.parentNode.removeChild(t):t.data=t.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;return!(!this.domConverter.mapViewToDom(e.root)||!e.is("element")||!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e)||n===e.getFillerOffset()||t.nodeBefore instanceof Ve||t.nodeAfter instanceof Ve)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),l=n.data;let s=i.data;const r=e.inlineFillerPosition;if(r&&r.parent==t.parent&&r.offset==t.index&&(s=Mi+s),l!=s){const t=Di(l,s);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),i=t.getAttributeKeys();for(const l of i)e.setAttribute(l,t.getAttribute(l));for(const l of n)t.hasAttribute(l)||e.removeAttribute(l)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,l=this.domConverter.mapViewToDom(t).childNodes,s=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&zi(n.ownerDocument,s,i.offset);const r=this._diffNodeLists(l,s);let o=0;const a=new Set;for(const u of r)"delete"===u?(a.add(l[o]),Li(l[o])):"equal"===u&&o++;o=0;for(const u of r)"insert"===u?(Ri(n,o,s[o]),o++):"equal"===u&&(this._markDescendantTextToSync(this.domConverter.domToView(s[o])),o++);for(const u of a)u.parentNode||this.domConverter.unbindDomElement(u)}_diffNodeLists(t,e){return Ni(t=function(t,e){const n=Array.from(t);return 0!=n.length&&e?(n[n.length-1]==e&&n.pop(),n):n}(t,this._fakeSelectionContainer),e,Hi.bind(null,this.domConverter))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],l=[],s=[];const r={equal:0,insert:0,delete:0};for(const o of t)"insert"===o?s.push(n[r.equal+r.insert]):"delete"===o?l.push(e[r.equal+r.delete]):((i=i.concat(Ni(l,s,ji).map(t=>"equal"===t?"replace":t))).push("equal"),l=[],s=[]),r[o]++;return i.concat(Ni(l,s,ji).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(t){const e=t.createElement("div");return Object.assign(e.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),e.textContent="\xa0",e}(e));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(t))return;n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const i=e.getSelection(),l=e.createRange();i.removeAllRanges(),l.selectNodeContents(n),i.addRange(l)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),ii.isGecko&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return!(e&&this.selection.isEqual(e)||!this.selection.isCollapsed&&this.selection.isSimilar(e))}_fakeSelectionNeedsUpdate(t){const e=this._fakeSelectionContainer,n=t.ownerDocument.getSelection();return!e||e.parentElement!==t||n.anchorNode!==e&&!e.contains(n.anchorNode)||e.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const t of this.domDocuments)if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function zi(t,e,n){const i=e instanceof Array?e:e.childNodes,l=i[n];if(Ci(l))return l.data=Mi+l.data,l;{const l=t.createTextNode(Mi);return Array.isArray(e)?i.splice(n,0,l):Ri(e,n,l),l}}function ji(t,e){return Bi(t)&&Bi(e)&&!Ci(t)&&!Ci(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}function Hi(t,e,n){return e===n||(Ci(e)&&Ci(n)?e.data===n.data:!(!t.isBlockFiller(e)||!t.isBlockFiller(n)))}Ae(Vi,Fn);var Wi={window,document};function Ui(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function $i(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}const Yi=Si(document);class qi{constructor(t,e={}){this.document=t,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?Si:Ti,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Gn(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=t.hasAttribute("xmlns")?e.createElementNS(t.getAttribute("xmlns"),t.name):e.createElement(t.name),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const l of this.viewChildrenToDom(t,e,n))i.appendChild(l);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let l=0;for(const s of t.getChildren())i===l&&(yield this._blockFiller(e)),yield this.viewToDom(s,e,n),l++;i===l&&(yield this._blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return Pi(n)&&(i+=7),{parent:n,offset:i}}{let n,i,l;if(0===t.offset){if(!(n=this.mapViewToDom(e)))return null;l=n.childNodes[0]}else{const e=t.nodeBefore;if(!(i=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore)))return null;n=i.parentNode,l=i.nextSibling}return Ci(l)&&Pi(l)?{parent:l,offset:7}:{parent:n,offset:i?Ui(i)+1:0}}}domToView(t,e={}){if(this.isBlockFiller(t,this.blockFillerMode))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Ci(t)){if(Ai(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new Ve(this.document,e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new pi(this.document),e.bind&&this.bindDocumentFragments(t,n);else{const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new Tn(this.document,i),e.bind&&this.bindElements(t,n);const l=t.attributes;for(let t=l.length-1;t>=0;t--)n._setAttribute(l[t].name,l[t].value)}if(e.withChildren||void 0===e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=this.domToView(t.childNodes[n],e);null!==i&&(yield i)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Ci(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let i=0;i<t.rangeCount;i++){const e=t.getRangeAt(i),l=this.domRangeToView(e);l&&n.push(l)}return new Gn(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new $n(e,n):null}domPositionToView(t,e){if(this.isBlockFiller(t,this.blockFillerMode))return this.domPositionToView(t.parentNode,Ui(t));const n=this.mapDomToView(t);if(n&&n.is("uiElement"))return Un._createBefore(n);if(Ci(t)){if(Ai(t))return this.domPositionToView(t.parentNode,Ui(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(Pi(t)&&(i=(i-=7)<0?0:i),new Un(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new Un(e,0)}else{const n=t.childNodes[e-1],i=Ci(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new Un(i.parent,i.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Ai(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t)return t.nextSibling instanceof Ve?t.nextSibling:null}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof Ve?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=Wi.window,i=[];Xi(e,t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])}),e.focus(),Xi(e,t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n}),Wi.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isBlockFiller(t){return"br"==this.blockFillerMode?t.isEqualNode(Yi):!("BR"!==t.tagName||!Ki(t,this.blockElements)||1!==t.parentNode.childNodes.length)||function(t,e){return Ci(t)&&"\xa0"==t.data&&Ki(t,e)&&1===t.parentNode.childNodes.length}(t,this.blockElements)}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=$i(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(Ci(t)&&Pi(t)&&e<7)return!1;if(this.isElement(t)&&Pi(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);(!n||!this._nodeEndsWithSpace(n))&&n||(e="\xa0"+e.substr(1))}if(" "==e.charAt(e.length-1)){const n=this._getTouchingViewTextNode(t,!0);" "!=e.charAt(e.length-2)&&n&&" "!=n.data.charAt(0)||(e=e.substr(0,e.length-1)+"\xa0")}return e.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(Gi(t,this.preElements))return Ei(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),l=this._checkShouldLeftTrimDomText(n),s=this._checkShouldRightTrimDomText(t,i);return l&&(e=e.replace(/^ /,"")),s&&(e=e.replace(/ $/,"")),e=(e=Ei(new Text(e))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(e)||!i||i.data&&" "==i.data.charAt(0))&&(e=e.replace(/\u00A0$/," ")),l&&(e=e.replace(/^\u00A0/," ")),e}_checkShouldLeftTrimDomText(t){return!t||!!ce(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1))}_checkShouldRightTrimDomText(t,e){return!e&&!Pi(t)}_getTouchingViewTextNode(t,e){const n=new Wn({startPosition:e?Un._createAfter(t):Un._createBefore(t),direction:e?"forward":"backward"});for(const i of n){if(i.item.is("containerElement"))return null;if(i.item.is("br"))return null;if(i.item.is("textProxy"))return i.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",i=t.ownerDocument,l=$i(t)[0],s=i.createTreeWalker(l,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>Ci(t)||"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});s.currentNode=t;const r=s[n]();if(null!==r){const e=function(t,e){const n=$i(t),i=$i(e);let l=0;for(;n[l]==i[l]&&n[l];)l++;return 0===l?null:n[l-1]}(t,r);if(e&&!Gi(t,this.blockElements,e)&&!Gi(r,this.blockElements,e))return r}return null}}function Gi(t,e,n){let i=$i(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function Xi(t,e){for(;t&&t!=Wi.document;)e(t),t=t.parentNode}function Ki(t,e){const n=t.parentNode;return n&&n.tagName&&e.includes(n.tagName.toLowerCase())}function Zi(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var Qi=An({},ke,{listenTo(t,...e){if(Bi(t)||Zi(t)){const n=this._getProxyEmitter(t)||new Ji(t);n.attach(...e),t=n}ke.listenTo.call(this,t,...e)},stopListening(t,e,n){if(Bi(t)||Zi(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}ke.stopListening.call(this,t,e,n),t instanceof Ji&&t.detach(e)},_getProxyEmitter(t){return e=this,n=tl(t),e[we]&&e[we][n]?e[we][n].emitter:null;var e,n}});class Ji{constructor(t){_e(this,tl(t)),this._domNode=t}}function tl(t){return t["data-ck-expando"]||(t["data-ck-expando"]=be())}An(Ji.prototype,ke,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]},n}});class el{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}function nl(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Y;++e<n;)this.add(t[e])}Ae(el,Qi),nl.prototype.add=nl.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},nl.prototype.has=function(t){return this.__data__.has(t)};var il=nl,ll=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},sl=function(t,e){return t.has(e)},rl=function(t,e,n,i,l,s){var r=1&n,o=t.length,a=e.length;if(o!=a&&!(r&&a>o))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var c=-1,h=!0,d=2&n?new il:void 0;for(s.set(t,e),s.set(e,t);++c<o;){var p=t[c],m=e[c];if(i)var g=r?i(m,p,c,e,t,s):i(p,m,c,t,e,s);if(void 0!==g){if(g)continue;h=!1;break}if(d){if(!ll(e,(function(t,e){if(!sl(d,e)&&(p===t||l(p,t,n,i,s)))return d.push(e)}))){h=!1;break}}else if(p!==m&&!l(p,m,n,i,s)){h=!1;break}}return s.delete(t),s.delete(e),h},ol=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n},al=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},ul=l?l.prototype:void 0,cl=ul?ul.valueOf:void 0,hl=Object.prototype.hasOwnProperty,dl=Object.prototype.hasOwnProperty,pl=function t(e,n,i,l,s){return e===n||(null==e||null==n||!m(e)&&!m(n)?e!=e&&n!=n:function(t,e,n,i,l,s){var r=st(t),o=st(e),a=r?"[object Array]":Yt(t),u=o?"[object Array]":Yt(e),c="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=a==u;if(d&&Object(rt.a)(t)){if(!Object(rt.a)(e))return!1;r=!0,c=!1}if(d&&!c)return s||(s=new G),r||mt(t)?rl(t,e,n,i,l,s):function(t,e,n,i,l,s,r){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!s(new Gt(t),new Gt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return x(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var o=ol;case"[object Set]":if(o||(o=al),t.size!=e.size&&!(1&i))return!1;var a=r.get(t);if(a)return a==e;i|=2,r.set(t,e);var u=rl(o(t),o(e),i,l,s,r);return r.delete(t),u;case"[object Symbol]":if(cl)return cl.call(t)==cl.call(e)}return!1}(t,e,a,n,i,l,s);if(!(1&n)){var p=c&&dl.call(t,"__wrapped__"),m=h&&dl.call(e,"__wrapped__");if(p||m){var g=p?t.value():t,f=m?e.value():e;return s||(s=new G),l(g,f,n,i,s)}}return!!d&&(s||(s=new G),function(t,e,n,i,l,s){var r=1&n,o=Ft(t),a=o.length;if(a!=Ft(e).length&&!r)return!1;for(var u=a;u--;){var c=o[u];if(!(r?c in e:hl.call(e,c)))return!1}var h=s.get(t);if(h&&s.get(e))return h==e;var d=!0;s.set(t,e),s.set(e,t);for(var p=r;++u<a;){var m=t[c=o[u]],g=e[c];if(i)var f=r?i(g,m,c,e,t,s):i(m,g,c,t,e,s);if(!(void 0===f?m===g||l(m,g,n,i,s):f)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var b=t.constructor,v=e.constructor;b==v||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(d=!1)}return s.delete(t),s.delete(e),d}(t,e,n,i,l,s))}(e,n,i,l,t,s))},ml=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?pl(t,e,void 0,n):!!i};class gl extends el{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const a of t)if("childList"===a.type){const t=e.mapDomToView(a.target);if(t&&t.is("uiElement"))continue;t&&!this._isBogusBrMutation(a)&&i.add(t)}for(const a of t){const t=e.mapDomToView(a.target);if(!(t&&t.is("uiElement")||"characterData"!==a.type)){const t=e.findCorrespondingViewText(a.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Ei(a.target),node:t}):!t&&Pi(a.target)&&i.add(e.mapDomToView(a.target.parentNode))}}const l=[];for(const a of n.values())this.renderer.markToSync("text",a.node),l.push(a);for(const a of i){const t=e.mapViewToDom(a),n=Array.from(a.getChildren()),i=Array.from(e.domChildrenToView(t,{withChildren:!1}));ml(n,i,o)||(this.renderer.markToSync("children",a),l.push({type:"children",oldChildren:n,newChildren:i,node:a}))}const s=t[0].target.ownerDocument.getSelection();let r=null;if(s&&s.anchorNode){const t=e.domPositionToView(s.anchorNode,s.anchorOffset),n=e.domPositionToView(s.focusNode,s.focusOffset);t&&n&&(r=new Gn(t)).setFocus(n)}function o(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}l.length&&(this.document.fire("mutations",l,r),this.view.forceRender())}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class fl{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,An(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class bl extends el{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new fl(this.view,e,n))}}class vl extends bl{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return oi(this)}})}}var yl=function(){return i.a.Date.now()},wl=/^\s+|\s+$/g,xl=/^[-+]0x[0-9a-f]+$/i,kl=/^0b[01]+$/i,_l=/^0o[0-7]+$/i,Cl=parseInt,Tl=function(t){if("number"==typeof t)return t;if($e(t))return NaN;if(M(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=M(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(wl,"");var n=kl.test(t);return n||_l.test(t)?Cl(t.slice(2),n?2:8):xl.test(t)?NaN:+t},Sl=Math.max,Ml=Math.min,Pl=function(t,e,n){var i,l,s,r,o,a,u=0,c=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,s=l;return i=l=void 0,u=e,r=t.apply(s,n)}function m(t){var n=t-a;return void 0===a||n>=e||n<0||h&&t-u>=s}function g(){var t=yl();if(m(t))return f(t);o=setTimeout(g,function(t){var n=e-(t-a);return h?Ml(n,s-(t-u)):n}(t))}function f(t){return o=void 0,d&&i?p(t):(i=l=void 0,r)}function b(){var t=yl(),n=m(t);if(i=arguments,l=this,a=t,n){if(void 0===o)return function(t){return u=t,o=setTimeout(g,e),c?p(t):r}(a);if(h)return clearTimeout(o),o=setTimeout(g,e),p(a)}return void 0===o&&(o=setTimeout(g,e)),r}return e=Tl(e)||0,M(n)&&(c=!!n.leading,s=(h="maxWait"in n)?Sl(Tl(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==o&&clearTimeout(o),u=0,i=a=l=o=void 0},b.flush=function(){return void 0===o?r:f(yl())},b};class Al extends el{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=Pl(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,n)=>{var i;t.selection.isFake&&((i=n.keyCode)==ri.arrowright||i==ri.arrowleft||i==ri.arrowup||i==ri.arrowdown)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new Gn(e.getRanges(),{backward:e.isBackward,fake:!1});t!=ri.arrowleft&&t!=ri.arrowup||n.setTo(n.getFirstPosition()),t!=ri.arrowright&&t!=ri.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}class El extends el{constructor(t){super(t),this.mutationObserver=t.getObserver(gl),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Pl(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(0!=n.rangeCount&&!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(e)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class Il extends bl{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)}),e.on("blur",(n,i)=>{const l=e.selection.editableElement;null!==l&&l!==i.target||(e.isFocused=!1,t.forceRender())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Dl extends bl{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}class Ol extends bl{constructor(t){super(t),this.domEventType=["beforeinput"]}onDomEvent(t){this.fire(t.type,t)}}function Fl(t){return"[object Range]"==Object.prototype.toString.apply(t)}function Nl(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const Rl=["top","right","bottom","left","width","height"];class Ll{constructor(t){const e=Fl(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),ce(t)||e)Bl(this,e?Ll.getDomRangeRects(t)[0]:t.getBoundingClientRect());else if(Zi(t)){const{innerWidth:e,innerHeight:n}=t;Bl(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Bl(this,t)}clone(){return new Ll(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new Ll(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!Vl(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!Vl(n);){const t=new Ll(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of Rl)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n,i;if(Zi(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight,i=t.getComputedStyle(t.document.documentElement).direction;else{const l=Nl(this._source);e=t.offsetWidth-t.clientWidth-l.left-l.right,n=t.offsetHeight-t.clientHeight-l.top-l.bottom,i=t.ownerDocument.defaultView.getComputedStyle(t).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===i?this.right-=e:this.left+=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const i of n)e.push(new Ll(i));else{let n=t.startContainer;Ci(n)&&(n=n.parentNode);const i=new Ll(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}}function Bl(t,e){for(const n of Rl)t[n]=e[n]}function Vl(t){return!!ce(t)&&t===t.ownerDocument.body}function zl({target:t,viewportOffset:e=0}){const n=ql(t);let i=n,l=null;for(;i;){let s;Hl(s=Gl(i==n?t:l),()=>Xl(t,i));const r=Xl(t,i);if(jl(i,r,e),i.parent!=i){if(l=i.frameElement,i=i.parent,!l)return}else i=null}}function jl(t,e,n){const i=e.clone().moveBy(0,n),l=e.clone().moveBy(0,-n),s=new Ll(t).excludeScrollbarsAndBorders();if(![l,i].every(t=>s.contains(t))){let{scrollX:r,scrollY:o}=t;Ul(l,s)?o-=s.top-e.top+n:Wl(i,s)&&(o+=e.bottom-s.bottom+n),$l(e,s)?r-=s.left-e.left+n:Yl(e,s)&&(r+=e.right-s.right+n),t.scrollTo(r,o)}}function Hl(t,e){const n=ql(t);let i,l;for(;t!=n.document.body;)l=e(),(i=new Ll(t).excludeScrollbarsAndBorders()).contains(l)||(Ul(l,i)?t.scrollTop-=i.top-l.top:Wl(l,i)&&(t.scrollTop+=l.bottom-i.bottom),$l(l,i)?t.scrollLeft-=i.left-l.left:Yl(l,i)&&(t.scrollLeft+=l.right-i.right)),t=t.parentNode}function Wl(t,e){return t.bottom>e.bottom}function Ul(t,e){return t.top<e.top}function $l(t,e){return t.left<e.left}function Yl(t,e){return t.right>e.right}function ql(t){return Fl(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Gl(t){if(Fl(t)){let e=t.commonAncestorContainer;return Ci(e)&&(e=e.parentNode),e}return t.parentNode}function Xl(t,e){const n=ql(t),i=new Ll(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=new Ll(t.frameElement).excludeScrollbarsAndBorders();i.moveBy(e.left,e.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:zl,scrollAncestorsToShowTarget:function(t){Hl(Gl(t),()=>new Ll(t))}});class Kl{constructor(t){this.document=new Kn(t),this.domConverter=new qi(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new Vi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new mi(this.document),this.addObserver(gl),this.addObserver(El),this.addObserver(Il),this.addObserver(vl),this.addObserver(Al),this.addObserver(Dl),ii.isAndroid&&this.addObserver(Ol),this.document.on("keydown",Ii),function(t){t.document.on("keydown",(e,n)=>(function(t,e,n){if(e.keyCode==ri.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=n.domPositionToView(t.focusNode,t.focusOffset);if(null===e)return;let l=!1;const s=e.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(l=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(l){const e=n.viewPositionToDom(s);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}})(0,n,t.domConverter))}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:s,value:r}of Array.from(t.attributes))i[s]=r,"class"===s?this._writer.addClass(r.split(" "),n):this._writer.setAttribute(s,r,n);this._initialDomRootAttributes.set(t,i);const l=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};l(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(l)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const s of this._observers.values())s.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const i in n)e.setAttribute(i,n[i]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[n,i]of this.domRoots)e.observe(i,n);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&zl({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t&&(this.domConverter.focus(t),this.forceRender())}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new ye.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}catch(t){ye.b.rethrowUnexpectedError(t,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return Un._createAt(t,e)}createPositionAfter(t){return Un._createAfter(t)}createPositionBefore(t){return Un._createBefore(t)}createRange(t,e){return new $n(t,e)}createRangeOn(t){return $n._createOn(t)}createRangeIn(t){return $n._createIn(t)}createSelection(t,e,n){return new Gn(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}Ae(Kl,Fn);class Zl{constructor(t){this.parent=null,this._attrs=He(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new ye.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new ye.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}isAttached(){return this.root.is("rootElement")}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let l=0;for(;n[l]==i[l]&&n[l];)l++;return 0===l?null:n[l-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=Re(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&this.root===t.root&&!this.isBefore(t)}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}is(t){return"node"==t||"model:node"==t}_clone(){return new Zl(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=He(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}}class Ql extends Zl{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"text"==t||"model:text"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new Ql(this.data,this.getAttributes())}static fromJSON(t){return new Ql(t.data,t.attributes)}}class Jl{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new ye.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>t.offsetSize)throw new ye.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(t){return"textProxy"==t||"model:textProxy"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class ts{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new ye.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new ye.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const n of e)if(!(n instanceof Zl))throw new ye.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this);this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class es extends Zl{constructor(t,e,n){super(e),this.name=t,this._children=new ts,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){const n=t.replace(/^model:/,"");return e?"element"==n&&e==this.name:"element"==n||n==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new es(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new Ql(t)]:(je(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Ql(t):t instanceof Jl?new Ql(t.data,t.getAttributes()):t))}(e);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)e.push(n.name?es.fromJSON(n):Ql.fromJSON(n))}return new es(t.name,t.attributes,e)}}class ns{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new ye.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new ye.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:e});this.direction=e,this.boundaries=t.boundaries||null,this.position=t.startPosition?t.startPosition.clone():ls._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,l;do{i=this.position,l=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=l)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeAfter;if(i instanceof es)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,is("elementStart",i,t,e,1);if(i instanceof Ql){let l;if(this.singleCharacters)l=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),l=t-e.offset}const s=new Jl(i,e.offset-i.startOffset,l);return e.offset+=l,this.position=e,is("text",s,t,e,l)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():is("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeBefore;if(i instanceof es)return e.offset--,this.shallow?(this.position=e,is("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():is("elementEnd",i,t,e));if(i instanceof Ql){let l;if(this.singleCharacters)l=1;else{let t=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),l=e.offset-t}const s=new Jl(i,e.offset-i.startOffset-l,l);return e.offset-=l,this.position=e,is("text",s,t,e,l)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,is("elementStart",n,t,e,1)}}function is(t,e,n,i,l){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:l}}}class ls{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new ye.b("model-position-root-invalid: Position root invalid.",t);if(!(e instanceof Array)||0===e.length)throw new ye.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:e});e=t.getPath().concat(e),this.root=t=t.root,this.path=e,this.stickiness=n}get offset(){return ln(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)if(!(t=t.getChild(t.offsetToIndex(this.path[e]))))throw new ye.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(t.is("text"))throw new ye.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof Ql&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=Re(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new ns(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=Re(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=ls._createAt(this),n=ls._createAt(t);break;case"after":e=ls._createAt(t),n=ls._createAt(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}is(t){return"position"==t||"model:position"==t}hasSameParentAs(t){return this.root===t.root&&"same"==Re(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=ls._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?ls._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=ls._createAt(this);if(this.root!=t.root)return n;if("same"==Re(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==Re(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=ls._createAt(this);if(this.root!=t.root)return n;if("same"==Re(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==Re(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return ls._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=ls._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof ls)return new ls(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new ye.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!i.is("element")&&!i.is("documentFragment"))throw new ye.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t]);const l=i.getPath();return l.push(e),new this(i.root,l,n)}}static _createAfter(t,e){if(!t.parent)throw new ye.b("model-position-after-root: You cannot make a position after root.",[this,t],{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new ye.b("model-position-before-root: You cannot make a position before root.",t,{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new ls(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new ye.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",e,{rootName:t.root});return new ls(e.getRoot(t.root),t.path,t.stickiness)}}class ss{constructor(t,e=null){this.start=ls._createAt(t),this.end=ls._createAt(e||t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new ns({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==Re(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=ls._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}is(t){return"range"==t||"model:range"==t}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new ss(this.start,t.start)),this.containsPosition(t.end)&&e.push(new ss(t.end,this.end))):e.push(new ss(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new ss(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=ls._createAt(this.start);let i=n.parent;for(;n.path.length>e+1;){const e=i.maxOffset-n.offset;0!==e&&t.push(new ss(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new ss(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new ns(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new ns(t);for(const n of e)yield n.item}*getPositions(t={}){t.boundaries=this;const e=new ns(t);yield e.position;for(const n of e)yield n.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new ss(this.start,this.end)]}getTransformedByOperations(t){const e=[new ss(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByOperation(n);e.splice(t,1,...i),t+=i.length-1}for(let n=0;n<e.length;n++){const t=e[n];for(let i=n+1;i<e.length;i++){const n=e[i];(t.containsRange(n)||n.containsRange(t)||t.isEqual(n))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const t=this.start.nodeAfter,e=this.end.nodeBefore;return t&&t.is("element")&&t===e?t:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new ss(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new ss(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=ls._createAt(n)).offset=0:(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new ss(e,n)):new ss(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new ss(this.start,t),new ss(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new ss(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n);return[new ss(i)]}const l=ss._createFromPositionAndShift(t,n),s=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(l.containsPosition(this.start)||l.containsPosition(this.end))){const i=this.start._getTransformedByMove(t,e,n),l=this.end._getTransformedByMove(t,e,n);return[new ss(i,l)]}let r;const o=this.getDifference(l);let a=null;const u=this.getIntersection(l);if(1==o.length?a=new ss(o[0].start._getTransformedByDeletion(t,n),o[0].end._getTransformedByDeletion(t,n)):2==o.length&&(a=new ss(this.start,this.end._getTransformedByDeletion(t,n))),r=a?a._getTransformedByInsertion(s,n,null!==u||i):[],u){const t=new ss(u.start._getCombined(l.start,s),u.end._getCombined(l.start,s));2==r.length?r.splice(1,0,t):r.push(t)}return r}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new ss(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this(ls._createAt(t,0),ls._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift(ls._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new ye.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==t.length)return t[0].clone();const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(let l=n-1;t[l].end.isEqual(i.start);l++)i.start=ls._createAt(t[l].start);for(let l=n+1;l<t.length&&t[l].start.isEqual(i.end);l++)i.end=ls._createAt(t[l].end);return i}static fromJSON(t,e){return new this(ls.fromJSON(t.start,e),ls.fromJSON(t.end,e))}}class rs{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),l=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=ls._createAt(i,l)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);if(this._viewToModelMapping.delete(t),this._elementToMarkerNames.has(t))for(const n of this._elementToMarkerNames.get(t))this._unboundMarkerNames.add(n);this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t);const i=this._elementToMarkerNames.get(t)||new Set;i.add(e),this._markerNameToElements.set(e,n),this._elementToMarkerNames.set(t,i)}unbindElementFromMarkerName(t,e){const n=this._markerNameToElements.get(e);n&&(n.delete(t),0==n.size&&this._markerNameToElements.delete(e));const i=this._elementToMarkerNames.get(t);i&&(i.delete(e),0==i.size&&this._elementToMarkerNames.delete(t))}flushUnboundMarkerNames(){const t=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),t}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new ss(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new $n(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const i of e)if(i.is("attributeElement"))for(const t of i.getElementsWithSameId())n.add(t);else n.add(i);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t)return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t);if(t.is("text"))return e;let i=0;for(let l=0;l<e;l++)i+=this.getModelLength(t.getChild(l));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name))return this._viewToModelLengthCallbacks.get(t.name)(t);if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,i=0,l=0,s=0;if(t.is("text"))return new Un(t,e);for(;l<e;)n=t.getChild(s),l+=i=this.getModelLength(n),s++;return l==e?this._moveViewPositionToTextNode(new Un(t,s)):this._findPositionIn(n,e-(l-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof Ve?new Un(e,e.data.length):n instanceof Ve?new Un(n,0):t}}Ae(rs,ke);class os{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=as(e),t instanceof Jl&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=as(e),t instanceof Jl&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=as(e),t instanceof Jl&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=as(e),t instanceof Jl&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let l,s;return(l=this._textProxyRegistry.get(t))||(l=new Map,this._textProxyRegistry.set(t,l)),(s=l.get(e))||(s=new Map,l.set(e,s)),s.set(n,i),i}}function as(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class us{constructor(t){this.conversionApi=An({dispatcher:this},t)}convertChanges(t,e,n){for(const i of t.getMarkersToRemove())this.convertMarkerRemove(i.name,i.range,n);for(const i of t.getChanges())"insert"==i.type?this.convertInsert(ss._createFromPositionAndShift(i.position,i.length),n):"remove"==i.type?this.convertRemove(i.position,i.length,i.name,n):this.convertAttribute(i.range,i.attributeKey,i.attributeOldValue,i.attributeNewValue,n);for(const i of this.conversionApi.mapper.flushUnboundMarkerNames()){const t=e.get(i).getRange();this.convertMarkerRemove(i,t,n),this.convertMarkerAdd(i,t,n)}for(const i of t.getMarkersToAdd())this.convertMarkerAdd(i.name,i.range,n)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const n of t){const t=n.item,e={item:t,range:ss._createFromPositionAndShift(n.previousPosition,n.length)};this._testAndFire("insert",e);for(const n of t.getAttributeKeys())e.attributeKey=n,e.attributeOldValue=null,e.attributeNewValue=t.getAttribute(n),this._testAndFire(`attribute:${n}`,e)}this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,l){this.conversionApi.writer=l,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const s of t){const t={item:s.item,range:ss._createFromPositionAndShift(s.previousPosition,s.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!cs(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,l=new os;if(l.add(e,i),this.conversionApi.consumable=l,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),l.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const l={item:n,range:ss._createOn(n),markerName:t,markerRange:e};this.fire(i,l,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new os;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new os;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new os;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())n.add(t,"attribute:"+i);return n}_testAndFire(t,e){this.conversionApi.consumable.test(e.item,t)&&this.fire(t+":"+(e.item.name||"$text"),e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function cs(t,e,n){const i=e.getRange(),l=Array.from(t.getAncestors());return l.shift(),l.reverse(),!l.some(t=>{if(i.containsItem(t))return!!n.toViewElement(t).getCustomProperty("addHighlight")})}Ae(us,ke);class hs{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new ss(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new ss(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new ss(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof hs)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ss)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof ls)this._setRanges([new ss(t)]);else if(t instanceof Zl){const i=!!n&&!!n.backward;let l;if("in"==e)l=ss._createIn(t);else if("on"==e)l=ss._createOn(t);else{if(void 0===e)throw new ye.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,t]);l=new ss(ls._createAt(t,e))}this._setRanges([l],i)}else{if(!je(t))throw new ye.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t]);this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(e=>{if(!(e instanceof ss))throw new ye.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[this,t]);return this._ranges.every(t=>!t.isEqual(e))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new ye.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,t]);const n=ls._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new ss(n,i)),this._lastRangeBackward=!0):(this._pushRange(new ss(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(t){return"selection"==t||"model:selection"==t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=ms(e.start,t);n&&gs(n,e)&&(yield n);for(const l of e.getWalker()){const n=l.item;"elementEnd"==l.type&&ps(n,t,e)&&(yield n)}const i=ms(e.end,t);i&&!e.end.isTouching(ls._createAt(i,0))&&gs(i,e)&&(yield i)}}containsEntireContent(t=this.anchor.root){const e=ls._createAt(t,0),n=ls._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new ss(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new ye.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,t],{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function ds(t,e){return!e.has(t)&&(e.add(t),t.root.document.model.schema.isBlock(t)&&t.parent)}function ps(t,e,n){return ds(t,e)&&gs(t,n)}function ms(t,e){const n=t.parent.root.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const s=i.find(t=>!l&&(l=n.isLimit(t),!l&&ds(t,e)));return i.forEach(t=>e.add(t)),s}function gs(t,e){const n=function(t){const e=t.root.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}(t);return!n||!e.containsRange(ss._createOn(n),!0)}Ae(hs,ke);class fs extends ss{constructor(t,e){super(t,e),bs.call(this)}detach(){this.stopListening()}is(t){return"liveRange"==t||"model:liveRange"==t||super.is(t)}toRange(){return new ss(this.start,this.end)}static fromRange(t){return new fs(t.start,t.end)}}function bs(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&vs.call(this,n)},{priority:"low"})}function vs(t){const e=this.getTransformedByOperation(t),n=ss._createFromRanges(e),i=!n.isEqual(this),l=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let s=null;if(i){"$graveyard"==n.root.rootName&&(s="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:s})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:s})}Ae(fs,ke);class ys{constructor(t){this._selection=new ws(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}is(t){return"selection"==t||"model:selection"==t||"documentSelection"==t||"model:documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return"selection:"+t}static _isStoreAttributeKey(t){return t.startsWith("selection:")}}Ae(ys,ke);class ws extends hs{constructor(t){super(),this.markers=new Ee({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new ye.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",this,{range:t})}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._document,"change",(t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith("selection:"));for(const i of e)t.removeAttribute(i,n)})}}(this._model,e)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._updateAttributes(!0),this._updateMarkers()}setFocus(t,e){super.setFocus(t,e),this._updateAttributes(!0),this._updateMarkers()}setAttribute(t,e){this._setAttribute(t,e)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}removeAttribute(t){this._removeAttribute(t)&&this.fire("change:attribute",{attributeKeys:[t],directChange:!0})}overrideGravity(){const t=be();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new ye.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return;const e=fs.fromRange(t);return e.on("change:range",(t,n,i)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.deletionPosition})}),e}_updateMarkers(){const t=[];let e=!1;for(const i of this._model.markers){const e=i.getRange();for(const n of this.getRanges())e.containsRange(n,!n.isCollapsed)&&t.push(i)}const n=Array.from(this.markers);for(const i of t)this.markers.has(i)||(this.markers.add(i),e=!0);for(const i of Array.from(this.markers))t.includes(i)||(this.markers.remove(i),e=!0);e&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateAttributes(t){const e=He(this._getSurroundingAttributes()),n=He(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[l,s]of this._attributePriority)"low"==s&&(this._attrs.delete(l),this._attributePriority.delete(l));this._setAttributesTo(e);const i=[];for(const[l,s]of this.getAttributes())n.has(l)&&n.get(l)===s||i.push(l);for(const[l]of n)this.hasAttribute(l)||i.push(l);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(t))&&super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0)}_removeAttribute(t,e=!0){const n=e?"normal":"low";return!("low"==n&&"normal"==this._attributePriority.get(t)||(this._attributePriority.set(t,n),!super.hasAttribute(t)||(this._attrs.delete(t),0)))}_setAttributesTo(t){const e=new Set;for(const[n,i]of this.getAttributes())t.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of t)this._setAttribute(n,i,!1)&&e.add(n);return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith("selection:")){const n=e.substr("selection:".length);yield[n,t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=xs(e)),n||(n=xs(i)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)n=xs(t=t.previousSibling)}if(!n){let t=i;for(;t&&!n;)n=xs(t=t.nextSibling)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t,e){const n=e.clone(),i=this._model.schema.getNearestSelectionRange(n),l=this._ranges.indexOf(t);if(this._ranges.splice(l,1),t.detach(),i){const t=this._prepareRange(i);this._ranges.splice(l,0,t)}}}function xs(t){return t instanceof Jl||t instanceof Ql?t.getAttributes():null}class ks{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var _s=function(t){return ae(t,5)};class Cs extends ks{elementToElement(t){return this.add(function(t){return(t=_s(t)).view=Ss(t.view,"container"),e=>{var n;e.on("insert:"+t.model,(n=t.view,(t,e,i)=>{const l=n(e.item,i.writer);if(!l)return;if(!i.consumable.consume(e.item,"insert"))return;const s=i.mapper.toViewPosition(e.range.start);i.mapper.bindElements(e.item,l),i.writer.insert(s,l)}),{priority:t.converterPriority||"normal"})}}(t))}attributeToElement(t){return this.add(function(t){let e="attribute:"+((t=_s(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const i of t.model.values)t.view[i]=Ss(t.view[i],"attribute");else t.view=Ss(t.view,"attribute");const n=Ms(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const l=t(n.attributeOldValue,i.writer),s=t(n.attributeNewValue,i.writer);if(!l&&!s)return;if(!i.consumable.consume(n.item,e.name))return;const r=i.writer;if(n.item instanceof hs||n.item instanceof ys)r.wrap(r.document.selection.getFirstRange(),s);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&l&&(t=r.unwrap(t,l)),null!==n.attributeNewValue&&s&&r.wrap(t,s)}}}(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e="attribute:"+((t=_s(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const i of t.model.values)t.view[i]=Ps(t.view[i]);else t.view=Ps(t.view);const n=Ms(t);return i=>{var l;i.on(e,(l=n,(t,e,n)=>{const i=l(e.attributeOldValue,e),s=l(e.attributeNewValue,e);if(!i&&!s)return;if(!n.consumable.consume(e.item,t.name))return;const r=n.mapper.toViewElement(e.item),o=n.writer;if(!r)throw new ye.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[e,n]);if(null!==e.attributeOldValue&&i)if("class"==i.key){const t=Array.isArray(i.value)?i.value:[i.value];for(const e of t)o.removeClass(e,r)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)o.removeStyle(e,r)}else o.removeAttribute(i.key,r);if(null!==e.attributeNewValue&&s)if("class"==s.key){const t=Array.isArray(s.value)?s.value:[s.value];for(const e of t)o.addClass(e,r)}else if("style"==s.key){const t=Object.keys(s.value);for(const e of t)o.setStyle(e,s.value[e],r)}else o.setAttribute(s.key,s.value,r)}),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=_s(t)).view=Ss(t.view,"ui"),e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,i)=>{e.isOpening=!0;const l=n(e,i.writer);e.isOpening=!1;const s=n(e,i.writer);if(!l||!s)return;const r=e.markerRange;if(r.isCollapsed&&!i.consumable.consume(r,t.name))return;for(const n of r)if(!i.consumable.consume(n.item,t.name))return;const o=i.mapper,a=i.writer;a.insert(o.toViewPosition(r.start),l),i.mapper.bindElementToMarker(l,e.markerName),r.isCollapsed||(a.insert(o.toViewPosition(r.end),s),i.mapper.bindElementToMarker(s,e.markerName)),t.stop()}),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){for(const t of i)n.mapper.unbindElementFromMarkerName(t,e.markerName),n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}},{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{var n;e.on("addMarker:"+t.model,(n=t.view,(t,e,i)=>{if(!e.item)return;if(!(e.item instanceof hs||e.item instanceof ys||e.item.is("textProxy")))return;const l=As(n,e,i);if(!l)return;if(!i.consumable.consume(e.item,t.name))return;const s=i.writer,r=Ts(s,l),o=s.document.selection;if(e.item instanceof hs||e.item instanceof ys)s.wrap(o.getFirstRange(),r,o);else{const t=i.mapper.toViewRange(e.range),n=s.wrap(t,r);for(const l of n.getItems())if(l.is("attributeElement")&&l.isSimilar(r)){i.mapper.bindElementToMarker(l,e.markerName);break}}}),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof es))return;const l=As(t,n,i);if(!l)return;if(!i.consumable.test(n.item,e.name))return;const s=i.mapper.toViewElement(n.item);if(s&&s.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of ss._createIn(n.item))i.consumable.consume(t.item,e.name);s.getCustomProperty("addHighlight")(s,l,i.writer),i.mapper.bindElementToMarker(s,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const l=As(t,n,i);if(!l)return;const s=Ts(i.writer,l),r=i.mapper.markerNameToElements(n.markerName);if(r){for(const t of r)i.mapper.unbindElementFromMarkerName(t,n.markerName),t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),s):t.getCustomProperty("removeHighlight")(t,l.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function Ts(t,e){const n=t.createAttributeElement("span",e.attributes);return e.classes&&n._addClass(e.classes),e.priority&&(n._priority=e.priority),n._id=e.id,n}function Ss(t,e){return"function"==typeof t?t:(n,i)=>(function(t,e,n){let i;"string"==typeof t&&(t={name:t});const l=Object.assign({},t.attributes);if(i="container"==n?e.createContainerElement(t.name,l):"attribute"==n?e.createAttributeElement(t.name,l,{priority:t.priority||Zn.DEFAULT_PRIORITY}):e.createUIElement(t.name,l),t.styles){const n=Object.keys(t.styles);for(const l of n)e.setStyle(l,t.styles[l],i)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,i);else for(const t of n)e.addClass(t,i)}return i})(t,i,e)}function Ms(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function Ps(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function As(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}class Es extends ks{elementToElement(t){return this.add(Is(t))}elementToAttribute(t){return this.add(function(t){Os(t=_s(t));const e=Fs(t,!1),n=Ds(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=_s(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;return n="class"==e||"style"==e?{["class"==e?"classes":"styles"]:t.view.value}:{attributes:{[e]:void 0===t.view.value?/[\s\S]*/:t.view.value}},t.view.name&&(n.name=t.view.name),t.view=n,e}(t)),Os(t,e);const n=Fs(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){return function(t){const e=t.model;t.model=(t,n)=>{const i="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":i})}}(t=_s(t)),Is(t)}(t))}}function Is(t){const e=function(t){const e=t.view?new We(t.view):null;return(n,i,l)=>{let s={};if(e){const t=e.match(i.viewItem);if(!t)return;s=t.match}s.name=!0;const r=(a=l.writer,(o=t.model)instanceof Function?o(i.viewItem,a):a.createElement(o));var o,a;if(!r)return;if(!l.consumable.test(i.viewItem,s))return;const u=l.splitToAllowedParent(r,i.modelCursor);if(!u)return;l.writer.insert(r,u.position),l.convertChildren(i.viewItem,l.writer.createPositionAt(r,0)),l.consumable.consume(i.viewItem,s);const c=l.getSplitParts(r);i.modelRange=new ss(l.writer.createPositionBefore(r),l.writer.createPositionAfter(c[c.length-1])),i.modelCursor=u.cursorParent?l.writer.createPositionAt(u.cursorParent,0):i.modelRange.end}}(t=_s(t)),n=Ds(t.view),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function Ds(t){return"string"==typeof t?t:"object"==typeof t&&"string"==typeof t.name?t.name:null}function Os(t,e=null){const n=null===e||(t=>t.getAttribute(e));t.model={key:"object"!=typeof t.model?t.model:t.model.key,value:"object"!=typeof t.model||void 0===t.model.value?n:t.model.value}}function Fs(t,e){const n=new We(t.view);return(i,l,s)=>{const r=n.match(l.viewItem);if(!r)return;const o=t.model.key,a="function"==typeof t.model.value?t.model.value(l.viewItem):t.model.value;null!==a&&(function(t,e){const n="function"==typeof t?t(e):t;return!("object"==typeof n&&!Ds(n)||n.classes||n.attributes||n.styles)}(t.view,l.viewItem)?r.match.name=!0:delete r.match.name,s.consumable.test(l.viewItem,r.match)&&(l.modelRange||(l=Object.assign(l,s.convertChildren(l.viewItem,l.modelCursor))),function(t,e,n,i){let l=!1;for(const s of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(s,e.key)&&(i.writer.setAttribute(e.key,e.value,s),l=!0);return l}(l.modelRange,{key:o,value:a},e,s)&&s.consumable.consume(l.viewItem,r.match)))}}class Ns{constructor(t,e){this.model=t,this.view=new Kl(e),this.mapper=new rs,this.downcastDispatcher=new us({mapper:this.mapper});const n=this.model.document,i=n.selection,l=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(n,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(n.differ,l,t),this.downcastDispatcher.convertSelection(i,l,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,i)=>{const l=i.newSelection,s=new hs,r=[];for(const t of l.getRanges())r.push(e.toModelRange(t));s.setTo(r,{backward:l.isBackward}),s.isEqual(t.document.selection)||t.change(t=>{t.setSelection(s)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,l=n.mapper.toViewPosition(e.range.start),s=i.createText(e.item.data);i.insert(l,s)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),l=e.position.getShiftedBy(e.length),s=n.mapper.toViewPosition(l,{isPhantom:!0}),r=n.writer.createRange(i,s),o=n.writer.remove(r.getTrimmed());for(const a of n.writer.createRangeIn(o).getItems())n.mapper.unbindViewElement(a)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=n.writer,l=i.document.selection;for(const s of l.getRanges())s.isCollapsed&&s.end.parent.isAttached()&&n.writer.mergeAttributes(s.start);i.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const l=[];for(const s of i.getRanges()){const t=n.mapper.toViewRange(s);l.push(t)}n.writer.setSelection(l,{backward:i.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const l=n.writer,s=i.getFirstPosition(),r=n.mapper.toViewPosition(s),o=l.breakAttributes(r);l.setSelection(o)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new Hn(this.view.document,t.name);return e.rootName=t.rootName,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}Ae(Ns,Fn);class Rs{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new ye.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}class Ls{constructor(){this._consumables=new Map}add(t,e){let n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Bs(t),this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={element:t,name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const s of n)"style"!=s&&"class"!=s&&e.attributes.push(s);const i=t.getClassNames();for(const s of i)e.classes.push(s);const l=t.getStyleNames();for(const s of l)e.styles.push(s);return e}static createFrom(t,e){if(e||(e=new Ls(t)),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,Ls.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Ls.createFrom(n,e);return e}}class Bs{constructor(t){this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=st(e)?e:[e],i=this._consumables[t];for(const l of n){if("attributes"===t&&("class"===l||"style"===l))throw new ye.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(i.set(l,!0),"styles"===t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(l))i.set(t,!0)}}_test(t,e){const n=st(e)?e:[e],i=this._consumables[t];for(const l of n)if("attributes"!==t||"class"!==l&&"style"!==l){const t=i.get(l);if(void 0===t)return null;if(!t)return!1}else{const t="class"==l?"classes":"styles",e=this._test(t,[...this._consumables[t].keys()]);if(!0!==e)return e}return!0}_consume(t,e){const n=st(e)?e:[e],i=this._consumables[t];for(const l of n)if("attributes"!==t||"class"!==l&&"style"!==l){if(i.set(l,!1),"styles"==t)for(const t of this.element.document.stylesProcessor.getRelatedStyles(l))i.set(t,!1)}else{const t="class"==l?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=st(e)?e:[e],i=this._consumables[t];for(const l of n)if("attributes"!==t||"class"!==l&&"style"!==l)!1===i.get(l)&&i.set(l,!0);else{const t="class"==l?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Vs{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new zs(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new zs(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new ye.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new ye.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!(!e||!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof ls){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof es))throw new ye.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(n instanceof es))throw new ye.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,i])=>{if(!i)return;const l=t(n,i);"boolean"==typeof l&&(e.stop(),e.return=l)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,i])=>{const l=t(n,i);"boolean"==typeof l&&(e.stop(),e.return=l)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;for(e=t instanceof ls?t.parent:(t instanceof ss?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null);!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new Ql("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new ss(t);let n,i;const l=t.getAncestors().reverse().find(t=>this.isLimit(t))||t.root;"both"!=e&&"backward"!=e||(n=new ns({boundaries:ss._createIn(l),startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new ns({boundaries:ss._createIn(l),startPosition:t}));for(const s of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const t=s.value;if(t.type==(s.walker==n?"elementEnd":"elementStart")&&this.isObject(t.item))return ss._createOn(t.item);if(this.checkChild(t.nextPosition,"$text"))return new ss(t.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t)if(n.is("text"))Zs(this,n,e);else{const t=ss._createIn(n).getPositions();for(const n of t)Zs(this,n.nodeBefore||n.parent,e)}}createContext(t){return new zs(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=js(e[i],i);for(const i of n)Hs(t,i);for(const i of n)Ws(t,i);for(const i of n)Us(t,i),$s(t,i);for(const i of n)Ys(t,i),qs(t,i);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const l of t.getItems({shallow:!0}))l.is("element")&&(yield*this._getValidRangesForRange(ss._createIn(l),e)),this.checkAttribute(l,e)||(n.isEqual(i)||(yield new ss(n,i)),n=ls._createAfter(l)),i=ls._createAfter(l);n.isEqual(i)||(yield new ss(n,i))}}Ae(Vs,Fn);class zs{constructor(t){if(t instanceof zs)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Ks)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new zs([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}startsWith(t){return Array.from(this.getNames()).join(" ").startsWith(t)}}function js(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const i of t)e[i]=n[i]}}(t,n),Gs(t,n,"allowIn"),Gs(t,n,"allowContentOf"),Gs(t,n,"allowWhere"),Gs(t,n,"allowAttributes"),Gs(t,n,"allowAttributesOf"),Gs(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function Hs(t,e){for(const n of t[e].allowContentOf)t[n]&&Xs(t,n).forEach(t=>{t.allowIn.push(e)});delete t[e].allowContentOf}function Ws(t,e){for(const n of t[e].allowWhere){const i=t[n];i&&t[e].allowIn.push(...i.allowIn)}delete t[e].allowWhere}function Us(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];i&&t[e].allowAttributes.push(...i.allowAttributes)}delete t[e].allowAttributesOf}function $s(t,e){const n=t[e];for(const i of n.inheritTypesFrom){const e=t[i];if(e){const t=Object.keys(e).filter(t=>t.startsWith("is"));for(const i of t)i in n||(n[i]=e[i])}}delete n.inheritTypesFrom}function Ys(t,e){const n=t[e],i=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(i))}function qs(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Gs(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function Xs(t,e){const n=t[e];return(i=t,Object.keys(i).map(t=>i[t])).filter(t=>t.allowIn.includes(n.name));var i}function Ks(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}function Zs(t,e,n){for(const i of e.getAttributeKeys())t.checkAttribute(e,i)||n.removeAttribute(i,e)}class Qs{constructor(t={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new zs(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const l=e.createElement(i.name,t);n&&e.append(l,n),n=ls._createAt(l,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Ls.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),l=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,l);l.markers=function(t,e){const n=new Set,i=new Map,l=ss._createIn(t).getItems();for(const s of l)"$marker"==s.name&&n.add(s);for(const s of n){const t=s.getAttribute("data-name"),n=e.createPositionBefore(s);i.has(t)?i.get(t).end=n.clone():i.set(t,new ss(n.clone())),e.remove(s)}return i}(l,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,l}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof ss))throw new ye.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new ss(e);let i=e;for(const l of Array.from(t.getChildren())){const t=this._convertItem(l,i);t.modelRange instanceof ss&&(n.end=t.modelRange.end,i=t.modelCursor)}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const i=this.conversionApi.writer.split(e,n),l=[];for(const s of i.range.getWalker())if("elementEnd"==s.type)l.push(s.item);else{const t=l.pop();this._registerSplitPair(t,s.item)}return{position:i.position,cursorParent:i.range.end.parent}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){return this._splitParts.has(t)?this._splitParts.get(t):[t]}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}Ae(Qs,ke);class Js{constructor(t,e){this.model=t,this.stylesProcessor=e,this.mapper=new rs,this.downcastDispatcher=new us({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,l=n.mapper.toViewPosition(e.range.start),s=i.createText(e.item.data);i.insert(l,s)},{priority:"lowest"}),this.upcastDispatcher=new Qs({schema:t.schema}),this.viewDocument=new Kn(e),this._viewWriter=new mi(this.viewDocument),this.upcastDispatcher.on("text",(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=ss._createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(t){const{rootName:e="main",trim:n="empty"}=t||{};if(!this._checkIfRootsExists([e]))throw new ye.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);const i=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i):""}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){const e=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();const i=ss._createIn(t),l=new pi(e);if(this.mapper.bindElements(t,l),this.downcastDispatcher.convertInsert(i,n),!t.is("documentFragment")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const i=ss._createIn(t);for(const l of n.model.markers){const t=i.getIntersection(l.getRange());t&&e.push([l.name,t])}return e}(t);for(const[t,i]of e)this.downcastDispatcher.convertMarkerAdd(t,i,n)}return l}init(t){if(this.model.document.version)throw new ye.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new ye.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",t=>{for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.insert(this.parse(e[n],i),i,0)}}),Promise.resolve()}set(t){let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new ye.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.remove(t.createRangeIn(i)),t.insert(this.parse(e[n],i),i,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}addStyleProcessorRules(t){t(this.stylesProcessor)}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}Ae(Js,Fn);class tr{constructor(t,e){this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new ye.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new ye.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of er(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of er(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of er(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new ye.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);const i=n?new Cs(e):new Es(e);this._helpers.set(t,i)}}function*er(t){if(t.model.values)for(const e of t.model.values){const n={key:t.model.key,value:e},i=t.view[e],l=t.upcastAlso?t.upcastAlso[e]:void 0;yield*nr(n,i,l)}else yield*nr(t.model,t.view,t.upcastAlso)}function*nr(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class ir{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class lr{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class sr{constructor(t){this.markers=new Map,this._children=new ts,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t||"model:documentFragment"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)e.push(n.name?es.fromJSON(n):Ql.fromJSON(n));return new sr(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){return"string"==typeof t?[new Ql(t)]:(je(t)||(t=[t]),Array.from(t).map(t=>"string"==typeof t?new Ql(t):t instanceof Jl?new Ql(t.data,t.getAttributes()):t))}(e);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const i of n)i.parent=null;return n}}function rr(t,e){const n=(e=ur(e)).reduce((t,e)=>t+e.offsetSize,0),i=t.parent;hr(t);const l=t.index;return i._insertChild(l,e),cr(i,l+e.length),cr(i,l),new ss(t,t.getShiftedBy(n))}function or(t){if(!t.isFlat)throw new ye.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);const e=t.start.parent;hr(t.start),hr(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return cr(e,t.start.index),n}function ar(t,e){if(!t.isFlat)throw new ye.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);const n=or(t);return rr(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function ur(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new Ql(t[n]));else if(t[n]instanceof Jl)e.push(new Ql(t[n].data,t[n].getAttributes()));else if(t[n]instanceof sr||t[n]instanceof ts)for(const i of t[n])e.push(i);else t[n]instanceof Zl&&e.push(t[n]);for(let n=1;n<e.length;n++){const t=e[n],i=e[n-1];t instanceof Ql&&i instanceof Ql&&dr(t,i)&&(e.splice(n-1,2,new Ql(i.data+t.data,i.getAttributes())),n--)}return e}function cr(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("text")&&i.is("text")&&dr(n,i)){const l=new Ql(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,l)}}function hr(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,l=e.index;n._removeChildren(l,1);const s=new Ql(e.data.substr(0,i),e.getAttributes()),r=new Ql(e.data.substr(i),e.getAttributes());n._insertChild(l,[s,r])}}function dr(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const l of n){if(l[1]!==e.getAttribute(l[0]))return!1;i.next()}return i.next().done}var pr=function(t,e){return pl(t,e)};class mr extends lr{constructor(t,e,n,i,l){super(l),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new mr(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new mr(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new ye.b("attribute-operation-range-not-flat: The range to change is not flat.",this);for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!pr(t.getAttribute(this.key),this.oldValue))throw new ye.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new ye.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:t,key:this.key})}}_execute(){pr(this.oldValue,this.newValue)||function(t,e,n){hr(t.start),hr(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),cr(t.parent,t.index)}cr(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new mr(ss.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class gr extends lr{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new ye.b("detach-operation-on-document-node: Cannot detach document node.",this)}_execute(){or(ss._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class fr extends lr{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>t.maxOffset)throw new ye.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===e&&n<i&&i<n+this.howMany)throw new ye.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Re(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new ye.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}_execute(){ar(ss._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=ls.fromJSON(t.sourcePosition,e),i=ls.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}class br extends lr{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new ts(ur(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new ts([...this.nodes].map(t=>t._clone(!0))),e=new br(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=new ls(this.position.root.document.graveyard,[0]);return new fr(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new ye.b("insert-operation-position-invalid: Insertion position is invalid.",this)}_execute(){const t=this.nodes;this.nodes=new ts([...t].map(t=>t._clone(!0))),rr(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const l of t.nodes)n.push(l.name?es.fromJSON(l):Ql.fromJSON(l));const i=new br(ls.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}class vr extends lr{constructor(t,e,n,i,l,s){super(s),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=l,this._markers=i}get type(){return"marker"}clone(){return new vr(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new vr(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new vr(t.name,t.oldRange?ss.fromJSON(t.oldRange,e):null,t.newRange?ss.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class yr extends lr{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new yr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new yr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof es))throw new ye.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new ye.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new yr(ls.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class wr extends lr{constructor(t,e,n,i,l){super(l),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new wr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new wr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new ye.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new ye.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new ye.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new ye.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new wr(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class xr extends lr{constructor(t,e,n,i,l){super(l),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new ls(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ss(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new ls(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),i=new kr(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!t.parent)throw new ye.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!e.parent)throw new ye.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new ye.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}_execute(){const t=this.sourcePosition.parent;ar(ss._createIn(t),this.targetPosition),ar(ss._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=ls.fromJSON(t.sourcePosition,e),i=ls.fromJSON(t.targetPosition,e),l=ls.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,l,t.baseVersion)}}class kr extends lr{constructor(t,e,n,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=kr.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new ls(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ss(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=new ls(this.splitPosition.root.document.graveyard,[0]);return new xr(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent;if(!t||t.maxOffset<this.splitPosition.offset)throw new ye.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new ye.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new ye.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new ye.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)ar(ss._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();rr(this.insertionPosition,e)}ar(new ss(ls._createAt(t,this.splitPosition.offset),ls._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new ls(t.root,e)}static fromJSON(t,e){const n=ls.fromJSON(t.splitPosition,e),i=ls.fromJSON(t.insertionPosition,e),l=t.graveyardPosition?ls.fromJSON(t.graveyardPosition,e):null,s=new this(n,t.howMany,l,t.baseVersion);return s.insertionPosition=i,s}}class _r extends es{constructor(t,e,n="main"){super(e),this._document=t,this.rootName=n}get document(){return this._document}is(t,e){const n=t.replace("model:","");return e?"rootElement"==n&&e==this.name||super.is(t,e):"rootElement"==n||super.is(t)}toJSON(){return this.rootName}}class Cr{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new Ql(t,e)}createElement(t,e){return new es(t,e)}createDocumentFragment(){return new sr}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof Ql&&""==t.data)return;const i=ls._createAt(e,n);if(t.parent){if(Ar(t.root,i.root))return void this.move(ss._createOn(t),i);if(t.root.document)throw new ye.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(t)}const l=new br(i,t,i.root.document?i.root.document.version:null);if(t instanceof Ql&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),t instanceof sr)for(const[s,r]of t.markers){const t=ls._createAt(r.root,0),e={range:new ss(r.start._getCombined(t,i),r.end._getCombined(t,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,e):this.addMarker(s,e)}}insertText(t,e,n,i){e instanceof sr||e instanceof es||e instanceof ls?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof sr||e instanceof es||e instanceof ls?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof sr||e instanceof es?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof sr||e instanceof es?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof ss){const i=n.getMinimalFlatRanges();for(const n of i)Tr(this,t,e,n)}else Sr(this,t,e,n)}setAttributes(t,e){for(const[n,i]of He(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof ss){const n=e.getMinimalFlatRanges();for(const e of n)Tr(this,t,null,e)}else Sr(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof ss)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof ss))throw new ye.b("writer-move-invalid-range: Invalid range to move.",this);if(!t.isFlat)throw new ye.b("writer-move-range-not-flat: Range to move is not flat.",this);const i=ls._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!Ar(t.root,i.root))throw new ye.b("writer-move-different-document: Range is going to be moved between different documents.",this);const l=new fr(t.start,t.end.offset-t.start.offset,i,t.root.document?t.root.document.version:null);this.batch.addOperation(l),this.model.applyOperation(l)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof ss?t:ss._createOn(t)).getMinimalFlatRanges().reverse();for(const n of e)this._addOperationForAffectedMarkers("move",n),Pr(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof es))throw new ye.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof es))throw new ye.b("writer-merge-no-element-after: Node after merge position must be an element.",this);t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(ss._createIn(n),ls._createAt(e,"end")),this.remove(n)}_merge(t){const e=ls._createAt(t.nodeBefore,"end"),n=ls._createAt(t.nodeAfter,0),i=new ls(t.root.document.graveyard,[0]),l=new xr(n,t.nodeAfter.maxOffset,e,i,t.root.document.version);this.batch.addOperation(l),this.model.applyOperation(l)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof es))throw new ye.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);const n=t.root.document?t.root.document.version:null,i=new yr(ls._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,l=t.parent;if(!l.parent)throw new ye.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(e||(e=l.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new ye.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{const e=new kr(t,l.maxOffset-t.offset,null,l.root.document?l.root.document.version:null);this.batch.addOperation(e),this.model.applyOperation(e),n||i||(n=l,i=t.parent.nextSibling),l=(t=this.createPositionAfter(t.parent)).parent}while(l!==e);return{position:t,range:new ss(ls._createAt(n,"end"),ls._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new ye.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);const n=e instanceof es?e:new es(e);if(n.childCount>0)throw new ye.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new ye.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,t.start);const i=new ss(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,ls._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new ye.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(ss._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new ye.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);const n=e.usingOperation,i=e.range,l=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new ye.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new ye.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(Mr(this,t,null,i,l),this.model.markers.get(t)):this.model.markers._set(t,i,n,l)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new ye.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!e)return void this.model.markers._refresh(i);const l="boolean"==typeof e.usingOperation,s="boolean"==typeof e.affectsData,r=s?e.affectsData:i.affectsData;if(!l&&!e.range&&!s)throw new ye.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);const o=i.getRange(),a=e.range?e.range:o;l&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?Mr(this,n,null,a,r):(Mr(this,n,o,null,r),this.model.markers._set(n,a,void 0,r)):i.managedUsingOperations?Mr(this,n,o,a,r):this.model.markers._set(n,a,void 0,r)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new ye.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);const n=this.model.markers.get(e);n.managedUsingOperations?Mr(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[n,i]of He(t))this._setSelectionAttribute(n,i)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=ys._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=ys._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new ye.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let l=!1;if("move"==t)l=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeAfter,n=i.end.parent==t&&0==i.end.offset,s=i.end.nodeAfter==t,r=i.start.nodeAfter==t;l=i.start.parent==e.nodeBefore&&i.start.isAtEnd||n||s||r}l&&this.updateMarker(n.name,{range:i})}}}function Tr(t,e,n,i){const l=t.model,s=l.document;let r,o,a,u=i.start;for(const h of i.getWalker({shallow:!0}))a=h.item.getAttribute(e),r&&o!=a&&(o!=n&&c(),u=r),r=h.nextPosition,o=a;function c(){const i=new ss(u,r),a=new mr(i,e,o,n,i.root.document?s.version:null);t.batch.addOperation(a),l.applyOperation(a)}r instanceof ls&&r!=u&&o!=n&&c()}function Sr(t,e,n,i){const l=t.model,s=l.document,r=i.getAttribute(e);let o,a;r!=n&&(i.root===i?a=new wr(i,e,r,n,i.document?s.version:null):(o=new ss(ls._createBefore(i),t.createPositionAfter(i)),a=new mr(o,e,r,n,o.root.document?s.version:null)),t.batch.addOperation(a),l.applyOperation(a))}function Mr(t,e,n,i,l){const s=t.model,r=new vr(e,n,i,s.markers,l,s.document.version);t.batch.addOperation(r),s.applyOperation(r)}function Pr(t,e,n,i){let l;if(t.root.document){const n=i.document,s=new ls(n.graveyard,[0]);l=new fr(t,e,s,n.version)}else l=new gr(t,e);n.addOperation(l),i.applyOperation(l)}function Ar(t,e){return t===e||t instanceof _r&&e instanceof _r}class Er{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(t){if(this._isInInsertedElement(t.parent))return;this._markRemove(t.parent,t.startOffset,t.offsetSize),this._markInsert(t.parent,t.startOffset,t.offsetSize);const e=ss._createOn(t);for(const n of this._markerCollection.getMarkersIntersectingRange(e)){const t=n.getRange();this.bufferMarkerChange(n.name,t,t,n.affectsData)}this._cachedChanges=null}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=ss._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1),this._markInsert(t.graveyardPosition.parent,t.graveyardPosition.offset,1);const n=t.targetPosition.parent;this._isInInsertedElement(n)||this._markInsert(n,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const l=this._changedMarkers.get(t);l?(l.newRange=n,l.affectsData=i,null==l.oldRange&&null==l.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const n of this._changesInElement.keys()){const t=this._changesInElement.get(n).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),i=this._elementSnapshots.get(n),l=Ir(n.getChildren()),s=Dr(i.length,t);let r=0,o=0;for(const a of s)if("i"===a)e.push(this._getInsertDiff(n,r,l[r].name)),r++;else if("r"===a)e.push(this._getRemoveDiff(n,r,i[o].name)),o++;else if("a"===a){const t=l[r].attributes,s=i[o].attributes;let a;if("$text"==l[r].name)a=new ss(ls._createAt(n,r),ls._createAt(n,r+1));else{const t=n.offsetToIndex(r);a=new ss(ls._createAt(n,r),ls._createAt(n.getChild(t),0))}e.push(...this._getAttributesDiff(a,s,t)),r++,o++}else r++,o++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1);for(let n=1;n<e.length;n++){const t=e[n-1],i=e[n],l="remove"==t.type&&"remove"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.isEqual(i.position),s="insert"==t.type&&"insert"==i.type&&"$text"==t.name&&"$text"==i.name&&t.position.parent==i.position.parent&&t.position.offset+t.length==i.position.offset,r="attribute"==t.type&&"attribute"==i.type&&t.position.parent==i.position.parent&&t.range.isFlat&&i.range.isFlat&&t.position.offset+t.length==i.position.offset&&t.attributeKey==i.attributeKey&&t.attributeOldValue==i.attributeOldValue&&t.attributeNewValue==i.attributeNewValue;(l||s||r)&&(e[n-1].length++,r&&(e[n-1].range.end=e[n-1].range.end.getShiftedBy(1)),e.splice(n,1),n--)}for(const n of e)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(Or),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):this._changesInElement.set(t,e=[]),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,Ir(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,l=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<l&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<l){const l=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:l-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=l)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<l){const e=l-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<l)if(i<=l){const i=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:t.offset,howMany:i-n.howMany-t.nodesToHandle,count:this._changeCount++})}else n.howMany-=l-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>l){const t={type:"attribute",offset:l,howMany:i-l,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<l&&(i>l?(t.nodesToHandle=i-l,t.offset=l):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const l={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(l,e),e.push(l),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=l?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=l&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:ls._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:ls._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[l,s]of e){const e=n.has(l)?n.get(l):null;e!==s&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:l,attributeOldValue:s,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(l)}for(const[l,s]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:l,attributeOldValue:null,attributeNewValue:s,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const l of n)if("insert"==l.type&&i>=l.offset&&i<l.offset+l.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new ss(ls._createAt(t,e),ls._createAt(t,e+n));for(const l of i.getItems({shallow:!0}))l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}function Ir(t){const e=[];for(const n of t)if(n.is("text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function Dr(t,e){const n=[];let i=0,l=0;for(const s of e){if(s.offset>i){for(let t=0;t<s.offset-i;t++)n.push("e");l+=s.offset-i}if("insert"==s.type){for(let t=0;t<s.howMany;t++)n.push("i");i=s.offset+s.howMany}else if("remove"==s.type){for(let t=0;t<s.howMany;t++)n.push("r");i=s.offset,l+=s.howMany}else n.push(..."a".repeat(s.howMany).split("")),i=s.offset+s.howMany,l+=s.howMany}if(l<t)for(let s=0;s<t-l-i;s++)n.push("e");return n}function Or(t){return!(t.position&&"$graveyard"==t.position.root.rootName||t.range&&"$graveyard"==t.range.root.rootName)}class Fr{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function Nr(t,e){return!!(n=t.charAt(e-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e));var n}function Rr(t,e){return!!(n=t.charAt(e))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}class Lr{constructor(t){this.model=t,this.version=0,this.history=new Fr(this),this.selection=new ys(this),this.roots=new Ee({idProperty:"rootName"}),this.differ=new Er(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new ye.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",this,{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new ye.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:e});const n=new _r(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>"$graveyard"!=t)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=Le(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return Br(t.start)&&Br(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),e=n(t))break}while(e)}}function Br(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!Nr(n,i)&&!Rr(n,i)}return!0}Ae(Lr,ke);class Vr{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const l=t instanceof zr?t.name:t,s=this._markers.get(l);if(s){const t=s.getRange();let r=!1;return t.isEqual(e)||(s._attachLiveRange(fs.fromRange(e)),r=!0),n!=s.managedUsingOperations&&(s._managedUsingOperations=n,r=!0),"boolean"==typeof i&&i!=s.affectsData&&(s._affectsData=i,r=!0),r&&this.fire("update:"+l,s,t,e),s}const r=fs.fromRange(e),o=new zr(l,r,n,i);return this._markers.set(l,o),this.fire("update:"+l,o,null,e),o}_remove(t){const e=t instanceof zr?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof zr?t.name:t,n=this._markers.get(e);if(!n)throw new ye.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}Ae(Vr,ke);class zr{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new ye.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new ye.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}getStart(){if(!this._liveRange)throw new ye.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new ye.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new ye.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}is(t){return"marker"==t||"model:marker"==t}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}Ae(zr,ke);class jr extends lr{get type(){return"noop"}clone(){return new jr(this.baseVersion)}getReversed(){return new jr(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const Hr={};Hr[mr.className]=mr,Hr[br.className]=br,Hr[vr.className]=vr,Hr[fr.className]=fr,Hr[jr.className]=jr,Hr[lr.className]=lr,Hr[yr.className]=yr,Hr[wr.className]=wr,Hr[kr.className]=kr,Hr[xr.className]=xr;class Wr extends ls{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new ye.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",t);Ur.call(this)}detach(){this.stopListening()}is(t){return"livePosition"==t||"model:livePosition"==t||super.is(t)}toPosition(){return new ls(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}function Ur(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&$r.call(this,n)},{priority:"low"})}function $r(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}Ae(Wr,ke);class Yr{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++)this._handleNode(t[n],{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast});this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?ss._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new ss(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t,e){this.schema.isObject(t)?this._handleObject(t,e):this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))throw new ye.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:t,position:this.position});const e=Wr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.nodeToSelect=this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?t:null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Wr.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Wr.fromPosition(t,"toNext"))}_mergeSiblingsOf(t,e){if(!(t instanceof es))return;const n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),l=Wr._createBefore(t);l.stickiness="toNext";const s=Wr._createAfter(t);if(s.stickiness="toNext",n){const t=Wr.fromPosition(this.position);t.stickiness="toNext",this._affectedStart.isEqual(l)&&(this._affectedStart.detach(),this._affectedStart=Wr._createAt(l.nodeBefore,"end","toPrevious")),this.writer.merge(l),l.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Wr._createAt(l.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach()}if(i){if(!this.position.isEqual(s))throw new ye.b("insertcontent-invalid-insertion-position",this);this.position=ls._createAt(s.nodeBefore,"end");const t=Wr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=Wr._createAt(s.nodeBefore,"end","toNext")),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=Wr._createAt(s.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),l.detach(),s.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof es&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof es&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===e&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function qr(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),Gr(t,n,t.createPositionAt(i,0))}function Gr(t,e,n){e instanceof ys?t.setSelection(n):e.setTo(n)}function Xr(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!Zr(n.data,i,e)&&!Qr(n,i,e);){t.next();const l=e?t.position.nodeAfter:t.position.nodeBefore;if(l&&l.is("text")){const i=l.data.charAt(e?0:l.data.length-1);' ,.?!:;"-()'.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let l=t.position.offset-n.startOffset;for(;Nr(i,l)||"character"==e&&Rr(i,l);)t.next(),l=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return ls._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function Kr(t,e){const n=ls._createAt(t.root,e?"end":0);return e?new ss(t,n):new ss(n,t)}function Zr(t,e,n){return' ,.?!:;"-()'.includes(t.charAt(e+(n?0:-1)))}function Qr(t,e,n){return e===(n?t.endOffset:0)}function Jr(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}function to(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;const l=i.start;return n.isEqual(l)?null:new ss(l)}(t,e):function(t,e){const n=t.start,i=t.end,l=e.checkChild(n,"$text"),s=e.checkChild(i,"$text"),r=e.getLimitElement(n),o=e.getLimitElement(i);if(r===o){if(l&&s)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),l=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||l}(n,i,e)){const t=n.nodeAfter&&e.isObject(n.nodeAfter)?null:e.getNearestSelectionRange(n,"forward"),l=i.nodeBefore&&e.isObject(i.nodeBefore)?null:e.getNearestSelectionRange(i,"backward");return new ss(t?t.start:n,l?l.start:i)}}const a=r&&!r.is("rootElement"),u=o&&!o.is("rootElement");if(a||u){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,l=a&&(!t||!no(n.nodeAfter,e)),s=u&&(!t||!no(i.nodeBefore,e));let c=n,h=i;return l&&(c=ls._createBefore(eo(r,e))),s&&(h=ls._createAfter(eo(o,e))),new ss(c,h)}return null}(t,e)}function eo(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function no(t,e){return t&&e.isObject(t)}class io{constructor(){this.markers=new Vr,this.document=new Lr(this),this.schema=new Vs,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),function(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.selection,i=e.schema,l=[];let s=!1;for(const r of n.getRanges()){const t=to(r,i);t?(l.push(t),s=!0):l.push(r)}s&&t.setSelection(function(t){const e=[];e.push(t.shift());for(const n of t){const t=e.pop();if(n.isIntersecting(t)){const i=t.start.isAfter(n.start)?n.start:t.start,l=t.end.isAfter(n.end)?t.end:n.end,s=new ss(i,l);e.push(s)}else e.push(t),e.push(n)}return e}(l),{backward:n.isBackward})})(e,t))}(this)}change(t){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new ir,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}catch(t){ye.b.rethrowUnexpectedError(t,this)}}enqueueChange(t,e){try{"string"==typeof t?t=new ir(t):"function"==typeof t&&(e=t,t=new ir),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(t){ye.b.rethrowUnexpectedError(t,this)}}applyOperation(t){t._execute()}insertContent(t,e,n){return function(t,e,n,i){return t.change(l=>{let s;(s=n?n instanceof hs||n instanceof ys?n:l.createSelection(n,i):t.document.selection).isCollapsed||t.deleteContent(s,{doNotAutoparagraph:!0});const r=new Yr(t,l,s.anchor);let o;o=e.is("documentFragment")?e.getChildren():[e],r.handleNodes(o,{isFirst:!0,isLast:!0});const a=r.getSelectionRange();a&&(s instanceof ys?l.setSelection(a):s.setTo(a));const u=r.getAffectedRange()||t.createRange(s.anchor);return r.destroy(),u})}(this,t,e,n)}deleteContent(t,e){!function(t,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if("$graveyard"==i.root.rootName)return;const l=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();return i.start.parent!=i.end.parent&&t.checkChild(n,"paragraph")}(l,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),qr(t,t.createPositionAt(n,0),e)}(t,e);const s=i.start,r=Wr.fromPosition(i.end,"toNext");i.start.isTouching(i.end)||t.remove(i),n.leaveUnmerged||(function t(e,n,i){const l=n.parent,s=i.parent;if(l!=s&&!e.model.schema.isLimit(l)&&!e.model.schema.isLimit(s)&&function(t,e,n){const i=new ss(t,e);for(const l of i.getWalker())if(n.isLimit(l.item))return!1;return!0}(n,i,e.model.schema)){for(n=e.createPositionAfter(l),(i=e.createPositionBefore(s)).isEqual(n)||e.insert(s,n),e.merge(n);i.parent.isEmpty;){const t=i.parent;i=e.createPositionBefore(t),e.remove(t)}t(e,n,i)}}(t,s,r),l.removeDisallowedAttributes(s.parent.getChildren(),t)),Gr(t,e,s),!n.doNotAutoparagraph&&function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(l,s)&&qr(t,s,e),r.detach()})}(this,t,e)}modifySelection(t,e){!function(t,e,n={}){const i=t.schema,l="backward"!=n.direction,s=n.unit?n.unit:"character",r=new ns({boundaries:Kr(e.focus,l),singleCharacters:!0,direction:l?"forward":"backward"}),o={walker:r,schema:i,isForward:l,unit:s};let a;for(;a=r.next();){if(a.done)return;const n=Xr(o,a.value);if(n)return void(e instanceof ys?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const l=i.start.root,s=i.start.getCommonPath(i.end),r=l.getNodeByPath(s);let o;const a=(o=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(r,i.start.path[s.length]),t.createPositionAt(r,i.end.path[s.length]+1))).end.offset-o.start.offset;for(const e of o.getItems({shallow:!0}))e.is("textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(o!=i){const e=i._getTransformedByMove(o.start,t.createPositionAt(n,0),a)[0],l=t.createRange(t.createPositionAt(n,0),e.start);Jr(t.createRange(e.end,t.createPositionAt(n,"end")),t),Jr(l,t)}return n})}(this,t)}hasContent(t,e){const n=t instanceof es?ss._createIn(t):t;if(n.isCollapsed)return!1;for(const l of this.markers.getMarkersIntersectingRange(n))if(l.affectsData)return!0;const{ignoreWhitespaces:i=!1}=e||{};for(const l of n.getItems())if(l.is("textProxy")){if(!i)return!0;if(-1!==l.data.search(/\S/))return!0}else if(this.schema.isObject(l))return!0;return!1}createPositionFromPath(t,e,n){return new ls(t,e,n)}createPositionAt(t,e){return ls._createAt(t,e)}createPositionAfter(t){return ls._createAfter(t)}createPositionBefore(t){return ls._createBefore(t)}createRange(t,e){return new ss(t,e)}createRangeIn(t){return ss._createIn(t)}createRangeOn(t){return ss._createOn(t)}createSelection(t,e,n){return new hs(t,e,n)}createBatch(t){return new ir(t)}createOperationFromJSON(t){return class{static fromJSON(t,e){return Hr[t.__className].fromJSON(t,e)}}.fromJSON(t,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new Cr(this,this._pendingChanges[0].batch);const e=this._pendingChanges[0].callback(this._currentWriter);t.push(e),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}Ae(io,Fn);class lo{constructor(){this._listener=Object.create(Qi)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+oi(e),e)})}set(t,e,n={}){const i=ai(t);this._listener.listenTo(this._listener,"_keydown:"+i,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:n.priority})}press(t){return!!this._listener.fire("_keydown:"+oi(t),t)}destroy(){this._listener.stopListening()}}class so extends lo{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=(e,n)=>{this.editor.execute(t),n()}}super.set(t,e,n)}}class ro{constructor(t={}){this._context=t.context||new Ne({language:t.language}),this._context._addEditor(this,!t.context);const e=Array.from(this.constructor.builtinPlugins||[]);this.config=new he(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.config.define(this._context._getEditorConfig()),this.plugins=new Ie(this,e,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Rs,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new io;const n=new kn;this.data=new Js(this.model,n),this.editing=new Ns(this.model,n),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new tr([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new so(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins"),n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[];return this.plugins.init(e.concat(i),n)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...t){try{this.commands.execute(...t)}catch(t){ye.b.rethrowUnexpectedError(t,this)}}}Ae(ro,Fn);var oo={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}},ao={updateSourceElement(){if(!this.sourceElement)throw new ye.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var t,e;t=this.sourceElement,e=this.data.get(),t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}};class uo{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class co{constructor(t){this._domParser=new DOMParser,this._domConverter=new qi(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new uo}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class ho{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new ye.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:t});this._components.set(po(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new ye.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:t});return this._components.get(po(t)).callback(this.editor.locale)}has(t){return this._components.has(po(t))}}function po(t){return String(t).toLowerCase()}class mo{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new ye.b("focusTracker-add-element-already-exist",this);this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}Ae(mo,Qi),Ae(mo,Fn);class go{constructor(t){this.editor=t,this.componentFactory=new ho(t),this.focusTracker=new mo,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const t of this._editableElementsMap.values())t.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(t,e){this._editableElementsMap.set(t,e),e.ckeditorInstance||(e.ckeditorInstance=this.editor)}getEditableElement(t="main"){return this._editableElementsMap.get(t)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}Ae(go,ke),n(13);const fo=new WeakMap;function bo(t){const{view:e,element:n,text:i,isDirectHost:l=!0}=t,s=e.document;fo.has(s)||(fo.set(s,new Map),s.registerPostFixer(t=>vo(s,t))),fo.get(s).set(n,{text:i,isDirectHost:l}),e.change(t=>vo(s,t))}function vo(t,e){const n=fo.get(t);let i=!1;for(const[l,s]of n)yo(e,l,s)&&(i=!0);return i}function yo(t,e,n){const{text:i,isDirectHost:l}=n,s=l?e:function(t){if(1===t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}(e);let r=!1;return!!s&&(n.hostElement=s,s.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,s),r=!0),function(t){if(!t.isAttached())return!1;const e=!Array.from(t.getChildren()).some(t=>!t.is("uiElement")),n=t.document;if(!n.isFocused&&e)return!0;const i=n.selection.anchor;return!(!e||!i||i.parent===t)}(s)?function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,s)&&(r=!0):function(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}(t,s)&&(r=!0),r)}class wo{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}class xo extends go{constructor(t,e){var n;super(t),this.view=e,this._toolbarConfig=(n=t.config.get("toolbar"),Array.isArray(n)?{items:n}:n?Object.assign({items:[]},n):{items:[]}),this._elementReplacer=new wo}get element(){return this.view.element}init(t){const e=this.view,n=this.editor.editing.view,i=e.editable,l=n.document.getRoot();i.name=l.rootName,e.render();const s=i.element;this.setEditableElement(i.name,s),this.focusTracker.add(s),e.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(s),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:l,afterBlur:s}){n.add(i.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(l&&l(),i.focus(),e())}),i.keystrokes.set("Esc",(e,n)=>{i.focusTracker.isFocused&&(t.focus(),s&&s(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement,l=t.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");l&&bo({view:e,element:n,text:l,isDirectHost:!1})}}class ko extends Ee{constructor(t){super({idProperty:"viewUid"}),this.on("add",(t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!t.every(t=>"string"==typeof t))throw new ye.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",(n,i)=>{for(const l of t)i.delegate(l).to(e)}),this.on("remove",(n,i)=>{for(const l of t)i.stopDelegating(l,e)})}}}}class _o{constructor(t){Object.assign(this,Oo(Do(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new ye.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,t]);this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)Bo(n)?yield n:Vo(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new To({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,l)=>new So({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:l})}}static extend(t,e){if(t._isRendered)throw new ye.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,t]);!function t(e,n){if(n.attributes&&(e.attributes||(e.attributes={}),Ro(e.attributes,n.attributes)),n.eventListeners&&(e.eventListeners||(e.eventListeners={}),Ro(e.eventListeners,n.eventListeners)),n.text&&e.text.push(...n.text),n.children&&n.children.length){if(e.children.length!=n.children.length)throw new ye.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",e);let i=0;for(const l of n.children)t(e.children[i++],l)}}(t,Oo(Do(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new ye.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),Mo(this.text)?this._bindToObservable({schema:this.text,updater:Ao(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,l;if(!this.attributes)return;const s=t.node,r=t.revertData;for(e in this.attributes)if(i=s.getAttribute(e),n=this.attributes[e],r&&(r.attributes[e]=i),l=M(n[0])&&n[0].ns?n[0].ns:null,Mo(n)){const o=l?n[0].value:n;r&&jo(e)&&o.unshift(i),this._bindToObservable({schema:o,updater:Eo(s,e,l),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(r&&i&&jo(e)&&n.unshift(i),Lo(n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(No,""))||s.setAttributeNS(l,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const l=t[i];Mo(l)?this._bindToObservable({schema:[l],updater:Io(n,i),data:e}):n.style[i]=l}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let l=0;for(const s of this.children)if(zo(s)){if(!i){s.setParent(e);for(const t of s)n.appendChild(t.element)}}else if(Bo(s))i||(s.isRendered||s.render(),n.appendChild(s.element));else if(Bi(s))n.appendChild(s);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),s._renderNode({node:n.childNodes[l++],isApplying:!0,revertData:e})}else n.appendChild(s.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[i,l]=e.split("@");return n.activateDomEventListener(i,l,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;Po(t,e,n);const l=t.filter(t=>!Lo(t)).filter(t=>t.observable).map(i=>i.activateAttributeListener(t,e,n));i&&i.bindings.push(l)}_revertTemplateFromNode(t,e){for(const n of e.bindings)for(const t of n)t();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}Ae(_o,ke);class Co{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>Po(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class To extends Co{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class So extends Co{getValue(t){return!Lo(super.getValue(t))&&(this.valueIfTrue||!0)}}function Mo(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(Mo):t instanceof Co)}function Po(t,e,{node:n}){let i=function(t,e){return t.map(t=>t instanceof Co?t.getValue(e):t)}(t,n);Lo(i=1==t.length&&t[0]instanceof So?i[0]:i.reduce(No,""))?e.remove():e.set(i)}function Ao(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}function Eo(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function Io(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function Do(t){return ue(t,t=>{if(t&&(t instanceof Co||Vo(t)||Bo(t)||zo(t)))return t})}function Oo(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)Fo(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),Fo(t,e)}(t.attributes);const e=[];if(t.children)if(zo(t.children))e.push(t.children);else for(const n of t.children)Vo(n)||Bo(n)||Bi(n)?e.push(n):e.push(new _o(n));t.children=e}return t}function Fo(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function No(t,e){return Lo(e)?t:Lo(t)?e:`${t} ${e}`}function Ro(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function Lo(t){return!t&&0!==t}function Bo(t){return t instanceof Ho}function Vo(t){return t instanceof _o}function zo(t){return t instanceof ko}function jo(t){return"class"==t||"style"==t}n(15);class Ho{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Ee,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=_o.bind(this,this)}createCollection(){const t=new ko;return this._viewCollections.add(t),t}registerChild(t){je(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){je(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new _o(t)}extendTemplate(t){_o.extend(this.template,t)}render(){if(this.isRendered)throw new ye.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}Ae(Ho,Qi),Ae(Ho,Fn);var Wo=function(t){return"string"==typeof t||!st(t)&&m(t)&&"[object String]"==h(t)};class Uo extends ko{attachToDom(){this._bodyCollectionContainer=new _o({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let t=document.querySelector(".ck-body-wrapper");t||(t=function(t,e,n={},i=[]){const l=n&&n.xmlns,s=l?t.createElementNS(l,e):t.createElement(e);for(const r in n)s.setAttribute(r,n[r]);!Wo(i)&&je(i)||(i=[i]);for(let r of i)Wo(r)&&(r=t.createTextNode(r)),s.appendChild(r);return s}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const t=document.querySelector(".ck-body-wrapper");t&&0==t.childElementCount&&t.remove()}}n(17);class $o extends Ho{constructor(t){super(t),this.body=new Uo(t)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}n(19);class Yo extends Ho{constructor(t){super(t),this.set("text"),this.set("for"),this.id=`ck-editor__label_${be()}`;const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:e.to("for")},children:[{text:e.to("text")}]})}}class qo extends $o{constructor(t){super(t),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:t.uiLanguageDirection,lang:t.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const t=this.t,e=new Yo;return e.text=t("bj"),e.extendTemplate({attributes:{class:"ck-voice-label"}}),e}}class Go extends Ho{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:t.contentLanguage,dir:t.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)})}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",(t,l,s)=>{s?n(i):e(i)})}(this):e(this)}}class Xo extends Go{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("by",[this.name]),i)})}}function Ko(t){return e=>e+t}n(21);const Zo=Ko("px");class Qo extends Ho{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new _o({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>t?Zo(this._panelRect.height):null)}}}).render(),this._contentPanel=new _o({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>t?Zo(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",t=>t?Zo(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",t=>t?Zo(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Wi.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Zo(-Wi.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Jo{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(ta)||null}get last(){return this.focusables.filter(ta).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(ta(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function ta(t){return!(!t.focus||"none"==Wi.window.getComputedStyle(t.element).display)}class ea extends Ho{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class na{constructor(t,e){na._observerInstance||na._createObserver(),this._element=t,this._callback=e,na._addElementCallback(t,e),na._observerInstance.observe(t)}destroy(){na._deleteElementCallback(this._element,this._callback)}static _addElementCallback(t,e){na._elementCallbacks||(na._elementCallbacks=new Map);let n=na._elementCallbacks.get(t);n||(n=new Set,na._elementCallbacks.set(t,n)),n.add(e)}static _deleteElementCallback(t,e){const n=na._getElementCallbacks(t);n&&(n.delete(e),n.size||(na._elementCallbacks.delete(t),na._observerInstance.unobserve(t))),na._elementCallbacks&&!na._elementCallbacks.size&&(na._observerInstance=null,na._elementCallbacks=null)}static _getElementCallbacks(t){return na._elementCallbacks?na._elementCallbacks.get(t):null}static _createObserver(){let t;na._observerInstance=new(t="function"==typeof Wi.window.ResizeObserver?Wi.window.ResizeObserver:ia)(t=>{for(const e of t){const t=na._getElementCallbacks(e.target);if(t)for(const n of t)n(e)}})}}na._observerInstance=null,na._elementCallbacks=null;class ia{constructor(t){this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(t){this._elements.add(t),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(t){this._elements.delete(t),this._previousRects.delete(t),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const t=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(Wi.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(t,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const t=[];for(const e of this._elements)this._hasRectChanged(e)&&t.push({target:e,contentRect:this._previousRects.get(e)});t.length&&this._callback(t)}_hasRectChanged(t){if(!t.ownerDocument.body.contains(t))return!1;const e=new Ll(t),n=this._previousRects.get(t),i=!n||!n.isEqual(e);return this._previousRects.set(t,e),i}}Ae(ia,Qi);class la extends Ho{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>`ck-dropdown__panel_${t}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}function sa({element:t,target:e,positions:n,limiter:i,fitInViewport:l}){P(e)&&(e=e()),P(i)&&(i=i());const s=function(t){for(;t&&"html"!=t.tagName.toLowerCase();){if("static"!=Wi.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}(t.parentElement),r=new Ll(t),o=new Ll(e);let a,u;if(i||l){const t=i&&new Ll(i).getVisible(),e=l&&new Ll(Wi.window);[u,a]=function(t,e,n,i,l){let s,r,o=0,a=0;const u=n.getArea();return t.some(t=>{const[c,h]=ra(t,e,n);let d,p;if(i)if(l){const t=i.getIntersection(l);d=t?t.getIntersectionArea(h):0}else d=i.getIntersectionArea(h);function m(){a=p,o=d,s=h,r=c}return l&&(p=l.getIntersectionArea(h)),l&&!i?p>a&&m():!l&&i?d>o&&m():(p>a&&d>=o||p>=a&&d>o)&&m(),d===u}),s?[r,s]:null}(n,o,r,t,e)||ra(n[0],o,r)}else[u,a]=ra(n[0],o,r);let{left:c,top:h}=oa(a);if(s){const t=oa(new Ll(s)),e=Nl(s);c-=t.left,h-=t.top,c+=s.scrollLeft,h+=s.scrollTop,c-=e.left,h-=e.top}return{left:c,top:h,name:u}}function ra(t,e,n){const{left:i,top:l,name:s}=t(e,n);return[s,n.clone().moveTo(i,l)]}function oa({left:t,top:e}){const{scrollX:n,scrollY:i}=Wi.window;return{left:t+n,top:e+i}}n(23);class aa extends Ho{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.focusTracker=new mo,this.keystrokes=new lo,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",t=>!t)],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?aa._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:t,southWest:e,northEast:n,northWest:i}=aa.defaultPanelPositions;return"ltr"===this.locale.uiLanguageDirection?[t,e,n,i]:[e,t,i,n]}}aa.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})},aa._getOptimalPosition=sa,n(25);class ua extends Ho{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}n(27);class ca extends Ho{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}n(29);class ha extends Ho{constructor(t){super(t);const e=this.bindTemplate,n=be();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new ua,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text"),e.if("withKeystroke","ck-button_with-keystroke")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.to("isOn",t=>!!this.isToggleable&&String(t))},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const t=new ca;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new Ho;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_createKeystrokeView(){const t=new Ho;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",t=>ui(t))}]}),t}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=ui(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}class da extends ha{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new ua;return t.content='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}n(31);class pa extends Ho{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new mo,this.keystrokes=new lo,this._focusCycler=new Jo({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ma extends Ho{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class ga extends Ho{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(33);class fa extends ha{constructor(t){super(t),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Ho;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}function ba({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",(t,{target:l})=>{if(e()){for(const t of i)if(t.contains(l))return;n()}})}function va(t,e=da){const n=new e(t),i=new la(t),l=new aa(t,n,i);return n.bind("isEnabled").to(l),n instanceof da?n.bind("isOn").to(l,"isOpen"):n.arrowView.bind("isOn").to(l,"isOpen"),function(t){(function(t){t.on("render",()=>{ba({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof fa||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(l),l}function ya(t,e){const n=t.locale,i=t.listView=new pa(n);i.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new ga(n);if("button"===t||"switchbutton"===t){const i=new ma(n);let l;return(l="button"===t?new ha(n):new fa(n)).bind(...Object.keys(e)).to(e),l.delegate("execute").to(i),i.children.add(l),i}}),t.panelView.children.add(i),i.items.delegate("execute").to(t)}n(35),n(37),n(39);class wa extends Ho{constructor(t,e){super(t);const n=this.bindTemplate,i=this.t;var l;this.options=e||{},this.set("ariaLabel",i("bo")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new mo,this.keystrokes=new lo,this.set("class"),this.set("isCompact",!1),this.itemsView=new xa(t),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection(),this._focusCycler=new Jo({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")}},children:this.children,on:{mousedown:(l=this,l.bindTemplate.to(t=>{t.target===l.element&&t.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new _a(this):new ka(this)}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{"|"==t?this.items.add(new ea):e.has(t)?this.items.add(e.create(t)):console.warn(Object(ye.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:t})})}}class xa extends Ho{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class ka{constructor(t){const e=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using(t=>t),t.focusables.bindTo(t.items).using(t=>t),t.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class _a{constructor(t){this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,t.itemsView.children.bindTo(this.ungroupedItems).using(t=>t),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("add",(t,e,n)=>{n>this.ungroupedItems.length?this.groupedItems.add(e,n-this.ungroupedItems.length):this.ungroupedItems.add(e,n),this._updateGrouping()}),t.items.on("remove",(t,e,n)=>{n>this.ungroupedItems.length?this.groupedItems.remove(e):this.ungroupedItems.remove(e),this._updateGrouping()}),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(t){this.viewElement=t.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(t)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const t=this.viewElement,e=this.viewLocale.uiLanguageDirection,n=new Ll(t.lastChild),i=new Ll(t);if(!this.cachedPadding){const n=Wi.window.getComputedStyle(t);this.cachedPadding=Number.parseInt(n["ltr"===e?"paddingRight":"paddingLeft"])}return"ltr"===e?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let t;this.resizeObserver=new na(this.viewElement,e=>{t&&t===e.contentRect.width||(this._updateGrouping(),t=e.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(t){t.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new ea),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const t=this.viewLocale,e=t.t,n=va(t);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===t.uiLanguageDirection?"sw":"se",function(t,e){const n=t.locale,i=n.t,l=t.toolbarView=new wa(n);l.set("ariaLabel",i("bk")),t.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map(t=>l.items.add(t)),t.panelView.children.add(l),l.items.delegate("execute").to(t)}(n),n.buttonView.set({label:e("bp"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using(t=>t),n}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(t=>{this.viewFocusables.add(t)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}n(41);class Ca extends qo{constructor(t,e,n={}){super(t),this.stickyPanel=new Qo(t),this.toolbar=new wa(t,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),this.editable=new Xo(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Ta extends ro{constructor(t,e){super(e),ce(t)&&(this.sourceElement=t),this.data.processor=new co(this.data.viewDocument),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=new Ca(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n});this.ui=new xo(this,i),function(t){if(!P(t.updateSourceElement))throw new ye.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",t);const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const i=e.form,l=()=>t.updateSourceElement();P(i.submit)&&(n=i.submit,i.submit=()=>{l(),n.apply(i)}),i.addEventListener("submit",l),t.on("destroy",()=>{i.removeEventListener("submit",l),n&&(i.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const i=new this(t,e);n(i.initPlugins().then(()=>i.ui.init(ce(t)?t:null)).then(()=>{if(!ce(t)&&e.initialData)throw new ye.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);const n=e.initialData||function(t){return ce(t)?(e=t)instanceof HTMLTextAreaElement?e.value:e.innerHTML:t;var e}(t);return i.data.init(n)}).then(()=>i.fire("ready")).then(()=>i))})}}Ae(Ta,oo),Ae(Ta,ao);class Sa{constructor(t){this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Ma,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Ma),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function Ma(t){t.return=!1,t.stop()}Ae(Sa,Fn);class Pa{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];return e.length?e:n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class Aa extends bl{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges()),l=new ge(e,"clipboardInput");e.fire(l,{dataTransfer:n.dataTransfer,targetRanges:i}),l.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Pa(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,i=e.clientX,l=e.clientY;let s;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,l)?s=n.caretRangeFromPoint(i,l):e.rangeParent&&((s=n.createRange()).setStart(e.rangeParent,e.rangeOffset),s.collapse(!0)),s?t.domConverter.domRangeToView(s):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Ea=["figcaption","li"];class Ia extends Sa{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function l(n,l){const s=l.dataTransfer;l.preventDefault();const r=t.data.toView(t.model.getSelectedContent(e.selection));i.fire("clipboardOutput",{dataTransfer:s,content:r,method:n.name})}this._htmlDataProcessor=new co(i),n.addObserver(Aa),this.listenTo(i,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(t,e)=>{const i=e.dataTransfer;let l="";var s;i.getData("text/html")?l=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1==e.length?" ":e)}(i.getData("text/html")):i.getData("text/plain")&&((s=(s=i.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(s=`<p>${s}</p>`),l=s),l=this._htmlDataProcessor.toView(l),this.fire("inputTransformation",{content:l,dataTransfer:i}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const t=this.editor.model,n=this.editor.data.toModel(e.content,"$clipboardHolder");if(0==n.childCount)return;t.insertContent(n)}},{priority:"low"}),this.listenTo(i,"copy",l,{priority:"low"}),this.listenTo(i,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():l(e,n)},{priority:"low"}),this.listenTo(i,"clipboardOutput",(n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("text")||e.is("textProxy"))n=e.data;else if(e.is("img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{let i=null;for(const l of e.getChildren()){const e=t(l);i&&(i.is("containerElement")||l.is("containerElement"))&&(Ea.includes(i.name)||Ea.includes(l.name)?n+="\n":n+="\n\n"),n+=e,i=l}}return n}(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class Da{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",Oa,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",Oa),this.refresh())}execute(){}destroy(){this.stopListening()}}function Oa(t){t.return=!1,t.stop()}function*Fa(t,e){for(const n of e)n&&t.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}Ae(Da,Fn);class Na extends Da{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,i){const l=n.isCollapsed,s=n.getFirstRange(),r=s.start.parent,o=s.end.parent;if(i.isLimit(r)||i.isLimit(o))l||r!=o||t.deleteContent(n);else if(l){const t=Fa(e.model.schema,n.getAttributes());Ra(e,s.start),e.setSelectionAttribute(t)}else{const i=!(s.start.isAtStart&&s.end.isAtEnd),l=r==o;t.deleteContent(n,{leaveUnmerged:i}),i&&(l?Ra(e,n.focus):e.setSelection(o,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function Ra(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}class La extends el{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==ri.enter){let i;e.once("enter",t=>i=t,{priority:"highest"}),e.fire("enter",new fl(e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop()}})}observe(){}}class Ba extends Sa{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(La),t.commands.add("enter",new Na(t)),this.listenTo(n,"enter",(n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class Va extends Da{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const i=n.isCollapsed,l=n.getFirstRange(),s=l.end.parent,r=l.start.parent==s;if(i){const i=Fa(t.schema,n.getAttributes());za(t,e,l.end),e.removeSelectionAttribute(n.getAttributeKeys()),e.setSelectionAttribute(i)}else{const i=!(l.start.isAtStart&&l.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),r?za(t,e,n.focus):i&&e.setSelection(s,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),l=i.start.parent,s=i.end.parent;return!ja(l,t)&&!ja(s,t)||l===s}(t.schema,t.document.selection)}}function za(t,e,n){const i=e.createElement("softBreak");t.insertContent(i,n),e.setSelection(i,"after")}function ja(t,e){return!t.is("rootElement")&&(e.isLimit(t)||ja(t.parent,e))}class Ha extends Sa{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.conversion,n=t.editing.view,i=n.document;t.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),e.for("upcast").elementToElement({model:"softBreak",view:"br"}),e.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")}),n.addObserver(La),t.commands.add("shiftEnter",new Va(t)),this.listenTo(i,"enter",(e,i)=>{i.preventDefault(),i.isSoft&&(t.execute("shiftEnter"),n.scrollToTheSelection())},{priority:"low"})}}class Wa{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=(t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class Ua extends Da{constructor(t,e){super(t),this._buffer=new Wa(t.model,e),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",l=i.length,s=t.range?e.createSelection(t.range):n.selection,r=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{this._buffer.lock(),e.deleteContent(s),i&&e.insertContent(t.createText(i,n.selection.getAttributes()),s),r?t.setSelection(r):s.is("documentSelection")||t.setSelection(s),this._buffer.unlock(),this._buffer.input(l),this._batches.add(this._buffer.batch)})}}const $a=[oi("arrowUp"),oi("arrowRight"),oi("arrowDown"),oi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let $m=112;$m<=135;$m++)$a.push($m);function Ya(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let i,l=0;return t.forEach(t=>{"equal"==t?(s(),l++):"insert"==t?(r("insert")?i.values.push(e[l]):(s(),i={type:"insert",index:l,values:[e[l]]}),l++):r("delete")?i.howMany++:(s(),i={type:"delete",index:l,howMany:1})}),s(),n;function s(){i&&(n.push(i),i=null)}function r(t){return i&&i.type==t}}(Ni(t.oldChildren,t.newChildren,qa),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("text")?n:void 0}function qa(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e}class Ga{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(function(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!Ya(e))return!0;return!1}(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(e)return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),l=new qi(this.editor.editing.view.document),s=this.editor.data.toModel(l.domToView(i)).getChild(0),r=this.editor.editing.mapper.toModelElement(n);if(!r)return;const o=Array.from(s.getChildren()),a=Array.from(r.getChildren()),u=o[o.length-1],c=a[a.length-1];u&&u.is("softBreak")&&c&&!c.is("softBreak")&&o.pop();const h=this.editor.model.schema;if(!Xa(o,h)||!Xa(a,h))return;const d=o.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," "),p=a.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");if(p===d)return;const m=Ni(p,d),{firstChangeAt:g,insertions:f,deletions:b}=Ka(m);let v=null;e&&(v=this.editing.mapper.toModelRange(e.getFirstRange()));const y=d.substr(g,f),w=this.editor.model.createRange(this.editor.model.createPositionAt(r,g),this.editor.model.createPositionAt(r,g+b));this.editor.execute("input",{text:y,range:w,resultRange:v})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const l=Ni(i,n),{firstChangeAt:s,insertions:r,deletions:o}=Ka(l);let a=null;e&&(a=this.editing.mapper.toModelRange(e.getFirstRange()));const u=this.editing.view.createPositionAt(t.node,s),c=this.editing.mapper.toModelPosition(u),h=this.editor.model.createRange(c,c.getShiftedBy(o)),d=n.substr(s,r);this.editor.execute("input",{text:d,range:h,resultRange:a})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=Ya(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n);this.editor.execute("input",{text:e.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function Xa(t,e){return t.every(t=>e.isInline(t))}function Ka(t){let e=null,n=null;for(let s=0;s<t.length;s++)"equal"!=t[s]&&(e=null===e?s:e,n=s);let i=0,l=0;for(let s=e;s<=n;s++)"insert"!=t[s]&&i++,"delete"!=t[s]&&l++;return{insertions:l,deletions:i,firstChangeAt:e}}class Za extends Sa{static get pluginName(){return"Input"}init(){const t=this.editor,e=new Ua(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),function(t){let e=null;const n=t.model,i=t.editing.view,l=t.commands.get("input");function s(t){const s=n.document,o=i.document.isComposing,a=e&&e.isEqual(s.selection);e=null,l.isEnabled&&(function(t){return!!t.ctrlKey||$a.includes(t.keyCode)}(t)||s.selection.isCollapsed||o&&229===t.keyCode||!o&&229===t.keyCode&&a||r())}function r(){const t=l.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}i.document.on(ii.isAndroid?"beforeinput":"keydown",(t,e)=>s(e),{priority:"lowest"}),i.document.on("compositionstart",(function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;t.selection.isCollapsed||e||r()}),{priority:"lowest"}),i.document.on("compositionend",()=>{e=n.createSelection(n.document.selection)},{priority:"lowest"})}(t),function(t){t.editing.view.document.on("mutations",(e,n,i)=>{new Ga(t).handle(n,i)})}(t)}isInput(t){return this.editor.commands.get("input")._batches.has(t)}}class Qa extends Da{constructor(t,e){super(t),this.direction=e,this._buffer=new Wa(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const l=i.createSelection(t.selection||n.selection),s=l.isCollapsed;if(l.isCollapsed&&e.modifySelection(l,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(i);if(l.isCollapsed)return;let r=0;l.getFirstRange().getMinimalFlatRanges().forEach(t=>{r+=qn(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(l,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(r),i.setSelection(l),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const l=i.getChild(0);return!l||"paragraph"!==l.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.schema.getLimitElement(e.document.selection),i=t.createElement("paragraph");t.remove(t.createRangeIn(n)),t.insert(i,n),t.setSelection(i,0)}}class Ja extends el{constructor(t){super(t);const e=t.document;let n=0;function i(t,n,i){let l;e.once("delete",t=>l=t,{priority:Number.POSITIVE_INFINITY}),e.fire("delete",new fl(e,n,i)),l&&l.stop.called&&t.stop()}e.on("keyup",(t,e)=>{e.keyCode!=ri.delete&&e.keyCode!=ri.backspace||(n=0)}),e.on("keydown",(t,e)=>{const l={};if(e.keyCode==ri.delete)l.direction="forward",l.unit="character";else{if(e.keyCode!=ri.backspace)return;l.direction="backward",l.unit="codePoint"}l.unit=(ii.isMac?e.altKey:e.ctrlKey)?"word":l.unit,l.sequence=++n,i(t,e.domEvent,l)}),ii.isAndroid&&e.on("beforeinput",(e,n)=>{if("deleteContentBackward"!=n.domEvent.inputType)return;const l={unit:"codepoint",direction:"backward",sequence:1},s=n.domTarget.ownerDocument.defaultView.getSelection();s.anchorNode==s.focusNode&&s.anchorOffset+1!=s.focusOffset&&(l.selectionToRemove=t.domConverter.domSelectionToView(s)),i(e,n.domEvent,l)})}observe(){}}class tu extends Sa{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;if(e.addObserver(Ja),t.commands.add("forwardDelete",new Qa(t,"forward")),t.commands.add("delete",new Qa(t,"backward")),this.listenTo(n,"delete",(n,i)=>{const l={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){const e=t.model.createSelection(),n=[];for(const l of i.selectionToRemove.getRanges())n.push(t.editing.mapper.toModelRange(l));e.setTo(n),l.selection=e}t.execute("forward"==i.direction?"forwardDelete":"delete",l),i.preventDefault(),e.scrollToTheSelection()}),ii.isAndroid){let t=null;this.listenTo(n,"delete",(e,n)=>{const i=n.domTarget.ownerDocument.defaultView.getSelection();t={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}},{priority:"lowest"}),this.listenTo(n,"keyup",(e,n)=>{if(t){const e=n.domTarget.ownerDocument.defaultView.getSelection();e.collapse(t.anchorNode,t.anchorOffset),e.extend(t.focusNode,t.focusOffset),t=null}})}}}class eu extends Sa{static get requires(){return[Za,tu]}static get pluginName(){return"Typing"}}const nu=new Map;function iu(t,e,n){let i=nu.get(t);i||(i=new Map,nu.set(t,i)),i.set(e,n)}function lu(t){return[t]}function su(t,e,n={}){const i=function(t,e){const n=nu.get(t);return n&&n.has(e)?n.get(e):lu}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(t){throw t}}function ru(t,e,n){t=t.slice(),e=e.slice();const i=new ou(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(t),i.setOriginalOperations(e);const l=i.originalOperations;if(0==t.length||0==e.length)return{operationsA:t,operationsB:e,originalOperations:l};const s=new WeakMap;for(const a of t)s.set(a,0);const r={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length};let o=0;for(;o<t.length;){const n=t[o],l=s.get(n);if(l==e.length){o++;continue}const r=e[l],a=su(n,r,i.getContext(n,r,!0)),u=su(r,n,i.getContext(r,n,!1));i.updateRelation(n,r),i.setOriginalOperations(a,n),i.setOriginalOperations(u,r);for(const t of a)s.set(t,l+u.length);t.splice(o,1,...a),e.splice(l,1,...u)}if(n.padWithNoOps){const n=t.length-r.originalOperationsACount,i=e.length-r.originalOperationsBCount;uu(t,i-n),uu(e,n-i)}return au(t,r.nextBaseVersionB),au(e,r.nextBaseVersionA),{operationsA:t,operationsB:e,originalOperations:l}}class ou{constructor(t,e,n=!1){this.originalOperations=new Map,this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this.originalOperations.get(e):null;for(const i of t)this.originalOperations.set(i,n||i)}updateRelation(t,e){switch(t.constructor){case fr:switch(e.constructor){case xr:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case fr:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case kr:switch(e.constructor){case xr:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case fr:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore")}break;case xr:switch(e.constructor){case xr:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case kr:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case vr:{const n=t.newRange;if(!n)return;switch(e.constructor){case fr:{const i=ss._createFromPositionAndShift(e.sourcePosition,e.howMany),l=i.containsPosition(n.start)||i.start.isEqual(n.start),s=i.containsPosition(n.end)||i.end.isEqual(n.end);!l&&!s||i.containsRange(n)||this._setRelation(t,e,{side:l?"left":"right",path:l?n.start.path.slice():n.end.path.slice()});break}case xr:{const i=n.start.isEqual(e.targetPosition),l=n.start.isEqual(e.deletionPosition),s=n.end.isEqual(e.deletionPosition),r=n.end.isEqual(e.sourcePosition);(i||l||s||r)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:l,wasEndBeforeMergedElement:s,wasInRightElement:r});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this.originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this.originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const l=this.originalOperations.get(t),s=this._relations.get(l);return s&&s.get(i)||null}_setRelation(t,e,n){const i=this.originalOperations.get(t),l=this.originalOperations.get(e);let s=this._relations.get(i);s||(s=new Map,this._relations.set(i,s)),s.set(l,n)}}function au(t,e){for(const n of t)n.baseVersion=e++}function uu(t,e){for(let n=0;n<e;n++)t.push(new jr(0))}function cu(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const l=new ss(t.position,t.position.getShiftedBy(t.howMany));return new mr(l,e,i,n,0)}function hu(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function du(t,e){const n=[];for(let i=0;i<t.length;i++){const l=t[i],s=new fr(l.start,l.end.offset-l.start.offset,e,0);n.push(s);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)[0];e=e._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany)}return n}iu(mr,mr,(t,e,n)=>{if(t.key===e.key){const i=t.range.getDifference(e.range).map(e=>new mr(e,t.key,t.oldValue,t.newValue,0)),l=t.range.getIntersection(e.range);return l&&n.aIsStrong&&i.push(new mr(l,e.key,e.newValue,t.newValue,0)),0==i.length?[new jr(0)]:i}return[t]}),iu(mr,br,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new mr(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const i=cu(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),iu(mr,xr,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(ss._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(e=>new mr(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),iu(mr,fr,(t,e)=>(function(t,e){const n=ss._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,l=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(l=t.getDifference(n),i=t.getIntersection(n)):l=[t];const s=[];for(let r of l){r=r._getTransformedByDeletion(e.sourcePosition,e.howMany);const t=e.getMovedRangeStart(),n=r.start.hasSameParentAs(t);r=r._getTransformedByInsertion(t,e.howMany,n),s.push(...r)}return i&&s.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]),s})(t.range,e).map(e=>new mr(e,t.key,t.oldValue,t.newValue,t.baseVersion))),iu(mr,kr,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new ss(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),iu(br,mr,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=cu(t,e.key,e.newValue);i&&n.push(i)}return n}),iu(br,br,(t,e,n)=>(t.position.isEqual(e.position)&&n.aIsStrong||(t.position=t.position._getTransformedByInsertOperation(e)),[t])),iu(br,fr,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),iu(br,kr,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),iu(br,xr,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),iu(vr,br,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),iu(vr,vr,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new jr(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),iu(vr,xr,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),iu(vr,fr,(t,e,n)=>{if(t.oldRange&&(t.oldRange=ss._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=ss._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=ss._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),iu(vr,kr,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=ls._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=ls._createAt(e.moveTargetPosition)),t.newRange.end=t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?ls._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?ls._createAt(e.insertionPosition):i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),iu(xr,br,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),iu(xr,xr,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new ls(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new jr(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,l="$graveyard"==e.targetPosition.root.rootName,s=i&&!l;if(l&&!i||!s&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new fr(n,t.howMany,i,0)]}return[new jr(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),iu(xr,fr,(t,e,n)=>{const i=ss._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new jr(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),iu(xr,kr,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,l=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||l||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),iu(fr,br,(t,e)=>{const n=ss._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),iu(fr,fr,(t,e,n)=>{const i=ss._createFromPositionAndShift(t.sourcePosition,t.howMany),l=ss._createFromPositionAndShift(e.sourcePosition,e.howMany);let s,r=n.aIsStrong,o=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?o=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(o=!1),s=t.targetPosition.isEqual(e.targetPosition)&&o?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),hu(t,e)&&hu(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(l,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),du([i],s);if(l.containsPosition(t.targetPosition)&&l.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),du([i],s);const a=Re(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==a||"extension"==a)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),du([i],s);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(r=!1):r=!0;const u=[],c=i.getDifference(l);for(const d of c){d.start=d.start._getTransformedByDeletion(e.sourcePosition,e.howMany),d.end=d.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const t="same"==Re(d.start.getParentPath(),e.getMovedRangeStart().getParentPath()),n=d._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,t);u.push(...n)}const h=i.getIntersection(l);return null!==h&&r&&(h.start=h.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),h.end=h.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===u.length?u.push(h):1==u.length?l.start.isBefore(i.start)||l.start.isEqual(i.start)?u.unshift(h):u.push(h):u.splice(1,0,h)),0===u.length?[new jr(t.baseVersion)]:du(u,s)}),iu(fr,kr,(t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const l=ss._createFromPositionAndShift(t.sourcePosition,t.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let t=new ss(e.splitPosition,l.end);return t=t._getTransformedBySplitOperation(e),du([new ss(l.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const s=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&s.push(ss._createFromPositionAndShift(e.insertionPosition,1))}return du(s,i)}),iu(fr,xr,(t,e,n)=>{const i=ss._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new jr(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),l=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new fr(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),l=l._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const s=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),r=new fr(i,1,s,0),o=r.getMovedRangeStart().path.slice();o.push(0);const a=new ls(r.targetPosition.root,o);l=l._getTransformedByMove(i,s,1);const u=new fr(l,e.howMany,a,0);return n.push(r),n.push(u),n}const l=ss._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=l.start,t.howMany=l.end.offset-l.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),iu(yr,br,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),iu(yr,xr,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),iu(yr,fr,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),iu(yr,yr,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new jr(0)];t.oldName=e.newName}return[t]}),iu(yr,kr,(t,e)=>{if("same"==Re(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){const e=new yr(t.position.getShiftedBy(1),t.oldName,t.newName,0);return[t,e]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),iu(wr,wr,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new jr(0)];t.oldValue=e.newValue}return[t]}),iu(kr,br,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=kr.getInsertionPosition(t.splitPosition),[t])),iu(kr,xr,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new ls(e.graveyardPosition.root,n),l=kr.getInsertionPosition(new ls(e.graveyardPosition.root,n)),s=new kr(i,0,null,0);return s.insertionPosition=l,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=kr.getInsertionPosition(t.splitPosition),t.graveyardPosition=s.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[s,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=kr.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),iu(kr,fr,(t,e,n)=>{const i=ss._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const l=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&l){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),l=i.path.slice();l.push(0);const s=new ls(i.root,l);return[new fr(n,t.howMany,s,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}return t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)?(t.howMany-=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=kr.getInsertionPosition(t.splitPosition),[t]):!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.insertionPosition=t.graveyardPosition?t.insertionPosition._getTransformedByMoveOperation(e):kr.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=kr.getInsertionPosition(t.splitPosition),[t])}),iu(kr,kr,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new jr(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new jr(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,l="$graveyard"==e.splitPosition.root.rootName,s=i&&!l;if(l&&!i||!s&&n.aIsStrong){const n=[];return e.howMany&&n.push(new fr(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new fr(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new jr(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new ls(e.insertionPosition.root,n);return[t,new fr(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=kr.getInsertionPosition(t.splitPosition),[t]});class pu extends Da{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,l=i.document,s=[];for(const r of t){const t=mu(r,n).find(t=>t.start.root!=l.graveyard);t&&s.push(t)}s.length&&i.change(t=>{t.setSelection(s,{backward:e})})}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const l=t.operations.slice().filter(t=>t.isDocumentOperation);l.reverse();for(const s of l){const t=Array.from(i.history.getOperations(s.baseVersion+1)),l=ru([s.getReversed()],t,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const r of l)e.addOperation(r),n.applyOperation(r),i.history.setOperationAsUndone(s,r)}}}function mu(t,e){const n=t.getTransformedByOperations(e);n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let i=1;i<n.length;i++){const t=n[i-1],e=n[i];t.end.isTouching(e.start)&&(t.end=e.end,n.splice(i,1),i--)}return n}class gu extends pu{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,i)}),this.refresh()}}class fu extends pu{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(e,()=>{const n=this.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);this._restoreSelection(t.selection.ranges,t.selection.isBackward,n),this._undo(t.batch,e)}),this.refresh()}}class bu extends Sa{static get pluginName(){return"UndoEditing"}constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new gu(t),this._redoCommand=new fu(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.batch,l=this._redoCommand._createdBatches.has(i),s=this._undoCommand._createdBatches.has(i);this._batchRegistry.has(i)||"transparent"==i.type&&!l&&!s||(l?this._undoCommand.addBatch(i):s||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}var vu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',yu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class wu extends Sa{init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?vu:yu,l="ltr"==e.uiLanguageDirection?yu:vu;this._addButton("undo",n("bh"),"CTRL+Z",i),this._addButton("redo",n("bi"),"CTRL+Y",l)}_addButton(t,e,n,i){const l=this.editor;l.ui.componentFactory.add(t,s=>{const r=l.commands.get(t),o=new ha(s);return o.set({label:e,icon:i,keystroke:n,tooltip:!0}),o.bind("isEnabled").to(r,"isEnabled"),this.listenTo(o,"execute",()=>{l.execute(t),l.editing.view.focus()}),o})}}class xu extends Sa{static get requires(){return[bu,wu]}static get pluginName(){return"Undo"}}class ku{constructor(t){this.context=t}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}Ae(ku,Fn);class _u extends ku{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Ee({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new ye.b("pendingactions-add-invalid-message: The message must be a string.",this);const e=Object.create(Fn);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Cu{constructor(){const t=new window.FileReader;this._reader=t,this._data=void 0,this.set("loaded",0),t.onprogress=t=>{this.loaded=t.loaded}}get error(){return this._reader.error}get data(){return this._data}read(t){const e=this._reader;return this.total=t.size,new Promise((n,i)=>{e.onload=()=>{const t=e.result;this._data=t,n(t)},e.onerror=()=>{i("error")},e.onabort=()=>{i("aborted")},this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}Ae(Cu,Fn);class Tu extends Sa{static get pluginName(){return"FileRepository"}static get requires(){return[_u]}init(){this.loaders=new Ee,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return console.warn(Object(ye.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;const e=new Su(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(t=>{this._loadersMap.set(t,e)}).catch(()=>{}),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof Su?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((t,n)=>{t===e&&this._loadersMap.delete(n)})}_updatePendingAction(){const t=this.editor.plugins.get(_u);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("au")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}Ae(Tu,Fn);class Su{constructor(t,e){this.id=be(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new Cu,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new ye.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(t=>this._reader.read(t)).then(t=>(this.status="idle",t)).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t})}upload(){if("idle"!=this.status)throw new ye.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,i)=>{e.rejecter=i,e.isFulfilled=!1,t.then(t=>{e.isFulfilled=!0,n(t)}).catch(t=>{e.isFulfilled=!0,i(t)})}),e}}Ae(Su,Fn);class Mu extends Sa{static get requires(){return[Tu]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Tu).createUploadAdapter=e=>new Pu(e,t,this.editor.t))}}class Pu{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const i=this.xhr,l=this.loader,s=(0,this.t)("a")+` ${n.name}.`;i.addEventListener("error",()=>e(s)),i.addEventListener("abort",()=>e()),i.addEventListener("load",()=>{const n=i.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:s);t({default:n.url})}),i.upload&&i.upload.addEventListener("progress",t=>{t.lengthComputable&&(l.uploadTotal=t.total,l.uploaded=t.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",function(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("=");if(decodeURIComponent(e[0].trim().toLowerCase())===t)return decodeURIComponent(e[1])}return null}("ckCsrfToken");var e;return t&&40==t.length||(e=t=function(t){let e="";const n=new Uint8Array(40);window.crypto.getRandomValues(n);for(let i=0;i<n.length;i++){const t="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%"abcdefghijklmnopqrstuvwxyz0123456789".length);e+=Math.random()>.5?t.toUpperCase():t}return e}(),document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(e)}}class Au{static get pluginName(){return"BlockAutoformatEditing"}constructor(t,e,n){let i,l=null;"function"==typeof n?i=n:(l=t.commands.get(n),i=()=>{t.execute(n)}),t.model.document.on("change",(n,s)=>{if(l&&!l.isEnabled)return;if("transparent"==s.type)return;const r=Array.from(t.model.document.differ.getChanges()),o=r[0];if(1!=r.length||"insert"!==o.type||"$text"!=o.name||1!=o.length)return;const a=o.position.parent;if(!a.is("paragraph")||1!==a.childCount)return;const u=e.exec(a.getChild(0).data);u&&t.model.enqueueChange(t=>{const e=t.createPositionAt(a,0),n=t.createPositionAt(a,u[0].length),l=new fs(e,n);!1!==i({match:u})&&t.remove(l),l.detach()})})}}function Eu(t,e){let n=t.start;return{text:Array.from(t.getItems()).reduce((t,i)=>i.is("text")||i.is("textProxy")?t+i.data:(n=e.createPositionAfter(i),""),""),range:e.createRange(n,t.end)}}class Iu{static get pluginName(){return"InlineAutoformatEditing"}constructor(t,e,n){let i,l,s,r;e instanceof RegExp?i=e:s=e,"string"==typeof n?l=n:r=n,s=s||(t=>{let e;const n=[],l=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:s,3:r}=e;const o=[(t+=e[0].length-(i+s+r).length)+i.length+s.length,t+i.length+s.length+r.length];n.push([t,t+i.length]),n.push(o),l.push([t+i.length,t+i.length+s.length])}return{remove:n,format:l}}),r=r||((e,n)=>{const i=t.model.schema.getValidRanges(n,l);for(const t of i)e.setAttribute(l,!0,t);e.removeSelectionAttribute(l)}),t.model.document.on("change",(e,n)=>{if("transparent"==n.type)return;const i=t.model,l=i.document.selection;if(!l.isCollapsed)return;const o=Array.from(i.document.differ.getChanges()),a=o[0];if(1!=o.length||"insert"!==a.type||"$text"!=a.name||1!=a.length)return;const u=l.focus,c=u.parent,{text:h,range:d}=Eu(i.createRange(i.createPositionAt(c,0),u),i),p=s(h),m=Du(d.start,p.format,i),g=Du(d.start,p.remove,i);m.length&&g.length&&i.enqueueChange(t=>{if(!1!==r(t,m))for(const e of g.reverse())t.remove(e)})})}}function Du(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1])))}function Ou(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const l=t.model.schema.getValidRanges(i,e);for(const t of l)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class Fu extends Da{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const l=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of l)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const t of i.getItems())if(e.checkAttribute(t,this.attributeKey))return t.hasAttribute(this.attributeKey);return!1}}class Nu extends Sa{static get pluginName(){return"BoldEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",t=>{const e=t.getStyle("font-weight");return e?"bold"==e||Number(e)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new Fu(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}class Ru extends Sa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("bold",n=>{const i=t.commands.get("bold"),l=new ha(n);return l.set({label:e("d"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(l,"execute",()=>{t.execute("bold"),t.editing.view.focus()}),l})}}class Lu extends Sa{static get pluginName(){return"ItalicEditing"}init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new Fu(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}class Bu extends Sa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("italic",n=>{const i=t.commands.get("italic"),l=new ha(n);return l.set({label:e("ai"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(l,"execute",()=>{t.execute("italic"),t.editing.view.focus()}),l})}}function Vu(t){const e=t.next();return e.done?null:e.value}class zu extends Da{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(t={}){const e=this.editor.model,n=e.schema,i=Array.from(e.document.selection.getSelectedBlocks()),l=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(l){const e=i.filter(t=>ju(t)||Wu(n,t));this._applyQuote(t,e)}else this._removeQuote(t,i.filter(ju))})}_getValue(){const t=Vu(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!ju(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=Vu(this.editor.model.document.selection.getSelectedBlocks());return!!e&&Wu(t,e)}_removeQuote(t,e){Hu(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];Hu(t,e).reverse().forEach(e=>{let i=ju(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n)}}function ju(t){return"blockQuote"==t.parent.name?t.parent:null}function Hu(t,e){let n,i=0;const l=[];for(;i<e.length;){const s=e[i],r=e[i+1];n||(n=t.createPositionBefore(s)),r&&s.nextSibling==r||(l.push(t.createRange(n,t.createPositionAfter(s))),n=null),i++}return l}function Wu(t,e){const n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i}class Uu extends Sa{static get pluginName(){return"BlockQuoteEditing"}init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new zu(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const i=t.model.document.differ.getChanges();for(const t of i)if("insert"==t.type){const i=t.position.nodeAfter;if(!i)continue;if(i.is("blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("blockQuote")&&!e.checkChild(t.position,i))return n.unwrap(i),!0;if(i.is("element")){const t=n.createRangeIn(i);for(const i of t.getItems())if(i.is("blockQuote")&&!e.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1})}afterInit(){const t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,n)=>{const i=this.editor.model.document,l=i.selection.getLastPosition().parent;i.selection.isCollapsed&&l.isEmpty&&t.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())})}}n(43);class $u extends Sa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const i=t.commands.get("blockQuote"),l=new ha(n);return l.set({label:e("j"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),l.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(l,"execute",()=>{t.execute("blockQuote"),t.editing.view.focus()}),l})}}class Yu extends Sa{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("ckfinder",n=>{const i=t.commands.get("ckfinder"),l=new ha(n);return l.set({label:e("k"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),l.bind("isEnabled").to(i),l.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),l})}}class qu extends el{observe(t){this.listenTo(t,"load",(t,e)=>{"IMG"==e.target.tagName&&this._fireEvents(e)},{useCapture:!0})}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}class Gu{constructor(){this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const l=n[0];i===l||Xu(i,l)||this.fire("change:top",{oldDescriptor:i,newDescriptor:l,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const l=n[0];i===l||Xu(i,l)||this.fire("change:top",{oldDescriptor:i,newDescriptor:l,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(Xu(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&Ku(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function Xu(t,e){return t&&e&&t.priority==e.priority&&Zu(t.classes)==Zu(e.classes)}function Ku(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&Zu(t.classes)>Zu(e.classes)}function Zu(t){return Array.isArray(t)?t.sort().join(","):t}function Qu(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function Ju(t,e,n={}){return ii.isEdge||e.setAttribute("contenteditable","false",t),e.addClass("ck-widget",t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=ic,n.label&&function(t,e,n){n.setCustomProperty("widgetLabel",e,t)}(t,n.label,e),n.hasSelectionHandle&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(t){const e=this.toDomElement(t),n=new ua;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),e.appendChild(n.element),e}));e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handle"],t)}(t,e),function(t,e,n,i){const l=new Gu;l.on("change:top",(e,l)=>{l.oldDescriptor&&i(t,l.oldDescriptor,l.writer),l.newDescriptor&&n(t,l.newDescriptor,l.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>l.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>l.remove(e,n),t)}(t,e,(t,e,n)=>n.addClass(i(e.classes),t),(t,e,n)=>n.removeClass(i(e.classes),t)),t;function i(t){return Array.isArray(t)?t:[t]}}function tc(t){const e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function ec(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),ii.isEdge||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,i,l)=>{e.setAttribute("contenteditable",l?"false":"true",t)})),t.on("change:isFocused",(n,i,l)=>{l?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function nc(t,e){const n=t.getSelectedElement();if(n&&e.schema.isBlock(n))return e.createPositionAfter(n);const i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return e.createPositionAt(i,0);const n=e.createPositionAfter(i);return t.focus.isTouching(n)?n:e.createPositionBefore(i)}return t.focus}function ic(){return null}function lc(t){const e=t.getSelectedElement();return e&&function(t){return!!t.getCustomProperty("image")&&Qu(t)}(e)?e:null}function sc(t){return!!t&&t.is("image")}function rc(t,e,n={}){const i=t.createElement("image",n),l=nc(e.document.selection,e);e.insertContent(i,l),i.parent&&t.setSelection(i,"on")}function oc(t){const e=t.schema,n=t.document.selection;return function(t,e,n){const i=function(t,e){const n=nc(t,e).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(t,n);return e.checkChild(i,"image")}(n,e,t)&&!function(t,e){const n=t.getSelectedElement();return n&&e.isObject(n)}(n,e)&&function(t){return[...t.focus.getAncestors()].every(t=>!t.is("image"))}(n)}function ac(t){return Array.from(t.getChildren()).find(t=>t.is("img"))}function uc(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,l=ac(n.mapper.toViewElement(e.item));null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,l):i.removeAttribute(e.attributeKey,l)}}Ae(Gu,ke);class cc extends Da{refresh(){this.isEnabled=oc(this.editor.model)}execute(t){const e=this.editor.model;e.change(n=>{const i=Array.isArray(t.source)?t.source:[t.source];for(const t of i)rc(n,e,{src:t})})}}class hc extends Sa{static get pluginName(){return"ImageEditing"}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(qu),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>dc(e)}),i.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>{return i=dc(e),l=e,s=n("aj"),l.setCustomProperty("image",!0,i),Ju(i,l,{label:function(){const t=ac(i).getAttribute("alt");return t?`${t} ${s}`:s}});var i,l,s}}),i.for("downcast").add(uc("src")).add(uc("alt")).add(function(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,l=ac(n.mapper.toViewElement(e.item));if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(i.removeAttribute("srcset",l),i.removeAttribute("sizes",l),t.width&&i.removeAttribute("width",l))}else{const t=e.attributeNewValue;t.data&&(i.setAttribute("srcset",t.data,l),i.setAttribute("sizes","100vw",l),t.width&&i.setAttribute("width",t.width,l))}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(function(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const i=ac(e.viewItem);if(!i||!i.hasAttribute("src")||!n.consumable.test(i,{name:!0}))return;const l=n.convertItem(i,e.modelCursor),s=Vu(l.modelRange.getItems());s&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(s,0)),e.modelRange=l.modelRange,e.modelCursor=l.modelCursor)}}()),t.commands.add("imageInsert",new cc(t))}}function dc(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}function pc(t,e,n){return n.createRange(mc(t,e,!0,n),mc(t,e,!1,n))}function mc(t,e,n,i){let l=t.textNode||(n?t.nodeBefore:t.nodeAfter),s=null;for(;l&&l.getAttribute("linkHref")==e;)s=l,l=n?l.previousSibling:l.nextSibling;return s?i.createPositionAt(s,n?"before":"after"):t}class gc extends Da{constructor(t){super(t),this.manualDecorators=new Ee}restoreManualDecoratorStates(){for(const t of this.manualDecorators)t.value=this._getDecoratorStateFromModel(t.id)}refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref");for(const n of this.manualDecorators)n.value=this._getDecoratorStateFromModel(n.id);this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t,e={}){const n=this.editor.model,i=n.document.selection,l=[],s=[];for(const r in e)e[r]?l.push(r):s.push(r);n.change(e=>{if(i.isCollapsed){const r=i.getFirstPosition();if(i.hasAttribute("linkHref")){const o=pc(r,i.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,o),l.forEach(t=>{e.setAttribute(t,!0,o)}),s.forEach(t=>{e.removeAttribute(t,o)}),e.setSelection(o)}else if(""!==t){const s=He(i.getAttributes());s.set("linkHref",t),l.forEach(t=>{s.set(t,!0)});const o=e.createText(t,s);n.insertContent(o,r),e.setSelection(e.createRangeOn(o))}}else{const r=n.schema.getValidRanges(i.getRanges(),"linkHref");for(const n of r)e.setAttribute("linkHref",t,n),l.forEach(t=>{e.setAttribute(t,!0,n)}),s.forEach(t=>{e.removeAttribute(t,n)})}})}_getDecoratorStateFromModel(t){return this.editor.model.document.selection.getAttribute(t)||!1}}class fc extends Da{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor.model,e=t.document.selection,n=this.editor.commands.get("link");t.change(i=>{const l=e.isCollapsed?[pc(e.getFirstPosition(),e.getAttribute("linkHref"),t)]:e.getRanges();for(const t of l)if(i.removeAttribute("linkHref",t),n)for(const e of n.manualDecorators)i.removeAttribute(e.id,t)})}}var bc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),vc=function(t){return bc.test(t)},yc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",wc="\\ud83c[\\udffb-\\udfff]",xc="[^\\ud800-\\udfff]",kc="(?:\\ud83c[\\udde6-\\uddff]){2}",_c="[\\ud800-\\udbff][\\udc00-\\udfff]",Cc="(?:"+yc+"|"+wc+")?",Tc="[\\ufe0e\\ufe0f]?"+Cc+"(?:\\u200d(?:"+[xc,kc,_c].join("|")+")[\\ufe0e\\ufe0f]?"+Cc+")*",Sc="(?:"+[xc+yc+"?",yc,kc,_c,"[\\ud800-\\udfff]"].join("|")+")",Mc=RegExp(wc+"(?="+wc+")|"+Sc+Tc,"g"),Pc=function(t){t=en(t);var e=vc(t)?function(t){return vc(t)?function(t){return t.match(Mc)||[]}(t):function(t){return t.split("")}(t)}(t):void 0,n=e?e[0]:t.charAt(0),i=e?function(t,e,n){return on(t,1,n=void 0===n?t.length:n)}(e).join(""):t.slice(1);return n.toUpperCase()+i};const Ac=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ec=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Ic(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function Dc(t){return function(t){return t.replace(Ac,"").match(Ec)}(t=String(t))?t:"#"}class Oc{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(t){Array.isArray(t)?t.forEach(t=>this._definitions.add(t)):this._definitions.add(t)}getDispatcher(){return t=>{t.on("attribute:linkHref",(t,e,n)=>{if(!n.consumable.test(e.item,"attribute:linkHref"))return;const i=n.writer,l=i.document.selection;for(const s of this._definitions){const t=i.createAttributeElement("a",s.attributes,{priority:5});i.setCustomProperty("link",!0,t),s.callback(e.attributeNewValue)?e.item.is("selection")?i.wrap(l.getFirstRange(),t):i.wrap(n.mapper.toViewRange(e.range),t):i.unwrap(n.mapper.toViewRange(e.range),t)}},{priority:"high"})}}}class Fc{constructor({id:t,label:e,attributes:n}){this.id=t,this.set("value"),this.label=e,this.attributes=n}}Ae(Fc,Fn);class Nc{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&Rc(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(t,e){const n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return Vc(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):Lc(t,n)||Bc(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?Vc(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):Vc(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&Bc(t,n)?this._hasSelectionAttribute?void(zc(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(zc(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function Rc(t,e){return Lc(t,e)||Bc(t,e)}function Lc(t,e){const{nodeBefore:n,nodeAfter:i}=t,l=!!n&&n.hasAttribute(e);return!!i&&i.hasAttribute(e)&&(!l||n.getAttribute(e)!==i.getAttribute(e))}function Bc(t,e){const{nodeBefore:n,nodeAfter:i}=t,l=!!n&&n.hasAttribute(e),s=!!i&&i.hasAttribute(e);return l&&(!s||n.getAttribute(e)!==i.getAttribute(e))}function Vc(t,e){const{nodeBefore:n,nodeAfter:i}=t,l=!!n&&n.hasAttribute(e);if(i&&i.hasAttribute(e)&&l)return i.getAttribute(e)!==n.getAttribute(e)}function zc(t,e){return Rc(t.getShiftedBy(-1),e)}n(45);const jc=/^(https?:)?\/\//;class Hc extends Sa{static get pluginName(){return"LinkEditing"}constructor(t){super(t),t.config.define("link",{addTargetToExternalLinks:!1})}init(){const t=this.editor,e=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ic}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>Ic(Dc(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new gc(t)),t.commands.add("unlink",new fc(t));const n=function(t,e){const n={"Open in a new tab":t("av"),Downloadable:t("aw")};return e.forEach(t=>(t.label&&n[t.label]&&(t.label=n[t.label]),t)),e}(t.t,function(t){const e=[];if(t)for(const[n,i]of Object.entries(t)){const t=Object.assign({},i,{id:`link${Pc(n)}`});e.push(t)}return e}(t.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter(t=>"automatic"===t.mode)),this._enableManualDecorators(n.filter(t=>"manual"===t.mode)),function({view:t,model:e,emitter:n,attribute:i,locale:l}){const s=new Nc(e,n,i),r=e.document.selection;n.listenTo(t.document,"keydown",(t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==ri.arrowright,i=e.keyCode==ri.arrowleft;if(!n&&!i)return;const o=r.getFirstPosition(),a=l.contentLanguageDirection;let u;(u="ltr"===a&&n||"rtl"===a&&i?s.handleForwardMovement(o,e):s.handleBackwardMovement(o,e))&&t.stop()},{priority:ve.get("high")+1})}({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:e}),this._setupLinkHighlight()}_enableAutomaticDecorators(t){const e=this.editor,n=new Oc;e.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:t=>jc.test(t),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(t),n.length&&e.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(t){if(!t.length)return;const e=this.editor,n=e.commands.get("link").manualDecorators;t.forEach(t=>{e.model.schema.extend("$text",{allowAttributes:t.id}),n.add(new Fc(t)),e.conversion.for("downcast").attributeToElement({model:t.id,view:(e,i)=>{if(e){const e=n.get(t.id).attributes,l=i.createAttributeElement("a",e,{priority:5});return i.setCustomProperty("link",!0,l),l}}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(t.id).attributes},model:{key:t.id}})})}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer(e=>{const i=t.model.document.selection;let l=!1;if(i.hasAttribute("linkHref")){const s=pc(i.getFirstPosition(),i.getAttribute("linkHref"),t.model),r=t.editing.mapper.toViewRange(s);for(const t of r.getItems())t.is("a")&&!t.hasClass("ck-link_selected")&&(e.addClass("ck-link_selected",t),n.add(t),l=!0)}return l}),t.conversion.for("editingDowncast").add(t=>{function i(){e.change(t=>{for(const e of n.values())t.removeClass("ck-link_selected",e),n.delete(e)})}t.on("insert",i,{priority:"highest"}),t.on("remove",i,{priority:"highest"}),t.on("attribute",i,{priority:"highest"}),t.on("selection",i,{priority:"highest"})})}}class Wc extends ku{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){this.fire(`show:${t.type}`+(t.namespace?`:${t.namespace}`:""),{message:t.message,type:t.type,title:t.title||""})}}class Uc extends Da{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("imageInsert"),e=this.editor.commands.get("link");this.isEnabled=t.isEnabled||e.isEnabled}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new ye.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=t.locale.uiLanguage),n.onInit=e=>{i&&i(e),e.on("files:choose",n=>{const i=n.data.files.toArray(),l=i.filter(t=>!t.isImage()),s=i.filter(t=>t.isImage());for(const e of l)t.execute("link",e.getUrl());const r=[];for(const t of s){const n=t.getUrl();r.push(n||e.request("file:getProxyUrl",{file:t}))}r.length&&$c(t,r)}),e.on("file:choose:resizedImage",e=>{const n=e.data.resizedUrl;if(n)$c(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("bz"),{title:n("ca"),namespace:"ckfinder"})}})},window.CKFinder[e](n)}}function $c(t,e){if(t.commands.get("imageInsert").isEnabled)t.execute("imageInsert",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("cb"),{title:n("cc"),namespace:"ckfinder"})}}class Yc extends Sa{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Wc,hc,Hc]}init(){const t=this.editor;t.commands.add("ckfinder",new Uc(t))}}const qc=/^data:(\S*?);base64,/;class Gc{constructor(t,e,n){if(!t)throw new ye.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new ye.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!n)throw new ye.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(qc);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(qc)[1],i=atob(t.replace(qc,"")),l=[];for(let t=0;t<i.length;t+=e){const n=i.slice(t,t+e),s=new Array(n.length);for(let t=0;t<n.length;t++)s[t]=n.charCodeAt(t);l.push(new Uint8Array(s))}return new Blob(l,{type:n})}catch(t){throw new ye.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,i)=>{e.addEventListener("load",()=>{const t=e.status,l=e.response;return t<200||t>299?i(l.message?new ye.b("fileuploader-uploading-data-failed: Uploading file failed.",this,{message:l.message}):l.error):n(l)}),e.addEventListener("error",()=>i(new Error("Network Error"))),e.addEventListener("abort",()=>i(new Error("Abort"))),e.send(t)})}}Ae(Gc,ke);const Xc={refreshInterval:36e5,autoRefresh:!0};class Kc{constructor(t,e=Xc){if(!t)throw new ye.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>{return e=t,new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",()=>{const e=i.status,l=i.response;return e<200||e>299?n(new ye.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(l)}),i.addEventListener("error",()=>n(new Error("Network Error"))),i.addEventListener("abort",()=>n(new Error("Abort"))),i.send()});var e},this._options=Object.assign({},Xc,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)})}_refreshToken(){return this._refresh().then(t=>this.set("value",t)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this._refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=Xc){return new Kc(t,e).init()}}Ae(Kc,Fn);class Zc extends ku{static get pluginName(){return"CloudServices"}init(){const t=this.context.config.get("cloudServices")||{};for(const e in t)this[e]=t[e];if(this.tokenUrl)return this.token=new Zc.Token(this.tokenUrl),this.token.init();this.token=null}}Zc.Token=Kc;class Qc extends Sa{static get requires(){return[Tu,Zc]}init(){const t=this.editor,e=t.plugins.get(Zc),n=e.token;n&&(this._uploadGateway=new Qc._UploadGateway(n,e.uploadUrl),t.plugins.get(Tu).createUploadAdapter=t=>new Jc(this._uploadGateway,t))}}class Jc{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}Qc._UploadGateway=class{constructor(t,e){if(!t)throw new ye.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new ye.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=t,this._apiAddress=e}upload(t){return new Gc(t,this._token,this._apiAddress)}};class th extends bl{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}n(47);const eh=ai("Ctrl+A");class nh extends Sa{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,l=i.document.selection,s=l.getSelectedElement();let r=null;for(const o of l.getRanges())for(const t of o){const e=t.item;Qu(e)&&!ih(e,r)&&(i.addClass("ck-widget_selected",e),this._previouslySelected.add(e),r=e,e==s&&i.setSelection(l.getRanges(),{fake:!0,label:tc(s)}))}},{priority:"low"}),t.addObserver(th),this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(e,"keydown",(...t)=>this._onKeydown(...t),{priority:"high"}),this.listenTo(e,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{priority:"high"})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,l=i.document;let s=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(Qu(t))return!1;t=t.parent}return!1}(s)){if(ii.isSafari&&e.domEvent.detail>=3){const t=n.editing.mapper.toModelElement(s);this.editor.model.change(n=>{e.preventDefault(),n.setSelection(t,"in")})}return}if(!Qu(s)&&!(s=s.findAncestor(Qu)))return;e.preventDefault(),l.isFocused||i.focus();const r=n.editing.mapper.toModelElement(s);this._setSelectionOverElement(r)}_onKeydown(t,e){const n=e.keyCode,i=n==ri.arrowdown||n==ri["ltr"===this.editor.locale.contentLanguageDirection?"arrowright":"arrowleft"];let l=!1;!function(t){return t==ri.arrowright||t==ri.arrowleft||t==ri.arrowup||t==ri.arrowdown}(n)?function(t){return oi(t)==eh}(e)?l=this._selectAllNestedEditableContent()||this._selectAllContent():n===ri.enter&&(l=this._handleEnterKey(e.shiftKey)):l=this._handleArrowKeys(i),l&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let i=e.anchor.parent;for(;i.isEmpty;){const e=i;i=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,i=e.document.selection,l=i.getSelectedElement();if(l&&n.isObject(l)){const l=t?i.getLastPosition():i.getFirstPosition(),s=n.getNearestSelectionRange(l,t?"forward":"backward");return s&&e.change(t=>{t.setSelection(s)}),!0}if(!i.isCollapsed)return;const s=this._getObjectElementNextToSelection(t);return s&&n.isObject(s)?(this._setSelectionOverElement(s),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();if(l=e.schema,(i=n)&&l.isObject(i)&&!l.isInline(i))return e.change(i=>{let l=i.createPositionAt(n,t?"before":"after");const s=i.createElement("paragraph");if(e.schema.isBlock(n.parent)){const t=e.schema.findAllowedParent(l,s);l=i.split(l,t).position}i.insert(s,l),i.setSelection(s,"in")}),!0;var i,l}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(t=>{t.setSelection(t.createRangeIn(n))}),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&Qu(n)){const i=e.mapper.toModelElement(n.parent);return t.change(t=>{t.setSelection(t.createRangeIn(i))}),!0}return!1}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.createSelection(e.document.selection);e.modifySelection(i,{direction:t?"forward":"backward"});const l=t?i.focus.nodeBefore:i.focus.nodeAfter;return l&&n.isObject(l)?l:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass("ck-widget_selected",e);this._previouslySelected.clear()}}function ih(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class lh extends Da{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=sc(t),this.value=!(!sc(t)||!t.hasAttribute("alt"))&&t.getAttribute("alt")}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}class sh extends Sa{static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new lh(this.editor))}}n(49);class rh extends Ho{constructor(t,e){super(t);const n=`ck-input-${be()}`,i=`ck-status-${be()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n,i),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",this.bindTemplate.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(t){const e=new Yo(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createInputView(t,e,n){const i=new t(this.locale,n);return i.id=e,i.ariaDescribedById=n,i.bind("value").to(this),i.bind("isReadOnly").to(this),i.bind("hasError").to(this,"errorText",t=>!!t),i.on("input",()=>{this.errorText=null}),i}_createStatusView(t){const e=new Ho(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),e}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(51);class oh extends Ho{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDescribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(e,n,i)=>{t(i)})}select(){this.element.select()}focus(){this.element.focus()}}function ah({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}var uh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',ch='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(53);class hh extends Ho{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new mo,this.keystrokes=new lo,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("bb"),uh,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("bc"),ch,"ck-button-cancel","cancel"),this._focusables=new ko,this._focusCycler=new Jo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),ah({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,i){const l=new ha(this.locale);return l.set({label:t,icon:e,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),i&&l.delegate("execute").to(this,i),l}_createLabeledInputView(){const t=this.locale.t,e=new rh(this.locale,oh);return e.label=t("cd"),e.inputView.placeholder=t("cd"),e}}n(55);const dh=Ko("px"),ph=Wi.document.body;class mh extends Ho{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",dh),left:e.to("left",dh)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=mh.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast],limiter:ph,fitInViewport:!0},t),i=mh._getOptimalPosition(n),l=parseInt(i.left),s=parseInt(i.top);Object.assign(this,{top:s,left:l,position:i.name})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(t):this._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=gh(t.target),n=t.limiter?gh(t.limiter):ph;this.listenTo(Wi.document,"scroll",(i,l)=>{const s=l.target,r=e&&s.contains(e),o=n&&s.contains(n);!r&&!o&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Wi.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Wi.document,"scroll"),this.stopListening(Wi.window,"resize")}}function gh(t){return ce(t)?t:Fl(t)?t.commonAncestorContainer:"function"==typeof t?gh(t()):null}function fh(t,e){return t.top-e.height-mh.arrowVerticalOffset}function bh(t){return t.bottom+mh.arrowVerticalOffset}mh.arrowHorizontalOffset=25,mh.arrowVerticalOffset=10,mh._getOptimalPosition=sa,mh.defaultPositions={northWestArrowSouthWest:(t,e)=>({top:fh(t,e),left:t.left-mh.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(t,e)=>({top:fh(t,e),left:t.left-.25*e.width-mh.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(t,e)=>({top:fh(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(t,e)=>({top:fh(t,e),left:t.left-.75*e.width+mh.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(t,e)=>({top:fh(t,e),left:t.left-e.width+mh.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:fh(t,e),left:t.left+t.width/2-mh.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(t,e)=>({top:fh(t,e),left:t.left+t.width/2-.25*e.width-mh.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(t,e)=>({top:fh(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(t,e)=>({top:fh(t,e),left:t.left+t.width/2-.75*e.width+mh.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(t,e)=>({top:fh(t,e),left:t.left+t.width/2-e.width+mh.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:fh(t,e),left:t.right-mh.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(t,e)=>({top:fh(t,e),left:t.right-.25*e.width-mh.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(t,e)=>({top:fh(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(t,e)=>({top:fh(t,e),left:t.right-.75*e.width+mh.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(t,e)=>({top:fh(t,e),left:t.right-e.width+mh.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(t,e)=>({top:bh(t),left:t.left-mh.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(t,e)=>({top:bh(t),left:t.left-.25*e.width-mh.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(t,e)=>({top:bh(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(t,e)=>({top:bh(t),left:t.left-.75*e.width+mh.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(t,e)=>({top:bh(t),left:t.left-e.width+mh.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:bh(t),left:t.left+t.width/2-mh.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(t,e)=>({top:bh(t),left:t.left+t.width/2-.25*e.width-mh.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(t,e)=>({top:bh(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(t,e)=>({top:bh(t),left:t.left+t.width/2-.75*e.width+mh.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(t,e)=>({top:bh(t),left:t.left+t.width/2-e.width+mh.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:bh(t),left:t.right-mh.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(t,e)=>({top:bh(t),left:t.right-.25*e.width-mh.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(t,e)=>({top:bh(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(t,e)=>({top:bh(t),left:t.right-.75*e.width+mh.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(t,e)=>({top:bh(t),left:t.right-e.width+mh.arrowHorizontalOffset,name:"arrow_ne"})},n(57),n(59);const vh=Ko("px");class yh extends Sa{static get pluginName(){return"ContextualBalloon"}constructor(t){super(t),this.positionLimiter=()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null},this.set("visibleView",null),this.view=new mh(t.locale),t.ui.view.body.add(this.view),t.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(t){return Array.from(this._viewToStack.keys()).includes(t)}add(t){if(this.hasView(t.view))throw new ye.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);const e=t.stackId||"main";if(!this._idToStack.has(e))return this._idToStack.set(e,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(e)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(e));const n=this._idToStack.get(e);t.singleViewMode&&this.showStack(e),n.set(t.view,t),this._viewToStack.set(t.view,n),n===this._visibleStack&&this._showView(t)}remove(t){if(!this.hasView(t))throw new ye.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);const e=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(1===e.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(e.values())[e.size-2])),1===e.size?(this._idToStack.delete(this._getStackId(e)),this._numberOfStacks=this._idToStack.size):e.delete(t),this._viewToStack.delete(t)}updatePosition(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(t){this.visibleStack=t;const e=this._idToStack.get(t);if(!e)throw new ye.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==e&&this._showView(Array.from(e.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(t){return Array.from(this._idToStack.entries()).find(e=>e[1]===t)[0]}_showNextStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)+1;t[e]||(e=0),this.showStack(this._getStackId(t[e]))}_showPrevStack(){const t=Array.from(this._idToStack.values());let e=t.indexOf(this._visibleStack)-1;t[e]||(e=t.length-1),this.showStack(this._getStackId(t[e]))}_createRotatorView(){const t=new wh(this.editor.locale),e=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>1),t.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(t,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return e("bl",[i,n])}),t.buttonNextView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),t.buttonPrevView.on("execute",()=>{t.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),t}_createFakePanelsView(){const t=new xh(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(t,e)=>!e&&t>=2?Math.min(t-1,2):0),t.listenTo(this.view,"change:top",()=>t.updatePosition()),t.listenTo(this.view,"change:left",()=>t.updatePosition()),this.editor.ui.view.body.add(t),t}_showView({view:t,balloonClassName:e="",withArrow:n=!0,singleViewMode:i=!1}){this.view.class=e,this.view.withArrow=n,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),i&&(this._singleViewMode=!0)}_getBalloonPosition(){let t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}class wh extends Ho{constructor(t){super(t);const e=t.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new mo,this.buttonPrevView=this._createButtonView(e("bm"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(e("bn"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",t=>t?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(t){this.hideView(),this.content.add(t)}hideView(){this.content.clear()}_createButtonView(t,e){const n=new ha(this.locale);return n.set({label:t,icon:e,tooltip:!0}),n}}class xh extends Ho{constructor(t,e){super(t);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=e,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",t=>t?"":"ck-hidden")],style:{top:n.to("top",vh),left:n.to("left",vh),width:n.to("width",vh),height:n.to("height",vh)}},children:this.content}),this.on("change:numberOfPanels",(t,e,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()})}_addPanels(t){for(;t--;){const t=new Ho;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}_removePanels(t){for(;t--;){const t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:t,left:e}=this._balloonPanelView,{width:n,height:i}=new Ll(this._balloonPanelView.element);Object.assign(this,{top:t,left:e,width:n,height:i})}}}function kh(t){const e=t.editing.view,n=mh.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class _h extends Sa{static get requires(){return[yh]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const i=t.commands.get("imageTextAlternative"),l=new ha(n);return l.set({label:e("bx"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),l.bind("isEnabled").to(i,"isEnabled"),this.listenTo(l,"execute",()=>{this._showForm()}),l})}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new hh(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{lc(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(lc(t.editing.view.document.selection)){const n=kh(t);e.updatePosition(n)}}(t):this._hideForm(!0)}),ba({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:kh(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select()}_hideForm(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class Ch extends Sa{static get requires(){return[sh,_h]}static get pluginName(){return"ImageTextAlternative"}}n(61);class Th extends Sa{static get requires(){return[hc,nh,Ch]}static get pluginName(){return"Image"}}class Sh extends Ho{constructor(t){super(t),this.buttonView=new ha(t),this._fileInputView=new Mh(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Mh extends Ho{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}function Ph(t){const e=t.map(t=>t.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function Ah(t){return new Promise((e,n)=>{const i=t.getAttribute("src");fetch(i).then(t=>t.blob()).then(t=>{const l=function(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(t,i),s=function(t,e,n){try{return new File([t],e,{type:n})}catch(t){return null}}(t,`image.${l.replace("image/","")}`,l);s?e(s):n()}).catch(n)})}class Eh extends Sa{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",n=>{const i=new Sh(n),l=t.commands.get("imageUpload"),s=t.config.get("image.upload.types"),r=Ph(s);return i.set({acceptedType:s.map(t=>`image/${t}`).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:e("l"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),i.buttonView.bind("isEnabled").to(l),i.on("done",(e,n)=>{const i=Array.from(n).filter(t=>r.test(t.type));i.length&&t.execute("imageUpload",{file:i})}),i})}}n(63),n(65),n(67);class Ih extends Sa{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const i=this.editor,l=e.item,s=l.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const r=i.plugins.get(Tu),o=s?e.attributeNewValue:null,a=this.placeholder,u=i.editing.mapper.toViewElement(l),c=n.writer;if("reading"==o)return Dh(u,c),void Oh(a,u,c);if("uploading"==o){const t=r.loaders.get(s);return Dh(u,c),void(t?(Fh(u,c),function(t,e,n,i){const l=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),l),n.on("change:uploadedPercent",(t,e,n)=>{i.change(t=>{t.setStyle("width",n+"%",l)})})}(u,c,t,i.editing.view),function(t,e,n){if(n.data){const i=ac(t);e.setAttribute("src",n.data,i)}}(u,c,t)):Oh(a,u,c))}"complete"==o&&r.loaders.get(s)&&!ii.isEdge&&function(t,e,n){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout(()=>{n.change(t=>t.remove(t.createRangeOn(i)))},3e3)}(u,c,i.editing.view),function(t,e){Rh(t,e,"progressBar")}(u,c),Fh(u,c),function(t,e){e.removeClass("ck-appear",t)}(u,c)}}function Dh(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Oh(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const i=ac(e);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),Nh(e,"placeholder")||n.insert(n.createPositionAfter(i),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(n))}function Fh(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),Rh(t,e,"placeholder")}function Nh(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function Rh(t,e,n){const i=Nh(t,n);i&&e.remove(e.createRangeOn(i))}class Lh{constructor(t){this.document=t}createDocumentFragment(t){return new pi(this.document,t)}createElement(t,e,n){return new Tn(this.document,t,e,n)}createText(t){return new Ve(this.document,t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}unwrapElement(t){const e=t.parent;if(e){const n=e.getChildIndex(t);this.remove(t),this.insertChild(n,t.getChildren(),e)}}rename(t,e){const n=new Tn(this.document,t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){w(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return Un._createAt(t,e)}createPositionAfter(t){return Un._createAfter(t)}createPositionBefore(t){return Un._createBefore(t)}createRange(t,e){return new $n(t,e)}createRangeOn(t){return $n._createOn(t)}createRangeIn(t){return $n._createIn(t)}createSelection(t,e,n){return new Gn(t,e,n)}}class Bh extends Da{refresh(){this.isEnabled=oc(this.editor.model)}execute(t){const e=this.editor,n=e.model,i=e.plugins.get(Tu);n.change(e=>{const l=Array.isArray(t.file)?t.file:[t.file];for(const t of l)Vh(e,n,i,t)})}}function Vh(t,e,n,i){const l=n.createLoader(i);l&&rc(t,e,{uploadId:l.id})}class zh extends Sa{static get requires(){return[Tu,Wc,Ia]}static get pluginName(){return"ImageUploadEditing"}constructor(t){super(t),t.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}})}init(){const t=this.editor,e=t.model.document,n=t.model.schema,i=t.conversion,l=t.plugins.get(Tu),s=Ph(t.config.get("image.upload.types"));n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new Bh(t)),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(i=n.dataTransfer,Array.from(i.types).includes("text/html")&&""!==i.getData("text/html"))return;var i;const l=Array.from(n.dataTransfer.files).filter(t=>!!t&&s.test(t.type)),r=n.targetRanges.map(e=>t.editing.mapper.toModelRange(e));t.model.change(n=>{n.setSelection(r),l.length&&(e.stop(),t.model.enqueueChange("default",()=>{t.execute("imageUpload",{file:l})}))})}),this.listenTo(t.plugins.get(Ia),"inputTransformation",(e,n)=>{const i=Array.from(t.editing.view.createRangeIn(n.content)).filter(t=>{return!(!(e=t.item).is("element","img")||!e.getAttribute("src"))&&(e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||e.getAttribute("src").match(/^blob:/g))&&!t.item.getAttribute("uploadProcessed");var e}).map(t=>({promise:Ah(t.item),imageElement:t.item}));if(!i.length)return;const s=new Lh(t.editing.view.document);for(const t of i){s.setAttribute("uploadProcessed",!0,t.imageElement);const e=l.createLoader(t.promise);e&&(s.setAttribute("src","",t.imageElement),s.setAttribute("uploadId",e.id,t.imageElement))}}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const n=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of n)if("insert"==e.type&&"$text"!=e.name){const n=e.position.nodeAfter,i="$graveyard"==e.position.root.rootName;for(const e of jh(t,n)){const t=e.getAttribute("uploadId");if(!t)continue;const n=l.loaders.get(t);n&&(i?n.abort():"idle"==n.status&&this._readAndUpload(n,e))}}})}_readAndUpload(t,e){const n=this.editor,i=n.model,l=n.locale.t,s=n.plugins.get(Tu),r=n.plugins.get(Wc);return i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)}),t.read().then(()=>{const l=t.upload();if(ii.isSafari){const t=ac(n.editing.mapper.toViewElement(e));n.editing.view.once("render",()=>{if(!t.parent)return;const e=n.editing.view.domConverter.mapViewToDom(t.parent);if(!e)return;const i=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=i})}return i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)}),l}).then(t=>{i.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e),this._parseAndSetSrcsetAttributeOnImage(t,e,n)}),o()}).catch(n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&r.showWarning(n,{title:l("am"),namespace:"upload"}),o(),i.enqueueChange("transparent",t=>{t.remove(e)})});function o(){i.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)}),s.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const l=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=l&&n.setAttribute("srcset",{data:l,width:i},e)}}function jh(t,e){return Array.from(t.model.createRangeOn(e)).filter(t=>t.item.is("image")).map(t=>t.item)}class Hh extends Sa{static get pluginName(){return"ImageUpload"}static get requires(){return[zh,Eh,Ih]}}class Wh extends Da{refresh(){const t=this.editor.model,e=Vu(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("paragraph"),this.isEnabled=!!e&&Uh(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(i=>{const l=(t.selection||n.selection).getSelectedBlocks();for(const t of l)!t.is("paragraph")&&Uh(t,e.schema)&&i.rename(t,"paragraph")})}}function Uh(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class $h extends Sa{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new Wh(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,e)=>$h.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",(t,e,n)=>{n.consumable.test(e.viewItem,{name:e.viewItem.name})&&qh(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,Yh(e.viewItem,e.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(t,e,n)=>{e.modelRange||qh(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,Yh(e.viewItem,e.modelCursor,n))},{priority:"lowest"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.data.on("ready",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const i=e.document.getRoot(n);if(i.isEmpty&&"$graveyard"!=i.rootName&&e.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}}}function Yh(t,e,n){const i=n.writer.createElement("paragraph");return n.writer.insert(i,e),n.convertItem(t,n.writer.createPositionAt(i,0))}function qh(t,e,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}$h.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class Gh extends Da{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Vu(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>Xh(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change(t=>{const l=Array.from(n.selection.getSelectedBlocks()).filter(t=>Xh(t,i,e.schema));for(const e of l)e.is(i)||t.rename(e,i)})}}function Xh(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}class Kh extends Sa{static get pluginName(){return"HeadingEditing"}constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[$h]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)"paragraph"!==i.model&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new Gh(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,i)=>{const l=t.model.document.selection.getFirstPosition().parent;n.some(t=>l.is(t.model))&&!l.is("paragraph")&&0===l.childCount&&i.writer.rename(l,"paragraph")})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ve.get("low")+1})}}class Zh{constructor(t,e){e&&An(this,e),t&&this.set(t)}}Ae(Zh,Fn),n(11);class Qh extends Sa{init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("bq"),"Heading 1":e("br"),"Heading 2":e("bs"),"Heading 3":e("bt"),"Heading 4":e("bu"),"Heading 5":e("bv"),"Heading 6":e("bw")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t})}(t),i=e("ak"),l=e("al");t.ui.componentFactory.add("heading",e=>{const s={},r=new Ee,o=t.commands.get("heading"),a=t.commands.get("paragraph"),u=[o];for(const t of n){const e={type:"button",model:new Zh({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(a,"value"),e.model.set("commandName","paragraph"),u.push(a)):(e.model.bind("isOn").to(o,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),r.add(e),s[t.model]=t.title}const c=va(e);return ya(c,r),c.buttonView.set({isOn:!1,withText:!0,tooltip:l}),c.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),c.bind("isEnabled").toMany(u,"isEnabled",(...t)=>t.some(t=>t)),c.buttonView.bind("label").to(o,"value",a,"value",(t,e)=>{const n=t||e&&"paragraph";return s[n]?s[n]:i}),this.listenTo(c,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),c})}}function Jh(t){for(const e of t.getChildren())if(e&&e.is("caption"))return e;return null}function td(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}class ed extends Sa{static get pluginName(){return"ImageCaptionEditing"}init(){const t=this.editor,e=t.editing.view,n=t.data,i=t.editing,l=t.t;t.model.schema.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for("upcast").elementToElement({view:td,model:"caption"}),n.downcastDispatcher.on("insert:caption",nd(t=>t.createContainerElement("figcaption"),!1));const s=function(t,e){return n=>{const i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),bo({view:t,element:i,text:e}),ec(i,n)}}(e,l("an"));i.downcastDispatcher.on("insert:caption",nd(s)),i.downcastDispatcher.on("insert",this._fixCaptionVisibility(t=>t.item),{priority:"high"}),i.downcastDispatcher.on("remove",this._fixCaptionVisibility(t=>t.position.parent),{priority:"high"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let i;const l=this.editor.model.document.selection,s=l.getSelectedElement();if(s&&s.is("image")){const t=Jh(s);i=e.toViewElement(t)}const r=id(l.getFirstPosition().parent);if(r&&(i=e.toViewElement(r)),i)return n?(n===i||(ld(n,t),this._lastSelectedCaption=i),sd(i,t)):(this._lastSelectedCaption=i,sd(i,t));if(n){const e=ld(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,i)=>{const l=id(t(n)),s=i.writer;if(l){const t=this.editor.editing.mapper.toViewElement(l);t&&(l.childCount?s.removeClass("ck-hidden",t):s.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model,n=e.document.differ.getChanges(),i=[];for(const l of n)if("insert"==l.type&&"$text"!=l.name){const t=l.position.nodeAfter;if(t.is("image")&&!Jh(t)&&i.push(t),!t.is("image")&&t.childCount)for(const n of e.createRangeIn(t).getItems())n.is("image")&&!Jh(n)&&i.push(n)}for(const l of i)t.appendElement("caption",l);return!!i.length}}function nd(t,e=!0){return(n,i,l)=>{const s=i.item;if((s.childCount||e)&&sc(s.parent)){if(!l.consumable.consume(i.item,"insert"))return;const e=l.mapper.toViewElement(i.range.start.parent),n=t(l.writer),r=l.writer;s.childCount||r.addClass("ck-hidden",n),function(t,e,n,i){const l=i.writer.createPositionAt(n,"end");i.writer.insert(l,t),i.mapper.bindElements(e,t)}(n,i.item,e,l)}}}function id(t){const e=t.getAncestors({includeSelf:!0}).find(t=>"caption"==t.name);return e&&e.parent&&"image"==e.parent.name?e:null}function ld(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function sd(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n(70);class rd extends Da{constructor(t,e){super(t),this.defaultStyle=!1,this.styles=e.reduce((t,e)=>(t[e.name]=e,e.isDefault&&(this.defaultStyle=e.name),t),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=sc(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this.defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",i):t.setAttribute("imageStyle",e,i)})}}function od(t,e){for(const n of e)if(n.name===t)return n}var ad='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',ud='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',cd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',hd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';const dd={full:{name:"full",title:"Full size image",icon:ad,isDefault:!0},side:{name:"side",title:"Side image",icon:hd,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:ud,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:cd,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:hd,className:"image-style-align-right"}},pd={full:ad,left:ud,right:hd,center:cd};function md(t=[]){return t.map(gd)}function gd(t){if("string"==typeof t){const e=t;dd[e]?t=Object.assign({},dd[e]):(console.warn(Object(ye.a)("image-style-not-found: There is no such image style of given name."),{name:e}),t={name:e})}else if(dd[t.name]){const e=dd[t.name],n=Object.assign({},t);for(const i in e)t.hasOwnProperty(i)||(n[i]=e[i]);t=n}return"string"==typeof t.icon&&pd[t.icon]&&(t.icon=pd[t.icon]),t}class fd extends Sa{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define("image.styles",["full","side"]);const l=md(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const s=function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const l=od(n.attributeNewValue,t),s=od(n.attributeOldValue,t),r=i.mapper.toViewElement(n.item),o=i.writer;s&&o.removeClass(s.className,r),l&&o.addClass(l.className,r)}}(l);i.downcastDispatcher.on("attribute:imageStyle:image",s),n.downcastDispatcher.on("attribute:imageStyle:image",s),n.upcastDispatcher.on("element:figure",function(t){const e=t.filter(t=>!t.isDefault);return(t,n,i)=>{if(!n.modelRange)return;const l=n.viewItem,s=Vu(n.modelRange.getItems());if(i.schema.checkAttribute(s,"imageStyle"))for(const r of e)i.consumable.consume(l,{classes:r.className})&&i.writer.setAttribute("imageStyle",r.name,s)}}(l),{priority:"low"}),t.commands.add("imageStyle",new rd(t,l))}}n(72);class bd extends Sa{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("e"),"Side image":t("f"),"Left aligned image":t("g"),"Centered image":t("h"),"Right aligned image":t("i")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(md(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor;e.ui.componentFactory.add(`imageStyle:${t.name}`,n=>{const i=e.commands.get("imageStyle"),l=new ha(n);return l.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),l.bind("isEnabled").to(i,"isEnabled"),l.bind("isOn").to(i,"value",e=>e===t.name),this.listenTo(l,"execute",()=>{e.execute("imageStyle",{value:t.name}),e.editing.view.focus()}),l})}}class vd extends Sa{static get requires(){return[yh]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{(function(t){const e=t.getSelectedElement();return!(!e||!Qu(e))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{ariaLabel:e,items:n,getRelatedElement:i,balloonClassName:l="ck-toolbar-container"}){const s=this.editor,r=s.t,o=new wa(s.locale);if(o.ariaLabel=e||r("at"),this._toolbarDefinitions.has(t))throw new ye.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});o.fillFromConfig(n,s.ui.componentFactory),this._toolbarDefinitions.set(t,{view:o,getRelatedElement:i,balloonClassName:l})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const l=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&l)if(this.editor.ui.focusTracker.isFocused){const s=l.getAncestors().length;s>t&&(t=s,e=l,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(t,e){this._isToolbarVisible(t)?yd(this.editor,e):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:wd(this.editor,e),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const t of this._toolbarDefinitions.values())if(this._isToolbarVisible(t)){const e=t.getRelatedElement(this.editor.editing.view.document.selection);yd(this.editor,e)}}))}_isToolbarVisible(t){return this._balloon.visibleView===t.view}_isToolbarInBalloon(t){return this._balloon.hasView(t.view)}}function yd(t,e){const n=t.plugins.get("ContextualBalloon"),i=wd(t,e);n.updatePosition(i)}function wd(t,e){const n=mh.defaultPositions;return{target:t.editing.view.domConverter.mapViewToDom(e),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class xd extends Da{constructor(t){super(t),this._childCommands=[]}refresh(){}execute(...t){this._getFirstEnabledCommand().execute(t)}registerChildCommand(t){this._childCommands.push(t),t.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(t=>t.isEnabled)}}class kd extends Sa{static get pluginName(){return"IndentEditing"}init(){const t=this.editor;t.commands.add("indent",new xd(t)),t.commands.add("outdent",new xd(t))}}var _d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Cd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class Td extends Sa{static get pluginName(){return"IndentUI"}init(){const t=this.editor,e=t.locale,n=t.t,i="ltr"==e.uiLanguageDirection?_d:Cd,l="ltr"==e.uiLanguageDirection?Cd:_d;this._defineButton("indent",n("ag"),i),this._defineButton("outdent",n("ah"),l)}_defineButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,l=>{const s=i.commands.get(t),r=new ha(l);return r.set({label:e,icon:n,tooltip:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(r,"execute",()=>{i.execute(t),i.editing.view.focus()}),r})}}class Sd extends bl{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}n(74);class Md extends Ho{constructor(t,e=[]){super(t);const n=t.t;this.focusTracker=new mo,this.keystrokes=new lo,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bb"),uh,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("bc"),ch,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e),this.children=this._createFormChildren(e),this._focusables=new ko,this._focusCycler=new Jo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const i=["ck","ck-link-form"];e.length&&i.push("ck-link-form_layout-vertical"),this.setTemplate({tag:"form",attributes:{class:i,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((t,e)=>(t[e.name]=e.isOn,t),{})}render(){super.render(),ah({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new rh(this.locale,oh);return e.label=t("bg"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,i){const l=new ha(this.locale);return l.set({label:t,icon:e,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),i&&l.delegate("execute").to(this,i),l}_createManualDecoratorSwitches(t){const e=this.createCollection();for(const n of t){const t=new fa(this.locale);t.set({name:n.id,label:n.label,withText:!0}),t.bind("isOn").to(n,"value"),t.on("execute",()=>{n.set("value",!t.isOn)}),e.add(t)}return e}_createFormChildren(t){const e=this.createCollection();if(e.add(this.urlInputView),t.length){const t=new Ho;t.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(t=>({tag:"li",children:[t],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),e.add(t)}return e.add(this.saveButtonView),e.add(this.cancelButtonView),e}}n(76);class Pd extends Ho{constructor(t){super(t);const e=t.t;this.focusTracker=new mo,this.keystrokes=new lo,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("ax"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(e("ay"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),this.set("href"),this._focusables=new ko,this._focusCycler=new Jo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new ha(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new ha(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("az")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&Dc(t)),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",t=>t||n("ba")),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}class Ad extends Sa{static get requires(){return[yh]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(Sd),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(yh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new Pd(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set("Ctrl+K",(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=t.commands.get("link"),n=new Md(t.locale,e.manualDecorators);return n.urlInputView.bind("value").to(e,"value"),n.urlInputView.bind("isReadOnly").to(e,"isEnabled",t=>!t),n.saveButtonView.bind("isEnabled").to(e),this.listenTo(n,"submit",()=>{t.execute("link",n.urlInputView.inputView.element.value,n.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(n,"cancel",()=>{this._closeFormView()}),n.keystrokes.set("Esc",(t,e)=>{this._closeFormView(),e()}),n}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set("Ctrl+K",(t,e)=>{e(),this._showUI(!0)}),t.ui.componentFactory.add("link",t=>{const i=new ha(t);return i.isEnabled=!0,i.label=n("as"),i.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',i.keystroke="Ctrl+K",i.tooltip=!0,i.isToggleable=!0,i.bind("isEnabled").to(e,"isEnabled"),i.bind("isOn").to(e,"value",t=>!!t),this.listenTo(i,"execute",()=>this._showUI(!0)),i})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),ba({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||""}_closeFormView(){const t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),void 0!==t.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(t=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=s();const l=()=>{const t=this._getSelectedLinkElement(),e=s();n&&!t||!n&&e!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e};function s(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",l),this.listenTo(this._balloon,"change:visibleView",l)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return Ed(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=Ed(n.start),l=Ed(n.end);return i&&i==l&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}}function Ed(t){return t.getAncestors().find(t=>{return(e=t).is("attributeElement")&&!!e.getCustomProperty("link");var e})}class Id extends Da{constructor(t,e){super(t),this.type=e}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=Array.from(t.document.selection.getSelectedBlocks()).filter(e=>Od(e,t.schema)),n=!0===this.value;t.change(t=>{if(n){let n=e[e.length-1].nextSibling,i=Number.POSITIVE_INFINITY,l=[];for(;n&&"listItem"==n.name&&0!==n.getAttribute("listIndent");){const t=n.getAttribute("listIndent");t<i&&(i=t),l.push({element:n,listIndent:t-i}),n=n.nextSibling}l=l.reverse();for(const e of l)t.setAttribute("listIndent",e.listIndent,e.element)}if(!n){let t=Number.POSITIVE_INFINITY;for(const n of e)n.is("listItem")&&n.getAttribute("listIndent")<t&&(t=n.getAttribute("listIndent"));Dd(e,!0,t=0===t?1:t),Dd(e,!1,t)}for(const i of e.reverse())n&&"listItem"==i.name?t.rename(i,"paragraph"):n||"listItem"==i.name?n||"listItem"!=i.name||i.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,i):(t.setAttributes({listType:this.type,listIndent:0},i),t.rename(i,"listItem"))})}_getValue(){const t=Vu(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.schema,e=Vu(this.editor.model.document.selection.getSelectedBlocks());return!!e&&Od(e,t)}}function Dd(t,e,n){const i=e?t[0]:t[t.length-1];if(i.is("listItem")){let l=i[e?"previousSibling":"nextSibling"],s=i.getAttribute("listIndent");for(;l&&l.is("listItem")&&l.getAttribute("listIndent")>=n;)s>l.getAttribute("listIndent")&&(s=l.getAttribute("listIndent")),l.getAttribute("listIndent")==s&&t[e?"unshift":"push"](l),l=l[e?"previousSibling":"nextSibling"]}}function Od(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class Fd extends Da{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model;let e=Array.from(t.document.selection.getSelectedBlocks());t.change(t=>{const n=e[e.length-1];let i=n.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>n.getAttribute("listIndent");)e.push(i),i=i.nextSibling;this._indentBy<0&&(e=e.reverse());for(const l of e){const e=l.getAttribute("listIndent")+this._indentBy;e<0?t.rename(l,"paragraph"):t.setAttribute("listIndent",e,l)}})}_checkEnabled(){const t=Vu(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=e;){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}function Nd(t,e,n,i){const l=e.parent,s=n.mapper,r=n.writer;let o=s.toViewPosition(i.createPositionBefore(t));const a=Bd(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),u=t.previousSibling;if(a&&a.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=s.toViewElement(a);o=r.breakContainer(r.createPositionAfter(t))}else o=s.toViewPosition(u&&"listItem"==u.name?i.createPositionAt(u,"end"):i.createPositionBefore(t));if(o=Ld(o),r.insert(o,l),u&&"listItem"==u.name){const t=s.toViewElement(u),n=r.createRange(r.createPositionAt(t,0),o).getWalker({ignoreElementEnd:!0});for(const i of n)if(i.item.is("li")){const t=r.breakContainer(r.createPositionBefore(i.item)),l=i.item.parent,s=r.createPositionAt(e,"end");Rd(r,s.nodeBefore,s.nodeAfter),r.move(r.createRangeOn(l),s),n.position=t}}else{const n=l.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let i=null;for(const e of n.getChildren()){const n=s.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(r.breakContainer(r.createPositionAfter(i)),r.move(r.createRangeOn(i.parent),r.createPositionAt(e,"end")))}}Rd(r,l,l.nextSibling),Rd(r,l.previousSibling,l)}function Rd(t,e,n){return!e||!n||"ul"!=e.name&&"ol"!=e.name||e.name!=n.name||e.getAttribute("class")!==n.getAttribute("class")?null:t.mergeContainers(t.createPositionAfter(e))}function Ld(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}function Bd(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,l=e.listIndent;let s=t;for(;s&&"listItem"==s.name;){const t=s.getAttribute("listIndent");if(n&&l==t||i&&l>t)return s;s=s.previousSibling}return null}function Vd(t,e,n,i){t.ui.componentFactory.add(e,l=>{const s=t.commands.get(e),r=new ha(l);return r.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(s,"value","isEnabled"),r.on("execute",()=>{t.execute(e),t.editing.view.focus()}),r})}function zd(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:Pn.call(this)}function jd(t){return(e,n,i)=>{const l=i.consumable;if(!l.test(n.item,"insert")||!l.test(n.item,"attribute:listType")||!l.test(n.item,"attribute:listIndent"))return;l.consume(n.item,"insert"),l.consume(n.item,"attribute:listType"),l.consume(n.item,"attribute:listIndent");const s=n.item;Nd(s,function(t,e){const n=e.mapper,i=e.writer,l="numbered"==t.getAttribute("listType")?"ol":"ul",s=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=zd,e}(i),r=i.createContainerElement(l,null);return i.insert(i.createPositionAt(r,0),s),n.bindElements(t,s),s}(s,i),i,t)}}function Hd(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),l=n.writer;l.breakContainer(l.createPositionBefore(i)),l.breakContainer(l.createPositionAfter(i)),l.rename("numbered"==e.attributeNewValue?"ol":"ul",i.parent)}function Wd(t,e,n){const i=n.mapper.toViewElement(e.item).parent,l=n.writer;Rd(l,i,i.nextSibling),Rd(l,i.previousSibling,i);for(const s of e.item.getChildren())n.consumable.consume(s,"insert")}function Ud(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,l=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&"li"==(t=i.breakContainer(t)).parent.name;){const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));l.push(t)}t=i.createPositionAfter(t.parent)}if(l.length>0){for(let e=0;e<l.length;e++){const n=t.nodeBefore;if(t=i.insert(t,l[e]).end,e>0){const e=Rd(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}Rd(i,t.nodeBefore,t.nodeAfter)}}}function $d(t,e,n){const i=n.mapper.toViewPosition(e.position);Rd(n.writer,i.nodeBefore,i.nodeAfter)}function Yd(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=t.createElement("listItem"),l=function(t){let e=0,n=t.parent;for(;n;){if(n.is("li"))e++;else{const t=n.previousSibling;t&&t.is("li")&&e++}n=n.parent}return e}(e.viewItem);t.setAttribute("listIndent",l,i),t.setAttribute("listType",e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted",i);const s=n.splitToAllowedParent(i,e.modelCursor);if(!s)return;t.insert(i,s.position);const r=function(t,e,n){const{writer:i,schema:l}=n;let s=i.createPositionAfter(t);for(const r of e)if("ul"==r.name||"ol"==r.name)s=n.convertItem(r,s).modelCursor;else{const e=n.convertItem(r,i.createPositionAt(t,"end")),o=e.modelRange.start.nodeAfter;o&&o.is("element")&&!l.checkChild(t,o.name)&&(t=e.modelCursor.parent.is("listItem")?e.modelCursor.parent:Zd(e.modelCursor),s=i.createPositionAfter(t))}return s}(i,e.viewItem.getChildren(),n);e.modelRange=t.createRange(e.modelCursor,r),e.modelCursor=s.cursorParent?t.createPositionAt(s.cursorParent,0):e.modelRange.end}}function qd(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)!e.is("li")&&!Jd(e)&&e._remove()}}function Gd(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)n&&!Jd(e)&&e._remove(),e.is("text")?(i&&(e._data=e.data.replace(/^\s+/,"")),e.nextSibling&&!Jd(e.nextSibling)||(e._data=e.data.replace(/\s+$/,""))):Jd(e)&&(n=!0),i=!1}}function Xd(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){const e=n.mapper.toViewElement(i),l=e.getAncestors().find(Jd),s=t.createPositionAt(e,0).getWalker();for(const t of s){if("elementStart"==t.type&&t.item.is("li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==l){n.viewPosition=t.nextPosition;break}}}}}function Kd(t,[e,n]){let i,l=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,l&&l.is("listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;l&&l.is("listItem");)l._setAttribute("listIndent",l.getAttribute("listIndent")+t),l=l.nextSibling}}}function Zd(t){const e=new ns({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("listItem"));return n.value.item}function Qd(t,e,n,i,l,s){const r=Bd(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),o=l.mapper,a=l.writer,u=r?r.getAttribute("listIndent"):null;let c;if(r)if(u==t){const t=o.toViewElement(r).parent;c=a.createPositionAfter(t)}else{const t=s.createPositionAt(r,"end");c=o.toViewPosition(t)}else c=n;c=Ld(c);for(const h of[...i.getChildren()])Jd(h)&&(c=a.move(a.createRangeOn(h),c).end,Rd(a,h,h.nextSibling),Rd(a,h.previousSibling,h))}function Jd(t){return t.is("ol")||t.is("ul")}class tp extends Sa{static get pluginName(){return"ListEditing"}static get requires(){return[$h]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;var i;t.model.document.registerPostFixer(e=>(function(t,e){const n=t.document.differ.getChanges(),i=new Map;let l=!1;for(const a of n)if("insert"==a.type&&"listItem"==a.name)s(a.position);else if("insert"==a.type&&"listItem"!=a.name){if("$text"!=a.name){const n=a.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),l=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),l=!0);for(const e of Array.from(t.createRangeIn(n)).filter(t=>t.item.is("listItem")))s(e.previousPosition)}s(a.position.getShiftedBy(a.length))}else"remove"==a.type&&"listItem"==a.name?s(a.position):("attribute"==a.type&&"listIndent"==a.attributeKey||"attribute"==a.type&&"listType"==a.attributeKey)&&s(a.range.start);for(const a of i.values())r(a),o(a);return l;function s(t){const e=t.nodeBefore;if(e&&e.is("listItem")){let n=e;if(i.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(i.has(n=n.previousSibling))return;i.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is("listItem")&&i.set(e,e)}}function r(t){let n=0,i=null;for(;t&&t.is("listItem");){const s=t.getAttribute("listIndent");if(s>n){let r;null===i?(i=s-n,r=n):(i>s&&(i=s),r=s-i),e.setAttribute("listIndent",r,t),l=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function o(t){let n=[],i=null;for(;t&&t.is("listItem");){const s=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>s&&(n=n.slice(0,s+1)),0!=s)if(n[s]){const i=n[s];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),l=!0)}else n[s]=t.getAttribute("listType");i=t,t=t.nextSibling}}})(t.model,e)),n.mapper.registerViewToModelLength("li",ep),e.mapper.registerViewToModelLength("li",ep),n.mapper.on("modelToViewPosition",Xd(n.view)),n.mapper.on("viewToModelPosition",(i=t.model,(t,e)=>{const n=e.viewPosition,l=n.parent,s=e.mapper;if("ul"==l.name||"ol"==l.name){if(n.isAtEnd){const t=s.toModelElement(n.nodeBefore),l=s.getModelLength(n.nodeBefore);e.modelPosition=i.createPositionBefore(t).getShiftedBy(l)}else{const t=s.toModelElement(n.nodeAfter);e.modelPosition=i.createPositionBefore(t)}t.stop()}else if("li"==l.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const r=s.toModelElement(l);let o=1,a=n.nodeBefore;for(;a&&Jd(a);)o+=s.getModelLength(a),a=a.previousSibling;e.modelPosition=i.createPositionBefore(r).getShiftedBy(o),t.stop()}})),e.mapper.on("modelToViewPosition",Xd(n.view)),t.conversion.for("editingDowncast").add(e=>{e.on("insert",Ud,{priority:"high"}),e.on("insert:listItem",jd(t.model)),e.on("attribute:listType:listItem",Hd,{priority:"high"}),e.on("attribute:listType:listItem",Wd,{priority:"low"}),e.on("attribute:listIndent:listItem",function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const l=i.mapper.toViewElement(n.item),s=i.writer;s.breakContainer(s.createPositionBefore(l)),s.breakContainer(s.createPositionAfter(l));const r=l.parent,o=r.previousSibling,a=s.createRangeOn(r);s.remove(a),o&&o.nextSibling&&Rd(s,o,o.nextSibling),Qd(n.attributeOldValue+1,n.range.start,a.start,l,i,t),Nd(n.item,l,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}(t.model)),e.on("remove:listItem",function(t){return(e,n,i)=>{const l=i.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("li")).nodeAfter,s=i.writer;s.breakContainer(s.createPositionBefore(l)),s.breakContainer(s.createPositionAfter(l));const r=l.parent,o=r.previousSibling,a=s.createRangeOn(r),u=s.remove(a);o&&o.nextSibling&&Rd(s,o,o.nextSibling),Qd(i.mapper.toModelElement(l).getAttribute("listIndent")+1,n.position,a.start,l,i,t);for(const t of s.createRangeIn(u).getItems())i.mapper.unbindViewElement(t);e.stop()}}(t.model)),e.on("remove",$d,{priority:"low"})}),t.conversion.for("dataDowncast").add(e=>{e.on("insert",Ud,{priority:"high"}),e.on("insert:listItem",jd(t.model))}),t.conversion.for("upcast").add(t=>{t.on("element:ul",qd,{priority:"high"}),t.on("element:ol",qd,{priority:"high"}),t.on("element:li",Gd,{priority:"high"}),t.on("element:li",Yd)}),t.model.on("insertContent",Kd,{priority:"high"}),t.commands.add("numberedList",new Id(t,"numbered")),t.commands.add("bulletedList",new Id(t,"bulleted")),t.commands.add("indentList",new Fd(t,"forward")),t.commands.add("outdentList",new Fd(t,"backward"));const l=n.view.document;this.listenTo(l,"enter",(t,e)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())}),this.listenTo(l,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=n.getFirstPosition();if(!i.isAtStart)return;const l=i.parent;"listItem"===l.name&&(l.previousSibling&&"listItem"===l.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))},{priority:"high"});const s=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};t.keystrokes.set("Tab",s("indentList")),t.keystrokes.set("Shift+Tab",s("outdentList"))}afterInit(){const t=this.editor.commands,e=t.get("indent"),n=t.get("outdent");e&&e.registerChildCommand(t.get("indentList")),n&&n.registerChildCommand(t.get("outdentList"))}}function ep(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=ep(t);return e}class np extends Sa{init(){const t=this.editor.t;Vd(this.editor,"numberedList",t("ae"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Vd(this.editor,"bulletedList",t("af"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function ip(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,i,l){if(!l.consumable.consume(i.item,n.name))return;const s=i.attributeNewValue,r=l.writer,o=l.mapper.toViewElement(i.item);r.remove(r.createRangeIn(o));const a=t.getMediaViewElement(r,s,e);r.insert(r.createPositionAt(o,0),a)}}function lp(t,e,n,i){const l=t.createContainerElement("figure",{class:"media"});return l.getFillerOffset=op,t.insert(t.createPositionAt(l,0),e.getMediaViewElement(t,n,i)),l}function sp(t){const e=t.getSelectedElement();return e&&e.is("media")?e:null}function rp(t,e,n){t.change(i=>{const l=i.createElement("media",{url:e});t.insertContent(l,n),i.setSelection(l,"on")})}function op(){return null}class ap extends Da{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=e.getFirstPosition(),l=sp(e);let s=i.parent;s!=s.root&&(s=s.parent),this.value=l?l.getAttribute("url"):null,this.isEnabled=n.checkChild(s,"media")}execute(t){const e=this.editor.model,n=e.document.selection,i=sp(n);if(i)e.change(e=>{e.setAttribute("url",t,i)});else{const i=nc(n,e);rp(e,t,i)}}}class up{constructor(t,e){const n=e.providers,i=e.extraProviders||[],l=new Set(e.removeProviders),s=n.concat(i).filter(t=>{const e=t.name;return e?!l.has(e):(console.warn(Object(ye.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:t}),!1)});this.locale=t,this.providerDefinitions=s}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new cp(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let i=e.url;Array.isArray(i)||(i=[i]);for(const e of i){const i=this._getUrlMatches(t,e);if(i)return new cp(this.locale,t,i,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return(n=i.match(e))||(n=(i=i.replace(/^www\./,"")).match(e))||null}}class cp{constructor(t,e,n,i){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);return t.createUIElement("div",n,(function(t){const e=this.toDomElement(t);return e.innerHTML=i,e}))}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n)}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new ca,e=new ua;return t.text=this._t("Open media in new tab"),e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new _o({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n(78);class hp extends Sa{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new up(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,l=t.config.get("mediaEmbed.previewsInData"),s=this.registry;t.commands.add("mediaEmbed",new ap(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return lp(e,s,n,{renderMediaPreview:n&&l})}}),i.for("dataDowncast").add(ip(s,{renderMediaPreview:l})),i.for("editingDowncast").elementToElement({model:"media",view:(t,e)=>{const i=t.getAttribute("url");return l=lp(e,s,i,{renderForEditingView:!0}),r=e,o=n("ar"),r.setCustomProperty("media",!0,l),Ju(l,r,{label:o});var l,r,o}}),i.for("editingDowncast").add(ip(s,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(s.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(s.hasMedia(n))return e.createElement("media",{url:n})}})}}const dp=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class pp extends Sa{static get requires(){return[Ia,xu]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Ia),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=Wr.fromPosition(t.start);n.stickiness="toPrevious";const i=Wr.fromPosition(t.end);i.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(Wi.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,i=n.plugins.get(hp).registry,l=new fs(t,e),s=l.getWalker({ignoreElementEnd:!0});let r="";for(const o of s)o.item.is("textProxy")&&(r+=o.item.data);(r=r.trim()).match(dp)&&i.hasMedia(r)&&n.commands.get("mediaEmbed").isEnabled&&(this._positionToInsert=Wr.fromPosition(t),this._timeoutId=Wi.window.setTimeout(()=>{n.model.change(t=>{let e;this._timeoutId=null,t.remove(l),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),rp(n.model,r,e),this._positionToInsert.detach(),this._positionToInsert=null})},100))}}n(80);class mp extends Ho{constructor(t,e){super(e);const n=e.t;this.focusTracker=new mo,this.keystrokes=new lo,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("bb"),uh,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("bc"),ch,"ck-button-cancel","cancel"),this._focusables=new ko,this._focusCycler=new Jo({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),ah({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(t){this.urlInputView.inputView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new rh(this.locale,oh),n=e.inputView;return this._urlInputViewInfoDefault=t("bd"),this._urlInputViewInfoTip=t("be"),e.label=t("bf"),e.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault}),e}_createButton(t,e,n,i){const l=new ha(this.locale);return l.set({label:t,icon:e,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),i&&l.delegate("execute").to(this,i),l}}class gp extends Sa{static get requires(){return[hp]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(hp).registry;this.form=new mp(function(t,e){return[e=>{if(!e.url.length)return t("ap")},n=>{if(!e.hasMedia(n.url))return t("aq")}]}(t.t,n),t.locale),t.ui.componentFactory.add("mediaEmbed",n=>{const i=va(n);return this._setUpDropdown(i,this.form,e,t),this._setUpForm(this.form,i,e),i})}_setUpDropdown(t,e,n){const i=this.editor,l=i.t,s=t.buttonView;function r(){i.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),s.set({label:l("ao"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n',tooltip:!0}),s.on("open",()=>{e.url=n.value||"",e.urlInputView.select(),e.focus()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(i.execute("mediaEmbed",e.url),r())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>r())}_setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),t.saveButtonView.bind("isEnabled").to(n)}}function fp(t,e,n){const i=e.parent,l=n.createElement(t.type),s=i.getChildIndex(e)+1;return n.insertChild(s,l,i),l}function bp(t){const e={},n=t.getStyle("mso-list");if(n){const t=n.match(/(^|\s+)l(\d+)/i),i=n.match(/\s*lfo(\d+)/i),l=n.match(/\s*level(\d+)/i);t&&i&&l&&(e.id=t[2],e.order=i[1],e.indent=l[1])}return e}n(82);const vp=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class yp{constructor(t){this.document=t}isActive(t){return vp.test(t)}execute(t){const e=new Lh(this.document);!function(t,e){for(const n of t.getChildren())if(n.is("b")&&"normal"===n.getStyle("font-weight")){const i=t.getChildIndex(n);e.remove(n),e.insertChild(i,n.getChildren(),t)}}(t.content,e),function(t,e){for(const n of e.createRangeIn(t)){const t=n.item;if(t.is("li")){const n=t.getChild(0);n.is("p")&&e.unwrapElement(n)}}}(t.content,e)}}function wp(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1===e.length?" ":Array(e.length+1).join("\xa0 ").substr(0,e.length))}const xp=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,kp=/xmlns:o="urn:schemas-microsoft-com/i;class _p{isActive(t){return xp.test(t)||kp.test(t)}execute(t){const{body:e,stylesString:n}=function(t){const e=new DOMParser,n=function(t){return wp(wp(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(t){const e=t.match(/<\/body>(.*?)(<\/html>|$)/);return e&&e[1]&&(t=t.slice(0,e.index)+t.slice(e.index).replace(e[1],"")),t}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=e.parseFromString(n,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t.childNodes&&t.childNodes[0]&&t.childNodes[0].data&&t.childNodes[0].data.length||0;t.innerHTML=Array(e+1).join("\xa0 ").substr(0,e)})}(i);const l=i.body.innerHTML,s=function(t){const e=new Kn(new kn),n=new qi(e,{blockFillerMode:"nbsp"}),i=t.createDocumentFragment(),l=t.body.childNodes;for(;l.length>0;)i.appendChild(l[0]);return n.domToView(i)}(i),r=function(t){const e=[],n=[],i=Array.from(t.getElementsByTagName("style"));for(const l of i)l.sheet&&l.sheet.cssRules&&l.sheet.cssRules.length&&(e.push(l.sheet),n.push(l.innerHTML));return{styles:e,stylesString:n.join(" ")}}(i);return{body:s,bodyString:l,styles:r.styles,stylesString:r.stylesString}}(t.dataTransfer.getData("text/html"));(function(t,e){if(!t.childCount)return;const n=new Lh(t.document),i=function(t,e){const n=e.createRangeIn(t),i=new We({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),l=[];for(const s of n)if("elementStart"===s.type&&i.match(s.item)){const t=bp(s.item);l.push({element:s.item,id:t.id,order:t.order,indent:t.indent})}return l}(t,n);if(!i.length)return;let l=null,s=1;i.forEach((t,r)=>{const o=function(t,e){if(!t)return!0;if(t.id!==e.id)return!0;const n=e.element.previousSibling;return!n||!((i=n).is("ol")||i.is("ul"));var i}(i[r-1],t),a=(c=t,(u=o?null:i[r-1])?c.indent-u.indent:c.indent-1);var u,c;if(o&&(l=null,s=1),!l||0!==a){const i=function(t,e){const n=/mso-level-number-format:([^;]*);/gi,i=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi").exec(e);let l="decimal";if(i&&i[1]){const t=n.exec(i[1]);t&&t[1]&&(l=t[1].trim())}return{type:"bullet"!==l&&"image"!==l?"ol":"ul",style:l}}(t,e);if(l)if(t.indent>s){const t=l.getChild(l.childCount-1),e=t.getChild(t.childCount-1);l=fp(i,e,n),s+=1}else t.indent<s&&(l=function(t,e){const n=t.getAncestors({parentFirst:!0});let i=null,l=0;for(const s of n)if("ul"!==s.name&&"ol"!==s.name||l++,l===e){i=s;break}return i}(l,s-t.indent),s=parseInt(t.indent));else l=fp(i,t.element,n);t.indent<=s&&(l.is(i.type)||(l=n.rename(i.type,l)))}const h=function(t,e){return function(t,e){const n=new We({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);for(const l of i)"elementStart"===l.type&&n.match(l.item)&&e.remove(l.item)}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(h,l)})})(e,n),function(t,e){if(!t.childCount)return;const n=new Lh;!function(t,e,n){const i=n.createRangeIn(e),l=new We({name:"img"}),s=[];for(const r of i)if(l.match(r.item)){const e=r.item,n=e.getAttribute("v:shapes")?e.getAttribute("v:shapes").split(" "):[];n.length&&n.every(e=>t.indexOf(e)>-1)?s.push(e):e.getAttribute("src")||s.push(e)}for(const r of s)n.remove(r)}(function(t,e){const n=e.createRangeIn(t),i=new We({name:/v:(.+)/}),l=[];for(const s of n){const t=s.item,e=t.previousSibling&&t.previousSibling.name||null;i.match(t)&&t.getAttribute("o:gfxdata")&&"v:shapetype"!==e&&l.push(s.item.getAttribute("id"))}return l}(t,n),t,n),function(t,e){const n=e.createRangeIn(t),i=new We({name:/v:(.+)/}),l=[];for(const s of n)i.match(s.item)&&l.push(s.item);for(const s of l)e.remove(s)}(t,n);const i=function(t,e){const n=e.createRangeIn(t),i=new We({name:"img"}),l=[];for(const s of n)i.match(s.item)&&s.item.getAttribute("src").startsWith("file://")&&l.push(s.item);return l}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(let l=0;l<t.length;l++){const s=`data:${e[l].type};base64,${i=e[l].hex,btoa(i.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}`;n.setAttribute("src",s,t[l])}var i}(i,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),l=[];if(i)for(const s of i){let t=!1;s.includes("\\pngblip")?t="image/png":s.includes("\\jpegblip")&&(t="image/jpeg"),t&&l.push({hex:s.replace(e,"").replace(/[^\da-fA-F]/g,""),type:t})}return l}(e),n)}(e,t.dataTransfer.getData("text/rtf")),t.content=e}}function Cp(t,e){let n=e.parent;for(;n;){if(n.name===t)return n;n=n.parent}}function Tp(t,e,n,i,l=1){e>l?i.setAttribute(t,e,n):i.removeAttribute(t,n)}function Sp(t,e,n={}){const i=t.createElement("tableCell",n);t.insertElement("paragraph",i),t.insert(i,e)}function Mp(t,e){const n=parseInt(e.parent.parent.getAttribute("headingColumns")||0),{column:i}=t.getCellLocation(e);return!!n&&i<n}function Pp(t){return e=>{e.on(`element:${t}`,(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const l=n.writer.createElement("tableCell"),s=n.splitToAllowedParent(l,e.modelCursor);if(!s)return;n.writer.insert(l,s.position),n.consumable.consume(i,{name:!0});const r=n.writer.createPositionAt(l,0);n.convertChildren(i,r),l.childCount||n.writer.insertElement("paragraph",r),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(l),n.writer.createPositionAfter(l)),e.modelCursor=e.modelRange.end})}}function Ap(t){let e=0,n=0;const i=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);for(;n<i.length&&"th"===i[n].name;)e+=parseInt(i[n].getAttribute("colspan")||1),n++;return e}class Ep{constructor(t,e={}){this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};let e,n,i;if(this._isSpanned(this._row,this._column))e=this._getSpanned(this._row,this._column),n=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(e,this._column,!0);else{if(!(e=t.getChild(this._cellIndex)))return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();const l=parseInt(e.getAttribute("colspan")||1),s=parseInt(e.getAttribute("rowspan")||1);(l>1||s>1)&&this._recordSpans(this._row,this._column,s,l,e),this._nextCellAtColumn=this._column+l,n=this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(e,this._column,!1,s,l)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,n?this.next():i}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(t,e,n,i=1,l=1){return{done:!1,value:{cell:t,row:this._row,column:e,isSpanned:n,rowspan:i,colspan:l,cellIndex:this._cellIndex}}}_shouldSkipRow(){const t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(){return void 0!==this.column&&this.column!=this._column}_isSpanned(t,e){return!!this._spannedCells.has(t)&&this._spannedCells.get(t).has(e)}_getSpanned(t,e){return this._spannedCells.get(t).get(e)}_recordSpans(t,e,n,i,l){for(let s=e+1;s<=e+i-1;s++)this._markSpannedCell(t,s,l);for(let s=t+1;s<t+n;s++)for(let t=e;t<=e+i-1;t++)this._markSpannedCell(s,t,l)}_markSpannedCell(t,e,n){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,n)}}function Ip(t){return!!t.getCustomProperty("table")&&Qu(t)}function Dp(t){const e=t.getSelectedElement();return e&&Ip(e)?e:null}function Op(t){const e=Cp("table",t.getFirstPosition());return e&&Ip(e.parent)?e.parent:null}function Fp(t){const e=[];for(const i of(n=t.getRanges(),Array.from(n).sort(Lp))){const t=i.getContainedElement();t&&t.is("tableCell")&&e.push(t)}var n;return e}function Np(t){const e=[];for(const n of t.getRanges()){const t=Cp("tableCell",n.start);t&&e.push(t)}return e}function Rp(t){const e=Fp(t);return e.length?e:Np(t)}function Lp(t,e){const n=t.start,i=e.start;return n.isEqual(i)?0:n.isBefore(i)?-1:1}function Bp(t={}){return e=>e.on("insert:table",(e,n,i)=>{const l=n.item;if(!i.consumable.consume(l,"insert"))return;i.consumable.consume(l,"attribute:headingRows:table"),i.consumable.consume(l,"attribute:headingColumns:table");const s=t&&t.asWidget,r=i.writer.createContainerElement("figure",{class:"table"}),o=i.writer.createContainerElement("table");let a;var u,c;i.writer.insert(i.writer.createPositionAt(r,0),o),s&&((c=i.writer).setCustomProperty("table",!0,u=r),a=Ju(u,c,{hasSelectionHandle:!0}));const h=new Ep(l),d={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0},p=new Map;for(const g of h){const{row:e,cell:n}=g,s=Xp(Gp(e,d),o,i),r=l.getChild(e),a=p.get(e)||Yp(r,e,s,i);p.set(e,a),i.consumable.consume(n,"insert"),$p(g,d,i.writer.createPositionAt(a,"end"),i,t)}const m=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(l,s?a:r),i.writer.insert(m,s?a:r)})}function Vp(t={}){return e=>e.on("insert:tableRow",(e,n,i)=>{const l=n.item;if(!i.consumable.consume(l,"insert"))return;const s=l.parent,r=Jp(i.mapper.toViewElement(s)),o=s.getChildIndex(l),a=new Ep(s,{startRow:o,endRow:o}),u={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},c=new Map;for(const h of a){const e=Xp(Gp(o,u),r,i),n=c.get(o)||Yp(l,o,e,i);c.set(o,n),i.consumable.consume(h.cell,"insert"),$p(h,u,i.writer.createPositionAt(n,"end"),i,t)}})}function zp(t={}){return e=>e.on("insert:tableCell",(e,n,i)=>{const l=n.item;if(!i.consumable.consume(l,"insert"))return;const s=l.parent,r=s.parent,o=r.getChildIndex(s),a=new Ep(r,{startRow:o,endRow:o}),u={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};for(const c of a)if(c.cell===l){const e=i.mapper.toViewElement(s);return void $p(c,u,i.writer.createPositionAt(e,s.getChildIndex(l)),i,t)}})}function jp(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",(t,n,i)=>{const l=n.item;if(!i.consumable.consume(n.item,t.name))return;const s=Jp(i.mapper.toViewElement(l)),r=n.attributeOldValue,o=n.attributeNewValue;if(o>r){const t=Array.from(l.getChildren()).filter(({index:t})=>a(t,r-1,o));Qp(t,Xp("thead",s,i),i,"end");for(const n of t)for(const t of n.getChildren())Wp(t,"th",i,e);Zp("tbody",s,i)}else{Qp(Array.from(l.getChildren()).filter(({index:t})=>a(t,o-1,r)).reverse(),Xp("tbody",s,i),i,0);const t=new Ep(l,{startRow:o?o-1:o,endRow:r-1}),n={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0};for(const l of t)Up(l,n,i,e);Zp("thead",s,i)}function a(t,e,n){return t>e&&t<n}})}function Hp(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",(t,n,i)=>{const l=n.item;if(!i.consumable.consume(n.item,t.name))return;const s={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0},r=n.attributeOldValue,o=n.attributeNewValue,a=(r>o?r:o)-1;for(const u of new Ep(l))u.column>a||Up(u,s,i,e)})}function Wp(t,e,n,i){const l=n.writer,s=n.mapper.toViewElement(t);if(!s)return;let r;i?(r=ec(l.createEditableElement(e,s.getAttributes()),l),l.insert(l.createPositionAfter(s),r),l.move(l.createRangeIn(s),l.createPositionAt(r,0)),l.remove(l.createRangeOn(s))):r=l.rename(e,s),n.mapper.unbindViewElement(s),n.mapper.bindElements(t,r)}function Up(t,e,n,i){const{cell:l}=t,s=qp(t,e),r=n.mapper.toViewElement(l);r&&r.name!==s&&Wp(l,s,n,i)}function $p(t,e,n,i,l){const s=l&&l.asWidget,r=qp(t,e),o=s?ec(i.writer.createEditableElement(r),i.writer):i.writer.createContainerElement(r),a=t.cell,u=a.getChild(0),c=1===a.childCount&&"paragraph"===u.name;if(i.writer.insert(n,o),c&&![...u.getAttributeKeys()].length){const t=a.getChild(0),e=i.writer.createPositionAt(o,"end");if(i.consumable.consume(t,"insert"),l.asWidget){const n=i.writer.createContainerElement("span",{style:"display:inline-block"});i.mapper.bindElements(t,n),i.writer.insert(e,n),i.mapper.bindElements(a,o)}else i.mapper.bindElements(a,o),i.mapper.bindElements(t,o)}else i.mapper.bindElements(a,o)}function Yp(t,e,n,i){i.consumable.consume(t,"insert");const l=i.writer.createContainerElement("tr");i.mapper.bindElements(t,l);const s=t.parent.getAttribute("headingRows")||0,r=i.writer.createPositionAt(n,s>0&&e>=s?e-s:e);return i.writer.insert(r,l),l}function qp(t,e){const{row:n,column:i}=t,{headingColumns:l,headingRows:s}=e;return s&&s>n||l&&l>i?"th":"td"}function Gp(t,e){return t<e.headingRows?"thead":"tbody"}function Xp(t,e,n){return Kp(t,e)||function(t,e,n){const i=n.writer.createContainerElement(t),l=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(l,i),i}(t,e,n)}function Kp(t,e){for(const n of e.getChildren())if(n.name==t)return n}function Zp(t,e,n){const i=Kp(t,e);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function Qp(t,e,n,i){for(const l of t){const t=n.mapper.toViewElement(l);t&&n.writer.move(n.writer.createRangeOn(t),n.writer.createPositionAt(e,i))}}function Jp(t){for(const e of t.getChildren())if("table"===e.name)return e}class tm extends Da{refresh(){const t=this.editor.model,e=t.schema,n=function(t){const e=t.parent;return e===e.root?e:e.parent}(t.document.selection.getFirstPosition());this.isEnabled=e.checkChild(n,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get("TableUtils"),l=parseInt(t.rows)||2,s=parseInt(t.columns)||2,r=nc(n,e);e.change(t=>{const n=i.createTable(t,l,s);e.insertContent(n,r),t.setSelection(t.createPositionAt(n.getNodeByPath([0,0,0]),0))})}}class em extends Da{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=Cp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i="above"===this.order,l=i?e.getFirstPosition():e.getLastPosition(),s=((i?e.getFirstRange():e.getLastRange()).getContainedElement()||Cp("tableCell",l)).parent,r=s.parent,o=r.getChildIndex(s);n.insertRows(r,{rows:1,at:"below"===this.order?o+1:o})}}class nm extends Da{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=Cp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i="left"===this.order,l=i?e.getFirstPosition():e.getLastPosition(),s=(i?e.getFirstRange():e.getLastRange()).getContainedElement()||Cp("tableCell",l),r=s.parent.parent,{column:o}=n.getCellLocation(s);n.insertColumns(r,{columns:1,at:i?o:o+1})}}class im extends Da{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=Rp(this.editor.model.document.selection);this.isEnabled=1===t.length}execute(){const t=Rp(this.editor.model.document.selection)[0],e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}class lm extends Da{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}execute(){const t=this.editor.model,e=Np(t.document.selection)[0],n=this.value,i=this.direction;t.change(t=>{const l="right"==i||"down"==i,s=l?e:n,r=l?n:e,o=r.parent;!function(t,e,n){sm(t)||(sm(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end"))),n.remove(t)}(r,s,t);const a=this.isHorizontal?"colspan":"rowspan",u=parseInt(e.getAttribute(a)||1),c=parseInt(n.getAttribute(a)||1);t.setAttribute(a,u+c,s),t.setSelection(t.createRangeIn(s)),o.childCount||function(t,e){const n=t.parent,i=n.getChildIndex(t);for(const{cell:l,row:s,rowspan:r}of new Ep(n,{endRow:i}))s+r-1>=i&&Tp("rowspan",r-1,l,e);e.remove(t)}(o,t)})}_getMergeableCell(){const t=Np(this.editor.model.document.selection)[0];if(!t)return;const e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){const i="right"==e?t.nextSibling:t.previousSibling,l=(t.parent.parent.getAttribute("headingColumns")||0)>0;if(!i)return;const s="right"==e?t:i,r="right"==e?i:t,{column:o}=n.getCellLocation(s),{column:a}=n.getCellLocation(r),u=parseInt(s.getAttribute("colspan")||1),c=Mp(n,s),h=Mp(n,r);return l&&c!=h?void 0:o+u===a?i:void 0}(t,this.direction,e):function(t,e){const n=t.parent,i=n.parent,l=i.getChildIndex(n);if("down"==e&&l===i.childCount-1||"up"==e&&0===l)return;const s=parseInt(t.getAttribute("rowspan")||1),r=i.getAttribute("headingRows")||0;if(r&&("down"==e&&l+s===r||"up"==e&&l===r))return;const o=parseInt(t.getAttribute("rowspan")||1),a="down"==e?l+o:l,u=[...new Ep(i,{endRow:a})],c=u.find(e=>e.cell===t).column,h=u.find(({row:t,rowspan:n,column:i})=>i===c&&("down"==e?t===a:a===t+n));return h&&h.cell}(t,this.direction);if(!n)return;const i=this.isHorizontal?"rowspan":"colspan",l=parseInt(t.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===l?n:void 0}}function sm(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}class rm extends Da{refresh(){const t=Rp(this.editor.model.document.selection),e=t[0];if(e){const n=e.parent.parent,i=this.editor.plugins.get("TableUtils").getRows(n),l=[...new Ep(n)].filter(e=>t.includes(e.cell)).map(t=>t.row);this.isEnabled=l[l.length-1]-l[0]<i-1}else this.isEnabled=!1}execute(){const t=Rp(this.editor.model.document.selection),e=function(t){const e=t.map(t=>t.parent.index).sort();return{first:e[0],last:e[e.length-1]}}(t),n=t[0],i=n.parent.parent,l=[...new Ep(i,{endRow:e.last})],s=this.editor.model.createBatch(),r=function(t,e){return t.find(t=>t.cell===e).column}(l,n);let o;this.editor.model.enqueueChange(s,t=>{t.setSelection(t.createSelection(i,"on"))});for(let a=e.last;a>=e.first;a--)this.editor.model.enqueueChange(s,t=>{const e=a;this._removeRow(e,i,t,l),o=om(i,e,r)});this.editor.model.enqueueChange(s,t=>{t.setSelection(t.createPositionAt(o,0))})}_removeRow(t,e,n,i){const l=new Map,s=e.getChild(t),r=e.getAttribute("headingRows")||0;r&&t<r&&Tp("headingRows",r-1,e,n,0),i.filter(({row:e,rowspan:n})=>e===t&&n>1).forEach(({column:t,cell:e,rowspan:n})=>l.set(t,{cell:e,rowspanToSet:n-1})),i.filter(({row:e,rowspan:n})=>e<=t-1&&e+n>t).forEach(({cell:t,rowspan:e})=>Tp("rowspan",e-1,t,n));const o=t+1,a=new Ep(e,{includeSpanned:!0,startRow:o,endRow:o});let u;for(const{row:c,column:h,cell:d}of[...a])if(l.has(h)){const{cell:t,rowspanToSet:i}=l.get(h),s=u?n.createPositionAfter(u):n.createPositionAt(e.getChild(c),0);n.move(n.createRangeOn(t),s),Tp("rowspan",i,t,n),u=t}else u=d;n.remove(s)}}function om(t,e,n){const i=t.getChild(e)||t.getChild(t.childCount-1);let l=i.getChild(0),s=0;for(const r of i.getChildren()){if(s>n)return l;l=r,s+=parseInt(r.getAttribute("colspan")||1)}return l}class am extends Da{refresh(){const t=Rp(this.editor.model.document.selection),e=t[0];if(e){const n=e.parent.parent,i=this.editor.plugins.get("TableUtils").getColumns(n),l=[...new Ep(n)].filter(e=>t.includes(e.cell)).map(t=>t.column).sort();this.isEnabled=l[l.length-1]-l[0]<i-1}else this.isEnabled=!1}execute(){const[t,e]=function(t){const e=Rp(t),n=e[0],i=e.pop(),l=[n,i];return n.isBefore(i)?l:l.reverse()}(this.editor.model.document.selection),n=t.parent.parent,i=[...new Ep(n)],l={first:i.find(e=>e.cell===t).column,last:i.find(t=>t.cell===e).column},s=function(t,e,n,i){return parseInt(n.getAttribute("colspan")||1)>1?n:e.previousSibling||n.nextSibling?n.nextSibling||e.previousSibling:i.first?t.reverse().find(({column:t})=>t<i.first).cell:t.reverse().find(({column:t})=>t>i.last).cell}(i,t,e,l);this.editor.model.change(t=>{t.setSelection(t.createRangeOn(n)),function(t,e,n){const i=t.getAttribute("headingColumns")||0;if(i&&e.first<=i){const l=Math.min(i-1,e.last)-e.first+1;n.setAttribute("headingColumns",i-l,t)}}(n,l,t);for(let e=l.last;e>=l.first;e--)for(const{cell:n,column:l,colspan:s}of i)if(l<=e&&s>1&&l+s>e)Tp("colspan",s-1,n,t);else if(l===e){const e=n.parent;t.remove(n),e.childCount||t.remove(e)}t.setSelection(t.createPositionAt(s,0))})}}class um extends Da{refresh(){const t=Rp(this.editor.model.document.selection),e=t.length>0;this.isEnabled=e,this.value=e&&t.every(t=>this._isInHeading(t,t.parent.parent))}execute(t={}){const e=this.editor.model,n=Rp(e.document.selection),i=n[0],l=n[n.length-1],s=i.parent.parent,r=s.getAttribute("headingRows")||0,[o,a]=[i.parent.index,l.parent.index].sort();if(t.forceValue===this.value)return;const u=this.value?o:a+1;e.change(t=>{if(u){const e=function(t,e,n){const i=[],l=new Ep(t,{startRow:e>n?n:0,endRow:e-1});for(const{row:s,rowspan:r,cell:o}of l)r>1&&s+r>e&&i.push(o);return i}(s,u,r);for(const n of e)cm(n,u,t)}Tp("headingRows",u,s,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}function cm(t,e,n){const i=t.parent,l=i.parent,s=e-i.index,r={},o=parseInt(t.getAttribute("rowspan"))-s;o>1&&(r.rowspan=o);const a=parseInt(t.getAttribute("colspan")||1);a>1&&(r.colspan=a);const u=l.getChildIndex(i),c=u+s,h=[...new Ep(l,{startRow:u,endRow:c,includeSpanned:!0})];let d;for(const{row:p,column:m,cell:g,cellIndex:f}of h)if(g===t&&void 0===d&&(d=m),void 0!==d&&d===m&&p===c){const t=l.getChild(p),e=n.createPositionAt(t,f);Sp(n,e,r)}Tp("rowspan",s,t,n)}class hm extends Da{refresh(){const t=Rp(this.editor.model.document.selection),e=this.editor.plugins.get("TableUtils"),n=t.length>0;this.isEnabled=n,this.value=n&&t.every(t=>Mp(e,t))}execute(t={}){const e=this.editor.model,n=this.editor.plugins.get("TableUtils"),i=Rp(e.document.selection),l=i[0],s=i[i.length-1],r=l.parent.parent,[o,a]=[n.getCellLocation(l).column,n.getCellLocation(s).column].sort();if(t.forceValue===this.value)return;const u=this.value?o:a+1;e.change(t=>{Tp("headingColumns",u,r,t,0)})}}class dm extends Sa{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),l=new Ep(n,{startRow:i,endRow:i});for(const{cell:s,row:r,column:o}of l)if(s===t)return{row:r,column:o}}createTable(t,e,n){const i=t.createElement("table");return pm(t,i,0,e,n),i}insertRows(t,e={}){const n=e.at||0,i=e.rows||1;this.editor.model.change(e=>{const l=t.getAttribute("headingRows")||0;if(l>n&&e.setAttribute("headingRows",l+i,t),0===n||n===t.childCount)return void pm(e,t,n,i,this.getColumns(t));const s=new Ep(t,{endRow:n});let r=0;for(const{row:t,rowspan:o,colspan:a,cell:u}of s){const l=t+o>n;t<n&&l&&e.setAttribute("rowspan",o+i,u),t===n&&(r+=a)}pm(e,t,n,i,r)})}insertColumns(t,e={}){const n=e.at||0,i=e.columns||1;this.editor.model.change(e=>{const l=t.getAttribute("headingColumns");n<l&&e.setAttribute("headingColumns",l+i,t);const s=this.getColumns(t);if(0===n||s===n){for(const l of t.getChildren())mm(i,e,e.createPositionAt(l,n?"end":0));return}const r=new Ep(t,{column:n,includeSpanned:!0});for(const{row:o,cell:a,cellIndex:u}of r){const l=parseInt(a.getAttribute("rowspan")||1),s=parseInt(a.getAttribute("colspan")||1);if(a.index!==n&&s>1){if(e.setAttribute("colspan",s+i,a),r.skipRow(o),l>1)for(let t=o+1;t<o+l;t++)r.skipRow(t)}else{const n=e.createPositionAt(t.getChild(o),u);mm(i,e,n)}}})}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent.parent,l=parseInt(t.getAttribute("rowspan")||1),s=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(s>1){const{newCellsSpan:i,updatedSpan:r}=gm(s,e);Tp("colspan",r,t,n);const o={};i>1&&(o.colspan=i),l>1&&(o.rowspan=l),mm(s>e?e-1:s-1,n,n.createPositionAfter(t),o)}if(s<e){const r=e-s,o=[...new Ep(i)],{column:a}=o.find(({cell:e})=>e===t),u=o.filter(({cell:e,colspan:n,column:i})=>e!==t&&i===a||i<a&&i+n>a);for(const{cell:t,colspan:e}of u)n.setAttribute("colspan",e+r,t);const c={};l>1&&(c.rowspan=l),mm(r,n,n.createPositionAfter(t),c);const h=i.getAttribute("headingColumns")||0;h>a&&Tp("headingColumns",h+r,i,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,l=i.parent,s=l.getChildIndex(i),r=parseInt(t.getAttribute("rowspan")||1),o=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(r>1){const i=[...new Ep(l,{startRow:s,endRow:s+r-1,includeSpanned:!0})],{newCellsSpan:a,updatedSpan:u}=gm(r,e);Tp("rowspan",u,t,n);const{column:c}=i.find(({cell:e})=>e===t),h={};a>1&&(h.rowspan=a),o>1&&(h.colspan=o);for(const{column:t,row:e,cellIndex:r}of i){const i=t===c,o=(e+s+u)%a==0;if(e>=s+u&&i&&o){const t=n.createPositionAt(l.getChild(e),r);mm(1,n,t,h)}}}if(r<e){const i=e-r,a=[...new Ep(l,{startRow:0,endRow:s})];for(const{cell:e,rowspan:l,row:r}of a)e!==t&&r+l>s&&n.setAttribute("rowspan",l+i,e);const u={};o>1&&(u.colspan=o),pm(n,l,s+1,i,1,u);const c=l.getAttribute("headingRows")||0;c>s&&Tp("headingRows",c+i,l,n)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((t,e)=>t+parseInt(e.getAttribute("colspan")||1),0)}getRows(t){return t.childCount}}function pm(t,e,n,i,l,s={}){for(let r=0;r<i;r++){const i=t.createElement("tableRow");t.insert(i,e,n),mm(l,t,t.createPositionAt(i,"end"),s)}}function mm(t,e,n,i={}){for(let l=0;l<t;l++)Sp(e,n,i)}function gm(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function fm(t,e){let n=!1;const i=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,i=[];for(const{row:l,rowspan:s,cell:r}of new Ep(t)){if(s<2)continue;const t=l<e?e:n;l+s>t&&i.push({cell:r,rowspan:t-l})}return i}(t);if(i.length){n=!0;for(const t of i)Tp("rowspan",t.rowspan,t.cell,e,1)}return n}function bm(t,e){let n=!1;const i=function(t){const e={};for(const{row:n}of new Ep(t,{includeSpanned:!0}))e[n]||(e[n]=0),e[n]+=1;return e}(t),l=i[0];if(!Object.values(i).every(t=>t===l)){const l=Object.values(i).reduce((t,e)=>e>t?e:t,0);for(const[s,r]of Object.entries(i)){const i=l-r;if(i){for(let n=0;n<i;n++)Sp(e,e.createPositionAt(t.getChild(s),"end"));n=!0}}}return n}function vm(t){const e=t.attributeKey;return"attribute"===t.type&&("headingRows"===e||"colspan"===e||"rowspan"===e)}function ym(t,e){let n=!1;for(const i of t.getChildren())n=wm(i,e)||n;return n}function wm(t,e){let n=!1;for(const i of t.getChildren())n=xm(i,e)||n;return n}function xm(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(t=>t.is("text"));for(const i of n)e.wrap(e.createRangeOn(i),"paragraph");return!!n.length}function km(t){return!(!t.position||!t.position.parent.is("tableCell"))&&("insert"==t.type&&"$text"==t.name||"remove"==t.type)}function _m(t,e){if(!Array.from(t.getChildren()).some(t=>t.is("paragraph")))return!1;if("attribute"==e){const e=Array.from(t.getChild(0).getAttributeKeys()).length;return 1===t.childCount&&e<2}return t.childCount<=("insert"==e?2:1)}n(84);class Cm extends Sa{static get pluginName(){return"TableEditing"}init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1}),i.for("upcast").add(t=>{t.on("element:table",(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:l,headingRows:s,headingColumns:r}=function(t){const e={headingRows:0,headingColumns:0},n=[],i=[];let l;for(const s of Array.from(t.getChildren()))if("tbody"===s.name||"thead"===s.name||"tfoot"===s.name){"thead"!==s.name||l||(l=s);const t=Array.from(s.getChildren()).filter(t=>t.is("element","tr"));for(const s of t)if("thead"===s.parent.name&&s.parent===l)e.headingRows++,n.push(s);else{i.push(s);const t=Ap(s);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...i],e}(i),o={};r&&(o.headingColumns=r),s&&(o.headingRows=s);const a=n.writer.createElement("table",o),u=n.splitToAllowedParent(a,e.modelCursor);if(u){if(n.writer.insert(a,u.position),n.consumable.consume(i,{name:!0}),l.length)l.forEach(t=>n.convertItem(t,n.writer.createPositionAt(a,"end")));else{const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(a,"end")),Sp(n.writer,n.writer.createPositionAt(t,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(a),n.writer.createPositionAfter(a)),e.modelCursor=u.cursorParent?n.writer.createPositionAt(u.cursorParent,0):e.modelRange.end}})}),i.for("editingDowncast").add(Bp({asWidget:!0})),i.for("dataDowncast").add(Bp()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("editingDowncast").add(Vp({asWidget:!0})),i.for("dataDowncast").add(Vp()),i.for("downcast").add(t=>t.on("remove:tableRow",(t,e,n)=>{t.stop();const i=n.writer,l=n.mapper,s=l.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("tr")).nodeAfter,r=s.parent,o=i.createRangeOn(s),a=i.remove(o);for(const u of i.createRangeIn(a).getItems())l.unbindViewElement(u);r.childCount||i.remove(i.createRangeOn(r))},{priority:"higher"})),i.for("upcast").add(Pp("td")),i.for("upcast").add(Pp("th")),i.for("editingDowncast").add(zp({asWidget:!0})),i.for("dataDowncast").add(zp()),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add(Hp({asWidget:!0})),i.for("dataDowncast").add(Hp()),i.for("editingDowncast").add(jp({asWidget:!0})),i.for("dataDowncast").add(jp()),t.commands.add("insertTable",new tm(t)),t.commands.add("insertTableRowAbove",new em(t,{order:"above"})),t.commands.add("insertTableRowBelow",new em(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new nm(t,{order:"left"})),t.commands.add("insertTableColumnRight",new nm(t,{order:"right"})),t.commands.add("removeTableRow",new rm(t)),t.commands.add("removeTableColumn",new am(t)),t.commands.add("splitTableCellVertically",new im(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new im(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new lm(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new lm(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new lm(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new lm(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new hm(t)),t.commands.add("setTableRowHeader",new um(t)),function(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.differ.getChanges();let i=!1;const l=new Set;for(const s of n){let e;"table"==s.name&&"insert"==s.type&&(e=s.position.nodeAfter),"tableRow"!=s.name&&"tableCell"!=s.name||(e=Cp("table",s.position)),vm(s)&&(e=Cp("table",s.range.start)),e&&!l.has(e)&&(i=fm(e,t)||i,i=bm(e,t)||i,l.add(e))}return i})(e,t))}(e),function(t){t.document.registerPostFixer(()=>(function(t){const e=t.document.differ,n=new Set;for(const i of e.getChanges()){const t="insert"==i.type||"remove"==i.type?i.position.parent:i.range.start.parent;t.is("tableCell")&&_m(t,i.type)&&n.add(t)}if(n.size){for(const t of n.values())e.refreshItem(t);return!0}return!1})(t))}(e),function(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.differ.getChanges();let i=!1;for(const l of n)"insert"==l.type&&"table"==l.name&&(i=ym(l.position.nodeAfter,t)||i),"insert"==l.type&&"tableRow"==l.name&&(i=wm(l.position.nodeAfter,t)||i),"insert"==l.type&&"tableCell"==l.name&&(i=xm(l.position.nodeAfter,t)||i),km(l)&&(i=xm(l.position.parent,t)||i);return i})(e,t))}(e),this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[dm]}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){const t=i.getSelectedElement();if(!t||!t.is("table"))return;e(),n.model.change(e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(n,i)=>{const l=Np(e.model.document.selection)[0];if(!l)return;i();const s=l.parent,r=s.parent,o=r.getChildIndex(s),a=s.getChildIndex(l),u=0===a;if(!t&&u&&0===o)return;const c=a===s.childCount-1;if(t&&o===r.childCount-1&&c&&(e.execute("insertTableRowBelow"),o===r.childCount-1))return;let h;if(t&&c){const t=r.getChild(o+1);h=t.getChild(0)}else if(!t&&u){const t=r.getChild(o-1);h=t.getChild(t.childCount-1)}else h=s.getChild(a+(t?1:-1));e.model.change(t=>{t.setSelection(t.createRangeIn(h))})}}}n(86);class Tm extends Ho{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} \xd7 ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}});for(let n=0;n<100;n++){const t=new Sm;t.on("over",()=>{const t=Math.floor(n/10),e=n%10;this.set("rows",t+1),this.set("columns",e+1)}),this.items.add(t)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,i)=>{const l=Math.floor(i/10)<t&&i%10<e;n.set("isOn",l)})}}class Sm extends Ho{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}class Mm extends Sa{init(){const t=this.editor,e=this.editor.t,n="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",n=>{const i=t.commands.get("insertTable"),l=va(n);let s;return l.bind("isEnabled").to(i),l.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:e("m"),tooltip:!0}),l.on("change:isOpen",()=>{s||(s=new Tm(n),l.panelView.children.add(s),s.delegate("execute").to(l),l.buttonView.on("open",()=>{s.rows=0,s.columns=0}),l.on("execute",()=>{t.execute("insertTable",{rows:s.rows,columns:s.columns}),t.editing.view.focus()}))}),l}),t.ui.componentFactory.add("tableColumn",t=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("n"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:e("o")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:e("p")}},{type:"button",model:{commandName:"removeTableColumn",label:e("q")}}];return this._prepareDropdown(e("r"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("s"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("t")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("u")}},{type:"button",model:{commandName:"removeTableRow",label:e("v")}}];return this._prepareDropdown(e("w"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("x")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:e("y")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("z")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:e("aa")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("ab")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("ac")}}];return this._prepareDropdown(e("ad"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,t)})}_prepareDropdown(t,e,n,i){const l=this.editor,s=va(i),r=[],o=new Ee;for(const a of n)Pm(a,l,r,o);return ya(s,o),s.buttonView.set({label:t,icon:e,tooltip:!0}),s.bind("isEnabled").toMany(r,"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(s,"execute",t=>{l.execute(t.source.commandName),l.editing.view.focus()}),s}}function Pm(t,e,n,i){const l=t.model=new Zh(t.model),{commandName:s,bindIsOn:r}=t.model;if("button"===t.type||"switchbutton"===t.type){const t=e.commands.get(s);n.push(t),l.set({commandName:s}),l.bind("isEnabled").to(t),r&&l.bind("isOn").to(t,"value")}l.set({withText:!0}),i.add(t)}class Am extends bl{constructor(t){super(t),this.domEventType=["mousemove","mouseup","mouseleave"]}onDomEvent(t){this.fire(t.type,t)}}n(88);class Em extends Sa{static get pluginName(){return"TableSelection"}static get requires(){return[dm]}init(){const t=this.editor;this.listenTo(t.model,"deleteContent",(t,e)=>this._handleDeleteContent(t,e),{priority:"high"}),t.editing.view.addObserver(Am),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection()}getSelectedTableCells(){const t=Fp(this.editor.model.document.selection);return 0==t.length?null:t}getSelectionAsFragment(){const t=this.getSelectedTableCells();return t?this.editor.model.change(e=>{const n=e.createDocumentFragment(),i=function(t,e,n){const i=Array.from(t),l=i[0],s=i[i.length-1],{row:r,column:o}=e.getCellLocation(l),a=function(t,e,n,i){const l=n.createElement("table"),s=new Map,r=new Map;for(const o of t){const t=Cp("tableRow",o);if(!s.has(t)){const e=t._clone();n.append(e,l),s.set(t,e)}const e=o._clone(!0),{column:a}=i.getCellLocation(o);r.set(e,a),n.append(e,s.get(t))}return function(t,e,n,i,l){for(const s of t.getChildren())for(const t of Array.from(s.getChildren())){const{column:s}=l.getCellLocation(t),r=n.get(t)-e;if(s!==r)for(let e=0;e<r-s;e++){const e=i.createElement("tableCell");i.insert(e,i.createPositionBefore(t));const n=i.createElement("paragraph");i.insert(n,e,0),i.insertText("",n,0)}}}(l,e,r,n,i),l}(i,o,n,e),{row:u,column:c}=e.getCellLocation(s);return function(t,e,n,i,l){for(const s of t.getChildren())for(const t of s.getChildren()){const s=parseInt(t.getAttribute("colspan")||1),r=parseInt(t.getAttribute("rowspan")||1),{row:o,column:a}=l.getCellLocation(t);if(a+s>e){const n=e-a;n>1?i.setAttribute("colspan",n,t):i.removeAttribute("colspan",t)}if(o+r>n){const e=n-o;e>1?i.setAttribute("rowspan",e,t):i.removeAttribute("rowspan",t)}}}(a,c-o+1,u-r+1,n,e),function(t,e,n,i,l){const s=parseInt(e.getAttribute("headingRows")||0);s>0&&l.setAttribute("headingRows",s-n,t);const r=parseInt(e.getAttribute("headingColumns")||0);r>0&&l.setAttribute("headingColumns",r-i,t)}(a,Cp("table",l),r,o,n),a}(t,this.editor.plugins.get("TableUtils"),e);return e.insert(i,n,0),n}):null}_defineSelectionConverter(){const t=this.editor,e=new Set;t.conversion.for("editingDowncast").add(t=>t.on("selection",(t,n,i)=>{const l=i.writer;!function(t){for(const n of e)t.removeClass("ck-editor__editable_selected",n);e.clear()}(l);const s=this.getSelectedTableCells();if(!s)return;for(const o of s){const t=i.mapper.toViewElement(o);l.addClass("ck-editor__editable_selected",t),e.add(t)}const r=i.mapper.toViewElement(s[s.length-1]);l.setSelection(r,0)},{priority:"lowest"}))}_enableShiftClickSelection(){const t=this.editor;let e=!1;this.listenTo(t.editing.view.document,"mousedown",(n,i)=>{if(!this.isEnabled)return;if(!i.domEvent.shiftKey)return;const l=Np(t.model.document.selection)[0];if(!l)return;const s=this._getModelTableCellFromDomEvent(i);s&&Im(l,s)&&(e=!0,this._setCellSelection(l,s),i.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{e=!1}),this.listenTo(t.editing.view.document,"selectionChange",t=>{e&&t.stop()},{priority:"highest"})}_enableMouseDragSelection(){const t=this.editor;let e,n,i=!1,l=!1;this.listenTo(t.editing.view.document,"mousedown",(t,n)=>{this.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(e=this._getModelTableCellFromDomEvent(n)))}),this.listenTo(t.editing.view.document,"mousemove",(t,s)=>{if(!s.domEvent.buttons)return;if(!e)return;const r=this._getModelTableCellFromDomEvent(s);r&&Im(e,r)&&(n=r,i||n==e||(i=!0)),i&&(l=!0,this._setCellSelection(e,n),s.preventDefault())}),this.listenTo(t.editing.view.document,"mouseup",()=>{i=!1,l=!1,e=null,n=null}),this.listenTo(t.editing.view.document,"selectionChange",t=>{l&&t.stop()},{priority:"highest"})}_handleDeleteContent(t,e){const[n,i]=e,l=this.editor.model,s=!i||"backward"==i.direction,r=Fp(n);r.length&&(t.stop(),l.change(t=>{const e=r[s?r.length-1:0];l.change(t=>{for(const e of r)l.deleteContent(t.createSelection(e,"in"))});const i=l.schema.getNearestSelectionRange(t.createPositionAt(e,0));i&&(n.is("documentSelection")?t.setSelection(i):n.setTo(i))}))}_setCellSelection(t,e){const n=this._getCellsToSelect(t,e);this.editor.model.change(t=>{t.setSelection(n.cells.map(e=>t.createRangeOn(e)),{backward:n.backward})})}_getModelTableCellFromDomEvent(t){const e=this.editor.editing.view.createPositionAt(t.target,0),n=this.editor.editing.mapper.toModelPosition(e).parent;if(n)return n.is("tableCell")?n:Cp("tableCell",n)}_getCellsToSelect(t,e){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(t),l=n.getCellLocation(e),s=Math.min(i.row,l.row),r=Math.max(i.row,l.row),o=Math.min(i.column,l.column),a=Math.max(i.column,l.column),u=[];for(const c of new Ep(Cp("table",t),{startRow:s,endRow:r}))c.column>=o&&c.column<=a&&u.push(c.cell);return function(t,e){return t.row>e.row||t.row==e.row&&t.column>e.column}(i,l)?{cells:u.reverse(),backward:!0}:{cells:u,backward:!1}}}function Im(t,e){return t.parent.parent==e.parent.parent}class Dm extends Sa{static get pluginName(){return"TableClipboard"}static get requires(){return[Em]}init(){const t=this.editor.editing.view.document;this.listenTo(t,"copy",(t,e)=>this._onCopyCut(t,e)),this.listenTo(t,"cut",(t,e)=>this._onCopyCut(t,e))}_onCopyCut(t,e){const n=this.editor.plugins.get("TableSelection");if(!n.getSelectedTableCells())return;if("cut"==t.name&&this.editor.isReadOnly)return;e.preventDefault(),t.stop();const i=this.editor.editing.view.document,l=this.editor.data.toView(n.getSelectionAsFragment());i.fire("clipboardOutput",{dataTransfer:e.dataTransfer,content:l,method:t.name})}}n(90);class Om{constructor(t,e){this.model=t,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(t.document.selection),this.stopListening(t.document))}),this._startListening()}_startListening(){const t=this.model.document;this.listenTo(t.selection,"change:range",(e,{directChange:n})=>{n&&(t.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(t,"change:data",(t,e)=>{"transparent"!=e.type&&this._evaluateTextBeforeSelection("data",{batch:e})})}_evaluateTextBeforeSelection(t,e={}){const n=this.model,i=n.document.selection,l=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:s,range:r}=Eu(l,n),o=this.testCallback(s);if(!o&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!o,o){const n=Object.assign(e,{text:s,range:r});"object"==typeof o&&Object.assign(n,o),this.fire(`matched:${t}`,n)}}}Ae(Om,Fn);var Fm=/[\\^$.*+?()[\]{}|]/g,Nm=RegExp(Fm.source),Rm=function(t){return(t=en(t))&&Nm.test(t)?t.replace(Fm,"\\$&"):t};const Lm={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Wm('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Wm("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Wm("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Wm('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Wm('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Wm("'"),to:[null,"\u201a",null,"\u2019"]}},Bm={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Vm=["symbols","mathematical","typography","quotes"];function zm(t){return"string"==typeof t?new RegExp(`(${Rm(t)})$`):t}function jm(t){return"string"==typeof t?()=>[t]:t instanceof Array?()=>t:t}function Hm(t){return(t.textNode?t.textNode:t.nodeAfter).getAttributes()}function Wm(t){return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`)}class Um extends Ta{}Um.builtinPlugins=[class extends Sa{static get requires(){return[Ia,Ba,Ha,eu,xu]}static get pluginName(){return"Essentials"}},Mu,class extends Sa{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&new Au(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new Au(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=Ou(this.editor,"bold");new Iu(this.editor,/(\*\*)([^*]+)(\*\*)$/g,t),new Iu(this.editor,/(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=Ou(this.editor,"italic");new Iu(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,t),new Iu(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=Ou(this.editor,"code");new Iu(this.editor,/(`)([^`]+)(`)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=new RegExp(`^(#{${e[7]}})\\s$`);new Au(this.editor,n,()=>{if(!t.isEnabled)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new Au(this.editor,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){this.editor.commands.get("codeBlock")&&new Au(this.editor,/^```$/,"codeBlock")}},class extends Sa{static get requires(){return[Nu,Ru]}static get pluginName(){return"Bold"}},class extends Sa{static get requires(){return[Lu,Bu]}static get pluginName(){return"Italic"}},class extends Sa{static get requires(){return[Uu,$u]}static get pluginName(){return"BlockQuote"}},class extends Sa{static get pluginName(){return"CKFinder"}static get requires(){return[Yc,Yu,Mu]}},class extends Sa{static get requires(){return[Qc,Th,Hh]}static get pluginName(){return"EasyImage"}},class extends Sa{static get requires(){return[Kh,Qh]}static get pluginName(){return"Heading"}},Th,class extends Sa{static get requires(){return[ed]}static get pluginName(){return"ImageCaption"}},class extends Sa{static get requires(){return[fd,bd]}static get pluginName(){return"ImageStyle"}},class extends Sa{static get requires(){return[vd]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor,e=t.t;t.plugins.get(vd).register("image",{ariaLabel:e("b"),items:t.config.get("image.toolbar")||[],getRelatedElement:lc})}},Hh,class extends Sa{static get pluginName(){return"Indent"}static get requires(){return[kd,Td]}},class extends Sa{static get requires(){return[Hc,Ad]}static get pluginName(){return"Link"}},class extends Sa{static get requires(){return[tp,np]}static get pluginName(){return"List"}},class extends Sa{static get requires(){return[hp,gp,pp,nh]}static get pluginName(){return"MediaEmbed"}},$h,class extends Sa{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Ia]}init(){const t=this.editor,e=[];e.push(new _p),e.push(new yp(t.editing.view.document)),t.plugins.get("Clipboard").on("inputTransformation",(t,n)=>{if(n.isTransformedWithPasteFromOffice)return;const i=n.dataTransfer.getData("text/html"),l=e.find(t=>t.isActive(i));l&&(l.execute(n),n.isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends Sa{static get requires(){return[Cm,Mm,Em,Dm,nh]}static get pluginName(){return"Table"}},class extends Sa{static get requires(){return[vd]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.t,n=t.plugins.get(vd),i=t.config.get("table.contentToolbar"),l=t.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:e("c"),items:i,getRelatedElement:Op}),l&&n.register("table",{ariaLabel:e("c"),items:l,getRelatedElement:Dp})}},class extends Sa{static get pluginName(){return"TextTransformation"}constructor(t){super(t),t.config.define("typing",{transformations:{include:Vm}})}init(){const t=this.editor.model.document.selection;t.on("change:range",()=>{this.isEnabled=!t.anchor.parent.is("codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const t=this.editor,e=t.model,n=t.plugins.get("Input"),i=function(t){const e=t.remove||[],n=t=>!e.includes(t);return function(t){const e=new Set;for(const n of t)if(Bm[n])for(const t of Bm[n])e.add(t);else e.add(n);return Array.from(e)}(t.include.concat(t.extra||[]).filter(n)).filter(n).map(t=>Lm[t]||t).map(t=>({from:zm(t.from),to:jm(t.to)}))}(t.config.get("typing.transformations")),l=new Om(t.model,t=>{for(const e of i)if(e.from.test(t))return{normalizedTransformation:e}});l.on("matched:data",(t,i)=>{if(!n.isInput(i.batch))return;const{from:l,to:s}=i.normalizedTransformation,r=l.exec(i.text),o=s(r.slice(1)),a=i.range;let u=r.index;e.enqueueChange(t=>{for(let n=1;n<r.length;n++){const i=r[n],l=o[n-1];if(null==l){u+=i.length;continue}const s=a.start.getShiftedBy(u),c=e.createRange(s,s.getShiftedBy(i.length)),h=Hm(s);e.insertContent(t.createText(l,h),c),u+=l.length}})}),l.bind("isEnabled").to(this)}}],Um.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default},"/7Za":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wrapper=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=n("MPr3"),s=n("HtwQ"),r=n("FpMW"),o=n("3gQT");e.Wrapper=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.label=e,this.pubnubInstance=null,this.PubNub=n,this.broadcastOn=new s.Broadcast,this.outputOn=new r.Output,this.mockingInstance=new l.Mock(this.broadcastOn),this.autoload=new o.Autoload,this.PubNub||(this.PubNub=PubNub),null==this.PubNub)throw new Error("PubNub is not in global scope. Ensure that pubnub.js v4 library is included before the angular adapter")}return i(t,[{key:"init",value:function(t){this.pubnubInstance=new this.PubNub(t),this.mockingInstance.initializeListener(this),this.autoload.initialize(this)}},{key:"getLabel",value:function(){return this.label}},{key:"subscribe",value:function(t){this.getOriginalInstance().subscribe(t),this.mockingInstance.enableEventsBroadcast(t),this.autoload.enableLoad(t)}},{key:"unsubscribe",value:function(t){this.autoload.disableLoad(t),this.outputOn.unsubscribe(t),this.getOriginalInstance().unsubscribe(t);var e=this,n=setTimeout((function(){e.mockingInstance.disableEventsBroadcast(t),clearTimeout(n)}),1e3)}},{key:"getMessage",value:function(t){var e=this,n=void 0,i=100;return 1==(arguments.length<=1?0:arguments.length-1)&&"function"==typeof(arguments.length<=1?void 0:arguments[1])?n=arguments.length<=1?void 0:arguments[1]:1==(arguments.length<=1?0:arguments.length-1)&&"number"==typeof(arguments.length<=1?void 0:arguments[1])?i=arguments.length<=1?void 0:arguments[1]:2==(arguments.length<=1?0:arguments.length-1)&&(n=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]),this.outputOn.subscribe(t,i)&&this.autoload.getHistory(t,n),this.broadcastOn.message(t,(function(i){e.outputOn.push(t,i),n&&n(i)})),this.outputOn.get(t)}},{key:"getPresence",value:function(t,e){this.broadcastOn&&this.broadcastOn.presence(t,e)}},{key:"getStatus",value:function(t,e){this.broadcastOn&&this.broadcastOn.status(t,e)}},{key:"getError",value:function(t){this.broadcastOn&&this.broadcastOn.error(t)}},{key:"clean",value:function(t){this.outputOn.clean(t)}},{key:"release",value:function(t){this.broadcastOn.unsubscribe(t),this.outputOn.unsubscribe(t)}},{key:"getOriginalInstance",value:function(){if(this.pubnubInstance)return this.pubnubInstance;throw new ReferenceError("Pubnub default instance is not initialized yet. Invoke #init() method first.")}},{key:"wrapAttribute",value:function(t){Object.defineProperty(this,t,{get:function(){return this.getOriginalInstance()[t]}})}},{key:"wrapMethod",value:function(t){this[t]=function(){return this.getOriginalInstance()[t].apply(this,arguments)}}}]),t}()},0:function(t,e,n){t.exports=n("zUnb")},"3/ER":function(t,e,n){"use strict";(function(t){var i=n("Ju5/"),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=l&&"object"==typeof t&&t&&!t.nodeType&&t,r=s&&s.exports===l?i.a.Buffer:void 0,o=r?r.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=o?o(n):new t.constructor(n);return t.copy(i),i}}).call(this,n("3UD+")(t))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"3gQT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Autoload=void 0;var i,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n("IMwA"))&&i.__esModule?i:{default:i};e.Autoload=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.count={},this.instance=void 0}return l(t,[{key:"initialize",value:function(t){this.instance=t}},{key:"enableLoad",value:function(t){var e=this;t.autoload&&"number"==typeof t.autoload&&(this.count[t.channels]=t.autoload,t.channels.forEach((function(n){e.count[n]=t.autoload})))}},{key:"getHistory",value:function(t,e){var n=this;if(this.count[t]){var i=this.instance,l=Array.isArray(t)?t:[t],r=l.length;l.forEach((function(l){i.history({channel:l,count:n.count[t]}).then((function(n){n.messages.forEach((function(e){e.message=e.entry,e.channel=l,i.outputOn.push(t,e)})),r-=1,e&&0===r&&(i.outputOn.sort(t,s.default.history_sort_attribute),e())})).catch((function(){}))}))}}},{key:"disableLoad",value:function(t){var e=this;Array.isArray(t.channels)?t.channels.forEach((function(t){e.count[t]&&delete e.count[t]})):this.count[t.channels]&&delete this.count[t.channels]}}]),t}()},"6MUB":function(t,e,n){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,l){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(l){var s=encodeURIComponent(i(l))+n;return Array.isArray(t[l])?t[l].map((function(t){return s+encodeURIComponent(i(t))})).join(e):s+encodeURIComponent(i(t[l]))})).join(e):l?encodeURIComponent(i(l))+n+encodeURIComponent(i(t)):""}},CxY0:function(t,e,n){"use strict";var i=n("rWzI"),l=n("Nehr");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=y,e.resolve=function(t,e){return y(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?y(t,!1,!0).resolveObject(e):e},e.format=function(t){return l.isString(t)&&(t=y(t)),t instanceof s?t.format():s.prototype.format.call(t)},e.Url=s;var r=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},f={javascript:!0,"javascript:":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n("r8II");function y(t,e,n){if(t&&l.isObject(t)&&t instanceof s)return t;var i=new s;return i.parse(t,e,n),i}s.prototype.parse=function(t,e,n){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),o=-1!==s&&s<t.indexOf("#")?"?":"#",u=t.split(o);u[0]=u[0].replace(/\\/g,"/");var y=t=u.join(o);if(y=y.trim(),!n&&1===t.split("#").length){var w=a.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?v.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=r.exec(y);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===y.substr(0,2);!_||x&&f[x]||(y=y.substr(2),this.slashes=!0)}if(!f[x]&&(_||x&&!b[x])){for(var C,T,S=-1,M=0;M<d.length;M++)-1!==(P=y.indexOf(d[M]))&&(-1===S||P<S)&&(S=P);for(-1!==(T=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(C=y.slice(0,T),y=y.slice(T+1),this.auth=decodeURIComponent(C)),S=-1,M=0;M<h.length;M++){var P;-1!==(P=y.indexOf(h[M]))&&(-1===S||P<S)&&(S=P)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var E=this.hostname.split(/\./),I=(M=0,E.length);M<I;M++){var D=E[M];if(D&&!D.match(p)){for(var O="",F=0,N=D.length;F<N;F++)D.charCodeAt(F)>127?O+="x":O+=D[F];if(!O.match(p)){var R=E.slice(0,M),L=E.slice(M+1),B=D.match(m);B&&(R.push(B[1]),L.unshift(B[2])),L.length&&(y="/"+L.join(".")+y),this.hostname=R.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!g[k])for(M=0,I=c.length;M<I;M++){var V=c[M];if(-1!==y.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),y=y.split(V).join(z)}}var j=y.indexOf("#");-1!==j&&(this.hash=y.substr(j),y=y.slice(0,j));var H=y.indexOf("?");return-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),e&&(this.query=v.parse(this.query)),y=y.slice(0,H)):e&&(this.search="",this.query={}),y&&(this.pathname=y),b[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},s.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,r="";this.host?s=t+this.host:this.hostname&&(s=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(r=v.stringify(this.query));var o=this.search||r&&"?"+r||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||b[e])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),e+s+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(o=o.replace("#","%23"))+i},s.prototype.resolve=function(t){return this.resolveObject(y(t,!1,!0)).format()},s.prototype.resolveObject=function(t){if(l.isString(t)){var e=new s;e.parse(t,!1,!0),t=e}for(var n=new s,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),u=0;u<a.length;u++){var c=a[u];"protocol"!==c&&(n[c]=t[c])}return b[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!b[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||f[t.protocol])n.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),n.pathname=m.join("/")}return n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),v=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=v||g||n.host&&t.pathname,w=y,x=n.pathname&&n.pathname.split("/")||[],k=(m=t.pathname&&t.pathname.split("/")||[],n.protocol&&!b[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),y=y&&(""===m[0]||""===x[0])),v)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),n.search=t.search,n.query=t.query;else if(!l.isNullOrUndefined(t.search))return k&&(n.hostname=n.host=x.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift())),n.search=t.search,n.query=t.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!x.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var _=x.slice(-1)[0],C=(n.host||t.host||x.length>1)&&("."===_||".."===_)||""===_,T=0,S=x.length;S>=0;S--)"."===(_=x[S])?x.splice(S,1):".."===_?(x.splice(S,1),T++):T&&(x.splice(S,1),T--);if(!y&&!w)for(;T--;T)x.unshift("..");!y||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),C&&"/"!==x.join("/").substr(-1)&&x.push("");var M,P=""===x[0]||x[0]&&"/"===x[0].charAt(0);return k&&(n.hostname=n.host=P?"":x.length?x.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift())),(y=y||n.host&&x.length)&&!P&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},Dcaw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n("IMwA"))&&i.__esModule?i:{default:i},r=n("/7Za"),o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pubnub=e,this.wrappers={}}return l(t,[{key:"init",value:function(t){var e=this.getInstance(s.default.default_instance_name);return e.init(t),e}},{key:"getInstance",value:function(t){var e=this,n=this.wrappers[t];return n&&n instanceof r.Wrapper?n:"string"==typeof t&&t.length>0?(this.wrappers[t]=new r.Wrapper(t,this.pubnub),s.default.attributes_to_delegate.forEach((function(n){e.wrappers[t].wrapAttribute(n),e[n]||Object.defineProperty(e,n,{get:function(){return this.getInstance(s.default.default_instance_name)[n]}})})),s.default.methods_to_delegate.forEach((function(n){e.wrappers[t].wrapMethod(n),e[n]||(e[n]=function(){var t=this.getInstance(s.default.default_instance_name);return t[n].apply(t,arguments)})})),this.wrappers[t]):n}},{key:"subscribe",value:function(t){this.getInstance(s.default.default_instance_name).subscribe(t)}},{key:"unsubscribe",value:function(t){this.getInstance(s.default.default_instance_name).unsubscribe(t)}},{key:"getMessage",value:function(t){for(var e,n=arguments.length,i=Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];return(e=this.getInstance(s.default.default_instance_name)).getMessage.apply(e,[t].concat(i))}},{key:"getPresence",value:function(t,e){this.getInstance(s.default.default_instance_name).getPresence(t,e)}},{key:"getStatus",value:function(t,e){this.getInstance(s.default.default_instance_name).getStatus(t,e)}},{key:"getError",value:function(t){this.getInstance(s.default.default_instance_name).getError(t)}},{key:"clean",value:function(t){this.getInstance(s.default.default_instance_name).clean(t)}},{key:"release",value:function(t){this.getInstance(s.default.default_instance_name).release(t)}}]),t}();e.default=o,t.exports=e.default},DwXj:function(t,e,n){var i;!function(){function n(t,e){t.prototype=function(t){function e(){}return e.prototype=t,new e}(e.prototype),t.prototype.constructor=t,t.base=e.prototype}function l(t,e,n){return"millisecond"===n?t.setMilliseconds(t.getMilliseconds()+1*e):"second"===n?t.setSeconds(t.getSeconds()+1*e):"minute"===n?t.setMinutes(t.getMinutes()+1*e):"hour"===n?t.setHours(t.getHours()+1*e):"day"===n?t.setDate(t.getDate()+1*e):"week"===n?t.setDate(t.getDate()+7*e):"month"===n?t.setMonth(t.getMonth()+1*e):"year"===n&&t.setFullYear(t.getFullYear()+1*e),t}function s(t,e){var n=!1;for(0>t&&(n=!0,t*=-1),t=""+t,e=e||1;t.length<e;)t="0"+t;return n?"-"+t:t}function r(t){if(!t)return t;for(var e=/\s/,n=(t=t.replace(/^\s\s*/,"")).length;e.test(t.charAt(--n)););return t.slice(0,n+1)}function o(t){t.roundRect=function(t,e,n,i,l,s,r,o){r&&(this.fillStyle=r),o&&(this.strokeStyle=o),void 0===l&&(l=5),this.lineWidth=s,this.beginPath(),this.moveTo(t+l,e),this.lineTo(t+n-l,e),this.quadraticCurveTo(t+n,e,t+n,e+l),this.lineTo(t+n,e+i-l),this.quadraticCurveTo(t+n,e+i,t+n-l,e+i),this.lineTo(t+l,e+i),this.quadraticCurveTo(t,e+i,t,e+i-l),this.lineTo(t,e+l),this.quadraticCurveTo(t,e,t+l,e),this.closePath(),r&&this.fill(),o&&0<s&&this.stroke()}}function a(t,e){return t-e}function u(t,e,n){if(t&&e&&n){n=n+"."+e;var i="image/"+e;t=t.toDataURL(i);var l=!1,s=document.createElement("a");if(s.download=n,s.href=t,"undefined"!=typeof Blob&&new Blob){for(var r=t.replace(/^data:[a-z\/]*;base64,/,""),o=(r=atob(r),new ArrayBuffer(r.length)),a=(o=new Uint8Array(o),0);a<r.length;a++)o[a]=r.charCodeAt(a);e=new Blob([o.buffer],{type:"image/"+e});try{window.navigator.msSaveBlob(e,n),l=!0}catch(u){s.dataset.downloadurl=[i,s.download,s.href].join(":"),s.href=window.URL.createObjectURL(e)}}if(!l)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent?s.dispatchEvent(event):s.fireEvent&&s.fireEvent("onclick")}catch(Z){(e=window.open()).document.write("<img src='"+t+"'></img><div>Please right click on the image and save it to your device</div>"),e.document.close()}}}function c(t){var e=((16711680&t)>>16).toString(16),n=((65280&t)>>8).toString(16);return t=((255&t)>>0).toString(16),"#"+(e=2>e.length?"0"+e:e)+(n=2>n.length?"0"+n:n)+(2>t.length?"0"+t:t)}function h(t,e){var n,i=this.length>>>0;for(0>(n=0>(n=Number(e)||0)?Math.ceil(n):Math.floor(n))&&(n+=i);n<i;n++)if(n in this&&this[n]===t)return n;return-1}function d(t){return null==t}function p(t){return t.indexOf||(t.indexOf=h),t}function m(t){j.fSDec&&t[dt("`eeDwdouMhrudods")](dt("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){j._fTWm&&j._fTWm(t)}))}function g(t,e,n){var i=t+"_"+e+"_"+(n=n||"normal"),l=tt[i];if(isNaN(l)){try{if(t="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+t+"; font-size:"+e+"px; font-weight:"+n+";",!et){var s=document.body;(et=document.createElement("span")).innerHTML="";var r=document.createTextNode("Mpgyi");et.appendChild(r),s.appendChild(et)}et.style.display="",et.setAttribute("style",t),l=Math.round(et.offsetHeight),et.style.display="none"}catch(o){l=Math.ceil(1.1*e)}l=Math.max(l,e),tt[i]=l}return l}function f(t,e){var n=[];if(n={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[t||"solid"])for(var i=0;i<n.length;i++)n[i]*=e;else n=[];return n}function b(t,e,n,i,l){return(i=i||[]).push([t,e,n,l=l||!1]),t.addEventListener?(t.addEventListener(e,n,l),n):!!t.attachEvent&&(i=function(e){(e=e||window.event).preventDefault=e.preventDefault||function(){e.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){e.cancelBubble=!0},n.call(t,e)},t.attachEvent("on"+e,i),i)}function v(t,e,n){for(t=n.getImageData(t*=ct,e*=ct,2,2).data,e=!0,n=0;4>n;n++)if(t[n]!==t[n+4]|t[n]!==t[n+8]|t[n]!==t[n+12]){e=!1;break}return e?t[0]<<16|t[1]<<8|t[2]:0}function y(t,e,n){return t in e?e[t]:n[t]}function w(t,e,n){if(H&&ot){var i=t.getContext("2d");t.width=e*(ct=at/(ut=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),t.height=n*ct,at!==ut&&(t.style.width=e+"px",t.style.height=n+"px",i.scale(ct,ct))}else t.width=e,t.height=n}function x(t){if(!mt){var e=!1,n=!1;void 0===W.Chart.creditHref?(t.creditHref=dt("iuuqr;..b`ow`rkr/bnl."),t.creditText=dt("B`ow`rKR/bnl")):(e=t.updateOption("creditText"),n=t.updateOption("creditHref")),t.creditHref&&t.creditText&&(t._creditLink||(t._creditLink=document.createElement("a"),t._creditLink.setAttribute("class","canvasjs-chart-credit"),t._creditLink.setAttribute("title","JavaScript Charts"),t._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(t.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),t._creditLink.setAttribute("tabIndex",-1),t._creditLink.setAttribute("target","_blank")),(0===t.renderCount||e||n)&&(t._creditLink.setAttribute("href",t.creditHref),t._creditLink.innerHTML=t.creditText),t._creditLink&&t.creditHref&&t.creditText?(t._creditLink.parentElement||t._canvasJSContainer.appendChild(t._creditLink),t._creditLink.style.top=t.height-14+"px"):t._creditLink.parentElement&&t._canvasJSContainer.removeChild(t._creditLink))}}function k(t,e){z&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var n=document.createElement("canvas");return n.setAttribute("class","canvasjs-chart-canvas"),w(n,t,e),H||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n}function _(t,e,n){for(var i in n)e.style[i]=n[i]}function C(t,e,n){e.getAttribute("state")||(e.style.backgroundColor=t.toolbar.backgroundColor,e.style.color=t.toolbar.fontColor,e.style.border="none",_(0,e,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),e.getAttribute("state")!==n&&(e.setAttribute("state",n),e.setAttribute("type","button"),_(0,e,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),e.setAttribute("title",t._cultureInfo[n+"Text"]),e.innerHTML="<img style='height:95%; pointer-events: none;' src='"+gt[n].image+"' alt='"+t._cultureInfo[n+"Text"]+"' />")}function T(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e]).style&&(t.style.display="inline")}function S(){for(var t=null,e=0;e<arguments.length;e++)(t=arguments[e])&&t.style&&(t.style.display="none")}function M(t,e,n,i,l){this._defaultsKey=t,this._themeOptionsKey=e,this._index=i,this.parent=l,this._eventListeners=[],t={},this.theme&&d(e)&&d(i)?t=d(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[e]&&(null===i?t=this.parent.themeOptions[e]:0<this.parent.themeOptions[e].length&&(i=Math.min(this.parent.themeOptions[e].length-1,i),t=this.parent.themeOptions[e][i])),this.themeOptions=t,this.options=n||{_isPlaceholder:!0},this.setOptions(this.options,t)}function P(t,e,n,i,l){void 0===l&&(l=0),this._padding=l,this._x1=t,this._y1=e,this._x2=n,this._y2=i,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function A(t,e){A.base.constructor.call(this,"TextBlock",null,e,null,null),this.ctx=t,this._isDirty=!0,this._wrappedText=null,this._initialize()}function E(t,e){E.base.constructor.call(this,"Toolbar","toolbar",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function I(t,e){if(I.base.constructor.call(this,"Title","title",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="title",d(this.options.margin)&&t.options.subtitles)for(var n=t.options.subtitles,i=0;i<n.length;i++)if((d(n[i].horizontalAlign)&&"center"===this.horizontalAlign||n[i].horizontalAlign===this.horizontalAlign)&&(d(n[i].verticalAlign)&&"top"===this.verticalAlign||n[i].verticalAlign===this.verticalAlign)&&!n[i].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function D(t,e,n){D.base.constructor.call(this,"Subtitle","subtitles",e,n,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function O(){this.pool=[]}function F(t){var e;t&&U[t]&&(e=U[t]),F.base.constructor.call(this,"CultureInfo",null,e,null,null)}var N,R,L,B,V,z=!1,j={},H=!!document.createElement("canvas").getContext,W={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:H?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:H?"transparent":null,borderColor:H?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:H?"transparent":null,titleBorderColor:H?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:H?"transparent":null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:H?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:H?"grey":null,labelBorderColor:H?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:H?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:H?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},U={en:{}},$=H?"Trebuchet MS, Helvetica, sans-serif":"Arial",Y=H?"Impact, Charcoal, sans-serif":"Arial",q={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},G={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:Y,fontSize:32,fontColor:R="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:Z=14,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:$,indexLabelFontSize:Z,indexLabelFontColor:R,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:K=20,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:N="#666666",tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V=B="#000000",color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:$,titleFontSize:K,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:R,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:$,fontSize:14,fontColor:R,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};L=R="#F5F5F5",N="#FFFFFF",B="#40BAF1",V="#F5F5F5";var X={colorSet:"colorSet2",title:{fontFamily:$,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:$,fontSize:Z=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:$,indexLabelFontSize:Z,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:K=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:$,titleFontSize:K,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:$,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};L=R="#F5F5F5",Y={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:Y,fontSize:32,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:Z=14,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:$,indexLabelFontSize:Z,indexLabelFontColor:L,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:K=20,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N="#FFFFFF",tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:B="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:$,titleFontSize:K,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:$,fontSize:14,fontColor:R,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:L,backgroundColor:"rgba(0, 0, 0, .7)"}},L=R="#FAFAFA";var K,Z,Q={light1:G,light2:X,dark1:Y,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:$,fontSize:32,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:$,fontSize:Z=14,fontColor:R,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:$,indexLabelFontSize:Z,indexLabelFontColor:L,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:$,titleFontSize:K=20,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N="#FFFFFF",tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:B="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:N,tickThickness:1,tickColor:N,gridThickness:0,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:$,titleFontSize:K,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:0,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:$,titleFontSize:K,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:$,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:0,lineColor:N,tickThickness:1,tickColor:N,gridThickness:1,gridColor:N,stripLines:[{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:$,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:$,fontSize:14,fontColor:R,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:$,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:L,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:G,theme2:X,theme3:G},J={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};j.fSDec=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(n));return e},j.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete W[j.fSDec("Bi`su")][j.fSDec("bsdehuIsdg")],j.pro={sCH:W[j.fSDec("Bi`su")][j.fSDec("bsdehuIsdg")]},j._fTWm=function(t){if(void 0===j.pro.sCH&&!pt)try{var e=t[j.fSDec(j.obj.cntx)];e[j.fSDec(j.obj.txtBl)]=j.fSDec(j.obj.tp),e[j.fSDec(j.obj.fnt)]=11+j.fSDec(j.obj.fntStr),e[j.fSDec(j.obj.fSy)]=j.fSDec(j.obj.grClr),e[j.fSDec(j.obj.fTx)](j.fSDec(j.obj.trVs),2,t.height-11-2)}catch(H){}};var tt={},et=null,nt=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},it=function(t,e,n){return e=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=e?12:10,Math.round(e*(t/400)))},lt=function(){var t=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,e="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),i="January February March April May June July August September October November December".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),r=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g;return function(a,u,c){var h=c?c.days:e,d=c?c.months:i,p=c?c.shortDays:n,m=c?c.shortMonths:l;c="";var g=!1;if(a=a&&a.getTime?a:a?new Date(a):new Date,isNaN(a))throw SyntaxError("invalid date");"UTC:"===u.slice(0,4)&&(u=u.slice(4),g=!0);var f=a[(c=g?"getUTC":"get")+"Date"](),b=a[c+"Day"](),v=a[c+"Month"](),y=a[c+"FullYear"](),w=a[c+"Hours"](),x=a[c+"Minutes"](),k=a[c+"Seconds"](),_=a[c+"Milliseconds"](),C=g?0:a.getTimezoneOffset();return u.replace(t,(function(t){switch(t){case"D":return f;case"DD":return s(f,2);case"DDD":return p[b];case"DDDD":return h[b];case"M":return v+1;case"MM":return s(v+1,2);case"MMM":return m[v];case"MMMM":return d[v];case"Y":return parseInt(String(y).slice(-2));case"YY":return s(String(y).slice(-2),2);case"YYY":return s(String(y).slice(-3),3);case"YYYY":return s(y,4);case"h":return w%12||12;case"hh":return s(w%12||12,2);case"H":return w;case"HH":return s(w,2);case"m":return x;case"mm":return s(x,2);case"s":return k;case"ss":return s(k,2);case"f":return String(_).slice(0,1);case"ff":return s(String(_).slice(0,2),2);case"fff":return s(String(_).slice(0,3),3);case"t":return 12>w?"a":"p";case"tt":return 12>w?"am":"pm";case"T":return 12>w?"A":"P";case"TT":return 12>w?"AM":"PM";case"K":return g?"UTC":(String(a).match(r)||[""]).pop().replace(o,"");case"z":return(0<C?"-":"+")+Math.floor(Math.abs(C)/60);case"zz":return(0<C?"-":"+")+s(Math.floor(Math.abs(C)/60),2);case"zzz":return(0<C?"-":"+")+s(Math.floor(Math.abs(C)/60),2)+s(Math.abs(C)%60,2);default:return t.slice(1,t.length-1)}}))}}(),st=function(t,e,n){if(null===t)return"";if(!isFinite(t))return t;var i=0>(t=Number(t));i&&(t*=-1);var l=n?n.decimalSeparator:".",r=n?n.digitGroupSeparator:",",o="";e=String(e),o=1;var a=n="",u=-1,c=[],h=[],d=0,p=0,m=0,g=!1,f=0;a=e.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),e=null;for(var b=0;a&&b<a.length;b++)if("."===(e=a[b])&&0>u)u=b;else{if("%"===e)o*=100;else{if("\u2030"===e){o*=1e3;continue}if(","===e[0]&&"."===e[e.length-1]){o/=Math.pow(1e3,e.length-1),u=b+e.length-1;continue}"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||(g=!0)}0>u?(c.push(e),"#"===e||"0"===e?d++:","===e&&m++):(h.push(e),"#"!==e&&"0"!==e||p++)}for(g&&(e=Math.floor(t),a=-Math.floor(Math.log(t)/Math.LN10+1),f=0===t?0:0===e?-(d+a):String(e).length-d,o/=Math.pow(10,f)),0>u&&(u=b),e=(o=(t*o).toFixed(p)).split("."),o=(e[0]+"").split(""),t=(e[1]+"").split(""),o&&"0"===o[0]&&o.shift(),g=a=b=p=u=0;0<c.length;)if("#"===(e=c.pop())||"0"===e)if(++u===d){var v=o;if(o=[],"0"===e)for(e=d-p-(v?v.length:0);0<e;)v.unshift("0"),e--;for(;0<v.length;)n=v.pop()+n,0==++g%a&&b===m&&0<v.length&&(n=r+n)}else 0<o.length?(n=o.pop()+n,p++,g++):"0"===e&&(n="0"+n,p++,g++),0==g%a&&b===m&&0<o.length&&(n=r+n);else"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?","===e?(b++,a=g,g=0,0<o.length&&(n=r+n)):n=1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?e.slice(1,e.length-1)+n:e+n:n+=(e=0>f?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return s(f,t.length)}));for(r="",c=!1;0<h.length;)"#"===(e=h.shift())||"0"===e?0<t.length&&0!==Number(t.join(""))?(r+=t.shift(),c=!0):"0"===e&&(r+="0",c=!0):1<e.length&&('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])?r+=e.slice(1,e.length-1):"E"!==e[0]&&"e"!==e[0]||"0"!==e[e.length-1]||!/[eE][+-]*[0]+/.test(e)?r+=e:r+=(e=0>f?e.replace("+","").replace("-",""):e.replace("-","")).replace(/[0]+/,(function(t){return s(f,t.length)}));return n+=(c?l:"")+r,i?"-"+n:n},rt=function(t){var e=0,n=0;return(t=t||window.event).offsetX||0===t.offsetX?(e=t.offsetX,n=t.offsetY):t.layerX||0==t.layerX?(e=t.layerX,n=t.layerY):(e=t.pageX-t.target.offsetLeft,n=t.pageY-t.target.offsetTop),{x:e,y:n}},ot=!0,at=window.devicePixelRatio||1,ut=1,ct=ot?at/ut:1,ht=function(t,e,n,i,l,s,r,o,a,u,c,h,d){void 0===d&&(d=1),r=r||0,o=o||"black";var p=15<i-e&&15<l-n?8:.35*Math.min(i-e,l-n);t.beginPath(),t.moveTo(e,n),t.save(),t.fillStyle=s,t.globalAlpha=d,t.fillRect(e,n,i-e,l-n),t.globalAlpha=1,0<r&&(d=0==r%2?0:.5,t.beginPath(),t.lineWidth=r,t.strokeStyle=o,t.moveTo(e,n),t.rect(e-d,n-d,i-e+2*d,l-n+2*d),t.stroke()),t.restore(),!0===a&&(t.save(),t.beginPath(),t.moveTo(e,n),t.lineTo(e+p,n+p),t.lineTo(i-p,n+p),t.lineTo(i,n),t.closePath(),(r=t.createLinearGradient((i+e)/2,n+p,(i+e)/2,n)).addColorStop(0,s),r.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=r,t.fill(),t.restore()),!0===u&&(t.save(),t.beginPath(),t.moveTo(e,l),t.lineTo(e+p,l-p),t.lineTo(i-p,l-p),t.lineTo(i,l),t.closePath(),(r=t.createLinearGradient((i+e)/2,l-p,(i+e)/2,l)).addColorStop(0,s),r.addColorStop(1,"rgba(255, 255, 255, .4)"),t.fillStyle=r,t.fill(),t.restore()),!0===c&&(t.save(),t.beginPath(),t.moveTo(e,n),t.lineTo(e+p,n+p),t.lineTo(e+p,l-p),t.lineTo(e,l),t.closePath(),(r=t.createLinearGradient(e+p,(l+n)/2,e,(l+n)/2)).addColorStop(0,s),r.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=r,t.fill(),t.restore()),!0===h&&(t.save(),t.beginPath(),t.moveTo(i,n),t.lineTo(i-p,n+p),t.lineTo(i-p,l-p),t.lineTo(i,l),(r=t.createLinearGradient(i-p,(l+n)/2,i,(l+n)/2)).addColorStop(0,s),r.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=r,r.addColorStop(0,s),r.addColorStop(1,"rgba(255, 255, 255, 0.1)"),t.fillStyle=r,t.fill(),t.closePath(),t.restore())},dt=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(Math.ceil(t.length/57/5)^t.charCodeAt(n));return e},pt=window&&window[dt("mnb`uhno")]&&window[dt("mnb`uhno")].href&&window[dt("mnb`uhno")].href.indexOf&&(-1!==window[dt("mnb`uhno")].href.indexOf(dt("b`ow`rkr/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gdonqhy/bnl"))||-1!==window[dt("mnb`uhno")].href.indexOf(dt("gheemd"))),mt=pt&&-1===window[dt("mnb`uhno")].href.indexOf(dt("gheemd")),gt={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};M.prototype.setOptions=function(t,e){if(W[this._defaultsKey]){var n,i=W[this._defaultsKey];for(n in i)"publicProperties"!==n&&i.hasOwnProperty(n)&&(this[n]=t&&n in t?t[n]:e&&n in e?e[n]:i[n])}else z&&window.console&&console.log("defaults not set")},M.prototype.get=function(t){var e=W[this._defaultsKey];return"options"===t?this.options&&this.options._isPlaceholder?null:this.options:e.hasOwnProperty(t)||e.publicProperties&&e.publicProperties.hasOwnProperty(t)?this[t]:void(window.console&&window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},M.prototype.set=function(t,e,n){n=void 0===n||n;var i=W[this._defaultsKey];if("options"===t)this.createUserOptions(e);else{if(!(i.hasOwnProperty(t)||i.publicProperties&&i.publicProperties.hasOwnProperty(t)&&"readWrite"===i.publicProperties[t]))return void(window.console&&(i.publicProperties&&i.publicProperties.hasOwnProperty(t)&&"readOnly"===i.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[t]=e}n&&(this.stockChart||this.chart||this).render()},M.prototype.addTo=function(t,e,n,i){i=void 0===i||i;var l=W[this._defaultsKey];l.hasOwnProperty(t)||l.publicProperties&&l.publicProperties.hasOwnProperty(t)&&"readWrite"===l.publicProperties[t]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[t]&&(this.options[t]=[]),(t=this.options[t]).splice(n=null==n?t.length:n,0,e),i&&(this.chart||this).render()):window.console&&(l.publicProperties&&l.publicProperties.hasOwnProperty(t)&&"readOnly"===l.publicProperties[t]?window.console.log('Property "'+t+'" is read-only.'):window.console.log('Property "'+t+"\" doesn't exist. Please check for typo."))},M.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var e=this.parent.options[this.optionsName],n=e.length;this.options._isPlaceholder||(p(e),n=e.indexOf(this.options)),this.options=void 0===t?{}:t,e[n]=this.options}else this.options=void 0===t?{}:t,t=this.parent.options,this.optionsName?e=this.optionsName:(e=this._defaultsKey)&&0!==e.length?(n=e.charAt(0).toLowerCase(),1<e.length&&(n=n.concat(e.slice(1))),e=n):e=void 0,t[e]=this.options},M.prototype.remove=function(t){if(t=void 0===t||t,this.isOptionsInArray){var e=this.parent.options[this.optionsName];p(e);var n=e.indexOf(this.options);0<=n&&e.splice(n,1)}else delete this.parent.options[this.optionsName];t&&(this.chart||this).render()},M.prototype.updateOption=function(t){!W[this._defaultsKey]&&z&&window.console&&console.log("defaults not set");var e=W[this._defaultsKey],n={},i=this[t],l=this._themeOptionsKey,s=this._index;return this.theme&&d(l)&&d(s)?n=d(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[l]&&(null===s?n=this.parent.themeOptions[l]:0<this.parent.themeOptions[l].length&&(n=Math.min(this.parent.themeOptions[l].length-1,s),n=this.parent.themeOptions[l][n])),this.themeOptions=n,t in e&&(i=t in this.options?this.options[t]:n&&t in n?n[t]:e[t]),i!==this[t]&&(this[t]=i,!0)},M.prototype.trackChanges=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[t]=this.options[t]},M.prototype.isBeingTracked=function(t){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[t]},M.prototype.hasOptionChanged=function(t){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[t]!==this.options[t]},M.prototype.addEventListener=function(t,e,n){t&&e&&(this._eventListeners[t]=this._eventListeners[t]||[],this._eventListeners[t].push({context:n||this,eventHandler:e}))},M.prototype.removeEventListener=function(t,e){if(t&&e&&this._eventListeners[t])for(var n=this._eventListeners[t],i=0;i<n.length;i++)if(n[i].eventHandler===e){n[i].splice(i,1);break}},M.prototype.removeAllEventListeners=function(){this._eventListeners=[]},M.prototype.dispatchEvent=function(t,e,n){if(t&&this._eventListeners[t]){e=e||{};for(var i=this._eventListeners[t],l=0;l<i.length;l++)i[l].eventHandler.call(i[l].context,e)}"function"==typeof this[t]&&this[t].call(n||this.chart,e)},P.prototype.registerSpace=function(t,e){"top"===t?this._topOccupied+=e.height:"bottom"===t?this._bottomOccupied+=e.height:"left"===t?this._leftOccupied+=e.width:"right"===t&&(this._rightOccupied+=e.width)},P.prototype.unRegisterSpace=function(t,e){"top"===t?this._topOccupied-=e.height:"bottom"===t?this._bottomOccupied-=e.height:"left"===t?this._leftOccupied-=e.width:"right"===t&&(this._rightOccupied-=e.width)},P.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},P.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},n(A,M),A.prototype._initialize=function(){d(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=d(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=d(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=d(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=d(this.padding.left)?0:0|Number(this.padding.left))},A.prototype.render=function(t){if(0!==this.fontSize){t&&this.ctx.save();var e=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var n=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+n),"middle"===this.textBaseline&&(n=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var i=0,l=this.topPadding,s=null;for(this.ctx.roundRect||o(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,n=0;n<this._wrappedText.lines.length;n++)s=this._wrappedText.lines[n],"right"===this.horizontalAlign?i=(this.width-(this.leftPadding+this.rightPadding))/2-s.width/2+this.leftPadding:"left"===this.horizontalAlign?i=this.leftPadding:"center"===this.horizontalAlign&&(i=(this.width-(this.leftPadding+this.rightPadding))/2-s.width/2+this.leftPadding),this.ctx.fillText(s.text,i,l),l+=s.height;this.ctx.font=e,t&&this.ctx.restore()}},A.prototype.setText=function(t){this.text=t,this._isDirty=!0,this._wrappedText=null},A.prototype.measureText=function(){if(this._lineHeight=g(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},A.prototype._getLineWithWidth=function(t,e,n){if(!(t=String(t)))return{text:"",width:0};var i=n=0,l=t.length-1,s=1/0;for(this.ctx.font=this._getFontString();i<=l;){s=Math.floor((i+l)/2);var r=t.substr(0,s+1);if((n=this.ctx.measureText(r).width)<e)i=s+1;else{if(!(n>e))break;l=s-1}}return n>e&&1<r.length&&(r=r.substr(0,r.length-1),n=this.ctx.measureText(r).width),e=!0,r.length!==t.length&&" "!==t[r.length]||(e=!1),e&&(1<(t=r.split(" ")).length&&t.pop(),r=t.join(" "),n=this.ctx.measureText(r).width),{text:r,width:n}},A.prototype._wrapText=function(){var t=new String(r(String(this.text))),e=[],n=this.ctx.font,i=0,l=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)l=i=0;else for(;0<t.length;){var s=this.maxHeight-(this.topPadding+this.bottomPadding),o=this._getLineWithWidth(t,this.maxWidth-(this.leftPadding+this.rightPadding),!1);o.height=this._lineHeight,e.push(o);var a=l;l=Math.max(l,o.width),i+=o.height,t=r(t.slice(o.text.length,t.length)),s&&i>s&&(i-=(o=e.pop()).height,l=a)}this._wrappedText={lines:e,width:l,height:i},this.width=l+(this.leftPadding+this.rightPadding),this.height=i+(this.topPadding+this.bottomPadding),this.ctx.font=n},A.prototype._getFontString=function(){var t;t=this.fontStyle?this.fontStyle+" ":"",t+=this.fontWeight?this.fontWeight+" ":"",t+=this.fontSize?this.fontSize+"px ":"";var e=this.fontFamily?this.fontFamily+"":"";return!H&&e&&"'"!==(e=e.split(",")[0])[0]&&'"'!==e[0]&&(e="'"+e+"'"),t+e},n(E,M),n(I,M),I.prototype.setLayout=function(){if(this.text){var t,e,n,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,l=i.layoutManager.getFreeSpace(),s=l.x1,r=l.y1,o=0,a=0,u=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=l.width-4-u*("center"===this.horizontalAlign?2:1)),a=.5*l.height-this.margin-2,o=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=l.height-4),a=.5*l.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=l.width-4),a=.5*l.height-4)),d(this.padding)||"number"!=typeof this.padding?d(this.padding)||"object"!=typeof this.padding||(n=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,n+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,n*=1.25):n=2.5*this.padding,this.wrap||(a=Math.min(a,Math.max(1.5*this.fontSize,this.fontSize+n))),n=(a=new A(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:a,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(r=l.y1+2,e="top"):"bottom"===this.verticalAlign&&(r=l.y2-2-n.height,e="bottom"),"left"===this.horizontalAlign?s=l.x1+2:"center"===this.horizontalAlign?s=l.x1+l.width/2-n.width/2:"right"===this.horizontalAlign&&(s=l.x2-2-n.width-u),t=this.horizontalAlign,this.width=n.width,this.height=n.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(s=l.x1+2,r=l.y2-2-(this.maxWidth/2-n.width/2),o=-90,e="left",this.width=n.height,this.height=n.width):"right"===this.horizontalAlign?(s=l.x2-2,r=l.y1+2+(this.maxWidth/2-n.width/2),o=90,e="right",this.width=n.height,this.height=n.width):"center"===this.horizontalAlign&&(r=i.y1+(i.height/2-n.height/2),s=i.x1+(i.width/2-n.width/2),e="center",this.width=n.width,this.height=n.height),t="center"),a.x=s,a.y=r,a.angle=o,a.horizontalAlign=t,this._textBlock=a,i.layoutManager.registerSpace(e,{width:this.width+("left"===e||"right"===e?this.margin+2:0),height:this.height+("top"===e||"bottom"===e?this.margin+2:0)}),this.bounds={x1:s,y1:r,x2:s+this.width,y2:r+this.height},this.ctx.textBaseline="top"}},I.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},n(D,M),D.prototype.setLayout=I.prototype.setLayout,D.prototype.render=I.prototype.render,O.prototype.get=function(t,e){var n=null;return 0<this.pool.length?w(n=this.pool.pop(),t,e):n=k(t,e),n},O.prototype.release=function(t){this.pool.push(t)},n(F,M);var ft={addTheme:function(t,e){Q[t]=e},addColorSet:function(t,e){q[t]=e},addCultureInfo:function(t,e){U[t]=e},formatNumber:function(t,e,n){if(U[n=n||"en"])return st(t,e||"#,##0.##",new F(n));throw"Unknown Culture Name"},formatDate:function(t,e,n){if(U[n=n||"en"])return lt(t,e||"DD MMM YYYY",new F(n));throw"Unknown Culture Name"}};void 0!==t.exports?t.exports=ft:void 0===(i=(function(){return ft}).apply(e,[]))||(t.exports=i),ft.Chart=function(){function t(t,e){return t.x-e.x}function e(t,n){this.theme=d((n=n||{}).theme)||d(Q[n.theme])?"light1":n.theme,e.base.constructor.call(this,"Chart",null,n,null,null);var i=this;if(this._containerId=t,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new O,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var l,s=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=l=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=s,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==q[this.colorSet]?q[this.colorSet]:q.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",H||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=k(l,s),this._preRenderCanvas=k(l,s),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",o(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",o(this._preRenderCtx),H?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=k(l,s),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=k(l,s),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",o(this.overlaidCanvasCtx)),this._eventManager=new Y(this),this.windowResizeHandler=b(window,"resize",(function(){i._updateSize()&&i.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},b(this.overlaidCanvas,"click",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,"mousemove",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,"mouseup",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,"mousedown",(function(t){i._mouseEventHandler(t),S(i._dropdownMenu)}),this.allDOMEventHandlers),b(this.overlaidCanvas,"mouseout",(function(t){i._mouseEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),b(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(t){i._touchEventHandler(t)}),this.allDOMEventHandlers),this.toolTip=new $(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function i(t,e){for(var n,i=[],l=0;l<t.length;l++)if(0==l)i.push(t[0]);else{var s,r,o;s=0==(o=l-1)?0:o-1,r=o===t.length-1?o:o+1,n=Math.abs((t[r].x-t[s].x)/(0==t[r].x-t[o].x?.01:t[r].x-t[o].x))*(e-1)/2+1;var a=(t[r].x-t[s].x)/n;n=(t[r].y-t[s].y)/n,i[i.length]=t[o].x>t[s].x&&0<a||t[o].x<t[s].x&&0>a?{x:t[o].x+a/3,y:t[o].y+n/3}:{x:t[o].x,y:t[o].y+n/9},s=0===(o=l)?0:o-1,r=o===t.length-1?o:o+1,n=Math.abs((t[r].x-t[s].x)/(0==t[o].x-t[s].x?.01:t[o].x-t[s].x))*(e-1)/2+1,a=(t[r].x-t[s].x)/n,n=(t[r].y-t[s].y)/n,i[i.length]=t[o].x>t[s].x&&0<a||t[o].x<t[s].x&&0>a?{x:t[o].x-a/3,y:t[o].y-n/3}:{x:t[o].x,y:t[o].y-n/9},i[i.length]=t[l]}return i}function s(t,e,n,i,l,s,r,o,a,u){var c=0;u?(r.color=s,o.color=s):u=1,c=a?Math.abs(l-n):Math.abs(i-e),c=0<r.trimLength?Math.abs(c*r.trimLength/100):Math.abs(c-r.length),a?(n+=c/2,l-=c/2):(e+=c/2,i-=c/2),c=1==Math.round(r.thickness)%2?.5:0;var h=1==Math.round(o.thickness)%2?.5:0;t.save(),t.globalAlpha=u,t.strokeStyle=o.color||s,t.lineWidth=o.thickness||2,t.setLineDash&&t.setLineDash(f(o.dashType,o.thickness)),t.beginPath(),a&&0<o.thickness?(t.moveTo(i-r.thickness/2,Math.round((n+l)/2)-h),t.lineTo(e+r.thickness/2,Math.round((n+l)/2)-h)):0<o.thickness&&(t.moveTo(Math.round((e+i)/2)-h,n+r.thickness/2),t.lineTo(Math.round((e+i)/2)-h,l-r.thickness/2)),t.stroke(),t.strokeStyle=r.color||s,t.lineWidth=r.thickness||2,t.setLineDash&&t.setLineDash(f(r.dashType,r.thickness)),t.beginPath(),a&&0<r.thickness?(t.moveTo(i-c,n),t.lineTo(i-c,l),t.moveTo(e+c,n),t.lineTo(e+c,l)):0<r.thickness&&(t.moveTo(e,n+c),t.lineTo(i,n+c),t.moveTo(e,l-c),t.lineTo(i,l-c)),t.stroke(),t.restore()}function h(t,e,n,i,l){return null==t?void 0===n?e:n:(t=parseFloat(t.toString())*(0<=t.toString().indexOf("%")?e/100:1),void 0!==i&&(t=Math.min(i,t),void 0!==l&&(t=Math.max(l,t))),!isNaN(t)&&t<=e&&0<=t?t:void 0===n?e:n)}function N(t,e){N.base.constructor.call(this,"Legend","legend",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=g(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function R(t,e,n,i){for(R.base.constructor.call(this,"DataSeries","data",e,n,t),this.chart=t,this.canvas=t.canvas,this._ctx=t.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=i,this.chart._eventManager.objectMap[i]={id:i,objectType:"dataSeries",dataSeriesIndex:n},t=e.dataPoints?e.dataPoints.length:0,this.dataPointEOs=[],e=0;e<t;e++)this.dataPointEOs[e]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function L(t,e,n,i,l,s){if(L.base.constructor.call(this,"Axis",e,n,i,t),this.chart=t,this.canvas=t.canvas,this.ctx=t.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===l?("left"===s||"bottom"===s?(this.optionsName="axisX",d(this.chart.sessionVariables.axisX[i])&&(this.chart.sessionVariables.axisX[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX[i]):(this.optionsName="axisX2",d(this.chart.sessionVariables.axisX2[i])&&(this.chart.sessionVariables.axisX2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[i]),this.options.interval||(this.intervalType=null)):"left"===s||"bottom"===s?(this.optionsName="axisY",d(this.chart.sessionVariables.axisY[i])&&(this.chart.sessionVariables.axisY[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY[i]):(this.optionsName="axisY2",d(this.chart.sessionVariables.axisY2[i])&&(this.chart.sessionVariables.axisY2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[i]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=l,"axisX"!==l||n&&void 0!==n.gridThickness||(this.gridThickness=0),this._position=s,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new B(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(t=0;t<this.options.stripLines.length;t++)this.stripLines.push(new W(this.chart,this.options.stripLines[t],t,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new U(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function B(t,e,n,i){if(B.base.constructor.call(this,"ScaleBreaks","scaleBreaks",e,null,i),this.id=n,this.chart=t,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(t=0;t<this.options.customBreaks.length;t++)this.customBreaks.push(new V(this.chart,"customBreaks",this.options.customBreaks[t],t,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[t].startValue&&"number"==typeof this.customBreaks[t].endValue&&this.customBreaks[t].endValue!==this.customBreaks[t].startValue&&this._appliedBreaks.push(this.customBreaks[t]);for(this._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue})),t=0;t<this._appliedBreaks.length-1;t++)this._appliedBreaks[t].endValue>=this._appliedBreaks[t+1].startValue&&(this._appliedBreaks[t].endValue=Math.max(this._appliedBreaks[t].endValue,this._appliedBreaks[t+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+t+" and "+(t+1)+" are overlapping."),this._appliedBreaks.splice(t,2),t--)}}function V(t,e,n,i,l,s){V.base.constructor.call(this,"Break",e,n,i,s),this.id=l,this.chart=t,this.ctx=this.chart.ctx,this.scaleBreaks=s,this.optionsName=e,this.isOptionsInArray=!0,this.type=n.type?this.type:s.type,this.fillOpacity=d(n.fillOpacity)?s.fillOpacity:this.fillOpacity,this.lineThickness=d(n.lineThickness)?s.lineThickness:this.lineThickness,this.color=n.color?this.color:s.color,this.lineColor=n.lineColor?this.lineColor:s.lineColor,this.lineDashType=n.lineDashType?this.lineDashType:s.lineDashType,!d(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!d(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(t=this.startValue,this.startValue=this.endValue,this.endValue=t),this.spacing=void 0===n.spacing?s.spacing:n.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=s.spacing),this.size=s.parent.logarithmic?1:0}function W(t,e,n,i,l){W.base.constructor.call(this,"StripLine","stripLines",e,n,l),this.id=i,this.chart=t,this.ctx=this.chart.ctx,this.label=this.label,this.axis=l,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=l.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function U(t,e,n){U.base.constructor.call(this,"Crosshair","crosshair",e,null,n),this.chart=t,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="crosshair",this._thicknessType="pixel"}function $(t,e){$.base.constructor.call(this,"ToolTip","toolTip",e,null,t),this.chart=t,this.canvas=t.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function Y(t){this.chart=t,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=k(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function G(t){this.chart=t,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}n(e,M),e.prototype.destroy=function(){var t=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var e=0;e<t.length;e++){var n=t[e][0],i=t[e][1],l=t[e][2],s=(s=t[e][3])||!1;n.removeEventListener?n.removeEventListener(i,l,s):n.detachEvent&&n.detachEvent("on"+i,l)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},e.prototype._updateOptions=function(){var t=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==q[this.colorSet]?q[this.colorSet]:q.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new F(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&H,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var e=!1;S(this._zoomButton=document.createElement("button")),C(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,b(this._zoomButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),b(this._zoomButton,"click",(function(){t.zoomEnabled?(t.zoomEnabled=!1,t.panEnabled=!0,C(t,t._zoomButton,"zoom")):(t.zoomEnabled=!0,t.panEnabled=!1,C(t,t._zoomButton,"pan")),t.render()}),this.allDOMEventHandlers),b(this._zoomButton,"mouseover",(function(){e?e=!1:(_(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),b(this._zoomButton,"mouseout",(function(){e||(_(0,t._zoomButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(e=!1,S(this._resetButton=document.createElement("button")),C(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),b(this._resetButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),b(this._resetButton,"click",(function(){if(t.toolTip.hide(),t.zoomEnabled||t.panEnabled?(t.zoomEnabled=!0,t.panEnabled=!1,C(t,t._zoomButton,"pan"),t._defaultCursor="default",t.overlaidCanvas.style.cursor=t._defaultCursor):(t.zoomEnabled=!1,t.panEnabled=!1),t.sessionVariables.axisX)for(var e=0;e<t.sessionVariables.axisX.length;e++)t.sessionVariables.axisX[e].newViewportMinimum=null,t.sessionVariables.axisX[e].newViewportMaximum=null;if(t.sessionVariables.axisX2)for(e=0;e<t.sessionVariables.axisX2.length;e++)t.sessionVariables.axisX2[e].newViewportMinimum=null,t.sessionVariables.axisX2[e].newViewportMaximum=null;if(t.sessionVariables.axisY)for(e=0;e<t.sessionVariables.axisY.length;e++)t.sessionVariables.axisY[e].newViewportMinimum=null,t.sessionVariables.axisY[e].newViewportMaximum=null;if(t.sessionVariables.axisY2)for(e=0;e<t.sessionVariables.axisY2.length;e++)t.sessionVariables.axisY2[e].newViewportMinimum=null,t.sessionVariables.axisY2[e].newViewportMaximum=null;t.resetOverlayedCanvas(),S(t._zoomButton,t._resetButton),t._dispatchRangeEvent("rangeChanging","reset"),t.render(),t._dispatchRangeEvent("rangeChanged","reset"),t.syncCharts&&t.syncCharts(null,null)}),this.allDOMEventHandlers),b(this._resetButton,"mouseover",(function(){e||(_(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),b(this._resetButton,"mouseout",(function(){e||(_(0,t._resetButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&_(0,t._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=t._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(t._zoomButton.getAttribute("state")===t._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),T(t._zoomButton,t._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?T(this._menuButton):S(this._menuButton):this.exportEnabled&&H&&(e=!1,this._menuButton=document.createElement("button"),C(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),b(this._menuButton,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),b(this._menuButton,"click",(function(){"none"!==t._dropdownMenu.style.display||t._dropDownCloseTime&&500>=(new Date).getTime()-t._dropDownCloseTime.getTime()||(t._dropdownMenu.style.display="block",t._menuButton.blur(),t._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),b(this._menuButton,"mouseover",(function(){e||(_(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColorOnHover,color:t.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&_(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),b(this._menuButton,"mouseout",(function(){e||(_(0,t._menuButton,{backgroundColor:t.toolbar.backgroundColor,color:t.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&_(0,t._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&H){e=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var n=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+n,t._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),b(this._dropdownMenu,"blur",(function(){S(t._dropdownMenu),t._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.printText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),b(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),b(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),b(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),b(n,"click",(function(){t.print(),S(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.saveJPGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),b(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),b(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),b(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),b(n,"click",(function(){u(t.canvas,"jpeg",t.exportFileName),S(t._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.savePNGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),b(n,"touchstart",(function(t){e=!0}),this.allDOMEventHandlers),b(n,"mouseover",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColorOnHover,this.style.color=t.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),b(n,"mouseout",(function(){e||(this.style.backgroundColor=t.toolbar.backgroundColor,this.style.color=t.toolbar.fontColor)}),this.allDOMEventHandlers,!0),b(n,"click",(function(){u(t.canvas,"png",t.exportFileName),S(t._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var i in"none"!==this._toolBar.style.display&&this._zoomButton&&(C(t,t._zoomButton,this.panEnabled?"zoom":"pan"),t._resetButton.getAttribute("state")!==t._cultureInfo.resetText&&C(t,t._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},e.prototype._updateSize=function(){var t;t=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var e=0,n=0;if(this.options.width?e=this.width:this.width=e=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?n=this.height:this.height=n=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==e*ct||this.canvas.height!==n*ct){for(var i=0;i<t.length;i++)w(t[i],e,n);t=!0}else t=!1;return t},e.prototype._initialize=function(){this.isNavigator=!d(this.parent)&&!d(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new E(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new G(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=H&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new P(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var n=0,i=null;if(this.options.data){for(var l=0;l<this.options.data.length;l++)if(n++,!this.options.data[l].type||0<=e._supportedChartTypes.indexOf(this.options.data[l].type)){var s=new R(this,this.options.data[l],n-1,++this._eventManager.lastObjectId);"error"===s.type&&(s.linkedDataSeriesIndex=d(this.options.data[l].linkedDataSeriesIndex)?l-1:this.options.data[l].linkedDataSeriesIndex,0>s.linkedDataSeriesIndex||s.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof s.linkedDataSeriesIndex||"error"===this.options.data[s.linkedDataSeriesIndex].type)&&(s.linkedDataSeriesIndex=null),null===s.name&&(s.name="DataSeries "+n),null===s.color?1<this.options.data.length?(s._colorSet=[this._selectedColorSet[s.index%this._selectedColorSet.length]],s.color=this._selectedColorSet[s.index%this._selectedColorSet.length]):s._colorSet="line"===s.type||"stepLine"===s.type||"spline"===s.type||"area"===s.type||"stepArea"===s.type||"splineArea"===s.type||"stackedArea"===s.type||"stackedArea100"===s.type||"rangeArea"===s.type||"rangeSplineArea"===s.type||"candlestick"===s.type||"ohlc"===s.type||"waterfall"===s.type||"boxAndWhisker"===s.type?[this._selectedColorSet[0]]:this._selectedColorSet:s._colorSet=[s.color],null===s.markerSize&&(("line"===s.type||"stepLine"===s.type||"spline"===s.type||0<=s.type.toLowerCase().indexOf("area"))&&s.dataPoints&&s.dataPoints.length<this.width/16||"scatter"===s.type)&&(s.markerSize=8),"bubble"!==s.type&&"scatter"!==s.type||!s.dataPoints||(s.dataPoints.some?s.dataPoints.some((function(t){return t.x}))&&s.dataPoints.sort(t):s.dataPoints.sort(t)),this.data.push(s);var r,o=s.axisPlacement;if(i=i||o,"normal"===o?"xySwapped"===this.plotInfo.axisPlacement?r='You cannot combine "'+s.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?r='You cannot combine "'+s.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===o?"normal"===this.plotInfo.axisPlacement?r='You cannot combine "'+s.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?r='You cannot combine "'+s.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===o?"normal"===this.plotInfo.axisPlacement?r='You cannot combine "'+s.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?r='You cannot combine "'+s.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===o&&"none"===this.plotInfo.axisPlacement&&(r='You cannot combine "'+s.type+'" with pie chart'),r&&window.console)return void window.console.log(r)}for(l=0;l<this.data.length;l++){if("none"==i&&"error"===this.data[l].type&&window.console)return void window.console.log('You cannot combine "'+s.type+'" with error chart');"error"===this.data[l].type&&(this.data[l].axisPlacement=this.plotInfo.axisPlacement=i||"normal",this.data[l]._linkedSeries=null===this.data[l].linkedDataSeriesIndex?null:this.data[this.data[l].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},e._supportedChartTypes=p("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),e.prototype.setLayout=function(){for(var t=this._plotAreaElements,e=0;e<this.data.length;e++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[e].axisYType||"primary"===this.data[e].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var n=0;n<this.options.axisY.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[n]=new L(this,"axisY",this.options.axisY[n],n,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[n]=new L(this,"axisY",this.options.axisY[n],n,"axisY","bottom"));this.data[e].axisY=this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0],this.axisY[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new L(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new L(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[e].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(n=0;n<this.options.axisY2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[n]=new L(this,"axisY2",this.options.axisY2[n],n,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[n]=new L(this,"axisY2",this.options.axisY2[n],n,"axisY","top"));this.data[e].axisY=this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0],this.axisY2[0<=this.data[e].axisYIndex&&this.data[e].axisYIndex<this.axisY2.length?this.data[e].axisYIndex:0].dataSeries.push(this.data[e])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new L(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new L(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[e].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[e]);if(!this.data[e].axisXType||"primary"===this.data[e].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(n=0;n<this.options.axisX.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[n]=new L(this,"axisX",this.options.axisX[n],n,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[n]=new L(this,"axisX",this.options.axisX[n],n,"axisX","left"));this.data[e].axisX=this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0],this.axisX[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new L(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new L(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[e].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[e]);if("secondary"===this.data[e].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(n=0;n<this.options.axisX2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[n]=new L(this,"axisX2",this.options.axisX2[n],n,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[n]=new L(this,"axisX2",this.options.axisX2[n],n,"axisX","right"));this.data[e].axisX=this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0],this.axisX2[0<=this.data[e].axisXIndex&&this.data[e].axisXIndex<this.axisX2.length?this.data[e].axisXIndex:0].dataSeries.push(this.data[e])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new L(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new L(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[e].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[e])}if(this.axisY){for(n=1;n<this.axisY.length;n++)void 0===this.axisY[n].options.gridThickness&&(this.axisY[n].gridThickness=0);for(n=0;n<this.axisY.length-1;n++)void 0===this.axisY[n].options.margin&&(this.axisY[n].margin=10)}if(this.axisY2){for(n=1;n<this.axisY2.length;n++)void 0===this.axisY2[n].options.gridThickness&&(this.axisY2[n].gridThickness=0);for(n=0;n<this.axisY2.length-1;n++)void 0===this.axisY2[n].options.margin&&(this.axisY2[n].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(n=0;n<this.axisX.length;n++)void 0===this.axisX[n].options.gridThickness&&(this.axisX[n].gridThickness=0);if(this.axisX2)for(n=0;n<this.axisX2.length;n++)void 0===this.axisX2[n].options.gridThickness&&(this.axisX2[n].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),n=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(e=0;e<this._axes.length;e++)if(null!==this._axes[e].viewportMinimum||null!==this._axes[e].viewportMaximum){n=!0;break}if(n?(T(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(S(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),m(this),this._processData(),this.options.title&&(this.title=new I(this,this.options.title),this.title.dockInsidePlotArea?t.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(e=0;e<this.options.subtitles.length;e++)n=new D(this,this.options.subtitles[e],e),this.subtitles.push(n),n.dockInsidePlotArea?t.push(n):n.setLayout();for(this.legend=new N(this,this.options.legend),e=0;e<this.data.length;e++)(this.data[e].showInLegend||"pie"===this.data[e].type||"doughnut"===this.data[e].type||"funnel"===this.data[e].type||"pyramid"===this.data[e].type)&&this.legend.dataSeries.push(this.data[e]);for(this.legend.dockInsidePlotArea?t.push(this.legend):this.legend.setLayout(),e=0;e<this._axes.length;e++)if(this._axes[e].scaleBreaks&&this._axes[e].scaleBreaks._appliedBreaks.length){H?(this._breaksCanvas=k(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=k(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||L.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},e.prototype.renderElements=function(){var t=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var e=0;e<this.subtitles.length;e++)this.subtitles[e].dockInsidePlotArea||this.subtitles[e].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)L.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(e=0;e<t.length;e++)t[e].setLayout(),t[e].render();var n,i=[];if(this.animatedRender){var l=k(this.width,this.height);l.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(x(this),t=this.ctx.miterLimit,this.ctx.miterLimit=3,H&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),e=0;e<this.plotInfo.plotTypes.length;e++)for(var s=this.plotInfo.plotTypes[e],r=0;r<s.plotUnits.length;r++){var o=s.plotUnits[r],a=null;o.targetCanvas=null,this.animatedRender&&(o.targetCanvas=k(this.width,this.height),o.targetCanvasCtx=o.targetCanvas.getContext("2d"),n=o.targetCanvasCtx.miterLimit,o.targetCanvasCtx.miterLimit=3),"line"===o.type?a=this.renderLine(o):"stepLine"===o.type?a=this.renderStepLine(o):"spline"===o.type?a=this.renderSpline(o):"column"===o.type?a=this.renderColumn(o):"bar"===o.type?a=this.renderBar(o):"area"===o.type?a=this.renderArea(o):"stepArea"===o.type?a=this.renderStepArea(o):"splineArea"===o.type?a=this.renderSplineArea(o):"stackedColumn"===o.type?a=this.renderStackedColumn(o):"stackedColumn100"===o.type?a=this.renderStackedColumn100(o):"stackedBar"===o.type?a=this.renderStackedBar(o):"stackedBar100"===o.type?a=this.renderStackedBar100(o):"stackedArea"===o.type?a=this.renderStackedArea(o):"stackedArea100"===o.type?a=this.renderStackedArea100(o):"bubble"===o.type?a=a=this.renderBubble(o):"scatter"===o.type?a=this.renderScatter(o):"pie"===o.type?this.renderPie(o):"doughnut"===o.type?this.renderPie(o):"funnel"===o.type?a=this.renderFunnel(o):"pyramid"===o.type?a=this.renderFunnel(o):"candlestick"===o.type?a=this.renderCandlestick(o):"ohlc"===o.type?a=this.renderCandlestick(o):"rangeColumn"===o.type?a=this.renderRangeColumn(o):"error"===o.type?a=this.renderError(o):"rangeBar"===o.type?a=this.renderRangeBar(o):"rangeArea"===o.type?a=this.renderRangeArea(o):"rangeSplineArea"===o.type?a=this.renderRangeSplineArea(o):"waterfall"===o.type?a=this.renderWaterfall(o):"boxAndWhisker"===o.type&&(a=this.renderBoxAndWhisker(o));for(var u=0;u<o.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[o.dataSeriesIndexes[u]]);this.animatedRender&&(o.targetCanvasCtx.miterLimit=n,a&&i.push(a))}this.ctx.miterLimit=t,this.animatedRender&&this._breaksCanvasCtx&&i.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(n=k(this.width,this.height).getContext("2d"),i.push(this.renderIndexLabels(n)));var c=this;if(0<i.length)c.disableToolTip=!0,c._animator.animate(200,c.animationDuration,(function(t){c.ctx.clearRect(0,0,c.width,c.height),c.ctx.drawImage(l,0,0,Math.floor(c.width*ct),Math.floor(c.height*ct),0,0,c.width,c.height);for(var e=0;e<i.length;e++)a=i[e],1>t&&void 0!==a.startTimePercent?t>=a.startTimePercent&&a.animationCallback(a.easingFunction(t-a.startTimePercent,0,1,1-a.startTimePercent),a):a.animationCallback(a.easingFunction(t,0,1,1),a);c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}),(function(){i=[];for(var t=0;t<c.plotInfo.plotTypes.length;t++)for(var e=c.plotInfo.plotTypes[t],n=0;n<e.plotUnits.length;n++)e.plotUnits[n].targetCanvas=null;l=null,c.disableToolTip=!1}));else{if(c._breaksCanvas)if(H)c.plotArea.ctx.drawImage(c._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<c._axes.length;u++)c._axes[u].createMask();0<c._indexLabels.length&&c.renderIndexLabels(),c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||S(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,z&&(c=this,setTimeout((function(){var t=document.getElementById("ghostCanvasCopy");t&&(w(t,c.width,c.height),t.getContext("2d").drawImage(c._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)},e.prototype.render=function(t){t&&(this.options=t),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},e.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},e.prototype.categoriseDataSeries=function(){for(var t="",n=0;n<this.data.length;n++)if((t=this.data[n]).dataPoints&&0!==t.dataPoints.length&&t.visible&&0<=e._supportedChartTypes.indexOf(t.type)){for(var i=null,l=!1,s=null,r=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===t.type){l=!0,i=this.plotInfo.plotTypes[o];break}for(l||this.plotInfo.plotTypes.push(i={type:t.type,totalDataSeries:0,plotUnits:[]}),o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===t.axisYType&&i.plotUnits[o].axisXType===t.axisXType&&i.plotUnits[o].axisYIndex===t.axisYIndex&&i.plotUnits[o].axisXIndex===t.axisXIndex){r=!0,s=i.plotUnits[o];break}r||i.plotUnits.push(s={type:t.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:t.axisXType,axisYType:t.axisYType,axisYIndex:t.axisYIndex,axisXIndex:t.axisXIndex,axisY:"primary"===t.axisYType?this.axisY[0<=t.axisYIndex&&t.axisYIndex<this.axisY.length?t.axisYIndex:0]:this.axisY2[0<=t.axisYIndex&&t.axisYIndex<this.axisY2.length?t.axisYIndex:0],axisX:"primary"===t.axisXType?this.axisX[0<=t.axisXIndex&&t.axisXIndex<this.axisX.length?t.axisXIndex:0]:this.axisX2[0<=t.axisXIndex&&t.axisXIndex<this.axisX2.length?t.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]}),i.totalDataSeries++,s.dataSeriesIndexes.push(n),t.plotUnit=s}for(n=0;n<this.plotInfo.plotTypes.length;n++)for(i=this.plotInfo.plotTypes[n],o=t=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=t,t+=i.plotUnits[o].dataSeriesIndexes.length},e.prototype.assignIdToDataPoints=function(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(e.dataPoints)for(var n=e.dataPoints.length,i=0;i<n;i++)e.dataPointIds[i]=++this._eventManager.lastObjectId}},e.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var t=0;t<this.plotInfo.plotTypes.length;t++)for(var e=this.plotInfo.plotTypes[t],n=0;n<e.plotUnits.length;n++){var i=e.plotUnits[n];"line"===i.type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type?this._processMultiseriesPlotUnit(i):"stackedColumn"===i.type||"stackedBar"===i.type||"stackedArea"===i.type?this._processStackedPlotUnit(i):"stackedColumn100"===i.type||"stackedBar100"===i.type||"stackedArea100"===i.type?this._processStacked100PlotUnit(i):"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type||"boxAndWhisker"===i.type?this._processMultiYPlotUnit(i):"waterfall"===i.type&&this._processSpecificPlotUnit(i)}this.calculateAutoBreaks()},e.prototype._processMultiseriesPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i=t.axisY.dataInfo,l=t.axisX.dataInfo,s=!1,r=0;r<t.dataSeriesIndexes.length;r++){var o,a=this.data[t.dataSeriesIndexes[r]],u=0,c=!1,h=!1;if("normal"===a.axisPlacement||"xySwapped"===a.axisPlacement)var d=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((a.dataPoints[u].x&&a.dataPoints[u].x.getTime||"dateTime"===a.xValueType)&&(s=!0),u=0;u<a.dataPoints.length;u++){if(void 0===a.dataPoints[u].x&&(a.dataPoints[u].x=u+(t.axisX.logarithmic?1:0)),a.dataPoints[u].x.getTime?(s=!0,e=a.dataPoints[u].x.getTime()):e=a.dataPoints[u].x,n=a.dataPoints[u].y,e<l.min&&(l.min=e),e>l.max&&(l.max=e),n<i.min&&"number"==typeof n&&(i.min=n),n>i.max&&"number"==typeof n&&(i.max=n),0<u){if(t.axisX.logarithmic){var m=e/a.dataPoints[u-1].x;1>m&&(m=1/m),l.minDiff>m&&1!==m&&(l.minDiff=m)}else 0>(m=e-a.dataPoints[u-1].x)&&(m*=-1),l.minDiff>m&&0!==m&&(l.minDiff=m);null!==n&&null!==a.dataPoints[u-1].y&&(t.axisY.logarithmic?(1>(m=n/a.dataPoints[u-1].y)&&(m=1/m),i.minDiff>m&&1!==m&&(i.minDiff=m)):(0>(m=n-a.dataPoints[u-1].y)&&(m*=-1),i.minDiff>m&&0!==m&&(i.minDiff=m)))}if(e<d&&!c)null!==n&&(o=e);else{if(!c&&(c=!0,0<u)){u-=2;continue}if(e>p&&!h)h=!0;else if(e>p&&h)continue;a.dataPoints[u].label&&(t.axisX.labels[e]=a.dataPoints[u].label),e<l.viewPortMin&&(l.viewPortMin=e),e>l.viewPortMax&&(l.viewPortMax=e),null===n?l.viewPortMin===e&&o<e&&(l.viewPortMin=o):(n<i.viewPortMin&&"number"==typeof n&&(i.viewPortMin=n),n>i.viewPortMax&&"number"==typeof n&&(i.viewPortMax=n))}}a.axisX.valueType=a.xValueType=s?"dateTime":"number"}},e.prototype._processStackedPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,n,i=t.axisY.dataInfo,l=t.axisX.dataInfo,s=!1,r=[],o=[],a=1/0,u=-1/0,c=0;c<t.dataSeriesIndexes.length;c++){var h,p=this.data[t.dataSeriesIndexes[c]],m=0,g=!1,f=!1;if("normal"===p.axisPlacement||"xySwapped"===p.axisPlacement)var b=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,v=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((p.dataPoints[m].x&&p.dataPoints[m].x.getTime||"dateTime"===p.xValueType)&&(s=!0),m=0;m<p.dataPoints.length;m++){if(void 0===p.dataPoints[m].x&&(p.dataPoints[m].x=m+(t.axisX.logarithmic?1:0)),p.dataPoints[m].x.getTime?(s=!0,e=p.dataPoints[m].x.getTime()):e=p.dataPoints[m].x,n=d(p.dataPoints[m].y)?0:p.dataPoints[m].y,e<l.min&&(l.min=e),e>l.max&&(l.max=e),0<m){if(t.axisX.logarithmic){var y=e/p.dataPoints[m-1].x;1>y&&(y=1/y),l.minDiff>y&&1!==y&&(l.minDiff=y)}else 0>(y=e-p.dataPoints[m-1].x)&&(y*=-1),l.minDiff>y&&0!==y&&(l.minDiff=y);null!==n&&null!==p.dataPoints[m-1].y&&(t.axisY.logarithmic?0<n&&(1>(y=n/p.dataPoints[m-1].y)&&(y=1/y),i.minDiff>y&&1!==y&&(i.minDiff=y)):(0>(y=n-p.dataPoints[m-1].y)&&(y*=-1),i.minDiff>y&&0!==y&&(i.minDiff=y)))}if(e<b&&!g)null!==p.dataPoints[m].y&&(h=e);else{if(!g&&(g=!0,0<m)){m-=2;continue}if(e>v&&!f)f=!0;else if(e>v&&f)continue;p.dataPoints[m].label&&(t.axisX.labels[e]=p.dataPoints[m].label),e<l.viewPortMin&&(l.viewPortMin=e),e>l.viewPortMax&&(l.viewPortMax=e),null===p.dataPoints[m].y?l.viewPortMin===e&&h<e&&(l.viewPortMin=h):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,0<=n?r[e]?r[e]+=n:(r[e]=n,a=Math.min(n,a)):o[e]?o[e]+=n:(o[e]=n,u=Math.max(n,u)))}}t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(i.dataPointYPositiveSums?(i.dataPointYPositiveSums.push.apply(i.dataPointYPositiveSums,r),i.dataPointYNegativeSums.push.apply(i.dataPointYPositiveSums,o)):(i.dataPointYPositiveSums=r,i.dataPointYNegativeSums=o)),p.axisX.valueType=p.xValueType=s?"dateTime":"number"}for(m in r)r.hasOwnProperty(m)&&!isNaN(m)&&((t=r[m])<i.min&&(i.min=Math.min(t,a)),t>i.max&&(i.max=t),m<l.viewPortMin||m>l.viewPortMax||(t<i.viewPortMin&&(i.viewPortMin=Math.min(t,a)),t>i.viewPortMax&&(i.viewPortMax=t)));for(m in o)o.hasOwnProperty(m)&&!isNaN(m)&&((t=o[m])<i.min&&(i.min=t),t>i.max&&(i.max=Math.max(t,u)),m<l.viewPortMin||m>l.viewPortMax||(t<i.viewPortMin&&(i.viewPortMin=t),t>i.viewPortMax&&(i.viewPortMax=Math.max(t,u))))}},e.prototype._processStacked100PlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){for(var e,n,i=t.axisY.dataInfo,l=t.axisX.dataInfo,s=!1,r=!1,o=!1,a=[],u=0;u<t.dataSeriesIndexes.length;u++){var c,h=this.data[t.dataSeriesIndexes[u]],p=0,m=!1,g=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var f=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,b=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[p].x&&h.dataPoints[p].x.getTime||"dateTime"===h.xValueType)&&(s=!0),p=0;p<h.dataPoints.length;p++){if(void 0===h.dataPoints[p].x&&(h.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),h.dataPoints[p].x.getTime?(s=!0,e=h.dataPoints[p].x.getTime()):e=h.dataPoints[p].x,n=d(h.dataPoints[p].y)?null:h.dataPoints[p].y,e<l.min&&(l.min=e),e>l.max&&(l.max=e),0<p){if(t.axisX.logarithmic){var v=e/h.dataPoints[p-1].x;1>v&&(v=1/v),l.minDiff>v&&1!==v&&(l.minDiff=v)}else 0>(v=e-h.dataPoints[p-1].x)&&(v*=-1),l.minDiff>v&&0!==v&&(l.minDiff=v);d(n)||null===h.dataPoints[p-1].y||(t.axisY.logarithmic?0<n&&(1>(v=n/h.dataPoints[p-1].y)&&(v=1/v),i.minDiff>v&&1!==v&&(i.minDiff=v)):(0>(v=n-h.dataPoints[p-1].y)&&(v*=-1),i.minDiff>v&&0!==v&&(i.minDiff=v)))}if(e<f&&!m)null!==n&&(c=e);else{if(!m&&(m=!0,0<p)){p-=2;continue}if(e>b&&!g)g=!0;else if(e>b&&g)continue;h.dataPoints[p].label&&(t.axisX.labels[e]=h.dataPoints[p].label),e<l.viewPortMin&&(l.viewPortMin=e),e>l.viewPortMax&&(l.viewPortMax=e),null===n?l.viewPortMin===e&&c<e&&(l.viewPortMin=c):(t.yTotals[e]=(t.yTotals[e]?t.yTotals[e]:0)+n,0<=n?r=!0:0>n&&(o=!0),a[e]=a[e]?a[e]+Math.abs(n):Math.abs(n))}}h.axisX.valueType=h.xValueType=s?"dateTime":"number"}t.axisY.logarithmic?(i.max=d(i.viewPortMax)?99*Math.pow(t.axisY.logarithmBase,-.05):Math.max(i.viewPortMax,99*Math.pow(t.axisY.logarithmBase,-.05)),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):r&&!o?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):r&&o?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)):!r&&o&&(i.max=d(i.viewPortMax)?-1:Math.max(i.viewPortMax,-1),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)),i.viewPortMin=i.min,i.viewPortMax=i.max,t.dataPointYSums=a}},e.prototype._processMultiYPlotUnit=function(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i,l,s=t.axisY.dataInfo,r=t.axisX.dataInfo,o=!1,a=0;a<t.dataSeriesIndexes.length;a++){var u,c,h,d=this.data[t.dataSeriesIndexes[a]],p=0,m=!1,g=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var f=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,b=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[p].x&&d.dataPoints[p].x.getTime||"dateTime"===d.xValueType)&&(o=!0),p=0;p<d.dataPoints.length;p++){if(void 0===d.dataPoints[p].x&&(d.dataPoints[p].x=p+(t.axisX.logarithmic?1:0)),d.dataPoints[p].x.getTime?(o=!0,e=d.dataPoints[p].x.getTime()):e=d.dataPoints[p].x,(n=d.dataPoints[p].y)&&n.length){i=Math.min.apply(null,n),l=Math.max.apply(null,n),c=!0;for(var v=0;v<n.length;v++)null===n.k&&(c=!1);c&&(m||(h=u),u=e)}if(e<r.min&&(r.min=e),e>r.max&&(r.max=e),i<s.min&&(s.min=i),l>s.max&&(s.max=l),0<p&&(t.axisX.logarithmic?(1>(c=e/d.dataPoints[p-1].x)&&(c=1/c),r.minDiff>c&&1!==c&&(r.minDiff=c)):(0>(c=e-d.dataPoints[p-1].x)&&(c*=-1),r.minDiff>c&&0!==c&&(r.minDiff=c)),n&&null!==n[0]&&d.dataPoints[p-1].y&&null!==d.dataPoints[p-1].y[0]&&(t.axisY.logarithmic?(1>(c=n[0]/d.dataPoints[p-1].y[0])&&(c=1/c),s.minDiff>c&&1!==c&&(s.minDiff=c)):(0>(c=n[0]-d.dataPoints[p-1].y[0])&&(c*=-1),s.minDiff>c&&0!==c&&(s.minDiff=c)))),!(e<f)||m){if(!m&&(m=!0,0<p)){p-=2,u=h;continue}if(e>b&&!g)g=!0;else if(e>b&&g)continue;if(d.dataPoints[p].label&&(t.axisX.labels[e]=d.dataPoints[p].label),e<r.viewPortMin&&(r.viewPortMin=e),e>r.viewPortMax&&(r.viewPortMax=e),r.viewPortMin===e&&n)for(v=0;v<n.length;v++)if(null===n[v]&&u<e){r.viewPortMin=u;break}null===n?r.viewPortMin===e&&u<e&&(r.viewPortMin=u):(i<s.viewPortMin&&(s.viewPortMin=i),l>s.viewPortMax&&(s.viewPortMax=l))}}d.axisX.valueType=d.xValueType=o?"dateTime":"number"}},e.prototype._processSpecificPlotUnit=function(t){if("waterfall"===t.type&&t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length))for(var e,n,i=t.axisY.dataInfo,l=t.axisX.dataInfo,s=!1,r=0;r<t.dataSeriesIndexes.length;r++){var o=this.data[t.dataSeriesIndexes[r]],a=0,u=!1,c=!1,h=e=0;if("normal"===o.axisPlacement||"xySwapped"===o.axisPlacement)var d=t.axisX.sessionVariables.newViewportMinimum?t.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:t.axisX.logarithmic?0:-1/0,p=t.axisX.sessionVariables.newViewportMaximum?t.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((o.dataPoints[a].x&&o.dataPoints[a].x.getTime||"dateTime"===o.xValueType)&&(s=!0),a=0;a<o.dataPoints.length;a++)void 0!==o.dataPoints[a].isCumulativeSum&&!0===o.dataPoints[a].isCumulativeSum?(o.dataPointEOs[a].cumulativeSumYStartValue=0,o.dataPointEOs[a].cumulativeSum=0===a?0:o.dataPointEOs[a-1].cumulativeSum,o.dataPoints[a].y=0===a?0:o.dataPointEOs[a-1].cumulativeSum):void 0!==o.dataPoints[a].isIntermediateSum&&!0===o.dataPoints[a].isIntermediateSum?(o.dataPointEOs[a].cumulativeSumYStartValue=h,o.dataPointEOs[a].cumulativeSum=0===a?0:o.dataPointEOs[a-1].cumulativeSum,o.dataPoints[a].y=0===a?0:e,h=0===a?0:o.dataPointEOs[a-1].cumulativeSum,e=0):(n="number"!=typeof o.dataPoints[a].y?0:o.dataPoints[a].y,o.dataPointEOs[a].cumulativeSumYStartValue=0===a?0:o.dataPointEOs[a-1].cumulativeSum,o.dataPointEOs[a].cumulativeSum=0===a?n:o.dataPointEOs[a-1].cumulativeSum+n,e+=n);for(a=0;a<o.dataPoints.length;a++)if(void 0===o.dataPoints[a].x&&(o.dataPoints[a].x=a+(t.axisX.logarithmic?1:0)),o.dataPoints[a].x.getTime?(s=!0,e=o.dataPoints[a].x.getTime()):e=o.dataPoints[a].x,n=o.dataPoints[a].y,e<l.min&&(l.min=e),e>l.max&&(l.max=e),o.dataPointEOs[a].cumulativeSum<i.min&&(i.min=o.dataPointEOs[a].cumulativeSum),o.dataPointEOs[a].cumulativeSum>i.max&&(i.max=o.dataPointEOs[a].cumulativeSum),0<a&&(t.axisX.logarithmic?(1>(h=e/o.dataPoints[a-1].x)&&(h=1/h),l.minDiff>h&&1!==h&&(l.minDiff=h)):(0>(h=e-o.dataPoints[a-1].x)&&(h*=-1),l.minDiff>h&&0!==h&&(l.minDiff=h)),null!==n&&null!==o.dataPoints[a-1].y&&(t.axisY.logarithmic?(1>(n=o.dataPointEOs[a].cumulativeSum/o.dataPointEOs[a-1].cumulativeSum)&&(n=1/n),i.minDiff>n&&1!==n&&(i.minDiff=n)):(0>(n=o.dataPointEOs[a].cumulativeSum-o.dataPointEOs[a-1].cumulativeSum)&&(n*=-1),i.minDiff>n&&0!==n&&(i.minDiff=n)))),!(e<d)||u){if(!u&&(u=!0,0<a)){a-=2;continue}if(e>p&&!c)c=!0;else if(e>p&&c)continue;o.dataPoints[a].label&&(t.axisX.labels[e]=o.dataPoints[a].label),e<l.viewPortMin&&(l.viewPortMin=e),e>l.viewPortMax&&(l.viewPortMax=e),0<a&&(o.dataPointEOs[a-1].cumulativeSum<i.viewPortMin&&(i.viewPortMin=o.dataPointEOs[a-1].cumulativeSum),o.dataPointEOs[a-1].cumulativeSum>i.viewPortMax&&(i.viewPortMax=o.dataPointEOs[a-1].cumulativeSum)),o.dataPointEOs[a].cumulativeSum<i.viewPortMin&&(i.viewPortMin=o.dataPointEOs[a].cumulativeSum),o.dataPointEOs[a].cumulativeSum>i.viewPortMax&&(i.viewPortMax=o.dataPointEOs[a].cumulativeSum)}o.axisX.valueType=o.xValueType=s?"dateTime":"number"}},e.prototype.calculateAutoBreaks=function(){function t(t,e,n,i){return i?(1>=(n=Math.pow(Math.min(n*t/e,e/t),.2))&&(n=Math.pow(1>t?1/t:Math.min(e/t,t),.25)),{startValue:t*n,endValue:e/n}):(0>=(n=.2*Math.min(n-e+t,e-t))&&(n=.25*Math.min(e-t,Math.abs(t))),{startValue:t+n,endValue:e-n})}function e(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)){var e=t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks,n=t.axisY.scaleBreaks&&t.axisY.scaleBreaks.autoCalculate&&1<=t.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(e||n)for(var i,s,r=(c=t.axisX.dataInfo).min,o=c.max,a=(h=t.axisY.dataInfo).min,u=h.max,c=c._dataRanges,h=h._dataRanges,p=0,m=0;m<t.dataSeriesIndexes.length;m++){var g=l.data[t.dataSeriesIndexes[m]];if(!(4>g.dataPoints.length))for(p=0;p<g.dataPoints.length;p++)if(e&&(s=(o+1-r)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=g.dataPoints[p].x.getTime?g.dataPoints[p].x.getTime():g.dataPoints[p].x)<c[s=Math.floor((i-r)/s)].min&&(c[s].min=i),i>c[s].max&&(c[s].max=i)),n){var f=(u+1-a)*Math.max(parseFloat(t.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((i="waterfall"===t.type?g.dataPointEOs[p].cumulativeSum:g.dataPoints[p].y)&&i.length)for(var b=0;b<i.length;b++)s=Math.floor((i[b]-a)/f),i[b]<h[s].min&&(h[s].min=i[b]),i[b]>h[s].max&&(h[s].max=i[b]);else d(i)||(i<h[s=Math.floor((i-a)/f)].min&&(h[s].min=i),i>h[s].max&&(h[s].max=i))}}}}function n(t){if(t.dataSeriesIndexes&&!(1>t.dataSeriesIndexes.length)&&t.axisX.scaleBreaks&&t.axisX.scaleBreaks.autoCalculate&&1<=t.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var e,n=t.axisX.dataInfo,i=n.min,s=n.max,r=n._dataRanges,o=0,a=0;a<t.dataSeriesIndexes.length;a++){var u=l.data[t.dataSeriesIndexes[a]];if(!(4>u.dataPoints.length))for(o=0;o<u.dataPoints.length;o++)e=(s+1-i)*Math.max(parseFloat(t.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(n=u.dataPoints[o].x.getTime?u.dataPoints[o].x.getTime():u.dataPoints[o].x)<r[e=Math.floor((n-i)/e)].min&&(r[e].min=n),n>r[e].max&&(r[e].max=n)}}for(var i,l=this,s=!1,r=0;r<this._axes.length;r++)if(this._axes[r].scaleBreaks&&this._axes[r].scaleBreaks.autoCalculate&&1<=this._axes[r].scaleBreaks.maxNumberOfAutoBreaks){s=!0,this._axes[r].dataInfo._dataRanges=[];for(var o=0;o<100/Math.max(parseFloat(this._axes[r].scaleBreaks.collapsibleThreshold)||10,10);o++)this._axes[r].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(s){for(r=0;r<this.plotInfo.plotTypes.length;r++)for(s=this.plotInfo.plotTypes[r],o=0;o<s.plotUnits.length;o++)"line"===(i=s.plotUnits[o]).type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type||"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"waterfall"===i.type||"error"===i.type||"boxAndWhisker"===i.type?e(i):0<=i.type.indexOf("stacked")&&n(i);for(r=0;r<this._axes.length;r++)if(this._axes[r].dataInfo._dataRanges){var a=this._axes[r].dataInfo.min;i=(this._axes[r].dataInfo.max+1-a)*Math.max(parseFloat(this._axes[r].scaleBreaks.collapsibleThreshold)||10,10)/100;var u,c,h=this._axes[r].dataInfo._dataRanges;if(s=[],this._axes[r].dataInfo.dataPointYPositiveSums){var p=this._axes[r].dataInfo.dataPointYPositiveSums;for(o in u=h,p)if(p.hasOwnProperty(o)&&!isNaN(o)&&!d(c=p[o])){var m=Math.floor((c-a)/i);c<u[m].min&&(u[m].min=c),c>u[m].max&&(u[m].max=c)}delete this._axes[r].dataInfo.dataPointYPositiveSums}if(this._axes[r].dataInfo.dataPointYNegativeSums){for(o in u=h,p=this._axes[r].dataInfo.dataPointYNegativeSums)p.hasOwnProperty(o)&&!isNaN(o)&&(d(c=-1*p[o])||(c<u[m=Math.floor((c-a)/i)].min&&(u[m].min=c),c>u[m].max&&(u[m].max=c)));delete this._axes[r].dataInfo.dataPointYNegativeSums}for(o=0;o<h.length-1;o++)if(u=h[o].max,isFinite(u))for(;o<h.length-1;){if(a=h[o+1].min,isFinite(a)){(c=a-u)>i&&s.push({diff:c,start:u,end:a});break}o++}if(this._axes[r].scaleBreaks.customBreaks)for(o=0;o<this._axes[r].scaleBreaks.customBreaks.length;o++)for(i=0;i<s.length;i++)(this._axes[r].scaleBreaks.customBreaks[o].startValue<=s[i].start&&s[i].start<=this._axes[r].scaleBreaks.customBreaks[o].endValue||this._axes[r].scaleBreaks.customBreaks[o].startValue<=s[i].start&&s[i].start<=this._axes[r].scaleBreaks.customBreaks[o].endValue||s[i].start<=this._axes[r].scaleBreaks.customBreaks[o].startValue&&this._axes[r].scaleBreaks.customBreaks[o].startValue<=s[i].end||s[i].start<=this._axes[r].scaleBreaks.customBreaks[o].endValue&&this._axes[r].scaleBreaks.customBreaks[o].endValue<=s[i].end)&&(s.splice(i,1),i--);for(s.sort((function(t,e){return e.diff-t.diff})),o=0;o<Math.min(s.length,this._axes[r].scaleBreaks.maxNumberOfAutoBreaks);o++)i=t(s[o].start,s[o].end,this._axes[r].logarithmic?this._axes[r].dataInfo.max/this._axes[r].dataInfo.min:this._axes[r].dataInfo.max-this._axes[r].dataInfo.min,this._axes[r].logarithmic),this._axes[r].scaleBreaks.autoBreaks.push(new V(this,"autoBreaks",i,o,++this._eventManager.lastObjectId,this._axes[r].scaleBreaks)),this._axes[r].scaleBreaks._appliedBreaks.push(this._axes[r].scaleBreaks.autoBreaks[this._axes[r].scaleBreaks.autoBreaks.length-1]);this._axes[r].scaleBreaks._appliedBreaks.sort((function(t,e){return t.startValue-e.startValue}))}}},e.prototype.getDataPointAtXY=function(t,e,n){n=n||!1;for(var i=[],l=this._dataInRenderedOrder.length-1;0<=l;l--){var s;(s=this._dataInRenderedOrder[l].getDataPointAtXY(t,e,n))&&i.push(s)}for(t=null,e=!1,n=0;n<i.length;n++)if(("line"===i[n].dataSeries.type||"stepLine"===i[n].dataSeries.type||"area"===i[n].dataSeries.type||"stepArea"===i[n].dataSeries.type)&&(l=y("markerSize",i[n].dataPoint,i[n].dataSeries)||8,i[n].distance<=l/2)){e=!0;break}for(n=0;n<i.length;n++)e&&"line"!==i[n].dataSeries.type&&"stepLine"!==i[n].dataSeries.type&&"area"!==i[n].dataSeries.type&&"stepArea"!==i[n].dataSeries.type||(t?i[n].distance<=t.distance&&(t=i[n]):t=i[n]);return t},e.prototype.getObjectAtXY=function(t,e,n){var i=null;if(n=this.getDataPointAtXY(t,e,n||!1))i=n.dataSeries.dataPointIds[n.dataPointIndex];else if(H)i=v(t,e,this._eventManager.ghostCtx);else for(n=0;n<this.legend.items.length;n++){var l=this.legend.items[n];t>=l.x1&&t<=l.x2&&e>=l.y1&&e<=l.y2&&(i=l.id)}return i},e.prototype.getAutoFontSize=it,e.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},e.prototype.clearCanvas=nt,e.prototype.attachEvent=function(t){this._events.push(t)},e.prototype._touchEventHandler=function(t){if(t.changedTouches&&this.interactivityEnabled){var e=[],n=t.changedTouches,i=n?n[0]:t,l=null;switch(t.type){case"touchstart":case"MSPointerDown":e=["mousemove","mousedown"],this._lastTouchData=rt(i),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":e=["mousemove"];break;case"touchend":case"MSPointerUp":var s=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;e="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>s?["mouseup","click"]:["mouseup"];break;default:return}if(!(n&&1<n.length)){(l=rt(i)).time=new Date;try{var r=l.y-this._lastTouchData.y;s=l.time-this._lastTouchData.time,(1<Math.abs(r)&&this._lastTouchData.scroll||5<Math.abs(r)&&250>s)&&(this._lastTouchData.scroll=!0)}catch(o){}if(this._lastTouchEventType=t.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(n=0;n<e.length;n++)l=e[n],(r=document.createEvent("MouseEvent")).initMouseEvent(l,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(r),(!d(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<s||"click"===l)&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault())}}},e.prototype._dispatchRangeEvent=function(t,e){var n={chart:this};n.type=t,n.trigger=e;var i=[];this.axisX&&0<this.axisX.length&&i.push("axisX"),this.axisX2&&0<this.axisX2.length&&i.push("axisX2"),this.axisY&&0<this.axisY.length&&i.push("axisY"),this.axisY2&&0<this.axisY2.length&&i.push("axisY2");for(var l=0;l<i.length;l++)if(d(n[i[l]])&&(n[i[l]]=[]),"axisY"===i[l])for(var s=0;s<this.axisY.length;s++)n[i[l]].push({viewportMinimum:this[i[l]][s].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][s].sessionVariables.newViewportMaximum});else if("axisY2"===i[l])for(s=0;s<this.axisY2.length;s++)n[i[l]].push({viewportMinimum:this[i[l]][s].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][s].sessionVariables.newViewportMaximum});else if("axisX"===i[l])for(s=0;s<this.axisX.length;s++)n[i[l]].push({viewportMinimum:this[i[l]][s].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][s].sessionVariables.newViewportMaximum});else if("axisX2"===i[l])for(s=0;s<this.axisX2.length;s++)n[i[l]].push({viewportMinimum:this[i[l]][s].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][s].sessionVariables.newViewportMaximum});this.dispatchEvent(t,n,this)},e.prototype._mouseEventHandler=function(t){void 0===t.target&&t.srcElement&&(t.target=t.srcElement);var n,i,l=rt(t),s=t.type;if(t.which?i=3==t.which:t.button&&(i=2==t.button),e.capturedEventParam&&(n=e.capturedEventParam,"mouseup"===s&&(e.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(s)&&("mouseup"!==s||n.chart.overlaidCanvas.releaseCapture?t.target!==n.chart.overlaidCanvas&&H||n[s].call(n.context,l.x,l.y):t.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),z&&window.console&&(window.console.log(s+" --\x3e x: "+l.x+"; y:"+l.y),i&&window.console.log(t.which),"mouseup"===s&&window.console.log("mouseup")),!i){if(!e.capturedEventParam&&this._events){for(var r=0;r<this._events.length;r++)if(this._events[r].hasOwnProperty(s)){if(l.x>=(i=(n=this._events[r]).bounds).x1&&l.x<=i.x2&&l.y>=i.y1&&l.y<=i.y2){n[s].call(n.context,l.x,l.y),"mousedown"===s&&!0===n.capture?(e.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===s&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}n=null}t.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}(l.x<(s=this.plotArea).x1||l.x>s.x2||l.y<s.y1||l.y>s.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(t)}},e.prototype._plotAreaMouseDown=function(t,e){this.isDrag=!0,this.dragStartPoint={x:t,y:e}},e.prototype._plotAreaMouseUp=function(t,e){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var n=e-this.dragStartPoint.y,i=t-this.dragStartPoint.x,l=0<=this.zoomType.indexOf("x"),s=0<=this.zoomType.indexOf("y"),r=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var o=s;s=l,l=o}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(l=s=0;l<this._axes.length;l++)(n=this._axes[l]).logarithmic?n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum*(s=n.minimum/n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum*s,r=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum/(s=n.viewportMaximum/n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum/s,r=!0):n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum+(s=n.minimum-n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum+s,r=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum-(s=n.viewportMaximum-n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum-s,r=!0);else if((!l||2<Math.abs(i))&&(!s||2<Math.abs(n))&&this.zoomEnabled){if(!this.dragStartPoint)return;n=l?this.dragStartPoint.x:this.plotArea.x1,i=s?this.dragStartPoint.y:this.plotArea.y1,l=l?t:this.plotArea.x2,s=s?e:this.plotArea.y2,2<Math.abs(n-l)&&2<Math.abs(i-s)&&this._zoomPanToSelectedRegion(n,i,l,s)&&(r=!0)}r&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),r&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(T(this._zoomButton,this._resetButton),C(this,this._zoomButton,"pan"),C(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(r=0;r<this.axisX.length;r++)this.axisX[r].crosshair&&this.axisX[r].crosshair.enabled&&this.axisX[r].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(r=0;r<this.axisX2.length;r++)this.axisX2[r].crosshair&&this.axisX2[r].crosshair.enabled&&this.axisX2[r].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(r=0;r<this.axisY.length;r++)this.axisY[r].crosshair&&this.axisY[r].crosshair.enabled&&this.axisY[r].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(r=0;r<this.axisY2.length;r++)this.axisY2[r].crosshair&&this.axisY2[r].crosshair.enabled&&this.axisY2[r].renderCrosshair(t,e)}},e.prototype._plotAreaMouseMove=function(t,e){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var n=0,i=0,l=n=null,s=(l=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),r=this;if("xySwapped"===this.plotInfo.axisPlacement&&(n=s,s=l,l=n),n=this.dragStartPoint.x-t,i=this.dragStartPoint.y-e,2<Math.abs(n)&&8>Math.abs(n)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(t,e),(!l||2<Math.abs(n)||!s||2<Math.abs(i))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)l={x1:l?this.plotArea.x1+n:this.plotArea.x1,y1:s?this.plotArea.y1+i:this.plotArea.y1,x2:l?this.plotArea.x2+n:this.plotArea.x2,y2:s?this.plotArea.y2+i:this.plotArea.y2},clearTimeout(r._panTimerId),r._panTimerId=setTimeout(function(n,i,l,s){return function(){r._zoomPanToSelectedRegion(n,i,l,s,!0)&&(r._dispatchRangeEvent("rangeChanging","pan"),r.render(),r._dispatchRangeEvent("rangeChanged","pan"),r.dragStartPoint.x=t,r.dragStartPoint.y=e)}}(l.x1,l.y1,l.x2,l.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var o=s?this.dragStartPoint.y:this.plotArea.y1,a=l?t-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=s?e-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(i=l?this.dragStartPoint.x:this.plotArea.x1,o,l?t:this.plotArea.x2-this.plotArea.x1,s?e:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(i,o,a,u),this.overlaidCanvasCtx.globalAlpha=n}}else if(this.toolTip.mouseMoveHandler(t,e),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(t,e);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(t,e);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(t,e);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(t,e)}},e.prototype._zoomPanToSelectedRegion=function(t,e,n,i,l){if(e=(t=this.validateRegion(t,e,n,i,l)).axesWithValidRange,n=t.axesRanges,t.isValid)for(i=0;i<e.length;i++)e[i].setViewPortRange((l=n[i]).val1,l.val2),this.syncCharts&&this.syncCharts(l.val1,l.val2);return t.isValid},e.prototype.validateRegion=function(t,e,n,i,l){l=l||!1;for(var s=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y"),o=!1,a=[],u=[],c=[],h=0;h<this._axes.length;h++)("axisX"===this._axes[h].type&&s||"axisY"===this._axes[h].type&&r)&&u.push(this._axes[h]);for(r=0;r<u.length;r++){if(s=!1,(m=(h=u[r]).convertPixelToValue({x:t,y:e}))>(p=h.convertPixelToValue({x:n,y:i})))var d=p,p=m,m=d;if(h.scaleBreaks)for(d=0;!s&&d<h.scaleBreaks._appliedBreaks.length;d++)s=h.scaleBreaks._appliedBreaks[d].startValue<=m&&h.scaleBreaks._appliedBreaks[d].endValue>=p;if(isFinite(h.dataInfo.minDiff))if(d=h.getApparentDifference(m,p,null,!0),s||!(this.panEnabled&&h.scaleBreaks&&h.scaleBreaks._appliedBreaks.length)&&(h.logarithmic&&d<Math.pow(h.dataInfo.minDiff,3)||!h.logarithmic&&d<3*Math.abs(h.dataInfo.minDiff))||m<h.minimum||p>h.maximum){if(!l){o=!1;break}}else a.push(h),c.push({val1:m,val2:p}),o=!0}return{isValid:o,axesWithValidRange:a,axesRanges:c}},e.prototype.preparePlotArea=function(){var t=this.plotArea;if(!H&&(0<t.x1||0<t.y1)&&t.ctx.translate(t.x1,t.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var e=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var n=this.axisY[0];t.x1=e.x1<e.x2?e.x1:n.lineCoordinates.x1,t.y1=e.y1<n.lineCoordinates.y1?e.y1:n.lineCoordinates.y1,t.x2=e.x2>n.lineCoordinates.x2?e.x2:n.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(n=this.axisY2[0],t.x1=e.x1<e.x2?e.x1:n.lineCoordinates.x1,t.y1=e.y1<n.lineCoordinates.y1?e.y1:n.lineCoordinates.y1,t.x2=e.x2>n.lineCoordinates.x2?e.x2:n.lineCoordinates.x2,t.y2=e.y2>e.y1?e.y2:n.lineCoordinates.y2,t.width=t.x2-t.x1,t.height=t.y2-t.y1)}else e=this.layoutManager.getFreeSpace(),t.x1=e.x1,t.x2=e.x2,t.y1=e.y1,t.y2=e.y2,t.width=e.width,t.height=e.height;H||(t.canvas.width=t.width,t.canvas.height=t.height,t.canvas.style.left=t.x1+"px",t.canvas.style.top=t.y1+"px",(0<t.x1||0<t.y1)&&t.ctx.translate(-t.x1,-t.y1)),t.layoutManager=new P(t.x1,t.y1,t.x2,t.y2,2)},e.prototype.renderIndexLabels=function(t){var e=t||this.plotArea.ctx,n=this.plotArea,i=0,l=0,s=0,r=0,o=i=r=l=s=0,a=0;for(t=0;t<this._indexLabels.length;t++){var u,c,h=this._indexLabels[t],p=h.chartType.toLowerCase();o=y("indexLabelFontColor",h.dataPoint,h.dataSeries),a=y("indexLabelFontSize",h.dataPoint,h.dataSeries),u=y("indexLabelFontFamily",h.dataPoint,h.dataSeries),c=y("indexLabelFontStyle",h.dataPoint,h.dataSeries),r=y("indexLabelFontWeight",h.dataPoint,h.dataSeries);var m=y("indexLabelBackgroundColor",h.dataPoint,h.dataSeries),g=(l=y("indexLabelMaxWidth",h.dataPoint,h.dataSeries),s=y("indexLabelWrap",h.dataPoint,h.dataSeries),y("indexLabelLineDashType",h.dataPoint,h.dataSeries)),b=y("indexLabelLineColor",h.dataPoint,h.dataSeries),v=d(h.dataPoint.indexLabelLineThickness)?d(h.dataSeries.options.indexLabelLineThickness)?0:h.dataSeries.options.indexLabelLineThickness:h.dataPoint.indexLabelLineThickness,w=(i=0<v?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),x=null;(0<=h.dataSeries.type.indexOf("stacked")||"pie"===h.dataSeries.type||"doughnut"===h.dataSeries.type)&&(w=this.getPercentAndTotal(h.dataSeries,h.dataPoint)),(h.dataSeries.indexLabelFormatter||h.dataPoint.indexLabelFormatter)&&(x={chart:this,dataSeries:h.dataSeries,dataPoint:h.dataPoint,index:h.indexKeyword,total:w.total,percent:w.percent});var k=h.dataPoint.indexLabelFormatter?h.dataPoint.indexLabelFormatter(x):h.dataPoint.indexLabel?this.replaceKeywordsWithValue(h.dataPoint.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):h.dataSeries.indexLabelFormatter?h.dataSeries.indexLabelFormatter(x):h.dataSeries.indexLabel?this.replaceKeywordsWithValue(h.dataSeries.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):null;if(null!==k&&""!==k){w=y("indexLabelPlacement",h.dataPoint,h.dataSeries),x=y("indexLabelOrientation",h.dataPoint,h.dataSeries);var _=h.direction,C=h.dataSeries.axisX,T=h.dataSeries.axisY,S=!1;if((m=new A(e,{x:0,y:0,maxWidth:l||.5*this.width,maxHeight:s?5*a:1.5*a,angle:"horizontal"===x?0:-90,text:k,padding:0,backgroundColor:m,horizontalAlign:"left",fontSize:a,fontFamily:u,fontWeight:r,fontColor:o,fontStyle:c,textBaseline:"top"})).measureText(),h.dataSeries.indexLabelMaxWidth=m.maxWidth,"stackedarea100"===p){if(h.point.x<n.x1||h.point.x>n.x2||h.point.y<n.y1-1||h.point.y>n.y2+1)continue}else if("rangearea"===p||"rangesplinearea"===p){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<T.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>T.viewportMaximum)continue}else if(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("bubble")||0<=p.indexOf("scatter")){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||h.dataPoint.y<T.viewportMinimum||h.dataPoint.y>T.viewportMaximum)continue}else if(0<=p.indexOf("column")||"waterfall"===p||"error"===p&&!h.axisSwapped){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||h.bounds.y1>n.y2||h.bounds.y2<n.y1)continue}else if(0<=p.indexOf("bar")||"error"===p){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||h.bounds.x1>n.x2||h.bounds.x2<n.x1)continue}else if("candlestick"===p||"ohlc"===p){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<T.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>T.viewportMaximum)continue}else if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum)continue;l=r=2,"horizontal"===x?(o=m.width,a=m.height):(a=m.width,o=m.height),"normal"===this.plotInfo.axisPlacement?(0<=p.indexOf("line")||0<=p.indexOf("area")?(w="auto",r=4):0<=p.indexOf("stacked")?"auto"===w&&(w="inside"):"bubble"!==p&&"scatter"!==p||(w="inside"),u=h.point.x-o/2,"inside"!==w?(l=n.y1,s=n.y2,0<_?(c=h.point.y-a-r-i)<l&&(S=(c="auto"===w?Math.max(h.point.y,l)+r+i:l+r+i)+a>h.point.y):(c=h.point.y+r+i)>s-a-r-i&&(S=(c="auto"===w?Math.min(h.point.y,s)-a-r-i:s-a-r-i)<h.point.y)):(l=Math.max(h.bounds.y1,n.y1),s=Math.min(h.bounds.y2,n.y2),i=0<=p.indexOf("range")||"error"===p?0<_?Math.max(h.bounds.y1,n.y1)+a/2+r:Math.min(h.bounds.y2,n.y2)-a/2-r:(Math.max(h.bounds.y1,n.y1)+Math.min(h.bounds.y2,n.y2))/2,0<_?(c=Math.max(h.point.y,i)-a/2)<l&&("bubble"===p||"scatter"===p)&&(c=Math.max(h.point.y-a-r,n.y1+r)):(c=Math.min(h.point.y,i)-a/2)>s-a-r&&("bubble"===p||"scatter"===p)&&(c=Math.min(h.point.y+r,n.y2-a-r)),c=Math.min(c,s-a))):(0<=p.indexOf("line")||0<=p.indexOf("area")||0<=p.indexOf("scatter")?(w="auto",l=4):0<=p.indexOf("stacked")?"auto"===w&&(w="inside"):"bubble"===p&&(w="inside"),c=h.point.y-a/2,"inside"!==w?(r=n.x1,s=n.x2,0>_?(u=h.point.x-o-l-i)<r&&(S=(u="auto"===w?Math.max(h.point.x,r)+l+i:r+l+i)+o>h.point.x):(u=h.point.x+l+i)>s-o-l-i&&(S=(u="auto"===w?Math.min(h.point.x,s)-o-l-i:s-o-l-i)<h.point.x)):(r=Math.max(h.bounds.x1,n.x1),Math.min(h.bounds.x2,n.x2),i=0<=p.indexOf("range")||"error"===p?0>_?Math.max(h.bounds.x1,n.x1)+o/2+l:Math.min(h.bounds.x2,n.x2)-o/2-l:(Math.max(h.bounds.x1,n.x1)+Math.min(h.bounds.x2,n.x2))/2,u=0>_?Math.max(h.point.x,i)-o/2:Math.min(h.point.x,i)-o/2,u=Math.max(u,r))),"vertical"===x&&(c+=a),m.x=u,m.y=c,m.render(!0),v&&"inside"!==w&&(0>p.indexOf("bar")&&("error"!==p||!h.axisSwapped)&&h.point.x>n.x1&&h.point.x<n.x2||!S)&&(0>p.indexOf("column")&&("error"!==p||h.axisSwapped)&&h.point.y>n.y1&&h.point.y<n.y2||!S)&&(e.lineWidth=v,e.strokeStyle=b||"gray",e.setLineDash&&e.setLineDash(f(g,v)),e.beginPath(),e.moveTo(h.point.x,h.point.y),0<=p.indexOf("bar")||"error"===p&&h.axisSwapped?e.lineTo(u+(0<h.direction?0:o),c+("horizontal"===x?a:-a)/2):0<=p.indexOf("column")||"error"===p&&!h.axisSwapped?e.lineTo(u+o/2,c+((0<h.direction?a:-a)+("horizontal"===x?a:-a))/2):e.lineTo(u+o/2,c+((c<h.point.y?a:-a)+("horizontal"===x?a:-a))/2),e.stroke())}}for(e={source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0,startTimePercent:.7},t=0;t<this._indexLabels.length;t++)m=y("indexLabelBackgroundColor",(h=this._indexLabels[t]).dataPoint,h.dataSeries),h.dataSeries.indexLabelBackgroundColor=d(m)?H?"transparent":null:m;return e},e.prototype.renderLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var l=this.plotArea;n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip();for(var s,r=[],o=0;o<t.dataSeriesIndexes.length;o++){var a=t.dataSeriesIndexes[o],u=this.data[a];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var p=f(u.nullDataLineDashType,u.lineThickness),m=f(d=u.lineDashType,u.lineThickness);n.setLineDash(m)}this._eventManager.objectMap[g=u.id]={objectType:"dataSeries",dataSeriesIndex:a},g=c(g),i.strokeStyle=g,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var g=u._colorSet,b=g=u.lineColor=u.options.lineColor?u.options.lineColor:g[0];n.strokeStyle=g;var v,y,w=!0,x=0;if(n.beginPath(),0<h.length){var k=!1;for(x=0;x<h.length;x++)if(!((v=h[x].x.getTime?h[x].x.getTime():h[x].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!k)))if("number"!=typeof h[x].y)0<x&&!(u.connectNullData||k||w)&&(n.stroke(),H&&i.stroke()),k=!0;else{v=t.axisX.convertValueToPixel(v),y=t.axisY.convertValueToPixel(h[x].y);var _=u.dataPointIds[x];if(this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:a,dataPointIndex:x,x1:v,y1:y},w||k?(!w&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(s.x,s.y),d=u.nullDataLineDashType,n.setLineDash(p)),n.lineTo(v,y),H&&i.lineTo(v,y)):(n.beginPath(),n.moveTo(v,y),H&&(i.beginPath(),i.moveTo(v,y))),k=w=!1):(n.lineTo(v,y),H&&i.lineTo(v,y),0==x%500&&(n.stroke(),n.beginPath(),n.moveTo(v,y),H&&(i.stroke(),i.beginPath(),i.moveTo(v,y)))),s={x:v,y},x<h.length-1&&(b!==(h[x].lineColor||g)||d!==(h[x].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(v,y),n.strokeStyle=b=h[x].lineColor||g,n.setLineDash&&(h[x].lineDashType?n.setLineDash(f(d=h[x].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(m)))),0<h[x].markerSize||0<u.markerSize){var C=u.getMarkerProperties(x,v,y,n);r.push(C),_=c(_),H&&r.push({x:v,y,ctx:i,type:C.type,size:C.size,color:_,borderColor:_,borderThickness:C.borderThickness})}(h[x].indexLabel||u.indexLabel||h[x].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:h[x],dataSeries:u,point:{x:v,y},direction:0>h[x].y===t.axisY.reversed?1:-1,color:g})}n.stroke(),H&&i.stroke()}}return tt.drawMarkers(r),H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),i.beginPath()),n.restore(),n.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderStepLine=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var l=this.plotArea;n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip();for(var s,r=[],o=0;o<t.dataSeriesIndexes.length;o++){var a=t.dataSeriesIndexes[o],u=this.data[a];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var p=f(u.nullDataLineDashType,u.lineThickness),m=f(d=u.lineDashType,u.lineThickness);n.setLineDash(m)}this._eventManager.objectMap[g=u.id]={objectType:"dataSeries",dataSeriesIndex:a},g=c(g),i.strokeStyle=g,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var g=u._colorSet,b=g=u.lineColor=u.options.lineColor?u.options.lineColor:g[0];n.strokeStyle=g;var v,y,w=!0,x=0;if(n.beginPath(),0<h.length){var k=!1;for(x=0;x<h.length;x++)if(!((v=h[x].getTime?h[x].x.getTime():h[x].x)<t.axisX.dataInfo.viewPortMin||v>t.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!k)))if("number"!=typeof h[x].y)0<x&&!(u.connectNullData||k||w)&&(n.stroke(),H&&i.stroke()),k=!0;else{var _=y;v=t.axisX.convertValueToPixel(v),y=t.axisY.convertValueToPixel(h[x].y);var C=u.dataPointIds[x];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:a,dataPointIndex:x,x1:v,y1:y},w||k?(!w&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(s.x,s.y),d=u.nullDataLineDashType,n.setLineDash(p)),n.lineTo(v,_),n.lineTo(v,y),H&&(i.lineTo(v,_),i.lineTo(v,y))):(n.beginPath(),n.moveTo(v,y),H&&(i.beginPath(),i.moveTo(v,y))),k=w=!1):(n.lineTo(v,_),H&&i.lineTo(v,_),n.lineTo(v,y),H&&i.lineTo(v,y),0==x%500&&(n.stroke(),n.beginPath(),n.moveTo(v,y),H&&(i.stroke(),i.beginPath(),i.moveTo(v,y)))),s={x:v,y},x<h.length-1&&(b!==(h[x].lineColor||g)||d!==(h[x].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(v,y),n.strokeStyle=b=h[x].lineColor||g,n.setLineDash&&(h[x].lineDashType?n.setLineDash(f(d=h[x].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(m)))),(0<h[x].markerSize||0<u.markerSize)&&(_=u.getMarkerProperties(x,v,y,n),r.push(_),C=c(C),H&&r.push({x:v,y,ctx:i,type:_.type,size:_.size,color:C,borderColor:C,borderThickness:_.borderThickness})),(h[x].indexLabel||u.indexLabel||h[x].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[x],dataSeries:u,point:{x:v,y},direction:0>h[x].y===t.axisY.reversed?1:-1,color:g})}n.stroke(),H&&i.stroke()}}return tt.drawMarkers(r),H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),i.beginPath()),n.restore(),n.beginPath(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderSpline=function(t){function e(t){if(0<(t=i(t,2)).length){l.beginPath(),H&&s.beginPath(),l.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(l.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&l.setLineDash(t[0].newLineDashArray),H&&s.moveTo(t[0].x,t[0].y);for(var e=0;e<t.length-3;e+=3)l.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),H&&s.bezierCurveTo(t[e+1].x,t[e+1].y,t[e+2].x,t[e+2].y,t[e+3].x,t[e+3].y),(0<e&&0==e%3e3||t[e+3].newStrokeStyle||t[e+3].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(t[e+3].x,t[e+3].y),t[e+3].newStrokeStyle&&(l.strokeStyle=t[e+3].newStrokeStyle),t[e+3].newLineDashArray&&l.setLineDash(t[e+3].newLineDashArray),H&&(s.stroke(),s.beginPath(),s.moveTo(t[e+3].x,t[e+3].y)));l.stroke(),H&&s.stroke()}}var n=t.targetCanvasCtx||this.plotArea.ctx,l=H?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var s=this._eventManager.ghostCtx;l.save();var r=this.plotArea;l.beginPath(),l.rect(r.x1,r.y1,r.width,r.height),l.clip();for(var o=[],a=0;a<t.dataSeriesIndexes.length;a++){var u=t.dataSeriesIndexes[a],h=this.data[u];l.lineWidth=h.lineThickness;var d=h.dataPoints,p="solid";if(l.setLineDash){var m=f(h.nullDataLineDashType,h.lineThickness),g=f(p=h.lineDashType,h.lineThickness);l.setLineDash(g)}this._eventManager.objectMap[b=h.id]={objectType:"dataSeries",dataSeriesIndex:u},b=c(b),s.strokeStyle=b,s.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var b=h._colorSet,v=b=h.lineColor=h.options.lineColor?h.options.lineColor:b[0];l.strokeStyle=b;var y,w,x=0,k=[];if(l.beginPath(),0<d.length)for(w=!1,x=0;x<d.length;x++)if(!((y=d[x].getTime?d[x].x.getTime():d[x].x)<t.axisX.dataInfo.viewPortMin||y>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!w)))if("number"!=typeof d[x].y)0<x&&!w&&(h.connectNullData?l.setLineDash&&0<k.length&&(h.options.nullDataLineDashType||!d[x-1].lineDashType)&&(k[k.length-1].newLineDashArray=m,p=h.nullDataLineDashType):(e(k),k=[])),w=!0;else{y=t.axisX.convertValueToPixel(y),w=t.axisY.convertValueToPixel(d[x].y);var _=h.dataPointIds[x];if(this._eventManager.objectMap[_]={id:_,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:x,x1:y,y1:w},k[k.length]={x:y,y:w},x<d.length-1&&(v!==(d[x].lineColor||b)||p!==(d[x].lineDashType||h.lineDashType))&&(k[k.length-1].newStrokeStyle=v=d[x].lineColor||b,l.setLineDash&&(d[x].lineDashType?k[k.length-1].newLineDashArray=f(p=d[x].lineDashType,h.lineThickness):(p=h.lineDashType,k[k.length-1].newLineDashArray=g))),0<d[x].markerSize||0<h.markerSize){var C=h.getMarkerProperties(x,y,w,l);o.push(C),_=c(_),H&&o.push({x:y,y:w,ctx:s,type:C.type,size:C.size,color:_,borderColor:_,borderThickness:C.borderThickness})}(d[x].indexLabel||h.indexLabel||d[x].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:d[x],dataSeries:h,point:{x:y,y:w},direction:0>d[x].y===t.axisY.reversed?1:-1,color:b}),w=!1}e(k)}return tt.drawMarkers(o),H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&l.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&l.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(r.x1,r.y1,r.width,r.height),s.beginPath()),l.restore(),l.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s,r=null,o=this.plotArea,a=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0),d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:o.width*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&a>h&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<a&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),d<a&&(d=a),d>h&&(d=h),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],m=this.data[p],g=m.dataPoints;if(0<g.length){var f=!!(5<d&&m.bevelEnabled);for(a=0;a<g.length;a++)if(!((s=g[a].getTime?g[a].x.getTime():g[a].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[a].y){i=t.axisX.convertValueToPixel(s),l=t.axisY.convertValueToPixel(g[a].y),i=t.axisX.reversed?i+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:i-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var b,v=t.axisX.reversed?i-d<<0:i+d<<0;0<=g[a].y?b=u:(b=l,l=u),l>b&&(r=l,l=b,b=r),ht(n,i,l,v,b,r=g[a].color?g[a].color:m._colorSet[a%m._colorSet.length],0,null,f&&0<=g[a].y,0>g[a].y&&f,!1,!1,m.fillOpacity),this._eventManager.objectMap[r=m.dataPointIds[a]]={id:r,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:a,x1:i,y1:l,x2:v,y2:b},r=c(r),H&&ht(this._eventManager.ghostCtx,i,l,v,b,r,0,null,!1,!1,!1,!1),(g[a].indexLabel||m.indexLabel||g[a].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:g[a],dataSeries:m,point:{x:i+(v-i)/2,y:0>g[a].y===t.axisY.reversed?l:b},direction:0>g[a].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(l,b),x2:v,y2:Math.max(l,b)},color:r})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.yScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:u<t.axisY.bounds.y1?t.axisY.bounds.y1:u>t.axisY.bounds.y2?t.axisY.bounds.y2:u}}},e.prototype.renderStackedColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s=null,r=this.plotArea,o=[],a=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:r.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),m<d&&(m=d),m>i&&(m=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var f=t.dataSeriesIndexes[g],b=this.data[f],v=b.dataPoints;if(0<v.length){var y=!!(5<m&&b.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<v.length;d++)if(!((s=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){var w,x=(i=t.axisX.convertValueToPixel(s))-t.plotType.plotUnits.length*m/2+t.index*m<<0,k=x+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y)u[s]=v[d].y+(u[s]?u[s]:0),0<u[s]&&(l=t.axisY.convertValueToPixel(u[s]),w=void 0!==o[s]?o[s]:p,o[s]=l);else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[s]=v[d].y+(h[s]?h[s]:0),w=t.axisY.convertValueToPixel(h[s]),l=void 0!==a[s]?a[s]:p,a[s]=w;else if(l=t.axisY.convertValueToPixel(v[d].y),0<=v[d].y){var _=void 0!==o[s]?o[s]:0;o[s]=_+((w=p-_)-(l-=_))}else a[s]=(_=a[s]?a[s]:0)+((w=l+_)-(l=p+_));ht(n,x,l,k,w,s=v[d].color?v[d].color:b._colorSet[d%b._colorSet.length],0,null,y&&0<=v[d].y,0>v[d].y&&y,!1,!1,b.fillOpacity),this._eventManager.objectMap[s=b.dataPointIds[d]]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:d,x1:x,y1:l,x2:k,y2:w},s=c(s),H&&ht(this._eventManager.ghostCtx,x,l,k,w,s,0,null,!1,!1,!1,!1),(v[d].indexLabel||b.indexLabel||v[d].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:v[d],dataSeries:b,point:{x:i,y:0<=v[d].y?l:w},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:x,y1:Math.min(l,w),x2:k,y2:Math.max(l,w)},color:s})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.yScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderStackedColumn100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s=null,r=this.plotArea,o=[],a=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:r.width*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),m<d&&(m=d),m>i&&(m=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var f=t.dataSeriesIndexes[g],b=this.data[f],v=b.dataPoints;if(0<v.length){var y=!!(5<m&&b.bevelEnabled);for(d=0;d<v.length;d++)if(!((s=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){i=t.axisX.convertValueToPixel(s),l=0!==t.dataPointYSums[s]?v[d].y/t.dataPointYSums[s]*100:0;var w,x=i-t.plotType.plotUnits.length*m/2+t.index*m<<0,k=x+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y){if(u[s]=l+(void 0!==u[s]?u[s]:0),0>=u[s])continue;l=t.axisY.convertValueToPixel(u[s]),w=o[s]?o[s]:p,o[s]=l}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[s]=l+(void 0!==h[s]?h[s]:0),w=t.axisY.convertValueToPixel(h[s]),l=a[s]?a[s]:p,a[s]=w;else if(l=t.axisY.convertValueToPixel(l),0<=v[d].y){var _=void 0!==o[s]?o[s]:0;l-=_,w=p-_,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(r.y1-l)&&(l=r.y1),o[s]=_+(w-l)}else w=l+(_=void 0!==a[s]?a[s]:0),l=p+_,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(r.y2-w)&&(w=r.y2),a[s]=_+(w-l);ht(n,x,l,k,w,s=v[d].color?v[d].color:b._colorSet[d%b._colorSet.length],0,null,y&&0<=v[d].y,0>v[d].y&&y,!1,!1,b.fillOpacity),this._eventManager.objectMap[s=b.dataPointIds[d]]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:d,x1:x,y1:l,x2:k,y2:w},s=c(s),H&&ht(this._eventManager.ghostCtx,x,l,k,w,s,0,null,!1,!1,!1,!1),(v[d].indexLabel||b.indexLabel||v[d].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:v[d],dataSeries:b,point:{x:i,y:0<=v[d].y?l:w},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:x,y1:Math.min(l,w),x2:k,y2:Math.max(l,w)},color:s})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.yScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:p<t.axisY.bounds.y1?t.axisY.bounds.y1:p>t.axisY.bounds.y2?t.axisY.bounds.y2:p}}},e.prototype.renderBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s,r=null,o=this.plotArea,a=0,u=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),h=(a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0),d=t.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(t.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:o.height*(t.axisX.logarithmic?Math.log(d)/Math.log(t.axisX.range):Math.abs(d)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&a>h&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<a&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),d<a&&(d=a),d>h&&(d=h),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],m=this.data[p],g=m.dataPoints;if(0<g.length){var f=!!(5<d&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",a=0;a<g.length;a++)if(!((s=g[a].getTime?g[a].x.getTime():g[a].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof g[a].y){l=t.axisX.convertValueToPixel(s),i=t.axisY.convertValueToPixel(g[a].y),l=t.axisX.reversed?l+t.plotType.totalDataSeries*d/2-(t.previousDataSeriesCount+h)*d<<0:l-t.plotType.totalDataSeries*d/2+(t.previousDataSeriesCount+h)*d<<0;var b,v=t.axisX.reversed?l-d<<0:l+d<<0;0<=g[a].y?b=u:(b=i,i=u),ht(n,b,l,i,v,r=g[a].color?g[a].color:m._colorSet[a%m._colorSet.length],0,null,f,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[r=m.dataPointIds[a]]={id:r,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:a,x1:b,y1:l,x2:i,y2:v},r=c(r),H&&ht(this._eventManager.ghostCtx,b,l,i,v,r,0,null,!1,!1,!1,!1),(g[a].indexLabel||m.indexLabel||g[a].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:g[a],dataSeries:m,point:{x:0<=g[a].y?i:b,y:l+(v-l)/2},direction:0>g[a].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(b,i),y1:l,x2:Math.max(b,i),y2:v},color:r})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.xScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:u<t.axisY.bounds.x1?t.axisY.bounds.x1:u>t.axisY.bounds.x2?t.axisY.bounds.x2:u}}},e.prototype.renderStackedBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s=null,r=this.plotArea,o=[],a=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:r.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),m<d&&(m=d),m>l&&(m=l),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var f=t.dataSeriesIndexes[g],b=this.data[f],v=b.dataPoints;if(0<v.length){var y=!!(5<m&&b.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<v.length;d++)if(!((s=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){var w,x=(l=t.axisX.convertValueToPixel(s))-t.plotType.plotUnits.length*m/2+t.index*m<<0,k=x+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y)u[s]=v[d].y+(u[s]?u[s]:0),0<u[s]&&(w=o[s]?o[s]:p,o[s]=i=t.axisY.convertValueToPixel(u[s]));else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[s]=v[d].y+(h[s]?h[s]:0),i=a[s]?a[s]:p,a[s]=w=t.axisY.convertValueToPixel(h[s]);else if(i=t.axisY.convertValueToPixel(v[d].y),0<=v[d].y){var _=o[s]?o[s]:0;o[s]=_+((i+=_)-(w=p+_))}else w=i-(_=a[s]?a[s]:0),a[s]=_+((i=p-_)-w);ht(n,w,x,i,k,s=v[d].color?v[d].color:b._colorSet[d%b._colorSet.length],0,null,y,!1,!1,!1,b.fillOpacity),this._eventManager.objectMap[s=b.dataPointIds[d]]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:d,x1:w,y1:x,x2:i,y2:k},s=c(s),H&&ht(this._eventManager.ghostCtx,w,x,i,k,s,0,null,!1,!1,!1,!1),(v[d].indexLabel||b.indexLabel||v[d].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:v[d],dataSeries:b,point:{x:0<=v[d].y?i:w,y:l},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(w,i),y1:x,x2:Math.max(w,i),y2:k},color:s})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.xScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderStackedBar100=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s=null,r=this.plotArea,o=[],a=[],u=[],h=[],d=0,p=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var m=t.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(t.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:r.height*(t.axisX.logarithmic?Math.log(m)/Math.log(t.axisX.range):Math.abs(m)/Math.abs(t.axisX.range))/t.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),m<d&&(m=d),m>l&&(m=l),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var g=0;g<t.dataSeriesIndexes.length;g++){var f=t.dataSeriesIndexes[g],b=this.data[f],v=b.dataPoints;if(0<v.length){var y=!!(5<m&&b.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<v.length;d++)if(!((s=v[d].x.getTime?v[d].x.getTime():v[d].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&"number"==typeof v[d].y){var w;l=t.axisX.convertValueToPixel(s),w=0!==t.dataPointYSums[s]?v[d].y/t.dataPointYSums[s]*100:0;var x=l-t.plotType.plotUnits.length*m/2+t.index*m<<0,k=x+m<<0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0<v[d].y){if(u[s]=w+(u[s]?u[s]:0),0>=u[s])continue;w=o[s]?o[s]:p,o[s]=i=t.axisY.convertValueToPixel(u[s])}else if(t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length&&0>=v[d].y)h[s]=w+(h[s]?h[s]:0),i=a[s]?a[s]:p,a[s]=w=t.axisY.convertValueToPixel(h[s]);else if(i=t.axisY.convertValueToPixel(w),0<=v[d].y){var _=o[s]?o[s]:0;w=p+_,i+=_,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(r.x2-i)&&(i=r.x2),o[s]=_+(i-w)}else w=i-(_=a[s]?a[s]:0),i=p-_,t.dataSeriesIndexes.length-1===g&&1>=Math.abs(r.x1-w)&&(w=r.x1),a[s]=_+(i-w);ht(n,w,x,i,k,s=v[d].color?v[d].color:b._colorSet[d%b._colorSet.length],0,null,y,!1,!1,!1,b.fillOpacity),this._eventManager.objectMap[s=b.dataPointIds[d]]={id:s,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:d,x1:w,y1:x,x2:i,y2:k},s=c(s),H&&ht(this._eventManager.ghostCtx,w,x,i,k,s,0,null,!1,!1,!1,!1),(v[d].indexLabel||b.indexLabel||v[d].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:v[d],dataSeries:b,point:{x:0<=v[d].y?i:w,y:l},direction:0>v[d].y===t.axisY.reversed?1:-1,bounds:{x1:Math.min(w,i),y1:x,x2:Math.max(w,i),y2:k},color:s})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.xScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:p<t.axisY.bounds.x1?t.axisY.bounds.x1:p>t.axisY.bounds.x2?t.axisY.bounds.x2:p}}},e.prototype.renderArea=function(t){var e,n;function i(){C&&(0<g.lineThickness&&s.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?x=_:0>t.axisY.viewportMaximum?x=u.y1:0<t.axisY.viewportMinimum&&(x=a.y2),s.lineTo(v,x),s.lineTo(C.x,x),s.closePath(),s.globalAlpha=g.fillOpacity,s.fill(),s.globalAlpha=1,H&&(o.lineTo(v,x),o.lineTo(C.x,x),o.closePath(),o.fill()),s.beginPath(),s.moveTo(v,y),o.beginPath(),o.moveTo(v,y),C={x:v,y})}var l=t.targetCanvasCtx||this.plotArea.ctx,s=H?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var r,o=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],d=this.plotArea;s.save(),H&&o.save(),s.beginPath(),s.rect(d.x1,d.y1,d.width,d.height),s.clip(),H&&(o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],g=this.data[m],b=g.dataPoints;this._eventManager.objectMap[h=g.id]={objectType:"dataSeries",dataSeriesIndex:m},h=c(h),o.fillStyle=h,h=[],e=!0;var v,y,w,x,k=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),C=null;if(0<b.length){var T=g._colorSet[k%g._colorSet.length],S=g.lineColor=g.options.lineColor||T,M=S;if(s.fillStyle=T,s.strokeStyle=S,s.lineWidth=g.lineThickness,n="solid",s.setLineDash){var P=f(g.nullDataLineDashType,g.lineThickness),A=f(n=g.lineDashType,g.lineThickness);s.setLineDash(A)}for(var E=!0;k<b.length;k++)if(!((w=b[k].x.getTime?b[k].x.getTime():b[k].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!E)))if("number"!=typeof b[k].y)g.connectNullData||E||e||i(),E=!0;else{v=t.axisX.convertValueToPixel(w),y=t.axisY.convertValueToPixel(b[k].y),e||E?(!e&&g.connectNullData?(s.setLineDash&&(g.options.nullDataLineDashType||n===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(e=v,n=y,v=r.x,y=r.y,i(),s.moveTo(r.x,r.y),v=e,y=n,C=r,n=g.nullDataLineDashType,s.setLineDash(P)),s.lineTo(v,y),H&&o.lineTo(v,y)):(s.beginPath(),s.moveTo(v,y),H&&(o.beginPath(),o.moveTo(v,y)),C={x:v,y}),E=e=!1):(s.lineTo(v,y),H&&o.lineTo(v,y),0==k%250&&i()),r={x:v,y},k<b.length-1&&(M!==(b[k].lineColor||S)||n!==(b[k].lineDashType||g.lineDashType))&&(i(),s.strokeStyle=M=b[k].lineColor||S,s.setLineDash&&(b[k].lineDashType?s.setLineDash(f(n=b[k].lineDashType,g.lineThickness)):(n=g.lineDashType,s.setLineDash(A))));var I=g.dataPointIds[k];this._eventManager.objectMap[I]={id:I,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:k,x1:v,y1:y},0!==b[k].markerSize&&(0<b[k].markerSize||0<g.markerSize)&&(w=g.getMarkerProperties(k,v,y,s),h.push(w),I=c(I),H&&h.push({x:v,y,ctx:o,type:w.type,size:w.size,color:I,borderColor:I,borderThickness:w.borderThickness})),(b[k].indexLabel||g.indexLabel||b[k].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:b[k],dataSeries:g,point:{x:v,y},direction:0>b[k].y===t.axisY.reversed?1:-1,color:T})}i(),tt.drawMarkers(h)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&s.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&s.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),s.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderSplineArea=function(t){function e(){var e=i(k,2);if(0<e.length){if(0<p.lineThickness){l.beginPath(),l.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(l.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&l.setLineDash(e[0].newLineDashArray);for(var n=0;n<e.length-3;n+=3)l.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),H&&s.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),(e[n+3].newStrokeStyle||e[n+3].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(e[n+3].x,e[n+3].y),e[n+3].newStrokeStyle&&(l.strokeStyle=e[n+3].newStrokeStyle),e[n+3].newLineDashArray&&l.setLineDash(e[n+3].newLineDashArray));l.stroke()}for(l.beginPath(),l.moveTo(e[0].x,e[0].y),H&&(s.beginPath(),s.moveTo(e[0].x,e[0].y)),n=0;n<e.length-3;n+=3)l.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y),H&&s.bezierCurveTo(e[n+1].x,e[n+1].y,e[n+2].x,e[n+2].y,e[n+3].x,e[n+3].y);t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?v=w:0>t.axisY.viewportMaximum?v=o.y1:0<t.axisY.viewportMinimum&&(v=r.y2),x={x:e[0].x,y:e[0].y},l.lineTo(e[e.length-1].x,v),l.lineTo(x.x,v),l.closePath(),l.globalAlpha=p.fillOpacity,l.fill(),l.globalAlpha=1,H&&(s.lineTo(e[e.length-1].x,v),s.lineTo(x.x,v),s.closePath(),s.fill())}}var n=t.targetCanvasCtx||this.plotArea.ctx,l=H?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var s=this._eventManager.ghostCtx,r=t.axisX.lineCoordinates,o=t.axisY.lineCoordinates,a=[],u=this.plotArea;l.save(),H&&s.save(),l.beginPath(),l.rect(u.x1,u.y1,u.width,u.height),l.clip(),H&&(s.beginPath(),s.rect(u.x1,u.y1,u.width,u.height),s.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var d=t.dataSeriesIndexes[h],p=this.data[d],m=p.dataPoints;this._eventManager.objectMap[a=p.id]={objectType:"dataSeries",dataSeriesIndex:d},a=c(a),s.fillStyle=a,a=[];var g,b,v,y=0,w=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),x=null,k=[];if(0<m.length){var _=p._colorSet[y%p._colorSet.length],C=p.lineColor=p.options.lineColor||_,T=C;l.fillStyle=_,l.strokeStyle=C,l.lineWidth=p.lineThickness;var S="solid";if(l.setLineDash){var M=f(p.nullDataLineDashType,p.lineThickness),P=f(S=p.lineDashType,p.lineThickness);l.setLineDash(P)}for(b=!1;y<m.length;y++)if(!((g=m[y].x.getTime?m[y].x.getTime():m[y].x)<t.axisX.dataInfo.viewPortMin||g>t.axisX.dataInfo.viewPortMax&&(!p.connectNullData||!b)))if("number"!=typeof m[y].y)0<y&&!b&&(p.connectNullData?l.setLineDash&&0<k.length&&(p.options.nullDataLineDashType||!m[y-1].lineDashType)&&(k[k.length-1].newLineDashArray=M,S=p.nullDataLineDashType):(e(),k=[])),b=!0;else{g=t.axisX.convertValueToPixel(g),b=t.axisY.convertValueToPixel(m[y].y);var A=p.dataPointIds[y];if(this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:y,x1:g,y1:b},k[k.length]={x:g,y:b},y<m.length-1&&(T!==(m[y].lineColor||C)||S!==(m[y].lineDashType||p.lineDashType))&&(k[k.length-1].newStrokeStyle=T=m[y].lineColor||C,l.setLineDash&&(m[y].lineDashType?k[k.length-1].newLineDashArray=f(S=m[y].lineDashType,p.lineThickness):(S=p.lineDashType,k[k.length-1].newLineDashArray=P))),0!==m[y].markerSize&&(0<m[y].markerSize||0<p.markerSize)){var E=p.getMarkerProperties(y,g,b,l);a.push(E),A=c(A),H&&a.push({x:g,y:b,ctx:s,type:E.type,size:E.size,color:A,borderColor:A,borderThickness:E.borderThickness})}(m[y].indexLabel||p.indexLabel||m[y].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:m[y],dataSeries:p,point:{x:g,y:b},direction:0>m[y].y===t.axisY.reversed?1:-1,color:_}),b=!1}e(),tt.drawMarkers(a)}}return H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&l.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&l.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderStepArea=function(t){var e,n;function i(){C&&(0<g.lineThickness&&s.stroke(),t.axisY.logarithmic||0>=t.axisY.viewportMinimum&&0<=t.axisY.viewportMaximum?x=_:0>t.axisY.viewportMaximum?x=u.y1:0<t.axisY.viewportMinimum&&(x=a.y2),s.lineTo(v,x),s.lineTo(C.x,x),s.closePath(),s.globalAlpha=g.fillOpacity,s.fill(),s.globalAlpha=1,H&&(o.lineTo(v,x),o.lineTo(C.x,x),o.closePath(),o.fill()),s.beginPath(),s.moveTo(v,y),o.beginPath(),o.moveTo(v,y),C={x:v,y})}var l=t.targetCanvasCtx||this.plotArea.ctx,s=H?this._preRenderCtx:l;if(!(0>=t.dataSeriesIndexes.length)){var r,o=this._eventManager.ghostCtx,a=t.axisX.lineCoordinates,u=t.axisY.lineCoordinates,h=[],d=this.plotArea;s.save(),H&&o.save(),s.beginPath(),s.rect(d.x1,d.y1,d.width,d.height),s.clip(),H&&(o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],g=this.data[m],b=g.dataPoints;this._eventManager.objectMap[h=g.id]={objectType:"dataSeries",dataSeriesIndex:m},h=c(h),o.fillStyle=h,h=[],e=!0;var v,y,w,x,k=0,_=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),C=null;if(n=!1,0<b.length){var T=g._colorSet[k%g._colorSet.length],S=g.lineColor=g.options.lineColor||T,M=S;s.fillStyle=T,s.strokeStyle=S,s.lineWidth=g.lineThickness;var P="solid";if(s.setLineDash){var A=f(g.nullDataLineDashType,g.lineThickness),E=f(P=g.lineDashType,g.lineThickness);s.setLineDash(E)}for(;k<b.length;k++)if(!((w=b[k].x.getTime?b[k].x.getTime():b[k].x)<t.axisX.dataInfo.viewPortMin||w>t.axisX.dataInfo.viewPortMax&&(!g.connectNullData||!n))){var I=y;"number"!=typeof b[k].y?(g.connectNullData||n||e||i(),n=!0):(v=t.axisX.convertValueToPixel(w),y=t.axisY.convertValueToPixel(b[k].y),e||n?(!e&&g.connectNullData?(s.setLineDash&&(g.options.nullDataLineDashType||P===g.lineDashType&&g.lineDashType!==g.nullDataLineDashType)&&(e=v,n=y,v=r.x,y=r.y,i(),s.moveTo(r.x,r.y),v=e,y=n,C=r,P=g.nullDataLineDashType,s.setLineDash(A)),s.lineTo(v,I),s.lineTo(v,y),H&&(o.lineTo(v,I),o.lineTo(v,y))):(s.beginPath(),s.moveTo(v,y),H&&(o.beginPath(),o.moveTo(v,y)),C={x:v,y}),n=e=!1):(s.lineTo(v,I),H&&o.lineTo(v,I),s.lineTo(v,y),H&&o.lineTo(v,y),0==k%250&&i()),r={x:v,y},k<b.length-1&&(M!==(b[k].lineColor||S)||P!==(b[k].lineDashType||g.lineDashType))&&(i(),s.strokeStyle=M=b[k].lineColor||S,s.setLineDash&&(b[k].lineDashType?s.setLineDash(f(P=b[k].lineDashType,g.lineThickness)):(P=g.lineDashType,s.setLineDash(E)))),this._eventManager.objectMap[w=g.dataPointIds[k]]={id:w,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:k,x1:v,y1:y},0!==b[k].markerSize&&(0<b[k].markerSize||0<g.markerSize)&&(I=g.getMarkerProperties(k,v,y,s),h.push(I),w=c(w),H&&h.push({x:v,y,ctx:o,type:I.type,size:I.size,color:w,borderColor:w,borderThickness:I.borderThickness})),(b[k].indexLabel||g.indexLabel||b[k].indexLabelFormatter||g.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:b[k],dataSeries:g,point:{x:v,y},direction:0>b[k].y===t.axisY.reversed?1:-1,color:T}))}i(),tt.drawMarkers(h)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&s.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&s.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),s.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),s.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderStackedArea=function(t){function e(){if(!(1>b.length)){for(0<T.lineThickness&&i.stroke();0<b.length;){var t=b.pop();i.lineTo(t.x,t.y),H&&k.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=T.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),H&&(k.closePath(),k.fill(),k.beginPath()),b=[]}}var n=t.targetCanvasCtx||this.plotArea.ctx,i=H?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var l,s,r,o,u,h=null,d=null,p=[],m=this.plotArea,g=[],b=[],v=[],y=[],w=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),k=this._eventManager.ghostCtx;H&&k.beginPath(),i.save(),H&&k.save(),i.beginPath(),i.rect(m.x1,m.y1,m.width,m.height),i.clip(),H&&(k.beginPath(),k.rect(m.x1,m.y1,m.width,m.height),k.clip()),h=[];for(var _=0;_<t.dataSeriesIndexes.length;_++){var C=t.dataSeriesIndexes[_],T=this.data[C],S=T.dataPoints;for(T.dataPointIndexes=[],w=0;w<S.length;w++)C=S[w].x.getTime?S[w].x.getTime():S[w].x,T.dataPointIndexes[C]=w,h[C]||(v.push(C),h[C]=!0);v.sort(a)}for(_=0;_<t.dataSeriesIndexes.length;_++){if(S=(T=this.data[C=t.dataSeriesIndexes[_]]).dataPoints,o=!0,b=[],this._eventManager.objectMap[w=T.id]={objectType:"dataSeries",dataSeriesIndex:C},w=c(w),k.fillStyle=w,0<v.length){h=T._colorSet[0];var M=T.lineColor=T.options.lineColor||h,P=M;if(i.fillStyle=h,i.strokeStyle=M,i.lineWidth=T.lineThickness,u="solid",i.setLineDash){var A=f(T.nullDataLineDashType,T.lineThickness),E=f(u=T.lineDashType,T.lineThickness);i.setLineDash(E)}var I=!0;for(w=0;w<v.length;w++){var D=0<=T.dataPointIndexes[d=v[w]]?S[T.dataPointIndexes[d]]:{x:d,y:null};if(!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!T.connectNullData||!I)))if("number"!=typeof D.y)T.connectNullData||I||o||e(),I=!0;else{l=t.axisX.convertValueToPixel(d);var O=g[d]?g[d]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(y[d]=D.y+(y[d]?y[d]:0),0>=y[d]&&t.axisY.logarithmic)continue;s=t.axisY.convertValueToPixel(y[d])}else s=t.axisY.convertValueToPixel(D.y),s-=O;if(b.push({x:l,y:x-O}),g[d]=x-s,o||I?(!o&&T.connectNullData?(i.setLineDash&&(T.options.nullDataLineDashType||u===T.lineDashType&&T.lineDashType!==T.nullDataLineDashType)&&(o=b.pop(),u=b[b.length-1],e(),i.moveTo(r.x,r.y),b.push(u),b.push(o),u=T.nullDataLineDashType,i.setLineDash(A)),i.lineTo(l,s),H&&k.lineTo(l,s)):(i.beginPath(),i.moveTo(l,s),H&&(k.beginPath(),k.moveTo(l,s))),I=o=!1):(i.lineTo(l,s),H&&k.lineTo(l,s),0==w%250&&(e(),i.moveTo(l,s),H&&k.moveTo(l,s),b.push({x:l,y:x-O}))),r={x:l,y:s},w<S.length-1&&(P!==(S[w].lineColor||M)||u!==(S[w].lineDashType||T.lineDashType))&&(e(),i.beginPath(),i.moveTo(l,s),b.push({x:l,y:x-O}),i.strokeStyle=P=S[w].lineColor||M,i.setLineDash&&(S[w].lineDashType?i.setLineDash(f(u=S[w].lineDashType,T.lineThickness)):(u=T.lineDashType,i.setLineDash(E)))),0<=T.dataPointIndexes[d]){var F=T.dataPointIds[T.dataPointIndexes[d]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:T.dataPointIndexes[d],x1:l,y1:s}}0<=T.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<T.markerSize)&&(O=T.getMarkerProperties(T.dataPointIndexes[d],l,s,i),p.push(O),d=c(F),H&&p.push({x:l,y:s,ctx:k,type:O.type,size:O.size,color:d,borderColor:d,borderThickness:O.borderThickness})),(D.indexLabel||T.indexLabel||D.indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:D,dataSeries:T,point:{x:l,y:s},direction:0>S[w].y===t.axisY.reversed?1:-1,color:h})}}e(),i.moveTo(l,s),H&&k.moveTo(l,s)}delete T.dataPointIndexes}return tt.drawMarkers(p),H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(m.x1,m.y1,m.width,m.height),k.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderStackedArea100=function(t){function e(){for(0<T.lineThickness&&i.stroke();0<b.length;){var t=b.pop();i.lineTo(t.x,t.y),H&&k.lineTo(t.x,t.y)}i.closePath(),i.globalAlpha=T.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),H&&(k.closePath(),k.fill(),k.beginPath()),b=[]}var n=t.targetCanvasCtx||this.plotArea.ctx,i=H?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var l,s,r,o,u,h=null,d=null,p=this.plotArea,m=[],g=[],b=[],v=[],y=[],w=0,x=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0),k=this._eventManager.ghostCtx;i.save(),H&&k.save(),i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip(),H&&(k.beginPath(),k.rect(p.x1,p.y1,p.width,p.height),k.clip()),h=[];for(var _=0;_<t.dataSeriesIndexes.length;_++){var C=t.dataSeriesIndexes[_],T=this.data[C],S=T.dataPoints;for(T.dataPointIndexes=[],w=0;w<S.length;w++)C=S[w].x.getTime?S[w].x.getTime():S[w].x,T.dataPointIndexes[C]=w,h[C]||(v.push(C),h[C]=!0);v.sort(a)}for(_=0;_<t.dataSeriesIndexes.length;_++){if(S=(T=this.data[C=t.dataSeriesIndexes[_]]).dataPoints,o=!0,this._eventManager.objectMap[h=T.id]={objectType:"dataSeries",dataSeriesIndex:C},h=c(h),k.fillStyle=h,b=[],0<v.length){h=T._colorSet[w%T._colorSet.length];var M=T.lineColor=T.options.lineColor||h,P=M;if(i.fillStyle=h,i.strokeStyle=M,i.lineWidth=T.lineThickness,u="solid",i.setLineDash){var A=f(T.nullDataLineDashType,T.lineThickness),E=f(u=T.lineDashType,T.lineThickness);i.setLineDash(E)}var I=!0;for(w=0;w<v.length;w++){var D=0<=T.dataPointIndexes[d=v[w]]?S[T.dataPointIndexes[d]]:{x:d,y:null};if(!(d<t.axisX.dataInfo.viewPortMin||d>t.axisX.dataInfo.viewPortMax&&(!T.connectNullData||!I)))if("number"!=typeof D.y)T.connectNullData||I||o||e(),I=!0;else{var O;O=0!==t.dataPointYSums[d]?D.y/t.dataPointYSums[d]*100:0,l=t.axisX.convertValueToPixel(d);var F=g[d]?g[d]:0;if(t.axisY.logarithmic||t.axisY.scaleBreaks&&0<t.axisY.scaleBreaks._appliedBreaks.length){if(y[d]=O+(y[d]?y[d]:0),0>=y[d]&&t.axisY.logarithmic)continue;s=t.axisY.convertValueToPixel(y[d])}else s=t.axisY.convertValueToPixel(O),s-=F;if(b.push({x:l,y:x-F}),g[d]=x-s,o||I?(!o&&T.connectNullData?(i.setLineDash&&(T.options.nullDataLineDashType||u===T.lineDashType&&T.lineDashType!==T.nullDataLineDashType)&&(o=b.pop(),u=b[b.length-1],e(),i.moveTo(r.x,r.y),b.push(u),b.push(o),u=T.nullDataLineDashType,i.setLineDash(A)),i.lineTo(l,s),H&&k.lineTo(l,s)):(i.beginPath(),i.moveTo(l,s),H&&(k.beginPath(),k.moveTo(l,s))),I=o=!1):(i.lineTo(l,s),H&&k.lineTo(l,s),0==w%250&&(e(),i.moveTo(l,s),H&&k.moveTo(l,s),b.push({x:l,y:x-F}))),r={x:l,y:s},w<S.length-1&&(P!==(S[w].lineColor||M)||u!==(S[w].lineDashType||T.lineDashType))&&(e(),i.beginPath(),i.moveTo(l,s),b.push({x:l,y:x-F}),i.strokeStyle=P=S[w].lineColor||M,i.setLineDash&&(S[w].lineDashType?i.setLineDash(f(u=S[w].lineDashType,T.lineThickness)):(u=T.lineDashType,i.setLineDash(E)))),0<=T.dataPointIndexes[d]){var N=T.dataPointIds[T.dataPointIndexes[d]];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:T.dataPointIndexes[d],x1:l,y1:s}}0<=T.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<T.markerSize)&&(F=T.getMarkerProperties(w,l,s,i),m.push(F),d=c(N),H&&m.push({x:l,y:s,ctx:k,type:F.type,size:F.size,color:d,borderColor:d,borderThickness:F.borderThickness})),(D.indexLabel||T.indexLabel||D.indexLabelFormatter||T.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:D,dataSeries:T,point:{x:l,y:s},direction:0>S[w].y===t.axisY.reversed?1:-1,color:h})}}e(),i.moveTo(l,s),H&&k.moveTo(l,s)}delete T.dataPointIndexes}return tt.drawMarkers(m),H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(p.x1,p.y1,p.width,p.height),k.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderBubble=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s=this.plotArea,r=0;n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var o=-1/0,a=1/0,u=0;u<t.dataSeriesIndexes.length;u++){var h=t.dataSeriesIndexes[u],d=this.data[h],p=d.dataPoints,m=0;for(r=0;r<p.length;r++)(i=i=p[r].getTime?p[r].x.getTime():p[r].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax||void 0===p[r].z||((m=p[r].z)>o&&(o=m),m<a&&(a=m))}var g=25*Math.PI,f=Math.max(Math.pow(.25*Math.min(s.height,s.width)/2,2)*Math.PI,g);for(u=0;u<t.dataSeriesIndexes.length;u++)if(0<(p=(d=this.data[h=t.dataSeriesIndexes[u]]).dataPoints).length)for(n.strokeStyle="#4572A7 ",r=0;r<p.length;r++)if(!((i=i=p[r].getTime?p[r].x.getTime():p[r].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof p[r].y){i=t.axisX.convertValueToPixel(i),l=t.axisY.convertValueToPixel(p[r].y),m=p[r].z;var b=2*Math.max(Math.sqrt((o===a?f/2:g+(f-g)/(o-a)*(m-a))/Math.PI)<<0,1);(m=d.getMarkerProperties(r,n)).size=b,n.globalAlpha=d.fillOpacity,tt.drawMarker(i,l,n,m.type,m.size,m.color,m.borderColor,m.borderThickness),n.globalAlpha=1;var v=d.dataPointIds[r];this._eventManager.objectMap[v]={id:v,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:r,x1:i,y1:l,size:b},b=c(v),H&&tt.drawMarker(i,l,this._eventManager.ghostCtx,m.type,m.size,b,b,m.borderThickness),(p[r].indexLabel||d.indexLabel||p[r].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:p[r],dataSeries:d,point:{x:i,y:l},direction:1,bounds:{x1:i-m.size/2,y1:l-m.size/2,x2:i+m.size/2,y2:l+m.size/2},color:null})}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderScatter=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s=this.plotArea,r=0;n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var a=t.dataSeriesIndexes[o],u=this.data[a],h=u.dataPoints;if(0<h.length){n.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(s.height,s.width)/2,2);var d=0,p=0;for(r=0;r<h.length;r++)if(!((i=i=h[r].getTime?h[r].x.getTime():h[r].x)<t.axisX.dataInfo.viewPortMin||i>t.axisX.dataInfo.viewPortMax)&&"number"==typeof h[r].y){i=t.axisX.convertValueToPixel(i),l=t.axisY.convertValueToPixel(h[r].y);var m=u.getMarkerProperties(r,i,l,n);n.globalAlpha=u.fillOpacity,tt.drawMarker(m.x,m.y,m.ctx,m.type,m.size,m.color,m.borderColor,m.borderThickness),n.globalAlpha=1,Math.sqrt((d-i)*(d-i)+(p-l)*(p-l))<Math.min(m.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[d=u.dataPointIds[r]]={id:d,objectType:"dataPoint",dataSeriesIndex:a,dataPointIndex:r,x1:i,y1:l},d=c(d),H&&tt.drawMarker(m.x,m.y,this._eventManager.ghostCtx,m.type,m.size,d,d,m.borderThickness),(h[r].indexLabel||u.indexLabel||h[r].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[r],dataSeries:u,point:{x:i,y:l},direction:1,bounds:{x1:i-m.size/2,y1:l-m.size/2,x2:i+m.size/2,y2:l+m.size/2},color:null}),d=i,p=l)}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderCandlestick=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var l,s,r,o,a,u,h=null,p=null,m=this.plotArea,g=0,f=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,p=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(f)||(f=.3*Math.abs(t.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:.7*m.width*(t.axisX.logarithmic?Math.log(f)/Math.log(t.axisX.range):Math.abs(f)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&h>p&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,p)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&p<h&&(p=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),f<h&&(f=h),f>p&&(f=p),n.save(),H&&i.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),H&&(i.beginPath(),i.rect(m.x1,m.y1,m.width,m.height),i.clip());for(var b=0;b<t.dataSeriesIndexes.length;b++){var v=t.dataSeriesIndexes[b],y=this.data[v],w=y.dataPoints;if(0<w.length){var x=!!(5<f&&y.bevelEnabled);for(g=0;g<w.length;g++)if(!((u=w[g].getTime?w[g].x.getTime():w[g].x)<t.axisX.dataInfo.viewPortMin||u>t.axisX.dataInfo.viewPortMax)&&!d(w[g].y)&&w[g].y.length&&"number"==typeof w[g].y[0]&&"number"==typeof w[g].y[1]&&"number"==typeof w[g].y[2]&&"number"==typeof w[g].y[3]){l=t.axisX.convertValueToPixel(u),s=t.axisY.convertValueToPixel(w[g].y[0]),r=t.axisY.convertValueToPixel(w[g].y[1]),o=t.axisY.convertValueToPixel(w[g].y[2]),a=t.axisY.convertValueToPixel(w[g].y[3]);var k=l-f/2<<0,_=k+f<<0,C=(p=y.options.fallingColor?y.fallingColor:y._colorSet[0],h=w[g].color?w[g].color:y._colorSet[0],Math.round(Math.max(1,.15*f))),T=0==C%2?0:.5,S=y.dataPointIds[g];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:g,x1:k,y1:s,x2:_,y2:r,x3:l,y3:o,x4:l,y4:a,borderThickness:C,color:h},n.strokeStyle=h,n.beginPath(),n.lineWidth=C,i.lineWidth=Math.max(C,4),"candlestick"===y.type?(n.moveTo(l-T,r),n.lineTo(l-T,Math.min(s,a)),n.stroke(),n.moveTo(l-T,Math.max(s,a)),n.lineTo(l-T,o),n.stroke(),ht(n,k,Math.min(s,a),_,Math.max(s,a),w[g].y[0]<=w[g].y[3]?y.risingColor:p,C,h,x,x,!1,!1,y.fillOpacity),H&&(h=c(S),i.strokeStyle=h,i.moveTo(l-T,r),i.lineTo(l-T,Math.min(s,a)),i.stroke(),i.moveTo(l-T,Math.max(s,a)),i.lineTo(l-T,o),i.stroke(),ht(i,k,Math.min(s,a),_,Math.max(s,a),h,0,null,!1,!1,!1,!1))):"ohlc"===y.type&&(n.moveTo(l-T,r),n.lineTo(l-T,o),n.stroke(),n.beginPath(),n.moveTo(l,s),n.lineTo(k,s),n.stroke(),n.beginPath(),n.moveTo(l,a),n.lineTo(_,a),n.stroke(),H&&(h=c(S),i.strokeStyle=h,i.moveTo(l-T,r),i.lineTo(l-T,o),i.stroke(),i.beginPath(),i.moveTo(l,s),i.lineTo(k,s),i.stroke(),i.beginPath(),i.moveTo(l,a),i.lineTo(_,a),i.stroke())),(w[g].indexLabel||y.indexLabel||w[g].indexLabelFormatter||y.indexLabelFormatter)&&this._indexLabels.push({chartType:y.type,dataPoint:w[g],dataSeries:y,point:{x:k+(_-k)/2,y:t.axisY.reversed?o:r},direction:1,bounds:{x1:k,y1:Math.min(r,o),x2:_,y2:Math.max(r,o)},color:h})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),i.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderBoxAndWhisker=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e,i=this._eventManager.ghostCtx;if(!(0>=t.dataSeriesIndexes.length)){var l,s,r,o,a,u,h,p=null,m=this.plotArea,g=0,b=(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,t.axisX.dataInfo.minDiff);isFinite(b)||(b=.3*Math.abs(t.axisX.range)),b=this.options.dataPointWidth?this.dataPointWidth:.7*m.width*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))<<0,this.dataPointMaxWidth&&p>g&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<p&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),b<p&&(b=p),b>g&&(b=g),n.save(),H&&i.save(),n.beginPath(),n.rect(m.x1,m.y1,m.width,m.height),n.clip(),H&&(i.beginPath(),i.rect(m.x1,m.y1,m.width,m.height),i.clip());for(var v=!!t.axisY.reversed,y=0;y<t.dataSeriesIndexes.length;y++){var w=t.dataSeriesIndexes[y],x=this.data[w],k=x.dataPoints;if(0<k.length){var _=!!(5<b&&x.bevelEnabled);for(g=0;g<k.length;g++)if(!((h=k[g].getTime?k[g].x.getTime():k[g].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(k[g].y)&&k[g].y.length&&"number"==typeof k[g].y[0]&&"number"==typeof k[g].y[1]&&"number"==typeof k[g].y[2]&&"number"==typeof k[g].y[3]&&"number"==typeof k[g].y[4]&&5===k[g].y.length){l=t.axisX.convertValueToPixel(h),s=t.axisY.convertValueToPixel(k[g].y[0]),r=t.axisY.convertValueToPixel(k[g].y[1]),o=t.axisY.convertValueToPixel(k[g].y[2]),a=t.axisY.convertValueToPixel(k[g].y[3]),u=t.axisY.convertValueToPixel(k[g].y[4]);var C=l-b/2<<0,T=l+b/2<<0,S=(p=k[g].color?k[g].color:x._colorSet[0],Math.round(Math.max(1,.15*b))),M=0==S%2?0:.5,P=k[g].whiskerColor?k[g].whiskerColor:k[g].color?x.whiskerColor?x.whiskerColor:k[g].color:x.whiskerColor?x.whiskerColor:p,A="number"==typeof k[g].whiskerThickness?k[g].whiskerThickness:"number"==typeof x.options.whiskerThickness?x.whiskerThickness:S,E=k[g].whiskerDashType?k[g].whiskerDashType:x.whiskerDashType,I="number"==typeof(I=d(k[g].whiskerLength)?d(x.options.whiskerLength)?b:x.whiskerLength:k[g].whiskerLength)?0>=I?0:I>=b?b:I:"string"==typeof I?parseInt(I)*b/100>b?b:parseInt(I)*b/100:b,D=1==Math.round(A)%2?.5:0,O=k[g].stemColor?k[g].stemColor:k[g].color?x.stemColor?x.stemColor:k[g].color:x.stemColor?x.stemColor:p,F="number"==typeof k[g].stemThickness?k[g].stemThickness:"number"==typeof x.options.stemThickness?x.stemThickness:S,N=1==Math.round(F)%2?.5:0,R=k[g].stemDashType?k[g].stemDashType:x.stemDashType,L=k[g].lineColor?k[g].lineColor:k[g].color?x.lineColor?x.lineColor:k[g].color:x.lineColor?x.lineColor:p,B="number"==typeof k[g].lineThickness?k[g].lineThickness:"number"==typeof x.options.lineThickness?x.lineThickness:S,V=k[g].lineDashType?k[g].lineDashType:x.lineDashType,z=1==Math.round(B)%2?.5:0,j=x.upperBoxColor,W=x.lowerBoxColor,U=d(x.options.fillOpacity)?1:x.fillOpacity,$=x.dataPointIds[g];this._eventManager.objectMap[$]={id:$,objectType:"dataPoint",dataSeriesIndex:w,dataPointIndex:g,x1:C,y1:s,x2:T,y2:r,x3:l,y3:o,x4:l,y4:a,y5:u,borderThickness:S,color:p,stemThickness:F,stemColor:O,whiskerThickness:A,whiskerLength:I,whiskerColor:P,lineThickness:B,lineColor:L},n.save(),0<F&&(n.beginPath(),n.strokeStyle=O,n.lineWidth=F,n.setLineDash&&n.setLineDash(f(R,F)),n.moveTo(l-N,r),n.lineTo(l-N,s),n.stroke(),n.moveTo(l-N,a),n.lineTo(l-N,o),n.stroke()),n.restore(),i.lineWidth=Math.max(S,4),n.beginPath(),ht(n,C,Math.min(u,r),T,Math.max(r,u),W,0,p,!!v&&_,!v&&_,!1,!1,U),n.beginPath(),ht(n,C,Math.min(o,u),T,Math.max(u,o),j,0,p,!v&&_,!!v&&_,!1,!1,U),n.beginPath(),n.lineWidth=S,n.strokeStyle=p,n.rect(C-M,Math.min(r,o)-M,T-C+2*M,Math.max(r,o)-Math.min(r,o)+2*M),n.stroke(),n.save(),0<B&&(n.beginPath(),n.globalAlpha=1,n.setLineDash&&n.setLineDash(f(V,B)),n.strokeStyle=L,n.lineWidth=B,n.moveTo(C,u-z),n.lineTo(T,u-z),n.stroke()),n.restore(),n.save(),0<A&&(n.beginPath(),n.setLineDash&&n.setLineDash(f(E,A)),n.strokeStyle=P,n.lineWidth=A,n.moveTo(l-I/2<<0,a-D),n.lineTo(l+I/2<<0,a-D),n.stroke(),n.moveTo(l-I/2<<0,s+D),n.lineTo(l+I/2<<0,s+D),n.stroke()),n.restore(),H&&(p=c($),i.strokeStyle=p,i.lineWidth=F,0<F&&(i.moveTo(l-M-N,r),i.lineTo(l-M-N,Math.max(s,a)),i.stroke(),i.moveTo(l-M-N,Math.min(s,a)),i.lineTo(l-M-N,o),i.stroke()),ht(i,C,Math.max(r,o),T,Math.min(r,o),p,0,null,!1,!1,!1,!1),0<A&&(i.beginPath(),i.lineWidth=A,i.moveTo(l+I/2,a-D),i.lineTo(l-I/2,a-D),i.stroke(),i.moveTo(l+I/2,s+D),i.lineTo(l-I/2,s+D),i.stroke())),(k[g].indexLabel||x.indexLabel||k[g].indexLabelFormatter||x.indexLabelFormatter)&&this._indexLabels.push({chartType:x.type,dataPoint:k[g],dataSeries:x,point:{x:C+(T-C)/2,y:t.axisY.reversed?s:a},direction:1,bounds:{x1:C,y1:Math.min(s,a),x2:T,y2:Math.max(s,a)},color:p})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(m.x1,m.y1,m.width,m.height),i.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeColumn=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s,r=null,o=this.plotArea,a=0;a=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=t.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(t.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:o.width*(t.axisX.logarithmic?Math.log(u)/Math.log(t.axisX.range):Math.abs(u)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&a>i&&(a=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<a&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,a)),u<a&&(u=a),u>i&&(u=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var h=0;h<t.dataSeriesIndexes.length;h++){var p=t.dataSeriesIndexes[h],m=this.data[p],g=m.dataPoints;if(0<g.length){var f=!!(5<u&&m.bevelEnabled);for(a=0;a<g.length;a++)if(!((s=g[a].getTime?g[a].x.getTime():g[a].x)<t.axisX.dataInfo.viewPortMin||s>t.axisX.dataInfo.viewPortMax)&&!d(g[a].y)&&g[a].y.length&&"number"==typeof g[a].y[0]&&"number"==typeof g[a].y[1]){r=t.axisX.convertValueToPixel(s),i=t.axisY.convertValueToPixel(g[a].y[0]),l=t.axisY.convertValueToPixel(g[a].y[1]);var b=t.axisX.reversed?r+t.plotType.totalDataSeries*u/2-(t.previousDataSeriesCount+h)*u<<0:r-t.plotType.totalDataSeries*u/2+(t.previousDataSeriesCount+h)*u<<0,v=t.axisX.reversed?b-u<<0:b+u<<0;if(r=g[a].color?g[a].color:m._colorSet[a%m._colorSet.length],i>l){var y=i;i=l,l=y}this._eventManager.objectMap[y=m.dataPointIds[a]]={id:y,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:a,x1:b,y1:i,x2:v,y2:l},ht(n,b,i,v,l,r,0,r,f,f,!1,!1,m.fillOpacity),r=c(y),H&&ht(this._eventManager.ghostCtx,b,i,v,l,r,0,null,!1,!1,!1,!1),(g[a].indexLabel||m.indexLabel||g[a].indexLabelFormatter||m.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:g[a],dataSeries:m,indexKeyword:0,point:{x:b+(v-b)/2,y:g[a].y[1]>=g[a].y[0]?l:i},direction:g[a].y[1]>=g[a].y[0]?-1:1,bounds:{x1:b,y1:Math.min(i,l),x2:v,y2:Math.max(i,l)},color:r}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:g[a],dataSeries:m,indexKeyword:1,point:{x:b+(v-b)/2,y:g[a].y[1]>=g[a].y[0]?i:l},direction:g[a].y[1]>=g[a].y[0]?1:-1,bounds:{x1:b,y1:Math.min(i,l),x2:v,y2:Math.max(i,l)},color:r}))}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderError=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e,i=!!t.axisY._position&&"left"!==t.axisY._position&&"right"!==t.axisY._position;if(!(0>=t.dataSeriesIndexes.length)){var l,r,o,a,u,c,h,p=null,m=!1,g=this.plotArea,f=0,b=t.axisX.dataInfo.minDiff;isFinite(b)||(b=.3*Math.abs(t.axisX.range)),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(g.x1,g.y1,g.width,g.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.clip());for(var v=0,y=0;y<this.data.length;y++)!this.data[y].type.match(/(bar|column)/gi)||!this.data[y].visible||this.data[y].type.match(/(stacked)/gi)&&v||v++;for(var w=0;w<t.dataSeriesIndexes.length;w++){var x=t.dataSeriesIndexes[w],k=this.data[x],_=k.dataPoints,C=!d(k._linkedSeries)&&!(!k._linkedSeries.type.match(/(bar|column)/gi)||!k._linkedSeries.visible),T=0;if(C)for(p=k._linkedSeries.id,y=0;y<p;y++)!this.data[y].type.match(/(bar|column)/gi)||!this.data[y].visible||this.data[y].type.match(/(stacked)/gi)&&T||(this.data[y].type.match(/(range)/gi)&&(m=!0),T++);if(p=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(C?v:1)*.9)<<0:.3*this.width,m&&(f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(C?v:1)*.9)<<0:.03*this.width),y=this.options.dataPointWidth?this.dataPointWidth:(i?g.height:g.width)*(t.axisX.logarithmic?Math.log(b)/Math.log(t.axisX.range):Math.abs(b)/Math.abs(t.axisX.range))/(C?v:1)*.9<<0,this.dataPointMaxWidth&&p>f&&(p=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<p&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,p)),y<p&&(y=p),y>f&&(y=f),0<_.length){var S=k._colorSet;for(f=0;f<_.length;f++){p=k.lineColor=k.options.color?k.options.color:S[0];var M={color:_[f].whiskerColor?_[f].whiskerColor:_[f].color?k.whiskerColor?k.whiskerColor:_[f].color:k.whiskerColor?k.whiskerColor:p,thickness:d(_[f].whiskerThickness)?k.whiskerThickness:_[f].whiskerThickness,dashType:_[f].whiskerDashType?_[f].whiskerDashType:k.whiskerDashType,length:d(_[f].whiskerLength)?d(k.options.whiskerLength)?y:k.options.whiskerLength:_[f].whiskerLength,trimLength:d(_[f].whiskerLength)&&d(k.options.whiskerLength)?50:0};M.length="number"==typeof M.length?0>=M.length?0:M.length>=y?y:M.length:"string"==typeof M.length?parseInt(M.length)*y/100>y?y:parseInt(M.length)*y/100>y:y,M.thickness="number"==typeof M.thickness?0>M.thickness?0:Math.round(M.thickness):2;var P={color:_[f].stemColor?_[f].stemColor:_[f].color?k.stemColor?k.stemColor:_[f].color:k.stemColor?k.stemColor:p,thickness:_[f].stemThickness?_[f].stemThickness:k.stemThickness,dashType:_[f].stemDashType?_[f].stemDashType:k.stemDashType};if(P.thickness="number"==typeof P.thickness?0>P.thickness?0:Math.round(P.thickness):2,!((h=_[f].getTime?_[f].x.getTime():_[f].x)<t.axisX.dataInfo.viewPortMin||h>t.axisX.dataInfo.viewPortMax)&&!d(_[f].y)&&_[f].y.length&&"number"==typeof _[f].y[0]&&"number"==typeof _[f].y[1]){var A=t.axisX.convertValueToPixel(h);i?r=A:l=A,A=t.axisY.convertValueToPixel(_[f].y[0]),i?o=A:u=A,A=t.axisY.convertValueToPixel(_[f].y[1]),i?a=A:c=A,i?(u=t.axisX.reversed?r+(C?v:1)*y/2-(C?T-1:0)*y<<0:r-(C?v:1)*y/2+(C?T-1:0)*y<<0,c=t.axisX.reversed?u-y<<0:u+y<<0):(o=t.axisX.reversed?l+(C?v:1)*y/2-(C?T-1:0)*y<<0:l-(C?v:1)*y/2+(C?T-1:0)*y<<0,a=t.axisX.reversed?o-y<<0:o+y<<0),!i&&u>c&&(A=u,u=c,c=A),i&&o>a&&(A=o,o=a,a=A),this._eventManager.objectMap[A=k.dataPointIds[f]]={id:A,objectType:"dataPoint",dataSeriesIndex:x,dataPointIndex:f,x1:Math.min(o,a),y1:Math.min(u,c),x2:Math.max(a,o),y2:Math.max(c,u),isXYSwapped:i,stemProperties:P,whiskerProperties:M},s(n,Math.min(o,a),Math.min(u,c),Math.max(a,o),Math.max(c,u),p,M,P,i),H&&s(this._eventManager.ghostCtx,o,u,a,c,p,M,P,i),(_[f].indexLabel||k.indexLabel||_[f].indexLabelFormatter||k.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:_[f],dataSeries:k,indexKeyword:0,point:{x:i?_[f].y[1]>=_[f].y[0]?o:a:o+(a-o)/2,y:i?u+(c-u)/2:_[f].y[1]>=_[f].y[0]?c:u},direction:_[f].y[1]>=_[f].y[0]?-1:1,bounds:{x1:i?Math.min(o,a):o,y1:i?u:Math.min(u,c),x2:i?Math.max(o,a):a,y2:i?c:Math.max(u,c)},color:p,axisSwapped:i}),this._indexLabels.push({chartType:"error",dataPoint:_[f],dataSeries:k,indexKeyword:1,point:{x:i?_[f].y[1]>=_[f].y[0]?a:o:o+(a-o)/2,y:i?u+(c-u)/2:_[f].y[1]>=_[f].y[0]?u:c},direction:_[f].y[1]>=_[f].y[0]?1:-1,bounds:{x1:i?Math.min(o,a):o,y1:i?u:Math.min(u,c),x2:i?Math.max(o,a):a,y2:i?c:Math.max(u,c)},color:p,axisSwapped:i}))}}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(g.x1,g.y1,g.width,g.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeBar=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s,r,o=null,a=this.plotArea,u=0;u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/t.plotType.totalDataSeries*.9)<<0;var h=t.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(t.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:a.height*(t.axisX.logarithmic?Math.log(h)/Math.log(t.axisX.range):Math.abs(h)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&u>i&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<u&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>i&&(h=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var p=0;p<t.dataSeriesIndexes.length;p++){var m=t.dataSeriesIndexes[p],g=this.data[m],f=g.dataPoints;if(0<f.length){var b=!!(5<h&&g.bevelEnabled);for(n.strokeStyle="#4572A7 ",u=0;u<f.length;u++)if(!((r=f[u].getTime?f[u].x.getTime():f[u].x)<t.axisX.dataInfo.viewPortMin||r>t.axisX.dataInfo.viewPortMax)&&!d(f[u].y)&&f[u].y.length&&"number"==typeof f[u].y[0]&&"number"==typeof f[u].y[1]){i=t.axisY.convertValueToPixel(f[u].y[0]),l=t.axisY.convertValueToPixel(f[u].y[1]),s=t.axisX.convertValueToPixel(r),s=t.axisX.reversed?s+t.plotType.totalDataSeries*h/2-(t.previousDataSeriesCount+p)*h<<0:s-t.plotType.totalDataSeries*h/2+(t.previousDataSeriesCount+p)*h<<0;var v=t.axisX.reversed?s-h<<0:s+h<<0;i>l&&(o=i,i=l,l=o),ht(n,i,s,l,v,o=f[u].color?f[u].color:g._colorSet[u%g._colorSet.length],0,null,b,!1,!1,!1,g.fillOpacity),this._eventManager.objectMap[o=g.dataPointIds[u]]={id:o,objectType:"dataPoint",dataSeriesIndex:m,dataPointIndex:u,x1:i,y1:s,x2:l,y2:v},o=c(o),H&&ht(this._eventManager.ghostCtx,i,s,l,v,o,0,null,!1,!1,!1,!1),(f[u].indexLabel||g.indexLabel||f[u].indexLabelFormatter||g.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:f[u],dataSeries:g,indexKeyword:0,point:{x:f[u].y[1]>=f[u].y[0]?i:l,y:s+(v-s)/2},direction:f[u].y[1]>=f[u].y[0]?-1:1,bounds:{x1:Math.min(i,l),y1:s,x2:Math.max(i,l),y2:v},color:o}),this._indexLabels.push({chartType:"rangeBar",dataPoint:f[u],dataSeries:g,indexKeyword:1,point:{x:f[u].y[1]>=f[u].y[0]?l:i,y:s+(v-s)/2},direction:f[u].y[1]>=f[u].y[0]?1:-1,bounds:{x1:Math.min(i,l),y1:s,x2:Math.max(i,l),y2:v},color:o}))}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},e.prototype.renderRangeArea=function(t){function e(){if(w){var t=null;0<h.lineThickness&&i.stroke();for(var e=a.length-1;0<=e;e--)i.lineTo((t=a[e]).x,t.y),l.lineTo(t.x,t.y);if(i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,l.fill(),0<h.lineThickness){for(i.beginPath(),i.moveTo(t.x,t.y),e=0;e<a.length;e++)i.lineTo((t=a[e]).x,t.y);i.stroke()}i.beginPath(),i.moveTo(p,m),l.beginPath(),l.moveTo(p,m),w={x:p,y:m},(a=[]).push({x:p,y:g})}}var n=t.targetCanvasCtx||this.plotArea.ctx,i=H?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,s=[],r=this.plotArea;i.save(),H&&l.save(),i.beginPath(),i.rect(r.x1,r.y1,r.width,r.height),i.clip(),H&&(l.beginPath(),l.rect(r.x1,r.y1,r.width,r.height),l.clip());for(var o=0;o<t.dataSeriesIndexes.length;o++){var a=[],u=t.dataSeriesIndexes[o],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[s=h.id]={objectType:"dataSeries",dataSeriesIndex:u},s=c(s),l.fillStyle=s,s=[];var p,m,g,b,v=!0,y=0,w=null;if(0<d.length){var x=h._colorSet[y%h._colorSet.length],k=h.lineColor=h.options.lineColor||x,_=k;i.fillStyle=x,i.strokeStyle=k,i.lineWidth=h.lineThickness;var C="solid";if(i.setLineDash){var T=f(h.nullDataLineDashType,h.lineThickness),S=f(C=h.lineDashType,h.lineThickness);i.setLineDash(S)}for(var M=!0;y<d.length;y++)if(!((b=d[y].x.getTime?d[y].x.getTime():d[y].x)<t.axisX.dataInfo.viewPortMin||b>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!M)))if(null!==d[y].y&&d[y].y.length&&"number"==typeof d[y].y[0]&&"number"==typeof d[y].y[1]){if(p=t.axisX.convertValueToPixel(b),m=t.axisY.convertValueToPixel(d[y].y[0]),g=t.axisY.convertValueToPixel(d[y].y[1]),v||M?(h.connectNullData&&!v?(i.setLineDash&&(h.options.nullDataLineDashType||C===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(a[a.length-1].newLineDashArray=S,C=h.nullDataLineDashType,i.setLineDash(T)),i.lineTo(p,m),H&&l.lineTo(p,m),a.push({x:p,y:g})):(i.beginPath(),i.moveTo(p,m),w={x:p,y:m},(a=[]).push({x:p,y:g}),H&&(l.beginPath(),l.moveTo(p,m))),M=v=!1):(i.lineTo(p,m),a.push({x:p,y:g}),H&&l.lineTo(p,m),0==y%250&&e()),this._eventManager.objectMap[b=h.dataPointIds[y]]={id:b,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:y,x1:p,y1:m,y2:g},y<d.length-1&&(_!==(d[y].lineColor||k)||C!==(d[y].lineDashType||h.lineDashType))&&(e(),a[a.length-1].newStrokeStyle=_=d[y].lineColor||k,i.strokeStyle=_,i.setLineDash&&(d[y].lineDashType?(a[a.length-1].newLineDashArray=f(C=d[y].lineDashType,h.lineThickness),i.setLineDash(a[a.length-1].newLineDashArray)):(C=h.lineDashType,a[a.length-1].newLineDashArray=S,i.setLineDash(S)))),0!==d[y].markerSize&&(0<d[y].markerSize||0<h.markerSize)){var P=h.getMarkerProperties(y,p,g,i);s.push(P);var A=c(b);H&&s.push({x:p,y:g,ctx:l,type:P.type,size:P.size,color:A,borderColor:A,borderThickness:P.borderThickness}),P=h.getMarkerProperties(y,p,m,i),s.push(P),A=c(b),H&&s.push({x:p,y:m,ctx:l,type:P.type,size:P.size,color:A,borderColor:A,borderThickness:P.borderThickness})}(d[y].indexLabel||h.indexLabel||d[y].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[y],dataSeries:h,indexKeyword:0,point:{x:p,y:m},direction:d[y].y[0]>d[y].y[1]===t.axisY.reversed?-1:1,color:x}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[y],dataSeries:h,indexKeyword:1,point:{x:p,y:g},direction:d[y].y[0]>d[y].y[1]===t.axisY.reversed?1:-1,color:x}))}else M||v||e(),M=!0;e(),tt.drawMarkers(s)}}return H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&i.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&i.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderRangeSplineArea=function(t){function e(t,e){var n=i(v,2);if(0<n.length){if(0<h.lineThickness){l.strokeStyle=e,l.setLineDash&&l.setLineDash(t),l.beginPath(),l.moveTo(n[0].x,n[0].y);for(var r=0;r<n.length-3;r+=3)(n[r].newStrokeStyle||n[r].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(n[r].x,n[r].y),n[r].newStrokeStyle&&(l.strokeStyle=n[r].newStrokeStyle),n[r].newLineDashArray&&l.setLineDash(n[r].newLineDashArray)),l.bezierCurveTo(n[r+1].x,n[r+1].y,n[r+2].x,n[r+2].y,n[r+3].x,n[r+3].y);l.stroke()}for(l.beginPath(),l.moveTo(n[0].x,n[0].y),H&&(s.beginPath(),s.moveTo(n[0].x,n[0].y)),r=0;r<n.length-3;r+=3)l.bezierCurveTo(n[r+1].x,n[r+1].y,n[r+2].x,n[r+2].y,n[r+3].x,n[r+3].y),H&&s.bezierCurveTo(n[r+1].x,n[r+1].y,n[r+2].x,n[r+2].y,n[r+3].x,n[r+3].y);for(n=i(y,2),l.lineTo(y[y.length-1].x,y[y.length-1].y),r=n.length-1;2<r;r-=3)l.bezierCurveTo(n[r-1].x,n[r-1].y,n[r-2].x,n[r-2].y,n[r-3].x,n[r-3].y),H&&s.bezierCurveTo(n[r-1].x,n[r-1].y,n[r-2].x,n[r-2].y,n[r-3].x,n[r-3].y);if(l.closePath(),l.globalAlpha=h.fillOpacity,l.fill(),H&&(s.closePath(),s.fill()),l.globalAlpha=1,0<h.lineThickness){l.strokeStyle=e,l.setLineDash&&l.setLineDash(t),l.beginPath(),l.moveTo(n[0].x,n[0].y);for(var o=r=0;r<n.length-3;r+=3,o++)(v[o].newStrokeStyle||v[o].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(n[r].x,n[r].y),v[o].newStrokeStyle&&(l.strokeStyle=v[o].newStrokeStyle),v[o].newLineDashArray&&l.setLineDash(v[o].newLineDashArray)),l.bezierCurveTo(n[r+1].x,n[r+1].y,n[r+2].x,n[r+2].y,n[r+3].x,n[r+3].y);l.stroke()}l.beginPath()}}var n=t.targetCanvasCtx||this.plotArea.ctx,l=H?this._preRenderCtx:n;if(!(0>=t.dataSeriesIndexes.length)){var s=this._eventManager.ghostCtx,r=[],o=this.plotArea;l.save(),H&&s.save(),l.beginPath(),l.rect(o.x1,o.y1,o.width,o.height),l.clip(),H&&(s.beginPath(),s.rect(o.x1,o.y1,o.width,o.height),s.clip());for(var a=0;a<t.dataSeriesIndexes.length;a++){var u=t.dataSeriesIndexes[a],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[r=h.id]={objectType:"dataSeries",dataSeriesIndex:u},r=c(r),s.fillStyle=r,r=[];var p,m,g,b=0,v=[],y=[];if(0<d.length){var w=h._colorSet[b%h._colorSet.length],x=h.lineColor=h.options.lineColor||w,k=x;l.fillStyle=w,l.lineWidth=h.lineThickness;var _,C="solid";if(l.setLineDash){var T=f(h.nullDataLineDashType,h.lineThickness);_=f(C=h.lineDashType,h.lineThickness)}for(m=!1;b<d.length;b++)if(!((p=d[b].x.getTime?d[b].x.getTime():d[b].x)<t.axisX.dataInfo.viewPortMin||p>t.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!m)))if(null!==d[b].y&&d[b].y.length&&"number"==typeof d[b].y[0]&&"number"==typeof d[b].y[1]){p=t.axisX.convertValueToPixel(p),m=t.axisY.convertValueToPixel(d[b].y[0]),g=t.axisY.convertValueToPixel(d[b].y[1]);var S=h.dataPointIds[b];if(this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:p,y1:m,y2:g},v[v.length]={x:p,y:m},y[y.length]={x:p,y:g},b<d.length-1&&(k!==(d[b].lineColor||x)||C!==(d[b].lineDashType||h.lineDashType))&&(v[v.length-1].newStrokeStyle=k=d[b].lineColor||x,l.setLineDash&&(d[b].lineDashType?v[v.length-1].newLineDashArray=f(C=d[b].lineDashType,h.lineThickness):(C=h.lineDashType,v[v.length-1].newLineDashArray=_))),0!==d[b].markerSize&&(0<d[b].markerSize||0<h.markerSize)){var M=h.getMarkerProperties(b,p,m,l);r.push(M);var P=c(S);H&&r.push({x:p,y:m,ctx:s,type:M.type,size:M.size,color:P,borderColor:P,borderThickness:M.borderThickness}),M=h.getMarkerProperties(b,p,g,l),r.push(M),P=c(S),H&&r.push({x:p,y:g,ctx:s,type:M.type,size:M.size,color:P,borderColor:P,borderThickness:M.borderThickness})}(d[b].indexLabel||h.indexLabel||d[b].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[b],dataSeries:h,indexKeyword:0,point:{x:p,y:m},direction:d[b].y[0]<=d[b].y[1]?-1:1,color:w}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[b],dataSeries:h,indexKeyword:1,point:{x:p,y:g},direction:d[b].y[0]<=d[b].y[1]?1:-1,color:w})),m=!1}else 0<b&&!m&&(h.connectNullData?l.setLineDash&&0<v.length&&(h.options.nullDataLineDashType||!d[b-1].lineDashType)&&(v[v.length-1].newLineDashArray=T,C=h.nullDataLineDashType):(e(_,x),v=[],y=[])),m=!0;e(_,x),tt.drawMarkers(r)}}return H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&l.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&l.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},e.prototype.renderWaterfall=function(t){var e=t.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:e;if(!(0>=t.dataSeriesIndexes.length)){var i,l,s,r,o=this._eventManager.ghostCtx,a=null,u=this.plotArea,h=0,d=t.axisY.convertValueToPixel(t.axisY.logarithmic?t.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/t.plotType.totalDataSeries*.9)<<0;var p=t.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(t.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:u.width*(t.axisX.logarithmic?Math.log(p)/Math.log(t.axisX.range):Math.abs(p)/Math.abs(t.axisX.range))/t.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&h>l&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<h&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),p<h&&(p=h),p>l&&(p=l),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.clip());for(var m=0;m<t.dataSeriesIndexes.length;m++){var g=t.dataSeriesIndexes[m],b=this.data[g],v=b.dataPoints;a=b._colorSet[0],b.risingColor=b.options.risingColor?b.options.risingColor:a,b.fallingColor=b.options.fallingColor?b.options.fallingColor:"#e40a0a";var y="number"==typeof b.options.lineThickness?Math.round(b.lineThickness):1,w=1==Math.round(y)%2?-.5:0;if(0<v.length){var x=!!(5<p&&b.bevelEnabled),k=!1,_=null,C=null;for(h=0;h<v.length;h++)if(r=v[h].getTime?v[h].x.getTime():v[h].x,"number"!=typeof v[h].y){if(0<h&&!k&&b.connectNullData)var T=b.options.nullDataLineDashType||!v[h-1].lineDashType?b.nullDataLineDashType:v[h-1].lineDashType;k=!0}else{i=t.axisX.convertValueToPixel(r),l=0===b.dataPointEOs[h].cumulativeSum?d:t.axisY.convertValueToPixel(b.dataPointEOs[h].cumulativeSum),s=0===b.dataPointEOs[h].cumulativeSumYStartValue?d:t.axisY.convertValueToPixel(b.dataPointEOs[h].cumulativeSumYStartValue),i=t.axisX.reversed?i+t.plotType.totalDataSeries*p/2-(t.previousDataSeriesCount+m)*p<<0:i-t.plotType.totalDataSeries*p/2+(t.previousDataSeriesCount+m)*p<<0;var S=t.axisX.reversed?i-p<<0:i+p<<0;l>s&&(a=l,l=s,s=a),t.axisY.reversed&&(a=l,l=s,s=a),this._eventManager.objectMap[a=b.dataPointIds[h]]={id:a,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:h,x1:i,y1:l,x2:S,y2:s},ht(n,i,l,S,s,P=v[h].color?v[h].color:0<v[h].y?b.risingColor:b.fallingColor,0,P,x,x,!1,!1,b.fillOpacity),a=c(a),H&&ht(this._eventManager.ghostCtx,i,l,S,s,a,0,null,!1,!1,!1,!1);var M,P=i;M=void 0!==v[h].isIntermediateSum&&!0===v[h].isIntermediateSum||void 0!==v[h].isCumulativeSum&&!0===v[h].isCumulativeSum?0<v[h].y?l:s:0<v[h].y?s:l,0<h&&_&&(!k||b.connectNullData)&&(k&&n.setLineDash&&n.setLineDash(f(T,y)),n.beginPath(),n.moveTo(_,C-w),n.lineTo(P,M-w),0<y&&n.stroke(),H&&(o.beginPath(),o.moveTo(_,C-w),o.lineTo(P,M-w),0<y&&o.stroke())),k=!1,_=S,C=0<v[h].y?l:s,P=v[h].lineDashType?v[h].lineDashType:b.options.lineDashType?b.options.lineDashType:"shortDash",n.strokeStyle=v[h].lineColor?v[h].lineColor:b.options.lineColor?b.options.lineColor:"#9e9e9e",n.lineWidth=y,n.setLineDash&&(P=f(P,y),n.setLineDash(P)),(v[h].indexLabel||b.indexLabel||v[h].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:v[h],dataSeries:b,point:{x:i+(S-i)/2,y:0<=v[h].y?l:s},direction:0>v[h].y===t.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(l,s),x2:S,y2:Math.max(l,s)},color:a})}}}return H&&(e.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",t.axisX.maskCanvas&&n.drawImage(t.axisX.maskCanvas,0,0,this.width,this.height),t.axisY.maskCanvas&&n.drawImage(t.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:e,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}};var X=function(t,e,n,i,l,s,r,o,a){if(!(0>n)){if(void 0===o&&(o=1),!H){var u=Number((r%(2*Math.PI)).toFixed(8));Number((s%(2*Math.PI)).toFixed(8))===u&&(r-=1e-4)}t.save(),t.globalAlpha=o,"pie"===l?(t.beginPath(),t.moveTo(e.x,e.y),t.arc(e.x,e.y,n,s,r,!1),t.fillStyle=i,t.strokeStyle="white",t.lineWidth=2,t.closePath(),t.fill()):"doughnut"===l&&(t.beginPath(),t.arc(e.x,e.y,n,s,r,!1),0<=a&&t.arc(e.x,e.y,a*n,r,s,!0),t.closePath(),t.fillStyle=i,t.strokeStyle="white",t.lineWidth=2,t.fill()),t.globalAlpha=1,t.restore()}};e.prototype.renderPie=function(t){function e(t){var e=o.plotArea.ctx;for(e.clearRect(m.x1,m.y1,m.width,m.height),e.fillStyle=o.backgroundColor,e.fillRect(m.x1,m.y1,m.width,m.height),e=0;e<c.length;e++){var n=g[e].startAngle,i=g[e].endAngle;if(i>n){var l=.07*C*Math.cos(g[e].midAngle),s=.07*C*Math.sin(g[e].midAngle),r=!1;c[e].exploded?(1e-9<Math.abs(g[e].center.x-(x.x+l))||1e-9<Math.abs(g[e].center.y-(x.y+s)))&&(g[e].center.x=x.x+l*t,g[e].center.y=x.y+s*t,r=!0):(0<Math.abs(g[e].center.x-x.x)||0<Math.abs(g[e].center.y-x.y))&&(g[e].center.x=x.x+l*(1-t),g[e].center.y=x.y+s*(1-t),r=!0),r&&((l={}).dataSeries=u,l.dataPoint=u.dataPoints[e],l.index=e,o.toolTip.highlightObjects([l])),X(o.plotArea.ctx,g[e].center,g[e].radius,c[e].color?c[e].color:u._colorSet[e%u._colorSet.length],u.type,n,i,u.fillOpacity,g[e].percentInnerRadius)}}for((t=o.plotArea.ctx).save(),t.fillStyle="black",t.strokeStyle="grey",t.textBaseline="middle",t.lineJoin="round",e=e=0;e<c.length;e++)(n=g[e]).indexLabelText&&(n.indexLabelTextBlock.y-=n.indexLabelTextBlock.height/2,i=0,n.indexLabelTextBlock.x+=i="left"===n.hemisphere?"inside"!==u.indexLabelPlacement?-(n.indexLabelTextBlock.width+p):-n.indexLabelTextBlock.width/2:"inside"!==u.indexLabelPlacement?p:-n.indexLabelTextBlock.width/2,n.indexLabelTextBlock.render(!0),n.indexLabelTextBlock.x-=i,n.indexLabelTextBlock.y+=n.indexLabelTextBlock.height/2,"inside"!==n.indexLabelPlacement&&0<n.indexLabelLineThickness&&(i=n.center.x+C*Math.cos(n.midAngle),l=n.center.y+C*Math.sin(n.midAngle),t.strokeStyle=n.indexLabelLineColor,t.lineWidth=n.indexLabelLineThickness,t.setLineDash&&t.setLineDash(f(n.indexLabelLineDashType,n.indexLabelLineThickness)),t.beginPath(),t.moveTo(i,l),t.lineTo(n.indexLabelTextBlock.x,n.indexLabelTextBlock.y),t.lineTo(n.indexLabelTextBlock.x+("left"===n.hemisphere?-p:p),n.indexLabelTextBlock.y),t.stroke()),t.lineJoin="miter");t.save()}function n(t,e){return e.indexLabelTextBlock.y>t.indexLabelTextBlock.y?e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2-(t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2):t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2-(e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2)}function i(t){for(var e=null,i=1;i<c.length;i++){if(g[e=(t+i+g.length)%g.length].hemisphere!==g[t].hemisphere){e=null;break}if(g[e].indexLabelText&&e!==t&&(0>n(g[e],g[t])||("right"===g[t].hemisphere?g[e].indexLabelTextBlock.y>=g[t].indexLabelTextBlock.y:g[e].indexLabelTextBlock.y<=g[t].indexLabelTextBlock.y)))break;e=null}return e}function l(t,e,s){if(1e3<(s=(s||0)+1))return 0;e=e||0;var r=0,o=x.y-1*a,u=x.y+1*a;if(0<=t&&t<c.length){var h=g[t];if(0>e&&h.indexLabelTextBlock.y<o||0<e&&h.indexLabelTextBlock.y>u)return 0;var d=0,p=0;for(p=d=d=0,0>e?h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2>o&&h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+e<o&&(e=-(o-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+e))):h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2<o&&h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+e>u&&(e=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+e-u),e=h.indexLabelTextBlock.y+e,o=0,o="right"===h.hemisphere?x.x+Math.sqrt(Math.pow(a,2)-Math.pow(e-x.y,2)):x.x-Math.sqrt(Math.pow(a,2)-Math.pow(e-x.y,2)),p=x.x+C*Math.cos(h.midAngle),d=x.y+C*Math.sin(h.midAngle),d=Math.sqrt(Math.pow(o-p,2)+Math.pow(e-d,2)),p=Math.acos(C/a),e=(d=Math.acos((a*a+C*C-d*d)/(2*C*a)))<p?e-h.indexLabelTextBlock.y:0,o=null,u=1;u<c.length;u++){if(g[o=(t-u+g.length)%g.length].hemisphere!==g[t].hemisphere){o=null;break}if(g[o].indexLabelText&&g[o].hemisphere===g[t].hemisphere&&o!==t&&(0>n(g[o],g[t])||("right"===g[t].hemisphere?g[o].indexLabelTextBlock.y<=g[t].indexLabelTextBlock.y:g[o].indexLabelTextBlock.y>=g[t].indexLabelTextBlock.y)))break;o=null}p=o,d=i(t),u=o=0,0>e?(r=e,null!==(u="right"===h.hemisphere?p:d)&&(p=-e,(e=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-(g[u].indexLabelTextBlock.y+g[u].indexLabelTextBlock.height/2))-p<b&&+(u=l(u,o=-p,s+1)).toFixed(w)>+o.toFixed(w)&&(r=e>b?-(e-b):-(p-(u-o))))):0<e&&(r=e,null!==(u="right"===h.hemisphere?d:p)&&(p=e,(e=g[u].indexLabelTextBlock.y-g[u].indexLabelTextBlock.height/2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2))-p<b&&+(u=l(u,o=p,s+1)).toFixed(w)<+o.toFixed(w)&&(r=e>b?e-b:p-(o-u)))),r&&(s=h.indexLabelTextBlock.y+r,e=0,e="right"===h.hemisphere?x.x+Math.sqrt(Math.pow(a,2)-Math.pow(s-x.y,2)):x.x-Math.sqrt(Math.pow(a,2)-Math.pow(s-x.y,2)),h.midAngle>Math.PI/2-y&&h.midAngle<Math.PI/2+y?(o=g[o=(t-1+g.length)%g.length],t=g[(t+1+g.length)%g.length],"left"===h.hemisphere&&"right"===o.hemisphere&&e>o.indexLabelTextBlock.x?e=o.indexLabelTextBlock.x-15:"right"===h.hemisphere&&"left"===t.hemisphere&&e<t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x+15)):h.midAngle>3*Math.PI/2-y&&h.midAngle<3*Math.PI/2+y&&(o=g[o=(t-1+g.length)%g.length],t=g[(t+1+g.length)%g.length],"right"===h.hemisphere&&"left"===o.hemisphere&&e<o.indexLabelTextBlock.x?e=o.indexLabelTextBlock.x+15:"left"===h.hemisphere&&"right"===t.hemisphere&&e>t.indexLabelTextBlock.x&&(e=t.indexLabelTextBlock.x-15)),h.indexLabelTextBlock.y=s,h.indexLabelTextBlock.x=e,h.indexLabelAngle=Math.atan2(h.indexLabelTextBlock.y-x.y,h.indexLabelTextBlock.x-x.x))}return r}function s(){(d=o.plotArea.ctx).fillStyle="grey",d.strokeStyle="grey",d.font="16px Arial",d.textBaseline="middle";var t=d=0,e=0,s=!0;for(t=0;10>t&&(1>t||0<e);t++){if((u.radius||!u.radius&&null!=u.innerRadius&&C-e<=T)&&(s=!1),s&&(C-=e),e=0,"inside"!==u.indexLabelPlacement){for(a=C*v,d=0;d<c.length;d++)(f=g[d]).indexLabelTextBlock.x=x.x+a*Math.cos(f.midAngle),f.indexLabelTextBlock.y=x.y+a*Math.sin(f.midAngle),f.indexLabelAngle=f.midAngle,f.radius=C,f.percentInnerRadius=S;for(var r,h,d=0;d<c.length;d++){var f=g[d],y=i(d);if(null!==y){var k=0;if(0>(k=n(r=g[d],h=g[y])-b)){for(var _=h=0,M=0;M<c.length;M++)M!==d&&g[M].hemisphere===f.hemisphere&&(g[M].indexLabelTextBlock.y<f.indexLabelTextBlock.y?h++:_++);_=-1*(k-(h=k/(h+_||1)*_));var P=M=0;"right"===f.hemisphere?(M=l(d,h),+(P=l(y,_=-1*(k-M))).toFixed(w)<+_.toFixed(w)&&+M.toFixed(w)<=+h.toFixed(w)&&l(d,-(_-P))):(M=l(y,h),+(P=l(d,_=-1*(k-M))).toFixed(w)<+_.toFixed(w)&&+M.toFixed(w)<=+h.toFixed(w)&&l(y,-(_-P)))}}}}else for(d=0;d<c.length;d++)f=g[d],y=x.x+(a="pie"===u.type?.7*C:.8*C)*Math.cos(f.midAngle),h=x.y+a*Math.sin(f.midAngle),f.indexLabelTextBlock.x=y,f.indexLabelTextBlock.y=h;for(d=0;d<c.length;d++)0!==(y=(f=g[d]).indexLabelTextBlock.measureText()).height&&0!==y.width&&(y=y=0,"right"===f.hemisphere?(y=m.x2-(f.indexLabelTextBlock.x+f.indexLabelTextBlock.width+p),y*=-1):y=m.x1-(f.indexLabelTextBlock.x-f.indexLabelTextBlock.width-p),0<y&&(!s&&f.indexLabelText&&(.3*f.indexLabelTextBlock.maxWidth>(h="right"===f.hemisphere?m.x2-f.indexLabelTextBlock.x:f.indexLabelTextBlock.x-m.x1)?f.indexLabelText="":f.indexLabelTextBlock.maxWidth=.85*h,.3*f.indexLabelTextBlock.maxWidth<h&&(f.indexLabelTextBlock.x-="right"===f.hemisphere?2:-2)),Math.abs(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2-x.y)<C||Math.abs(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2-x.y)<C)&&(9<(y/=Math.abs(Math.cos(f.indexLabelAngle)))&&(y*=.3),y>e&&(e=y)),y=y=0,0<f.indexLabelAngle&&f.indexLabelAngle<Math.PI?(y=m.y2-(f.indexLabelTextBlock.y+f.indexLabelTextBlock.height/2+5),y*=-1):y=m.y1-(f.indexLabelTextBlock.y-f.indexLabelTextBlock.height/2-5),0<y&&(!s&&f.indexLabelText&&0===l(d,y*(h=0<f.indexLabelAngle&&f.indexLabelAngle<Math.PI?-1:1))&&l(d,2*h),Math.abs(f.indexLabelTextBlock.x-x.x)<C&&(9<(y/=Math.abs(Math.sin(f.indexLabelAngle)))&&(y*=.3),y>e&&(e=y))));var A=function(t,e,n){for(var i=[],l=0;i.push(g[e]),e!==n;e=(e+1+c.length)%c.length);for(i.sort((function(t,e){return t.y-e.y})),e=0;e<i.length&&(n=i[e],l<.7*t);e++)l+=n.indexLabelTextBlock.height,n.indexLabelTextBlock.text="",n.indexLabelText="",n.indexLabelTextBlock.measureText()};!function(){for(var t=-1,e=-1,l=0,s=!1,o=0;o<c.length;o++)if(s=!1,(r=g[o]).indexLabelText){var a=i(o);if(null!==a){var u,h=g[a];k=0,(u=0>(k=n(r,h)))&&(u=r.indexLabelTextBlock.x,u=!(r.indexLabelTextBlock.x+r.indexLabelTextBlock.width<h.indexLabelTextBlock.x-p||u>h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+p||r.indexLabelTextBlock.y-r.indexLabelTextBlock.height/2>h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+p||r.indexLabelTextBlock.y+r.indexLabelTextBlock.height/2<h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-p)),u?(0>t&&(t=o),a!==t&&(e=a,l+=-k),0==o%Math.max(c.length/10,3)&&(s=!0)):s=!0,s&&0<l&&0<=t&&0<=e&&(A(l,t,e),e=t=-1,l=0)}}0<l&&A(l,t,e)}()}}function r(){if(o.plotArea.layoutManager.reset(),o.title&&(o.title.dockInsidePlotArea||"center"===o.title.horizontalAlign&&"center"===o.title.verticalAlign)&&o.title.render(),o.subtitles)for(var t=0;t<o.subtitles.length;t++){var e=o.subtitles[t];(e.dockInsidePlotArea||"center"===e.horizontalAlign&&"center"===e.verticalAlign)&&e.render()}o.legend&&(o.legend.dockInsidePlotArea||"center"===o.legend.horizontalAlign&&"center"===o.legend.verticalAlign)&&(o.legend.setLayout(),o.legend.render())}var o=this;if(!(0>=t.dataSeriesIndexes.length)){var a,u=this.data[t.dataSeriesIndexes[0]],c=u.dataPoints,p=10,m=this.plotArea,g=u.dataPointEOs,b=2,v=1.3,y=20/180*Math.PI,w=6,x={x:(m.x2+m.x1)/2,y:(m.y2+m.y1)/2},k=0;t=!1;for(var _=0;_<c.length;_++)k+=Math.abs(c[_].y),!t&&null!=c[_].indexLabel&&0<c[_].indexLabel.toString().length&&(t=!0),!t&&null!=c[_].label&&0<c[_].label.toString().length&&(t=!0);if(0!==k){t=t||null!=u.indexLabel&&0<u.indexLabel.toString().length;var C="inside"!==u.indexLabelPlacement&&t?.75*Math.min(m.width,m.height)/2:.92*Math.min(m.width,m.height)/2;u.radius&&(C=h(u.radius,C));var T=null!=u.innerRadius?h(u.innerRadius,C):.7*C;u.radius=C,"doughnut"===u.type&&(u.innerRadius=T);var S=Math.min(T/C,(C-1)/C);this.pieDoughnutClickHandler=function(t){o.isAnimating||!d(t.dataSeries.explodeOnClick)&&!t.dataSeries.explodeOnClick||((t=t.dataPoint).exploded=!t.exploded,1<this.dataPoints.length&&o._animator.animate(0,500,(function(t){e(t),r()})))},function(){if(u&&c){for(var t=0,e=0,n=0,i=0,l=0;l<c.length;l++){var s=c[l],r=u.dataPointIds[l];g[l].id=r,g[l].objectType="dataPoint",g[l].dataPointIndex=l,g[l].dataSeriesIndex=0;var a=g[l],h={percent:null,total:null},p=null;h=o.getPercentAndTotal(u,s),(u.indexLabelFormatter||s.indexLabelFormatter)&&(p={chart:o.options,dataSeries:u,dataPoint:s,total:h.total,percent:h.percent}),h=s.indexLabelFormatter?s.indexLabelFormatter(p):s.indexLabel?o.replaceKeywordsWithValue(s.indexLabel,s,u,l):u.indexLabelFormatter?u.indexLabelFormatter(p):u.indexLabel?o.replaceKeywordsWithValue(u.indexLabel,s,u,l):s.label?s.label:"",o._eventManager.objectMap[r]=a,a.center={x:x.x,y:x.y},a.y=s.y,a.radius=C,a.percentInnerRadius=S,a.indexLabelText=h,a.indexLabelPlacement=u.indexLabelPlacement,a.indexLabelLineColor=s.indexLabelLineColor?s.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:s.color?s.color:u._colorSet[l%u._colorSet.length],a.indexLabelLineThickness=d(s.indexLabelLineThickness)?u.indexLabelLineThickness:s.indexLabelLineThickness,a.indexLabelLineDashType=s.indexLabelLineDashType?s.indexLabelLineDashType:u.indexLabelLineDashType,a.indexLabelFontColor=s.indexLabelFontColor?s.indexLabelFontColor:u.indexLabelFontColor,a.indexLabelFontStyle=s.indexLabelFontStyle?s.indexLabelFontStyle:u.indexLabelFontStyle,a.indexLabelFontWeight=s.indexLabelFontWeight?s.indexLabelFontWeight:u.indexLabelFontWeight,a.indexLabelFontSize=d(s.indexLabelFontSize)?u.indexLabelFontSize:s.indexLabelFontSize,a.indexLabelFontFamily=s.indexLabelFontFamily?s.indexLabelFontFamily:u.indexLabelFontFamily,a.indexLabelBackgroundColor=s.indexLabelBackgroundColor?s.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,a.indexLabelMaxWidth=s.indexLabelMaxWidth?s.indexLabelMaxWidth:u.indexLabelMaxWidth?u.indexLabelMaxWidth:.33*m.width,a.indexLabelWrap=void 0!==s.indexLabelWrap?s.indexLabelWrap:u.indexLabelWrap,a.startAngle=0===l?u.startAngle?u.startAngle/180*Math.PI:0:g[l-1].endAngle,a.startAngle=(a.startAngle+2*Math.PI)%(2*Math.PI),a.endAngle=a.startAngle+2*Math.PI/k*Math.abs(s.y),s=((s=(a.endAngle+a.startAngle)/2)+2*Math.PI)%(2*Math.PI),a.midAngle=s,a.midAngle>Math.PI/2-y&&a.midAngle<Math.PI/2+y?((0===t||g[n].midAngle>a.midAngle)&&(n=l),t++):a.midAngle>3*Math.PI/2-y&&a.midAngle<3*Math.PI/2+y&&((0===e||g[i].midAngle>a.midAngle)&&(i=l),e++),a.hemisphere=s>Math.PI/2&&s<=3*Math.PI/2?"left":"right",a.indexLabelTextBlock=new A(o.plotArea.ctx,{fontSize:a.indexLabelFontSize,fontFamily:a.indexLabelFontFamily,fontColor:a.indexLabelFontColor,fontStyle:a.indexLabelFontStyle,fontWeight:a.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:a.indexLabelBackgroundColor,maxWidth:a.indexLabelMaxWidth,maxHeight:a.indexLabelWrap?5*a.indexLabelFontSize:1.5*a.indexLabelFontSize,text:a.indexLabelText,padding:0,textBaseline:"top"}),a.indexLabelTextBlock.measureText()}for(r=s=0,h=!1,l=0;l<c.length;l++)a=g[(n+l)%c.length],1<t&&a.midAngle>Math.PI/2-y&&a.midAngle<Math.PI/2+y&&(s<=t/2&&!h?(a.hemisphere="right",s++):(a.hemisphere="left",h=!0));for(h=!1,l=0;l<c.length;l++)a=g[(i+l)%c.length],1<e&&a.midAngle>3*Math.PI/2-y&&a.midAngle<3*Math.PI/2+y&&(r<=e/2&&!h?(a.hemisphere="left",r++):(a.hemisphere="right",h=!0))}}(),s(),s(),s(),s(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(t){var e=o.plotArea.ctx;for(e.clearRect(m.x1,m.y1,m.width,m.height),e.fillStyle=o.backgroundColor,e.fillRect(m.x1,m.y1,m.width,m.height),t=g[0].startAngle+2*Math.PI*t,e=0;e<c.length;e++){var n=0===e?g[e].startAngle:i,i=n+(g[e].endAngle-g[e].startAngle),l=!1;if(i>t&&(i=t,l=!0),i>n&&X(o.plotArea.ctx,g[e].center,g[e].radius,c[e].color?c[e].color:u._colorSet[e%u._colorSet.length],u.type,n,i,u.fillOpacity,g[e].percentInnerRadius),l)break}r()}),(function(){o.disableToolTip=!1,o._animator.animate(0,o.animatedRender?500:0,(function(t){e(t),r()}))}))}}};var K=function(t,e,n,i){void 0===n&&(n=1),0>=Math.round(e.y4-e.y1)||(t.save(),t.globalAlpha=n,t.beginPath(),t.moveTo(Math.round(e.x1),Math.round(e.y1)),t.lineTo(Math.round(e.x2),Math.round(e.y2)),t.lineTo(Math.round(e.x3),Math.round(e.y3)),t.lineTo(Math.round(e.x4),Math.round(e.y4)),"undefined"!==e.x5&&(t.lineTo(Math.round(e.x5),Math.round(e.y5)),t.lineTo(Math.round(e.x6),Math.round(e.y6))),t.closePath(),t.fillStyle=i||e.color,t.fill(),t.globalAplha=1,t.restore())};e.prototype.renderFunnel=function(t){function e(){var t,e,n,i;if("inside"!==m.indexLabelPlacement)for(var l=0;l<W.length;l++)0==G[l].textBlock.text.length?G[l].isDirty=!0:(n=void 0!==(t=W[l]).x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2,e=m.reversed?void 0!==t.x5&&n>B?a(n).x2+1:(t.x2+t.x3)/2+1:void 0!==t.x5?n<B?a(n).x2+1:(t.x4+t.x3)/2+1:(t.x2+t.x3)/2+1,G[l].textBlock.x=e+D,G[l].textBlock.y=n-G[l].height/2,m.reversed?(G[l].textBlock.y+G[l].height>N+v&&(G[l].textBlock.y=N+v-G[l].height),G[l].textBlock.y<V-v&&(G[l].textBlock.y=V-v)):(G[l].textBlock.y<N-v&&(G[l].textBlock.y=N-v),G[l].textBlock.y+G[l].height>V+v&&(G[l].textBlock.y=V+v-G[l].height)));else for(l=0;l<W.length;l++)0==G[l].textBlock.text.length?G[l].isDirty=!0:(i=G[l].width,(e=(t=W[l]).height)>=(n=G[l].height)?(n=l!=z?(t.y1+t.y3)/2-n/2:(t.y1+t.y4)/2-n/2,G[l].textBlock.x=e=l!=z?(t.x4+t.x3)/2-i/2:(t.x5+t.x4)/2-i/2,G[l].textBlock.y=n):G[l].isDirty=!0)}function n(t,e){return(e<W.length?G[e].textBlock.y:m.reversed?N+v:V+v)-(0>t?m.reversed?V-v:N-v:G[t].textBlock.y+G[t].height+q)}function i(t,n,i){var s,r,o,a=[],h=v,d=[];if(-1!==n&&(0<=Q.indexOf(n)?(r=Q.indexOf(n),Q.splice(r,1)):(Q.push(n),Q=Q.sort((function(t,e){return t-e})))),0===Q.length)a=J;else{r=v*(1!=Q.length||0!=Q[0]&&Q[0]!=W.length-1?2:1)/function(){for(var t=0,e=0;e<W.length-1;e++)(0<=Q.indexOf(e)||0<=Q.indexOf(e+1))&&t++;return t}();for(var p=0;p<W.length;p++){if(1==Q.length&&0==Q[0]){if(0===p){a.push(J[p]),s=h;continue}}else 0===p&&(s=-1*h);a.push(J[p]+s),(0<=Q.indexOf(p)||p<W.length&&0<=Q.indexOf(p+1))&&(s+=r)}}o=function(){for(var t=[],e=0;e<W.length;e++)t.push(a[e]-W[e].y1);return t}(),(new Date).getTime(),t._animator.animate(0,i,(function(i){var s=t.plotArea.ctx||t.ctx;X=!0,s.clearRect(b.x1,b.y1,b.x2-b.x1,b.y2-b.y1),s.fillStyle=t.backgroundColor,s.fillRect(b.x1,b.y1,b.width,b.height),function(t){for(var e,n,i=0;i<W.length;i++)e=o[i],n=W[i],e*=t,void 0===d[i]&&(d[i]=0),0>d&&(d*=-1),n.y1+=e-d[i],n.y2+=e-d[i],n.y3+=e-d[i],n.y4+=e-d[i],n.y5&&(n.y5+=e-d[i],n.y6+=e-d[i]),d[i]=e}(i);var r={};for(r.dataSeries=m,r.dataPoint=m.reversed?m.dataPoints[g.length-1-n]:m.dataPoints[n],r.index=m.reversed?g.length-1-n:n,t.toolTip.highlightObjects([r]),r=0;r<W.length;r++)K(s,W[r],m.fillOpacity);c(s),_&&("inside"!==m.indexLabelPlacement?l(s):e(),u(s)),1<=i&&(X=!1)}),null,Z.easing.easeOutQuart)}function l(t){for(var e,n,i,l,s=0;s<W.length;s++)e=a(n=((W[s].y2+W[s].y4)/2<<0)+(l=1==G[s].lineThickness%2?.5:0)).x2-1,i=G[s].textBlock.x,l=(G[s].textBlock.y+G[s].height/2<<0)+l,G[s].isDirty||0==G[s].lineThickness||(t.strokeStyle=G[s].lineColor,t.lineWidth=G[s].lineThickness,t.setLineDash&&t.setLineDash(f(G[s].lineDashType,G[s].lineThickness)),t.beginPath(),t.moveTo(e,n),t.lineTo(i,l),t.stroke())}function s(t){for(t-=1;-1<=t&&-1!=t&&G[t].isDirty;t--);return t}function r(t){for(t+=1;t<=W.length&&t!=W.length&&G[t].isDirty;t++);return t}function a(t){for(var e,n=0;n<g.length;n++)if(W[n].y1<t&&W[n].y4>t){e=W[n];break}return e?{x1:t=e.y6&&t>e.y6?e.x3+(e.x4-e.x3)/(e.y4-e.y3)*(t-e.y3):e.x2+(e.x3-e.x2)/(e.y3-e.y2)*(t-e.y2),x2:t}:-1}function u(t){for(var e=0;e<W.length;e++)G[e].isDirty||(t&&(G[e].textBlock.ctx=t),G[e].textBlock.render(!0))}function c(t){if(h.plotArea.layoutManager.reset(),t.roundRect||o(t),h.title&&(h.title.dockInsidePlotArea||"center"===h.title.horizontalAlign&&"center"===h.title.verticalAlign)&&(h.title.ctx=t,h.title.render()),h.subtitles)for(var e=0;e<h.subtitles.length;e++){var n=h.subtitles[e];(n.dockInsidePlotArea||"center"===n.horizontalAlign&&"center"===n.verticalAlign)&&(h.subtitles.ctx=t,n.render())}h.legend&&(h.legend.dockInsidePlotArea||"center"===h.legend.horizontalAlign&&"center"===h.legend.verticalAlign)&&(h.legend.ctx=t,h.legend.setLayout(),h.legend.render()),j.fNg&&j.fNg(h)}var h=this;if(!(0>=t.dataSeriesIndexes.length)){for(var m=this.data[t.dataSeriesIndexes[0]],g=m.dataPoints,b=this.plotArea,v=.025*b.width,y=.01*b.width,w=0,x=b.height-2*v,k=Math.min(b.width-2*y,2.8*b.height),_=!1,C=0;C<g.length;C++)!_&&null!=g[C].indexLabel&&0<g[C].indexLabel.toString().length&&(_=!0),!_&&null!=g[C].label&&0<g[C].label.toString().length&&(_=!0),(!_&&"function"==typeof m.indexLabelFormatter||"function"==typeof g[C].indexLabelFormatter)&&(_=!0);_=_||null!=m.indexLabel&&0<m.indexLabel.toString().length,"inside"!==m.indexLabelPlacement&&_||(y=(b.width-.75*k)/2),C=b.x1+y;var T=b.x2-y,S=b.y1+v,M=b.y2-v,P=t.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=m.length&&m.dataPoints&&m.visible&&0!==g.length){var E,I,D=30*(T-(t=75*k/100))/100;"funnel"===m.type?(E=d(m.options.neckHeight)?.35*x:m.neckHeight,I=d(m.options.neckWidth)?.25*t:m.neckWidth,E="string"==typeof E&&E.match(/%$/)?(E=parseInt(E))*x/100:parseInt(E),I="string"==typeof I&&I.match(/%$/)?(I=parseInt(I))*t/100:parseInt(I),E>x?E=x:0>=E&&(E=0),I>t?I=t-.5:0>=I&&(I=0)):"pyramid"===m.type&&(I=E=0,m.reversed=!m.reversed);var O=C,F=C+t,N=m.reversed?M:S,R=(y=C+t/2)-I/2,L=y+I/2,B=m.reversed?S+E:M-E,V=m.reversed?S:M;t=[],y=[];var z,W=[],U=(k=[],S),$=(B-N)/(R-O),Y=-$;if(-1!==(C="area"===(m.valueRepresents?m.valueRepresents:"height")?function(){var t,e,n=O,i=F,l=R,s=L;t=S,e=M-E,s=Math.abs((e-t)*(i-n+(s-l))/2),t=e-t,e=(l=L-R)*(e-M),e=s+(e=Math.abs(e)),s=[];for(var r=0,o=0;o<g.length;o++){if(void 0===g[o].y)return-1;g[o].y="number"==typeof g[o].y?g[o].y:0,r+=Math.abs(g[o].y)}if(0===r)return-1;var a,u,c=s[0]=0,h=0;for(i-=n,c=!1,o=0;o<g.length;o++)n=Math.abs(g[o].y)*e/r,c?a=0==Number(l.toFixed(3))?0:n/l:0>(u=$*$*i*i-4*Math.abs($)*n)?(n-=c=(i+(u=l))*(t-h)/2,a=t-h,h+=t-h,a+=0==u?0:n/u,h+=n/u,c=!0):(u=i-2*(a=(Math.abs($)*i-Math.sqrt(u))/2)/Math.abs($),(h+=a)>t&&(c=(i+(u=l))*(t-(h-=a))/2,a=t-h,h+=t-h,a+=(n-=c)/u,h+=n/u,c=!0),i=u),s.push(a);return s}():function(){for(var t=0,e=[],n=0;n<g.length;n++){if(void 0===g[n].y)return-1;g[n].y="number"==typeof g[n].y?g[n].y:0,t+=Math.abs(g[n].y)}if(0===t)return-1;for(n=e[0]=0;n<g.length;n++)e.push(Math.abs(g[n].y)*x/t);return e}())){if(m.reversed)for(k.push(U),I=C.length-1;0<I;I--)k.push(U+=C[I]);else for(I=0;I<C.length;I++)k.push(U+=C[I]);if(m.reversed)for(I=0;I<C.length;I++)k[I]<B?(t.push(R),y.push(L),z=I):(t.push((k[I]-N+$*O)/$),y.push((k[I]-N+Y*F)/Y));else for(I=0;I<C.length;I++)k[I]<B?(t.push((k[I]-N+$*O)/$),y.push((k[I]-N+Y*F)/Y),z=I):(t.push(R),y.push(L));for(I=0;I<C.length-1;I++)U=m.reversed?g[g.length-1-I].color?g[g.length-1-I].color:m._colorSet[(g.length-1-I)%m._colorSet.length]:g[I].color?g[I].color:m._colorSet[I%m._colorSet.length],W.push(I===z?{x1:t[I],y1:k[I],x2:y[I],y2:k[I],x3:L,y3:B,x4:y[I+1],y4:k[I+1],x5:t[I+1],y5:k[I+1],x6:R,y6:B,id:I,height:k[I+1]-k[I],color:U}:{x1:t[I],y1:k[I],x2:y[I],y2:k[I],x3:y[I+1],y3:k[I+1],x4:t[I+1],y4:k[I+1],id:I,height:k[I+1]-k[I],color:U});var q=2,G=[],X=!1,Q=[],J=[];for(C=!1,t=t=0,p(Q),I=0;I<g.length;I++)g[I].exploded&&(C=!0,Q.push(m.reversed?g.length-1-I:I));if(P.clearRect(b.x1,b.y1,b.width,b.height),P.fillStyle=h.backgroundColor,P.fillRect(b.x1,b.y1,b.width,b.height),_&&m.visible&&(function(){if(m&&g){for(var t,e,n,i,l,s,r,u,c,p,f,b,v,y,w=[],x=[],k={percent:null,total:null},_=null,C=0;C<g.length;C++)y=a(y=void 0!==(y=W[C]).x5?(y.y2+y.y4)/2:(y.y2+y.y3)/2).x2+1,w[C]=T-y-D;y=.5*D,C=0;for(var S=g.length-1;C<g.length||0<=S;C++,S--)t=(e=m.reversed?g[S]:g[C]).color?e.color:m.reversed?m._colorSet[(g.length-1-C)%m._colorSet.length]:m._colorSet[C%m._colorSet.length],n=e.indexLabelPlacement||m.indexLabelPlacement||"outside",i=e.indexLabelBackgroundColor||m.indexLabelBackgroundColor||(H?"transparent":null),l=e.indexLabelFontColor||m.indexLabelFontColor||"#979797",s=d(e.indexLabelFontSize)?m.indexLabelFontSize:e.indexLabelFontSize,r=e.indexLabelFontStyle||m.indexLabelFontStyle||"normal",u=e.indexLabelFontFamily||m.indexLabelFontFamily||"arial",c=e.indexLabelFontWeight||m.indexLabelFontWeight||"normal",t=e.indexLabelLineColor||m.options.indexLabelLineColor||t,p="number"==typeof e.indexLabelLineThickness?e.indexLabelLineThickness:"number"==typeof m.indexLabelLineThickness?m.indexLabelLineThickness:2,f=e.indexLabelLineDashType||m.indexLabelLineDashType||"solid",b=void 0!==e.indexLabelWrap?e.indexLabelWrap:void 0===m.indexLabelWrap||m.indexLabelWrap,h._eventManager.objectMap[v=m.dataPointIds[C]]={id:v,objectType:"dataPoint",dataPointIndex:C,dataSeriesIndex:0,funnelSection:W[m.reversed?g.length-1-C:C]},"inside"===m.indexLabelPlacement&&(w[C]=C!==z?m.reversed?W[C].x2-W[C].x1:W[C].x3-W[C].x4:W[C].x3-W[C].x6,20>w[C]&&(w[C]=C!==z&&m.reversed?W[C].x3-W[C].x4:W[C].x2-W[C].x1,w[C]/=2)),((v=e.indexLabelMaxWidth?e.indexLabelMaxWidth:m.options.indexLabelMaxWidth?m.indexLabelMaxWidth:w[C])>w[C]||0>v)&&(v=w[C]),x[C]="inside"===m.indexLabelPlacement&&W[C].height,k=h.getPercentAndTotal(m,e),(m.indexLabelFormatter||e.indexLabelFormatter)&&(_={chart:h.options,dataSeries:m,dataPoint:e,total:k.total,percent:k.percent}),e=e.indexLabelFormatter?e.indexLabelFormatter(_):e.indexLabel?h.replaceKeywordsWithValue(e.indexLabel,e,m,C):m.indexLabelFormatter?m.indexLabelFormatter(_):m.indexLabel?h.replaceKeywordsWithValue(m.indexLabel,e,m,C):e.label?e.label:"",0>=p&&(p=0),1e3>v&&1e3-v<y&&(v+=1e3-v),P.roundRect||o(P),(n=new A(P,{fontSize:s,fontFamily:u,fontColor:l,fontStyle:r,fontWeight:c,horizontalAlign:n,backgroundColor:i,maxWidth:v,maxHeight:!1===x[C]?b?4.28571429*s:1.5*s:x[C],text:e,padding:q})).measureText(),G.push({textBlock:n,id:m.reversed?S:C,isDirty:!1,lineColor:t,lineThickness:p,lineDashType:f,height:n.height<n.maxHeight?n.height:n.maxHeight,width:n.width<n.maxWidth?n.width:n.maxWidth})}}(),e(),function(){var t,e,n,i,l,s=[];l=!1,n=0;for(var o,a=T-F-D/2,u=(a=m.options.indexLabelMaxWidth?m.indexLabelMaxWidth>a?a:m.indexLabelMaxWidth:a,G.length-1);0<=u;u--)o=g[G[u].id],i=(n=G[u]).textBlock,e=(t=r(u)<W.length?G[r(u)]:null)?t.textBlock:null,n=n.height,t&&i.y+n+q>e.y&&(l=!0),((n=o.indexLabelMaxWidth||a)>a||0>n)&&(n=a),s.push(n);if(l)for(u=G.length-1;0<=u;u--)t=W[u],G[u].textBlock.maxWidth=s[s.length-(u+1)],G[u].textBlock.measureText(),G[u].textBlock.x=T-a,l=G[u].textBlock.width<G[u].textBlock.maxWidth?G[u].textBlock.width:G[u].textBlock.maxWidth,G[u].height=n=G[u].textBlock.height<G[u].textBlock.maxHeight?G[u].textBlock.height:G[u].textBlock.maxHeight,G[u].width=l,G[u].textBlock.y=(n=void 0!==t.x5?(t.y2+t.y4)/2:(t.y2+t.y3)/2)-G[u].height/2,m.reversed?(G[u].textBlock.y+G[u].height>N+v&&(G[u].textBlock.y=N+v-G[u].height),G[u].textBlock.y<V-v&&(G[u].textBlock.y=V-v)):(G[u].textBlock.y<N-v&&(G[u].textBlock.y=N-v),G[u].textBlock.y+G[u].height>V+v&&(G[u].textBlock.y=V+v-G[u].height))}(),"inside"!==m.indexLabelPlacement)){for(function(){function t(e,i){var l;if(0>e||e>=G.length)return 0;var o,a=G[e].textBlock;return 0>i?(i*=-1,(l=n(o=s(e),e))>=i?(a.y-=i,i):0==e?(0<l&&(a.y-=l),l):(0<(l+=t(o,-(i-l)))&&(a.y-=l),l)):(l=n(e,o=r(e)))>=i?(a.y+=i,i):e==W.length-1?(0<l&&(a.y+=l),l):(0<(l+=t(o,i-l))&&(a.y+=l),l)}function e(){var t,e,n,l,o,a=0;l=(M-S+2*v)/d,o=d;for(var u,c=1;c<o;c++){n=c*l;for(var h=G.length-1;0<=h;h--)!G[h].isDirty&&G[h].textBlock.y<n&&G[h].textBlock.y+G[h].height>n&&!((u=r(h))>=G.length-1)&&G[h].textBlock.y+G[h].height+q>G[u].textBlock.y&&(G[h].textBlock.y=G[h].textBlock.y+G[h].height-n>n-G[h].textBlock.y?n+1:n-G[h].height-1)}for(u=W.length-1;0<u;u--)if(!G[u].isDirty){if(0>(n=s(u))&&G[n=0].isDirty)break;if(G[u].textBlock.y<G[n].textBlock.y+G[n].height){for(e=e||u,l=u,o=0;G[l].textBlock.y<G[n].textBlock.y+G[n].height+q;){if(t=t||G[l].textBlock.y+G[l].height,o+=G[l].height,o+=q,0>=(l=n)){o+=G[l=0].height;break}if(0>(n=s(l))){o+=G[l=0].height;break}}if(l!=u){a=i(t=o-(t-=a=G[l].textBlock.y),e,l);break}}}return a}function i(t,e,n){var i=[],l=0,s=0;for(t=Math.abs(t);n<=e;n++)i.push(W[n]);for(i.sort((function(t,e){return t.height-e.height})),n=0;n<i.length&&(e=i[n],l<t);n++)s++,l+=G[e.id].height+q,G[e.id].textBlock.text="",G[e.id].indexLabelText="",G[e.id].isDirty=!0,G[e.id].textBlock.measureText();return s}for(var l,o,a,u,c,h,d=1,p=0;p<2*d;p++){for(var m=G.length-1;0<=m&&(0<=s(m)&&s(m),u=(a=G[m]).textBlock,h=(c=r(m)<W.length?G[r(m)]:null)?c.textBlock:null,l=+a.height.toFixed(6),o=+u.y.toFixed(6),!(!a.isDirty&&c&&o+l+q>+h.y.toFixed(6)&&(l=u.y+l+q-h.y,o=t(m,-l),o<l&&(0<o&&(l-=o),o=t(r(m),l),o!=l))));m--);e()}}(),I=0;I<g.length;I++)G[I].isDirty||(t=(T-(t=G[I].textBlock.x+G[I].width))/2,0==I&&(w=t),w>t&&(w=t));for(I=0;I<W.length;I++)W[I].x1+=w,W[I].x2+=w,W[I].x3+=w,W[I].x4+=w,W[I].x5&&(W[I].x5+=w,W[I].x6+=w),G[I].textBlock.x+=w}for(I=0;I<W.length;I++)K(P,w=W[I],m.fillOpacity),J.push(w.y1);if(c(P),_&&m.visible&&("inside"===m.indexLabelPlacement||h.animationEnabled||l(P),h.animationEnabled||u()),!_)for(I=0;I<g.length;I++)h._eventManager.objectMap[w=m.dataPointIds[I]]=t={id:w,objectType:"dataPoint",dataPointIndex:I,dataSeriesIndex:0,funnelSection:W[m.reversed?g.length-1-I:I]};return!h.animationEnabled&&C?i(h,-1,0):h.animationEnabled&&!h.animatedRender&&i(h,-1,0),this.funnelPyramidClickHandler=function(t){var e=-1;!X&&!h.isAnimating&&(d(t.dataSeries.explodeOnClick)||t.dataSeries.explodeOnClick)&&0<=(e=m.reversed?g.length-1-t.dataPointIndex:t.dataPointIndex)&&(t=e,"funnel"!==m.type&&"pyramid"!==m.type||(m.reversed?g[g.length-1-t].exploded=!g[g.length-1-t].exploded:g[t].exploded=!g[t].exploded),i(h,e,500))},{source:P,dest:this.plotArea.ctx,animationCallback:function(t,e){Z.fadeInAnimation(t,e),1<=t&&(i(h,-1,500),c(h.plotArea.ctx||h.ctx))},easingFunction:Z.easing.easeInQuad,animationBase:0}}}}},e.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},e.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,e.prototype.set=function(t,n,i){i=void 0===i||i,"options"===t?(this.options=n,i&&this.render()):e.base.set.call(this,t,n,i)},e.prototype.exportChart=function(t){var e=(t=void 0===t?{}:t).format?t.format:"png",n=t.fileName?t.fileName:this.exportFileName;if(t.toDataURL)return this.canvas.toDataURL("image/"+e);u(this.canvas,e,n)},e.prototype.print=function(){var t=this.exportChart({toDataURL:!0}),e=document.createElement("iframe");e.setAttribute("class","canvasjs-chart-print-frame"),e.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),e.style.height=this.height+"px",this._canvasJSContainer.appendChild(e);var n=this,i=e.contentWindow||e.contentDocument.document||e.contentDocument;i.document.open(),i.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+t+'"/><body/></html>'),i.document.close(),setTimeout((function(){i.focus(),i.print(),setTimeout((function(){n._canvasJSContainer.removeChild(e)}),1e3)}),500)},e.prototype.getPercentAndTotal=function(t,e){var n=null,i=null,l=null;if(0<=t.type.indexOf("stacked"))i=0,(n=e.x.getTime?e.x.getTime():e.x)in t.plotUnit.yTotals&&(i=t.plotUnit.yTotals[n],l=isNaN(e.y)?0:e.y/i*100);else if("pie"===t.type||"doughnut"===t.type||"funnel"===t.type||"pyramid"===t.type){for(n=i=0;n<t.dataPoints.length;n++)isNaN(t.dataPoints[n].y)||(i+=t.dataPoints[n].y);l=isNaN(e.y)?0:e.y/i*100}return{percent:l,total:i}},e.prototype.replaceKeywordsWithValue=function(t,e,n,i,l){var s=this;if(l=void 0===l?0:l,(0<=n.type.indexOf("stacked")||"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type)&&(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))){var o="#percent",a="#total",u=this.getPercentAndTotal(n,e);a=isNaN(u.total)?a:u.total,o=isNaN(u.percent)?o:u.percent;do{if(u="",n.percentFormatString)u=n.percentFormatString;else{u="#,##0.";var c=Math.max(Math.ceil(Math.log(1/Math.abs(o))/Math.LN10),2);!isNaN(c)&&isFinite(c)||(c=2);for(var h=0;h<c;h++)u+="#";n.percentFormatString=u}t=(t=t.replace("#percent",st(o,u,s._cultureInfo))).replace("#total",st(a,n.yValueFormatString?n.yValueFormatString:"#,##0.########",s._cultureInfo))}while(0<=t.indexOf("#percent")||0<=t.indexOf("#total"))}return t.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(t){if('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])return t.slice(1,t.length-1);t=(t=r(t.slice(1,t.length-1))).replace("#index",l);var o=null;try{var u=t.match(/(.*?)\s*\[\s*(.*?)\s*\]/);u&&0<u.length&&(o=r(u[2]),t=r(u[1]))}catch(a){}if(u=null,"color"===t)return"waterfall"===n.type?e.color?e.color:0<e.y?n.risingColor:n.fallingColor:"error"===n.type?n.color?n.color:n._colorSet[o%n._colorSet.length]:e.color?e.color:n.color?n.color:n._colorSet[i%n._colorSet.length];if(e.hasOwnProperty(t))u=e;else{if(!n.hasOwnProperty(t))return"";u=n}return u=u[t],null!==o&&(u=u[o]),"x"!==t?"y"===t?st(u,e.yValueFormatString?e.yValueFormatString:n.yValueFormatString?n.yValueFormatString:n.yValueFormatString="#,##0.########",s._cultureInfo):"z"===t?st(u,e.zValueFormatString?e.zValueFormatString:n.zValueFormatString?n.zValueFormatString:n.zValueFormatString="#,##0.########",s._cultureInfo):u:"dateTime"===n.axisX.valueType||"dateTime"===n.xValueType||e.x&&e.x.getTime?s.plotInfo.plotTypes[0].plotUnits[0].axisX&&!s.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?lt(u,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString=s.axisX&&s.axisX.autoValueFormatString?s.axisX.autoValueFormatString:"DD MMM YY",s._cultureInfo):void 0:st(u,e.xValueFormatString?e.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString="#,##0.########",s._cultureInfo)}))},n(N,M),N.prototype.setLayout=function(){var t=this.dockInsidePlotArea?this.chart.plotArea:this.chart,e=t.layoutManager.getFreeSpace(),n=null,i=0,l=0,s=0,r=0,o=this.markerMargin=this.chart.options.legend&&!d(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var a=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",n=this.verticalAlign,s=this.maxWidth=null!==this.maxWidth?this.maxWidth:e.width,r=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*e.height):"center"===this.verticalAlign&&(this.orientation="vertical",n=this.horizontalAlign,s=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*e.width,r=this.maxHeight=null!==this.maxHeight?this.maxHeight:e.height),this.errorMarkerColor=[];for(var c=0;c<this.dataSeries.length;c++){var h=this.dataSeries[c];if(h.dataPoints&&h.dataPoints.length)if("pie"!==h.type&&"doughnut"!==h.type&&"funnel"!==h.type&&"pyramid"!==h.type){var p=h.legendMarkerType=h.legendMarkerType?h.legendMarkerType:"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type&&"scatter"!==h.type&&"bubble"!==h.type||!h.markerType?"error"===h.type&&h._linkedSeries?h._linkedSeries.legendMarkerType?h._linkedSeries.legendMarkerType:R.getDefaultLegendMarker(h._linkedSeries.type):R.getDefaultLegendMarker(h.type):h.markerType,m=h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:null}):h.name,g=h.legendMarkerColor=h.legendMarkerColor?h.legendMarkerColor:h.markerColor?h.markerColor:"error"===h.type?d(h.whiskerColor)?h._colorSet[0]:h.whiskerColor:h._colorSet[0],f=h.markerSize||"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type?.75*this.lineHeight:0,b=h.legendMarkerBorderColor?h.legendMarkerBorderColor:h.markerBorderColor,v=h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:h.markerBorderThickness?Math.max(1,Math.round(.2*f)):0;"error"===h.type&&this.errorMarkerColor.push(g),m=this.chart.replaceKeywordsWithValue(m,h.dataPoints[0],h,c),a.push(p={markerType:p,markerColor:g,text:m,textBlock:null,chartType:h.type,markerSize:f,lineColor:h._colorSet[0],dataSeriesIndex:h.index,dataPointIndex:null,markerBorderColor:b,markerBorderThickness:v})}else for(var y=0;y<h.dataPoints.length;y++){var w=h.dataPoints[y];p=w.legendMarkerType?w.legendMarkerType:h.legendMarkerType?h.legendMarkerType:R.getDefaultLegendMarker(h.type),m=w.legendText?w.legendText:h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:w}):w.name?w.name:"DataPoint: "+(y+1),g=w.legendMarkerColor?w.legendMarkerColor:h.legendMarkerColor?h.legendMarkerColor:w.color?w.color:h.color?h.color:h._colorSet[y%h._colorSet.length],f=.75*this.lineHeight,b=w.legendMarkerBorderColor?w.legendMarkerBorderColor:h.legendMarkerBorderColor?h.legendMarkerBorderColor:w.markerBorderColor?w.markerBorderColor:h.markerBorderColor,v=w.legendMarkerBorderThickness?w.legendMarkerBorderThickness:h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:w.markerBorderThickness||h.markerBorderThickness?Math.max(1,Math.round(.2*f)):0,p={markerType:p,markerColor:g,text:m=this.chart.replaceKeywordsWithValue(m,w,h,y),textBlock:null,chartType:h.type,markerSize:f,dataSeriesIndex:c,dataPointIndex:y,markerBorderColor:b,markerBorderThickness:v},(w.showInLegend||h.showInLegend&&!1!==w.showInLegend)&&a.push(p)}}if(!0===this.reversed&&a.reverse(),0<a.length){for(h=null,g=m=w=y=0,w=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,s):this.itemMaxWidth=Math.min(this.itemWidth,s):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,s):this.itemMaxWidth=s,w-=(f=0===f?.75*this.lineHeight:f)+o,c=0;c<a.length;c++)b=w,"line"!==(p=a[c]).chartType&&"spline"!==p.chartType&&"stepLine"!==p.chartType||(b-=.2*this.lineHeight),0>=r||void 0===r||0>=b||void 0===b||("horizontal"===this.orientation?(p.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:b,maxHeight:this.itemWrap?r:this.lineHeight,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(f+o+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),(!h||h.width+Math.round(p.textBlock.width+f+o+(0===h.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))>s)&&(u.push(h={items:[],width:0}),this.height+=m,m=0),m=Math.max(m,p.textBlock.height)):(p.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:w,maxHeight:!0===this.itemWrap?r:1.5*this.fontSize,angle:0,text:p.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),p.textBlock.measureText(),null!==this.itemWidth&&(p.textBlock.width=this.itemWidth-(f+o+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0))),this.height<r-this.lineHeight?u.push(h={items:[],width:0}):(h=u[y],y=(y+1)%u.length),this.height+=p.textBlock.height),p.textBlock.x=h.width,p.textBlock.y=0,h.width+=Math.round(p.textBlock.width+f+o+(0===h.width?0:this.horizontalSpacing)+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)),h.items.push(p),this.width=Math.max(h.width,this.width),g=p.textBlock.width+(f+o+("line"===p.chartType||"spline"===p.chartType||"stepLine"===p.chartType?.2*this.lineHeight:0)));this.itemWidth=g,this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+m,this.height=Math.min(r,this.height),this.width=Math.min(s,this.width)}for("top"===this.verticalAlign?(l="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y1):"center"===this.verticalAlign?(l="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y1+e.height/2-this.height/2):"bottom"===this.verticalAlign&&(l="left"===this.horizontalAlign?e.x1:"right"===this.horizontalAlign?e.x2-this.width:e.x1+e.width/2-this.width/2,i=e.y2-this.height),this.items=a,c=0;c<this.items.length;c++)(p=a[c]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[p.id]={id:p.id,objectType:"legendItem",legendItemIndex:c,dataSeriesIndex:p.dataSeriesIndex,dataPointIndex:p.dataPointIndex};this.markerSize=f,this.rows=u,0<a.length&&t.layoutManager.registerSpace(n,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:l,y1:i,x2:l+this.width,y2:i+this.height}},N.prototype.render=function(){var t=this.bounds.x1,e=this.bounds.y1,n=this.markerMargin,i=this.maxWidth,l=this.maxHeight,s=this.markerSize,r=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(t,e,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var o=0,a=0;a<r.length;a++){for(var u=r[a],h=0,d=0;d<u.items.length;d++){var p=u.items[d],m=p.textBlock.x+t+(0===d?.2*s:this.horizontalSpacing),g=e+o,f=m;if(this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,i,Math.max(l-l%this.lineHeight,0)),this.ctx.clip(),"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(this.ctx.strokeStyle=p.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(m-.1*this.lineHeight,g+this.lineHeight/2),this.ctx.lineTo(m+.85*this.lineHeight,g+this.lineHeight/2),this.ctx.stroke(),f-=.1*this.lineHeight),"error"===p.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=s/8,this.ctx.beginPath();var b=m-.08*this.lineHeight+.1*this.lineHeight,v=g+.15*this.lineHeight,y=.7*this.lineHeight,w=y+.02*this.lineHeight;this.ctx.moveTo(b,v),this.ctx.lineTo(b+y,v),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(b+y/2,v),this.ctx.lineTo(b+y/2,v+w),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(b,v+w),this.ctx.lineTo(b+y,v+w),this.ctx.stroke(),this.errorMarkerColor.shift()}tt.drawMarker(m+s/2,g+this.lineHeight/2,this.ctx,p.markerType,"error"===p.chartType||"line"===p.chartType||"spline"===p.chartType?p.markerSize/2:p.markerSize,p.markerColor,p.markerBorderColor,p.markerBorderThickness),p.textBlock.x=m+n+s,"line"!==p.chartType&&"stepLine"!==p.chartType&&"spline"!==p.chartType||(p.textBlock.x+=.1*this.lineHeight),p.textBlock.y=Math.round(g+this.lineHeight/2),p.textBlock.render(!0),this.ctx.restore(),h=0<d?Math.max(h,p.textBlock.height):p.textBlock.height,this.chart.data[p.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),m=c(p.id),this.ghostCtx.fillStyle=m,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(f,p.textBlock.y-this.lineHeight/2,p.textBlock.x+p.textBlock.width-f,p.textBlock.height),p.x1=this.chart._eventManager.objectMap[p.id].x1=f,p.y1=this.chart._eventManager.objectMap[p.id].y1=p.textBlock.y-this.lineHeight/2,p.x2=this.chart._eventManager.objectMap[p.id].x2=p.textBlock.x+p.textBlock.width,p.y2=this.chart._eventManager.objectMap[p.id].y2=p.textBlock.y+p.textBlock.height-this.lineHeight/2}o+=h}},n(R,M),R.prototype.getDefaultAxisPlacement=function(){var t=this.type;return"column"===t||"line"===t||"stepLine"===t||"spline"===t||"area"===t||"stepArea"===t||"splineArea"===t||"stackedColumn"===t||"stackedLine"===t||"bubble"===t||"scatter"===t||"stackedArea"===t||"stackedColumn100"===t||"stackedLine100"===t||"stackedArea100"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"normal":"bar"===t||"stackedBar"===t||"stackedBar100"===t||"rangeBar"===t?"xySwapped":"pie"===t||"doughnut"===t||"funnel"===t||"pyramid"===t?"none":("error"!==t&&window.console.log("Unknown Chart Type: "+t),null)},R.getDefaultLegendMarker=function(t){return"column"===t||"stackedColumn"===t||"stackedLine"===t||"bar"===t||"stackedBar"===t||"stackedBar100"===t||"bubble"===t||"scatter"===t||"stackedColumn100"===t||"stackedLine100"===t||"stepArea"===t||"candlestick"===t||"ohlc"===t||"rangeColumn"===t||"rangeBar"===t||"rangeArea"===t||"rangeSplineArea"===t||"boxAndWhisker"===t||"waterfall"===t?"square":"line"===t||"stepLine"===t||"spline"===t||"pie"===t||"doughnut"===t?"circle":"area"===t||"splineArea"===t||"stackedArea"===t||"stackedArea100"===t||"funnel"===t||"pyramid"===t?"triangle":"error"===t?"none":(window.console.log("Unknown Chart Type: "+t),null)},R.prototype.getDataPointAtX=function(t,e){if(!this.dataPoints||0===this.dataPoints.length)return null;var n={dataPoint:null,distance:1/0,index:NaN},i=null,l=0,s=0,r=1,o=1/0,a=0,u=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.axisX.logarithmic?1<(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(t/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/c*(t-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(s=0<r?c+l:c-l)&&s<this.dataPoints.length){i=this.dataPoints[s];var h=this.axisX.logarithmic?i.x>t?i.x/t:t/i.x:Math.abs(i.x-t);if(h<n.distance&&(n.dataPoint=i,n.distance=h,n.index=s),(i=h)<=o?o=i:0<r?a++:u++,1e3<a&&1e3<u)break}else if(0>c-l&&c+l>=this.dataPoints.length)break;-1===r?(l++,r=1):r=-1}return e||n.dataPoint.x!==t?e&&null!==n.dataPoint?n:null:n},R.prototype.getDataPointAtXY=function(t,e,n){if(!this.dataPoints||0===this.dataPoints.length||t<this.chart.plotArea.x1||t>this.chart.plotArea.x2||e<this.chart.plotArea.y1||e>this.chart.plotArea.y2)return null;n=n||!1;var i=[],l=0,s=0,r=1,o=!1,a=1/0,u=0,c=0,h=0;for("none"!==this.chart.plotInfo.axisPlacement&&(h=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:t,y:e}),h=this.axisX.logarithmic?1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(h/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(h-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(s=0<r?h+l:h-l)&&s<this.dataPoints.length){var d,p=this.dataPoints[s],m=null;if(d=this.chart._eventManager.objectMap[this.dataPointIds[s]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":t>=d.x1&&t<=d.x2&&e>=d.y1&&e<=d.y2&&(i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y1-e),Math.abs(d.y2-e))}),o=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var g=y("markerSize",p,this)||4,f=n?20:g;(m=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)))<=f&&i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:m}),(d=Math.abs(d.x1-t))<=a?a=d:0<r?u++:c++,m<=g/2&&(o=!0);break;case"rangeArea":case"rangeSplineArea":g=y("markerSize",p,this)||4,f=n?20:g,(m=Math.min(Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)),Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y2-e,2))))<=f&&i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:m}),(d=Math.abs(d.x1-t))<=a?a=d:0<r?u++:c++,m<=g/2&&(o=!0);break;case"bubble":g=d.size,(m=Math.sqrt(Math.pow(d.x1-t,2)+Math.pow(d.y1-e,2)))<=g/2&&(i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:m}),o=!0);break;case"pie":case"doughnut":g=d.center,f="doughnut"===this.type?d.percentInnerRadius*d.radius:0,(m=Math.sqrt(Math.pow(g.x-t,2)+Math.pow(g.y-e,2)))<d.radius&&m>f&&(0>(m=Math.atan2(e-g.y,t-g.x))&&(m+=2*Math.PI),m=Number(((m/Math.PI*180%360+360)%360).toFixed(12)),g=Number(((d.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(f=Number(((d.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<d.endAngle&&(f=360),g>=f&&0!==p.y&&(f+=360,m<g&&(m+=360)),m>g&&m<f&&(i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:0}),o=!0));break;case"funnel":case"pyramid":e>(m=d.funnelSection).y1&&e<m.y4&&(m.y6?e>m.y6?(s=m.x6+(m.x5-m.x6)/(m.y5-m.y6)*(e-m.y6),m=m.x3+(m.x4-m.x3)/(m.y4-m.y3)*(e-m.y3)):(s=m.x1+(m.x6-m.x1)/(m.y6-m.y1)*(e-m.y1),m=m.x2+(m.x3-m.x2)/(m.y3-m.y2)*(e-m.y2)):(s=m.x1+(m.x4-m.x1)/(m.y4-m.y1)*(e-m.y1),m=m.x2+(m.x3-m.x2)/(m.y3-m.y2)*(e-m.y2)),t>s&&t<m&&(i.push({dataPoint:p,dataPointIndex:d.dataPointIndex,dataSeries:this,distance:0}),o=!0));break;case"boxAndWhisker":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y4-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),o=!0);break;case"candlestick":(t>=d.x1-d.borderThickness/2&&t<=d.x2+d.borderThickness/2&&e>=d.y2-d.borderThickness/2&&e<=d.y3+d.borderThickness/2||Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y1&&e<=d.y4)&&(i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),o=!0);break;case"ohlc":(Math.abs(d.x2-t+d.x1-t)<d.borderThickness&&e>=d.y2&&e<=d.y3||t>=d.x1&&t<=(d.x2+d.x1)/2&&e>=d.y1-d.borderThickness/2&&e<=d.y1+d.borderThickness/2||t>=(d.x1+d.x2)/2&&t<=d.x2&&e>=d.y4-d.borderThickness/2&&e<=d.y4+d.borderThickness/2)&&(i.push({dataPoint:p,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(d.x1-t),Math.abs(d.x2-t),Math.abs(d.y2-e),Math.abs(d.y3-e))}),o=!0)}if(o||1e3<u&&1e3<c)break}}else if(0>h-l&&h+l>=this.dataPoints.length)break;-1===r?(l++,r=1):r=-1}for(t=null,e=0;e<i.length;e++)t?i[e].distance<=t.distance&&(t=i[e]):t=i[e];return t},R.prototype.getMarkerProperties=function(t,e,n,i){var l=this.dataPoints;return{x:e,y:n,ctx:i,type:l[t].markerType?l[t].markerType:this.markerType,size:l[t].markerSize?l[t].markerSize:this.markerSize,color:l[t].markerColor?l[t].markerColor:this.markerColor?this.markerColor:l[t].color?l[t].color:this.color?this.color:this._colorSet[t%this._colorSet.length],borderColor:l[t].markerBorderColor?l[t].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:l[t].markerBorderThickness?l[t].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},n(L,M),L.prototype.createExtraLabelsForLog=function(t){if(!(5<(t=(t||0)+1))){var e=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(e/this.viewportMinimum)<this.noTicks-1){for(var n=L.getNiceNumber((e-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),i=Math.ceil(this.viewportMinimum/n)*n;i<e;i+=n)i<this.viewportMinimum||this.logLabelValues.push(i);this.logLabelValues.sort(a),this.createExtraLabelsForLog(t)}}},L.prototype.createLabels=function(){var t,e,n,i,s,r=0,o=0,a=0,u=0,c=(o=0,o=this.interval,0),h=.6*this.chart.height;t=!1;var p=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],m=p.length?d(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){t=Math.ceil(o);var g=!1;for(r=o=Math.ceil(this.intervalStartPosition);r<this.viewportMaximum;r+=t){if(!this.labels[r]){g=!1;break}g=!0}g&&(this.interval=t,this.intervalStartPosition=o)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),o=0,g=m;o<this.logLabelValues.length;o++)if((r=this.logLabelValues[o])<this.viewportMinimum)o++;else{for(;g<p.length&&r>p[g].endValue;g++);s=r,(t=g<p.length&&r>=p[g].startValue&&r<=p[g].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:s,label:this.labels[s]?this.labels[s]:null}):"axisX"===this.type&&this.labels[s]?this.labels[s]:st(s,this.valueFormatString,this.chart._cultureInfo),t=new A(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0}),this._labels.push({position:s,textBlock:t,effectiveHeight:null}))}for(g=m,r=this.intervalStartPosition;r<=n;r=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?r*Math.pow(this.logarithmBase,this.interval):r+this.interval:(this.logarithmic&&this.equidistantInterval?r*Math.pow(this.logarithmBase,this.interval):r+this.interval).toFixed(12))){for(;g<p.length&&r>p[g].endValue;g++);s=r,(t=g<p.length&&r>=p[g].startValue&&r<=p[g].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:s,label:this.labels[s]?this.labels[s]:null}):"axisX"===this.type&&this.labels[s]?this.labels[s]:st(s,this.valueFormatString,this.chart._cultureInfo),t=new A(this.ctx,{x:0,y:0,maxWidth:a,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:s,textBlock:t,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=l(new Date(this.viewportMaximum),this.interval,this.intervalType),g=m,r=this.intervalStartPosition;r<n;l(r,o,this.intervalType)){for(t=r.getTime();g<p.length&&t>p[g].endValue;g++);s=t,(t=g<p.length&&t>=p[g].startValue&&t<=p[g].endValue)||(t=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(s),label:this.labels[s]?this.labels[s]:null}):"axisX"===this.type&&this.labels[s]?this.labels[s]:lt(s,this.valueFormatString,this.chart._cultureInfo),t=new A(this.ctx,{x:0,y:0,maxWidth:a,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:u,angle:this.labelAngle,text:this.prefix+t+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:s,textBlock:t,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*J[this.intervalType+"Duration"]*this.interval,a=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(u=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*J[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(a=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),o=0;o<this._labels.length;o++){(t=this._labels[o].textBlock).maxWidth=a,t.maxHeight=u;var f=t.measureText();i=f.height}if(n=[],m=p=0,this.labelAutoFit||this.options.labelAutoFit)if(d(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(a=.9*c>>0,m=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,r=0;r<this._labels.length;r++)if(!this._labels[r].breaksLabelType){var b;for(g=(t=this._labels[r].textBlock).text.split(" "),o=0;o<g.length;o++)s=g[o],this.ctx.font=t.fontStyle+" "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,(s=this.ctx.measureText(s)).width>m&&(b=r,m=s.width)}for(r=0,r=this.intervalStartPosition<this.viewportMinimum?1:0;r<this._labels.length;r++)if(!this._labels[r].breaksLabelType){for(f=(t=this._labels[r].textBlock).measureText(),g=r+1;g<this._labels.length;g++)if(!this._labels[g].breaksLabelType){e=(e=this._labels[g].textBlock).measureText();break}if(n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((o-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o),s=(h-(i+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),d(this.options.labelWrap)){if(d(this.options.labelWrap))if(d(this.options.labelMaxWidth)){if(!d(e))if(o=f.width+e.width>>0,g=this.labelFontSize,m<a)o-2*a>p&&(p=o-2*a,o>=2*a&&o<2.2*a?(this.sessionVariables.labelMaxWidth=a,d(this.options.labelFontSize)&&12<g&&(g=Math.floor(12/13*g),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):o>=2.2*a&&o<2.8*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelFontSize=g):o>=2.8*a&&o<3.2*a?(this.sessionVariables.labelMaxWidth=Math.max(a,m),this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):o>=3.2*a&&o<3.6*a?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelFontSize=this.labelFontSize):o>3.6*a&&o<5*a?(d(this.options.labelFontSize)&&12<g&&(g=Math.floor(12/13*g),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=s):o>5*a&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelFontSize=g,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle));else if(b===r&&(0===b&&m+this._labels[b+1].textBlock.measureText().width-2*a>p||b===this._labels.length-1&&m+this._labels[b-1].textBlock.measureText().width-2*a>p||0<b&&b<this._labels.length-1&&m+this._labels[b+1].textBlock.measureText().width-2*a>p&&m+this._labels[b-1].textBlock.measureText().width-2*a>p))p=0===b?m+this._labels[b+1].textBlock.measureText().width-2*a:m+this._labels[b-1].textBlock.measureText().width-2*a,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=s;else if(0===p)for(this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?g:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,m),s),f=t.measureText(),o<this._labels.length-1&&((e=this._labels[g=o+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,m),s),e=e.measureText(),f.width+e.width>>0>2*a&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<a?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u)}else this.labelWrap?d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(a,m),s),this.sessionVariables.labelWrap=this.labelWrap,f.width+e.width>>0>2*a&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle):d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=a,f.width+e.width>>0>2*a&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=s)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>a?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((o-a*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o),s=0!=this.labelAngle?(h-(i+t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):a,this.sessionVariables.labelMaxHeight=u=this.labelWrap?(h-s*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:s,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=o<.9*c?.9*c:o,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:s):(d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:s,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=u)}for(o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(r=0;r<this._labels.length;r++)(t=this._labels[r].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();else if("left"===this._position||"right"===this._position)if(a=d(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,r=0;r<this._labels.length;r++)if(!this._labels[r].breaksLabelType){for(f=(t=this._labels[r].textBlock).measureText(),g=r+1;g<this._labels.length;g++)if(!this._labels[g].breaksLabelType){e=(e=this._labels[g].textBlock).measureText();break}n.push(t.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),o=a*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?d(this.options.labelWrap)?d(this.options.labelWrap)&&(d(this.options.labelMaxWidth)?d(e)||(c=f.height+e.height>>0)-2*u>m&&(m=c-2*u,c>=2*u&&c<2.4*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):c>=2.4*u&&c<2.8*u?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):c>=2.8*u&&c<3.2*u?(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>=3.2*u&&c<3.6*u?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):c>3.6*u&&c<10*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>10*u&&c<50*u&&(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),t.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=a,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?a:Math.min((o-u*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u),d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:a,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:o,d(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:o,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=a):(this.sessionVariables.labelMaxHeight=u,d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(o=0;o<this._labels.length;o++)(t=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,t.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,t.angle=this.labelAngle=this.sessionVariables.labelAngle,t.wrap=this.labelWrap=this.sessionVariables.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText()}else for(r=0;r<this._labels.length;r++)(t=this._labels[r].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,t.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,t.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,t.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,t.maxHeight=this.sessionVariables.labelMaxHeight,t.measureText();for(r=0;r<this.stripLines.length;r++){var v;"outside"===(a=this.stripLines[r]).labelPlacement?(u=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(v=d(a.options.labelWrap)?this.sessionVariables.labelMaxHeight:a.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(v=d(a.options.labelWrap)?this.sessionVariables.labelMaxHeight:a.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),d(a.labelBackgroundColor)&&(a.labelBackgroundColor="#EEEEEE")):(u="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,v=d(a.options.labelWrap)||a.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,d(a.labelBackgroundColor)&&(a.labelBackgroundColor=d(a.startValue)&&0!==a.startValue?H?"transparent":null:"#EEEEEE")),t=new A(this.ctx,{x:0,y:0,backgroundColor:a.labelBackgroundColor,borderColor:a.labelBorderColor,borderThickness:a.labelBorderThickness,cornerRadius:a.labelCornerRadius,maxWidth:a.options.labelMaxWidth?a.options.labelMaxWidth:u,maxHeight:v,angle:this.labelAngle,text:a.labelFormatter?a.labelFormatter({chart:this.chart,axis:this,stripLine:a}):a.label,horizontalAlign:"left",fontSize:"outside"===a.labelPlacement?a.options.labelFontSize?a.labelFontSize:this.labelFontSize:a.labelFontSize,fontFamily:"outside"===a.labelPlacement?a.options.labelFontFamily?a.labelFontFamily:this.labelFontFamily:a.labelFontFamily,fontWeight:"outside"===a.labelPlacement?a.options.labelFontWeight?a.labelFontWeight:this.labelFontWeight:a.labelFontWeight,fontColor:a.labelFontColor||a.color,fontStyle:"outside"===a.labelPlacement?a.options.labelFontStyle?a.labelFontStyle:this.fontWeight:a.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:a.value,textBlock:t,effectiveHeight:null,stripLine:a})}},L.prototype.createLabelsAndCalculateWidth=function(){var t=0,e=0;this._labels=[],this._stripLineLabels=[];var n=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),e=0;e<this._labels.length;e++){var i=this._labels[e].textBlock,l=i.measureText(),s=0;t<(s=0===this.labelAngle?l.width:l.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(l.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=s),this._labels[e].effectiveWidth=s}for(e=0;e<this._stripLineLabels.length;e++)"outside"===this._stripLineLabels[e].stripLine.labelPlacement&&this._stripLineLabels[e].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[e].stripLine.value<=this.viewportMaximum&&(l=(i=this._stripLineLabels[e].textBlock).measureText(),t<(s=0===this.labelAngle?l.width:l.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(l.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(t=s),this._stripLineLabels[e].effectiveWidth=s)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=e+n:e+t+this.tickLength+n},L.prototype.createLabelsAndCalculateHeight=function(){var t=0;this._labels=[],this._stripLineLabels=[];var e,n=0,i=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(n=0;n<this._labels.length;n++){var l=(e=this._labels[n].textBlock).measureText(),s=0;t<(s=0===this.labelAngle?l.height:l.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=s),this._labels[n].effectiveHeight=s}for(n=0;n<this._stripLineLabels.length;n++)"outside"===this._stripLineLabels[n].stripLine.labelPlacement&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(l=(e=this._stripLineLabels[n].textBlock).measureText(),t<(s=0===this.labelAngle?l.height:l.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l.height-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(t=s),this._stripLineLabels[n].effectiveHeight=s)}return e=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?n=e+i:e+t+this.tickLength+i},L.setLayout=function(t,e,n,i,l,s){var r,o,a,u,c=t[0]?t[0].chart:e[0].chart,h=c.isNavigator?0:10,p=c._axes;if(t&&0<t.length)for(var m=0;m<t.length;m++)t[m]&&t[m].calculateAxisParameters();if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateAxisParameters();if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].calculateAxisParameters();if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].calculateAxisParameters();for(m=0;m<p.length;m++)if(p[m]&&p[m].scaleBreaks&&p[m].scaleBreaks._appliedBreaks.length)for(var g=p[m].scaleBreaks._appliedBreaks,f=0;f<g.length&&!(g[f].startValue>p[m].viewportMaximum);f++)g[f].endValue<p[m].viewportMinimum||(d(p[m].scaleBreaks.firstBreakIndex)&&(p[m].scaleBreaks.firstBreakIndex=f),g[f].startValue>=p[m].viewPortMinimum&&(p[m].scaleBreaks.lastBreakIndex=f));var b,v,y,w,x,k=f=0,_=0,C=0,T=0,S=0,M=0,P=o=0;for(g=y=w=x=!1,m=0;m<p.length;m++)p[m]&&p[m].title&&(p[m]._titleTextBlock=new A(p[m].ctx,{text:p[m].title,horizontalAlign:"center",fontSize:p[m].titleFontSize,fontFamily:p[m].titleFontFamily,fontWeight:p[m].titleFontWeight,fontColor:p[m].titleFontColor,fontStyle:p[m].titleFontStyle,borderColor:p[m].titleBorderColor,borderThickness:p[m].titleBorderThickness,backgroundColor:p[m].titleBackgroundColor,cornerRadius:p[m].titleCornerRadius,textBaseline:"top"}));for(m=0;m<p.length;m++)if(p[m].title)switch(p[m]._position){case"left":p[m]._titleTextBlock.maxWidth=p[m].titleMaxWidth||s.height,p[m]._titleTextBlock.maxHeight=p[m].titleWrap?.8*s.width:1.5*p[m].titleFontSize,p[m]._titleTextBlock.angle=-90;break;case"right":p[m]._titleTextBlock.maxWidth=p[m].titleMaxWidth||s.height,p[m]._titleTextBlock.maxHeight=p[m].titleWrap?.8*s.width:1.5*p[m].titleFontSize,p[m]._titleTextBlock.angle=90;break;default:p[m]._titleTextBlock.maxWidth=p[m].titleMaxWidth||s.width,p[m]._titleTextBlock.maxHeight=p[m].titleWrap?.8*s.height:1.5*p[m].titleFontSize,p[m]._titleTextBlock.angle=0}if("normal"===l){C=[],T=[],S=[],M=[];for(var E=[],I=[],D=[],O=[];4>f;){var F=0,N=0,R=0,L=0,B=l=0,V=0,z=0,j=0,H=0,W=0,U=0;if(n&&0<n.length)for(S=[],m=W=0;m<n.length;m++)S.push(Math.ceil(n[m]?n[m].createLabelsAndCalculateWidth():0)),W+=S[m],V+=n[m]&&!c.isNavigator?n[m].margin:0;else S.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(D.push(S),i&&0<i.length)for(M=[],m=U=0;m<i.length;m++)M.push(Math.ceil(i[m]?i[m].createLabelsAndCalculateWidth():0)),U+=M[m],z+=i[m]?i[m].margin:0;else M.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(O.push(M),r=Math.round(s.x1+W+V),a=Math.round(s.x2-U-z>c.width-h?c.width-h:s.x2-U-z),t&&0<t.length)for(C=[],m=j=0;m<t.length;m++)t[m]&&(t[m].lineCoordinates={}),t[m].lineCoordinates.width=Math.abs(a-r),t[m].title&&(t[m]._titleTextBlock.maxWidth=0<t[m].titleMaxWidth&&t[m].titleMaxWidth<t[m].lineCoordinates.width?t[m].titleMaxWidth:t[m].lineCoordinates.width),C.push(Math.ceil(t[m]?t[m].createLabelsAndCalculateHeight():0)),j+=C[m],l+=t[m]&&!c.isNavigator?t[m].margin:0;else C.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(E.push(C),e&&0<e.length)for(T=[],m=H=0;m<e.length;m++)e[m]&&(e[m].lineCoordinates={}),e[m].lineCoordinates.width=Math.abs(a-r),e[m].title&&(e[m]._titleTextBlock.maxWidth=0<e[m].titleMaxWidth&&e[m].titleMaxWidth<e[m].lineCoordinates.width?e[m].titleMaxWidth:e[m].lineCoordinates.width),T.push(Math.ceil(e[m]?e[m].createLabelsAndCalculateHeight():0)),H+=T[m],B+=e[m]&&!c.isNavigator?e[m].margin:0;else T.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(I.push(T),t&&0<t.length)for(m=0;m<t.length;m++)t[m]&&(t[m].lineCoordinates.x1=r,a=Math.round(s.x2-U-z>c.width-h?c.width-h:s.x2-U-z),t[m]._labels&&1<t[m]._labels.length&&(o=u=0,o="dateTime"===t[m].valueType?t[m]._labels[t[m]._labels.length-2]:t[m]._labels[t[m]._labels.length-1],k=(u=t[m]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),_=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle))),!t[m]||!t[m].labelAutoFit||d(b)||d(v)||c.isNavigator||(o=0,0<t[m].labelAngle?v+_>a&&(o+=0<t[m].labelAngle?v+_-a-U:0):0>t[m].labelAngle?b-k<r&&b-k<t[m].viewportMinimum&&(P=r-(V+t[m].tickLength+S+b-k+t[m].labelFontSize/2)):0===t[m].labelAngle&&(v+_>a&&(o=v+_/2-a-U),b-k<r&&b-k<t[m].viewportMinimum&&(P=r-V-t[m].tickLength-S-b+k/2)),t[m].viewportMaximum===t[m].maximum&&t[m].viewportMinimum===t[m].minimum&&0<t[m].labelAngle&&0<o?a-=o:t[m].viewportMaximum===t[m].maximum&&t[m].viewportMinimum===t[m].minimum&&0>t[m].labelAngle&&0<P?r+=P:t[m].viewportMaximum===t[m].maximum&&t[m].viewportMinimum===t[m].minimum&&0===t[m].labelAngle&&(0<P&&(r+=P),0<o&&(a-=o))),c.panEnabled?j=c.sessionVariables.axisX.height:c.sessionVariables.axisX.height=j,o=Math.round(s.y2-j-l+F),u=Math.round(s.y2),t[m].lineCoordinates.x2=a,t[m].lineCoordinates.width=a-r,t[m].lineCoordinates.y1=o,t[m].lineCoordinates.y2=o,t[m].bounds={x1:r,y1:o,x2:a,y2:u-(j+l-C[m]-F),width:a-r,height:u-o}),F+=C[m]+t[m].margin;if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].lineCoordinates.x1=Math.round(s.x1+W+V),e[m].lineCoordinates.x2=Math.round(s.x2-U-z>c.width-h?c.width-h:s.x2-U-z),e[m].lineCoordinates.width=Math.abs(a-r),e[m]._labels&&1<e[m]._labels.length&&(o="dateTime"===e[m].valueType?e[m]._labels[e[m]._labels.length-2]:e[m]._labels[e[m]._labels.length-1],k=(u=e[m]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),_=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle))),c.panEnabled?H=c.sessionVariables.axisX2.height:c.sessionVariables.axisX2.height=H,o=Math.round(s.y1),u=Math.round(s.y2+e[m].margin),e[m].lineCoordinates.y1=o+H+B-N,e[m].lineCoordinates.y2=o,e[m].bounds={x1:r,y1:o+(H+B-T[m]-N),x2:a,y2:u,width:a-r,height:u-o},N+=T[m]+e[m].margin;if(n&&0<n.length)for(m=0;m<n.length;m++)V=c.isNavigator?0:10,n[m]&&(r=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),V=n[m]._labels&&0<n[m]._labels.length?n[m]._labels[n[m]._labels.length-1].textBlock.height/2:h,o=Math.round(s.y1+H+B<Math.max(V,h)?Math.max(V,h):s.y1+H+B),a=Math.round(t[0]?t[0].lineCoordinates.x1:e[0].lineCoordinates.x1),V=0<t.length?0:n[m]._labels&&0<n[m]._labels.length?n[m]._labels[0].textBlock.height/2:h,u=Math.round(s.y2-j-l-V),n[m].lineCoordinates={x1:a-R,y1:o,x2:a-R,y2:u,height:Math.abs(u-o)},n[m].bounds={x1:r-(S[m]+R),y1:o,x2:a,y2:u,width:a-r,height:u-o},n[m].title&&(n[m]._titleTextBlock.maxWidth=0<n[m].titleMaxWidth&&n[m].titleMaxWidth<n[m].lineCoordinates.height?n[m].titleMaxWidth:n[m].lineCoordinates.height),R+=S[m]+n[m].margin);if(i&&0<i.length)for(m=0;m<i.length;m++)i[m]&&(r=Math.round(t[0]?t[0].lineCoordinates.x2:e[0].lineCoordinates.x2),a=Math.round(r),V=i[m]._labels&&0<i[m]._labels.length?i[m]._labels[i[m]._labels.length-1].textBlock.height/2:0,o=Math.round(s.y1+H+B<Math.max(V,h)?Math.max(V,h):s.y1+H+B),V=0<t.length?0:i[m]._labels&&0<i[m]._labels.length?i[m]._labels[0].textBlock.height/2:0,u=Math.round(s.y2-(j+l+V)),i[m].lineCoordinates={x1:r+L,y1:o,x2:r+L,y2:u,height:Math.abs(u-o)},i[m].bounds={x1:r,y1:o,x2:a+(M[m]+L),y2:u,width:a-r,height:u-o},i[m].title&&(i[m]._titleTextBlock.maxWidth=0<i[m].titleMaxWidth&&i[m].titleMaxWidth<i[m].lineCoordinates.height?i[m].titleMaxWidth:i[m].lineCoordinates.height),L+=M[m]+i[m].margin);if(t&&0<t.length)for(m=0;m<t.length;m++)t[m]&&(t[m].calculateValueToPixelConversionParameters(),t[m].calculateBreaksSizeInValues(),t[m]._labels&&1<t[m]._labels.length&&(b=(t[m].logarithmic?Math.log(t[m]._labels[1].position/t[m].viewportMinimum)/t[m].conversionParameters.lnLogarithmBase:t[m]._labels[1].position-t[m].viewportMinimum)*Math.abs(t[m].conversionParameters.pixelPerUnit)+t[m].lineCoordinates.x1,r=t[m].getApparentDifference(t[m].viewportMinimum,r=t[m]._labels[t[m]._labels.length-("dateTime"===t[m].valueType?2:1)].position),v=t[m].logarithmic?(1<r?Math.log(r)/t[m].conversionParameters.lnLogarithmBase*Math.abs(t[m].conversionParameters.pixelPerUnit):0)+t[m].lineCoordinates.x1:(0<r?r*Math.abs(t[m].conversionParameters.pixelPerUnit):0)+t[m].lineCoordinates.x1));if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateValueToPixelConversionParameters(),e[m].calculateBreaksSizeInValues(),e[m]._labels&&1<e[m]._labels.length&&(b=(e[m].logarithmic?Math.log(e[m]._labels[1].position/e[m].viewportMinimum)/e[m].conversionParameters.lnLogarithmBase:e[m]._labels[1].position-e[m].viewportMinimum)*Math.abs(e[m].conversionParameters.pixelPerUnit)+e[m].lineCoordinates.x1,r=e[m].getApparentDifference(e[m].viewportMinimum,r=e[m]._labels[e[m]._labels.length-("dateTime"===e[m].valueType?2:1)].position),v=e[m].logarithmic?(1<r?Math.log(r)/e[m].conversionParameters.lnLogarithmBase*Math.abs(e[m].conversionParameters.pixelPerUnit):0)+e[m].lineCoordinates.x1:(0<r?r*Math.abs(e[m].conversionParameters.pixelPerUnit):0)+e[m].lineCoordinates.x1);for(m=0;m<p.length;m++)"axisY"===p[m].type&&(p[m].calculateValueToPixelConversionParameters(),p[m].calculateBreaksSizeInValues());if(0<f){if(t&&0<t.length)for(m=0;m<t.length;m++)g=E[f-1][m]===E[f][m];else g=!0;if(e&&0<e.length)for(m=0;m<e.length;m++)y=I[f-1][m]===I[f][m];else y=!0;if(n&&0<n.length)for(m=0;m<n.length;m++)w=D[f-1][m]===D[f][m];else w=!0;if(i&&0<i.length)for(m=0;m<i.length;m++)x=O[f-1][m]===O[f][m];else x=!0}if(g&&y&&w&&x)break;f++}if(t&&0<t.length)for(m=0;m<t.length;m++)t[m].calculateStripLinesThicknessInValues(),t[m].calculateBreaksInPixels();if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateStripLinesThicknessInValues(),e[m].calculateBreaksInPixels();if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].calculateStripLinesThicknessInValues(),n[m].calculateBreaksInPixels();if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].calculateStripLinesThicknessInValues(),i[m].calculateBreaksInPixels()}else{for(h=[],b=[],P=[],k=[],v=[],_=[],E=[],I=[];4>f;){if(j=L=N=R=z=V=B=l=O=D=F=H=0,t&&0<t.length)for(P=[],m=L=0;m<t.length;m++)P.push(Math.ceil(t[m]?t[m].createLabelsAndCalculateWidth():0)),L+=P[m],l+=t[m]&&!c.isNavigator?t[m].margin:0;else P.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(E.push(P),e&&0<e.length)for(k=[],m=j=0;m<e.length;m++)k.push(Math.ceil(e[m]?e[m].createLabelsAndCalculateWidth():0)),j+=k[m],B+=e[m]?e[m].margin:0;else k.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(I.push(k),n&&0<n.length)for(m=0;m<n.length;m++)n[m].lineCoordinates={},r=Math.round(s.x1+L+l),a=Math.round(s.x2-j-B>c.width-10?c.width-10:s.x2-j-B),n[m].labelAutoFit&&!d(C)&&(0<!t.length&&(r=0>n[m].labelAngle?Math.max(r,C):0===n[m].labelAngle?Math.max(r,C/2):r),0<!e.length&&(a=0<n[m].labelAngle?a-T/2:0===n[m].labelAngle?a-T/2:a)),n[m].lineCoordinates.x1=r,n[m].lineCoordinates.x2=a,n[m].lineCoordinates.width=Math.abs(a-r),n[m].title&&(n[m]._titleTextBlock.maxWidth=0<n[m].titleMaxWidth&&n[m].titleMaxWidth<n[m].lineCoordinates.width?n[m].titleMaxWidth:n[m].lineCoordinates.width);if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].lineCoordinates={},r=Math.round(s.x1+L+l),a=Math.round(s.x2-j-B>i[m].chart.width-10?i[m].chart.width-10:s.x2-j-B),i[m]&&i[m].labelAutoFit&&!d(S)&&(0<!t.length&&(r=0<i[m].labelAngle?Math.max(r,S):0===i[m].labelAngle?Math.max(r,S/2):r),0<!e.length&&(a-=M/2)),i[m].lineCoordinates.x1=r,i[m].lineCoordinates.x2=a,i[m].lineCoordinates.width=Math.abs(a-r),i[m].title&&(i[m]._titleTextBlock.maxWidth=0<i[m].titleMaxWidth&&i[m].titleMaxWidth<i[m].lineCoordinates.width?i[m].titleMaxWidth:i[m].lineCoordinates.width);if(n&&0<n.length)for(h=[],m=R=0;m<n.length;m++)h.push(Math.ceil(n[m]?n[m].createLabelsAndCalculateHeight():0)),R+=h[m]+n[m].margin,V+=n[m].margin;else h.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(v.push(h),i&&0<i.length)for(b=[],m=N=0;m<i.length;m++)b.push(Math.ceil(i[m]?i[m].createLabelsAndCalculateHeight():0)),N+=b[m],z+=i[m].margin;else b.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(_.push(b),n&&0<n.length)for(m=0;m<n.length;m++)0<n[m]._labels.length&&(o=n[m]._labels[n[m]._labels.length-1],C=(u=n[m]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),T=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle)));if(i&&0<i.length)for(m=0;m<i.length;m++)i[m]&&0<i[m]._labels.length&&(o=i[m]._labels[i[m]._labels.length-1],S=(u=i[m]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),M=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle)));if(c.panEnabled)for(m=0;m<n.length;m++)h[m]=c.sessionVariables.axisY.height;else for(m=0;m<n.length;m++)c.sessionVariables.axisY.height=h[m];if(n&&0<n.length)for(m=n.length-1;0<=m;m--)o=Math.round(s.y2),u=Math.round(s.y2>n[m].chart.height-10?n[m].chart.height-10:s.y2),n[m].lineCoordinates.y1=o-(h[m]+n[m].margin+H),n[m].lineCoordinates.y2=o-(h[m]+n[m].margin+H),n[m].bounds={x1:r,y1:o-(h[m]+H+n[m].margin),x2:a,y2:u-(H+n[m].margin),width:a-r,height:h[m]},n[m].title&&(n[m]._titleTextBlock.maxWidth=0<n[m].titleMaxWidth&&n[m].titleMaxWidth<n[m].lineCoordinates.width?n[m].titleMaxWidth:n[m].lineCoordinates.width),H+=h[m]+n[m].margin;if(i&&0<i.length)for(m=i.length-1;0<=m;m--)i[m]&&(o=Math.round(s.y1),u=Math.round(s.y1+(b[m]+i[m].margin+F)),i[m].lineCoordinates.y1=u,i[m].lineCoordinates.y2=u,i[m].bounds={x1:r,y1:o+(i[m].margin+F),x2:a,y2:u,width:a-r,height:N},i[m].title&&(i[m]._titleTextBlock.maxWidth=0<i[m].titleMaxWidth&&i[m].titleMaxWidth<i[m].lineCoordinates.width?i[m].titleMaxWidth:i[m].lineCoordinates.width),F+=b[m]+i[m].margin);if(t&&0<t.length)for(m=0;m<t.length;m++){if(V=t[m]._labels&&0<t[m]._labels.length?t[m]._labels[0].textBlock.fontSize/2:0,r=Math.round(s.x1+l),o=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:s.y1<Math.max(V,10)?Math.max(V,10):s.y1):s.y1<Math.max(V,10)?Math.max(V,10):s.y1,a=Math.round(s.x1+L+l),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:s.y2-R>c.height-Math.max(V,10)?c.height-Math.max(V,10):s.y2-R):s.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):s.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(a=0>n[V].labelAngle?Math.max(a,C):0===n[V].labelAngle?Math.max(a,C/2):a,r=0>n[V].labelAngle||0===n[V].labelAngle?a-L:r);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(r=(a=i[V].lineCoordinates.x1)-L);t[m].lineCoordinates={x1:a-D,y1:o,x2:a-D,y2:u,height:Math.abs(u-o)},t[m].bounds={x1:a-(P[m]+D),y1:o,x2:a,y2:u,width:a-r,height:u-o},t[m].title&&(t[m]._titleTextBlock.maxWidth=0<t[m].titleMaxWidth&&t[m].titleMaxWidth<t[m].lineCoordinates.height?t[m].titleMaxWidth:t[m].lineCoordinates.height),t[m].calculateValueToPixelConversionParameters(),t[m].calculateBreaksSizeInValues(),D+=P[m]+t[m].margin}if(e&&0<e.length)for(m=0;m<e.length;m++){if(V=e[m]._labels&&0<e[m]._labels.length?e[m]._labels[0].textBlock.fontSize/2:0,r=Math.round(s.x1-l),o=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:s.y1<Math.max(V,10)?Math.max(V,10):s.y1):s.y1<Math.max(V,10)?Math.max(V,10):s.y1,a=Math.round(s.x2-j-B),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:s.y2-R>c.height-Math.max(V,10)?c.height-Math.max(V,10):s.y2-R):s.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):s.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(a=0>n[V].labelAngle?Math.max(a,C):0===n[V].labelAngle?Math.max(a,C/2):a,r=0>n[V].labelAngle||0===n[V].labelAngle?a-j:r);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(r=(a=i[V].lineCoordinates.x2)-j);e[m].lineCoordinates={x1:a+O,y1:o,x2:a+O,y2:u,height:Math.abs(u-o)},e[m].bounds={x1:r,y1:o,x2:a+k[m]+O,y2:u,width:a-r,height:u-o},e[m].title&&(e[m]._titleTextBlock.maxWidth=0<e[m].titleMaxWidth&&e[m].titleMaxWidth<e[m].lineCoordinates.height?e[m].titleMaxWidth:e[m].lineCoordinates.height),e[m].calculateValueToPixelConversionParameters(),e[m].calculateBreaksSizeInValues(),O+=k[m]+e[m].margin}for(m=0;m<p.length;m++)"axisY"===p[m].type&&(p[m].calculateValueToPixelConversionParameters(),p[m].calculateBreaksSizeInValues());if(0<f){if(t&&0<t.length)for(m=0;m<t.length;m++)g=E[f-1][m]===E[f][m];else g=!0;if(e&&0<e.length)for(m=0;m<e.length;m++)y=I[f-1][m]===I[f][m];else y=!0;if(n&&0<n.length)for(m=0;m<n.length;m++)w=v[f-1][m]===v[f][m];else w=!0;if(i&&0<i.length)for(m=0;m<i.length;m++)x=_[f-1][m]===_[f][m];else x=!0}if(g&&y&&w&&x)break;f++}if(n&&0<n.length)for(m=0;m<n.length;m++)n[m].calculateStripLinesThicknessInValues(),n[m].calculateBreaksInPixels();if(i&&0<i.length)for(m=0;m<i.length;m++)i[m].calculateStripLinesThicknessInValues(),i[m].calculateBreaksInPixels();if(t&&0<t.length)for(m=0;m<t.length;m++)t[m].calculateStripLinesThicknessInValues(),t[m].calculateBreaksInPixels();if(e&&0<e.length)for(m=0;m<e.length;m++)e[m].calculateStripLinesThicknessInValues(),e[m].calculateBreaksInPixels()}},L.render=function(t,e,n,i,l){var s=t[0]?t[0].chart:e[0].chart;l=s.ctx;var r=s._axes;if(s.alignVerticalAxes&&s.alignVerticalAxes(),l.save(),l.beginPath(),t[0]&&l.rect(5,t[0].bounds.y1,t[0].chart.width-10,t[0].bounds.height),e[0]&&l.rect(5,e[e.length-1].bounds.y1,e[0].chart.width-10,e[0].bounds.height),l.clip(),t&&0<t.length)for(var o=0;o<t.length;o++)t[o].renderLabelsTicksAndTitle();if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderLabelsTicksAndTitle();if(l.restore(),n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderLabelsTicksAndTitle();if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderLabelsTicksAndTitle();if(s.preparePlotArea(),s=s.plotArea,l.save(),l.beginPath(),l.rect(s.x1,s.y1,Math.abs(s.x2-s.x1),Math.abs(s.y2-s.y1)),l.clip(),t&&0<t.length)for(o=0;o<r.length;o++)r[o].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderInterlacedColors();if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderInterlacedColors();if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderInterlacedColors();if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderInterlacedColors();if(l.restore(),t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderGrid(),H&&(t[o].createMask(),t[o].renderBreaksBackground());if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderGrid(),H&&(e[o].createMask(),e[o].renderBreaksBackground());if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderGrid(),H&&(n[o].createMask(),n[o].renderBreaksBackground());if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderGrid(),H&&(i[o].createMask(),i[o].renderBreaksBackground());if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderAxisLine();if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderAxisLine();if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderAxisLine();if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderAxisLine();if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderStripLinesOfThicknessType("pixel");if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderStripLinesOfThicknessType("pixel")},L.prototype.calculateStripLinesThicknessInValues=function(){for(var t=0;t<this.stripLines.length;t++)if(null!==this.stripLines[t].startValue&&null!==this.stripLines[t].endValue){var e=Math.min(this.stripLines[t].startValue,this.stripLines[t].endValue),n=Math.max(this.stripLines[t].startValue,this.stripLines[t].endValue);e=this.getApparentDifference(e,n),this.stripLines[t].value=this.logarithmic?this.stripLines[t].value*Math.sqrt(Math.log(this.stripLines[t].endValue/this.stripLines[t].startValue)/Math.log(e)):this.stripLines[t].value+(Math.abs(this.stripLines[t].endValue-this.stripLines[t].startValue)-e)/2,this.stripLines[t].thickness=e,this.stripLines[t]._thicknessType="value"}},L.prototype.calculateBreaksSizeInValues=function(){for(var t,e="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||e/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),l=this.scaleBreaks&&!d(this.scaleBreaks.options.spacing),s=0;s<n.length;s++)t=l||!d(n[s].options.spacing),n[s].spacing=h(n[s].spacing,e,8,t?.1*e:8,t?0:3)<<0,n[s].size=0>n[s].spacing?0:Math.abs(n[s].spacing/i),this.logarithmic&&(n[s].size=Math.pow(this.logarithmBase,n[s].size))},L.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];t.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var e=0;e<t.length&&!(t[e].startValue>this.conversionParameters.maximum);e++)t[e].endValue<this.conversionParameters.minimum||(d(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=e),t[e].startValue>=this.conversionParameters.minimum&&(t[e].startPixel=this.convertValueToPixel(t[e].startValue),this.scaleBreaks.lastBreakIndex=e),t[e].endValue<=this.conversionParameters.maximum&&(t[e].endPixel=this.convertValueToPixel(t[e].endValue)))}},L.prototype.renderLabelsTicksAndTitle=function(){var t,e,n=this,i=!1,l=0,s=0,r=1,o=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(r=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){l=[],r=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var a,u=this.viewportMaximum,c=this.lineCoordinates.width/Math.log(this.range),h=this._labels.length-1;0<=h&&!((t=this._labels[h]).position<this.viewportMinimum);h--)t.position>this.viewportMaximum||!(h===this._labels.length-1||a<Math.log(u/t.position)*c/r)||(l.push(t),u=t.position,a=t.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||(l+=a=t.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));l>this.lineCoordinates.width*r&&this.labelAutoFit&&(i=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var d;for(l=[],u=this.viewportMaximum,c=this.lineCoordinates.height/Math.log(this.range),h=this._labels.length-1;0<=h&&!((t=this._labels[h]).position<this.viewportMinimum);h--)t.position>this.viewportMaximum||!(h===this._labels.length-1||d<Math.log(u/t.position)*c)||(l.push(t),u=t.position,d=t.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||(s+=d=t.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+t.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));s>this.lineCoordinates.height*r&&this.labelAutoFit&&(i=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(t,e){return t.position-e.position})),h=0,"bottom"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(s,e.y<<0),this.ctx.lineTo(s,e.y+this.tickLength<<0),this.ctx.stroke()),0===t.textBlock.angle?(e.x-=t.textBlock.width/2,e.y="inside"===this.labelPlacement?e.y-(this.tickLength+t.textBlock.fontSize/2):e.y+this.tickLength+t.textBlock.fontSize/2):(e.x="inside"===this.labelPlacement?0>this.labelAngle?e.x:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):e.x-(0>this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y="inside"===this.labelPlacement?0>this.labelAngle?e.y-this.tickLength-5:e.y-this.tickLength-Math.abs(t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):e.y+this.tickLength+Math.abs(0>this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),t.textBlock.x=e.x,t.textBlock.y=e.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==n.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(l,e.y<<0),n.ctx.lineTo(l,e.y-n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(s,e.y<<0),this.ctx.lineTo(s,e.y-this.tickLength<<0),this.ctx.stroke()),0===t.textBlock.angle?(e.x-=t.textBlock.width/2,e.y="inside"===this.labelPlacement?e.y+this.labelFontSize/2+this.tickLength+5:e.y-(this.tickLength+t.textBlock.height-t.textBlock.fontSize/2)):(e.x="inside"===this.labelPlacement?0<this.labelAngle?e.x:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):e.x+(t.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y="inside"===this.labelPlacement?0<this.labelAngle?e.y+this.tickLength+5:e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:e.y-(this.tickLength+((t.textBlock.height-t.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),t.textBlock.x=e.x,t.textBlock.y=e.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(l,e.y<<0),n.ctx.lineTo(l,e.y+n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,s),this.ctx.lineTo(e.x-this.tickLength<<0,s),this.ctx.stroke()),0===this.labelAngle?(t.textBlock.y=e.y,t.textBlock.x="inside"===this.labelPlacement?e.x+this.tickLength+5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(t.textBlock.y="inside"===this.labelPlacement?e.y:e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.textBlock.x="inside"===this.labelPlacement?e.x+this.tickLength+5:0<this.labelAngle?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==n.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e.x<<0,l),n.ctx.lineTo(e.x+n.tickLength<<0,l),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(e=this.getPixelCoordinatesOnAxis(t.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,s=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,s),this.ctx.lineTo(e.x+this.tickLength<<0,s),this.ctx.stroke()),0===this.labelAngle?(t.textBlock.y=e.y,t.textBlock.x="inside"===this.labelPlacement?e.x-t.textBlock.width-this.tickLength-5:e.x+this.tickLength+5):(t.textBlock.y="inside"===this.labelPlacement?e.y-t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?e.y:e.y-(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.textBlock.x="inside"===this.labelPlacement?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?e.x+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(e=n.getPixelCoordinatesOnAxis(t.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==n.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(e.x<<0,l),n.ctx.lineTo(e.x-n.tickLength<<0,l),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(o=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)(t=n._labels[h]).position<n.viewportMinimum||t.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit||(n.ctx.save(),n.ctx.beginPath(),t.textBlock.render(!0),n.ctx.restore())}),this);else for(h=0;h<this._labels.length;h++)(t=this._labels[h]).position<this.viewportMinimum||t.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||t.textBlock.render(!0)},L.prototype.renderInterlacedColors=function(){var t,e,n=this.chart.plotArea.ctx,i=this.chart.plotArea,l=0;if(t=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)t?(e=this.getPixelCoordinatesOnAxis(this._labels[l].position),t=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),n.fillRect(i.x1,Math.min(e.y,t.y),Math.abs(i.x1-i.x2),Math.abs(t.y-e.y)),t=!1):t=!0}else for(n.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)t?(t=this.getPixelCoordinatesOnAxis(this._labels[l].position),e=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),n.fillRect(Math.min(e.x,t.x),i.y1,Math.abs(e.x-t.x),Math.abs(i.y1-i.y2)),t=!1):t=!0;n.beginPath()},L.prototype.renderStripLinesOfThicknessType=function(t){if(this.stripLines&&0<this.stripLines.length&&t){var e,n=this,i=0,l=0,s=!1,r=!1,o=[],a=[];for(r=!1,i=0;i<this.stripLines.length;i++){var u=this.stripLines[i];u._thicknessType===t&&("pixel"===t&&(u.value<this.viewportMinimum||u.value>this.viewportMaximum||d(u.value)||isNaN(this.range))||o.push(u))}for(i=0;i<this._stripLineLabels.length;i++)if(u=this.stripLines[i],!((e=this._stripLineLabels[i]).position<this.viewportMinimum||e.position>this.viewportMaximum||isNaN(this.range))){if(t=this.getPixelCoordinatesOnAxis(e.position),"outside"===e.stripLine.labelPlacement)if(u&&(this.ctx.strokeStyle=u.color,"pixel"===u._thicknessType&&(this.ctx.lineWidth=u.thickness)),"bottom"===this._position){var c=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,t.y<<0),this.ctx.lineTo(c,t.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y+=this.tickLength+e.textBlock.fontSize/2):(t.x-=0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,t.y+=this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(c=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,t.y<<0),this.ctx.lineTo(c,t.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(t.x-=e.textBlock.width/2,t.y-=this.tickLength+e.textBlock.height):(t.x+=(e.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y-=this.tickLength+(e.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(c=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,c),this.ctx.lineTo(t.x-this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?t.x=t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(t.y-=e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(c=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,c),this.ctx.lineTo(t.x+this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?t.x=t.x+this.tickLength+5:(t.y=0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),t.x=0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));else e.textBlock.angle=-90,"bottom"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y1+e.textBlock.width+3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,e.textBlock.measureText(),t.x-e.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?t.x-=e.textBlock.height-e.textBlock.fontSize/2:t.x-=e.textBlock.height/2-e.textBlock.fontSize/2+3:(e.textBlock.angle=90,d(u.startValue)?t.x+=e.textBlock.height-e.textBlock.fontSize/2:t.x+=e.textBlock.height/2-e.textBlock.fontSize/2+3),t.y=-90===e.textBlock.angle?"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+e.textBlock.width+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+e.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===e.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-e.textBlock.width)/2:this.chart.plotArea.y2-e.textBlock.width-3):"left"===this._position?(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x2-e.textBlock.width-3):"right"===this._position&&(e.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,e.textBlock.angle=0,e.textBlock.measureText(),t.y-+e.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2-3:t.y-e.textBlock.height<this.chart.plotArea.y2?t.y+=e.textBlock.fontSize/2+3:d(u.startValue)?t.y-=e.textBlock.height-e.textBlock.fontSize/2:t.y-=e.textBlock.height/2-e.textBlock.fontSize/2+3,t.x="near"===e.stripLine.labelAlign?this.chart.plotArea.x2-e.textBlock.width-3:"center"===e.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-e.textBlock.width/2:this.chart.plotArea.x1+3);e.textBlock.x=t.x,e.textBlock.y=t.y,a.push(e)}if(!r){for(r=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<o.length;i++)(u=o[i]).showOnTop?s||(s=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<o.length;l++)(u=o[l]).showOnTop&&u.render();this.ctx.restore()}),u)):u.render();for(i=0;i<a.length;i++)(e=a[i]).stripLine.showOnTop?r||(r=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<a.length;l++)"inside"===(e=a[l]).stripLine.labelPlacement&&e.stripLine.showOnTop&&(n.ctx.save(),n.ctx.beginPath(),n.ctx.rect(n.chart.plotArea.x1,n.chart.plotArea.y1,n.chart.plotArea.width,n.chart.plotArea.height),n.ctx.clip(),e.textBlock.render(!0),n.ctx.restore())}),e.textBlock)):"inside"===e.stripLine.labelPlacement&&e.textBlock.render(!0);this.ctx.restore(),r=!0}if(r)for(r=!1,i=0;i<a.length;i++)(e=a[i]).stripLine.showOnTop?r||(r=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<a.length;l++)"outside"===(e=a[l]).stripLine.labelPlacement&&e.stripLine.showOnTop&&e.textBlock.render(!0)}),e.textBlock)):"outside"===e.stripLine.labelPlacement&&e.textBlock.render(!0)}},L.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},L.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var t=this.scaleBreaks._appliedBreaks;H?(this.maskCanvas=k(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var e=0;e<t.length;e++)t[e].endValue<this.viewportMinimum||t[e].startValue>this.viewportMaximum||isNaN(this.range)||t[e].render(this.maskCtx);this.maskCtx.restore()}},L.prototype.renderCrosshair=function(t,e){this.crosshair.render(t,e)},L.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var t=this.chart.ctx;t.save();var e,n=this.chart.plotArea;if(t.lineWidth=this.gridThickness,t.strokeStyle=this.gridColor,t.setLineDash&&t.setLineDash(f(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[i].position),t.moveTo(e=1==t.lineWidth%2?.5+(e.x<<0):e.x<<0,n.y1<<0),t.lineTo(e,n.y2<<0),t.stroke());else if("left"===this._position||"right"===this._position)for(var i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(t.beginPath(),e=this.getPixelCoordinatesOnAxis(this._labels[i].position),t.moveTo(n.x1<<0,e=1==t.lineWidth%2?.5+(e.y<<0):e.y<<0),t.lineTo(n.x2<<0,e),t.stroke());t.restore()}},L.prototype.renderAxisLine=function(){var t,e,n=this.chart.ctx,i=H?this.chart._preRenderCtx:n,l=Math.ceil(this.tickThickness/(this.reversed?-2:2)),s=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(i.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(t=this.lineCoordinates.x2,e=this.lineCoordinates.x1):(t=this.lineCoordinates.x1,e=this.lineCoordinates.x2),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor?this.lineColor:"black",i.setLineDash&&i.setLineDash(f(this.lineDashType,this.lineThickness));var r=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+s;else for(var o=this.scaleBreaks.firstBreakIndex;o<=this.scaleBreaks.lastBreakIndex;o++)i.moveTo(t,r),i.lineTo(this.scaleBreaks._appliedBreaks[o].startPixel+l,r),t=this.scaleBreaks._appliedBreaks[o].endPixel+s;t&&(i.moveTo(t,r),i.lineTo(e,r)),i.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(t=this.lineCoordinates.y1,e=this.lineCoordinates.y2):(t=this.lineCoordinates.y2,e=this.lineCoordinates.y1),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor,i.setLineDash&&i.setLineDash(f(this.lineDashType,this.lineThickness)),r=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))t=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+l;else for(o=this.scaleBreaks.firstBreakIndex;o<=this.scaleBreaks.lastBreakIndex;o++)i.moveTo(r,t),i.lineTo(r,this.scaleBreaks._appliedBreaks[o].startPixel+s),t=this.scaleBreaks._appliedBreaks[o].endPixel+l;t&&(i.moveTo(r,t),i.lineTo(r,e)),i.stroke()}H&&(n.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),i.clearRect(0,0,this.chart.width,this.chart.height)),i.restore()},L.prototype.getPixelCoordinatesOnAxis=function(t){var e={};return"bottom"!==this._position&&"top"!==this._position||(e.x=this.convertValueToPixel(t),e.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(e.y=this.convertValueToPixel(t),e.x=this.lineCoordinates.x2),e},L.prototype.convertPixelToValue=function(t){if(void 0===t)return null;var e,n=0,i=0,l=(n=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(i="number"==typeof t?t:"left"===this._position||"right"===this._position?t.y:t.x,this.logarithmic){if(t=e=Math.pow(this.logarithmBase,(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<l.length;i++)if(!(l[i].endValue<this.conversionParameters.minimum))if(n)if(l[i].startValue<this.conversionParameters.minimum){if(1<l[i].size&&this.conversionParameters.minimum*Math.pow(l[i].endValue/l[i].startValue,Math.log(e)/Math.log(l[i].size))<l[i].endValue){t=Math.pow(l[i].endValue/l[i].startValue,Math.log(e)/Math.log(l[i].size));break}t*=l[i].endValue/this.conversionParameters.minimum/Math.pow(l[i].size,Math.log(l[i].endValue/this.conversionParameters.minimum)/Math.log(l[i].endValue/l[i].startValue)),e/=Math.pow(l[i].size,Math.log(l[i].endValue/this.conversionParameters.minimum)/Math.log(l[i].endValue/l[i].startValue)),n=!1}else{if(!(e>l[i].startValue/this.conversionParameters.minimum))break;if((e/=l[i].startValue/this.conversionParameters.minimum)<l[i].size){t*=Math.pow(l[i].endValue/l[i].startValue,1===l[i].size?1:Math.log(e)/Math.log(l[i].size))/e;break}t*=l[i].endValue/l[i].startValue/l[i].size,e/=l[i].size,n=!1}else{if(!(e>l[i].startValue/l[i-1].endValue))break;if((e/=l[i].startValue/l[i-1].endValue)<l[i].size){t*=Math.pow(l[i].endValue/l[i].startValue,1===l[i].size?1:Math.log(e)/Math.log(l[i].size))/e;break}t*=l[i].endValue/l[i].startValue/l[i].size,e/=l[i].size}}else for(i=l.length-1;0<=i;i--)if(!(l[i].startValue>this.conversionParameters.minimum))if(n)if(l[i].endValue>this.conversionParameters.minimum){if(1<l[i].size&&this.conversionParameters.minimum*Math.pow(l[i].endValue/l[i].startValue,Math.log(e)/Math.log(l[i].size))>l[i].startValue){t=Math.pow(l[i].endValue/l[i].startValue,Math.log(e)/Math.log(l[i].size));break}t*=l[i].startValue/this.conversionParameters.minimum*Math.pow(l[i].size,Math.log(l[i].startValue/this.conversionParameters.minimum)/Math.log(l[i].endValue/l[i].startValue))*e,e*=Math.pow(l[i].size,Math.log(this.conversionParameters.minimum/l[i].startValue)/Math.log(l[i].endValue/l[i].startValue)),n=!1}else{if(!(e<l[i].endValue/this.conversionParameters.minimum))break;if((e/=l[i].endValue/this.conversionParameters.minimum)>1/l[i].size){t*=Math.pow(l[i].endValue/l[i].startValue,1>=l[i].size?1:Math.log(e)/Math.log(l[i].size))*e;break}t/=l[i].endValue/l[i].startValue/l[i].size,e*=l[i].size,n=!1}else{if(!(e<l[i].endValue/l[i+1].startValue))break;if((e/=l[i].endValue/l[i+1].startValue)>1/l[i].size){t*=Math.pow(l[i].endValue/l[i].startValue,1>=l[i].size?1:Math.log(e)/Math.log(l[i].size))*e;break}t/=l[i].endValue/l[i].startValue/l[i].size,e*=l[i].size}n=t*this.viewportMinimum}else{if(t=e=(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<l.length;i++)if(!(l[i].endValue<this.conversionParameters.minimum))if(n)if(l[i].startValue<this.conversionParameters.minimum){if(l[i].size&&this.conversionParameters.minimum+e*(l[i].endValue-l[i].startValue)/l[i].size<l[i].endValue){t=0>=l[i].size?0:e*(l[i].endValue-l[i].startValue)/l[i].size;break}t+=l[i].endValue-this.conversionParameters.minimum-l[i].size*(l[i].endValue-this.conversionParameters.minimum)/(l[i].endValue-l[i].startValue),e-=l[i].size*(l[i].endValue-this.conversionParameters.minimum)/(l[i].endValue-l[i].startValue),n=!1}else{if(!(e>l[i].startValue-this.conversionParameters.minimum))break;if((e-=l[i].startValue-this.conversionParameters.minimum)<l[i].size){t+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:e/l[i].size)-e;break}t+=l[i].endValue-l[i].startValue-l[i].size,e-=l[i].size,n=!1}else{if(!(e>l[i].startValue-l[i-1].endValue))break;if((e-=l[i].startValue-l[i-1].endValue)<l[i].size){t+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:e/l[i].size)-e;break}t+=l[i].endValue-l[i].startValue-l[i].size,e-=l[i].size}}else for(i=l.length-1;0<=i;i--)if(!(l[i].startValue>this.conversionParameters.minimum))if(n)if(l[i].endValue>this.conversionParameters.minimum){if(l[i].size&&this.conversionParameters.minimum+e*(l[i].endValue-l[i].startValue)/l[i].size>l[i].startValue){t=0>=l[i].size?0:e*(l[i].endValue-l[i].startValue)/l[i].size;break}t+=l[i].startValue-this.conversionParameters.minimum+l[i].size*(this.conversionParameters.minimum-l[i].startValue)/(l[i].endValue-l[i].startValue),e+=l[i].size*(this.conversionParameters.minimum-l[i].startValue)/(l[i].endValue-l[i].startValue),n=!1}else{if(!(e<l[i].endValue-this.conversionParameters.minimum))break;if((e-=l[i].endValue-this.conversionParameters.minimum)>-1*l[i].size){t+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:e/l[i].size)+e;break}t-=l[i].endValue-l[i].startValue-l[i].size,e+=l[i].size,n=!1}else{if(!(e<l[i].endValue-l[i+1].startValue))break;if((e-=l[i].endValue-l[i+1].startValue)>-1*l[i].size){t+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:e/l[i].size)+e;break}t-=l[i].endValue-l[i].startValue-l[i].size,e+=l[i].size}n=this.conversionParameters.minimum+t}return n},L.prototype.convertValueToPixel=function(t){return t=this.getApparentDifference(this.conversionParameters.minimum,t,t),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(t/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(t-this.conversionParameters.minimum)+.5},L.prototype.getApparentDifference=function(t,e,n,i){var l=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){n=d(n)?e/t:n;for(var s=0;s<l.length&&!(e<l[s].startValue);s++)t>l[s].endValue||(t<=l[s].startValue&&e>=l[s].endValue?n=n/l[s].endValue*l[s].startValue*l[s].size:t>=l[s].startValue&&e>=l[s].endValue?n=n/l[s].endValue*t*Math.pow(l[s].size,Math.log(l[s].endValue/t)/Math.log(l[s].endValue/l[s].startValue)):t<=l[s].startValue&&e<=l[s].endValue?n=n/e*l[s].startValue*Math.pow(l[s].size,Math.log(e/l[s].startValue)/Math.log(l[s].endValue/l[s].startValue)):!i&&t>l[s].startValue&&e<l[s].endValue&&(n=t*Math.pow(l[s].size,Math.log(e/t)/Math.log(l[s].endValue/l[s].startValue))))}else for(n=d(n)?Math.abs(e-t):n,s=0;s<l.length&&!(e<l[s].startValue);s++)t>l[s].endValue||(t<=l[s].startValue&&e>=l[s].endValue?n=n-l[s].endValue+l[s].startValue+l[s].size:t>l[s].startValue&&e>=l[s].endValue?n=n-l[s].endValue+t+l[s].size*(l[s].endValue-t)/(l[s].endValue-l[s].startValue):t<=l[s].startValue&&e<l[s].endValue?n=n-e+l[s].startValue+l[s].size*(e-l[s].startValue)/(l[s].endValue-l[s].startValue):!i&&t>l[s].startValue&&e<l[s].endValue&&(n=t+l[s].size*(e-t)/(l[s].endValue-l[s].startValue)));return n},L.prototype.setViewPortRange=function(t,e){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(t,e),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(t,e)},L.prototype.getXValueAt=function(t){if(!t)return null;var e=null;return"left"===this._position?e=this.convertPixelToValue(t.y):"bottom"===this._position&&(e=this.convertPixelToValue(t.x)),e},L.prototype.calculateValueToPixelConversionParameters=function(t){t=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var e={pixelPerUnit:null,minimum:null,reference:null},n=this.lineCoordinates.width,i=this.lineCoordinates.height;if(n="bottom"===this._position||"top"===this._position?n:i,i=Math.abs(this.range),this.logarithmic)for(var l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?n=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(i=i/t[l].endValue*t[l].startValue,n=0<t[l].spacing.toString().indexOf("%")?n*(1-parseFloat(t[l].spacing)/100):n-Math.min(t[l].spacing,.1*n)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(i=i/t[l].endValue*this.viewportMinimum,n=0<t[l].spacing.toString().indexOf("%")?n*(1-parseFloat(t[l].spacing)/100*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):n-Math.min(t[l].spacing,.1*n)*Math.log(t[l].endValue/this.viewportMinimum)/Math.log(t[l].endValue/t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(i=i/this.viewportMaximum*t[l].startValue,n=0<t[l].spacing.toString().indexOf("%")?n*(1-parseFloat(t[l].spacing)/100*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)):n-Math.min(t[l].spacing,.1*n)*Math.log(this.viewportMaximum/t[l].startValue)/Math.log(t[l].endValue/t[l].startValue)));else for(l=0;l<t.length&&!(this.viewportMaximum<t[l].startValue);l++)this.viewportMinimum>t[l].endValue||(this.viewportMinimum>=t[l].startValue&&this.viewportMaximum<=t[l].endValue?n=0:this.viewportMinimum<=t[l].startValue&&this.viewportMaximum>=t[l].endValue?(i=i-t[l].endValue+t[l].startValue,n=0<t[l].spacing.toString().indexOf("%")?n*(1-parseFloat(t[l].spacing)/100):n-Math.min(t[l].spacing,.1*n)):this.viewportMinimum>t[l].startValue&&this.viewportMaximum>=t[l].endValue?(i=i-t[l].endValue+this.viewportMinimum,n=0<t[l].spacing.toString().indexOf("%")?n*(1-parseFloat(t[l].spacing)/100*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):n-Math.min(t[l].spacing,.1*n)*(t[l].endValue-this.viewportMinimum)/(t[l].endValue-t[l].startValue)):this.viewportMinimum<=t[l].startValue&&this.viewportMaximum<t[l].endValue&&(i=i-this.viewportMaximum+t[l].startValue,n=0<t[l].spacing.toString().indexOf("%")?n*(1-parseFloat(t[l].spacing)/100*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)):n-Math.min(t[l].spacing,.1*n)*(this.viewportMaximum-t[l].startValue)/(t[l].endValue-t[l].startValue)));e.minimum=this.viewportMinimum,e.maximum=this.viewportMaximum,e.range=i,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?-1:1)*n*e.lnLogarithmBase/Math.log(Math.abs(i))):e.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(i),e.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(e.lnLogarithmBase=Math.log(this.logarithmBase),e.pixelPerUnit=(this.reversed?1:-1)*n*e.lnLogarithmBase/Math.log(Math.abs(i))):e.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(i),e.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=e},L.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var t=this.chart.layoutManager.getFreeSpace(),e=!1,n=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=t.width,this.maxHeight=t.height):(this.maxWidth=t.height,this.maxHeight=t.width),t="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var i,l,s,r=4;if("axisX"===this.type&&(r=600>this.maxWidth?8:6),t=Math.max(r,Math.floor(this.maxWidth/t)),r=0,!d(this.options.viewportMinimum)&&!d(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!d(this.options.viewportMinimum)||d(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!d(this.options.viewportMaximum)||d(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(r=0;r<this.scaleBreaks._appliedBreaks.length;r++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[r].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[r].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[r].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[r].endValue)){this.scaleBreaks._appliedBreaks.splice(r,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(i=0;i<this.dataSeries.length;i++)"dateTime"===this.dataSeries[i].xValueType&&(n=!0);0==(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(l+=r=void 0===this.options.interval?.4:this.options.interval,i-=r),1/0!==this.dataInfo.minDiff?s=this.dataInfo.minDiff:1<l-i?s=.5*Math.abs(l-i):(s=1,n&&(e=!0))}else"axisY"===this.type&&(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(i)||isFinite(l)?isFinite(i)?isFinite(l)||(l=i):i=l:(l=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===i&&0===l?(l+=9,i=0):0==l-i?(l+=r=Math.min(Math.abs(.01*Math.abs(l)),5),i-=r):i>l?(r=Math.min(.01*Math.abs(this.getApparentDifference(l,i,null,!0)),5),0<=l?i=l-r:l=isFinite(i)?i+r:0):(r=Math.min(.01*Math.abs(this.getApparentDifference(i,l,null,!0)),.05),0!==l&&(l+=r),0!==i&&(i-=r)),s=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<l-i?.5*Math.abs(l-i):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<i&&(i=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>l&&(l=0));r=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?i:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum,null,!0),"axisX"===this.type&&n?(this.intervalType||(r/1<=t?(this.interval=1,this.intervalType="millisecond"):r/2<=t?(this.interval=2,this.intervalType="millisecond"):r/5<=t?(this.interval=5,this.intervalType="millisecond"):r/10<=t?(this.interval=10,this.intervalType="millisecond"):r/20<=t?(this.interval=20,this.intervalType="millisecond"):r/50<=t?(this.interval=50,this.intervalType="millisecond"):r/100<=t?(this.interval=100,this.intervalType="millisecond"):r/200<=t?(this.interval=200,this.intervalType="millisecond"):r/250<=t?(this.interval=250,this.intervalType="millisecond"):r/300<=t?(this.interval=300,this.intervalType="millisecond"):r/400<=t?(this.interval=400,this.intervalType="millisecond"):r/500<=t?(this.interval=500,this.intervalType="millisecond"):r/(1*J.secondDuration)<=t?(this.interval=1,this.intervalType="second"):r/(2*J.secondDuration)<=t?(this.interval=2,this.intervalType="second"):r/(5*J.secondDuration)<=t?(this.interval=5,this.intervalType="second"):r/(10*J.secondDuration)<=t?(this.interval=10,this.intervalType="second"):r/(15*J.secondDuration)<=t?(this.interval=15,this.intervalType="second"):r/(20*J.secondDuration)<=t?(this.interval=20,this.intervalType="second"):r/(30*J.secondDuration)<=t?(this.interval=30,this.intervalType="second"):r/(1*J.minuteDuration)<=t?(this.interval=1,this.intervalType="minute"):r/(2*J.minuteDuration)<=t?(this.interval=2,this.intervalType="minute"):r/(5*J.minuteDuration)<=t?(this.interval=5,this.intervalType="minute"):r/(10*J.minuteDuration)<=t?(this.interval=10,this.intervalType="minute"):r/(15*J.minuteDuration)<=t?(this.interval=15,this.intervalType="minute"):r/(20*J.minuteDuration)<=t?(this.interval=20,this.intervalType="minute"):r/(30*J.minuteDuration)<=t?(this.interval=30,this.intervalType="minute"):r/(1*J.hourDuration)<=t?(this.interval=1,this.intervalType="hour"):r/(2*J.hourDuration)<=t?(this.interval=2,this.intervalType="hour"):r/(3*J.hourDuration)<=t?(this.interval=3,this.intervalType="hour"):r/(6*J.hourDuration)<=t?(this.interval=6,this.intervalType="hour"):r/(1*J.dayDuration)<=t?(this.interval=1,this.intervalType="day"):r/(2*J.dayDuration)<=t?(this.interval=2,this.intervalType="day"):r/(4*J.dayDuration)<=t?(this.interval=4,this.intervalType="day"):r/(1*J.weekDuration)<=t?(this.interval=1,this.intervalType="week"):r/(2*J.weekDuration)<=t?(this.interval=2,this.intervalType="week"):r/(3*J.weekDuration)<=t?(this.interval=3,this.intervalType="week"):r/(1*J.monthDuration)<=t?(this.interval=1,this.intervalType="month"):r/(2*J.monthDuration)<=t?(this.interval=2,this.intervalType="month"):r/(3*J.monthDuration)<=t?(this.interval=3,this.intervalType="month"):r/(6*J.monthDuration)<=t?(this.interval=6,this.intervalType="month"):(this.interval=r/(1*J.yearDuration)<=t?1:r/(2*J.yearDuration)<=t?2:r/(4*J.yearDuration)<=t?4:Math.floor(L.getNiceNumber(r/(t-1),!0)/J.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=i-s/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=l+s/2),e?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",r=L.getNiceNumber(r,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:L.getNiceNumber(r/(t-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?i-s/2:Math.floor(i/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l+s/2:Math.ceil(l/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=L.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(t-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(0==(l=null!==this.maximum?this.maximum:this.dataInfo.max)-(i=null!==this.minimum?this.minimum:this.dataInfo.min)&&(l+=r=void 0===this.options.interval?.4:this.options.interval,i-=r),s=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<l-i?.5*Math.abs(l-i):1):"axisY"===this.type&&(i=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(i)||isFinite(l)?0===i&&0===l?(l+=9,i=0):0==l-i?(l+=r=Math.min(Math.abs(.01*Math.abs(l)),5),i-=r):i>l?(r=Math.min(.01*Math.abs(this.getApparentDifference(l,i,null,!0)),5),0<=l?i=l-r:l=isFinite(i)?i+r:0):(r=Math.min(.01*Math.abs(this.getApparentDifference(i,l,null,!0)),.05),0!==l&&(l+=r),0!==i&&(i-=r)):(l=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),s=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<l-i?.5*Math.abs(l-i):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<i&&(i=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>l&&(l=0)),Math.abs(this.getApparentDifference(i,l,null,!0)),"axisX"===this.type&&n?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=i-s/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=l+s/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?i-s/2:Math.floor(i/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?l+s/2:Math.ceil(l/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),d(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),d(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&n?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=L.generateValueFormatString(this.range,2))}},L.prototype.calculateLogarithmicAxisParameters=function(){var t,e,n,i,l,s=this.chart.layoutManager.getFreeSpace(),r=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=s.width,this.maxHeight=s.height):(this.maxWidth=s.height,this.maxHeight=s.width),s="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),l=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(l=0;l<this.scaleBreaks._appliedBreaks.length;l++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[l].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[l].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue)){this.scaleBreaks._appliedBreaks.splice(l,1);break}"axisX"===this.type?(1==(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(n*=l=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=l),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(e=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(n)?(n=void 0===this.options.interval?0:this.options.interval,e=1):0>=e?e=n:isFinite(n)||(n=e),1===e&&1===n?(n*=this.logarithmBase-1/this.logarithmBase,e=1):1==n/e?(n*=l=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),e/=l):e>n?(l=Math.min(e/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?e=n/l:n=e*l):(l=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=l),1!==e&&(e/=l)),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<e&&(e=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>n&&(n=1)),l=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);var o=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?e:this.viewportMinimum);if(this.intervalType="number",l=Math.pow(this.logarithmBase,L.getNiceNumber(Math.abs(Math.log(l)/r),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=L.getNiceExponent(Math.log(l)/r/(s-1),!0),t=L.getNiceNumber(o/(s-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?e/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/r/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/r/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=L.getNiceExponent(Math.ceil(Math.log(l)/r)/(s-1)),t=L.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(s-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(1==(n=null!==this.maximum?this.maximum:this.dataInfo.max)/(e=null!==this.minimum?this.minimum:this.dataInfo.min)&&(n*=l=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),e/=l),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(e=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(e)||isFinite(n)?1===e&&1===n?(n*=this.logarithmBase,e/=this.logarithmBase):1==n/e?(n*=l=Math.pow(this.logarithmBase,this.interval),e/=l):e>n?(l=Math.min(e/n*.01,5),1<=n?e=n/l:n=e*l):(l=Math.min(n/e*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=l),1!==e&&(e/=l)):(n=void 0===this.options.interval?0:this.options.interval,e=1),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/e>this.logarithmBase?n/e*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<e&&(e=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?e/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(e)/r/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/r/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(r*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=s,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>s?2:3)){for(r=Math.floor(this.viewportMinimum/t+.5)*t;r<this.viewportMinimum;)r+=t;this.equidistantInterval=!1,this.intervalStartPosition=r,this.interval=t}else this.options.interval||(t=Math.ceil(this.interval),this.range>this.interval&&(this.interval=t,e=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(r*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=e;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(r=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(r)&&isFinite(r)||(r=2),2<r))for(l=0;l<r-2;l++)this.valueFormatString+="#"},L.generateValueFormatString=function(t,e){var n="#,##0.",i=e;1>t&&(i+=Math.floor(Math.abs(Math.log(t)/Math.LN10)),isNaN(i)||!isFinite(i))&&(i=e);for(var l=0;l<i;l++)n+="#";return n},L.getNiceExponent=function(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return i=0>n?1>=i?1:5>=i?5:10:Math.max(Math.floor(i),1),-20>n?Number(i*Math.pow(10,n)):Number((i*Math.pow(10,n)).toFixed(20))},L.getNiceNumber=function(t,e){var n=Math.floor(Math.log(t)/Math.LN10),i=t/Math.pow(10,n);return i=e?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10,-20>n?Number(i*Math.pow(10,n)):Number((i*Math.pow(10,n)).toFixed(20))},L.prototype.getLabelStartPoint=function(){var t=J[this.intervalType+"Duration"]*this.interval;return t=new Date(Math.floor(this.viewportMinimum/t)*t),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<t.getMilliseconds()&&(t.setSeconds(t.getSeconds()+1),t.setMilliseconds(0)):"minute"===this.intervalType?(0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMinutes(t.getMinutes()+1),t.setSeconds(0),t.setMilliseconds(0)):"hour"===this.intervalType?(0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"day"===this.intervalType?(0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"week"===this.intervalType?(0<t.getDay()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setDate(t.getDate()+(7-t.getDay())),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"month"===this.intervalType?(1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setMonth(t.getMonth()+1),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)):"year"===this.intervalType&&(0<t.getMonth()||1<t.getDate()||0<t.getHours()||0<t.getMinutes()||0<t.getSeconds()||0<t.getMilliseconds())&&(t.setFullYear(t.getFullYear()+1),t.setMonth(0),t.setDate(1),t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0))),t},n(B,M),n(V,M),V.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent[this.optionsName]),e=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options[this.optionsName][e]=this.options}},V.prototype.render=function(t){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var e=this.ctx,n=this.ctx.globalAlpha;this.ctx=t||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var i,l,s,r,o,a,u=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,c(this.id),t=Math.max(this.spacing,3);var d=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(f(this.lineDashType,d)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(l=1==d%2?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,s=this.chart.plotArea.y2+d/2+.5<<0):(h=this.chart.plotArea.y2,s=this.chart.plotArea.y1-d/2+.5<<0,t*=-1),this.bounds={x1:(u=1==d%2?.5+(u.x<<0):u.x<<0)-d/2,y1:h,x2:l+d/2,y2:s},this.ctx.moveTo(u,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=t||"bottom"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(u,s),this.ctx.lineTo(l,s),this.ctx.lineTo(l,h);else if("wavy"===this.type){r=u,i=.5,a=(s-(o=h))/t/3;for(var p=0;p<a;p++)this.ctx.bezierCurveTo(r+i*t,o+t,r+i*t,o+2*t,r,o+3*t),o+=3*t,i*=-1;for(this.ctx.bezierCurveTo(r+i*t,o+t,r+i*t,o+2*t,r,o+3*t),i*=-1,this.ctx.lineTo(r=l,o),p=0;p<a;p++)this.ctx.bezierCurveTo(r+i*t,o-t,r+i*t,o-2*t,r,o-3*t),o-=3*t,i*=-1}else if("zigzag"===this.type){for(i=-1,r=u+t,a=(s-(o=h+t))/t/2,p=0;p<a;p++)this.ctx.lineTo(r,o),r+=2*i*t,o+=2*t,i*=-1;for(this.ctx.lineTo(r,o),r+=l-u,p=0;p<a+1;p++)this.ctx.lineTo(r,o),r+=2*i*t,o-=2*t,i*=-1;this.ctx.lineTo(r+i*t,o+t)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(s=1==d%2?.5+(u.y<<0):u.y<<0,"left"===this.scaleBreaks.parent._position?(u=this.chart.plotArea.x1,l=this.chart.plotArea.x2+d/2+.5<<0):(u=this.chart.plotArea.x2,l=this.chart.plotArea.x1-d/2+.5<<0,t*=-1),this.bounds={x1:u,y1:(h=1==d%2?.5+(h.y<<0):h.y<<0)-d/2,x2:l,y2:s+d/2},this.ctx.moveTo(u,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=t||"right"===this.scaleBreaks.parent._position&&0<=t)this.ctx.lineTo(l,h),this.ctx.lineTo(l,s),this.ctx.lineTo(u,s);else if("wavy"===this.type){for(o=h,i=.5,a=(l-(r=u))/t/3,p=0;p<a;p++)this.ctx.bezierCurveTo(r+t,o+i*t,r+2*t,o+i*t,r+3*t,o),r+=3*t,i*=-1;for(this.ctx.bezierCurveTo(r+t,o+i*t,r+2*t,o+i*t,r+3*t,o),i*=-1,this.ctx.lineTo(r,o=s),p=0;p<a;p++)this.ctx.bezierCurveTo(r-t,o+i*t,r-2*t,o+i*t,r-3*t,o),r-=3*t,i*=-1}else if("zigzag"===this.type){for(i=1,o=h-t,a=(l-(r=u+t))/t/2,p=0;p<a;p++)this.ctx.lineTo(r,o),o+=2*i*t,r+=2*t,i*=-1;for(this.ctx.lineTo(r,o),o+=s-h,p=0;p<a+1;p++)this.ctx.lineTo(r,o),o+=2*i*t,r-=2*t,i*=-1;this.ctx.lineTo(r+t,o+i*t)}0<d&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=e}},n(W,M),W.prototype.createUserOptions=function(t){if(void 0!==t||this.options._isPlaceholder){var e=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(p(this.parent.stripLines),e=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===t?{}:t,this.parent.options.stripLines[e]=this.options}},W.prototype.render=function(){this.ctx.save();var t=this.parent.getPixelCoordinatesOnAxis(this.value),e=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<e){var n=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var i,l,s,r,o=this.ctx.globalAlpha;this.ctx.globalAlpha=n,c(this.id),this.ctx.lineWidth=e,this.ctx.setLineDash&&this.ctx.setLineDash(f(this.lineDashType,e)),"bottom"===this.parent._position||"top"===this.parent._position?(i=l=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.bounds={x1:i-e/2,y1:s=this.chart.plotArea.y1,x2:l+e/2,y2:r=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(s=r=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.bounds={x1:i=this.chart.plotArea.x1,y1:s-e/2,x2:l=this.chart.plotArea.x2,y2:r+e/2}),this.ctx.moveTo(i,s),this.ctx.lineTo(l,r),this.ctx.stroke(),this.ctx.globalAlpha=o}this.ctx.restore()},n(U,M),U.prototype.render=function(t,e){var n,i,l,s,r=null,o=r=null,a="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var u=0;u="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=L.generateValueFormatString(this.parent.range,u)}o=null===this.opacity?1:this.opacity,u=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var c=this.chart.overlaidCanvasCtx,h=c.globalAlpha;if(c.globalAlpha=o,c.beginPath(),c.strokeStyle=this.color,c.lineWidth=u,c.save(),this.labelFontSize=d(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=d(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=d(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<u&&c.setLineDash&&c.setLineDash(f(this.lineDashType,u)),o=new A(c,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:a,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var p=0;if(r=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var m=null;"bottom"===this.parent._position||"top"===this.parent._position?p=this.parent.dataSeries[0].axisX.convertPixelToValue({y:e}):"left"!==this.parent._position&&"right"!==this.parent._position||(p=this.parent.convertPixelToValue({y:e}));for(var g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[g],null!==m.dataPoint.y&&r.push(m));if(m=null,0===r.length)return;if(r.sort((function(t,e){return t.distance-e.distance})),m=Math.abs(t-this.parent.convertValueToPixel(r[0].dataPoint.y)),g=0,"rangeBar"===r[0].dataSeries.type||"error"===r[0].dataSeries.type){m=Math.abs(t-this.parent.convertValueToPixel(r[g].dataPoint.y[0]));var b=0;for(p=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(t-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else(b=Math.abs(t-this.parent.convertValueToPixel(r[p].dataPoint.y)))<m&&(m=b,g=p)}else if("stackedBar"===r[0].dataSeries.type){m=Math.abs(t-this.parent.convertValueToPixel(r[0].dataPoint.y));var v=b=0;for(p=g=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(t-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else v+=r[p].dataPoint.y,(b=Math.abs(t-this.parent.convertValueToPixel(v)))<m&&(m=b,g=p)}else if("stackedBar100"===r[0].dataSeries.type){m=Math.abs(t-this.parent.convertValueToPixel(r[0].dataPoint.y));var y=v=b=0;for(p=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(t-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else v+=r[p].dataPoint.y,y=r[p].dataPoint.x.getTime?r[p].dataPoint.x.getTime():r[p].dataPoint.x,y=v/r[p].dataSeries.plotUnit.dataPointYSums[y]*100,(b=Math.abs(t-this.parent.convertValueToPixel(y)))<m&&(m=b,g=p)}else for(m=Math.abs(t-this.parent.convertValueToPixel(r[0].dataPoint.y)),p=g=b=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(t-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else(b=Math.abs(t-this.parent.convertValueToPixel(r[p].dataPoint.y)))<m&&(m=b,g=p);if(a=r[g],"bottom"===this.parent._position||"top"===this.parent._position){if(n=0,"rangeBar"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type){for(m=Math.abs(t-this.parent.convertValueToPixel(a.dataPoint.y[0])),p=b=0;p<a.dataPoint.y.length;p++)(b=Math.abs(t-this.parent.convertValueToPixel(a.dataPoint.y[p])))<m&&(m=b,n=p);r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataPoint.y[n])<<0):this.parent.convertValueToPixel(a.dataPoint.y[n])<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.y[n]}):d(this.options.label)?st(a.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[g].type){for(m=Math.abs(t-this.parent.convertValueToPixel(r[0].dataPoint.y)),v=b=0,p=g;0<=p;p--)v+=r[p].dataPoint.y,(b=Math.abs(t-this.parent.convertValueToPixel(v)))<m&&(m=b,n=p);r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.y}):d(this.options.label)?st(a.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[g].type){for(m=Math.abs(t-this.parent.convertValueToPixel(r[0].dataPoint.y)),y=v=b=0,p=g;0<=p;p--)v+=r[p].dataPoint.y,y=r[p].dataPoint.x.getTime?r[p].dataPoint.x.getTime():r[p].dataPoint.x,y=v/r[p].dataSeries.plotUnit.dataPointYSums[y]*100,(b=Math.abs(t-this.parent.convertValueToPixel(y)))<m&&(m=b,n=p);r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:y}):d(this.options.label)?st(y,this.valueFormatString,this.chart._cultureInfo):this.label}else r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataPoint.y)<<0):this.parent.convertValueToPixel(a.dataPoint.y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.y}):d(this.options.label)?st(a.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;n=i=r,this.bounds={x1:n-u/2,y1:l=this.chart.plotArea.y1,x2:i+u/2,y2:s=this.chart.plotArea.y2},o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2?o.x=this.chart.bounds.x2-o.width:o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(l=s=r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataPoint.x)<<0):this.parent.convertValueToPixel(a.dataPoint.x)<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:l-u/2,x2:i=this.chart.plotArea.x2,y2:s+u/2},y=!1,this.parent.labels)for(r=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=r){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.x}):d(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.x}):d(this.options.label)?lt(a.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.x}):d(this.options.label)?st(a.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);o.y=s+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x2-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(p=this.parent.convertPixelToValue({x:t}),g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[g],null!==m.dataPoint.y&&r.push(m));if(0===r.length)return;if(r.sort((function(t,e){return t.distance-e.distance})),a=r[0],n=i=r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataPoint.x)<<0):this.parent.convertValueToPixel(a.dataPoint.x)<<0,this.bounds={x1:n-u/2,y1:l=this.chart.plotArea.y1,x2:i+u/2,y2:s=this.chart.plotArea.y2},y=!1,this.parent.labels)for(r=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=r){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.x}):d(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.x}):d(this.options.label)?lt(a.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.x}):d(this.options.label)?st(a.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2&&(o.x=this.chart.bounds.x2-o.width),o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),"bottom"===this.parent._position?o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2:"top"===this.parent._position&&(o.y=this.parent.lineCoordinates.y1-o.height+o.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!d(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(p=this.parent.dataSeries[0].axisX.convertPixelToValue({x:t})),g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(m.dataSeries=this.parent.dataSeries[g],null!==m.dataPoint.y&&r.push(m));if(0===r.length)return;if(r.sort((function(t,e){return t.distance-e.distance})),g=0,"rangeColumn"===r[0].dataSeries.type||"rangeArea"===r[0].dataSeries.type||"error"===r[0].dataSeries.type||"rangeSplineArea"===r[0].dataSeries.type||"candlestick"===r[0].dataSeries.type||"ohlc"===r[0].dataSeries.type||"boxAndWhisker"===r[0].dataSeries.type)for(m=Math.abs(e-this.parent.convertValueToPixel(r[0].dataPoint.y[0])),p=b=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(e-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else(b=Math.abs(e-this.parent.convertValueToPixel(r[p].dataPoint.y)))<m&&(m=b,g=p);else if("stackedColumn"===r[0].dataSeries.type||"stackedArea"===r[0].dataSeries.type)for(m=Math.abs(e-this.parent.convertValueToPixel(r[0].dataPoint.y)),p=v=b=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(e-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else v+=r[p].dataPoint.y,(b=Math.abs(e-this.parent.convertValueToPixel(v)))<m&&(m=b,g=p);else if("stackedColumn100"===r[0].dataSeries.type||"stackedArea100"===r[0].dataSeries.type)for(m=Math.abs(e-this.parent.convertValueToPixel(r[0].dataPoint.y)),p=y=v=b=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(e-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else v+=r[p].dataPoint.y,y=r[p].dataPoint.x.getTime?r[p].dataPoint.x.getTime():r[p].dataPoint.x,y=v/r[p].dataSeries.plotUnit.dataPointYSums[y]*100,(b=Math.abs(e-this.parent.convertValueToPixel(y)))<m&&(m=b,g=p);else for(m=Math.abs(e-this.parent.convertValueToPixel(r[0].dataPoint.y)),p=b=0;p<r.length;p++)if(r[p].dataPoint.y&&r[p].dataPoint.y.length)for(a=0;a<r[p].dataPoint.y.length;a++)(b=Math.abs(e-this.parent.convertValueToPixel(r[p].dataPoint.y[a])))<m&&(m=b,g=p);else(b=Math.abs(e-this.parent.convertValueToPixel(r[p].dataPoint.y)))<m&&(m=b,g=p);if(a=r[g],n=0,"rangeColumn"===this.parent.dataSeries[g].type||"rangeArea"===this.parent.dataSeries[g].type||"error"===this.parent.dataSeries[g].type||"rangeSplineArea"===this.parent.dataSeries[g].type||"candlestick"===this.parent.dataSeries[g].type||"ohlc"===this.parent.dataSeries[g].type||"boxAndWhisker"===this.parent.dataSeries[g].type){for(m=Math.abs(e-this.parent.convertValueToPixel(a.dataPoint.y[0])),p=b=0;p<a.dataPoint.y.length;p++)(b=Math.abs(e-this.parent.convertValueToPixel(a.dataPoint.y[p])))<m&&(m=b,n=p);r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataPoint.y[n])<<0):this.parent.convertValueToPixel(a.dataPoint.y[n])<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.y[n]}):d(this.options.label)?st(a.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[g].type||"stackedArea"===this.parent.dataSeries[g].type){for(m=Math.abs(e-this.parent.convertValueToPixel(r[0].dataPoint.y)),v=b=0,p=g;0<=p;p--)v+=r[p].dataPoint.y,(b=Math.abs(e-this.parent.convertValueToPixel(v)))<m&&(m=b,n=p);r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(v)<<0):this.parent.convertValueToPixel(v)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.y}):d(this.options.label)?st(a.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[g].type||"stackedArea100"===this.parent.dataSeries[g].type){for(m=Math.abs(e-this.parent.convertValueToPixel(r[0].dataPoint.y)),v=b=0,p=g;0<=p;p--)v+=r[p].dataPoint.y,y=r[p].dataPoint.x.getTime?r[p].dataPoint.x.getTime():r[p].dataPoint.x,y=v/r[p].dataSeries.plotUnit.dataPointYSums[y]*100,(b=Math.abs(e-this.parent.convertValueToPixel(y)))<m&&(m=b,n=p);r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:y}):d(this.options.label)?st(y,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[g].type?(r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataSeries.dataPointEOs[a.index].cumulativeSum)<<0):this.parent.convertValueToPixel(a.dataSeries.dataPointEOs[a.index].cumulativeSum)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataSeries.dataPointEOs[a.index].cumulativeSum}):d(this.options.label)?st(a.dataSeries.dataPointEOs[a.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(r=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(a.dataPoint.y)<<0):this.parent.convertValueToPixel(a.dataPoint.y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:a.dataPoint.y}):d(this.options.label)?st(a.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);l=s=r,this.bounds={x1:n=this.chart.plotArea.x1,y1:l-u/2,x2:i=this.chart.plotArea.x2,y2:s+u/2},o.y=s+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x2-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2)}r=null,("bottom"===this.parent._position||"top"===this.parent._position)&&n>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&i<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<u&&(c.moveTo(n,l),c.lineTo(i,s),c.stroke()),c.restore(),!d(o.text)&&("number"==typeof o.text.valueOf()||0<o.text.length)&&o.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&s>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&l<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<u&&(c.moveTo(n,l),c.lineTo(i,s),c.stroke()),c.restore(),!d(o.text)&&("number"==typeof o.text.valueOf()||0<o.text.length)&&o.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=i=r=1==c.lineWidth%2?.5+(t<<0):t<<0,this.bounds={x1:n-u/2,y1:l=this.chart.plotArea.y1,x2:i+u/2,y2:s=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(l=s=r=1==c.lineWidth%2?.5+(e<<0):e<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:l-u/2,x2:i=this.chart.plotArea.x2,y2:s+u/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(y=!1,this.parent.labels)for(r=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=r){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({y:e}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?lt(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?st(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);o.y=e+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x1-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?st(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2&&(o.x=this.chart.bounds.x2-o.width),o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2),"top"===this.parent._position&&(o.y=this.parent.lineCoordinates.y1-o.height+o.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(y=!1,a="",this.parent.labels)for(r=Math.ceil(this.parent.interval),p=0;p<this.parent.viewportMaximum;p+=r){if(!this.parent.labels[p]){y=!1;break}y=!0}if(y){if("axisX"===this.parent.type)for(p=this.parent.convertPixelToValue({x:t}),m=null,g=0;g<this.parent.dataSeries.length;g++)(m=this.parent.dataSeries[g].getDataPointAtX(p,!0))&&0<=m.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?m.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?lt(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(t):""}):d(this.options.label)?st(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2&&(o.x=this.chart.bounds.x2-o.width),o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),"bottom"===this.parent._position?o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2:"top"===this.parent._position&&(o.y=this.parent.lineCoordinates.y1-o.height+o.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?st(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,o.y=e+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x2-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2));0<u&&(c.moveTo(n,l),c.lineTo(i,s),c.stroke()),c.restore(),!d(o.text)&&("number"==typeof o.text.valueOf()||0<o.text.length)&&o.render(!0)}c.globalAlpha=h},n($,M),$.prototype._initialize=function(){var t;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",t='<div style=" width: auto;height: auto;min-width: 50px;',t+="line-height: auto;",t+="margin: 0px 0px 0px 0px;",t+="padding: 5px;",t+="font-family: Calibri, Arial, Georgia, serif;",t+="font-weight: normal;",t+="font-style: "+(H?"italic;":"normal;"),t+="font-size: 14px;",t+="color: #000000;",t+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",t+="text-align: left;",t+="border: 2px solid gray;",t+=H?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",t+="text-indent: 0px;",t+="white-space: nowrap;",t+="border-radius: 5px;",t+="-moz-user-select:none;",t+="-khtml-user-select: none;",t+="-webkit-user-select: none;",t+="-ms-user-select: none;",t+="user-select: none;",H||(t+="filter: alpha(opacity = 90);",t+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),this.container.innerHTML=t+='} "> Sample Tooltip</div>',this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},$.prototype.mouseMoveHandler=function(t,e){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(t,e))},$.prototype._updateToolTip=function(t,n,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===t||void 0===n){if(isNaN(this._prevX)||isNaN(this._prevY))return;t=this._prevX,n=this._prevY}else this._prevX=t,this._prevY=n;var l=null,s=null,r=[],o=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var a=[];if(this.chart.axisX)for(var u=0;u<this.chart.axisX.length;u++){o=this.chart.axisX[u].convertPixelToValue({y:n});var c=null;for(l=0;l<this.chart.axisX[u].dataSeries.length;l++)(c=this.chart.axisX[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[l],null!==c.dataPoint.y&&a.push(c));c=null}if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++){for(o=this.chart.axisX2[u].convertPixelToValue({y:n}),c=null,l=0;l<this.chart.axisX2[u].dataSeries.length;l++)(c=this.chart.axisX2[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[l],null!==c.dataPoint.y&&a.push(c));c=null}}else{if(a=[],this.chart.axisX)for(u=0;u<this.chart.axisX.length;u++)for(o=this.chart.axisX[u].convertPixelToValue({x:t}),c=null,l=0;l<this.chart.axisX[u].dataSeries.length;l++)(c=this.chart.axisX[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[l],null!==c.dataPoint.y&&a.push(c));if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++)for(o=this.chart.axisX2[u].convertPixelToValue({x:t}),c=null,l=0;l<this.chart.axisX2[u].dataSeries.length;l++)(c=this.chart.axisX2[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[l],null!==c.dataPoint.y&&a.push(c))}if(0===a.length)return;for(a.sort((function(t,e){return t.distance-e.distance})),i=a[0],l=0;l<a.length;l++)a[l].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&r.push(a[l]);a=null}else{if(c=this.chart.getDataPointAtXY(t,n,i))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(H)if(0<(c=v(t,n,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[c]){if("legendItem"===(c=this.chart._eventManager.objectMap[c]).objectType)return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(s=this.chart.data[this.currentSeriesIndex],c={},0<=this.currentDataPointIndex)l=s.dataPoints[this.currentDataPointIndex],c.dataSeries=s,c.dataPoint=l,c.index=this.currentDataPointIndex,c.distance=Math.abs(l.x-o),"waterfall"===s.type&&(c.cumulativeSumYStartValue=s.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,c.cumulativeSum=s.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==s.type&&"stepLine"!==s.type&&"spline"!==s.type&&"area"!==s.type&&"stepArea"!==s.type&&"splineArea"!==s.type&&"stackedArea"!==s.type&&"stackedArea100"!==s.type&&"rangeArea"!==s.type&&"rangeSplineArea"!==s.type&&"candlestick"!==s.type&&"ohlc"!==s.type&&"boxAndWhisker"!==s.type)return;o=s.axisX.convertPixelToValue({x:t}),d(c=s.getDataPointAtX(o,i))||(c.dataSeries=s,this.currentDataPointIndex=c.index,l=c.dataPoint)}if(!d(c)&&!d(c.dataPoint)&&!d(c.dataPoint.y))if(c.dataSeries.axisY)if(0<c.dataPoint.y.length){for(l=i=0;l<c.dataPoint.y.length;l++)c.dataPoint.y[l]<c.dataSeries.axisY.viewportMinimum?i--:c.dataPoint.y[l]>c.dataSeries.axisY.viewportMaximum&&i++;i<c.dataPoint.y.length&&i>-c.dataPoint.y.length&&r.push(c)}else"column"===s.type||"bar"===s.type?0>c.dataPoint.y?0>c.dataSeries.axisY.viewportMinimum&&c.dataSeries.axisY.viewportMaximum>=c.dataPoint.y&&r.push(c):c.dataSeries.axisY.viewportMinimum<=c.dataPoint.y&&0<=c.dataSeries.axisY.viewportMaximum&&r.push(c):"bubble"===s.type?c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum-(i=this.chart._eventManager.objectMap[s.dataPointIds[c.index]].size/2)&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum+i&&r.push(c):"waterfall"===s.type?(i=0,c.cumulativeSumYStartValue<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSumYStartValue>c.dataSeries.axisY.viewportMaximum&&i++,c.cumulativeSum<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSum>c.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&r.push(c)):(0<=c.dataSeries.type.indexOf("100")||"stackedColumn"===s.type||"stackedBar"===s.type||c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum)&&r.push(c);else r.push(c)}}if(0<r.length){if(this.highlightObjects(r),this.enabled)if(i="",null!==(i=this.getToolTipInnerHTML({entries:r}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===r[0].dataSeries.type?this.options.borderColor?this.options.borderColor:r[0].dataPoint.color?r[0].dataPoint.color:0<r[0].dataPoint.y?r[0].dataSeries.risingColor:r[0].dataSeries.fallingColor:"error"===r[0].dataSeries.type?this.options.borderColor?this.options.borderColor:r[0].dataSeries.color?r[0].dataSeries.color:r[0].dataSeries._colorSet[s.index%r[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:r[0].dataPoint.color?r[0].dataPoint.color:r[0].dataSeries.color?r[0].dataSeries.color:r[0].dataSeries._colorSet[r[0].index%r[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch(e){}"pie"===r[0].dataSeries.type||"doughnut"===r[0].dataSeries.type||"funnel"===r[0].dataSeries.type||"pyramid"===r[0].dataSeries.type||"bar"===r[0].dataSeries.type||"rangeBar"===r[0].dataSeries.type||"stackedBar"===r[0].dataSeries.type||"stackedBar100"===r[0].dataSeries.type?t=t-10-this.container.clientWidth:(t=r[0].dataSeries.axisX.convertValueToPixel(r[0].dataPoint.x)-this.container.clientWidth<<0,t-=10),0>t&&(t+=this.container.clientWidth+20),t+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(t=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(n=10-(n=1!==r.length||this.shared||"line"!==r[0].dataSeries.type&&"stepLine"!==r[0].dataSeries.type&&"spline"!==r[0].dataSeries.type&&"area"!==r[0].dataSeries.type&&"stepArea"!==r[0].dataSeries.type&&"splineArea"!==r[0].dataSeries.type?"bar"===r[0].dataSeries.type||"rangeBar"===r[0].dataSeries.type||"stackedBar"===r[0].dataSeries.type||"stackedBar100"===r[0].dataSeries.type?r[0].dataSeries.axisX.convertValueToPixel(r[0].dataPoint.x):n:r[0].dataSeries.axisY.convertValueToPixel(r[0].dataPoint.y)))+this.container.clientHeight+5&&(n-=n+this.container.clientHeight+5-0),this.fixMozTransitionDelay(t,n),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=t+"px",this.container.style.bottom=n+"px"}else this.hide(!1)}else this.hide()}},$.prototype.highlightObjects=function(t){var e=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),e.clearRect(0,0,this.chart.width,this.chart.height),e.save();var n=this.chart.plotArea,i=0;for(e.beginPath(),e.rect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1),e.clip(),n=0;n<t.length;n++){var l=t[n];if((l=this.chart._eventManager.objectMap[l.dataSeries.dataPointIds[l.index]])&&l.objectType&&"dataPoint"===l.objectType){var r=(i=this.chart.data[l.dataSeriesIndex]).dataPoints[l.dataPointIndex],o=l.dataPointIndex;!1===r.highlightEnabled||!0!==i.highlightEnabled&&!0!==r.highlightEnabled||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"scatter"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?((r=i.getMarkerProperties(o,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),tt.drawMarkers([r]),void 0!==l.y2&&((r=i.getMarkerProperties(o,l.x1,l.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*r.size<<0,10),r.borderColor=r.borderColor||"#FFFFFF",r.borderThickness=r.borderThickness||Math.ceil(.1*r.size),tt.drawMarkers([r]))):"bubble"===i.type?((r=i.getMarkerProperties(o,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=l.size,r.color="white",r.borderColor="white",e.globalAlpha=.3,tt.drawMarkers([r]),e.globalAlpha=1):"column"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"bar"===i.type||"rangeBar"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"rangeColumn"===i.type||"waterfall"===i.type?ht(e,l.x1,l.y1,l.x2,l.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===i.type||"doughnut"===i.type?X(e,l.center,l.radius,"white",i.type,l.startAngle,l.endAngle,.3,l.percentInnerRadius):"funnel"===i.type||"pyramid"===i.type?K(e,l.funnelSection,.3,"white"):"candlestick"===i.type?(e.globalAlpha=1,e.strokeStyle=l.color,e.lineWidth=2*l.borderThickness,i=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(l.x3-i,Math.min(l.y2,l.y3)),e.lineTo(l.x3-i,Math.min(l.y1,l.y4)),e.stroke(),e.beginPath(),e.moveTo(l.x3-i,Math.max(l.y1,l.y4)),e.lineTo(l.x3-i,Math.max(l.y2,l.y3)),e.stroke(),ht(e,l.x1,Math.min(l.y1,l.y4),l.x2,Math.max(l.y1,l.y4),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),e.globalAlpha=1):"ohlc"===i.type?(e.globalAlpha=1,e.strokeStyle=l.color,e.lineWidth=2*l.borderThickness,i=0==e.lineWidth%2?0:.5,e.beginPath(),e.moveTo(l.x3-i,l.y2),e.lineTo(l.x3-i,l.y3),e.stroke(),e.beginPath(),e.moveTo(l.x3,l.y1),e.lineTo(l.x1,l.y1),e.stroke(),e.beginPath(),e.moveTo(l.x3,l.y4),e.lineTo(l.x2,l.y4),e.stroke(),e.globalAlpha=1):"boxAndWhisker"===i.type?(e.save(),e.globalAlpha=1,e.strokeStyle=l.stemColor,e.lineWidth=2*l.stemThickness,0<l.stemThickness&&(e.beginPath(),e.moveTo(l.x3,l.y2+l.borderThickness/2),e.lineTo(l.x3,l.y1+l.whiskerThickness/2),e.stroke(),e.beginPath(),e.moveTo(l.x3,l.y4-l.whiskerThickness/2),e.lineTo(l.x3,l.y3-l.borderThickness/2),e.stroke()),e.beginPath(),ht(e,l.x1-l.borderThickness/2,Math.max(l.y2+l.borderThickness/2,l.y3+l.borderThickness/2),l.x2+l.borderThickness/2,Math.min(l.y2-l.borderThickness/2,l.y3-l.borderThickness/2),"transparent",l.borderThickness,l.color,!1,!1,!1,!1),e.globalAlpha=1,e.strokeStyle=l.whiskerColor,e.lineWidth=2*l.whiskerThickness,0<l.whiskerThickness&&(e.beginPath(),e.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y4),e.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y4),e.stroke(),e.beginPath(),e.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y1),e.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y1),e.stroke()),e.globalAlpha=1,e.strokeStyle=l.lineColor,e.lineWidth=2*l.lineThickness,0<l.lineThickness&&(e.beginPath(),e.moveTo(l.x1,l.y5),e.lineTo(l.x2,l.y5),e.stroke()),e.restore(),e.globalAlpha=1):"error"===i.type&&s(e,l.x1,l.y1,l.x2,l.y2,"white",l.whiskerProperties,l.stemProperties,l.isXYSwapped,.3))}}e.restore(),e.globalAlpha=1,e.beginPath()},$.prototype.getToolTipInnerHTML=function(t){t=t.entries;for(var e=null,n=null,i=null,l=0,s="",r=!0,o=0;o<t.length;o++)if(t[o].dataSeries.toolTipContent||t[o].dataPoint.toolTipContent){r=!1;break}if(r&&(this.content&&"function"==typeof this.content||this.contentFormatter))t={chart:this.chart,toolTip:this.options,entries:t},e=this.contentFormatter?this.contentFormatter(t):this.content(t);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var a=null,u="";for(o=0;o<t.length;o++)n=t[o].dataSeries,i=t[o].dataPoint,l=t[o].index,s="",0===o&&r&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?u+=void 0!==this.chart.axisX[0].labels[i.x]?this.chart.axisX[0].labels[i.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(u+=void 0!==this.chart.axisX2[0].labels[i.x]?this.chart.axisX2[0].labels[i.x]:"{x}"),u=this.chart.replaceKeywordsWithValue(u+="</br>",i,n,l)),null===i.toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(s+=a!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),s+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",a=n.axisXIndex):"bubble"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(s+=a!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),s+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(s+=a!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),s+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===n.type||"ohlc"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(s+=a!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),s+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===n.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(s+=a!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),s+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),!0===this.reversed?(e=this.chart.replaceKeywordsWithValue(s,i,n,l)+e,o<t.length-1&&(e="</br>"+e)):(e+=this.chart.replaceKeywordsWithValue(s,i,n,l),o<t.length-1&&(e+="</br>")));null!==e&&(e=u+e)}else{if(n=t[0].dataSeries,null===(i=t[0].dataPoint).toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent)return null;"line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?s=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===n.type?s=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type?s=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.name?"{name}:</span>&nbsp;&nbsp;":i.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?s=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===n.type||"ohlc"===n.type?s=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===n.type&&(s=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===e&&(e=""),e+=this.chart.replaceKeywordsWithValue(s,i,n,l=t[0].index)}return e},$.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var t=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=t,this.container.style.MsTransition=t,this.container.style.transition=t,this.container.style.MozTransition=this.mozContainerTransition}},$.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},$.prototype.hide=function(t){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===t||t)&&this.chart.resetOverlayedCanvas())},$.prototype.show=function(t,e,n){this._updateToolTip(t,e,void 0!==n&&n)},$.prototype.fixMozTransitionDelay=function(t,e){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var n=parseFloat(this.container.style.left),i=(n=isNaN(n)?0:n,parseFloat(this.container.style.bottom));i=isNaN(i)?0:i,this.mozContainerTransition=10<Math.sqrt(Math.pow(n-t,2)+Math.pow(i-e,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},$.prototype.getContainerTransition=function(t){return"left "+t+"s ease-out 0s, bottom "+t+"s ease-out 0s"},Y.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],H&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},Y.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},Y.prototype.mouseEventHandler=function(t){if("mousemove"===t.type||"click"===t.type){var e=[],n=rt(t),i=null;if((i=this.chart.getObjectAtXY(n.x,n.y,!1))&&void 0!==this.objectMap[i])if("dataPoint"===(i=this.objectMap[i]).objectType){var l=this.chart.data[i.dataSeriesIndex],s=l.dataPoints[i.dataPointIndex],r=i.dataPointIndex;i.eventParameter={x:n.x,y:n.y,dataPoint:s,dataSeries:l.options,dataPointIndex:r,dataSeriesIndex:l.index,chart:this.chart},i.eventContext={context:s,userContext:s,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(i),(i=this.objectMap[l.id]).eventParameter={x:n.x,y:n.y,dataPoint:s,dataSeries:l.options,dataPointIndex:r,dataSeriesIndex:l.index,chart:this.chart},i.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},e.push(this.objectMap[l.id])}else"legendItem"===i.objectType&&(i.eventParameter={x:n.x,y:n.y,dataSeries:(l=this.chart.data[i.dataSeriesIndex]).options,dataPoint:s=null!==i.dataPointIndex?l.dataPoints[i.dataPointIndex]:null,dataPointIndex:i.dataPointIndex,dataSeriesIndex:i.dataSeriesIndex,chart:this.chart},i.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},e.push(i));for(l=[],n=0;n<this.mouseoveredObjectMaps.length;n++){for(s=!0,i=0;i<e.length;i++)if(e[i].id===this.mouseoveredObjectMaps[n].id){s=!1;break}s?this.fireEvent(this.mouseoveredObjectMaps[n],"mouseout",t):l.push(this.mouseoveredObjectMaps[n])}for(this.mouseoveredObjectMaps=l,n=0;n<e.length;n++){for(l=!1,i=0;i<this.mouseoveredObjectMaps.length;i++)if(e[n].id===this.mouseoveredObjectMaps[i].id){l=!0;break}l||(this.fireEvent(e[n],"mouseover",t),this.mouseoveredObjectMaps.push(e[n])),"click"===t.type?this.fireEvent(e[n],"click",t):"mousemove"===t.type&&this.fireEvent(e[n],"mousemove",t)}}},Y.prototype.fireEvent=function(t,e,n){if(t&&e){var i=t.eventParameter,l=t.eventContext,s=t.eventContext.userContext;s&&l&&s[l[e]]&&s[l[e]].call(s,i),"mouseout"!==e?s.cursor&&s.cursor!==n.target.style.cursor&&(n.target.style.cursor=s.cursor):(n.target.style.cursor=this.chart._defaultCursor,delete t.eventParameter,delete t.eventContext),"click"===e&&"dataPoint"===t.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[t.dataSeriesIndex],i),"click"===e&&"dataPoint"===t.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[t.dataSeriesIndex],i)}},G.prototype.animate=function(t,e,n,i,l){var s=this;for(this.chart.isAnimating=!0,l=l||Z.easing.linear,n&&this.animations.push({startTime:(new Date).getTime()+(t||0),duration:e,animationCallback:n,onComplete:i}),t=[];0<this.animations.length;)e=this.animations.shift(),n=(new Date).getTime(),i=0,e.startTime<=n&&(i=l(Math.min(n-e.startTime,e.duration),0,1,e.duration),i=Math.min(i,1),isNaN(i)||!isFinite(i))&&(i=1),1>i&&t.push(e),e.animationCallback(i),1<=i&&e.onComplete&&e.onComplete();this.animations=t,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){s.animate.call(s)})):this.chart.isAnimating=!1},G.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Z={yScaleAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas,l=e.animationBase;n.drawImage(i,0,0,i.width,i.height,0,l-l*t,n.canvas.width/ct,t*n.canvas.height/ct)}},xScaleAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas,l=e.animationBase;n.drawImage(i,0,0,i.width,i.height,l-l*t,0,t*n.canvas.width/ct,n.canvas.height/ct)}},xClipAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas;n.save(),0<t&&n.drawImage(i,0,0,i.width*t,i.height,0,0,i.width*t/ct,i.height/ct),n.restore()}},fadeInAnimation:function(t,e){if(0!==t){var n=e.dest,i=e.source.canvas;n.save(),n.globalAlpha=t,n.drawImage(i,0,0,i.width,i.height,0,0,n.canvas.width/ct,n.canvas.height/ct),n.restore()}},easing:{linear:function(t,e,n,i){return n*t/i+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e}}},tt={drawMarker:function(t,e,n,i,l,s,r,o){if(n){var a=1;n.fillStyle=s||"#000000",n.strokeStyle=r||"#000000",n.lineWidth=o||0,n.setLineDash&&n.setLineDash(f("solid",o)),"circle"===i?(n.moveTo(t,e),n.beginPath(),n.arc(t,e,l/2,0,2*Math.PI,!1),s&&n.fill(),o&&(r?n.stroke():(a=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=a))):"square"===i?(n.beginPath(),n.rect(t-l/2,e-l/2,l,l),s&&n.fill(),o&&(r?n.stroke():(a=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=a))):"triangle"===i?(n.beginPath(),n.moveTo(t-l/2,e+l/2),n.lineTo(t+l/2,e+l/2),n.lineTo(t,e-l/2),n.closePath(),s&&n.fill(),o&&(r?n.stroke():(a=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=a)),n.beginPath()):"cross"===i&&(n.strokeStyle=s,n.lineWidth=l/4,n.beginPath(),n.moveTo(t-l/2,e-l/2),n.lineTo(t+l/2,e+l/2),n.stroke(),n.moveTo(t+l/2,e-l/2),n.lineTo(t-l/2,e+l/2),n.stroke())}},drawMarkers:function(t){for(var e=0;e<t.length;e++){var n=t[e];tt.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};return e}(),ft.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new h(this))}function e(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(t){t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),t.styleSheets.ex_canvas_||((t=t.createStyleSheet()).owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function i(t){var e=t.srcElement;switch(t.propertyName){case"width":e.getContext().clearRect(),e.style.width=e.attributes.width.nodeValue+"px",e.firstChild.style.width=e.clientWidth+"px";break;case"height":e.getContext().clearRect(),e.style.height=e.attributes.height.nodeValue+"px",e.firstChild.style.height=e.clientHeight+"px"}}function l(t){(t=t.srcElement).firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function s(t,e){for(var n=[[1,0,0],[0,1,0],[0,0,1]],i=0;3>i;i++)for(var l=0;3>l;l++){for(var s=0,r=0;3>r;r++)s+=t[i][r]*e[r][l];n[i][l]=s}return n}function r(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.font=t.font,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function o(t){var e=t.indexOf("(",3),n=t.indexOf(")",e+1);return 4==(e=t.substring(e+1,n).split(",")).length&&"a"==t.charAt(3)||(e[3]=1),e}function a(t,e,n){return Math.min(n,Math.max(e,t))}function u(t,e,n){return 0>n&&n++,1<n&&n--,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}function c(t){if(t in F)return F[t];var e,n=1;if("#"==(t=String(t)).charAt(0))e=t;else if(/^rgb/.test(t)){n=o(t),e="#";for(var i,l=0;3>l;l++)i=-1!=n[l].indexOf("%")?Math.floor(parseFloat(n[l])/100*255):+n[l],e+=E[a(i,0,255)];n=+n[3]}else if(/^hsl/.test(t)){if(l=n=o(t),0>(e=parseFloat(l[0])/360%360)&&e++,i=a(parseFloat(l[1])/100,0,1),l=a(parseFloat(l[2])/100,0,1),0==i)i=l=e=l;else{var s=.5>l?l*(1+i):l+i-l*i,r=2*l-s;i=u(r,s,e+1/3),l=u(r,s,e),e=u(r,s,e-1/3)}e="#"+E[Math.floor(255*i)]+E[Math.floor(255*l)]+E[Math.floor(255*e)],n=n[3]}else e=O[t]||t;return F[t]={color:e,alpha:n}}function h(t){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*S,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=t;var e="width:"+t.clientWidth+"px;height:"+t.clientHeight+"px;overflow:hidden;position:absolute",n=t.ownerDocument.createElement("div");n.style.cssText=e,t.appendChild(n),(e=n.cloneNode(!1)).style.backgroundColor="red",e.style.filter="alpha(opacity=0)",t.appendChild(e),this.element_=n,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function d(t,e,n,i){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),t.currentX_=i.x,t.currentY_=i.y}function p(t,e){var n=(i=c(t.strokeStyle)).color,i=i.alpha*t.globalAlpha,l=t.lineScale_*t.lineWidth;1>l&&(i*=l),e.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',t.lineJoin,'"',' miterlimit="',t.miterLimit,'"',' endcap="',R[t.lineCap]||"square",'"',' weight="',l,'px"',' color="',n,'" />')}function m(t,e,n,i){var l=t.fillStyle,s=t.arcScaleX_,r=t.arcScaleY_,o=i.x-n.x,a=i.y-n.y;if(l instanceof b){var u=0,h=i=0,d=0,p=1;if("gradient"==l.type_){u=l.x1_/s,n=l.y1_/r;var m=g(t,l.x0_/s,l.y0_/r);u=g(t,u,n),0>(u=180*Math.atan2(u.x-m.x,u.y-m.y)/Math.PI)&&(u+=360),1e-6>u&&(u=0)}else i=((m=g(t,l.x0_,l.y0_)).x-n.x)/o,h=(m.y-n.y)/a,p=w.max(o/=s*S,a/=r*S),p=2*l.r1_/p-(d=2*l.r0_/p);(s=l.colors_).sort((function(t,e){return t.offset-e.offset})),m=s[0].color,n=s[(r=s.length)-1].color,o=s[0].alpha*t.globalAlpha,t=s[r-1].alpha*t.globalAlpha,a=[];for(var f=0;f<r;f++){var y=s[f];a.push(y.offset*p+d+" "+y.color)}e.push('<g_vml_:fill type="',l.type_,'"',' method="none" focus="100%"',' color="',m,'"',' color2="',n,'"',' colors="',a.join(","),'"',' opacity="',t,'"',' g_o_:opacity2="',o,'"',' angle="',u,'"',' focusposition="',i,",",h,'" />')}else l instanceof v?o&&a&&e.push("<g_vml_:fill",' position="',-n.x/o*s*s,",",-n.y/a*r*r,'"',' type="tile"',' src="',l.src_,'" />'):(l=c(t.fillStyle),e.push('<g_vml_:fill color="',l.color,'" opacity="',l.alpha*t.globalAlpha,'" />'))}function g(t,e,n){return{x:S*(e*(t=t.m_)[0][0]+n*t[1][0]+t[2][0])-M,y:S*(e*t[0][1]+n*t[1][1]+t[2][1])-M}}function f(t,e,n){isFinite(e[0][0])&&isFinite(e[0][1])&&isFinite(e[1][0])&&isFinite(e[1][1])&&isFinite(e[2][0])&&isFinite(e[2][1])&&(t.m_=e,n&&(t.lineScale_=T(C(e[0][0]*e[1][1]-e[0][1]*e[1][0]))))}function b(t){this.type_=t,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function v(t,e){if(!t||1!=t.nodeType||"IMG"!=t.tagName)throw new y("TYPE_MISMATCH_ERR");if("complete"!=t.readyState)throw new y("INVALID_STATE_ERR");switch(e){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=e;break;default:throw new y("SYNTAX_ERR")}this.src_=t.src,this.width_=t.width,this.height_=t.height}function y(t){this.code=this[t],this.message=t+": DOM Exception "+this.code}var w=Math,x=w.round,k=w.sin,_=w.cos,C=w.abs,T=w.sqrt,S=10,M=S/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var P=Array.prototype.slice;n(document);var A={init:function(t){(t=t||document).createElement("canvas"),t.attachEvent("onreadystatechange",function(t,e,n){var i=P.call(arguments,2);return function(){return t.apply(e,i.concat(P.call(arguments)))}}(this.init_,this,t))},init_:function(t){t=t.getElementsByTagName("canvas");for(var e=0;e<t.length;e++)this.initElement(t[e])},initElement:function(e){if(!e.getContext){e.getContext=t,n(e.ownerDocument),e.innerHTML="",e.attachEvent("onpropertychange",i),e.attachEvent("onresize",l);var s=e.attributes;s.width&&s.width.specified?e.style.width=s.width.nodeValue+"px":e.width=e.clientWidth,s.height&&s.height.specified?e.style.height=s.height.nodeValue+"px":e.height=e.clientHeight}return e}};A.init();for(var E=[],I=0;16>I;I++)for(var D=0;16>D;D++)E[16*I+D]=I.toString(16)+D.toString(16);var O={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},F={},N={},R={butt:"flat",round:"round"};(I=h.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},I.beginPath=function(){this.currentPath_=[]},I.moveTo=function(t,e){var n=g(this,t,e);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},I.lineTo=function(t,e){var n=g(this,t,e);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},I.bezierCurveTo=function(t,e,n,i,l,s){l=g(this,l,s),d(this,t=g(this,t,e),n=g(this,n,i),l)},I.quadraticCurveTo=function(t,e,n,i){t=g(this,t,e),n=g(this,n,i),d(this,i={x:this.currentX_+2/3*(t.x-this.currentX_),y:this.currentY_+2/3*(t.y-this.currentY_)},{x:i.x+(n.x-this.currentX_)/3,y:i.y+(n.y-this.currentY_)/3},n)},I.arc=function(t,e,n,i,l,s){n*=S;var r=s?"at":"wa",o=t+_(i)*n-M,a=e+k(i)*n-M;i=t+_(l)*n-M,l=e+k(l)*n-M,o!=i||s||(o+=.125),t=g(this,t,e),o=g(this,o,a),i=g(this,i,l),this.currentPath_.push({type:r,x:t.x,y:t.y,radius:n,xStart:o.x,yStart:o.y,xEnd:i.x,yEnd:i.y})},I.rect=function(t,e,n,i){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath()},I.strokeRect=function(t,e,n,i){var l=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath(),this.stroke(),this.currentPath_=l},I.fillRect=function(t,e,n,i){var l=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+i),this.lineTo(t,e+i),this.closePath(),this.fill(),this.currentPath_=l},I.createLinearGradient=function(t,e,n,i){var l=new b("gradient");return l.x0_=t,l.y0_=e,l.x1_=n,l.y1_=i,l},I.createRadialGradient=function(t,e,n,i,l,s){var r=new b("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=n,r.x1_=i,r.y1_=l,r.r1_=s,r},I.drawImage=function(t,e){var n,i,l,s,r,o,a,u;l=t.runtimeStyle.width,s=t.runtimeStyle.height,t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var c=t.width,h=t.height;if(t.runtimeStyle.width=l,t.runtimeStyle.height=s,3==arguments.length)n=arguments[1],i=arguments[2],r=o=0,a=l=c,u=s=h;else if(5==arguments.length)n=arguments[1],i=arguments[2],l=arguments[3],s=arguments[4],r=o=0,a=c,u=h;else{if(9!=arguments.length)throw Error("Invalid number of arguments");r=arguments[1],o=arguments[2],a=arguments[3],u=arguments[4],n=arguments[5],i=arguments[6],l=arguments[7],s=arguments[8]}var d=g(this,n,i),p=[];if(p.push(" <g_vml_:group",' coordsize="',10*S,",",10*S,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var m=[];m.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",x(d.x/S),",","Dy=",x(d.y/S),"");var f=g(this,n+l,i),b=g(this,n,i+s);n=g(this,n+l,i+s),d.x=w.max(d.x,f.x,b.x,n.x),d.y=w.max(d.y,f.y,b.y,n.y),p.push("padding:0 ",x(d.x/S),"px ",x(d.y/S),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",m.join(""),", sizingmethod='clip');")}else p.push("top:",x(d.y/S),"px;left:",x(d.x/S),"px;");p.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',S*l,"px;"," height:",S*s,'px"',' cropleft="',r/c,'"',' croptop="',o/h,'"',' cropright="',(c-r-a)/c,'"',' cropbottom="',(h-o-u)/h,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",p.join(""))},I.stroke=function(t){var e=[];e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*S,",",10*S,'"',' stroked="',!t,'"',' path="');for(var n={x:null,y:null},i={x:null,y:null},l=0;l<this.currentPath_.length;l++){var s=this.currentPath_[l];switch(s.type){case"moveTo":e.push(" m ",x(s.x),",",x(s.y));break;case"lineTo":e.push(" l ",x(s.x),",",x(s.y));break;case"close":e.push(" x "),s=null;break;case"bezierCurveTo":e.push(" c ",x(s.cp1x),",",x(s.cp1y),",",x(s.cp2x),",",x(s.cp2y),",",x(s.x),",",x(s.y));break;case"at":case"wa":e.push(" ",s.type," ",x(s.x-this.arcScaleX_*s.radius),",",x(s.y-this.arcScaleY_*s.radius)," ",x(s.x+this.arcScaleX_*s.radius),",",x(s.y+this.arcScaleY_*s.radius)," ",x(s.xStart),",",x(s.yStart)," ",x(s.xEnd),",",x(s.yEnd))}s&&((null==n.x||s.x<n.x)&&(n.x=s.x),(null==i.x||s.x>i.x)&&(i.x=s.x),(null==n.y||s.y<n.y)&&(n.y=s.y),(null==i.y||s.y>i.y)&&(i.y=s.y))}e.push(' ">'),t?m(this,e,n,i):p(this,e),e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},I.fill=function(){this.stroke(!0)},I.closePath=function(){this.currentPath_.push({type:"close"})},I.save=function(){var t={};r(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=s([[1,0,0],[0,1,0],[0,0,1]],this.m_)},I.restore=function(){this.aStack_.length&&(r(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},I.translate=function(t,e){f(this,s([[1,0,0],[0,1,0],[t,e,1]],this.m_),!1)},I.rotate=function(t){var e=_(t);f(this,s([[e,t=k(t),0],[-t,e,0],[0,0,1]],this.m_),!1)},I.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e,f(this,s([[t,0,0],[0,e,0],[0,0,1]],this.m_),!0)},I.transform=function(t,e,n,i,l,r){f(this,s([[t,e,0],[n,i,0],[l,r,1]],this.m_),!0)},I.setTransform=function(t,e,n,i,l,s){f(this,[[t,e,0],[n,i,0],[l,s,1]],!0)},I.drawText_=function(t,n,i,l,s){var r=this.m_;l=0;var o,a=1e3,u=0,c=[];if(N[o=this.font])o=N[o];else{var h=document.createElement("div").style;try{h.font=o}catch(b){}o=N[o]={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:h.fontSize||10,family:h.fontFamily||"sans-serif"}}h=o;var d=this.element_;for(var f in o={},h)o[f]=h[f];switch(f=parseFloat(d.currentStyle.fontSize),d=parseFloat(h.size),o.size="number"==typeof h.size?h.size:-1!=h.size.indexOf("px")?d:-1!=h.size.indexOf("em")?f*d:-1!=h.size.indexOf("%")?f/100*d:-1!=h.size.indexOf("pt")?d/.75:f,o.size*=.981,f=o.style+" "+o.variant+" "+o.weight+" "+o.size+"px "+o.family,d=this.element_.currentStyle,h=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":h="ltr"==d.direction?"right":"left";break;case"start":h="rtl"==d.direction?"right":"left";break;default:h="left"}switch(this.textBaseline){case"hanging":case"top":u=o.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u=-o.size/2.25}switch(h){case"right":l=1e3,a=.05;break;case"center":l=a=500}n=g(this,n+0,i+u),c.push('<g_vml_:line from="',-l,' 0" to="',a,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!s,'" stroked="',!!s,'" style="position:absolute;width:1px;height:1px;">'),s?p(this,c):m(this,c,{x:-l,y:0},{x:a,y:o.size}),s=r[0][0].toFixed(3)+","+r[1][0].toFixed(3)+","+r[0][1].toFixed(3)+","+r[1][1].toFixed(3)+",0,0",n=x(n.x/S)+","+x(n.y/S),c.push('<g_vml_:skew on="t" matrix="',s,'" ',' offset="',n,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',e(t),'" style="v-text-align:',h,";font:",e(f),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},I.fillText=function(t,e,n,i){this.drawText_(t,e,n,i,!1)},I.strokeText=function(t,e,n,i){this.drawText_(t,e,n,i,!0)},I.measureText=function(t){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var e=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(e.createTextNode(t)),{width:this.textMeasureEl_.offsetWidth}},I.clip=function(){},I.arcTo=function(){},I.createPattern=function(t,e){return new v(t,e)},b.prototype.addColorStop=function(t,e){e=c(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},(I=y.prototype=Error()).INDEX_SIZE_ERR=1,I.DOMSTRING_SIZE_ERR=2,I.HIERARCHY_REQUEST_ERR=3,I.WRONG_DOCUMENT_ERR=4,I.INVALID_CHARACTER_ERR=5,I.NO_DATA_ALLOWED_ERR=6,I.NO_MODIFICATION_ALLOWED_ERR=7,I.NOT_FOUND_ERR=8,I.NOT_SUPPORTED_ERR=9,I.INUSE_ATTRIBUTE_ERR=10,I.INVALID_STATE_ERR=11,I.SYNTAX_ERR=12,I.INVALID_MODIFICATION_ERR=13,I.NAMESPACE_ERR=14,I.INVALID_ACCESS_ERR=15,I.VALIDATION_ERR=16,I.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=A,CanvasRenderingContext2D=h,CanvasGradient=b,CanvasPattern=v,DOMException=y}()},FpMW:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.Output=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.channels={},this.keepMessages={}}return i(t,[{key:"push",value:function(t,e){this.channels[t]&&(this.channels[t].push(e),this.keepMessages[t]&&this.channels[t].length>this.keepMessages[t]&&this.channels[t].splice(0,this.channels[t].length-this.keepMessages[t]))}},{key:"get",value:function(t){return this.channels[t]?this.channels[t]:null}},{key:"clean",value:function(t){this.channels[t]&&(this.channels[t].length=0)}},{key:"subscribe",value:function(t,e){return!this.channels[t]&&(this.channels[t]=[],this.keepMessages[t]=e,!0)}},{key:"sort",value:function(t,e){this.channels[t]&&this.channels[t].sort((function(t,n){return t[e]>n[e]?1:t[e]<n[e]?-1:0}))}},{key:"unsubscribe",value:function(t){this.channels[t]&&(this.clean(t),delete this.channels[t])}}]),t}()},HtwQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Broadcast=void 0;var i,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n("IMwA"))&&i.__esModule?i:{default:i};e.Broadcast=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s.default.subscribe_listener_events_to_broadcast.forEach((function(t){var n="_".concat(t);e[n]={},e[t]=function(t,e){!function(t,e,n){Array.isArray(e)?e.forEach((function(e){t[e]=n})):t[e]=n}(this[n],t,e)}}))}return l(t,[{key:"emit",value:function(t,e,n){var i="_".concat(t);this[i]&&this[i][e]&&this[i][e].call(null,n)}},{key:"error",value:function(t){this._error=t}},{key:"emitError",value:function(t){this._error&&this._error.call(null,t)}},{key:"unsubscribe",value:function(t){var e=this;s.default.subscribe_listener_events_to_broadcast.forEach((function(n){var i="_".concat(n);!function(t,e){Array.isArray(e)?e.forEach((function(e){t[e]&&delete t[e]})):t[e]&&delete t[e]}(e[i],t)}))}}]),t}()},IMwA:function(t){t.exports=JSON.parse('{"pubnub_prefix":"pubnub","default_instance_name":"default","attributes_to_delegate":["channelGroups","push"],"methods_to_delegate":["addListener","removeListener","removeAllListeners","hereNow","whereNow","getState","setState","grant","audit","publish","fire","history","deleteMessages","fetchMessages","time","reconnect","stop","unsubscribeAll","getSubscribedChannels","getSubscribedChannelGroups","encrypt","decrypt","getAuthKey","setAuthKey","setCipherKey","getUUID","setUUID","getFilterExpression","setFilterExpression"],"common_callbacks_to_wrap":["callback","error"],"subscribe_listener_events_to_broadcast":["message","presence","status"],"history_sort_attribute":"timetoken"}')},"Ju5/":function(t,e,n){"use strict";var i=n("XqMk"),l="object"==typeof self&&self&&self.Object===Object&&self,s=i.a||l||Function("return this")();e.a=s},L3Qv:function(t,e,n){"use strict";e.a=function(){return!1}},MPr3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mock=void 0;var i,l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=(i=n("IMwA"))&&i.__esModule?i:{default:i};e.Mock=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listener=null,this.broadcaster=e,this.broadcastChannels={}}return l(t,[{key:"initializeListener",value:function(t){if(null===this.listener){var e=this;e.listener={},s.default.subscribe_listener_events_to_broadcast.forEach((function(t){e.listener[t]=function(n){n.subscription&&e.broadcastChannels[n.subscription]&&e.broadcastChannels[n.subscription].includes(t)&&(e.broadcaster.emit(t,n.subscription,n),n.channel&&e.broadcaster.emit(t,n.channel,n)),n.channel&&e.broadcastChannels[n.channel]&&e.broadcastChannels[n.channel].includes(t)&&e.broadcaster.emit(t,n.channel,n),"status"===t&&(n.error?e.broadcaster.emitError(n):n.affectedChannels||n.affectedChannelGroups?(n.affectedChannels.forEach((function(i){e.broadcastChannels[i]&&e.broadcastChannels[i].includes(t)&&e.broadcaster.emit(t,i,n)})),n.affectedChannelGroups.forEach((function(i){e.broadcastChannels[i]&&e.broadcastChannels[i].includes(t)&&e.broadcaster.emit(t,i,n)}))):Object.keys(e.broadcastChannels).forEach((function(i){e.broadcaster.emit(t,i,n)})))}})),t.getOriginalInstance().addListener(this.listener)}}},{key:"addEventsBroadcast",value:function(t,e){var n=this;t.forEach((function(t){"boolean"==typeof e?n.broadcastChannels[t]=s.default.subscribe_listener_events_to_broadcast:Array.isArray(e)&&(n.broadcastChannels[t]=[],e.forEach((function(e){s.default.subscribe_listener_events_to_broadcast.includes(e)&&n.broadcastChannels[t].push(e)})))}))}},{key:"removeEventBroadcast",value:function(t){var e=this;t.forEach((function(t){e.broadcastChannels[t]&&delete e.broadcastChannels[t]}))}},{key:"enableEventsBroadcast",value:function(t){t.channels&&this.addEventsBroadcast(t.channels,t.triggerEvents),t.channelGroups&&this.addEventsBroadcast(t.channelGroups,t.triggerEvents)}},{key:"disableEventsBroadcast",value:function(t){t.channels&&this.removeEventBroadcast(t.channels),t.channelGroups&&this.removeEventBroadcast(t.channelGroups)}}]),t}()},Nehr:function(t,e,n){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},PSD3:function(t,e,n){t.exports=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var l=new(Function.bind.apply(t,i));return n&&r(l,n.prototype),l}).apply(null,arguments)}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(i){var l=Object.getOwnPropertyDescriptor(i,e);return l.get?l.get.call(n):l.value}})(t,e,n||t)}var u=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},c=function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){return Array.prototype.slice.call(t)},d=function(t){console.warn("".concat("SweetAlert2:"," ").concat(t))},p=function(t){console.error("".concat("SweetAlert2:"," ").concat(t))},m=[],g=function(t){return"function"==typeof t?t():t},f=function(t){return t&&Promise.resolve(t)===t},b=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),v=function(e){return e instanceof Element||function(e){return"object"===t(e)&&e.jquery}(e)},y=function(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e},w=y(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),x=y(["success","warning","info","question","error"]),k=function(){return document.body.querySelector(".".concat(w.container))},_=function(t){var e=k();return e?e.querySelector(t):null},C=function(t){return _(".".concat(t))},T=function(){return C(w.popup)},S=function(){var t=T();return h(t.querySelectorAll(".".concat(w.icon)))},M=function(){var t=S().filter((function(t){return it(t)}));return t.length?t[0]:null},P=function(){return C(w.title)},A=function(){return C(w.content)},E=function(){return C(w.image)},I=function(){return C(w["progress-steps"])},D=function(){return C(w["validation-message"])},O=function(){return _(".".concat(w.actions," .").concat(w.confirm))},F=function(){return _(".".concat(w.actions," .").concat(w.cancel))},N=function(){return C(w.actions)},R=function(){return C(w.header)},L=function(){return C(w.footer)},B=function(){return C(w["timer-progress-bar"])},V=function(){return C(w.close)},z=function(){var t=h(T().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(t,e){return(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0})),e=h(T().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(t){return"-1"!==t.getAttribute("tabindex")}));return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter((function(t){return it(t)}))},j=function(){return!H()&&!document.body.classList.contains(w["no-backdrop"])},H=function(){return document.body.classList.contains(w["toast-shown"])},W={previousBodyPadding:null},U=function(t,e){if(!e)return!1;for(var n=e.split(/\s+/),i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},$=function(e,n,i){if(function(t,e){h(t.classList).forEach((function(n){-1===c(w).indexOf(n)&&-1===c(x).indexOf(n)&&-1===c(e.showClass).indexOf(n)&&t.classList.remove(n)}))}(e,n),n.customClass&&n.customClass[i]){if("string"!=typeof n.customClass[i]&&!n.customClass[i].forEach)return d("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(t(n.customClass[i]),'"'));K(e,n.customClass[i])}};function Y(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return Q(t,w[e]);case"checkbox":return t.querySelector(".".concat(w.checkbox," input"));case"radio":return t.querySelector(".".concat(w.radio," input:checked"))||t.querySelector(".".concat(w.radio," input:first-child"));case"range":return t.querySelector(".".concat(w.range," input"));default:return Q(t,w.input)}}var q,G=function(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}},X=function(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((function(e){t.forEach?t.forEach((function(t){n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},K=function(t,e){X(t,e,!0)},Z=function(t,e){X(t,e,!1)},Q=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(U(t.childNodes[n],e))return t.childNodes[n]},J=function(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},tt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";t.style.opacity="",t.style.display=e},et=function(t){t.style.opacity="",t.style.display="none"},nt=function(t,e,n){e?tt(t,n):et(t)},it=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},lt=function(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},st=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=B();it(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"}),10))},rt=function(){return"undefined"==typeof window||"undefined"==typeof document},ot='\n <div aria-labelledby="'.concat(w.title,'" aria-describedby="').concat(w.content,'" class="').concat(w.popup,'" tabindex="-1">\n   <div class="').concat(w.header,'">\n     <ul class="').concat(w["progress-steps"],'"></ul>\n     <div class="').concat(w.icon," ").concat(x.error,'"></div>\n     <div class="').concat(w.icon," ").concat(x.question,'"></div>\n     <div class="').concat(w.icon," ").concat(x.warning,'"></div>\n     <div class="').concat(w.icon," ").concat(x.info,'"></div>\n     <div class="').concat(w.icon," ").concat(x.success,'"></div>\n     <img class="').concat(w.image,'" />\n     <h2 class="').concat(w.title,'" id="').concat(w.title,'"></h2>\n     <button type="button" class="').concat(w.close,'"></button>\n   </div>\n   <div class="').concat(w.content,'">\n     <div id="').concat(w.content,'" class="').concat(w["html-container"],'"></div>\n     <input class="').concat(w.input,'" />\n     <input type="file" class="').concat(w.file,'" />\n     <div class="').concat(w.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(w.select,'"></select>\n     <div class="').concat(w.radio,'"></div>\n     <label for="').concat(w.checkbox,'" class="').concat(w.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(w.label,'"></span>\n     </label>\n     <textarea class="').concat(w.textarea,'"></textarea>\n     <div class="').concat(w["validation-message"],'" id="').concat(w["validation-message"],'"></div>\n   </div>\n   <div class="').concat(w.actions,'">\n     <button type="button" class="').concat(w.confirm,'">OK</button>\n     <button type="button" class="').concat(w.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(w.footer,'"></div>\n   <div class="').concat(w["timer-progress-bar"],'"></div>\n </div>\n').replace(/(^|\n)\s*/g,""),at=function(t){ve.isVisible()&&q!==t.target.value&&ve.resetValidationMessage(),q=t.target.value},ut=function(e,n){e instanceof HTMLElement?n.appendChild(e):"object"===t(e)?ct(e,n):e&&(n.innerHTML=e)},ct=function(t,e){t.jquery?ht(e,t):e.innerHTML=t.toString()},ht=function(t,e){if(t.innerHTML="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},dt=function(){if(rt())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function pt(t,e,n){nt(t,n["show".concat(u(e),"Button")],"inline-block"),t.innerHTML=n["".concat(e,"ButtonText")],t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=w[e],$(t,n,"".concat(e,"Button")),K(t,n["".concat(e,"ButtonClass")])}var mt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},gt=["input","file","range","select","radio","checkbox","textarea"],ft=function(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},bt=function(t){var e=w[t]?w[t]:w.input;return Q(A(),e)},vt={};vt.text=vt.email=vt.password=vt.number=vt.tel=vt.url=function(e,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?e.value=n.inputValue:f(n.inputValue)||d('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(n.inputValue),'"')),ft(e,n),e.type=n.input,e},vt.file=function(t,e){return ft(t,e),t},vt.range=function(t,e){var n=t.querySelector("input"),i=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,i.value=e.inputValue,t},vt.select=function(t,e){if(t.innerHTML="",e.inputPlaceholder){var n=document.createElement("option");n.innerHTML=e.inputPlaceholder,n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},vt.radio=function(t){return t.innerHTML="",t},vt.checkbox=function(t,e){var n=Y(A(),"checkbox");return n.value=1,n.id=w.checkbox,n.checked=Boolean(e.inputValue),t.querySelector("span").innerHTML=e.inputPlaceholder,t},vt.textarea=function(t,e){if(t.value=e.inputValue,ft(t,e),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(T()).width),i=parseInt(window.getComputedStyle(T()).paddingLeft)+parseInt(window.getComputedStyle(T()).paddingRight);new MutationObserver((function(){var e=t.offsetWidth+i;T().style.width=e>n?"".concat(e,"px"):null})).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};var yt=function(t){return'<div class="'.concat(w["icon-content"],'">').concat(t,"</div>")},wt=[],xt=function(){return k().getAttribute("data-queue-step")},kt=function(t,e){!function(t,e){var n=T();J(n,"width",e.width),J(n,"padding",e.padding),e.background&&(n.style.background=e.background),function(t,e){t.className="".concat(w.popup," ").concat(it(t)?e.showClass.popup:""),e.toast?(K([document.documentElement,document.body],w["toast-shown"]),K(t,w.toast)):K(t,w.modal),$(t,e,"popup"),"string"==typeof e.customClass&&K(t,e.customClass),e.icon&&K(t,w["icon-".concat(e.icon)])}(n,e)}(0,e),function(t,e){var n=k();if(n){!function(t,e){"string"==typeof e?t.style.background=e:e||K([document.documentElement,document.body],w["no-backdrop"])}(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in w?K(t,w[e]):(d('The "position" parameter is not valid, defaulting to "center"'),K(t,w.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in w&&K(t,w[n])}}(n,e.grow),$(n,e,"container");var i=document.body.getAttribute("data-swal2-queue-step");i&&(n.setAttribute("data-queue-step",i),document.body.removeAttribute("data-swal2-queue-step"))}}(0,e),function(t,e){var n=R();$(n,e,"header"),function(t,e){var n=I();if(!e.progressSteps||0===e.progressSteps.length)return et(n);tt(n),n.innerHTML="";var i=parseInt(void 0===e.currentProgressStep?xt():e.currentProgressStep);i>=e.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((function(t,l){var s=function(t){var e=document.createElement("li");return K(e,w["progress-step"]),e.innerHTML=t,e}(t);if(n.appendChild(s),l===i&&K(s,w["active-progress-step"]),l!==e.progressSteps.length-1){var r=function(t){var e=document.createElement("li");return K(e,w["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e}(t);n.appendChild(r)}}))}(0,e),function(t,e){var n=mt.innerParams.get(t);if(n&&e.icon===n.icon&&M())$(M(),e,"icon");else if(function(){for(var t=S(),e=0;e<t.length;e++)et(t[e])}(),e.icon)if(-1!==Object.keys(x).indexOf(e.icon)){var i=_(".".concat(w.icon,".").concat(x[e.icon]));tt(i),function(t,e){t.innerHTML="",t.innerHTML=e.iconHtml?yt(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':yt({question:"?",warning:"!",info:"i"}[e.icon])}(i,e),function(){for(var t=T(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=e}(),$(i,e,"icon"),K(i,e.showClass.icon)}else p('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t,e){var n=E();if(!e.imageUrl)return et(n);tt(n),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),J(n,"width",e.imageWidth),J(n,"height",e.imageHeight),n.className=w.image,$(n,e,"image")}(0,e),function(t,e){var n=P();nt(n,e.title||e.titleText),e.title&&ut(e.title,n),e.titleText&&(n.innerText=e.titleText),$(n,e,"title")}(0,e),function(t,e){var n=V();n.innerHTML=e.closeButtonHtml,$(n,e,"closeButton"),nt(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)}(0,e)}(t,e),function(t,e){var n=A().querySelector("#".concat(w.content));e.html?(ut(e.html,n),tt(n,"block")):e.text?(n.textContent=e.text,tt(n,"block")):et(n),function(t,e){var n=A(),i=mt.innerParams.get(t),l=!i||e.input!==i.input;gt.forEach((function(t){var i=w[t],s=Q(n,i);(function(t,e){var n=Y(A(),t);if(n)for(var i in function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===i||n.setAttribute(i,e[i])})(t,e.inputAttributes),s.className=i,l&&et(s)})),e.input&&(l&&function(t){if(!vt[t.input])return p('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=bt(t.input),n=vt[t.input](e,t);tt(n),setTimeout((function(){G(n)}))}(e),function(t){var e=bt(t.input);t.customClass&&K(e,t.customClass.input)}(e))}(t,e),$(A(),e,"content")}(t,e),function(t,e){var n=N(),i=O(),l=F();e.showConfirmButton||e.showCancelButton||et(n),$(n,e,"actions"),pt(i,"confirm",e),pt(l,"cancel",e),e.buttonsStyling?function(t,e,n){K([t,e],w.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var i=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=i,t.style.borderRightColor=i}(i,l,e):(Z([i,l],w.styled),i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor="",l.style.backgroundColor=l.style.borderLeftColor=l.style.borderRightColor=""),e.reverseButtons&&i.parentNode.insertBefore(l,i)}(0,e),function(t,e){var n=L();nt(n,e.footer),e.footer&&ut(e.footer,n),$(n,e,"footer")}(0,e),"function"==typeof e.onRender&&e.onRender(T())},_t=function(){return O()&&O().click()},Ct=function(){var t=T();t||ve.fire(),t=T();var e=N(),n=O();tt(e),tt(n,"inline-block"),K([t,e],w.loading),n.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},Tt={},St=function(){return new Promise((function(t){var e=window.scrollX,n=window.scrollY;Tt.restoreFocusTimeout=setTimeout((function(){Tt.previousActiveElement&&Tt.previousActiveElement.focus?(Tt.previousActiveElement.focus(),Tt.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)}))},Mt=function(){if(Tt.timeout)return function(){var t=B(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),i=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(i,"%")}(),Tt.timeout.stop()},Pt=function(){if(Tt.timeout){var t=Tt.timeout.start();return st(t),t}},At={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Et=["title","titleText","text","html","icon","customClass","allowOutsideClick","allowEscapeKey","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeight","imageAlt","progressSteps","currentProgressStep"],It={animation:'showClass" and "hideClass'},Dt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Ot=function(t){return Object.prototype.hasOwnProperty.call(At,t)},Ft=function(t){return It[t]},Nt=function(t){Ot(t)||d('Unknown parameter "'.concat(t,'"'))},Rt=function(t){-1!==Dt.indexOf(t)&&d('The parameter "'.concat(t,'" is incompatible with toasts'))},Lt=function(t){var e,n,i;Ft(t)&&(e=t,n=Ft(t),i='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===m.indexOf(i)&&(m.push(i),d(i)))},Bt=Object.freeze({isValidParameter:Ot,isUpdatableParameter:function(t){return-1!==Et.indexOf(t)},isDeprecatedParameter:Ft,argsToParams:function(e){var n={};return"object"!==t(e[0])||v(e[0])?["title","html","icon"].forEach((function(i,l){var s=e[l];"string"==typeof s||v(s)?n[i]=s:void 0!==s&&p("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(t(s)))})):l(n,e[0]),n},isVisible:function(){return it(T())},clickConfirm:_t,clickCancel:function(){return F()&&F().click()},getContainer:k,getPopup:T,getTitle:P,getContent:A,getHtmlContainer:function(){return C(w["html-container"])},getImage:E,getIcon:M,getIcons:S,getCloseButton:V,getActions:N,getConfirmButton:O,getCancelButton:F,getHeader:R,getFooter:L,getFocusableElements:z,getValidationMessage:D,isLoading:function(){return T().hasAttribute("data-loading")},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(this,e)},mixin:function(t){return function(n){function o(){return e(this,o),function(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(o).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}(o,n),i(o,[{key:"_main",value:function(e){return a(s(o.prototype),"_main",this).call(this,l({},t,e))}}]),o}(this)},queue:function(t){var e=this;wt=t;var n=function(t,e){wt=[],t(e)},i=[];return new Promise((function(t){!function l(s,r){s<wt.length?(document.body.setAttribute("data-swal2-queue-step",s),e.fire(wt[s]).then((function(e){void 0!==e.value?(i.push(e.value),l(s+1,r)):n(t,{dismiss:e.dismiss})}))):n(t,{value:i})}(0)}))},getQueueStep:xt,insertQueueStep:function(t,e){return e&&e<wt.length?wt.splice(e,0,t):wt.push(t)},deleteQueueStep:function(t){void 0!==wt[t]&&wt.splice(t,1)},showLoading:Ct,enableLoading:Ct,getTimerLeft:function(){return Tt.timeout&&Tt.timeout.getTimerLeft()},stopTimer:Mt,resumeTimer:Pt,toggleTimer:function(){var t=Tt.timeout;return t&&(t.running?Mt():Pt())},increaseTimer:function(t){if(Tt.timeout){var e=Tt.timeout.increase(t);return st(e,!0),e}},isTimerRunning:function(){return Tt.timeout&&Tt.timeout.isRunning()}});function Vt(){var t=mt.innerParams.get(this);if(t){var e=mt.domCache.get(this);t.showConfirmButton||(et(e.confirmButton),t.showCancelButton||et(e.actions)),Z([e.popup,e.actions],w.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}}var zt=function(){null!==W.previousBodyPadding&&(document.body.style.paddingRight="".concat(W.previousBodyPadding,"px"),W.previousBodyPadding=null)},jt=function(){if(U(document.body,w.iosfix)){var t=parseInt(document.body.style.top,10);Z(document.body,w.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}},Ht=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Wt=function(){var t=k(),e=T();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")},Ut=function(){"undefined"!=typeof window&&Ht()&&window.removeEventListener("resize",Wt)},$t=function(){h(document.body.children).forEach((function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},Yt={swalPromiseResolve:new WeakMap};function qt(t,e,n,i){n?Zt(t,i):(St().then((function(){return Zt(t,i)})),Tt.keydownTarget.removeEventListener("keydown",Tt.keydownHandler,{capture:Tt.keydownListenerCapture}),Tt.keydownHandlerAdded=!1),e.parentNode&&e.parentNode.removeChild(e),j()&&(zt(),jt(),Ut(),$t()),Z([document.documentElement,document.body],[w.shown,w["height-auto"],w["no-backdrop"],w["toast-shown"],w["toast-column"]])}function Gt(t){var e=T();if(e){var n=mt.innerParams.get(this);if(n&&!U(e,n.hideClass.popup)){var i=Yt.swalPromiseResolve.get(this);Z(e,n.showClass.popup),K(e,n.hideClass.popup);var l=k();Z(l,n.showClass.backdrop),K(l,n.hideClass.backdrop),Xt(this,e,n),i(t||{})}}}var Xt=function(t,e,n){var i=k(),l=dt&&lt(e),s=n.onClose,r=n.onAfterClose;null!==s&&"function"==typeof s&&s(e),l?Kt(t,e,i,r):qt(t,i,H(),r)},Kt=function(t,e,n,i){Tt.swalCloseEventFinishedCallback=qt.bind(null,t,n,H(),i),e.addEventListener(dt,(function(t){t.target===e&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback)}))},Zt=function(t,e){setTimeout((function(){"function"==typeof e&&e(),t._destroy()}))};function Qt(t,e,n){var i=mt.domCache.get(t);e.forEach((function(t){i[t].disabled=n}))}function Jt(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),i=0;i<n.length;i++)n[i].disabled=e;else t.disabled=e}var te=function(){function t(n,i){e(this,t),this.callback=n,this.remaining=i,this.running=!1,this.start()}return i(t,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),t}(),ee={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function ne(t){var e=T();if(t.target===e){var n=k();e.removeEventListener(dt,ne),n.style.overflowY="auto"}}var ie,le={select:function(t,e,n){var i=Q(t,w.select);e.forEach((function(t){var e=t[0],l=t[1],s=document.createElement("option");s.value=e,s.innerHTML=l,n.inputValue.toString()===e.toString()&&(s.selected=!0),i.appendChild(s)})),i.focus()},radio:function(t,e,n){var i=Q(t,w.radio);e.forEach((function(t){var e=t[0],l=t[1],s=document.createElement("input"),r=document.createElement("label");s.type="radio",s.name=w.radio,s.value=e,n.inputValue.toString()===e.toString()&&(s.checked=!0);var o=document.createElement("span");o.innerHTML=l,o.className=w.label,r.appendChild(s),r.appendChild(o),i.appendChild(r)}));var l=i.querySelectorAll("input");l.length&&l[0].focus()}},se=function(t,e){t.closePopup({value:e})},re=function(t,e,n){e.showLoaderOnConfirm&&Ct(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then((function(){return e.preConfirm(n,e.validationMessage)})).then((function(e){it(D())||!1===e?t.hideLoading():se(t,void 0===e?n:e)}))):se(t,n)},oe=function(t,e,n){for(var i=z(),l=0;l<i.length;l++)return(e+=n)===i.length?e=0:-1===e&&(e=i.length-1),i[e].focus();T().focus()},ae=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],ue=["Escape","Esc"],ce=!1,he=function(e,n,i){return new Promise((function(l){var s,r,o,a=function(t){e.closePopup({dismiss:t})};Yt.swalPromiseResolve.set(e,l),de(Tt,i,a),n.confirmButton.onclick=function(){return function(t,e){t.disableButtons(),e.input?function(t,e){var n=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return function(t){return t.checked?1:0}(n);case"radio":return function(t){return t.checked?t.value:null}(n);case"file":return function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null}(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(t,e);e.inputValidator?(t.disableInput(),Promise.resolve().then((function(){return e.inputValidator(n,e.validationMessage)})).then((function(i){t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):re(t,e,n)}))):t.getInput().checkValidity()?re(t,e,n):(t.enableButtons(),t.showValidationMessage(e.validationMessage))}(t,e):re(t,e,!0)}(e,i)},n.cancelButton.onclick=function(){return function(t,e){t.disableButtons(),e(b.cancel)}(e,a)},n.closeButton.onclick=function(){return a(b.close)},function(t,e,n){mt.innerParams.get(t).toast?function(t,e,n){e.popup.onclick=function(){var e=mt.innerParams.get(t);e.showConfirmButton||e.showCancelButton||e.showCloseButton||e.input||n(b.close)}}(t,e,n):(function(t){t.popup.onmousedown=function(){t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(ce=!0)}}}(e),function(t){t.container.onmousedown=function(){t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(ce=!0)}}}(e),function(t,e,n){e.container.onclick=function(i){var l=mt.innerParams.get(t);ce?ce=!1:i.target===e.container&&g(l.allowOutsideClick)&&n(b.backdrop)}}(t,e,n))}(e,n,a),function(t,e,n,i){e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=function(e){return function(t,e,n){var i,l,s=mt.innerParams.get(t);s.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;_t(),e.preventDefault()}}(t,e,s):"Tab"===e.key?function(t,e){for(var n=t.target,i=z(),l=-1,s=0;s<i.length;s++)if(n===i[s]){l=s;break}oe(0,l,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()}(e):-1!==ae.indexOf(e.key)?(i=O(),l=F(),document.activeElement===i&&it(l)?l.focus():document.activeElement===l&&it(i)&&i.focus()):-1!==ue.indexOf(e.key)&&function(t,e,n){g(e.allowEscapeKey)&&(t.preventDefault(),n(b.esc))}(e,s,n)}(t,e,i)},e.keydownTarget=n.keydownListenerCapture?window:T(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)}(e,Tt,i,a),i.toast&&(i.input||i.footer||i.showCloseButton)?K(document.body,w["toast-column"]):Z(document.body,w["toast-column"]),function(e,n){"select"===n.input||"radio"===n.input?function(e,n){var i=A(),l=function(t){return le[n.input](i,function(t){var e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((function(t,n){e.push([n,t])})):Object.keys(t).forEach((function(n){e.push([n,t[n]])})),e}(t),n)};f(n.inputOptions)?(Ct(),n.inputOptions.then((function(t){e.hideLoading(),l(t)}))):"object"===t(n.inputOptions)?l(n.inputOptions):p("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(n.inputOptions)))}(e,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&f(n.inputValue)&&function(t,e){var n=t.getInput();et(n),e.inputValue.then((function(i){n.value="number"===e.input?parseFloat(i)||0:"".concat(i),tt(n),n.focus(),t.hideLoading()})).catch((function(e){p("Error in inputValue promise: ".concat(e)),n.value="",tt(n),n.focus(),t.hideLoading()}))}(e,n)}(e,i),s=i,r=k(),o=T(),"function"==typeof s.onBeforeOpen&&s.onBeforeOpen(o),function(t,e,n){K(t,n.showClass.backdrop),tt(e),K(e,n.showClass.popup),K([document.documentElement,document.body],w.shown),n.heightAuto&&n.backdrop&&!n.toast&&K([document.documentElement,document.body],w["height-auto"])}(r,o,s),function(t,e){dt&&lt(e)?(t.style.overflowY="hidden",e.addEventListener(dt,ne)):t.style.overflowY="auto"}(r,o),j()&&function(t,e){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!U(document.body,w.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),K(document.body,w.iosfix),function(){var t,e=k();e.ontouchstart=function(n){var i;t=n.target===e||!((i=e).scrollHeight>i.clientHeight)&&"INPUT"!==n.target.tagName},e.ontouchmove=function(e){t&&(e.preventDefault(),e.stopPropagation())}}()}}(),"undefined"!=typeof window&&Ht()&&(Wt(),window.addEventListener("resize",Wt)),h(document.body.children).forEach((function(t){t===k()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,k())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),e&&null===W.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(W.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(W.previousBodyPadding+function(){var t=document.createElement("div");t.className=w["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px")),setTimeout((function(){t.scrollTop=0}))}(r,s.scrollbarPadding),H()||Tt.previousActiveElement||(Tt.previousActiveElement=document.activeElement),"function"==typeof s.onOpen&&setTimeout((function(){return s.onOpen(o)})),pe(n,i),n.container.scrollTop=0}))},de=function(t,e,n){var i=B();et(i),e.timer&&(t.timeout=new te((function(){n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(tt(i),setTimeout((function(){st(e.timer)}))))},pe=function(t,e){if(!e.toast)return g(e.allowEnterKey)?e.focusCancel&&it(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&it(t.confirmButton)?t.confirmButton.focus():void oe(0,-1,1):me()},me=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},ge=function(t){for(var e in t)t[e]=new WeakMap},fe=Object.freeze({hideLoading:Vt,disableLoading:Vt,getInput:function(t){var e=mt.innerParams.get(t||this),n=mt.domCache.get(t||this);return n?Y(n.content,e.input):null},close:Gt,closePopup:Gt,closeModal:Gt,closeToast:Gt,enableButtons:function(){Qt(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){Qt(this,["confirmButton","cancelButton"],!0)},enableInput:function(){return Jt(this.getInput(),!1)},disableInput:function(){return Jt(this.getInput(),!0)},showValidationMessage:function(t){var e=mt.domCache.get(this);e.validationMessage.innerHTML=t;var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),tt(e.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedBy",w["validation-message"]),G(i),K(i,w.inputerror))},resetValidationMessage:function(){var t=mt.domCache.get(this);t.validationMessage&&et(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),Z(e,w.inputerror))},getProgressSteps:function(){return mt.domCache.get(this).progressSteps},_main:function(t){(function(t){for(var e in t)Nt(e),t.toast&&Rt(e),Lt(e)})(t),Tt.currentInstance&&Tt.currentInstance._destroy(),Tt.currentInstance=this;var e,n=function(t){var e=l({},At.showClass,t.showClass),n=l({},At.hideClass,t.hideClass),i=l({},At,t);return i.showClass=e,i.hideClass=n,!1===t.animation&&(i.showClass={popup:"",backdrop:"swal2-backdrop-show swal2-noanimation"},i.hideClass={}),i}(t);(function(t){t.inputValidator||Object.keys(ee).forEach((function(e){t.input===e&&(t.inputValidator=ee[e])}))})(e=n),e.showLoaderOnConfirm&&!e.preConfirm&&d("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),e.animation=g(e.animation),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),t.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),function(t){var e;if((e=k())&&(e.parentNode.removeChild(e),Z([document.documentElement,document.body],[w["no-backdrop"],w["toast-shown"],w["has-column"]])),rt())p("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=w.container,n.innerHTML=ot;var i,l,s,r,o,a,u,c,h,d="string"==typeof(i=t.target)?document.querySelector(i):i;d.appendChild(n),function(t){var e=T();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")}(t),function(t){"rtl"===window.getComputedStyle(t).direction&&K(k(),w.rtl)}(d),l=A(),s=Q(l,w.input),r=Q(l,w.file),o=l.querySelector(".".concat(w.range," input")),a=l.querySelector(".".concat(w.range," output")),u=Q(l,w.select),c=l.querySelector(".".concat(w.checkbox," input")),h=Q(l,w.textarea),s.oninput=at,r.onchange=at,u.onchange=at,c.onchange=at,h.oninput=at,o.oninput=function(t){at(t),a.value=o.value},o.onchange=function(t){at(t),o.nextSibling.value=o.value}}}(e),Object.freeze(n),Tt.timeout&&(Tt.timeout.stop(),delete Tt.timeout),clearTimeout(Tt.restoreFocusTimeout);var i=function(t){var e={popup:T(),container:k(),content:A(),actions:N(),confirmButton:O(),cancelButton:F(),closeButton:V(),validationMessage:D(),progressSteps:I()};return mt.domCache.set(t,e),e}(this);return kt(this,n),mt.innerParams.set(this,n),he(this,i,n)},update:function(t){var e=T(),n=mt.innerParams.get(this);if(!e||U(e,n.hideClass.popup))return d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i={};Object.keys(t).forEach((function(e){ve.isUpdatableParameter(e)?i[e]=t[e]:d('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var s=l({},n,i);kt(this,s),mt.innerParams.set(this,s),Object.defineProperties(this,{params:{value:l({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){var t=mt.domCache.get(this),e=mt.innerParams.get(this);e&&(t.popup&&Tt.swalCloseEventFinishedCallback&&(Tt.swalCloseEventFinishedCallback(),delete Tt.swalCloseEventFinishedCallback),Tt.deferDisposalTimer&&(clearTimeout(Tt.deferDisposalTimer),delete Tt.deferDisposalTimer),"function"==typeof e.onDestroy&&e.onDestroy(),delete this.params,delete Tt.keydownHandler,delete Tt.keydownTarget,ge(mt),ge(Yt))}});function be(){if("undefined"!=typeof window){"undefined"==typeof Promise&&p("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),ie=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});var l=this._main(this.params);mt.promise.set(this,l)}}be.prototype.then=function(t){return mt.promise.get(this).then(t)},be.prototype.finally=function(t){return mt.promise.get(this).finally(t)},l(be.prototype,fe),l(be,Bt),Object.keys(fe).forEach((function(t){be[t]=function(){var e;if(ie)return(e=ie)[t].apply(e,arguments)}})),be.DismissReason=b,be.version="9.7.2";var ve=be;return ve.default=ve,ve}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.swal2-popup.swal2-toast .swal2-title{-webkit-box-flex:1;flex-grow:1;-webkit-box-pack:start;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{-webkit-box-pack:start;justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 1.5em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:-webkit-box;display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow-x:hidden;-webkit-transition:background-color .1s;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-center{-webkit-box-align:center;align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{-webkit-box-align:center;align-items:center;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-self:stretch;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-column{-webkit-box-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{-webkit-box-align:center;align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:-webkit-box;display:flex;z-index:1;flex-wrap:wrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.1)),to(rgba(0,0,0,.1)));background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.2)),to(rgba(0,0,0,.2)));background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{-webkit-box-pack:center;justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar{position:absolute;bottom:0;left:0;width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;-webkit-box-pack:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;-webkit-transition:color .1s ease-out;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{-webkit-transform:none;transform:none;background:0 0;color:#f27474}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;-webkit-box-pack:center;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;-webkit-transition:border-color .3s,box-shadow .3s;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;-webkit-box-pack:center;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;-webkit-box-flex:1;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{-webkit-box-align:center;align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{-webkit-transition:none;transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{-webkit-box-flex:1;flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{-webkit-box-pack:center;justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},WOAq:function(t,e,n){"use strict";(function(t){var i=n("Ju5/"),l=n("L3Qv"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=r&&r.exports===s?i.a.Buffer:void 0;e.a=(o?o.isBuffer:void 0)||l.a}).call(this,n("3UD+")(t))},XqMk:function(t,e,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;e.a=i},YcCt:function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,l){n=n||"=";var s={};if("string"!=typeof t||0===t.length)return s;var r=/\+/g;t=t.split(e=e||"&");var o=1e3;l&&"number"==typeof l.maxKeys&&(o=l.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var c,h,d,p,m=t[u].replace(r,"%20"),g=m.indexOf(n);g>=0?(c=m.substr(0,g),h=m.substr(g+1)):(c=m,h=""),d=decodeURIComponent(c),p=decodeURIComponent(h),i(s,d)?Array.isArray(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},r8II:function(t,e,n){"use strict";e.decode=e.parse=n("YcCt"),e.encode=e.stringify=n("6MUB")},rWzI:function(t,e,n){(function(t){var i;!function(l){"object"==typeof global&&global;var s,r=2147483647,o=36,a=1,u=26,c=38,h=700,d=72,p=128,m="-",g=/^xn--/,f=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=o-a,w=Math.floor,x=String.fromCharCode;function k(t){throw RangeError(v[t])}function _(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function C(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+_((t=t.replace(b,".")).split("."),e).join(".")}function T(t){for(var e,n,i=[],l=0,s=t.length;l<s;)(e=t.charCodeAt(l++))>=55296&&e<=56319&&l<s?56320==(64512&(n=t.charCodeAt(l++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),l--):i.push(e);return i}function S(t){return _(t,(function(t){var e="";return t>65535&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+x(t)})).join("")}function M(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,n){var i=0;for(t=n?w(t/h):t>>1,t+=w(t/e);t>y*u>>1;i+=o)t=w(t/y);return w(i+(y+1)*t/(t+c))}function A(t){var e,n,i,l,s,c,h,g,f,b,v,y=[],x=t.length,_=0,C=p,T=d;for((n=t.lastIndexOf(m))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&k("not-basic"),y.push(t.charCodeAt(i));for(l=n>0?n+1:0;l<x;){for(s=_,c=1,h=o;l>=x&&k("invalid-input"),((g=(v=t.charCodeAt(l++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:o)>=o||g>w((r-_)/c))&&k("overflow"),_+=g*c,!(g<(f=h<=T?a:h>=T+u?u:h-T));h+=o)c>w(r/(b=o-f))&&k("overflow"),c*=b;T=P(_-s,e=y.length+1,0==s),w(_/e)>r-C&&k("overflow"),C+=w(_/e),_%=e,y.splice(_++,0,C)}return S(y)}function E(t){var e,n,i,l,s,c,h,g,f,b,v,y,_,C,S,A=[];for(y=(t=T(t)).length,e=p,n=0,s=d,c=0;c<y;++c)(v=t[c])<128&&A.push(x(v));for(i=l=A.length,l&&A.push(m);i<y;){for(h=r,c=0;c<y;++c)(v=t[c])>=e&&v<h&&(h=v);for(h-e>w((r-n)/(_=i+1))&&k("overflow"),n+=(h-e)*_,e=h,c=0;c<y;++c)if((v=t[c])<e&&++n>r&&k("overflow"),v==e){for(g=n,f=o;!(g<(b=f<=s?a:f>=s+u?u:f-s));f+=o)A.push(x(M(b+(S=g-b)%(C=o-b),0))),g=w(S/C);A.push(x(M(g,0))),s=P(n,_,i==l),n=0,++i}++n,++e}return A.join("")}s={version:"1.3.2",ucs2:{decode:T,encode:S},decode:A,encode:E,toASCII:function(t){return C(t,(function(t){return f.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return C(t,(function(t){return g.test(t)?A(t.slice(4).toLowerCase()):t}))}},void 0===(i=(function(){return s}).call(e,n,e,t))||(t.exports=i)}()}).call(this,n("YuTi")(t))},rtfF:function(t,e,n){window,t.exports=function(){return n={},t.m=e=[function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNMessageCounts:"PNMessageCountsOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNSignalOperation:"PNSignalOperation",PNAddMessageActionOperation:"PNAddActionOperation",PNRemoveMessageActionOperation:"PNRemoveMessageActionOperation",PNGetMessageActionsOperation:"PNGetMessageActionsOperation",PNCreateUserOperation:"PNCreateUserOperation",PNUpdateUserOperation:"PNUpdateUserOperation",PNDeleteUserOperation:"PNDeleteUserOperation",PNGetUserOperation:"PNGetUsersOperation",PNGetUsersOperation:"PNGetUsersOperation",PNCreateSpaceOperation:"PNCreateSpaceOperation",PNUpdateSpaceOperation:"PNUpdateSpaceOperation",PNDeleteSpaceOperation:"PNDeleteSpaceOperation",PNGetSpaceOperation:"PNGetSpacesOperation",PNGetSpacesOperation:"PNGetSpacesOperation",PNGetMembersOperation:"PNGetMembersOperation",PNUpdateMembersOperation:"PNUpdateMembersOperation",PNGetMembershipsOperation:"PNGetMembershipsOperation",PNUpdateMembershipsOperation:"PNUpdateMembershipsOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerGrantToken:"PNAccessManagerGrantToken",PNAccessManagerAudit:"PNAccessManagerAudit"},t.exports=e.default},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/[!~*'()]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}t.exports={signPamFromParams:function(t){return function(t){return function(t){var e=[];return Object.keys(t).forEach((function(t){return e.push(t)})),e}(t).sort()}(t).map((function(e){return"".concat(e,"=").concat(i(t[e]))})).join("&")},endsWith:function(t,e){return-1!==t.indexOf(e,this.length-e.length)},createPromise:function(){var t,e;return{promise:new Promise((function(n,i){t=n,e=i})),reject:e,fulfill:t}},encodeString:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,l=(i=n(5))&&i.__esModule?i:{default:i};function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(0);var r,o=((r=[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(t){return this.authKey=t,this}},{key:"setCipherKey",value:function(t){return this.cipherKey=t,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(t){return this._db&&this._db.set&&this._db.set("".concat(this.subscribeKey,"uuid"),t),this.UUID=t,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(t){return this.filterExpression=t,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(t){return 20<=t?this._presenceTimeout=t:(this._presenceTimeout=20,console.log("WARNING: Presence timeout is less than the minimum. Using minimum value: ",this._presenceTimeout)),this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(t){this.proxy=t}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(t){return this._heartbeatInterval=t,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(t){return this._subscribeRequestTimeout=t,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(t){return this._transactionalRequestTimeout=t,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(t){return this._useSendBeacon=t,this}},{key:"getVersion",value:function(){return"4.27.6"}},{key:"_addPnsdkSuffix",value:function(t,e){this._PNSDKSuffix[t]=e}},{key:"_getPnsdkSuffix",value:function(t){var e=this;return Object.keys(this._PNSDKSuffix).reduce((function(n,i){return n+t+e._PNSDKSuffix[i]}),"")}},{key:"_decideUUID",value:function(t){return t||(this._db&&this._db.get&&this._db.get("".concat(this.subscribeKey,"uuid"))?this._db.get("".concat(this.subscribeKey,"uuid")):"pn-".concat(l.default.createUUID()))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(a.prototype,r),a);function a(t){var e=t.setup,n=t.db;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s(this,"_db",void 0),s(this,"subscribeKey",void 0),s(this,"publishKey",void 0),s(this,"secretKey",void 0),s(this,"cipherKey",void 0),s(this,"authKey",void 0),s(this,"UUID",void 0),s(this,"proxy",void 0),s(this,"instanceId",void 0),s(this,"sdkName",void 0),s(this,"sdkFamily",void 0),s(this,"partnerId",void 0),s(this,"filterExpression",void 0),s(this,"suppressLeaveEvents",void 0),s(this,"secure",void 0),s(this,"origin",void 0),s(this,"logVerbosity",void 0),s(this,"useInstanceId",void 0),s(this,"useRequestId",void 0),s(this,"keepAlive",void 0),s(this,"keepAliveSettings",void 0),s(this,"autoNetworkDetection",void 0),s(this,"announceSuccessfulHeartbeats",void 0),s(this,"announceFailedHeartbeats",void 0),s(this,"_presenceTimeout",void 0),s(this,"_heartbeatInterval",void 0),s(this,"_subscribeRequestTimeout",void 0),s(this,"_transactionalRequestTimeout",void 0),s(this,"_useSendBeacon",void 0),s(this,"_PNSDKSuffix",void 0),s(this,"requestMessageCountThreshold",void 0),s(this,"restore",void 0),s(this,"dedupeOnSubscribe",void 0),s(this,"maximumCacheSize",void 0),s(this,"customEncrypt",void 0),s(this,"customDecrypt",void 0),this._PNSDKSuffix={},this._db=n,this.instanceId="pn-".concat(l.default.createUUID()),this.secretKey=e.secretKey||e.secret_key,this.subscribeKey=e.subscribeKey||e.subscribe_key,this.publishKey=e.publishKey||e.publish_key,this.sdkName=e.sdkName,this.sdkFamily=e.sdkFamily,this.partnerId=e.partnerId,this.setAuthKey(e.authKey),this.setCipherKey(e.cipherKey),this.setFilterExpression(e.filterExpression),this.origin=e.origin||"ps.pndsn.com",this.secure=e.ssl||!1,this.restore=e.restore||!1,this.proxy=e.proxy,this.keepAlive=e.keepAlive,this.keepAliveSettings=e.keepAliveSettings,this.autoNetworkDetection=e.autoNetworkDetection||!1,this.dedupeOnSubscribe=e.dedupeOnSubscribe||!1,this.maximumCacheSize=e.maximumCacheSize||100,this.customEncrypt=e.customEncrypt,this.customDecrypt=e.customDecrypt,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=e.logVerbosity||!1,this.suppressLeaveEvents=e.suppressLeaveEvents||!1,this.announceFailedHeartbeats=e.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=e.announceSuccessfulHeartbeats||!1,this.useInstanceId=e.useInstanceId||!1,this.useRequestId=e.useRequestId||!1,this.requestMessageCountThreshold=e.requestMessageCountThreshold,this.setTransactionTimeout(e.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(e.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(e.useSendBeacon||!0),e.presenceTimeout?this.setPresenceTimeout(e.presenceTimeout):this._presenceTimeout=300,null!=e.heartbeatInterval&&this.setHeartbeatInterval(e.heartbeatInterval),this.setUUID(this._decideUUID(e.uuid))}e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,l=(i=n(14))&&i.__esModule?i:{default:i};e.default={createUUID:function(){return l.default.uuid?l.default.uuid():(0,l.default)()}},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l(n(3));var i=l(n(7));function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r,o=((r=[{key:"HMACSHA256",value:function(t){return i.default.HmacSHA256(t,this._config.secretKey).toString(i.default.enc.Base64)}},{key:"SHA256",value:function(t){return i.default.SHA256(t).toString(i.default.enc.Hex)}},{key:"_parseOptions",value:function(t){var e=t||{};return e.hasOwnProperty("encryptKey")||(e.encryptKey=this._defaultOptions.encryptKey),e.hasOwnProperty("keyEncoding")||(e.keyEncoding=this._defaultOptions.keyEncoding),e.hasOwnProperty("keyLength")||(e.keyLength=this._defaultOptions.keyLength),e.hasOwnProperty("mode")||(e.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(e.keyEncoding.toLowerCase())&&(e.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(e.keyLength,10))&&(e.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(e.mode.toLowerCase())&&(e.mode=this._defaultOptions.mode),e}},{key:"_decodeKey",value:function(t,e){return"base64"===e.keyEncoding?i.default.enc.Base64.parse(t):"hex"===e.keyEncoding?i.default.enc.Hex.parse(t):t}},{key:"_getPaddedKey",value:function(t,e){return t=this._decodeKey(t,e),e.encryptKey?i.default.enc.Utf8.parse(this.SHA256(t).slice(0,32)):t}},{key:"_getMode",value:function(t){return"ecb"===t.mode?i.default.mode.ECB:i.default.mode.CBC}},{key:"_getIV",value:function(t){return"cbc"===t.mode?i.default.enc.Utf8.parse(this._iv):null}},{key:"encrypt",value:function(t,e,n){return this._config.customEncrypt?this._config.customEncrypt(t):this.pnEncrypt(t,e,n)}},{key:"decrypt",value:function(t,e,n){return this._config.customDecrypt?this._config.customDecrypt(t):this.pnDecrypt(t,e,n)}},{key:"pnEncrypt",value:function(t,e,n){if(!e&&!this._config.cipherKey)return t;n=this._parseOptions(n);var l=this._getIV(n),s=this._getMode(n),r=this._getPaddedKey(e||this._config.cipherKey,n);return i.default.AES.encrypt(t,r,{iv:l,mode:s}).ciphertext.toString(i.default.enc.Base64)||t}},{key:"pnDecrypt",value:function(t,e,n){if(!e&&!this._config.cipherKey)return t;n=this._parseOptions(n);var l=this._getIV(n),s=this._getMode(n),r=this._getPaddedKey(e||this._config.cipherKey,n);try{var o=i.default.enc.Base64.parse(t),a=i.default.AES.decrypt({ciphertext:o},r,{iv:l,mode:s}).toString(i.default.enc.Utf8);return JSON.parse(a)}catch(t){return null}}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(a.prototype,r),a);function a(t){var e=t.config;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s(this,"_config",void 0),s(this,"_iv",void 0),s(this,"_allowedKeyEncodings",void 0),s(this,"_allowedKeyLengths",void 0),s(this,"_allowedModes",void 0),s(this,"_defaultOptions",void 0),this._config=e,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}e.default=o,t.exports=e.default},function(t,e,n){"use strict";var i,l,s,r,o,a,u,c,h,d,p=p||function(t){function e(){}var n={},i=n.lib={},l=i.Base={extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),(n.init.prototype=n).$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=l.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||o).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var l=0;l<t;l++)e[i+l>>>2]|=(n[l>>>2]>>>24-l%4*8&255)<<24-(i+l)%4*8;else if(65535<n.length)for(l=0;l<t;l+=4)e[i+l>>>2]=n[l>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=l.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;i<e;i+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),r=n.enc={},o=r.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++){var l=e[i>>>2]>>>24-i%4*8&255;n.push((l>>>4).toString(16)),n.push((15&l).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-i%8*4;return new s.init(n,e/2)}},a=r.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;i<t;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;i<e;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-i%4*8;return new s.init(n,e)}},u=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(a.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return a.parse(unescape(encodeURIComponent(t)))}},c=i.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,l=n.sigBytes,r=this.blockSize,o=l/(4*r);if(e=(o=e?t.ceil(o):t.max((0|o)-this._minBufferSize,0))*r,l=t.min(4*e,l),e){for(var a=0;a<e;a+=r)this._doProcessBlock(i,a);a=i.splice(0,e),n.sigBytes-=l}return new s.init(a,l)},clone:function(){var t=l.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=c.extend({cfg:l.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=n.algo={};return n}(Math);!function(t){for(var e=p,n=(l=e.lib).WordArray,i=l.Hasher,l=e.algo,s=[],r=[],o=function(t){return 4294967296*(t-(0|t))|0},a=2,u=0;u<64;){var c;t:{for(var h=t.sqrt(c=a),d=2;d<=h;d++)if(!(c%d)){c=!1;break t}c=!0}c&&(u<8&&(s[u]=o(t.pow(a,.5))),r[u]=o(t.pow(a,1/3)),u++),a++}var m=[];l=l.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],l=n[1],s=n[2],o=n[3],a=n[4],u=n[5],c=n[6],h=n[7],d=0;d<64;d++){if(d<16)m[d]=0|t[e+d];else{var p=m[d-15],g=m[d-2];m[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+m[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+m[d-16]}p=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&c)+r[d]+m[d],g=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&l^i&s^l&s),h=c,c=u,u=a,a=o+p|0,o=s,s=l,l=i,i=p+g|0}n[0]=n[0]+i|0,n[1]=n[1]+l|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+a|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,l=8*e.sigBytes;return n[l>>>5]|=128<<24-l%32,n[14+(64+l>>>9<<4)]=t.floor(i/4294967296),n[15+(64+l>>>9<<4)]=i,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}}),e.SHA256=i._createHelper(l),e.HmacSHA256=i._createHmacHelper(l)}(Math),l=(i=p).enc.Utf8,i.algo.HMAC=i.lib.Base.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=l.parse(e));var n=t.blockSize,i=4*n;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var s=this._oKey=e.clone(),r=this._iKey=e.clone(),o=s.words,a=r.words,u=0;u<n;u++)o[u]^=1549556828,a[u]^=909522486;s.sigBytes=r.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}}),r=(s=p).lib.WordArray,s.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var l=0;l<n;l+=3)for(var s=(e[l>>>2]>>>24-l%4*8&255)<<16|(e[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|e[l+2>>>2]>>>24-(l+2)%4*8&255,r=0;r<4&&l+.75*r<n;r++)t.push(i.charAt(s>>>6*(3-r)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,n=this._map;!(i=n.charAt(64))||-1!=(i=t.indexOf(i))&&(e=i);for(var i=[],l=0,s=0;s<e;s++)if(s%4){var o=n.indexOf(t.charAt(s-1))<<s%4*2,a=n.indexOf(t.charAt(s))>>>6-s%4*2;i[l>>>2]|=(o|a)<<24-l%4*8,l++}return r.create(i,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function e(t,e,n,i,l,s,r){return((t=t+(e&n|~e&i)+l+r)<<s|t>>>32-s)+e}function n(t,e,n,i,l,s,r){return((t=t+(e&i|n&~i)+l+r)<<s|t>>>32-s)+e}function i(t,e,n,i,l,s,r){return((t=t+(e^n^i)+l+r)<<s|t>>>32-s)+e}function l(t,e,n,i,l,s,r){return((t=t+(n^(e|~i))+l+r)<<s|t>>>32-s)+e}for(var s=p,r=(a=s.lib).WordArray,o=a.Hasher,a=s.algo,u=[],c=0;c<64;c++)u[c]=4294967296*t.abs(t.sin(c+1))|0;a=a.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,s){for(var r=0;r<16;r++){var o=t[h=s+r];t[h]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var a,c,h=t[s+0],d=(o=t[s+1],t[s+2]),p=t[s+3],m=t[s+4],g=t[s+5],f=t[s+6],b=t[s+7],v=t[s+8],y=t[s+9],w=t[s+10],x=t[s+11],k=t[s+12],_=t[s+13],C=t[s+14],T=t[s+15],S=(r=this._hash.words)[0],M=l(M=l(M=l(M=l(M=i(M=i(M=i(M=i(M=n(M=n(M=n(M=n(M=e(M=e(M=e(M=e(M=r[1],c=e(c=r[2],a=e(a=r[3],S=e(S,M,c,a,h,7,u[0]),M,c,o,12,u[1]),S,M,d,17,u[2]),a,S,p,22,u[3]),c=e(c,a=e(a,S=e(S,M,c,a,m,7,u[4]),M,c,g,12,u[5]),S,M,f,17,u[6]),a,S,b,22,u[7]),c=e(c,a=e(a,S=e(S,M,c,a,v,7,u[8]),M,c,y,12,u[9]),S,M,w,17,u[10]),a,S,x,22,u[11]),c=e(c,a=e(a,S=e(S,M,c,a,k,7,u[12]),M,c,_,12,u[13]),S,M,C,17,u[14]),a,S,T,22,u[15]),c=n(c,a=n(a,S=n(S,M,c,a,o,5,u[16]),M,c,f,9,u[17]),S,M,x,14,u[18]),a,S,h,20,u[19]),c=n(c,a=n(a,S=n(S,M,c,a,g,5,u[20]),M,c,w,9,u[21]),S,M,T,14,u[22]),a,S,m,20,u[23]),c=n(c,a=n(a,S=n(S,M,c,a,y,5,u[24]),M,c,C,9,u[25]),S,M,p,14,u[26]),a,S,v,20,u[27]),c=n(c,a=n(a,S=n(S,M,c,a,_,5,u[28]),M,c,d,9,u[29]),S,M,b,14,u[30]),a,S,k,20,u[31]),c=i(c,a=i(a,S=i(S,M,c,a,g,4,u[32]),M,c,v,11,u[33]),S,M,x,16,u[34]),a,S,C,23,u[35]),c=i(c,a=i(a,S=i(S,M,c,a,o,4,u[36]),M,c,m,11,u[37]),S,M,b,16,u[38]),a,S,w,23,u[39]),c=i(c,a=i(a,S=i(S,M,c,a,_,4,u[40]),M,c,h,11,u[41]),S,M,p,16,u[42]),a,S,f,23,u[43]),c=i(c,a=i(a,S=i(S,M,c,a,y,4,u[44]),M,c,k,11,u[45]),S,M,T,16,u[46]),a,S,d,23,u[47]),c=l(c,a=l(a,S=l(S,M,c,a,h,6,u[48]),M,c,b,10,u[49]),S,M,C,15,u[50]),a,S,g,21,u[51]),c=l(c,a=l(a,S=l(S,M,c,a,k,6,u[52]),M,c,p,10,u[53]),S,M,w,15,u[54]),a,S,o,21,u[55]),c=l(c,a=l(a,S=l(S,M,c,a,v,6,u[56]),M,c,T,10,u[57]),S,M,f,15,u[58]),a,S,_,21,u[59]),c=l(c,a=l(a,S=l(S,M,c,a,m,6,u[60]),M,c,x,10,u[61]),S,M,d,15,u[62]),a,S,y,21,u[63]);r[0]=r[0]+S|0,r[1]=r[1]+M|0,r[2]=r[2]+c|0,r[3]=r[3]+a|0},_doFinalize:function(){var e=this._data,n=e.words,i=8*this._nDataBytes,l=8*e.sigBytes;n[l>>>5]|=128<<24-l%32;var s=t.floor(i/4294967296);for(n[15+(l+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(l+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(n.length+1),this._process(),n=(e=this._hash).words,i=0;i<4;i++)n[i]=16711935&((l=n[i])<<8|l>>>24)|4278255360&(l<<24|l>>>8);return e},clone:function(){var t=o.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=o._createHelper(a),s.HmacMD5=o._createHmacHelper(a)}(Math),u=(o=(a=p).lib).Base,c=o.WordArray,h=(o=a.algo).EvpKDF=u.extend({cfg:u.extend({keySize:4,hasher:o.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=(r=this.cfg).hasher.create(),i=c.create(),l=i.words,s=r.keySize,r=r.iterations;l.length<s;){o&&n.update(o);var o=n.update(t).finalize(e);n.reset();for(var a=1;a<r;a++)o=n.finalize(o),n.reset();i.concat(o)}return i.sigBytes=4*s,i}}),a.EvpKDF=function(t,e,n){return h.create(n).compute(t,e)},p.lib.Cipher||function(){var t=(d=p).lib,e=t.Base,n=t.WordArray,i=t.BufferedBlockAlgorithm,l=d.enc.Base64,s=d.algo.EvpKDF,r=t.Cipher=i.extend({cfg:e.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?m:h).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?m:h).decrypt(t,e,n,i)}}}});function o(t,e,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var l=0;l<n;l++)t[e+l]^=i[l]}t.StreamCipher=r.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var a=d.mode={},u=(t.BlockCipherMode=e.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();u.Encryptor=u.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;o.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),u.Decryptor=u.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,l=t.slice(e,e+i);n.decryptBlock(t,e),o.call(this,t,e,i),this._prevBlock=l}}),a=a.CBC=u,u=(d.pad={}).Pkcs7={pad:function(t,e){for(var i,l=(i=(i=4*e)-t.sigBytes%i)<<24|i<<16|i<<8|i,s=[],r=0;r<i;r+=4)s.push(l);i=n.create(s,i),t.concat(i)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.BlockCipher=r.extend({cfg:r.cfg.extend({mode:a,padding:u}),reset:function(){r.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var c=t.CipherParams=e.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),h=(a=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?n.create([1398893684,1701076831]).concat(t).concat(e):e).toString(l)},parse:function(t){var e=(t=l.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var i=n.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return c.create({ciphertext:t,salt:i})}},t.SerializableCipher=e.extend({cfg:e.extend({format:a}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var l=t.createEncryptor(n,i);return e=l.finalize(e),c.create({ciphertext:e,key:n,iv:(l=l.cfg).iv,algorithm:t,mode:l.mode,padding:l.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),d=(d.kdf={}).OpenSSL={execute:function(t,e,i,l){return l=l||n.random(8),t=s.create({keySize:e+i}).compute(t,l),i=n.create(t.words.slice(e),4*i),t.sigBytes=4*e,c.create({key:t,iv:i,salt:l})}},m=t.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:d}),encrypt:function(t,e,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,(t=h.encrypt.call(this,t,e,n.key,i)).mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,h.decrypt.call(this,t,e,n.key,i)}})}(),function(){for(var t=p,e=t.lib.BlockCipher,n=t.algo,i=[],l=[],s=[],r=[],o=[],a=[],u=[],c=[],h=[],d=[],m=[],g=0;g<256;g++)m[g]=g<128?g<<1:g<<1^283;var f=0,b=0;for(g=0;g<256;g++){var v=(v=b^b<<1^b<<2^b<<3^b<<4)>>>8^255&v^99;i[f]=v;var y=m[l[v]=f],w=m[y],x=m[w],k=257*m[v]^16843008*v;s[f]=k<<24|k>>>8,r[f]=k<<16|k>>>16,o[f]=k<<8|k>>>24,a[f]=k,u[v]=(k=16843009*x^65537*w^257*y^16843008*f)<<24|k>>>8,c[v]=k<<16|k>>>16,h[v]=k<<8|k>>>24,d[v]=k,f?(f=y^m[m[m[x^y]]],b^=m[m[b]]):f=b=1}var _=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=e.extend({_doReset:function(){for(var t=(n=this._key).words,e=n.sigBytes/4,n=4*((this._nRounds=e+6)+1),l=this._keySchedule=[],s=0;s<n;s++)if(s<e)l[s]=t[s];else{var r=l[s-1];s%e?6<e&&4==s%e&&(r=i[r>>>24]<<24|i[r>>>16&255]<<16|i[r>>>8&255]<<8|i[255&r]):(r=i[(r=r<<8|r>>>24)>>>24]<<24|i[r>>>16&255]<<16|i[r>>>8&255]<<8|i[255&r],r^=_[s/e|0]<<24),l[s]=l[s-e]^r}for(t=this._invKeySchedule=[],e=0;e<n;e++)s=n-e,r=e%4?l[s]:l[s-4],t[e]=e<4||s<=4?r:u[i[r>>>24]]^c[i[r>>>16&255]]^h[i[r>>>8&255]]^d[i[255&r]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,r,o,a,i)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,u,c,h,d,l),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,l,s,r,o){for(var a=this._nRounds,u=t[e]^n[0],c=t[e+1]^n[1],h=t[e+2]^n[2],d=t[e+3]^n[3],p=4,m=1;m<a;m++){var g=i[u>>>24]^l[c>>>16&255]^s[h>>>8&255]^r[255&d]^n[p++],f=i[c>>>24]^l[h>>>16&255]^s[d>>>8&255]^r[255&u]^n[p++],b=i[h>>>24]^l[d>>>16&255]^s[u>>>8&255]^r[255&c]^n[p++];d=i[d>>>24]^l[u>>>16&255]^s[c>>>8&255]^r[255&h]^n[p++],u=g,c=f,h=b}g=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^n[p++],f=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^n[p++],b=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^n[p++],d=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^n[p++],t[e]=g,t[e+1]=f,t[e+2]=b,t[e+3]=d},keySize:8}),t.AES=e._createHelper(n)}(),p.mode.ECB=((d=p.lib.BlockCipherMode.extend()).Encryptor=d.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),d.Decryptor=d.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),d),t.exports=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(0);var i,l,s=(i=n(4))&&i.__esModule?i:{default:i},r=((l=[{key:"addListener",value:function(t){this._listeners.push(t)}},{key:"removeListener",value:function(t){var e=[];this._listeners.forEach((function(n){n!==t&&e.push(n)})),this._listeners=e}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(t){this._listeners.forEach((function(e){e.presence&&e.presence(t)}))}},{key:"announceStatus",value:function(t){this._listeners.forEach((function(e){e.status&&e.status(t)}))}},{key:"announceMessage",value:function(t){this._listeners.forEach((function(e){e.message&&e.message(t)}))}},{key:"announceSignal",value:function(t){this._listeners.forEach((function(e){e.signal&&e.signal(t)}))}},{key:"announceMessageAction",value:function(t){this._listeners.forEach((function(e){e.messageAction&&e.messageAction(t)}))}},{key:"announceUser",value:function(t){this._listeners.forEach((function(e){e.user&&e.user(t)}))}},{key:"announceSpace",value:function(t){this._listeners.forEach((function(e){e.space&&e.space(t)}))}},{key:"announceMembership",value:function(t){this._listeners.forEach((function(e){e.membership&&e.membership(t)}))}},{key:"announceNetworkUp",value:function(){var t={};t.category=s.default.PNNetworkUpCategory,this.announceStatus(t)}},{key:"announceNetworkDown",value:function(){var t={};t.category=s.default.PNNetworkDownCategory,this.announceStatus(t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(o.prototype,l),o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"_listeners",void 0),this._listeners=[]}e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNTimeOperation},e.getURL=function(){return"/time/0"},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.prepareParams=function(){return{}},e.isAuthSupported=function(){return!1},e.handleResponse=function(t,e){return{timetoken:e[0]}},e.validateParams=function(){},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";t.exports=function(t){return null!==t&&"object"==typeof t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n(12)),l=c(n(13)),s=c(n(68)),r=c(n(7)),o=c(n(69)),a=c(n(70)),u=n(71);function c(t){return t&&t.__esModule?t:{default:t}}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(t)}function g(t){for(var e=r.default.enc.Base64.parse(t).words,n=new ArrayBuffer(4*e.length),i=new Uint8Array(n),l=0;l<e.length;l+=1){var s=e[l],o=4*l;i[o]=(4278190080&s)>>24,i[1+o]=(16711680&s)>>16,i[2+o]=(65280&s)>>8,i[3+o]=255&s}return i.buffer}n(0);var f=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(b,l.default),b);function b(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,b);var n=t.listenToBrowserNetworkEvents,l=void 0===n||n;return t.db=o.default,t.sdkFamily="Web",t.networking=new s.default({del:u.del,get:u.get,post:u.post,patch:u.patch,sendBeacon:m}),t.cbor=new a.default((function(t){return function t(e){function n(t){return t&&"object"===p(t)&&t.constructor===Object}if(!n(e))return e;var i={};return Object.keys(e).forEach((function(l){var s=function(t){return"string"==typeof t||t instanceof String}(l),r=l,o=e[l];Array.isArray(l)||s&&0<=l.indexOf(",")?r=(s?l.split(","):l).reduce((function(t,e){return t+String.fromCharCode(e)}),""):(function(t){return"number"==typeof t&&isFinite(t)}(l)||s&&!isNaN(l))&&(r=String.fromCharCode(s?parseInt(l,10):10)),i[r]=n(o)?t(o):o})),i}(i.default.decode(t))}),g),e=function(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,h(b).call(this,t)),l&&(window.addEventListener("offline",(function(){e.networkDownDetected()})),window.addEventListener("online",(function(){e.networkUpDetected()}))),e}e.default=f,t.exports=e.default},function(t,e,n){var i,l;!function(s,r){"use strict";var o=Math.pow(2,-24),a=Math.pow(2,32),u=Math.pow(2,53);(l="function"==typeof(i={encode:function(t){var e,n=new ArrayBuffer(256),i=new DataView(n),l=0;function s(t){for(var s=n.byteLength,r=l+t;s<r;)s*=2;if(s!==n.byteLength){var o=i;n=new ArrayBuffer(s),i=new DataView(n);for(var a=l+3>>2,u=0;u<a;++u)i.setUint32(4*u,o.getUint32(4*u))}return e=t,i}function o(){l+=e}function c(t){o(s(1).setUint8(l,t))}function h(t){for(var e=s(t.length),n=0;n<t.length;++n)e.setUint8(l+n,t[n]);o()}function d(t,e){e<24?c(t<<5|e):e<256?(c(t<<5|24),c(e)):e<65536?(c(t<<5|25),function(t){o(s(2).setUint16(l,t))}(e)):e<4294967296?(c(t<<5|26),function(t){o(s(4).setUint32(l,t))}(e)):(c(t<<5|27),function(t){var e=t%a,n=(t-e)/a,i=s(8);i.setUint32(l,n),i.setUint32(l+4,e),o()}(e))}if(function t(e){var n;if(!1===e)return c(244);if(!0===e)return c(245);if(null===e)return c(246);if(e===r)return c(247);switch(typeof e){case"number":if(Math.floor(e)===e){if(0<=e&&e<=u)return d(0,e);if(-u<=e&&e<0)return d(1,-(e+1))}return c(251),function(t){o(s(8).setFloat64(l,t))}(e);case"string":var i=[];for(n=0;n<e.length;++n){var a=e.charCodeAt(n);a<128?i.push(a):(a<2048?i.push(192|a>>6):(a<55296?i.push(224|a>>12):(a=(1023&a)<<10,a|=1023&e.charCodeAt(++n),i.push(240|(a+=65536)>>18),i.push(128|a>>12&63)),i.push(128|a>>6&63)),i.push(128|63&a))}return d(3,i.length),h(i);default:var p;if(Array.isArray(e))for(d(4,p=e.length),n=0;n<p;++n)t(e[n]);else if(e instanceof Uint8Array)d(2,e.length),h(e);else{var m=Object.keys(e);for(d(5,p=m.length),n=0;n<p;++n){var g=m[n];t(g),t(e[g])}}}}(t),"slice"in n)return n.slice(0,l);for(var p=new ArrayBuffer(l),m=new DataView(p),g=0;g<l;++g)m.setUint8(g,i.getUint8(g));return p},decode:function(t,e,n){var i=new DataView(t),l=0;function s(t,e){return l+=e,t}function u(e){return s(new Uint8Array(t,l,e),e)}function c(){return s(i.getUint8(l),1)}function h(){return s(i.getUint16(l),2)}function d(){return s(i.getUint32(l),4)}function p(){return 255===i.getUint8(l)&&(l+=1,!0)}function m(t){if(t<24)return t;if(24===t)return c();if(25===t)return h();if(26===t)return d();if(27===t)return d()*a+d();if(31===t)return-1;throw"Invalid length encoding"}function g(t){var e=c();if(255===e)return-1;var n=m(31&e);if(n<0||e>>5!==t)throw"Invalid indefinite length element";return n}function f(t,e){for(var n=0;n<e;++n){var i=c();128&i&&(i<224?(i=(31&i)<<6|63&c(),e-=1):i<240?(i=(15&i)<<12|(63&c())<<6|63&c(),e-=2):(i=(15&i)<<18|(63&c())<<12|(63&c())<<6|63&c(),e-=3)),i<65536?t.push(i):(t.push(55296|(i-=65536)>>10),t.push(56320|1023&i))}}"function"!=typeof e&&(e=function(t){return t}),"function"!=typeof n&&(n=function(){return r});var b=function t(){var a,d,b=c(),v=b>>5,y=31&b;if(7==v)switch(y){case 25:return function(){var t=new ArrayBuffer(4),e=new DataView(t),n=h(),i=31744&n,l=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!=l)return l*o;return e.setUint32(0,(32768&n)<<16|i<<13|l<<13),e.getFloat32(0)}();case 26:return s(i.getFloat32(l),4);case 27:return s(i.getFloat64(l),8)}if((d=m(y))<0&&(v<2||6<v))throw"Invalid length";switch(v){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var w=[],x=0;0<=(d=g(v));)x+=d,w.push(u(d));var k=new Uint8Array(x),_=0;for(a=0;a<w.length;++a)k.set(w[a],_),_+=w[a].length;return k}return u(d);case 3:var C=[];if(d<0)for(;0<=(d=g(v));)f(C,d);else f(C,d);return String.fromCharCode.apply(null,C);case 4:var T;if(d<0)for(T=[];!p();)T.push(t());else for(T=new Array(d),a=0;a<d;++a)T[a]=t();return T;case 5:var S={};for(a=0;a<d||d<0&&!p();++a)S[t()]=t();return S;case 6:return e(t(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return r;default:return n(d)}}}();if(l!==t.byteLength)throw"Remaining bytes";return b}})?i.call(e,n,e,t):i)===r||(t.exports=l)}()},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var l=ct(n(3)),s=ct(n(6)),r=ct(n(15)),o=ct(n(18)),a=ct(n(19)),u=ct(n(8)),c=ct(n(20)),h=ct(n(21)),d=ut(n(22)),p=ut(n(23)),m=ut(n(24)),g=ut(n(25)),f=ut(n(26)),b=ut(n(27)),v=ut(n(28)),y=ut(n(29)),w=ut(n(30)),x=ut(n(31)),k=ut(n(32)),_=ut(n(33)),C=ut(n(34)),T=ut(n(35)),S=ut(n(36)),M=ut(n(37)),P=ut(n(38)),A=ut(n(39)),E=ut(n(40)),I=ut(n(41)),D=ut(n(42)),O=ut(n(43)),F=ut(n(44)),N=ut(n(45)),R=ut(n(46)),L=ut(n(47)),B=ut(n(48)),V=ut(n(49)),z=ut(n(50)),j=ut(n(51)),H=ut(n(52)),W=ut(n(53)),U=ut(n(54)),$=ut(n(55)),Y=ut(n(56)),q=ut(n(57)),G=ut(n(58)),X=ut(n(59)),K=ut(n(60)),Z=ut(n(61)),Q=ut(n(62)),J=ut(n(63)),tt=ut(n(64)),et=ut(n(65)),nt=ut(n(66)),it=ut(n(9)),lt=ut(n(67)),st=ct(n(1)),rt=ct(n(4)),ot=(n(0),ct(n(5)));function at(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return at=function(){return t},t}function ut(t){if(t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};var e=at();if(e&&e.has(t))return e.get(t);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var r=l?Object.getOwnPropertyDescriptor(t,s):null;r&&(r.get||r.set)?Object.defineProperty(n,s,r):n[s]=t[s]}return n.default=t,e&&e.set(t,n),n}function ct(t){return t&&t.__esModule?t:{default:t}}function ht(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function dt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pt,mt,gt,ft=(pt=bt,gt=[{key:"notificationPayload",value:function(t,e){return new a.default(t,e)}},{key:"generateUUID",value:function(){return ot.default.createUUID()}}],(mt=[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"_addPnsdkSuffix",value:function(t,e){this._config._addPnsdkSuffix(t,e)}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}])&&ht(pt.prototype,mt),gt&&ht(pt,gt),bt);function bt(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,bt),dt(this,"_config",void 0),dt(this,"_telemetryManager",void 0),dt(this,"_listenerManager",void 0),dt(this,"_tokenManager",void 0),dt(this,"time",void 0),dt(this,"publish",void 0),dt(this,"fire",void 0),dt(this,"history",void 0),dt(this,"deleteMessages",void 0),dt(this,"messageCounts",void 0),dt(this,"fetchMessages",void 0),dt(this,"channelGroups",void 0),dt(this,"push",void 0),dt(this,"hereNow",void 0),dt(this,"whereNow",void 0),dt(this,"getState",void 0),dt(this,"setState",void 0),dt(this,"grant",void 0),dt(this,"grantToken",void 0),dt(this,"audit",void 0),dt(this,"subscribe",void 0),dt(this,"signal",void 0),dt(this,"presence",void 0),dt(this,"unsubscribe",void 0),dt(this,"unsubscribeAll",void 0),dt(this,"addMessageAction",void 0),dt(this,"removeMessageAction",void 0),dt(this,"getMessageActions",void 0),dt(this,"createUser",void 0),dt(this,"updateUser",void 0),dt(this,"deleteUser",void 0),dt(this,"getUser",void 0),dt(this,"getUsers",void 0),dt(this,"createSpace",void 0),dt(this,"updateSpace",void 0),dt(this,"deleteSpace",void 0),dt(this,"getSpaces",void 0),dt(this,"getSpace",void 0),dt(this,"getMembers",void 0),dt(this,"addMembers",void 0),dt(this,"updateMembers",void 0),dt(this,"removeMembers",void 0),dt(this,"getMemberships",void 0),dt(this,"joinSpaces",void 0),dt(this,"updateMemberships",void 0),dt(this,"leaveSpaces",void 0),dt(this,"disconnect",void 0),dt(this,"reconnect",void 0),dt(this,"destroy",void 0),dt(this,"stop",void 0),dt(this,"getSubscribedChannels",void 0),dt(this,"getSubscribedChannelGroups",void 0),dt(this,"addListener",void 0),dt(this,"removeListener",void 0),dt(this,"removeAllListeners",void 0),dt(this,"parseToken",void 0),dt(this,"setToken",void 0),dt(this,"setTokens",void 0),dt(this,"getToken",void 0),dt(this,"getTokens",void 0),dt(this,"clearTokens",void 0),dt(this,"getAuthKey",void 0),dt(this,"setAuthKey",void 0),dt(this,"setCipherKey",void 0),dt(this,"setUUID",void 0),dt(this,"getUUID",void 0),dt(this,"getFilterExpression",void 0),dt(this,"setFilterExpression",void 0),dt(this,"setHeartbeatInterval",void 0),dt(this,"setProxy",void 0),dt(this,"encrypt",void 0),dt(this,"decrypt",void 0);var n=t.networking,i=t.cbor,a=this._config=new l.default({setup:t,db:t.db}),st=new s.default({config:a});n.init(a);var rt=this._tokenManager=new c.default(a,i),ot={config:a,networking:n,crypto:st,tokenManager:rt,telemetryManager:this._telemetryManager=new o.default({maximumSamplesCount:6e4})},at=h.default.bind(this,ot,it),ut=h.default.bind(this,ot,x),ct=h.default.bind(this,ot,_),ht=h.default.bind(this,ot,T),pt=h.default.bind(this,ot,lt),mt=this._listenerManager=new u.default,gt=new r.default({timeEndpoint:at,leaveEndpoint:ut,heartbeatEndpoint:ct,setStateEndpoint:ht,subscribeEndpoint:pt,crypto:ot.crypto,config:ot.config,listenerManager:mt});this.addListener=mt.addListener.bind(mt),this.removeListener=mt.removeListener.bind(mt),this.removeAllListeners=mt.removeAllListeners.bind(mt),this.parseToken=rt.parseToken.bind(rt),this.setToken=rt.setToken.bind(rt),this.setTokens=rt.setTokens.bind(rt),this.getToken=rt.getToken.bind(rt),this.getTokens=rt.getTokens.bind(rt),this.clearTokens=rt.clearTokens.bind(rt),this.channelGroups={listGroups:h.default.bind(this,ot,g),listChannels:h.default.bind(this,ot,f),addChannels:h.default.bind(this,ot,d),removeChannels:h.default.bind(this,ot,p),deleteGroup:h.default.bind(this,ot,m)},this.push={addChannels:h.default.bind(this,ot,b),removeChannels:h.default.bind(this,ot,v),deleteDevice:h.default.bind(this,ot,w),listChannels:h.default.bind(this,ot,y)},this.hereNow=h.default.bind(this,ot,S),this.whereNow=h.default.bind(this,ot,k),this.getState=h.default.bind(this,ot,C),this.setState=gt.adaptStateChange.bind(gt),this.grant=h.default.bind(this,ot,X),this.grantToken=h.default.bind(this,ot,K),this.audit=h.default.bind(this,ot,G),this.publish=h.default.bind(this,ot,Z),this.fire=function(t,n){return t.replicate=!1,t.storeInHistory=!1,e.publish(t,n)},this.signal=h.default.bind(this,ot,Q),this.history=h.default.bind(this,ot,J),this.deleteMessages=h.default.bind(this,ot,tt),this.messageCounts=h.default.bind(this,ot,et),this.fetchMessages=h.default.bind(this,ot,nt),this.addMessageAction=h.default.bind(this,ot,M),this.removeMessageAction=h.default.bind(this,ot,P),this.getMessageActions=h.default.bind(this,ot,A),this.createUser=h.default.bind(this,ot,E),this.updateUser=h.default.bind(this,ot,I),this.deleteUser=h.default.bind(this,ot,D),this.getUser=h.default.bind(this,ot,O),this.getUsers=h.default.bind(this,ot,F),this.createSpace=h.default.bind(this,ot,N),this.updateSpace=h.default.bind(this,ot,R),this.deleteSpace=h.default.bind(this,ot,L),this.getSpaces=h.default.bind(this,ot,B),this.getSpace=h.default.bind(this,ot,V),this.addMembers=h.default.bind(this,ot,j),this.updateMembers=h.default.bind(this,ot,H),this.removeMembers=h.default.bind(this,ot,W),this.getMembers=h.default.bind(this,ot,z),this.getMemberships=h.default.bind(this,ot,U),this.joinSpaces=h.default.bind(this,ot,Y),this.updateMemberships=h.default.bind(this,ot,$),this.leaveSpaces=h.default.bind(this,ot,q),this.time=at,this.subscribe=gt.adaptSubscribeChange.bind(gt),this.presence=gt.adaptPresenceChange.bind(gt),this.unsubscribe=gt.adaptUnsubscribeChange.bind(gt),this.disconnect=gt.disconnect.bind(gt),this.reconnect=gt.reconnect.bind(gt),this.destroy=function(t){gt.unsubscribeAll(t),gt.disconnect()},this.stop=this.destroy,this.unsubscribeAll=gt.unsubscribeAll.bind(gt),this.getSubscribedChannels=gt.getSubscribedChannels.bind(gt),this.getSubscribedChannelGroups=gt.getSubscribedChannelGroups.bind(gt),this.encrypt=st.encrypt.bind(st),this.decrypt=st.decrypt.bind(st),this.getAuthKey=ot.config.getAuthKey.bind(ot.config),this.setAuthKey=ot.config.setAuthKey.bind(ot.config),this.setCipherKey=ot.config.setCipherKey.bind(ot.config),this.getUUID=ot.config.getUUID.bind(ot.config),this.setUUID=ot.config.setUUID.bind(ot.config),this.getFilterExpression=ot.config.getFilterExpression.bind(ot.config),this.setFilterExpression=ot.config.setFilterExpression.bind(ot.config),this.setHeartbeatInterval=ot.config.setHeartbeatInterval.bind(ot.config),n.hasModule("proxy")&&(this.setProxy=function(t){ot.config.setProxy(t),e.reconnect()})}dt(e.default=ft,"OPERATIONS",st.default),dt(ft,"CATEGORIES",rt.default),t.exports=e.default},function(t,e,n){var i,l;void 0===(l="function"==typeof(i=function(t){var e={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function n(){var t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n}function i(t,n){var i=e[n||"all"];return i&&i.test(t)||!1}n.isUUID=i,n.VERSION="0.1.0",t.uuid=n,t.isUUID=i})?i.apply(e,[e]):i)||(t.exports=l)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o(n(6)),o(n(3)),o(n(8));var i=o(n(16)),l=o(n(17)),s=o(n(2)),r=(n(0),o(n(4)));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u,c=((u=[{key:"adaptStateChange",value:function(t,e){var n=this,i=t.state,l=t.channels,s=void 0===l?[]:l,r=t.channelGroups,o=void 0===r?[]:r;return s.forEach((function(t){t in n._channels&&(n._channels[t].state=i)})),o.forEach((function(t){t in n._channelGroups&&(n._channelGroups[t].state=i)})),this._setStateEndpoint({state:i,channels:s,channelGroups:o},e)}},{key:"adaptPresenceChange",value:function(t){var e=this,n=t.channels,i=void 0===n?[]:n,l=t.channelGroups,s=void 0===l?[]:l;t.connected?(i.forEach((function(t){e._heartbeatChannels[t]={state:{}}})),s.forEach((function(t){e._heartbeatChannelGroups[t]={state:{}}}))):(i.forEach((function(t){t in e._heartbeatChannels&&delete e._heartbeatChannels[t]})),s.forEach((function(t){t in e._heartbeatChannelGroups&&delete e._heartbeatChannelGroups[t]})),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:i,channelGroups:s},(function(t){e._listenerManager.announceStatus(t)}))),this.reconnect()}},{key:"adaptSubscribeChange",value:function(t){var e=this,n=t.timetoken,i=t.channels,l=void 0===i?[]:i,s=t.channelGroups,r=void 0===s?[]:s,o=t.withPresence,a=void 0!==o&&o,u=t.withHeartbeats,c=void 0!==u&&u;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&0!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),l.forEach((function(t){e._channels[t]={state:{}},a&&(e._presenceChannels[t]={}),(c||e._config.getHeartbeatInterval())&&(e._heartbeatChannels[t]={}),e._pendingChannelSubscriptions.push(t)})),r.forEach((function(t){e._channelGroups[t]={state:{}},a&&(e._presenceChannelGroups[t]={}),(c||e._config.getHeartbeatInterval())&&(e._heartbeatChannelGroups[t]={}),e._pendingChannelGroupSubscriptions.push(t)})),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(t,e){var n=this,i=t.channels,l=t.channelGroups,s=void 0===l?[]:l,r=[],o=[];(void 0===i?[]:i).forEach((function(t){t in n._channels&&(delete n._channels[t],r.push(t),t in n._heartbeatChannels&&delete n._heartbeatChannels[t]),t in n._presenceChannels&&(delete n._presenceChannels[t],r.push(t))})),s.forEach((function(t){t in n._channelGroups&&(delete n._channelGroups[t],o.push(t),t in n._heartbeatChannelGroups&&delete n._heartbeatChannelGroups[t]),t in n._presenceChannelGroups&&(delete n._channelGroups[t],o.push(t))})),0===r.length&&0===o.length||(!1!==this._config.suppressLeaveEvents||e||this._leaveEndpoint({channels:r,channelGroups:o},(function(t){t.affectedChannels=r,t.affectedChannelGroups=o,t.currentTimetoken=n._currentTimetoken,t.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(t)})),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(t){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},t)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var t=this,e=this.getHeartbeatChannels(),n=this.getHeartbeatChannelGroups(),i={};0===e.length&&0===n.length||(this.getSubscribedChannels().forEach((function(e){var n=t._channels[e].state;Object.keys(n).length&&(i[e]=n)})),this.getSubscribedChannelGroups().forEach((function(e){var n=t._channelGroups[e].state;Object.keys(n).length&&(i[e]=n)})),this._heartbeatEndpoint({channels:e,channelGroups:n,state:i},(function(e){e.error&&t._config.announceFailedHeartbeats&&t._listenerManager.announceStatus(e),e.error&&t._config.autoNetworkDetection&&t._isOnline&&(t._isOnline=!1,t.disconnect(),t._listenerManager.announceNetworkDown(),t.reconnect()),!e.error&&t._config.announceSuccessfulHeartbeats&&t._listenerManager.announceStatus(e)}).bind(this)))}},{key:"_startSubscribeLoop",value:function(){var t=this;this._stopSubscribeLoop();var e={},n=[],i=[];Object.keys(this._channels).forEach((function(i){var l=t._channels[i].state;Object.keys(l).length&&(e[i]=l),n.push(i)})),Object.keys(this._presenceChannels).forEach((function(t){n.push("".concat(t,"-pnpres"))})),Object.keys(this._channelGroups).forEach((function(n){var l=t._channelGroups[n].state;Object.keys(l).length&&(e[n]=l),i.push(n)})),Object.keys(this._presenceChannelGroups).forEach((function(t){i.push("".concat(t,"-pnpres"))})),(0!==n.length||0!==i.length)&&(this._subscribeCall=this._subscribeEndpoint({channels:n,channelGroups:i,state:e,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region},this._processSubscribeResponse.bind(this)))}},{key:"_processSubscribeResponse",value:function(t,e){var n=this;if(t.error)t.category===r.default.PNTimeoutCategory?this._startSubscribeLoop():(t.category===r.default.PNNetworkIssuesCategory?(this.disconnect(),t.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection((function(){n._config.autoNetworkDetection&&!n._isOnline&&(n._isOnline=!0,n._listenerManager.announceNetworkUp()),n.reconnect(),n._subscriptionStatusAnnounced=!0,n._listenerManager.announceStatus({category:r.default.PNReconnectedCategory,operation:t.operation,lastTimetoken:n._lastTimetoken,currentTimetoken:n._currentTimetoken})})),this._reconnectionManager.startPolling()):t.category===r.default.PNBadRequestCategory&&this._stopHeartbeatTimer(),this._listenerManager.announceStatus(t));else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=e.metadata.timetoken),!this._subscriptionStatusAnnounced){var i={};i.category=r.default.PNConnectedCategory,i.operation=t.operation,i.affectedChannels=this._pendingChannelSubscriptions,i.subscribedChannels=this.getSubscribedChannels(),i.affectedChannelGroups=this._pendingChannelGroupSubscriptions,i.lastTimetoken=this._lastTimetoken,i.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(i),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var l=e.messages||[],o=this._config,a=o.requestMessageCountThreshold,u=o.dedupeOnSubscribe;if(a&&l.length>=a){var c={};c.category=r.default.PNRequestMessageCountExceededCategory,c.operation=t.operation,this._listenerManager.announceStatus(c)}l.forEach((function(t){var e=t.channel,i=t.subscriptionMatch,l=t.publishMetaData;if(e===i&&(i=null),u){if(n._dedupingManager.isDuplicate(t))return;n._dedupingManager.addEntry(t)}if(s.default.endsWith(t.channel,"-pnpres")){var r={channel:null,subscription:null};r.actualChannel=null!=i?e:null,r.subscribedChannel=null!=i?i:e,e&&(r.channel=e.substring(0,e.lastIndexOf("-pnpres"))),i&&(r.subscription=i.substring(0,i.lastIndexOf("-pnpres"))),r.action=t.payload.action,r.state=t.payload.data,r.timetoken=l.publishTimetoken,r.occupancy=t.payload.occupancy,r.uuid=t.payload.uuid,r.timestamp=t.payload.timestamp,t.payload.join&&(r.join=t.payload.join),t.payload.leave&&(r.leave=t.payload.leave),t.payload.timeout&&(r.timeout=t.payload.timeout),n._listenerManager.announcePresence(r)}else if(1===t.messageType){var o={channel:null,subscription:null};o.channel=e,o.subscription=i,o.timetoken=l.publishTimetoken,o.publisher=t.issuingClientId,t.userMetadata&&(o.userMetadata=t.userMetadata),o.message=t.payload,n._listenerManager.announceSignal(o)}else if(2===t.messageType){var a={channel:null,subscription:null};a.channel=e,a.subscription=i,a.timetoken=l.publishTimetoken,a.publisher=t.issuingClientId,t.userMetadata&&(a.userMetadata=t.userMetadata),a.message={event:t.payload.event,type:t.payload.type,data:t.payload.data},"user"===t.payload.type?n._listenerManager.announceUser(a):"space"===t.payload.type?n._listenerManager.announceSpace(a):"membership"===t.payload.type&&n._listenerManager.announceMembership(a)}else if(3===t.messageType){var c={};c.channel=e,c.subscription=i,c.timetoken=l.publishTimetoken,c.publisher=t.issuingClientId,c.data={messageTimetoken:t.payload.data.messageTimetoken,actionTimetoken:t.payload.data.actionTimetoken,type:t.payload.data.type,uuid:t.issuingClientId,value:t.payload.data.value},c.event=t.payload.event,n._listenerManager.announceMessageAction(c)}else{var h={channel:null,subscription:null};h.actualChannel=null!=i?e:null,h.subscribedChannel=null!=i?i:e,h.channel=e,h.subscription=i,h.timetoken=l.publishTimetoken,h.publisher=t.issuingClientId,t.userMetadata&&(h.userMetadata=t.userMetadata),h.message=n._config.cipherKey?n._crypto.decrypt(t.payload):t.payload,n._listenerManager.announceMessage(h)}})),this._region=e.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(h.prototype,u),h);function h(t){var e=t.subscribeEndpoint,n=t.leaveEndpoint,s=t.heartbeatEndpoint,r=t.setStateEndpoint,o=t.timeEndpoint,u=t.config,c=t.crypto,d=t.listenerManager;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),a(this,"_crypto",void 0),a(this,"_config",void 0),a(this,"_listenerManager",void 0),a(this,"_reconnectionManager",void 0),a(this,"_leaveEndpoint",void 0),a(this,"_heartbeatEndpoint",void 0),a(this,"_setStateEndpoint",void 0),a(this,"_subscribeEndpoint",void 0),a(this,"_channels",void 0),a(this,"_presenceChannels",void 0),a(this,"_heartbeatChannels",void 0),a(this,"_heartbeatChannelGroups",void 0),a(this,"_channelGroups",void 0),a(this,"_presenceChannelGroups",void 0),a(this,"_currentTimetoken",void 0),a(this,"_lastTimetoken",void 0),a(this,"_storedTimetoken",void 0),a(this,"_region",void 0),a(this,"_subscribeCall",void 0),a(this,"_heartbeatTimer",void 0),a(this,"_subscriptionStatusAnnounced",void 0),a(this,"_autoNetworkDetection",void 0),a(this,"_isOnline",void 0),a(this,"_pendingChannelSubscriptions",void 0),a(this,"_pendingChannelGroupSubscriptions",void 0),a(this,"_dedupingManager",void 0),this._listenerManager=d,this._config=u,this._leaveEndpoint=n,this._heartbeatEndpoint=s,this._setStateEndpoint=r,this._subscribeEndpoint=e,this._crypto=c,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new i.default({timeEndpoint:o}),this._dedupingManager=new l.default({config:u})}e.default=c,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(9),n(0);var l,s=((l=[{key:"onReconnection",value:function(t){this._reconnectionCallback=t}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var t=this;this._timeEndpoint((function(e){e.error||(clearInterval(t._timeTimer),t._reconnectionCallback())}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(r.prototype,l),r);function r(t){var e=t.timeEndpoint;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i(this,"_reconnectionCallback",void 0),i(this,"_timeEndpoint",void 0),i(this,"_timeTimer",void 0),this._timeEndpoint=e}e.default=s,t.exports=e.default},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(3),n(0);var l,s=((l=[{key:"getKey",value:function(t){var e=function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n+=1)e=(e<<5)-e+t.charCodeAt(n),e&=e;return e}(JSON.stringify(t.payload)).toString();return"".concat(t.publishMetaData.publishTimetoken,"-").concat(e)}},{key:"isDuplicate",value:function(t){return this.hashHistory.includes(this.getKey(t))}},{key:"addEntry",value:function(t){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(t))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(r.prototype,l),r);function r(t){var e=t.config;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),i(this,"_config",void 0),i(this,"hashHistory",void 0),this.hashHistory=[],this._config=e}e.default=s,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,l=(i=n(1))&&i.__esModule?i:{default:i};function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r,o=((r=[{key:"operationsLatencyForRequest",value:function(){var t=this,e={};return Object.keys(this._latencies).forEach((function(n){var i=t._averageLatency(t._latencies[n]);0<i&&(e["l_".concat(n)]=i)})),e}},{key:"startLatencyMeasure",value:function(t,e){t!==l.default.PNSubscribeOperation&&e&&(this._trackedLatencies[e]=Date.now())}},{key:"stopLatencyMeasure",value:function(t,e){if(t!==l.default.PNSubscribeOperation&&e){var n=this._endpointName(t),i=this._latencies[n],s=this._trackedLatencies[e];(i=i||(this._latencies[n]=[])).push(Date.now()-s),i.length>this._maximumSamplesCount&&i.splice(0,i.length-this._maximumSamplesCount),delete this._trackedLatencies[e]}}},{key:"_averageLatency",value:function(t){return Math.floor(t.reduce((function(t,e){return t+e}),0)/t.length)}},{key:"_endpointName",value:function(t){var e=null;switch(t){case l.default.PNPublishOperation:e="pub";break;case l.default.PNSignalOperation:e="sig";break;case l.default.PNHistoryOperation:case l.default.PNFetchMessagesOperation:case l.default.PNDeleteMessagesOperation:case l.default.PNMessageCounts:e="hist";break;case l.default.PNUnsubscribeOperation:case l.default.PNWhereNowOperation:case l.default.PNHereNowOperation:case l.default.PNHeartbeatOperation:case l.default.PNSetStateOperation:case l.default.PNGetStateOperation:e="pres";break;case l.default.PNAddChannelsToGroupOperation:case l.default.PNRemoveChannelsFromGroupOperation:case l.default.PNChannelGroupsOperation:case l.default.PNRemoveGroupOperation:case l.default.PNChannelsForGroupOperation:e="cg";break;case l.default.PNPushNotificationEnabledChannelsOperation:case l.default.PNRemoveAllPushNotificationsOperation:e="push";break;case l.default.PNCreateUserOperation:case l.default.PNUpdateUserOperation:case l.default.PNDeleteUserOperation:case l.default.PNGetUserOperation:case l.default.PNGetUsersOperation:case l.default.PNCreateSpaceOperation:case l.default.PNUpdateSpaceOperation:case l.default.PNDeleteSpaceOperation:case l.default.PNGetSpaceOperation:case l.default.PNGetSpacesOperation:case l.default.PNGetMembersOperation:case l.default.PNUpdateMembersOperation:case l.default.PNGetMembershipsOperation:case l.default.PNUpdateMembershipsOperation:e="obj";break;case l.default.PNAddMessageActionOperation:case l.default.PNRemoveMessageActionOperation:case l.default.PNGetMessageActionsOperation:e="msga";break;case l.default.PNAccessManagerGrant:case l.default.PNAccessManagerAudit:e="pam";break;case l.default.PNAccessManagerGrantToken:e="pam3";break;default:e="time"}return e}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(a.prototype,r),a);function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s(this,"_maximumSamplesCount",100),s(this,"_trackedLatencies",{}),s(this,"_latencies",{}),this._maximumSamplesCount=t.maximumSamplesCount||this._maximumSamplesCount}e.default=o,t.exports=e.default},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?a(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FCMNotificationPayload=e.MPNSNotificationPayload=e.APNSNotificationPayload=void 0,n(0);var m=(d(g,[{key:"payload",get:function(){return this._payload}},{key:"title",set:function(t){this._title=t}},{key:"subtitle",set:function(t){this._subtitle=t}},{key:"body",set:function(t){this._body=t}},{key:"badge",set:function(t){this._badge=t}},{key:"sound",set:function(t){this._sound=t}}]),d(g,[{key:"_setDefaultPayloadStructure",value:function(){}},{key:"toObject",value:function(){return{}}}]),g);function g(t,e,n){c(this,g),p(this,"_subtitle",void 0),p(this,"_payload",void 0),p(this,"_badge",void 0),p(this,"_sound",void 0),p(this,"_title",void 0),p(this,"_body",void 0),this._payload=t,this._setDefaultPayloadStructure(),this.title=e,this.body=n}var f=(u(b,m),d(b,[{key:"_setDefaultPayloadStructure",value:function(){this._payload.aps={alert:{}}}},{key:"toObject",value:function(){var t=this,e=s({},this._payload),n=e.aps,i=n.alert;if(this._isSilent&&(n["content-available"]=1),"apns2"===this._apnsPushType){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");var l=[];this._configurations.forEach((function(e){l.push(t._objectFromAPNS2Configuration(e))})),l.length&&(e.pn_push=l)}return i&&Object.keys(i).length||delete n.alert,this._isSilent&&(delete n.alert,delete n.badge,delete n.sound,i={}),this._isSilent||Object.keys(i).length?e:null}},{key:"_objectFromAPNS2Configuration",value:function(t){var e=this;if(!t.targets||!t.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");var n=[];t.targets.forEach((function(t){n.push(e._objectFromAPNSTarget(t))}));var i=t.collapseId,l=t.expirationDate,s={auth_method:"token",targets:n,version:"v2"};return i&&i.length&&(s.collapse_id=i),l&&(s.expiration=l.toISOString()),s}},{key:"_objectFromAPNSTarget",value:function(t){if(!t.topic||!t.topic.length)throw new TypeError("Target 'topic' undefined.");var e=t.environment,n=t.excludedDevices,i=void 0===n?[]:n,l={topic:t.topic,environment:void 0===e?"development":e};return i.length&&(l.excluded_devices=i),l}},{key:"configurations",set:function(t){t&&t.length&&(this._configurations=t)}},{key:"notification",get:function(){return this._payload.aps}},{key:"title",get:function(){return this._title},set:function(t){t&&t.length&&(this._payload.aps.alert.title=t,this._title=t)}},{key:"subtitle",get:function(){return this._subtitle},set:function(t){t&&t.length&&(this._payload.aps.alert.subtitle=t,this._subtitle=t)}},{key:"body",get:function(){return this._body},set:function(t){t&&t.length&&(this._payload.aps.alert.body=t,this._body=t)}},{key:"badge",get:function(){return this._badge},set:function(t){null!=t&&(this._payload.aps.badge=t,this._badge=t)}},{key:"sound",get:function(){return this._sound},set:function(t){t&&t.length&&(this._payload.aps.sound=t,this._sound=t)}},{key:"silent",set:function(t){this._isSilent=t}}]),b);function b(){var t,e;c(this,b);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return p(a(e=r(this,(t=o(b)).call.apply(t,[this].concat(i)))),"_configurations",void 0),p(a(e),"_apnsPushType",void 0),p(a(e),"_isSilent",void 0),e}e.APNSNotificationPayload=f;var v=(u(y,m),d(y,[{key:"toObject",value:function(){return Object.keys(this._payload).length?s({},this._payload):null}},{key:"backContent",get:function(){return this._backContent},set:function(t){t&&t.length&&(this._payload.back_content=t,this._backContent=t)}},{key:"backTitle",get:function(){return this._backTitle},set:function(t){t&&t.length&&(this._payload.back_title=t,this._backTitle=t)}},{key:"count",get:function(){return this._count},set:function(t){null!=t&&(this._payload.count=t,this._count=t)}},{key:"title",get:function(){return this._title},set:function(t){t&&t.length&&(this._payload.title=t,this._title=t)}},{key:"type",get:function(){return this._type},set:function(t){t&&t.length&&(this._payload.type=t,this._type=t)}},{key:"subtitle",get:function(){return this.backTitle},set:function(t){this.backTitle=t}},{key:"body",get:function(){return this.backContent},set:function(t){this.backContent=t}},{key:"badge",get:function(){return this.count},set:function(t){this.count=t}}]),y);function y(){var t,e;c(this,y);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return p(a(e=r(this,(t=o(y)).call.apply(t,[this].concat(i)))),"_backContent",void 0),p(a(e),"_backTitle",void 0),p(a(e),"_count",void 0),p(a(e),"_type",void 0),e}e.MPNSNotificationPayload=v;var w=(u(x,m),d(x,[{key:"_setDefaultPayloadStructure",value:function(){this._payload.notification={},this._payload.data={}}},{key:"toObject",value:function(){var t=s({},this._payload.data),e=null,n={};return 2<Object.keys(this._payload).length&&(t=s({},t,{},function(t,e){if(null==t)return{};var n,i,l=function(t,e){if(null==t)return{};var n,i,l={},s=Object.keys(t);for(i=0;i<s.length;i++)0<=e.indexOf(n=s[i])||(l[n]=t[n]);return l}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)0<=e.indexOf(n=s[i])||Object.prototype.propertyIsEnumerable.call(t,n)&&(l[n]=t[n])}return l}(this._payload,["notification","data"]))),this._isSilent?t.notification=this._payload.notification:e=this._payload.notification,Object.keys(t).length&&(n.data=t),e&&Object.keys(e).length&&(n.notification=e),Object.keys(n).length?n:null}},{key:"notification",get:function(){return this._payload.notification}},{key:"data",get:function(){return this._payload.data}},{key:"title",get:function(){return this._title},set:function(t){t&&t.length&&(this._payload.notification.title=t,this._title=t)}},{key:"body",get:function(){return this._body},set:function(t){t&&t.length&&(this._payload.notification.body=t,this._body=t)}},{key:"sound",get:function(){return this._sound},set:function(t){t&&t.length&&(this._payload.notification.sound=t,this._sound=t)}},{key:"icon",get:function(){return this._icon},set:function(t){t&&t.length&&(this._payload.notification.icon=t,this._icon=t)}},{key:"tag",get:function(){return this._tag},set:function(t){t&&t.length&&(this._payload.notification.tag=t,this._tag=t)}},{key:"silent",set:function(t){this._isSilent=t}}]),x);function x(){var t,e;c(this,x);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return p(a(e=r(this,(t=o(x)).call.apply(t,[this].concat(i)))),"_isSilent",void 0),p(a(e),"_icon",void 0),p(a(e),"_tag",void 0),e}function k(t,e){c(this,k),p(this,"_payload",void 0),p(this,"_debugging",void 0),p(this,"_subtitle",void 0),p(this,"_badge",void 0),p(this,"_sound",void 0),p(this,"_title",void 0),p(this,"_body",void 0),p(this,"apns",void 0),p(this,"mpns",void 0),p(this,"fcm",void 0),this._payload={apns:{},mpns:{},fcm:{}},this._title=t,this._body=e,this.apns=new f(this._payload.apns,t,e),this.mpns=new v(this._payload.mpns,t,e),this.fcm=new w(this._payload.fcm,t,e)}e.FCMNotificationPayload=w;var _=(d(k,[{key:"debugging",set:function(t){this._debugging=t}},{key:"title",get:function(){return this._title}},{key:"body",get:function(){return this._body}},{key:"subtitle",get:function(){return this._subtitle},set:function(t){this._subtitle=t,this.apns.subtitle=t,this.mpns.subtitle=t,this.fcm.subtitle=t}},{key:"badge",get:function(){return this._badge},set:function(t){this._badge=t,this.apns.badge=t,this.mpns.badge=t,this.fcm.badge=t}},{key:"sound",get:function(){return this._sound},set:function(t){this._sound=t,this.apns.sound=t,this.mpns.sound=t,this.fcm.sound=t}}]),d(k,[{key:"buildPayload",value:function(t){var e={};if(t.includes("apns")||t.includes("apns2")){this.apns._apnsPushType=t.includes("apns")?"apns":"apns2";var n=this.apns.toObject();n&&Object.keys(n).length&&(e.pn_apns=n)}if(t.includes("mpns")){var i=this.mpns.toObject();i&&Object.keys(i).length&&(e.pn_mpns=i)}if(t.includes("fcm")){var l=this.fcm.toObject();l&&Object.keys(l).length&&(e.pn_gcm=l)}return Object.keys(e).length&&this._debugging&&(e.pn_debug=!0),e}}]),k);e.default=_},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(3),n(0);var s,r=((s=[{key:"_initializeTokens",value:function(){this._userTokens={},this._spaceTokens={},this._userToken=void 0,this._spaceToken=void 0}},{key:"_setToken",value:function(t){var e=this,n=this.parseToken(t);n&&n.resources&&(n.resources.users&&Object.keys(n.resources.users).forEach((function(n){e._userTokens[n]=t})),n.resources.spaces&&Object.keys(n.resources.spaces).forEach((function(n){e._spaceTokens[n]=t}))),n&&n.patterns&&(n.patterns.users&&0<Object.keys(n.patterns.users).length&&(this._userToken=t),n.patterns.spaces&&0<Object.keys(n.patterns.spaces).length&&(this._spaceToken=t))}},{key:"setToken",value:function(t){t&&0<t.length&&this._setToken(t)}},{key:"setTokens",value:function(t){var e=this;t&&t.length&&"object"===i(t)&&t.forEach((function(t){e.setToken(t)}))}},{key:"getTokens",value:function(t){var e=this,n={users:{},spaces:{}};return t?(t.user&&(n.user=this._userToken),t.space&&(n.space=this._spaceToken),t.users&&t.users.forEach((function(t){n.users[t]=e._userTokens[t]})),t.space&&t.spaces.forEach((function(t){n.spaces[t]=e._spaceTokens[t]}))):(this._userToken&&(n.user=this._userToken),this._spaceToken&&(n.space=this._spaceToken),Object.keys(this._userTokens).forEach((function(t){n.users[t]=e._userTokens[t]})),Object.keys(this._spaceTokens).forEach((function(t){n.spaces[t]=e._spaceTokens[t]}))),n}},{key:"getToken",value:function(t,e){var n;return e?"user"===t?n=this._userTokens[e]:"space"===t&&(n=this._spaceTokens[e]):"user"===t?n=this._userToken:"space"===t&&(n=this._spaceToken),n}},{key:"extractPermissions",value:function(t){var e={create:!1,read:!1,write:!1,manage:!1,delete:!1};return 16==(16&t)&&(e.create=!0),8==(8&t)&&(e.delete=!0),4==(4&t)&&(e.manage=!0),2==(2&t)&&(e.write=!0),1==(1&t)&&(e.read=!0),e}},{key:"parseToken",value:function(t){var e=this,n=this._cbor.decodeToken(t);if(void 0!==n){var i=Object.keys(n.res.usr),l=Object.keys(n.res.spc),s=Object.keys(n.pat.usr),r=Object.keys(n.pat.spc),o={version:n.v,timestamp:n.t,ttl:n.ttl},a=0<i.length,u=0<l.length;(a||u)&&(o.resources={},a&&(o.resources.users={},i.forEach((function(t){o.resources.users[t]=e.extractPermissions(n.res.usr[t])}))),u&&(o.resources.spaces={},l.forEach((function(t){o.resources.spaces[t]=e.extractPermissions(n.res.spc[t])}))));var c=0<s.length,h=0<r.length;return(c||h)&&(o.patterns={},c&&(o.patterns.users={},s.forEach((function(t){o.patterns.users[t]=e.extractPermissions(n.pat.usr[t])}))),h&&(o.patterns.spaces={},r.forEach((function(t){o.patterns.spaces[t]=e.extractPermissions(n.pat.spc[t])})))),0<Object.keys(n.meta).length&&(o.meta=n.meta),o.signature=n.sig,o}}},{key:"clearTokens",value:function(){this._initializeTokens()}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(o.prototype,s),o);function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),l(this,"_config",void 0),l(this,"_cbor",void 0),l(this,"_userTokens",void 0),l(this,"_spaceTokens",void 0),l(this,"_userToken",void 0),l(this,"_spaceToken",void 0),this._config=t,this._cbor=e,this._initializeTokens()}e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n=t.networking,r=t.config,u=t.telemetryManager,c=i.default.createUUID(),h=null,d=null,m={};h=e.getOperation()===s.default.PNTimeOperation||e.getOperation()===s.default.PNChannelGroupsOperation?arguments.length<=2?void 0:arguments[2]:(m=arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]),"undefined"==typeof Promise||h||(d=l.default.createPromise());var b=e.validateParams(t,m);if(b)return h?h(g(b)):d?(d.reject(new p("Validation failed, check status for details",g(b))),d.promise):void 0;var v,y=e.prepareParams(t,m),w=function(t,e,n){return t.usePost&&t.usePost(e,n)?t.postURL(e,n):t.usePatch&&t.usePatch(e,n)?t.patchURL(e,n):t.getURL(e,n)}(e,t,m),x={url:w,operation:e.getOperation(),timeout:e.getRequestTimeout(t),headers:e.getRequestHeaders?e.getRequestHeaders():{}};y.uuid=r.UUID,y.pnsdk=function(t){if(t.sdkName)return t.sdkName;var e="PubNub-JS-".concat(t.sdkFamily);t.partnerId&&(e+="-".concat(t.partnerId)),e+="/".concat(t.getVersion());var n=t._getPnsdkSuffix(" ");return 0<n.length&&(e+=n),e}(r);var k=u.operationsLatencyForRequest();if(Object.keys(k).length&&(y=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},y,{},k)),r.useInstanceId&&(y.instanceid=r.instanceId),r.useRequestId&&(y.requestid=c),e.isAuthSupported()){var _=function(t,e,n){var i;return t.getAuthToken&&(i=t.getAuthToken(e,n)),i}(e,t,m)||r.getAuthKey();_&&(y.auth=_)}function C(n,i){if(n.error)h?h(n):d&&d.reject(new p("PubNub call failed, check status for details",n));else{u.stopLatencyMeasure(e.getOperation(),c);var l=e.handleResponse(t,i,m);h?h(n,l):d&&d.fulfill(l)}}if(r.secretKey&&function(t,e,n,i,s){var r=t.config,o=t.crypto,a=f(t,s,i);n.timestamp=Math.floor((new Date).getTime()/1e3);var u="".concat(a,"\n").concat(r.publishKey,"\n").concat(e,"\n").concat(l.default.signPamFromParams(n),"\n");if("POST"===a){var c=s.postPayload(t,i);u+="string"==typeof c?c:JSON.stringify(c)}else if("PATCH"===a){var h=s.patchPayload(t,i);u+="string"==typeof h?h:JSON.stringify(h)}var d="v2.".concat(o.HMACSHA256(u));d=(d=(d=d.replace(/\+/g,"-")).replace(/\//g,"_")).replace(/=+$/,""),n.signature=d}(t,w,y,m,e),u.startLatencyMeasure(e.getOperation(),c),"POST"===f(t,e,m)){var T=e.postPayload(t,m);v=n.POST(y,T,x,C)}else if("PATCH"===f(t,e,m)){var S=e.patchPayload(t,m);v=n.PATCH(y,S,x,C)}else v="DELETE"===f(t,e,m)?n.DELETE(y,x,C):n.GET(y,x,C);return e.getOperation()===s.default.PNSubscribeOperation?v:d?d.promise:void 0};var i=r(n(5)),l=(n(0),r(n(2))),s=(r(n(3)),r(n(1)));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||!function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var l=new(Function.bind.apply(t,i));return n&&h(l,n.prototype),l}).apply(null,arguments)}(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(m,c(Error)),m);function m(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),(n=function(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}(this,d(m).call(this,t))).name=n.constructor.name,n.status=e,n.message=t,n}function g(t){return function(t,e){return t.type="validationError",t.error=!0,t}({message:t})}function f(t,e,n){return e.usePost&&e.usePost(t,n)?"POST":e.usePatch&&e.usePatch(t,n)?"PATCH":e.useDelete&&e.useDelete(t,n)?"DELETE":"GET"}t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNAddChannelsToGroupOperation},e.validateParams=function(t,e){var n=e.channels;return e.channelGroup?n&&0!==n.length?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},e.getURL=function(t,e){var n=e.channelGroup;return"/v1/channel-registration/sub-key/".concat(t.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.channels;return{add:(void 0===n?[]:n).join(",")}},e.handleResponse=function(){return{}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNRemoveChannelsFromGroupOperation},e.validateParams=function(t,e){var n=e.channels;return e.channelGroup?n&&0!==n.length?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},e.getURL=function(t,e){var n=e.channelGroup;return"/v1/channel-registration/sub-key/".concat(t.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.channels;return{remove:(void 0===n?[]:n).join(",")}},e.handleResponse=function(){return{}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNRemoveGroupOperation},e.validateParams=function(t,e){return e.channelGroup?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},e.getURL=function(t,e){var n=e.channelGroup;return"/v1/channel-registration/sub-key/".concat(t.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n),"/remove")},e.isAuthSupported=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.prepareParams=function(){return{}},e.handleResponse=function(){return{}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNChannelGroupsOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t){return"/v1/channel-registration/sub-key/".concat(t.config.subscribeKey,"/channel-group")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return{groups:e.payload.groups}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNChannelsForGroupOperation},e.validateParams=function(t,e){return e.channelGroup?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},e.getURL=function(t,e){var n=e.channelGroup;return"/v1/channel-registration/sub-key/".concat(t.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return{channels:e.payload.channels}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNPushNotificationEnabledChannelsOperation},e.validateParams=function(t,e){var n=e.pushGateway,i=e.channels;return e.device?n?"apns2"!==n||e.topic?i&&0!==i.length?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},e.getURL=function(t,e){var n=e.device,i=t.config;return"apns2"!==e.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.pushGateway,i=e.channels,l=e.environment,s=void 0===l?"development":l,r=e.topic,o={type:n,add:(void 0===i?[]:i).join(",")};return"apns2"===n&&delete(o=Object.assign({},o,{environment:s,topic:r})).type,o},e.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNPushNotificationEnabledChannelsOperation},e.validateParams=function(t,e){var n=e.pushGateway,i=e.channels;return e.device?n?"apns2"!==n||e.topic?i&&0!==i.length?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},e.getURL=function(t,e){var n=e.device,i=t.config;return"apns2"!==e.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.pushGateway,i=e.channels,l=e.environment,s=void 0===l?"development":l,r=e.topic,o={type:n,remove:(void 0===i?[]:i).join(",")};return"apns2"===n&&delete(o=Object.assign({},o,{environment:s,topic:r})).type,o},e.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNPushNotificationEnabledChannelsOperation},e.validateParams=function(t,e){var n=e.pushGateway;return e.device?n?"apns2"!==n||e.topic?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},e.getURL=function(t,e){var n=e.device,i=t.config;return"apns2"!==e.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.pushGateway,i=e.environment,l={type:n};return"apns2"===n&&delete(l=Object.assign({},l,{environment:void 0===i?"development":i,topic:e.topic})).type,l},e.handleResponse=function(t,e){return{channels:e}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNRemoveAllPushNotificationsOperation},e.validateParams=function(t,e){var n=e.pushGateway;return e.device?n?"apns2"!==n||e.topic?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},e.getURL=function(t,e){var n=e.device,i=t.config;return"apns2"!==e.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n,"/remove"):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n,"/remove")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.pushGateway,i=e.environment,l={type:n};return"apns2"===n&&delete(l=Object.assign({},l,{environment:void 0===i?"development":i,topic:e.topic})).type,l},e.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNUnsubscribeOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t,e){var n=t.config,i=e.channels,s=void 0===i?[]:i,r=0<s.length?s.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(r),"/leave")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.channelGroups,i=void 0===n?[]:n,l={};return 0<i.length&&(l["channel-group"]=i.join(",")),l},e.handleResponse=function(){return{}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNWhereNowOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t,e){var n=t.config,i=e.uuid,l=void 0===i?n.UUID:i;return"/v2/presence/sub-key/".concat(n.subscribeKey,"/uuid/").concat(l)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return e.payload?{channels:e.payload.channels}:{channels:[]}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNHeartbeatOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t,e){var n=t.config,i=e.channels,s=void 0===i?[]:i,r=0<s.length?s.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(r),"/heartbeat")},e.isAuthSupported=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.prepareParams=function(t,e){var n=e.channelGroups,i=void 0===n?[]:n,l=e.state,s=void 0===l?{}:l,r=t.config,o={};return 0<i.length&&(o["channel-group"]=i.join(",")),o.state=JSON.stringify(s),o.heartbeat=r.getPresenceTimeout(),o},e.handleResponse=function(){return{}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNGetStateOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t,e){var n=t.config,i=e.uuid,s=void 0===i?n.UUID:i,r=e.channels,o=void 0===r?[]:r,a=0<o.length?o.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(a),"/uuid/").concat(s)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.channelGroups,i=void 0===n?[]:n,l={};return 0<i.length&&(l["channel-group"]=i.join(",")),l},e.handleResponse=function(t,e,n){var i=n.channels,l=void 0===i?[]:i,s=n.channelGroups,r={};return 1===l.length&&0===(void 0===s?[]:s).length?r[l[0]]=e.payload:r=e.payload,{channels:r}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNSetStateOperation},e.validateParams=function(t,e){var n=e.channels,i=e.channelGroups;return e.state?t.config.subscribeKey?0===(void 0===n?[]:n).length&&0===(void 0===i?[]:i).length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},e.getURL=function(t,e){var n=t.config,i=e.channels,s=void 0===i?[]:i,r=0<s.length?s.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(r),"/uuid/").concat(n.UUID,"/data")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.channelGroups,i=void 0===n?[]:n,l={};return l.state=JSON.stringify(e.state),0<i.length&&(l["channel-group"]=i.join(",")),l},e.handleResponse=function(t,e){return{state:e.payload}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNHereNowOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t,e){var n=e.channels,i=void 0===n?[]:n,s=e.channelGroups,r=void 0===s?[]:s,o="/v2/presence/sub-key/".concat(t.config.subscribeKey);if(0<i.length||0<r.length){var a=0<i.length?i.join(","):",";o+="/channel/".concat(l.default.encodeString(a))}return o},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.channelGroups,i=void 0===n?[]:n,l=e.includeUUIDs,s=e.includeState,a=void 0!==s&&s,u=e.queryParameters,c=void 0===u?{}:u,h={};return void 0===l||l||(h.disable_uuids=1),a&&(h.state=1),0<i.length&&(h["channel-group"]=i.join(",")),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},h,{},c)},e.handleResponse=function(t,e,n){var i=n.channels,l=void 0===i?[]:i,s=n.channelGroups,r=void 0===s?[]:s,o=n.includeUUIDs,a=void 0===o||o,u=n.includeState,c=void 0!==u&&u;return 1<l.length||0<r.length||0===r.length&&0===l.length?function(){var t={};return t.totalChannels=e.payload.total_channels,t.totalOccupancy=e.payload.total_occupancy,t.channels={},Object.keys(e.payload.channels).forEach((function(n){var i=e.payload.channels[n],l=[];return t.channels[n]={occupants:l,name:n,occupancy:i.occupancy},a&&i.uuids.forEach((function(t){l.push(c?{state:t.state,uuid:t.uuid}:{state:null,uuid:t})})),t})),t}():function(){var t={},n=[];return t.totalChannels=1,t.totalOccupancy=e.occupancy,t.channels={},t.channels[l[0]]={occupants:n,name:l[0],occupancy:e.occupancy},a&&e.uuids&&e.uuids.forEach((function(t){n.push(c?{state:t.state,uuid:t.uuid}:{state:null,uuid:t})})),t}()},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNAddMessageActionOperation},e.validateParams=function(t,e){var n=e.action;return e.messageTimetoken?t.config.subscribeKey?e.channel?n?n.value?n.type?15<n.type.length?"Action.type value exceed maximum length of 15":void 0:"Missing Action.type":"Missing Action.value":"Missing Action":"Missing message channel":"Missing Subscribe Key":"Missing message timetoken"},e.usePost=function(){return!0},e.postURL=function(t,e){var n=e.channel,i=e.messageTimetoken;return"/v1/message-actions/".concat(t.config.subscribeKey,"/channel/").concat(n,"/message/").concat(i)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.getRequestHeaders=function(){return{"Content-Type":"application/json"}},e.isAuthSupported=function(){return!0},e.prepareParams=function(){return{}},e.postPayload=function(t,e){return e.action},e.handleResponse=function(t,e){return{data:e.data}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNRemoveMessageActionOperation},e.validateParams=function(t,e){return e.messageTimetoken?e.actionTimetoken?t.config.subscribeKey?e.channel?void 0:"Missing message channel":"Missing Subscribe Key":"Missing action timetoken":"Missing message timetoken"},e.useDelete=function(){return!0},e.getURL=function(t,e){var n=e.channel,i=e.actionTimetoken,l=e.messageTimetoken;return"/v1/message-actions/".concat(t.config.subscribeKey,"/channel/").concat(n,"/message/").concat(l,"/action/").concat(i)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return{data:e.data}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetMessageActionsOperation},e.validateParams=function(t,e){return t.config.subscribeKey?e.channel?void 0:"Missing message channel":"Missing Subscribe Key"},e.getURL=function(t,e){var n=e.channel;return"/v1/message-actions/".concat(t.config.subscribeKey,"/channel/").concat(n)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.limit,i=e.start,l=e.end,s={};return n&&(s.limit=n),i&&(s.start=i),l&&(s.end=l),s},e.handleResponse=function(t,e){var n={data:e.data,start:null,end:null};return n.data.length&&(n.end=n.data[n.data.length-1].actionTimetoken,n.start=n.data[0].actionTimetoken),n},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNCreateUserOperation},e.validateParams=function(t,e){var n=e.custom;return e.id?e.name?t.config.subscribeKey?n&&!Object.values(n).every((function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing User.name":"Missing User.id"},e.usePost=function(){return!0},e.getURL=function(t){return"/v1/objects/".concat(t.config.subscribeKey,"/users")},e.postURL=function(t){return"/v1/objects/".concat(t.config.subscribeKey,"/users")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.id)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var s=l.join(",");0<s.length&&(i.include=s)}return i},e.postPayload=function(t,e){return function(t,e){return e}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateUserOperation},e.validateParams=function(t,e){var n=e.custom;return e.id?e.name?t.config.subscribeKey?n&&!Object.values(n).every((function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing User.name":"Missing User.id"},e.usePatch=function(){return!0},e.getURL=function(t,e){var n=e.id;return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(n)},e.patchURL=function(t,e){var n=e.id;return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(n)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.id)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var s=l.join(",");0<s.length&&(i.include=s)}return i},e.patchPayload=function(t,e){return function(t,e){return e}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNDeleteUserOperation},e.validateParams=function(t,e){return e?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing UserId"},e.useDelete=function(){return!0},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e)||t.tokenManager.getToken("user")},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetUserOperation},e.validateParams=function(t,e){if(!e.userId)return"Missing userId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.userId)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var s=l.join(",");0<s.length&&(i.include=s)}return i},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetUsersOperation},e.validateParams=function(){},e.getURL=function(t){return"/v1/objects/".concat(t.config.subscribeKey,"/users")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t){return t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s=e.filter,r={};if(i&&(r.limit=i),n){var o=[];n.totalCount&&(r.count=!0),n.customFields&&o.push("custom");var a=o.join(",");0<a.length&&(r.include=a)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),s&&(r.filter=s),r},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNCreateSpaceOperation},e.validateParams=function(t,e){var n=e.custom;return e.id?e.name?t.config.subscribeKey?n&&!Object.values(n).every((function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing Space.name":"Missing Space.id"},e.usePost=function(){return!0},e.getURL=function(t){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces")},e.postURL=function(t){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.id)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var s=l.join(",");0<s.length&&(i.include=s)}return i},e.postPayload=function(t,e){return function(t,e){return e}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateSpaceOperation},e.validateParams=function(t,e){var n=e.custom;return e.id?e.name?t.config.subscribeKey?n&&!Object.values(n).every((function(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing Space.name":"Missing Space.id"},e.usePatch=function(){return!0},e.getURL=function(t,e){var n=e.id;return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(n)},e.patchURL=function(t,e){var n=e.id;return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(n)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.id)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var s=l.join(",");0<s.length&&(i.include=s)}return i},e.patchPayload=function(t,e){return function(t,e){return e}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNDeleteSpaceOperation},e.validateParams=function(t,e){return e?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing SpaceId"},e.useDelete=function(){return!0},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e)||t.tokenManager.getToken("space")},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetSpacesOperation},e.validateParams=function(){},e.getURL=function(t){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t){return t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s=e.filter,r={};if(i&&(r.limit=i),n){var o=[];n.totalCount&&(r.count=!0),n.customFields&&o.push("custom");var a=o.join(",");0<a.length&&(r.include=a)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),s&&(r.filter=s),r},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetSpaceOperation},e.validateParams=function(t,e){if(!e.spaceId)return"Missing spaceId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.spaceId)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var s=l.join(",");0<s.length&&(i.include=s)}return i},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetMembersOperation},e.validateParams=function(t,e){if(!e.spaceId)return"Missing spaceId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.spaceId)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s=e.filter,r={};if(i&&(r.limit=i),n){var o=[];n.totalCount&&(r.count=!0),n.customFields&&o.push("custom"),n.userFields&&o.push("user"),n.customUserFields&&o.push("user.custom");var a=o.join(",");0<a.length&&(r.include=a)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),s&&(r.filter=s),r},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateMembersOperation},e.validateParams=function(t,e){return e.spaceId?e.users?void 0:"Missing users":"Missing spaceId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.patchURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.usePatch=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.spaceId)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s={};if(i&&(s.limit=i),n){var r=[];n.totalCount&&(s.count=!0),n.customFields&&r.push("custom"),n.spaceFields&&r.push("space"),n.customSpaceFields&&r.push("space.custom");var o=r.join(",");0<o.length&&(s.include=o)}return l&&(l.next&&(s.start=l.next),l.prev&&(s.end=l.prev)),s},e.patchPayload=function(t,e){return function(t,e){var n=e.users,i={};return n&&0<n.length&&(i.add=[],n.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),i.add.push(e)}))),i}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateMembersOperation},e.validateParams=function(t,e){return e.spaceId?e.users?void 0:"Missing users":"Missing spaceId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.patchURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.usePatch=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.spaceId)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s={};if(i&&(s.limit=i),n){var r=[];n.totalCount&&(s.count=!0),n.customFields&&r.push("custom"),n.spaceFields&&r.push("space"),n.customSpaceFields&&r.push("space.custom");var o=r.join(",");0<o.length&&(s.include=o)}return l&&(l.next&&(s.start=l.next),l.prev&&(s.end=l.prev)),s},e.patchPayload=function(t,e){return function(t,e){var n=e.addMembers,i=e.updateMembers,l=e.removeMembers,s=e.users,r={};return n&&0<n.length&&(r.add=[],n.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),r.add.push(e)}))),i&&0<i.length&&(r.update=[],i.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),r.update.push(e)}))),s&&0<s.length&&(r.update=r.update||[],s.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),r.update.push(e)}))),l&&0<l.length&&(r.remove=[],l.forEach((function(t){r.remove.push({id:t})}))),r}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateMembersOperation},e.validateParams=function(t,e){return e.spaceId?e.users?void 0:"Missing users":"Missing spaceId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.patchURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/spaces/").concat(e.spaceId,"/users")},e.usePatch=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("space",e.spaceId)||t.tokenManager.getToken("space")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s={};if(i&&(s.limit=i),n){var r=[];n.totalCount&&(s.count=!0),n.customFields&&r.push("custom"),n.spaceFields&&r.push("space"),n.customSpaceFields&&r.push("space.custom");var o=r.join(",");0<o.length&&(s.include=o)}return l&&(l.next&&(s.start=l.next),l.prev&&(s.end=l.prev)),s},e.patchPayload=function(t,e){return function(t,e){var n=e.users,i={};return n&&0<n.length&&(i.remove=[],n.forEach((function(t){i.remove.push({id:t})}))),i}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNGetMembershipsOperation},e.validateParams=function(t,e){if(!e.userId)return"Missing userId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.userId)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s=e.filter,r={};if(i&&(r.limit=i),n){var o=[];n.totalCount&&(r.count=!0),n.customFields&&o.push("custom"),n.spaceFields&&o.push("space"),n.customSpaceFields&&o.push("space.custom");var a=o.join(",");0<a.length&&(r.include=a)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),s&&(r.filter=s),r},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateMembershipsOperation},e.validateParams=function(t,e){return e.userId?e.spaces?void 0:"Missing spaces":"Missing userId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.patchURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.usePatch=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.userId)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s={};if(i&&(s.limit=i),n){var r=[];n.totalCount&&(s.count=!0),n.customFields&&r.push("custom"),n.spaceFields&&r.push("space"),n.customSpaceFields&&r.push("space.custom");var o=r.join(",");0<o.length&&(s.include=o)}return l&&(l.next&&(s.start=l.next),l.prev&&(s.end=l.prev)),s},e.patchPayload=function(t,e){return function(t,e){var n=e.addMemberships,i=e.updateMemberships,l=e.removeMemberships,s=e.spaces,r={};return n&&0<n.length&&(r.add=[],n.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),r.add.push(e)}))),i&&0<i.length&&(r.update=[],i.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),r.update.push(e)}))),s&&0<s.length&&(r.update=r.update||[],s.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),r.update.push(e)}))),l&&0<l.length&&(r.remove=[],l.forEach((function(t){r.remove.push({id:t})}))),r}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateMembershipsOperation},e.validateParams=function(t,e){return e.userId?e.spaces?void 0:"Missing spaces":"Missing userId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.patchURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.usePatch=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.userId)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s={};if(i&&(s.limit=i),n){var r=[];n.totalCount&&(s.count=!0),n.customFields&&r.push("custom"),n.spaceFields&&r.push("space"),n.customSpaceFields&&r.push("space.custom");var o=r.join(",");0<o.length&&(s.include=o)}return l&&(l.next&&(s.start=l.next),l.prev&&(s.end=l.prev)),s},e.patchPayload=function(t,e){return function(t,e){var n=e.spaces,i={};return n&&0<n.length&&(i.add=[],n.forEach((function(t){var e={id:t.id};t.custom&&(e.custom=t.custom),i.add.push(e)}))),i}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNUpdateMembershipsOperation},e.validateParams=function(t,e){return e.userId?e.spaces?void 0:"Missing spaces":"Missing userId"},e.getURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.patchURL=function(t,e){return"/v1/objects/".concat(t.config.subscribeKey,"/users/").concat(e.userId,"/spaces")},e.usePatch=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.getAuthToken=function(t,e){return t.tokenManager.getToken("user",e.userId)||t.tokenManager.getToken("user")},e.prepareParams=function(t,e){var n=e.include,i=e.limit,l=e.page,s={};if(i&&(s.limit=i),n){var r=[];n.totalCount&&(s.count=!0),n.customFields&&r.push("custom"),n.spaceFields&&r.push("space"),n.customSpaceFields&&r.push("space.custom");var o=r.join(",");0<o.length&&(s.include=o)}return l&&(l.next&&(s.start=l.next),l.prev&&(s.end=l.prev)),s},e.patchPayload=function(t,e){return function(t,e){var n=e.spaces,i={};return n&&0<n.length&&(i.remove=[],n.forEach((function(t){i.remove.push({id:t})}))),i}(0,e)},e.handleResponse=function(t,e){return e},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNAccessManagerAudit},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t){return"/v2/auth/audit/sub-key/".concat(t.config.subscribeKey)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!1},e.prepareParams=function(t,e){var n=e.channel,i=e.channelGroup,l=e.authKeys,s=void 0===l?[]:l,r={};return n&&(r.channel=n),i&&(r["channel-group"]=i),0<s.length&&(r.auth=s.join(",")),r},e.handleResponse=function(t,e){return e.payload},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNAccessManagerGrant},e.validateParams=function(t){var e=t.config;return e.subscribeKey?e.publishKey?e.secretKey?void 0:"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},e.getURL=function(t){return"/v2/auth/grant/sub-key/".concat(t.config.subscribeKey)},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!1},e.prepareParams=function(t,e){var n=e.channels,i=void 0===n?[]:n,l=e.channelGroups,s=void 0===l?[]:l,r=e.ttl,o=e.read,a=e.write,u=void 0!==a&&a,c=e.manage,h=void 0!==c&&c,d=e.authKeys,p=void 0===d?[]:d,m=e.delete,g={};return g.r=void 0!==o&&o?"1":"0",g.w=u?"1":"0",g.m=h?"1":"0",g.d=m?"1":"0",0<i.length&&(g.channel=i.join(",")),0<s.length&&(g["channel-group"]=s.join(",")),0<p.length&&(g.auth=p.join(",")),!r&&0!==r||(g.ttl=r),g},e.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return l.default.PNAccessManagerGrantToken},e.extractPermissions=s,e.validateParams=function(t,e){var n=t.config;return n.subscribeKey?n.publishKey?n.secretKey?e.resources||e.patterns?(!e.resources||e.resources.users&&0!==Object.keys(e.resources.users).length||e.resources.spaces&&0!==Object.keys(e.resources.spaces).length)&&(!e.patterns||e.patterns.users&&0!==Object.keys(e.patterns.users).length||e.patterns.spaces&&0!==Object.keys(e.patterns.spaces).length)?void 0:"Missing values for either Resources or Patterns.":"Missing either Resources or Patterns.":"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},e.postURL=function(t){return"/v3/pam/".concat(t.config.subscribeKey,"/grant")},e.usePost=function(){return!0},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!1},e.prepareParams=function(){return{}},e.postPayload=function(t,e){return function(t,e){var n=e.ttl,i=e.resources,l=e.patterns,r=e.meta,o={ttl:0,permissions:{resources:{channels:{},groups:{},users:{},spaces:{}},patterns:{channels:{},groups:{},users:{},spaces:{}},meta:{}}};if(i){var a=i.users,u=i.spaces;a&&Object.keys(a).forEach((function(t){o.permissions.resources.users[t]=s(a[t])})),u&&Object.keys(u).forEach((function(t){o.permissions.resources.spaces[t]=s(u[t])}))}if(l){var c=l.users,h=l.spaces;c&&Object.keys(c).forEach((function(t){o.permissions.patterns.users[t]=s(c[t])})),h&&Object.keys(h).forEach((function(t){o.permissions.patterns.spaces[t]=s(h[t])}))}return!n&&0!==n||(o.ttl=n),r&&(o.permissions.meta=r),o}(0,e)},e.handleResponse=function(t,e){return e.data.token},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i};function s(t){var e=0;return t.create&&(e|=16),t.delete&&(e|=8),t.manage&&(e|=4),t.write&&(e|=2),t.read&&(e|=1),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNPublishOperation},e.validateParams=function(t,e){return e.channel?e.message?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},e.usePost=function(t,e){var n=e.sendByPost;return void 0!==n&&n},e.getURL=function(t,e){var n=t.config,i=e.channel,s=r(t,e.message);return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(l.default.encodeString(i),"/0/").concat(l.default.encodeString(s))},e.postURL=function(t,e){var n=t.config,i=e.channel;return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(l.default.encodeString(i),"/0")},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.postPayload=function(t,e){return r(t,e.message)},e.prepareParams=function(t,e){var n=e.meta,i=e.replicate,l=void 0===i||i,s=e.storeInHistory,r=e.ttl,o={};return null!=s&&(o.store=s?"1":"0"),r&&(o.ttl=r),!1===l&&(o.norep="true"),n&&"object"===function(t){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(n)&&(o.meta=JSON.stringify(n)),o},e.handleResponse=function(t,e){return{timetoken:e[2]}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n=t.crypto,i=t.config,l=JSON.stringify(e);return i.cipherKey&&(l=n.encrypt(l),l=JSON.stringify(l)),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNSignalOperation},e.validateParams=function(t,e){return e.channel?e.message?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},e.getURL=function(t,e){var n=t.config,i=e.channel,s=function(t,e){return JSON.stringify(e)}(0,e.message);return"/signal/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(l.default.encodeString(i),"/0/").concat(l.default.encodeString(s))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(){return{}},e.handleResponse=function(t,e){return{timetoken:e[2]}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNHistoryOperation},e.validateParams=function(t,e){return e.channel?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},e.getURL=function(t,e){var n=e.channel;return"/v2/history/sub-key/".concat(t.config.subscribeKey,"/channel/").concat(l.default.encodeString(n))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.start,i=e.end,l=e.reverse,s=e.count,r=e.stringifiedTimeToken,o=void 0!==r&&r,a=e.includeMeta,u=void 0!==a&&a,c={include_token:"true"};return c.count=void 0===s?100:s,n&&(c.start=n),i&&(c.end=i),o&&(c.string_message_token="true"),null!=l&&(c.reverse=l.toString()),u&&(c.include_meta="true"),c},e.handleResponse=function(t,e){var n={messages:[],startTimeToken:e[1],endTimeToken:e[2]};return Array.isArray(e[0])&&e[0].forEach((function(e){var i={timetoken:e.timetoken,entry:function(t,e){var n=t.crypto;if(!t.config.cipherKey)return e;try{return n.decrypt(e)}catch(t){return e}}(t,e.message)};e.meta&&(i.meta=e.meta),n.messages.push(i)})),n},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNDeleteMessagesOperation},e.validateParams=function(t,e){return e.channel?t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},e.useDelete=function(){return!0},e.getURL=function(t,e){var n=e.channel;return"/v3/history/sub-key/".concat(t.config.subscribeKey,"/channel/").concat(l.default.encodeString(n))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.start,i=e.end,l={};return n&&(l.start=n),i&&(l.end=i),l},e.handleResponse=function(t,e){return e.payload},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNMessageCounts},e.validateParams=function(t,e){var n=e.channels,i=e.timetoken,l=e.channelTimetokens;return n?i&&l?"timetoken and channelTimetokens are incompatible together":i&&l&&1<l.length&&n.length!==l.length?"Length of channelTimetokens and channels do not match":t.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},e.getURL=function(t,e){var n=t.config,i=e.channels.join(",");return"/v3/history/sub-key/".concat(n.subscribeKey,"/message-counts/").concat(l.default.encodeString(i))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.timetoken,i=e.channelTimetokens,l={};if(i&&1===i.length){var s=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],i=!0,l=!1,s=void 0;try{for(var r,o=t[Symbol.iterator]();!(i=(r=o.next()).done)&&(n.push(r.value),1!==n.length);i=!0);}catch(t){l=!0,s=t}finally{try{i||null==o.return||o.return()}finally{if(l)throw s}}return n}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(i)[0];l.timetoken=s}else i?l.channelsTimetoken=i.join(","):n&&(l.timetoken=n);return l},e.handleResponse=function(t,e){return{channels:e.channels}};var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNFetchMessagesOperation},e.validateParams=function(t,e){var n=e.channels,i=e.includeMessageActions;if(!n||0===n.length)return"Missing channels";if(!t.config.subscribeKey)return"Missing Subscribe Key";if(void 0!==i&&i&&1<n.length)throw new TypeError("History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.")},e.getURL=function(t,e){var n=e.channels,i=void 0===n?[]:n,s=e.includeMessageActions,r=t.config,o=void 0!==s&&s?"history-with-actions":"history",a=0<i.length?i.join(","):",";return"/v3/".concat(o,"/sub-key/").concat(r.subscribeKey,"/channel/").concat(l.default.encodeString(a))},e.getRequestTimeout=function(t){return t.config.getTransactionTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.start,i=e.end,l=e.count,s=e.stringifiedTimeToken,r=void 0!==s&&s,o=e.includeMeta,a=void 0!==o&&o,u={};return l&&(u.max=l),n&&(u.start=n),i&&(u.end=i),r&&(u.string_message_token="true"),a&&(u.include_meta="true"),u},e.handleResponse=function(t,e){var n={channels:{}};return Object.keys(e.channels||{}).forEach((function(i){n.channels[i]=[],(e.channels[i]||[]).forEach((function(e){var l={};l.channel=i,l.timetoken=e.timetoken,l.message=function(t,e){var n=t.crypto;if(!t.config.cipherKey)return e;try{return n.decrypt(e)}catch(t){return e}}(t,e.message),e.actions&&(l.actions=e.actions,l.data=e.actions),e.meta&&(l.meta=e.meta),n.channels[i].push(l)}))})),n},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getOperation=function(){return i.default.PNSubscribeOperation},e.validateParams=function(t){if(!t.config.subscribeKey)return"Missing Subscribe Key"},e.getURL=function(t,e){var n=t.config,i=e.channels,s=void 0===i?[]:i,r=0<s.length?s.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(l.default.encodeString(r),"/0")},e.getRequestTimeout=function(t){return t.config.getSubscribeTimeout()},e.isAuthSupported=function(){return!0},e.prepareParams=function(t,e){var n=e.state,i=e.channelGroups,l=void 0===i?[]:i,s=e.timetoken,r=e.filterExpression,o=e.region,a={heartbeat:t.config.getPresenceTimeout()};return 0<l.length&&(a["channel-group"]=l.join(",")),r&&0<r.length&&(a["filter-expr"]=r),Object.keys(n).length&&(a.state=JSON.stringify(n)),s&&(a.tt=s),o&&(a.tr=o),a},e.handleResponse=function(t,e){var n=[];return e.m.forEach((function(t){var e={publishTimetoken:t.p.t,region:t.p.r},i={shard:parseInt(t.a,10),subscriptionMatch:t.b,channel:t.c,messageType:t.e,payload:t.d,flags:t.f,issuingClientId:t.i,subscribeKey:t.k,originationTimetoken:t.o,userMetadata:t.u,publishMetaData:e};n.push(i)})),{messages:n,metadata:{timetoken:e.t.t,region:e.t.r}}},n(0);var i=s(n(1)),l=s(n(2));function s(t){return t&&t.__esModule?t:{default:t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,l(n(3));var i=l(n(4));function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(0);var r,o=((r=[{key:"init",value:function(t){this._config=t,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(this._config.secure?"https://":"http://")+this._config.origin,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){return this._providedFQDN.match(/ps\.pndsn\.com$/i)?(this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),t=this._currentSubDomain.toString(),this._providedFQDN.replace("ps.pndsn.com","ps".concat(t,".pndsn.com"))):this._providedFQDN;var t}},{key:"hasModule",value:function(t){return t in this._modules}},{key:"shiftStandardOrigin",value:function(){return this._standardOrigin=this.nextOrigin(),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"POST",value:function(t,e,n,i){return this._modules.post(t,e,n,i)}},{key:"PATCH",value:function(t,e,n,i){return this._modules.patch(t,e,n,i)}},{key:"GET",value:function(t,e,n){return this._modules.get(t,e,n)}},{key:"DELETE",value:function(t,e,n){return this._modules.del(t,e,n)}},{key:"_detectErrorCategory",value:function(t){if("ENOTFOUND"===t.code)return i.default.PNNetworkIssuesCategory;if("ECONNREFUSED"===t.code)return i.default.PNNetworkIssuesCategory;if("ECONNRESET"===t.code)return i.default.PNNetworkIssuesCategory;if("EAI_AGAIN"===t.code)return i.default.PNNetworkIssuesCategory;if(0===t.status||t.hasOwnProperty("status")&&void 0===t.status)return i.default.PNNetworkIssuesCategory;if(t.timeout)return i.default.PNTimeoutCategory;if("ETIMEDOUT"===t.code)return i.default.PNNetworkIssuesCategory;if(t.response){if(t.response.badRequest)return i.default.PNBadRequestCategory;if(t.response.forbidden)return i.default.PNAccessDeniedCategory}return i.default.PNUnknownCategory}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(a.prototype,r),a);function a(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),s(this,"_modules",void 0),s(this,"_config",void 0),s(this,"_maxSubDomain",void 0),s(this,"_currentSubDomain",void 0),s(this,"_standardOrigin",void 0),s(this,"_subscribeOrigin",void 0),s(this,"_providedFQDN",void 0),s(this,"_requestTimeout",void 0),s(this,"_coreParams",void 0),this._modules={},Object.keys(t).forEach((function(n){e._modules[n]=t[n].bind(e)}))}e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default={get:function(t){try{return localStorage.getItem(t)}catch(t){return null}},set:function(t,e){try{return localStorage.setItem(t,e)}catch(t){return null}}},t.exports=e.default},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r=((s=[{key:"decodeToken",value:function(t){var e="";t.length%4==3?e="=":t.length%4==2&&(e="==");var n=t.replace(/-/gi,"+").replace(/_/gi,"/")+e,l=this._decode(this._base64ToBinary(n));if("object"===i(l))return l}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(o.prototype,s),o);function o(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),l(this,"_base64ToBinary",void 0),l(this,"_cborReader",void 0),this._base64ToBinary=e,this._decode=t}e.default=r,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=function(t,e,n){var i=l.default.get(this.getStandardOrigin()+e.url).set(e.headers).query(t);return r.call(this,i,e,n)},e.post=function(t,e,n,i){var s=l.default.post(this.getStandardOrigin()+n.url).query(t).set(n.headers).send(e);return r.call(this,s,n,i)},e.patch=function(t,e,n,i){var s=l.default.patch(this.getStandardOrigin()+n.url).query(t).set(n.headers).send(e);return r.call(this,s,n,i)},e.del=function(t,e,n){var i=l.default.delete(this.getStandardOrigin()+e.url).set(e.headers).query(t);return r.call(this,i,e,n)};var i,l=(i=n(72))&&i.__esModule?i:{default:i};function s(t){var e=(new Date).getTime(),n=(new Date).toISOString(),i=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;i.log("<<<<<"),i.log("[".concat(n,"]"),"\n",t.url,"\n",t.qs),i.log("-----"),t.on("response",(function(n){var l=(new Date).getTime()-e,s=(new Date).toISOString();i.log(">>>>>>"),i.log("[".concat(s," / ").concat(l,"]"),"\n",t.url,"\n",t.qs,"\n",n.text),i.log("-----")}))}function r(t,e,n){var i=this;return this._config.logVerbosity&&(t=t.use(s)),this._config.proxy&&this._modules.proxy&&(t=this._modules.proxy.call(this,t)),this._config.keepAlive&&this._modules.keepAlive&&(t=this._modules.keepAlive(t)),t.timeout(e.timeout).end((function(t,l){var s,r={};if(r.error=null!==t,r.operation=e.operation,l&&l.status&&(r.statusCode=l.status),t){if(t.response&&t.response.text&&!i._config.logVerbosity)try{r.errorData=JSON.parse(t.response.text)}catch(s){r.errorData=t}else r.errorData=t;return r.category=i._detectErrorCategory(t),n(r,null)}try{s=JSON.parse(l.text)}catch(s){return r.errorData=l,r.error=!0,n(r,null)}return s.error&&1===s.error&&s.status&&s.message&&s.service?(r.errorData=s,r.statusCode=s.status,r.error=!0,r.category=i._detectErrorCategory(r),n(r,null)):(s.error&&s.error.message&&(r.errorData=s.error),n(r,s))}))}n(0)},function(t,e,n){var i;i="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this);var l=n(73),s=n(74),r=n(10),o=n(75),a=n(77);function u(){}var c=e=t.exports=function(t,n){return"function"==typeof n?new e.Request("GET",t).end(n):1==arguments.length?new e.Request("GET",t):new e.Request(t,n)};e.Request=b,c.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}throw Error("Browser-only version of superagent could not find XHR")};var h="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};function d(t){if(!r(t))return t;var e=[];for(var n in t)p(e,n,t[n]);return e.join("&")}function p(t,e,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){p(t,e,n)}));else if(r(n))for(var i in n)p(t,e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));else null===n&&t.push(encodeURIComponent(e))}function m(t){for(var e,n,i={},l=t.split("&"),s=0,r=l.length;s<r;++s)-1==(n=(e=l[s]).indexOf("="))?i[decodeURIComponent(e)]="":i[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return i}function g(t){return/[\/+]json($|[^-\w])/.test(t)}function f(t){this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var e=this.xhr.status;1223===e&&(e=204),this._setStatusProperties(e),this.header=this.headers=function(t){for(var e,n,i,l,s=t.split(/\r?\n/),r={},o=0,a=s.length;o<a;++o)-1!==(e=(n=s[o]).indexOf(":"))&&(i=n.slice(0,e).toLowerCase(),l=h(n.slice(e+1)),r[i]=l);return r}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body=null===this.text&&t._responseType?this.xhr.response:"HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function b(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",(function(){var t,e=null,i=null;try{i=new f(n)}catch(i){return(e=new Error("Parser is unable to parse the response")).parse=!0,e.original=i,n.xhr?(e.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",i);try{n._isResponseOK(i)||(t=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(i){t=i}t?(t.original=e,t.response=i,t.status=i.status,n.callback(t,i)):n.callback(null,i)}))}function v(t,e,n){var i=c("DELETE",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}c.serializeObject=d,c.parseString=m,c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":m,"application/json":JSON.parse},o(f.prototype),f.prototype._parseBody=function(t){var e=c.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&g(this.type)&&(e=c.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null)},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,i=new Error("cannot "+e+" "+n+" ("+this.status+")");return i.status=this.status,i.method=e,i.url=n,i},c.Response=f,l(b.prototype),s(b.prototype),b.prototype.type=function(t){return this.set("Content-Type",c.types[t]||t),this},b.prototype.accept=function(t){return this.set("Accept",c.types[t]||t),this},b.prototype.auth=function(t,e,n){return 1===arguments.length&&(e=""),"object"==typeof e&&null!==e&&(n=e,e=""),n=n||{type:"function"==typeof btoa?"basic":"auto"},this._auth(t,e,n,(function(t){if("function"==typeof btoa)return btoa(t);throw new Error("Cannot use basic auth, btoa is not a function")}))},b.prototype.query=function(t){return"string"!=typeof t&&(t=d(t)),t&&this._query.push(t),this},b.prototype.attach=function(t,e,n){if(e){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,n||e.name)}return this},b.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},b.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();var n=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),n(t,e)},b.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},b.prototype.buffer=b.prototype.ca=b.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},b.prototype.pipe=b.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},b.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&"[object Object]"!==Object.prototype.toString.call(t)},b.prototype.end=function(t){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||u,this._finalizeQueryString(),this._end()},b.prototype._end=function(){var t=this,e=this.xhr=c.getXHR(),n=this._formData||this._data;function i(e,n){0<n.total&&(n.percent=n.loaded/n.total*100),n.direction=e,t.emit("progress",n)}if(this._setTimeouts(),e.onreadystatechange=function(){var n=e.readyState;if(2<=n&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),4==n){var i;try{i=e.status}catch(n){i=0}if(!i){if(t.timedout||t._aborted)return;return t.crossDomainError()}t.emit("end")}},this.hasListeners("progress"))try{e.onprogress=i.bind(null,"download"),e.upload&&(e.upload.onprogress=i.bind(null,"upload"))}catch(n){}try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(n){return this.callback(n)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var l=this._header["content-type"],s=this._serializer||c.serialize[l?l.split(";")[0]:""];!s&&g(l)&&(s=c.serialize["application/json"]),s&&(n=s(n))}for(var r in this.header)null!=this.header[r]&&this.header.hasOwnProperty(r)&&e.setRequestHeader(r,this.header[r]);return this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(void 0!==n?n:null),this},c.agent=function(){return new a},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(t){a.prototype[t.toLowerCase()]=function(e,n){var i=new c.Request(t,e);return this._setDefaults(i),n&&i.end(n),i}})),a.prototype.del=a.prototype.delete,c.get=function(t,e,n){var i=c("GET",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},c.head=function(t,e,n){var i=c("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&i.query(e),n&&i.end(n),i},c.options=function(t,e,n){var i=c("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},c.del=v,c.delete=v,c.patch=function(t,e,n){var i=c("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},c.post=function(t,e,n){var i=c("POST",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i},c.put=function(t,e,n){var i=c("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&i.send(e),n&&i.end(n),i}},function(t,e,n){function i(t){if(t)return function(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}(t)}(t.exports=i).prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var l=0;l<i.length;l++)if((n=i[l])===e||n.fn===e){i.splice(l,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var l=(n=n.slice(0)).length;i<l;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){"use strict";var i=n(10);function l(t){if(t)return function(t){for(var e in l.prototype)t[e]=l.prototype[e];return t}(t)}(t.exports=l).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},l.prototype.parse=function(t){return this._parser=t,this},l.prototype.responseType=function(t){return this._responseType=t,this},l.prototype.serialize=function(t){return this._serializer=t,this},l.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var e in t)switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",e)}return this},l.prototype.retry=function(t,e){return 0!==arguments.length&&!0!==t||(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var s=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];l.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(t,e);if(!0===n)return!0;if(!1===n)return!1}catch(t){console.error(t)}if(e&&e.status&&500<=e.status&&501!=e.status)return!0;if(t){if(t.code&&~s.indexOf(t.code))return!0;if(t.timeout&&"ECONNABORTED"==t.code)return!0;if(t.crossDomain)return!0}return!1},l.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},l.prototype.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(t,e){n.end((function(n,i){n?e(n):t(i)}))}))}return this._fullfilledPromise.then(t,e)},l.prototype.catch=function(t){return this.then(void 0,t)},l.prototype.use=function(t){return t(this),this},l.prototype.ok=function(t){if("function"!=typeof t)throw Error("Callback required");return this._okCallback=t,this},l.prototype._isResponseOK=function(t){return!!t&&(this._okCallback?this._okCallback(t):200<=t.status&&t.status<300)},l.prototype.getHeader=l.prototype.get=function(t){return this._header[t.toLowerCase()]},l.prototype.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},l.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},l.prototype.field=function(t,e){if(null==t)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(t)){for(var n in t)this.field(n,t[n]);return this}if(Array.isArray(e)){for(var l in e)this.field(t,e[l]);return this}if(null==e)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof e&&(e=""+e),this._getFormData().append(t,e),this},l.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},l.prototype._auth=function(t,e,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(t+":"+e));break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization","Bearer "+t)}return this},l.prototype.withCredentials=function(t){return null==t&&(t=!0),this._withCredentials=t,this},l.prototype.redirects=function(t){return this._maxRedirects=t,this},l.prototype.maxResponseSize=function(t){if("number"!=typeof t)throw TypeError("Invalid argument");return this._maxResponseSize=t,this},l.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},l.prototype.send=function(t){var e=i(t),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(e&&i(this._data))for(var l in t)this._data[l]=t[l];else"string"==typeof t?(n||this.type("form"),this._data="application/x-www-form-urlencoded"==(n=this._header["content-type"])?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||this._isHost(t)||n||this.type("json"),this},l.prototype.sortQuery=function(t){return this._sort=void 0===t||t,this},l.prototype._finalizeQueryString=function(){var t=this._query.join("&");if(t&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+t),this._query.length=0,this._sort){var e=this.url.indexOf("?");if(0<=e){var n=this.url.substring(e+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,e)+"?"+n.join("&")}}},l.prototype._appendQueryString=function(){console.trace("Unsupported")},l.prototype._timeoutError=function(t,e,n){if(!this._aborted){var i=new Error(t+e+"ms exceeded");i.timeout=e,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},l.prototype._setTimeouts=function(){var t=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){t._timeoutError("Timeout of ",t._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(t,e,n){"use strict";var i=n(76);function l(t){if(t)return function(t){for(var e in l.prototype)t[e]=l.prototype[e];return t}(t)}(t.exports=l).prototype.get=function(t){return this.header[t.toLowerCase()]},l.prototype._setHeaderProperties=function(t){var e=t["content-type"]||"";this.type=i.type(e);var n=i.params(e);for(var l in n)this[l]=n[l];this.links={};try{t.link&&(this.links=i.parseLinks(t.link))}catch(t){}},l.prototype._setStatusProperties=function(t){var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.redirect=3==e,this.clientError=4==e,this.serverError=5==e,this.error=(4==e||5==e)&&this.toError(),this.created=201==t,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.forbidden=403==t,this.notFound=404==t,this.unprocessableEntity=422==t}},function(t,e,n){"use strict";e.type=function(t){return t.split(/ *; */).shift()},e.params=function(t){return t.split(/ *; */).reduce((function(t,e){var n=e.split(/ *= */),i=n.shift(),l=n.shift();return i&&l&&(t[i]=l),t}),{})},e.parseLinks=function(t){return t.split(/ *, */).reduce((function(t,e){var n=e.split(/ *; */),i=n[0].slice(1,-1);return t[n[1].split(/ *= */)[1].slice(1,-1)]=i,t}),{})},e.cleanHeader=function(t,e){return delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t}},function(t,e){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(t){n.prototype[t]=function(){return this._defaults.push({fn:t,arguments}),this}})),n.prototype._setDefaults=function(t){this._defaults.forEach((function(e){t[e.fn].apply(t,e.arguments)}))},t.exports=n}],t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var l in e)t.d(i,l,(function(t){return e[t]}).bind(null,l));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=11);function t(i){if(n[i])return n[i].exports;var l=n[i]={i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var e,n}()},sayU:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PubNubAngular=void 0;var i=s(n("rtfF")),l=s(n("Dcaw"));function s(t){return t&&t.__esModule?t:{default:t}}e.PubNubAngular=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i.default))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(l.default)},"wSl+":function(t,e,n){var i;t.exports=function t(e,n,l){function s(o,a){if(!n[o]){if(!e[o]){if(!a&&"function"==typeof i&&i)return i(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};e[o][0].call(c.exports,(function(t){return s(e[o][1][t]||t)}),c,c.exports,t,e,n,l)}return n[o].exports}for(var r="function"==typeof i&&i,o=0;o<l.length;o++)s(l[o]);return s}({1:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)l(n,i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,n,i,l){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),l);else for(var s=0;s<i;s++)t[l+s]=e[n+s]},flattenChunks:function(t){var e,n,i,l,s,r;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(r=new Uint8Array(i),l=0,e=0,n=t.length;e<n;e++)r.set(s=t[e],l),l+=s.length;return r}},r={arraySet:function(t,e,n,i,l){for(var s=0;s<i;s++)t[l+s]=e[n+s]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],2:[function(t,e,n){"use strict";var i=t("./common"),l=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(u){l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){s=!1}for(var r=new i.Buf8(256),o=0;o<256;o++)r[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function a(t,e){if(e<65534&&(t.subarray&&s||!t.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}r[254]=r[254]=1,n.string2buf=function(t){var e,n,l,s,r,o=t.length,a=0;for(s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(l=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(l-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(a),r=0,s=0;r<a;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(l=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(l-56320),s++),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|63&n):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|63&n):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|63&n);return e},n.buf2binstring=function(t){return a(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,l=e.length;n<l;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,l,s,o=e||t.length,u=new Array(2*o);for(i=0,n=0;n<o;)if((l=t[n++])<128)u[i++]=l;else if((s=r[l])>4)u[i++]=65533,n+=s-1;else{for(l&=2===s?31:3===s?15:7;s>1&&n<o;)l=l<<6|63&t[n++],s--;s>1?u[i++]=65533:l<65536?u[i++]=l:(u[i++]=55296|(l-=65536)>>10&1023,u[i++]=56320|1023&l)}return a(u,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+r[t[n]]>e?n:e}},{"./common":1}],3:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){for(var l=65535&t|0,s=t>>>16&65535|0,r=0;0!==n;){n-=r=n>2e3?2e3:n;do{s=s+(l=l+e[i++]|0)|0}while(--r);l%=65521,s%=65521}return l|s<<16|0}},{}],4:[function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,l){var s=i,r=l+n;t^=-1;for(var o=l;o<r;o++)t=t>>>8^s[255&(t^e[o])];return-1^t}},{}],5:[function(t,e,n){"use strict";var i,l=t("../utils/common"),s=t("./trees"),r=t("./adler32"),o=t("./crc32"),a=t("./messages"),u=0,c=4,h=0,d=-2,p=-1,m=1,g=4,f=2,b=8,v=9,y=286,w=30,x=19,k=2*y+1,_=15,C=3,T=258,S=T+C+1,M=42,P=113,A=1,E=2,I=3,D=4;function O(t,e){return t.msg=a[e],e}function F(t){return(t<<1)-(t>4?9:0)}function N(t){for(var e=t.length;--e>=0;)t[e]=0}function R(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(l.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function L(t,e){s._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,R(t.strm)}function B(t,e){t.pending_buf[t.pending++]=e}function V(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function z(t,e){var n,i,l=t.max_chain_length,s=t.strstart,r=t.prev_length,o=t.nice_match,a=t.strstart>t.w_size-S?t.strstart-(t.w_size-S):0,u=t.window,c=t.w_mask,h=t.prev,d=t.strstart+T,p=u[s+r-1],m=u[s+r];t.prev_length>=t.good_match&&(l>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(n=e)+r]===m&&u[n+r-1]===p&&u[n]===u[s]&&u[++n]===u[s+1]){s+=2,n++;do{}while(u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&u[++s]===u[++n]&&s<d);if(i=T-(d-s),s=d-T,i>r){if(t.match_start=e,r=i,i>=o)break;p=u[s+r-1],m=u[s+r]}}}while((e=h[e&c])>a&&0!=--l);return r<=t.lookahead?r:t.lookahead}function j(t){var e,n,i,s,a,u,c,h,d,p,m=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=m+(m-S)){l.arraySet(t.window,t.window,m,m,0),t.match_start-=m,t.strstart-=m,t.block_start-=m,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=m?i-m:0}while(--n);e=n=m;do{i=t.prev[--e],t.prev[e]=i>=m?i-m:0}while(--n);s+=m}if(0===t.strm.avail_in)break;if(c=t.window,h=t.strstart+t.lookahead,p=void 0,(p=(u=t.strm).avail_in)>(d=s)&&(p=d),n=0===p?0:(u.avail_in-=p,l.arraySet(c,u.input,u.next_in,p,h),1===u.state.wrap?u.adler=r(u.adler,c,p,h):2===u.state.wrap&&(u.adler=o(u.adler,c,p,h)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=C)for(t.ins_h=t.window[a=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+C-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<S&&0!==t.strm.avail_in)}function H(t,e){for(var n,i;;){if(t.lookahead<S){if(j(t),t.lookahead<S&&e===u)return A;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-S&&(t.match_length=z(t,n)),t.match_length>=C)if(i=s._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(L(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<C-1?t.strstart:C-1,e===c?(L(t,!0),0===t.strm.avail_out?I:D):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?A:E}function W(t,e){for(var n,i,l;;){if(t.lookahead<S){if(j(t),t.lookahead<S&&e===u)return A;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-S&&(t.match_length=z(t,n),t.match_length<=5&&(t.strategy===m||t.match_length===C&&t.strstart-t.match_start>4096)&&(t.match_length=C-1)),t.prev_length>=C&&t.match_length<=t.prev_length){l=t.strstart+t.lookahead-C,i=s._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=l&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=C-1,t.strstart++,i&&(L(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=s._tr_tally(t,0,t.window[t.strstart-1]))&&L(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=s._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===c?(L(t,!0),0===t.strm.avail_out?I:D):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?A:E}function U(t,e,n,i,l){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=l}function $(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*k),this.dyn_dtree=new l.Buf16(2*(2*w+1)),this.bl_tree=new l.Buf16(2*(2*x+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(_+1),this.heap=new l.Buf16(2*y+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*y+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=f,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?M:P,t.adler=2===e.wrap?0:1,e.last_flush=u,s._tr_init(e),h):O(t,d)}function q(t){var e,n=Y(t);return n===h&&((e=t.state).window_size=2*e.w_size,N(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=C-1,e.match_available=0,e.ins_h=0),n}function G(t,e,n,i,s,r){if(!t)return d;var o=1;if(e===p&&(e=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),s<1||s>v||n!==b||i<8||i>15||e<0||e>9||r<0||r>g)return O(t,d);8===i&&(i=9);var a=new $;return t.state=a,a.strm=t,a.wrap=o,a.gzhead=null,a.w_bits=i,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+C-1)/C),a.window=new l.Buf8(2*a.w_size),a.head=new l.Buf16(a.hash_size),a.prev=new l.Buf16(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new l.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=r,a.method=n,q(t)}i=[new U(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===u)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,L(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-S&&(L(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===c?(L(t,!0),0===t.strm.avail_out?I:D):(t.strstart>t.block_start&&L(t,!1),A)})),new U(4,4,8,4,H),new U(4,5,16,8,H),new U(4,6,32,32,H),new U(4,4,16,16,W),new U(8,16,32,32,W),new U(8,16,128,128,W),new U(8,32,128,256,W),new U(32,128,258,1024,W),new U(32,258,258,4096,W)],n.deflateInit=function(t,e){return G(t,e,b,15,8,0)},n.deflateInit2=G,n.deflateReset=q,n.deflateResetKeep=Y,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?d:(t.state.gzhead=e,h):d},n.deflate=function(t,e){var n,l,r,a;if(!t||!t.state||e>5||e<0)return t?O(t,d):d;if(l=t.state,!t.output||!t.input&&0!==t.avail_in||666===l.status&&e!==c)return O(t,0===t.avail_out?-5:d);if(l.strm=t,n=l.last_flush,l.last_flush=e,l.status===M)if(2===l.wrap)t.adler=0,B(l,31),B(l,139),B(l,8),l.gzhead?(B(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),B(l,255&l.gzhead.time),B(l,l.gzhead.time>>8&255),B(l,l.gzhead.time>>16&255),B(l,l.gzhead.time>>24&255),B(l,9===l.level?2:l.strategy>=2||l.level<2?4:0),B(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(B(l,255&l.gzhead.extra.length),B(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(t.adler=o(t.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(B(l,0),B(l,0),B(l,0),B(l,0),B(l,0),B(l,9===l.level?2:l.strategy>=2||l.level<2?4:0),B(l,3),l.status=P);else{var p=b+(l.w_bits-8<<4)<<8;p|=(l.strategy>=2||l.level<2?0:l.level<6?1:6===l.level?2:3)<<6,0!==l.strstart&&(p|=32),p+=31-p%31,l.status=P,V(l,p),0!==l.strstart&&(V(l,t.adler>>>16),V(l,65535&t.adler)),t.adler=1}if(69===l.status)if(l.gzhead.extra){for(r=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>r&&(t.adler=o(t.adler,l.pending_buf,l.pending-r,r)),R(t),r=l.pending,l.pending!==l.pending_buf_size));)B(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>r&&(t.adler=o(t.adler,l.pending_buf,l.pending-r,r)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(73===l.status)if(l.gzhead.name){r=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>r&&(t.adler=o(t.adler,l.pending_buf,l.pending-r,r)),R(t),r=l.pending,l.pending===l.pending_buf_size)){a=1;break}a=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,B(l,a)}while(0!==a);l.gzhead.hcrc&&l.pending>r&&(t.adler=o(t.adler,l.pending_buf,l.pending-r,r)),0===a&&(l.gzindex=0,l.status=91)}else l.status=91;if(91===l.status)if(l.gzhead.comment){r=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>r&&(t.adler=o(t.adler,l.pending_buf,l.pending-r,r)),R(t),r=l.pending,l.pending===l.pending_buf_size)){a=1;break}a=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,B(l,a)}while(0!==a);l.gzhead.hcrc&&l.pending>r&&(t.adler=o(t.adler,l.pending_buf,l.pending-r,r)),0===a&&(l.status=103)}else l.status=103;if(103===l.status&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&R(t),l.pending+2<=l.pending_buf_size&&(B(l,255&t.adler),B(l,t.adler>>8&255),t.adler=0,l.status=P)):l.status=P),0!==l.pending){if(R(t),0===t.avail_out)return l.last_flush=-1,h}else if(0===t.avail_in&&F(e)<=F(n)&&e!==c)return O(t,-5);if(666===l.status&&0!==t.avail_in)return O(t,-5);if(0!==t.avail_in||0!==l.lookahead||e!==u&&666!==l.status){var m=2===l.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===u)return A;break}if(t.match_length=0,n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(L(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===c?(L(t,!0),0===t.strm.avail_out?I:D):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?A:E}(l,e):3===l.strategy?function(t,e){for(var n,i,l,r,o=t.window;;){if(t.lookahead<=T){if(j(t),t.lookahead<=T&&e===u)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&t.strstart>0&&(i=o[l=t.strstart-1])===o[++l]&&i===o[++l]&&i===o[++l]){r=t.strstart+T;do{}while(i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&l<r);t.match_length=T-(r-l),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(n=s._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=s._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(L(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===c?(L(t,!0),0===t.strm.avail_out?I:D):t.last_lit&&(L(t,!1),0===t.strm.avail_out)?A:E}(l,e):i[l.level].func(l,e);if(m!==I&&m!==D||(l.status=666),m===A||m===I)return 0===t.avail_out&&(l.last_flush=-1),h;if(m===E&&(1===e?s._tr_align(l):5!==e&&(s._tr_stored_block(l,0,0,!1),3===e&&(N(l.head),0===l.lookahead&&(l.strstart=0,l.block_start=0,l.insert=0))),R(t),0===t.avail_out))return l.last_flush=-1,h}return e!==c?h:l.wrap<=0?1:(2===l.wrap?(B(l,255&t.adler),B(l,t.adler>>8&255),B(l,t.adler>>16&255),B(l,t.adler>>24&255),B(l,255&t.total_in),B(l,t.total_in>>8&255),B(l,t.total_in>>16&255),B(l,t.total_in>>24&255)):(V(l,t.adler>>>16),V(l,65535&t.adler)),R(t),l.wrap>0&&(l.wrap=-l.wrap),0!==l.pending?h:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==M&&69!==e&&73!==e&&91!==e&&103!==e&&e!==P&&666!==e?O(t,d):(t.state=null,e===P?O(t,-3):h):d},n.deflateSetDictionary=function(t,e){var n,i,s,o,a,u,c,p,m=e.length;if(!t||!t.state)return d;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==M||n.lookahead)return d;for(1===o&&(t.adler=r(t.adler,e,m,0)),n.wrap=0,m>=n.w_size&&(0===o&&(N(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new l.Buf8(n.w_size),l.arraySet(p,e,m-n.w_size,n.w_size,0),e=p,m=n.w_size),a=t.avail_in,u=t.next_in,c=t.input,t.avail_in=m,t.next_in=0,t.input=e,j(n);n.lookahead>=C;){i=n.strstart,s=n.lookahead-(C-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+C-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--s);n.strstart=i,n.lookahead=C-1,j(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=a,n.wrap=o,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(t,e,n){"use strict";var i=t("../utils/common");function l(t){for(var e=t.length;--e>=0;)t[e]=0}var s=0,r=256,o=r+1+29,a=30,u=19,c=2*o+1,h=15,d=16,p=256,m=16,g=17,f=18,b=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],v=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],w=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(o+2));l(x);var k=new Array(2*a);l(k);var _=new Array(512);l(_);var C=new Array(256);l(C);var T=new Array(29);l(T);var S,M,P,A=new Array(a);function E(t,e,n,i,l){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=l,this.has_stree=t&&t.length}function I(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function D(t){return t<256?_[t]:_[256+(t>>>7)]}function O(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function F(t,e,n){t.bi_valid>d-n?(t.bi_buf|=e<<t.bi_valid&65535,O(t,t.bi_buf),t.bi_buf=e>>d-t.bi_valid,t.bi_valid+=n-d):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function N(t,e,n){F(t,n[2*e],n[2*e+1])}function R(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function L(t,e,n){var i,l,s=new Array(h+1),r=0;for(i=1;i<=h;i++)s[i]=r=r+n[i-1]<<1;for(l=0;l<=e;l++){var o=t[2*l+1];0!==o&&(t[2*l]=R(s[o]++,o))}}function B(t){var e;for(e=0;e<o;e++)t.dyn_ltree[2*e]=0;for(e=0;e<a;e++)t.dyn_dtree[2*e]=0;for(e=0;e<u;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*p]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function V(t){t.bi_valid>8?O(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function z(t,e,n,i){var l=2*e,s=2*n;return t[l]<t[s]||t[l]===t[s]&&i[e]<=i[n]}function j(t,e,n){for(var i=t.heap[n],l=n<<1;l<=t.heap_len&&(l<t.heap_len&&z(e,t.heap[l+1],t.heap[l],t.depth)&&l++,!z(e,i,t.heap[l],t.depth));)t.heap[n]=t.heap[l],n=l,l<<=1;t.heap[n]=i}function H(t,e,n){var i,l,s,o,a=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],l=t.pending_buf[t.l_buf+a],a++,0===i?N(t,l,e):(N(t,(s=C[l])+r+1,e),0!==(o=b[s])&&F(t,l-=T[s],o),N(t,s=D(--i),n),0!==(o=v[s])&&F(t,i-=A[s],o))}while(a<t.last_lit);N(t,p,e)}function W(t,e){var n,i,l,s=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=c,n=0;n<a;n++)0!==s[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):s[2*n+1]=0;for(;t.heap_len<2;)s[2*(l=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[l]=0,t.opt_len--,o&&(t.static_len-=r[2*l+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)j(t,s,n);l=a;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],j(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,s[2*l]=s[2*n]+s[2*i],t.depth[l]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,s[2*n+1]=s[2*i+1]=l,t.heap[1]=l++,j(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,l,s,r,o,a=e.dyn_tree,u=e.max_code,d=e.stat_desc.static_tree,p=e.stat_desc.has_stree,m=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,f=e.stat_desc.max_length,b=0;for(s=0;s<=h;s++)t.bl_count[s]=0;for(a[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<c;n++)(s=a[2*a[2*(i=t.heap[n])+1]+1]+1)>f&&(s=f,b++),a[2*i+1]=s,i>u||(t.bl_count[s]++,r=0,i>=g&&(r=m[i-g]),t.opt_len+=(o=a[2*i])*(s+r),p&&(t.static_len+=o*(d[2*i+1]+r)));if(0!==b){do{for(s=f-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[f]--,b-=2}while(b>0);for(s=f;0!==s;s--)for(i=t.bl_count[s];0!==i;)(l=t.heap[--n])>u||(a[2*l+1]!==s&&(t.opt_len+=(s-a[2*l+1])*a[2*l],a[2*l+1]=s),i--)}}(t,e),L(s,u,t.bl_count)}function U(t,e,n){var i,l,s=-1,r=e[1],o=0,a=7,u=4;for(0===r&&(a=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)l=r,r=e[2*(i+1)+1],++o<a&&l===r||(o<u?t.bl_tree[2*l]+=o:0!==l?(l!==s&&t.bl_tree[2*l]++,t.bl_tree[2*m]++):o<=10?t.bl_tree[2*g]++:t.bl_tree[2*f]++,o=0,s=l,0===r?(a=138,u=3):l===r?(a=6,u=3):(a=7,u=4))}function $(t,e,n){var i,l,s=-1,r=e[1],o=0,a=7,u=4;for(0===r&&(a=138,u=3),i=0;i<=n;i++)if(l=r,r=e[2*(i+1)+1],!(++o<a&&l===r)){if(o<u)do{N(t,l,t.bl_tree)}while(0!=--o);else 0!==l?(l!==s&&(N(t,l,t.bl_tree),o--),N(t,m,t.bl_tree),F(t,o-3,2)):o<=10?(N(t,g,t.bl_tree),F(t,o-3,3)):(N(t,f,t.bl_tree),F(t,o-11,7));o=0,s=l,0===r?(a=138,u=3):l===r?(a=6,u=3):(a=7,u=4)}}l(A);var Y=!1;function q(t,e,n,l){F(t,(s<<1)+(l?1:0),3),function(t,e,n,l){V(t),O(t,n),O(t,~n),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}n._tr_init=function(t){Y||(function(){var t,e,n,i,l,s=new Array(h+1);for(n=0,i=0;i<28;i++)for(T[i]=n,t=0;t<1<<b[i];t++)C[n++]=i;for(C[n-1]=i,l=0,i=0;i<16;i++)for(A[i]=l,t=0;t<1<<v[i];t++)_[l++]=i;for(l>>=7;i<a;i++)for(A[i]=l<<7,t=0;t<1<<v[i]-7;t++)_[256+l++]=i;for(e=0;e<=h;e++)s[e]=0;for(t=0;t<=143;)x[2*t+1]=8,t++,s[8]++;for(;t<=255;)x[2*t+1]=9,t++,s[9]++;for(;t<=279;)x[2*t+1]=7,t++,s[7]++;for(;t<=287;)x[2*t+1]=8,t++,s[8]++;for(L(x,o+1,s),t=0;t<a;t++)k[2*t+1]=5,k[2*t]=R(t,5);S=new E(x,b,r+1,o,h),M=new E(k,v,0,a,h),P=new E(new Array(0),y,0,u,7)}(),Y=!0),t.l_desc=new I(t.dyn_ltree,S),t.d_desc=new I(t.dyn_dtree,M),t.bl_desc=new I(t.bl_tree,P),t.bi_buf=0,t.bi_valid=0,B(t)},n._tr_stored_block=q,n._tr_flush_block=function(t,e,n,i){var l,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),W(t,t.l_desc),W(t,t.d_desc),o=function(t){var e;for(U(t,t.dyn_ltree,t.l_desc.max_code),U(t,t.dyn_dtree,t.d_desc.max_code),W(t,t.bl_desc),e=u-1;e>=3&&0===t.bl_tree[2*w[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(s=t.static_len+3+7>>>3)<=(l=t.opt_len+3+7>>>3)&&(l=s)):l=s=n+5,n+4<=l&&-1!==e?q(t,e,n,i):4===t.strategy||s===l?(F(t,2+(i?1:0),3),H(t,x,k)):(F(t,4+(i?1:0),3),function(t,e,n,i){var l;for(F(t,e-257,5),F(t,n-1,5),F(t,i-4,4),l=0;l<i;l++)F(t,t.bl_tree[2*w[l]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),H(t,t.dyn_ltree,t.dyn_dtree)),B(t),i&&V(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(C[n]+r+1)]++,t.dyn_dtree[2*D(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){F(t,2,3),N(t,p,x),function(t){16===t.bi_valid?(O(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":1}],8:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(t,e,n){"use strict";var i=t("./zlib/deflate"),l=t("./utils/common"),s=t("./utils/strings"),r=t("./zlib/messages"),o=t("./zlib/zstream"),a=Object.prototype.toString,u=0,c=-1,h=0,d=8;function p(t){if(!(this instanceof p))return new p(t);this.options=l.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==u)throw new Error(r[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var m;if(m="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===a.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,m))!==u)throw new Error(r[n]);this._dict_set=!0}}function m(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||r[n.err];return n.result}p.prototype.push=function(t,e){var n,r,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,o.input="string"==typeof t?s.string2buf(t):"[object ArrayBuffer]"===a.call(t)?new Uint8Array(t):t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new l.Buf8(c),o.next_out=0,o.avail_out=c),1!==(n=i.deflate(o,r))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||this.onData("string"===this.options.to?s.buf2binstring(l.shrinkBuf(o.output,o.next_out)):l.shrinkBuf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===r?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==r||(this.onEnd(u),o.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===u&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=p,n.deflate=m,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,m(t,e)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},xutz:function(t,e,n){"use strict";(function(t){var i=n("XqMk"),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=l&&"object"==typeof t&&t&&!t.nodeType&&t,r=s&&s.exports===l&&i.a.process,o=function(){try{return s&&s.require&&s.require("util").types||r&&r.binding&&r.binding("util")}catch(t){}}();e.a=o}).call(this,n("3UD+")(t))},zUnb:function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"byMonth",(function(){return II})),n.d(i,"byMonthDay",(function(){return DI})),n.d(i,"byYearDay",(function(){return OI})),n.d(i,"byWeekNumber",(function(){return FI})),n.d(i,"byWeekDay",(function(){return NI})),n.d(i,"byHour",(function(){return RI})),n.d(i,"byMinute",(function(){return LI})),n.d(i,"bySecond",(function(){return BI}));var l={};function s(t){return"function"==typeof t}n.r(l),n.d(l,"swing",(function(){return SL})),n.d(l,"linear",(function(){return ML})),n.d(l,"easeOutElastic",(function(){return PL}));let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function a(t){setTimeout(()=>{throw t})}const u={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete(){}},c=Array.isArray||(t=>t&&"number"==typeof t.length);function h(t){return null!==t&&"object"==typeof t}function d(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}d.prototype=Object.create(Error.prototype);const p=d;let m=(()=>{class t{constructor(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t,e=!1;if(this.closed)return;let{_parent:n,_parents:i,_unsubscribe:l,_subscriptions:r}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let o=-1,a=i?i.length:0;for(;n;)n.remove(this),n=++o<a&&i[o]||null;if(s(l))try{l.call(this)}catch(u){e=!0,t=u instanceof p?g(u.errors):[u]}if(c(r))for(o=-1,a=r.length;++o<a;){const n=r[o];if(h(n))try{n.unsubscribe()}catch(u){e=!0,t=t||[],u instanceof p?t=t.concat(g(u.errors)):t.push(u)}}if(e)throw new p(t)}add(e){let n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){const t=this._subscriptions;t?t.push(n):this._subscriptions=[n]}return n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}_addParent(t){let{_parent:e,_parents:n}=this;return e!==t&&(e?n?-1===n.indexOf(t)&&(n.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function g(t){return t.reduce((t,e)=>t.concat(e instanceof p?e.errors:e),[])}const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class b extends m{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u;break;case 1:if(!t){this.destination=u;break}if("object"==typeof t){t instanceof b?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new v(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new v(this,t,e,n)}}[f](){return this}static create(t,e,n){const i=new b(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:t,_parents:e}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this}}class v extends b{constructor(t,e,n,i){let l;super(),this._parentSubscriber=t;let r=this;s(e)?l=e:e&&(l=e.next,n=e.error,i=e.complete,e!==u&&(s((r=Object.create(e)).unsubscribe)&&this.add(r.unsubscribe.bind(r)),r.unsubscribe=this.unsubscribe.bind(this))),this._context=r,this._next=l,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(a(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y="function"==typeof Symbol&&Symbol.observable||"@@observable";function w(){}function x(...t){return k(t)}function k(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:w}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,l=function(t,e,n){if(t){if(t instanceof b)return t;if(t[f])return t[f]()}return t||e||n?new b(t,e,n):new b(u)}(t,e,n);if(l.add(i?i.call(l,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),o.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof b?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(l){n(l),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:k(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function T(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}T.prototype=Object.create(Error.prototype);const S=T;class M extends m{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class P extends b{constructor(t){super(t),this.destination=t}}let A=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new P(this)}lift(t){const e=new E(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let l=0;l<n;l++)i[l].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let l=0;l<n;l++)i[l].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),m.EMPTY):this.isStopped?(t.complete(),m.EMPTY):(this.observers.push(t),new M(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new E(t,e),t})();class E extends A{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):m.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class D extends b{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()},F=t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a),e);function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const R=N(),L=t=>e=>{const n=t[R]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e},B=t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)},V=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function z(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const j=t=>{if(t instanceof _)return e=>t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e);if(t&&"function"==typeof t[y])return B(t);if(V(t))return O(t);if(z(t))return F(t);if(t&&"function"==typeof t[R])return L(t);{const e=h(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function H(t,e,n,i,l=new D(t,n,i)){if(!l.closed)return j(e)(l)}class W extends b{notifyNext(t,e,n,i,l){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function U(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $(t,e))}}class ${constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new Y(t,this.project,this.thisArg))}}class Y extends b{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function q(t,e){return new _(e?n=>{const i=new m;let l=0;return i.add(e.schedule((function(){l!==t.length?(n.next(t[l++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:O(t))}function G(t,e){if(!e)return t instanceof _?t:new _(j(t));if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new _(e?n=>{const i=new m;return i.add(e.schedule(()=>{const l=t[y]();i.add(l.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i}:B(t))}(t,e);if(z(t))return function(t,e){return new _(e?n=>{const i=new m;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i}:F(t))}(t,e);if(V(t))return q(t,e);if(function(t){return t&&"function"==typeof t[R]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(e?n=>{const i=new m;let l;return i.add(()=>{l&&"function"==typeof l.return&&l.return()}),i.add(e.schedule(()=>{l=t[R](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=l.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i}:L(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function X(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(X((n,i)=>G(t(n,i)).pipe(U((t,l)=>e(n,t,i,l))),n)):("number"==typeof e&&(n=e),e=>e.lift(new K(t,n)))}class K{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Z(t,this.project,this.concurrent))}}class Z extends W{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new D(this,void 0,void 0);this.destination.add(i),H(this,t,e,n,i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,l){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Q(t){return t}function J(t=Number.POSITIVE_INFINITY){return X(Q,t)}function tt(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return I(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:J(e)(q(t,n))}function et(){return function(t){return t.lift(new nt(t))}}class nt{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new it(t,n),l=e.subscribe(i);return i.closed||(i.connection=n.connect()),l}}class it extends b{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}const lt=class extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new m).add(this.source.subscribe(new rt(this.getSubject(),this))),t.closed?(this._connection=null,t=m.EMPTY):this._connection=t),t}refCount(){return et()(this)}}.prototype,st={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:lt._subscribe},_isComplete:{value:lt._isComplete,writable:!0},getSubject:{value:lt.getSubject},connect:{value:lt.connect},refCount:{value:lt.refCount}};class rt extends P{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function ot(){return new A}const at="__annotations__",ut="__parameters__",ct="__prop__metadata__";function ht(t,e,n,i,l){const s=dt(e);function r(...t){if(this instanceof r)return s.call(this,...t),this;const e=new r(...t);return function(n){return l&&l(n,...t),(n.hasOwnProperty(at)?n[at]:Object.defineProperty(n,at,{value:[]})[at]).push(e),i&&i(n),n}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r}function dt(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function pt(t,e,n){const i=dt(e);function l(...t){if(this instanceof l)return i.apply(this,t),this;const e=new l(...t);return n.annotation=e,n;function n(t,n,i){const l=t.hasOwnProperty(ut)?t[ut]:Object.defineProperty(t,ut,{value:[]})[ut];for(;l.length<=i;)l.push(null);return(l[i]=l[i]||[]).push(e),t}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l}function mt(t,e,n,i){const l=dt(e);function s(...t){if(this instanceof s)return l.apply(this,t),this;const e=new s(...t);return function(n,l){const s=n.constructor,r=s.hasOwnProperty(ct)?s[ct]:Object.defineProperty(s,ct,{value:{}})[ct];r[l]=r.hasOwnProperty(l)&&r[l]||[],r[l].unshift(e),i&&i(n,l,...t)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}const gt=pt("Inject",t=>({token:t})),ft=pt("Optional"),bt=pt("Self"),vt=pt("SkipSelf");var yt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function wt(t){for(let e in t)if(t[e]===wt)return e;throw Error("Could not find renamed property on target object.")}function xt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}const kt=xt;function _t(t){const e=t[Ct];return e&&e.token===t?e:null}const Ct=wt({ngInjectableDef:wt});function Tt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const St=wt({__forward_ref__:wt});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return Tt(this())},t}function Pt(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(St)&&e.__forward_ref__===Mt?e():t}const At="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,It="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dt="undefined"!=typeof global&&global,Ot=At||Dt||Et||It;class Ft{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=xt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Nt=new Ft("INJECTOR",-1),Rt=new Object,Lt="ngTempTokenPath",Bt="ngTokenPath",Vt=/\n/gm,zt="\u0275",jt="__source",Ht=wt({provide:String,useValue:wt});let Wt,Ut=void 0;function $t(t){const e=Ut;return Ut=t,e}function Yt(t,e=yt.Default){if(void 0===Ut)throw new Error("inject() must be called from an injection context");return null===Ut?function(t,e,n){const i=_t(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&yt.Optional)return null;throw new Error(`Injector: NOT_FOUND [${Tt(t)}]`)}(t,0,e):Ut.get(t,e&yt.Optional?null:void 0,e)}function qt(t,e=yt.Default){return(Wt||Yt)(t,e)}const Gt=qt;function Xt(t){const e=[];for(let n=0;n<t.length;n++){const i=Pt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=yt.Default;for(let e=0;e<i.length;e++){const l=i[e];l instanceof ft||"Optional"===l.ngMetadataName||l===ft?n|=yt.Optional:l instanceof vt||"SkipSelf"===l.ngMetadataName||l===vt?n|=yt.SkipSelf:l instanceof bt||"Self"===l.ngMetadataName||l===bt?n|=yt.Self:t=l instanceof gt||l===gt?l.token:l}e.push(qt(t,n))}else e.push(qt(i))}return e}class Kt{get(t,e=Rt){if(e===Rt){const e=new Error(`NullInjectorError: No provider for ${Tt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Zt(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==zt?t.substr(2):t;let l=Tt(e);if(e instanceof Array)l=e.map(Tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):Tt(i)))}l=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${l}]: ${t.replace(Vt,"\n  ")}`}class Qt{}class Jt{}function te(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ee(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const ne=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),ie=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),le=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ot))(),se="ngDebugContext",re="ngOriginalError",oe="ngErrorLogger";function ae(t){return t[se]}function ue(t){return t[re]}function ce(t,...e){t.error(...e)}class he{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t[oe]||ce}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ae(t)?ae(t):this._findContext(ue(t)):null}_findOriginalError(t){let e=ue(t);for(;e&&ue(e);)e=ue(e);return e}}let de=!0,pe=!1;function me(){return pe=!0,de}class ge{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(i){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let i=e.length-1;0<i;i--){const n=e.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const fe=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,be=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ve(t){return(t=String(t)).match(fe)||t.match(be)?t:(me()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function ye(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function we(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const xe=ye("area,br,col,hr,img,wbr"),ke=ye("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_e=ye("rp,rt"),Ce=we(_e,ke),Te=we(xe,we(ke,ye("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),we(_e,ye("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ce),Se=ye("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Me=ye("srcset"),Pe=we(Se,Me,ye("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ye("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ae=ye("script,style,template");class Ee{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Te.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ae.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let l=0;l<n.length;l++){const t=n.item(l),e=t.name,s=e.toLowerCase();if(!Pe.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let r=t.value;Se[s]&&(r=ve(r)),Me[s]&&(i=r,r=(i=String(i)).split(",").map(t=>ve(t.trim())).join(", ")),this.buf.push(" ",e,'="',Oe(r),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Te.hasOwnProperty(e)&&!xe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Oe(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,De=/([^\#-~ |!])/g;function Oe(t){return t.replace(/&/g,"&amp;").replace(Ie,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(De,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fe;function Ne(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Re=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Le{}const Be=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ve=/^url\(([^)]+)\)$/,ze=/([A-Z])/g;function je(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let He=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>We(),t})();const We=(...t)=>{},Ue=Function;function $e(t){return"function"==typeof t}const Ye=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,qe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ge=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Xe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class Ke{constructor(t){this._reflect=t||Ot.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let i=0;i<n.length;i++)n[i]=void 0===t?[]:t[i]&&t[i]!=Object?[t[i]]:[],e&&null!=e[i]&&(n[i]=n[i].concat(e[i]));return n}_ownParameters(t,e){if(n=t.toString(),Ye.test(n)||Xe.test(n)||qe.test(n)&&!Ge.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const i=t.ctorParameters;if(i&&i!==e.ctorParameters){const t="function"==typeof i?i():i,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Ze(t.decorators));return this._zipTypesAndAnnotations(e,n)}const l=t.hasOwnProperty(ut)&&t[ut],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||l?this._zipTypesAndAnnotations(s,l):new Array(t.length).fill(void 0)}parameters(t){if(!$e(t))return[];const e=Qe(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Ze(t.decorators):t.hasOwnProperty(at)?t[at]:null}annotations(t){if(!$e(t))return[];const e=Qe(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Ze(e[t])}),n}return t.hasOwnProperty(ct)?t[ct]:null}propMetadata(t){if(!$e(t))return{};const e=Qe(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const i=this._ownPropMetadata(t,e);return i&&Object.keys(i).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...i[t]),n[t]=e}),n}ownPropMetadata(t){return $e(t)&&this._ownPropMetadata(t,Qe(t))||{}}hasLifecycleHook(t,e){return t instanceof Ue&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${Tt(t)}`}resourceUri(t){return`./${Tt(t)}`}resolveIdentifier(t,e,n,i){return i}resolveEnum(t,e){return t[e]}}function Ze(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Qe(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Je=wt({provide:String,useValue:wt}),tn=[];function en(t,e){if(!e){const e=(new Ke).parameters(t);return()=>new t(...Xt(e))}if(Je in e){const t=e;return()=>t.useValue}if(e.useExisting){const t=e;return()=>qt(t.useExisting)}if(e.useFactory){const t=e;return()=>t.useFactory(...Xt(t.deps||tn))}if(e.useClass){const n=e;let i=e.deps;if(!i){const e=new Ke;i=e.parameters(t)}return()=>new n.useClass(...Xt(i))}{let n=e.deps;if(!n){const e=new Ke;n=e.parameters(t)}return()=>new t(...Xt(n))}}const nn=new Ft("The presence of this token marks an injector as being the root injector."),ln=function(t,e,n){return new hn(t,e,n)};let sn=(()=>{class t{static create(t,e){return Array.isArray(t)?ln(t,e,""):ln(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=Rt,t.NULL=new Kt,t.ngInjectableDef=xt({token:t,providedIn:"any",factory:()=>qt(Nt)}),t.__NG_ELEMENT_ID__=-1,t})();const rn=function(t){return t},on=[],an=rn,un=function(){return Array.prototype.slice.call(arguments)},cn="\u0275";class hn{constructor(t,e=sn.NULL,n=null){this.parent=e,this.source=n;const i=this._records=new Map;i.set(sn,{token:sn,fn:rn,deps:on,value:this,useNew:!1}),i.set(Nt,{token:Nt,fn:rn,deps:on,value:this,useNew:!1}),function t(e,n){if(n)if((n=Pt(n))instanceof Array)for(let i=0;i<n.length;i++)t(e,n[i]);else{if("function"==typeof n)throw pn("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw pn("Unexpected provider",n);{let t=Pt(n.provide);const i=function(t){const e=function(t){let e=on;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let i=6,l=Pt(n[t]);if(l instanceof Array)for(let t=0,e=l;t<e.length;t++){const n=e[t];n instanceof ft||n==ft?i|=1:n instanceof vt||n==vt?i&=-3:n instanceof bt||n==bt?i&=-5:l=n instanceof gt?n.token:Pt(n)}e.push({token:l,options:i})}}else if(t.useExisting)e=[{token:Pt(t.useExisting),options:6}];else if(!(n||Ht in t))throw pn("'deps' required",t);return e}(t);let n=rn,i=on,l=!1,s=Pt(t.provide);if(Ht in t)i=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)l=!0,n=Pt(t.useClass);else{if("function"!=typeof s)throw pn("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);l=!0,n=s}return{deps:e,fn:n,useNew:l,value:i}}(n);if(!0===n.multi){let i=e.get(t);if(i){if(i.fn!==un)throw dn(t)}else e.set(t,i={token:n.provide,deps:[],useNew:!1,fn:un,value:on});i.deps.push({token:t=n,options:6})}const l=e.get(t);if(l&&l.fn==un)throw dn(t);e.set(t,i)}}}(i,t)}get(t,e,n=yt.Default){const i=this._records.get(t);try{return function t(e,n,i,l,s,r){try{return function(e,n,i,l,s,r){let o;if(!n||r&yt.SkipSelf)r&yt.Self||(o=l.get(e,s,yt.Default));else{if((o=n.value)==an)throw Error(cn+"Circular dependency");if(o===on){n.value=an;let e=void 0,s=n.useNew,r=n.fn,a=n.deps,u=on;if(a.length){u=[];for(let e=0;e<a.length;e++){const n=a[e],s=n.options,r=2&s?i.get(n.token):void 0;u.push(t(n.token,r,i,r||4&s?l:sn.NULL,1&s?null:sn.THROW_IF_NOT_FOUND,yt.Default))}}n.value=o=s?new r(...u):r.apply(e,u)}}return o}(e,n,i,l,s,r)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[Lt]=o[Lt]||[]).unshift(e),n&&n.value==an&&(n.value=on),o}}(t,i,this._records,this.parent,e,n)}catch(l){return function(t,e,n,i){const l=t[Lt];throw e[jt]&&l.unshift(e[jt]),t.message=Zt("\n"+t.message,l,"StaticInjectorError",i),t[Bt]=l,t[Lt]=null,t}(l,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(Tt(n))),`StaticInjector[${t.join(", ")}]`}}function dn(t){return pn("Cannot mix multi providers and regular providers",t)}function pn(t,e){return new Error(Zt(t,e,"StaticInjectorError"))}const mn=new Ft("AnalyzeForEntryComponents");let gn=null;function fn(){if(!gn){const t=Ot.Symbol;if(t&&t.iterator)gn=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(gn=n)}}}return gn}function bn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function vn(t,e){const n=wn(t),i=wn(e);if(n&&i)return function(t,e,n){const i=t[fn()](),l=e[fn()]();for(;;){const t=i.next(),e=l.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,vn);{const l=t&&("object"==typeof t||"function"==typeof t),s=e&&("object"==typeof e||"function"==typeof e);return!(n||!l||i||!s)||bn(t,e)}}class yn{constructor(t){this.wrapped=t}static wrap(t){return new yn(t)}static unwrap(t){return yn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof yn}}function wn(t){return!!xn(t)&&(Array.isArray(t)||!(t instanceof Map)&&fn()in t)}function xn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function kn(t){return!!t&&"function"==typeof t.then}function _n(t){return!!t&&"function"==typeof t.subscribe}class Cn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Tn{}class Sn{}function Mn(t){const e=Error(`No component factory found for ${Tt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Pn]=t,e}const Pn="ngComponent";class An{resolveComponentFactory(t){throw Mn(t)}}let En=(()=>{class t{}return t.NULL=new An,t})();class In{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let i=0;i<t.length;i++){const e=t[i];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Mn(t);return new Dn(e,this._ngModule)}}class Dn extends Sn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,i){return this.factory.create(t,e,n,i||this.ngModule)}}function On(...t){}let Fn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Nn(t),t})();const Nn=On;class Rn{}class Ln{}const Bn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Vn=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zn(),t})();const zn=On;class jn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Hn=new jn("8.2.14");class Wn{constructor(){}supports(t){return wn(t)}create(t){return new $n(t)}}const Un=(t,e)=>e;class $n{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Un}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,l=null;for(;e||n;){const s=!n||e&&e.currentIndex<Xn(n,i,l)?e:n,r=Xn(s,i,l),o=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{l||(l=[]);const t=r-i,e=o-i;if(t!=e){for(let n=0;n<t;n++){const i=n<l.length?l[n]:l[n]=0,s=i+n;e<=s&&s<t&&(l[n]=i+1)}l[s.previousIndex]=e-t}}r!==o&&t(s,r,o)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!wn(t))throw new Error(`Error trying to diff '${Tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,l=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)i=this._trackByFn(e,n=t[e]),null!==l&&bn(l.trackById,i)?(s&&(l=this._verifyReinsertion(l,n,i,e)),bn(l.item,n)||this._addIdentityChange(l,n)):(l=this._mismatch(l,n,i,e),s=!0),l=l._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[fn()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==l&&bn(l.trackById,i)?(s&&(l=this._verifyReinsertion(l,t,i,e)),bn(l.item,t)||this._addIdentityChange(l,t)):(l=this._mismatch(l,t,i,e),s=!0),l=l._next,e++}),this.length=e;return this._truncate(l),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let l;return null===t?l=this._itTail:(l=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(bn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,l,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(bn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,l,i)):t=this._addAfter(new Yn(e,n),l,i),t}_verifyReinsertion(t,e,n,i){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==l?t=this._reinsertAfter(l,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,l=t._nextRemoved;return null===i?this._removalsHead=l:i._nextRemoved=l,null===l?this._removalsTail=i:l._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&bn(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Gn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new qn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xn(t,e,n){const i=t.previousIndex;if(null===i)return i;let l=0;return n&&i<n.length&&(l=n[i]),i+e+l}class Kn{constructor(){}supports(t){return t instanceof Map||xn(t)}create(){return new Zn}}class Zn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||xn(t)))throw new Error(`Error trying to diff '${Tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,l=n._next;return i&&(i._next=l),l&&(l._prev=i),n._next=null,n._prev=null,n}const n=new Qn(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){bn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qn{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Jn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vt,new ft]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=xt({token:t,providedIn:"root",factory:()=>new t([new Wn])}),t})(),ti=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vt,new ft]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=xt({token:t,providedIn:"root",factory:()=>new t([new Kn])}),t})();const ei=[new Kn],ni=new Jn([new Wn]),ii=new ti(ei);let li=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>si(t,Fn),t})();const si=On;let ri=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>oi(t,Fn),t})();const oi=On;function ai(t,e,n,i){let l=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return i&&(l+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return ui(n,e),n}(l,t)}function ui(t,e){t[se]=e,t[oe]=e.logError.bind(e)}function ci(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function hi(t,e,n){const i=t.state,l=1792&i;return l===e?(t.state=-1793&i|n,t.initIndex=-1,!0):l===n}function di(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function pi(t,e){return t.nodes[e]}function mi(t,e){return t.nodes[e]}function gi(t,e){return t.nodes[e]}function fi(t,e){return t.nodes[e]}function bi(t,e){return t.nodes[e]}const vi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},yi=()=>{},wi=new Map;function xi(t){let e=wi.get(t);return e||(e=Tt(t)+"_"+wi.size,wi.set(t,e)),e}function ki(t,e,n,i){if(yn.isWrapped(i)){i=yn.unwrap(i);const l=t.def.nodes[e].bindingIndex+n,s=yn.unwrap(t.oldValues[l]);t.oldValues[l]=new yn(s)}return i}const _i="$$undefined",Ci="$$empty";function Ti(t){return{id:_i,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Si=0;function Mi(t,e,n,i){return!(!(2&t.state)&&bn(t.oldValues[e.bindingIndex+n],i))}function Pi(t,e,n,i){return!!Mi(t,e,n,i)&&(t.oldValues[e.bindingIndex+n]=i,!0)}function Ai(t,e,n,i){const l=t.oldValues[e.bindingIndex+n];if(1&t.state||!vn(l,i)){const s=e.bindings[n].name;throw ai(vi.createDebugContext(t,e.nodeIndex),`${s}: ${l}`,`${s}: ${i}`,0!=(1&t.state))}}function Ei(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Ii(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Di(t,e,n,i){try{return Ei(33554432&t.def.nodes[e].flags?mi(t,e).componentView:t),vi.handleEvent(t,e,n,i)}catch(l){t.root.errorHandler.handleError(l)}}function Oi(t){return t.parent?mi(t.parent,t.parentNodeDef.nodeIndex):null}function Fi(t){return t.parent?t.parentNodeDef.parent:null}function Ni(t,e){switch(201347067&e.flags){case 1:return mi(t,e.nodeIndex).renderElement;case 2:return pi(t,e.nodeIndex).renderText}}function Ri(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Li(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Bi(t){return 1<<t%32}function Vi(t){const e={};let n=0;const i={};return t&&t.forEach(([t,l])=>{"number"==typeof t?(e[t]=l,n|=Bi(t)):i[t]=l}),{matchedQueries:e,references:i,matchedQueryIds:n}}function zi(t,e){return t.map(t=>{let n,i;return Array.isArray(t)?[i,n]=t:(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,jt,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:xi(n)}})}function ji(t,e,n){let i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===ie.Native?mi(t,n.renderParent.nodeIndex).renderElement:void 0:e}const Hi=new WeakMap;function Wi(t){let e=Hi.get(t);return e||((e=t(()=>yi)).factory=t,Hi.set(t,e)),e}function Ui(t,e,n,i,l){3===e&&(n=t.renderer.parentNode(Ni(t,t.def.lastRenderRootNode))),$i(t,e,0,t.def.nodes.length-1,n,i,l)}function $i(t,e,n,i,l,s,r){for(let o=n;o<=i;o++){const n=t.def.nodes[o];11&n.flags&&qi(t,n,e,l,s,r),o+=n.childCount}}function Yi(t,e,n,i,l,s){let r=t;for(;r&&!Ri(r);)r=r.parent;const o=r.parent,a=Fi(r),u=a.nodeIndex+a.childCount;for(let c=a.nodeIndex+1;c<=u;c++){const t=o.def.nodes[c];t.ngContentIndex===e&&qi(o,t,n,i,l,s),c+=t.childCount}if(!o.parent){const r=t.root.projectableNodes[e];if(r)for(let e=0;e<r.length;e++)Gi(t,r[e],n,i,l,s)}}function qi(t,e,n,i,l,s){if(8&e.flags)Yi(t,e.ngContent.index,n,i,l,s);else{const r=Ni(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Gi(t,r,n,i,l,s),32&e.bindingFlags&&Gi(mi(t,e.nodeIndex).componentView,r,n,i,l,s)):Gi(t,r,n,i,l,s),16777216&e.flags){const r=mi(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<r.length;t++)Ui(r[t],n,i,l,s)}1&e.flags&&!e.element.name&&$i(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,i,l,s)}}function Gi(t,e,n,i,l,s){const r=t.renderer;switch(n){case 1:r.appendChild(i,e);break;case 2:r.insertBefore(i,e,l);break;case 3:r.removeChild(i,e);break;case 0:s.push(e)}}const Xi=/^:([^:]+):(.+)$/;function Ki(t){if(":"===t[0]){const e=t.match(Xi);return[e[1],e[2]]}return["",t]}function Zi(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function Qi(t,e,n,i,l,s,r,o,a,u,c,h,d,p,m,g,f,b,v,y){switch(t){case 1:return e+Ji(n)+i;case 2:return e+Ji(n)+i+Ji(l)+s;case 3:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o;case 4:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o+Ji(a)+u;case 5:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o+Ji(a)+u+Ji(c)+h;case 6:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o+Ji(a)+u+Ji(c)+h+Ji(d)+p;case 7:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o+Ji(a)+u+Ji(c)+h+Ji(d)+p+Ji(m)+g;case 8:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o+Ji(a)+u+Ji(c)+h+Ji(d)+p+Ji(m)+g+Ji(f)+b;case 9:return e+Ji(n)+i+Ji(l)+s+Ji(r)+o+Ji(a)+u+Ji(c)+h+Ji(d)+p+Ji(m)+g+Ji(f)+b+Ji(v)+y;default:throw new Error("Does not support more than 9 expressions")}}function Ji(t){return null!=t?t.toString():""}const tl=new Object,el=xi(sn),nl=xi(Nt),il=xi(Qt);function ll(t,e,n,i){return n=Pt(n),{index:-1,deps:zi(i,Tt(e)),flags:t,token:e,value:n}}function sl(t,e,n=sn.THROW_IF_NOT_FOUND){const i=$t(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const r=e.tokenKey;switch(r){case el:case nl:case il:return t}const o=t._def.providersByKey[r];let a;if(o){let e=t._providers[o.index];return void 0===e&&(e=t._providers[o.index]=rl(t,o)),e===tl?void 0:e}if((a=_t(e.token))&&(l=t,null!=(s=a).providedIn&&(function(t,e){return t._def.modules.indexOf(e)>-1}(l,s.providedIn)||"root"===s.providedIn&&l._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:n,token:e.token},t._providers[n]=tl,t._providers[n]=rl(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{$t(i)}var l,s}function rl(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const i=n.length;switch(i){case 0:return new e;case 1:return new e(sl(t,n[0]));case 2:return new e(sl(t,n[0]),sl(t,n[1]));case 3:return new e(sl(t,n[0]),sl(t,n[1]),sl(t,n[2]));default:const l=new Array(i);for(let e=0;e<i;e++)l[e]=sl(t,n[e]);return new e(...l)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const i=n.length;switch(i){case 0:return e();case 1:return e(sl(t,n[0]));case 2:return e(sl(t,n[0]),sl(t,n[1]));case 3:return e(sl(t,n[0]),sl(t,n[1]),sl(t,n[2]));default:const l=Array(i);for(let e=0;e<i;e++)l[e]=sl(t,n[e]);return e(...l)}}(t,e.value,e.deps);break;case 2048:n=sl(t,e.deps[0]);break;case 256:n=e.value}return n===tl||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?tl:n}function ol(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const i=n[e];return i.viewContainerParent=null,ee(n,e),vi.dirtyParentQueries(i),ul(i),i}function al(t,e,n){const i=e?Ni(e,e.def.lastRenderRootNode):t.renderElement,l=n.renderer.parentNode(i),s=n.renderer.nextSibling(i);Ui(n,2,l,s,void 0)}function ul(t){Ui(t,3,null,null,void 0)}const cl=new Object;function hl(t,e,n,i,l,s){return new dl(t,e,n,i,l,s)}class dl extends Sn{constructor(t,e,n,i,l,s){super(),this.selector=t,this.componentType=e,this._inputs=i,this._outputs=l,this.ngContentSelectors=s,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,i){if(!i)throw new Error("ngModule should be provided");const l=Wi(this.viewDefFactory),s=l.nodes[0].element.componentProvider.nodeIndex,r=vi.createRootView(t,e||[],n,l,i,cl),o=gi(r,s).instance;return n&&r.renderer.setAttribute(mi(r,0).renderElement,"ng-version",Hn.full),new pl(r,new bl(r),o)}}class pl extends Tn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Fn(mi(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new xl(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function ml(t,e,n){return new gl(t,e,n)}class gl{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Fn(this._data.renderElement)}get injector(){return new xl(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Fi(t),t=t.parent;return t?new xl(t,e):new xl(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=ol(this._data,t);vi.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new bl(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,l){const s=n||this.parentInjector;l||t instanceof Dn||(l=s.get(Qt));const r=t.create(s,i,void 0,l);return this.insert(r.hostView,e),r}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,i){let l=e.viewContainer._embeddedViews;null==n&&(n=l.length),i.viewContainerParent=t,te(l,n,i),function(t,e){const n=Oi(e);if(!n||n===t||16&e.state)return;e.state|=16;let i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(e),function(t,e){if(4&e.flags)return;t.nodeFlags|=4,e.flags|=4;let n=e.parent;for(;n;)n.childFlags|=4,n=n.parent}(e.parent.def,e.parentNodeDef)}(e,i),vi.dirtyParentQueries(i),al(e,n>0?l[n-1]:null,i)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,n){const i=t.viewContainer._embeddedViews,l=i[e];ee(i,e),null==n&&(n=i.length),te(i,n,l),vi.dirtyParentQueries(l),ul(l),al(t,n>0?i[n-1]:null,l)}(this._data,n,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=ol(this._data,t);e&&vi.destroyView(e)}detach(t){const e=ol(this._data,t);return e?new bl(e):null}}function fl(t){return new bl(t)}class bl{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Ui(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){Ei(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{vi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){vi.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),vi.destroyView(this._view)}detachFromAppRef(){this._appRef=null,ul(this._view),vi.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function vl(t,e){return new yl(t,e)}class yl extends li{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new bl(vi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Fn(mi(this._parentView,this._def.nodeIndex).renderElement)}}function wl(t,e){return new xl(t,e)}class xl{constructor(t,e){this.view=t,this.elDef=e}get(t,e=sn.THROW_IF_NOT_FOUND){return vi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:xi(t)},e)}}function kl(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=mi(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return pi(t,n.nodeIndex).renderText;if(20240&n.flags)return gi(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function _l(t){return new Cl(t.renderer)}class Cl{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,i]=Ki(e),l=this.delegate.createElement(i,n);return t&&this.delegate.appendChild(t,l),l}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),i=this.delegate.nextSibling(t);for(let l=0;l<e.length;l++)this.delegate.insertBefore(n,e[l],i)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[i,l]=Ki(e);null!=n?this.delegate.setAttribute(t,l,n,i):this.delegate.removeAttribute(t,l,i)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Tl(t,e,n,i){return new Sl(t,e,n,i)}class Sl{constructor(t,e,n,i){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let i=0;i<e.providers.length;i++){const l=e.providers[i];4096&l.flags||void 0===n[i]&&(n[i]=rl(t,l))}}(this)}get(t,e=sn.THROW_IF_NOT_FOUND,n=yt.Default){let i=0;return n&yt.SkipSelf?i|=1:n&yt.Self&&(i|=4),sl(this,{token:t,tokenKey:xi(t),flags:i},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(En)}destroy(){if(this._destroyed)throw new Error(`The ng module ${Tt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,i=new Set;for(let l=0;l<n.providers.length;l++)if(131072&n.providers[l].flags){const e=t._providers[l];if(e&&e!==tl){const t=e.ngOnDestroy;"function"!=typeof t||i.has(e)||(t.apply(e),i.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Ml=xi(Rn),Pl=xi(Vn),Al=xi(Fn),El=xi(ri),Il=xi(li),Dl=xi(He),Ol=xi(sn),Fl=xi(Nt);function Nl(t,e,n,i,l,s,r,o){const a=[];if(r)for(let c in r){const[t,e]=r[c];a[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(o)for(let c in o)u.push({type:1,propName:c,target:null,eventName:o[c]});return Bl(t,e|=16384,n,i,l,l,s,a,u)}function Rl(t,e,n){return Bl(-1,t|=16,null,0,e,e,n)}function Ll(t,e,n,i,l){return Bl(-1,t,e,0,n,i,l)}function Bl(t,e,n,i,l,s,r,o,a){const{matchedQueries:u,references:c,matchedQueryIds:h}=Vi(n);a||(a=[]),o||(o=[]),s=Pt(s);const d=zi(r,Tt(l));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:i,bindings:o,bindingFlags:Zi(o),outputs:a,element:null,provider:{token:l,value:s,deps:d},text:null,query:null,ngContent:null}}function Vl(t,e){return Wl(t,e)}function zl(t,e){let n=t;for(;n.parent&&!Ri(n);)n=n.parent;return Ul(n.parent,Fi(n),!0,e.provider.value,e.provider.deps)}function jl(t,e){const n=Ul(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let i=0;i<e.outputs.length;i++){const l=e.outputs[i],s=n[l.propName];if(!_n(s))throw new Error(`@Output ${l.propName} not initialized in '${n.constructor.name}'.`);{const n=s.subscribe(Hl(t,e.parent.nodeIndex,l.eventName));t.disposables[e.outputIndex+i]=n.unsubscribe.bind(n)}}return n}function Hl(t,e,n){return i=>Di(t,e,n,i)}function Wl(t,e){const n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return Ul(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,l){const s=l.length;switch(s){case 0:return i();case 1:return i(Yl(t,e,n,l[0]));case 2:return i(Yl(t,e,n,l[0]),Yl(t,e,n,l[1]));case 3:return i(Yl(t,e,n,l[0]),Yl(t,e,n,l[1]),Yl(t,e,n,l[2]));default:const r=Array(s);for(let i=0;i<s;i++)r[i]=Yl(t,e,n,l[i]);return i(...r)}}(t,e.parent,n,i.value,i.deps);case 2048:return Yl(t,e.parent,n,i.deps[0]);case 256:return i.value}}function Ul(t,e,n,i,l){const s=l.length;switch(s){case 0:return new i;case 1:return new i(Yl(t,e,n,l[0]));case 2:return new i(Yl(t,e,n,l[0]),Yl(t,e,n,l[1]));case 3:return new i(Yl(t,e,n,l[0]),Yl(t,e,n,l[1]),Yl(t,e,n,l[2]));default:const r=new Array(s);for(let i=0;i<s;i++)r[i]=Yl(t,e,n,l[i]);return new i(...r)}}const $l={};function Yl(t,e,n,i,l=sn.THROW_IF_NOT_FOUND){if(8&i.flags)return i.token;const s=t;2&i.flags&&(l=null);const r=i.tokenKey;r===Dl&&(n=!(!e||!e.element.componentView)),e&&1&i.flags&&(n=!1,e=e.parent);let o=t;for(;o;){if(e)switch(r){case Ml:return _l(ql(o,e,n));case Pl:return ql(o,e,n).renderer;case Al:return new Fn(mi(o,e.nodeIndex).renderElement);case El:return mi(o,e.nodeIndex).viewContainer;case Il:if(e.element.template)return mi(o,e.nodeIndex).template;break;case Dl:return fl(ql(o,e,n));case Ol:case Fl:return wl(o,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[r];if(t){let e=gi(o,t.nodeIndex);return e||(e={instance:Wl(o,t)},o.nodes[t.nodeIndex]=e),e.instance}}n=Ri(o),e=Fi(o),o=o.parent,4&i.flags&&(o=null)}const a=s.root.injector.get(i.token,$l);return a!==$l||l===$l?a:s.root.ngModule.injector.get(i.token,l)}function ql(t,e,n){let i;if(n)i=mi(t,e.nodeIndex).componentView;else for(i=t;i.parent&&!Ri(i);)i=i.parent;return i}function Gl(t,e,n,i,l,s){if(32768&n.flags){const e=mi(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[i].name]=l,524288&n.flags){s=s||{};const e=yn.unwrap(t.oldValues[n.bindingIndex+i]);s[n.bindings[i].nonMinifiedName]=new Cn(e,l,0!=(2&t.state))}return t.oldValues[n.bindingIndex+i]=l,s}function Xl(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let i=0;for(let l=0;l<n.length;l++){const s=n[l];let r=s.parent;for(!r&&s.flags&e&&Zl(t,l,s.flags&e,i++),0==(s.childFlags&e)&&(l+=s.childCount);r&&1&r.flags&&l===r.nodeIndex+r.childCount;)r.directChildFlags&e&&(i=Kl(t,r,e,i)),r=r.parent}}function Kl(t,e,n,i){for(let l=e.nodeIndex+1;l<=e.nodeIndex+e.childCount;l++){const e=t.def.nodes[l];e.flags&n&&Zl(t,l,e.flags&n,i++),l+=e.childCount}return i}function Zl(t,e,n,i){const l=gi(t,e);if(!l)return;const s=l.instance;s&&(vi.setCurrentNode(t,e),1048576&n&&di(t,512,i)&&s.ngAfterContentInit(),2097152&n&&s.ngAfterContentChecked(),4194304&n&&di(t,768,i)&&s.ngAfterViewInit(),8388608&n&&s.ngAfterViewChecked(),131072&n&&s.ngOnDestroy())}const Ql=new Ft("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>le}),Jl={},ts=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),es=void 0;var ns=["en",[["a","p"],["AM","PM"],es],[["AM","PM"],es,es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",es,"{1} 'at' {0}",es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];function is(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Jl[e];if(n)return n;const i=e.split("-")[0];if(n=Jl[i])return n;if("en"===i)return ns;throw new Error(`Missing locale data for the locale "${t}".`)}const ls="en-US";let ss=ls;function rs(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(ss=t.toLowerCase().replace(/_/g,"-"))}class os extends A{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,l=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(l=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(l=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const r=super.subscribe(i,l,s);return t instanceof m&&t.add(r),r}}function as(){return this._results[fn()]()}class us{constructor(){this.dirty=!0,this._results=[],this.changes=new os,this.length=0;const t=fn(),e=us.prototype;e[t]||(e[t]=as)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let l=e[i];Array.isArray(l)?(n===e&&(n=e.slice(0,i)),t(l,n)):n!==e&&n.push(l)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const cs=ht("Directive",(t={})=>t,void 0,void 0,(t,e)=>fs(t,e)),hs=ht("Component",(t={})=>Object.assign({changeDetection:ne.Default},t),cs,void 0,(t,e)=>gs(t,e)),ds=ht("Pipe",t=>Object.assign({pure:!0},t),void 0,void 0,(t,e)=>bs(t,e)),ps=mt("Input",t=>({bindingPropertyName:t})),ms=mt("Output",t=>({bindingPropertyName:t})),gs=On,fs=On,bs=On,vs=ht("NgModule",t=>t,void 0,void 0,(t,e)=>ys(t,e)),ys=function(t,e){let n=e&&e.imports||[];var i;e&&e.exports&&(n=[...n,e.exports]),t.ngInjectorDef={factory:(i={factory:en(t,{useClass:t}),providers:e&&e.providers,imports:n}).factory,providers:i.providers||[],imports:i.imports||[]}},ws=new Ft("Application Initializer");class xs{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();kn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const ks=new Ft("AppId");function _s(){return`${Cs()}${Cs()}${Cs()}`}function Cs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ts=new Ft("Platform Initializer"),Ss=new Ft("Platform ID"),Ms=new Ft("appBootstrapListener");class Ps{log(t){console.log(t)}warn(t){console.warn(t)}}const As=new Ft("LocaleId"),Es=!1;function Is(){throw new Error("Runtime compiler is not loaded")}const Ds=Is,Os=Is,Fs=Is,Ns=Is;class Rs{constructor(){this.compileModuleSync=Ds,this.compileModuleAsync=Os,this.compileModuleAndAllComponentsSync=Fs,this.compileModuleAndAllComponentsAsync=Ns}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class Ls{}let Bs,Vs;function zs(){const t=Ot.wtf;return!(!t||!(Bs=t.trace)||(Vs=Bs.events,0))}const js=zs();function Hs(t,e){return null}const Ws=js?function(t,e=null){return Vs.createScope(t,e)}:(t,e)=>Hs,Us=js?function(t,e){return Bs.leaveScope(t,e),e}:(t,e)=>e,$s=(()=>Promise.resolve(0))();function Ys(t){"undefined"==typeof Zone?$s.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class qs{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os(!1),this.onMicrotaskEmpty=new os(!1),this.onStable=new os(!1),this.onError=new os(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,i,l,s,r)=>{try{return Zs(e),t.invokeTask(i,l,s,r)}finally{Qs(e)}},onInvoke:(t,n,i,l,s,r,o)=>{try{return Zs(e),t.invoke(i,l,s,r,o)}finally{Qs(e)}},onHasTask:(t,n,i,l)=>{t.hasTask(i,l),n===i&&("microTask"==l.change?(e.hasPendingMicrotasks=l.microTask,Ks(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(t,n,i,l)=>(t.handleError(i,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(qs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const l=this._inner,s=l.scheduleEventTask("NgZoneEvent: "+i,t,Xs,Gs,Gs);try{return l.runTask(s,e,n)}finally{l.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function Gs(){}const Xs={};function Ks(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Zs(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qs(t){t._nesting--,Ks(t)}class Js{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new os,this.onMicrotaskEmpty=new os,this.onStable=new os,this.onError=new os}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class tr{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qs.assertNotInAngularZone(),Ys(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ys(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class er{constructor(){this._applications=new Map,lr.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return lr.findTestabilityInTree(this,t,e)}}class nr{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let ir,lr=new nr,sr=function(t,e,n){return t.get(Ls).createCompiler([e]).compileModuleAsync(n)},rr=function(t){return t instanceof Dn};const or=new Ft("AllowMultipleToken");class ar{constructor(t,e){this.name=t,this.token=e}}function ur(t,e,n=[]){const i=`Platform: ${e}`,l=new Ft(i);return(e=[])=>{let s=cr();if(!s||s.injector.get(or,!1))if(t)t(n.concat(e).concat({provide:l,useValue:!0}));else{const t=n.concat(e).concat({provide:l,useValue:!0});!function(t){if(ir&&!ir.destroyed&&!ir.injector.get(or,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ir=t.get(hr);const e=t.get(Ts,null);e&&e.forEach(t=>t())}(sn.create({providers:t,name:i}))}return function(t){const e=cr();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(l)}}function cr(){return ir&&!ir.destroyed?ir:null}class hr{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(l=e?e.ngZone:void 0)?new Js:("zone.js"===l?void 0:l)||new qs({enableLongStackTrace:me()}),i=[{provide:qs,useValue:n}];var l;return n.run(()=>{const e=sn.create({providers:i,parent:this.injector,name:t.moduleType.name}),l=t.create(e),s=l.injector.get(he,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Es&&rs(l.injector.get(As,ls)||ls),l.onDestroy(()=>mr(this._modules,l)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return kn(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=l.injector.get(xs);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,e=[]){const n=dr({},e);return sr(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(pr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${Tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function dr(t,e){return Array.isArray(e)?e.reduce(dr,t):Object.assign({},t,e)}let pr=(()=>{class t{constructor(t,e,n,i,l,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=l,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=me(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const r=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),o=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{qs.assertNotInAngularZone(),Ys(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=tt(r,o.pipe(t=>et()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,st);return i.source=e,i.subjectFactory=n,i}}(ot)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Sn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=rr(n)?null:this._injector.get(Qt),l=n.create(sn.NULL,[],e||n.selector,i);l.onDestroy(()=>{this._unloadComponent(l)});const s=l.injector.get(tr,null);return s&&l.injector.get(er).registerApplication(l.location.nativeElement,s),this._loadComponent(l),me()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),l}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Us(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;mr(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ms,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),mr(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Ws("ApplicationRef#tick()"),t})();function mr(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gr{}const fr="#",br="NgFactory";class vr{}const yr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class wr{constructor(t,e){this._compiler=t,this._config=e||yr}load(t){return!Es&&this._compiler instanceof Rs?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,i]=t.split(fr);return void 0===i&&(i="default"),n("zn8P")(e).then(t=>t[i]).then(t=>xr(t,e,i)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,i]=t.split(fr),l=br;return void 0===i&&(i="default",l=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[i+l]).then(t=>xr(t,e,i))}}function xr(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class kr{constructor(t,e){this.name=t,this.callback=e}}class _r{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Cr&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class Cr extends _r{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,i){e.childNodes.forEach(e=>{e instanceof Cr&&(n(e)&&i.push(e),t(e,n,i))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,i){e instanceof Cr&&e.childNodes.forEach(e=>{n(e)&&i.push(e),e instanceof Cr&&t(e,n,i)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof Cr)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const Tr=new Map,Sr=function(t){return Tr.get(t)||null};function Mr(t){Tr.set(t.nativeNode,t)}const Pr=ur(null,"core",[{provide:Ss,useValue:"unknown"},{provide:hr,deps:[sn]},{provide:er,deps:[]},{provide:Ps,deps:[]}]);function Ar(){return ni}function Er(){return ii}function Ir(t){return t?(Es&&rs(t),t):ls}function Dr(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class Or{constructor(t){}}function Fr(t,e,n,i,l,s){t|=1;const{matchedQueries:r,references:o,matchedQueryIds:a}=Vi(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:r,matchedQueryIds:a,references:o,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Wi(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:l||yi},provider:null,text:null,query:null,ngContent:null}}function Nr(t,e,n,i,l,s,r=[],o,a,u,c,h){u||(u=yi);const{matchedQueries:d,references:p,matchedQueryIds:m}=Vi(n);let g=null,f=null;s&&([g,f]=Ki(s)),o=o||[];const b=new Array(o.length);for(let w=0;w<o.length;w++){const[t,e,n]=o[w],[i,l]=Ki(e);let s=void 0,r=void 0;switch(15&t){case 4:r=n;break;case 1:case 8:s=n}b[w]={flags:t,ns:i,name:l,nonMinifiedName:l,securityContext:s,suffix:r}}a=a||[];const v=new Array(a.length);for(let w=0;w<a.length;w++){const[t,e]=a[w];v[w]={type:0,target:t,eventName:e,propName:null}}const y=(r=r||[]).map(([t,e])=>{const[n,i]=Ki(t);return[n,i,e]});return h=function(t){if(t&&t.id===_i){const e=null!=t.encapsulation&&t.encapsulation!==ie.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Si++}`:Ci}return t&&t.id===Ci&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:p,ngContentIndex:i,childCount:l,bindings:b,bindingFlags:Zi(b),outputs:v,element:{ns:g,name:f,attrs:y,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||yi},provider:null,text:null,query:null,ngContent:null}}function Rr(t,e,n){const i=n.element,l=t.root.selectorOrNode,s=t.renderer;let r;if(t.parent||!l){r=i.name?s.createElement(i.name,i.ns):s.createComment("");const l=ji(t,e,n);l&&s.appendChild(l,r)}else r=s.selectRootElement(l,!!i.componentRendererType&&i.componentRendererType.encapsulation===ie.ShadowDom);if(i.attrs)for(let o=0;o<i.attrs.length;o++){const[t,e,n]=i.attrs[o];s.setAttribute(r,e,n,t)}return r}function Lr(t,e,n,i){for(let r=0;r<n.outputs.length;r++){const o=n.outputs[r],a=Br(t,n.nodeIndex,(s=o.eventName,(l=o.target)?`${l}:${s}`:s));let u=o.target,c=t;"component"===o.target&&(u=null,c=e);const h=c.renderer.listen(u||i,o.eventName,a);t.disposables[n.outputIndex+r]=h}var l,s}function Br(t,e,n){return i=>Di(t,e,n,i)}function Vr(t,e,n,i){if(!Pi(t,e,n,i))return!1;const l=e.bindings[n],s=mi(t,e.nodeIndex),r=s.renderElement,o=l.name;switch(15&l.flags){case 1:!function(t,e,n,i,l,s){const r=e.securityContext;let o=r?t.root.sanitizer.sanitize(r,s):s;o=null!=o?o.toString():null;const a=t.renderer;null!=s?a.setAttribute(n,l,o,i):a.removeAttribute(n,l,i)}(t,l,r,l.ns,o,i);break;case 2:!function(t,e,n,i){const l=t.renderer;i?l.addClass(e,n):l.removeClass(e,n)}(t,r,o,i);break;case 4:!function(t,e,n,i,l){let s=t.root.sanitizer.sanitize(Re.STYLE,l);if(null!=s){s=s.toString();const t=e.suffix;null!=t&&(s+=t)}else s=null;const r=t.renderer;null!=s?r.setStyle(n,i,s):r.removeStyle(n,i)}(t,l,r,o,i);break;case 8:!function(t,e,n,i,l){const s=e.securityContext;let r=s?t.root.sanitizer.sanitize(s,l):l;t.renderer.setProperty(n,i,r)}(33554432&e.flags&&32&l.flags?s.componentView:t,l,r,o,i)}return!0}function zr(t,e,n){let i=[];for(let l in n)i.push({propName:l,bindingType:n[l]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Bi(e),bindings:i},ngContent:null}}function jr(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Li(t);){let n=t.parentNodeDef;t=t.parent;const i=n.nodeIndex+n.childCount;for(let l=0;l<=i;l++){const i=t.def.nodes[l];67108864&i.flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&bi(t,l).setDirty(),!(1&i.flags&&l+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(l+=i.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&bi(t,n).setDirty(),n+=e.childCount}}function Hr(t,e){const n=bi(t,e.nodeIndex);if(!n.dirty)return;let i,l=void 0;if(67108864&e.flags){const n=e.parent.parent;l=Wr(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),i=gi(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(l=Wr(t,0,t.def.nodes.length-1,e.query,[]),i=t.component);n.reset(l);const s=e.query.bindings;let r=!1;for(let o=0;o<s.length;o++){const t=s[o];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,r=!0}i[t.propName]=e}r&&n.notifyOnChanges()}function Wr(t,e,n,i,l){for(let s=e;s<=n;s++){const e=t.def.nodes[s],n=e.matchedQueries[i.id];if(null!=n&&l.push(Ur(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&i.filterId)===i.filterId){const n=mi(t,s);if((e.childMatchedQueries&i.filterId)===i.filterId&&(Wr(t,s+1,s+e.childCount,i,l),s+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const s=t[e],r=Oi(s);r&&r===n&&Wr(s,0,s.def.nodes.length-1,i,l)}}const r=n.template._projectedViews;if(r)for(let t=0;t<r.length;t++){const e=r[t];Wr(e,0,e.def.nodes.length-1,i,l)}}(e.childMatchedQueries&i.filterId)!==i.filterId&&(s+=e.childCount)}return l}function Ur(t,e,n){if(null!=n)switch(n){case 1:return mi(t,e.nodeIndex).renderElement;case 0:return new Fn(mi(t,e.nodeIndex).renderElement);case 2:return mi(t,e.nodeIndex).template;case 3:return mi(t,e.nodeIndex).viewContainer;case 4:return gi(t,e.nodeIndex).instance}}function $r(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Yr(t,e,n){const i=ji(t,e,n);i&&Yi(t,n.ngContent.index,1,i,null,void 0)}function qr(t,e){return Kr(128,t,new Array(e+1))}function Gr(t,e){return Kr(32,t,new Array(e))}function Xr(t,e){const n=Object.keys(e),i=n.length,l=new Array(i);for(let s=0;s<i;s++){const t=n[s];l[e[t]]=t}return Kr(64,t,l)}function Kr(t,e,n){const i=new Array(n.length);for(let l=0;l<n.length;l++){const t=n[l];i[l]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:Zi(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Zr(t,e,n){const i=new Array(n.length-1);for(let l=1;l<n.length;l++)i[l-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[l]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Qr(t,e,n){let i;const l=t.renderer;i=l.createText(n.text.prefix);const s=ji(t,e,n);return s&&l.appendChild(s,i),{renderText:i}}function Jr(t,e){return(null!=t?t.toString():"")+e.suffix}function to(t,e,n,i){let l=0,s=0,r=0,o=0,a=0,u=null,c=null,h=!1,d=!1,p=null;for(let m=0;m<e.length;m++){const t=e[m];if(t.nodeIndex=m,t.parent=u,t.bindingIndex=l,t.outputIndex=s,t.renderParent=c,r|=t.flags,a|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(a|=t.element.template.nodeMatchedQueries)}if(no(u,t,e.length),l+=t.bindings.length,s+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[xi(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[xi(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):o|=t.flags,t.childCount>0)u=t,eo(t)||(c=t);else for(;u&&m===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&eo(u)?u.renderParent:u}}return{factory:null,nodeFlags:r,rootNodeFlags:o,nodeMatchedQueries:a,flags:t,nodes:e,updateDirectives:n||yi,updateRenderer:i||yi,handleEvent:(t,n,i,l)=>e[n].element.handleEvent(t,i,l),bindingCount:l,outputCount:s,lastRenderRootNode:p}}function eo(t){return 0!=(1&t.flags)&&null===t.element.name}function no(t,e,n){const i=e.element&&e.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function io(t,e,n,i){const l=ro(t.root,t.renderer,t,e,n);return oo(l,t.component,i),ao(l),l}function lo(t,e,n){const i=ro(t,t.renderer,null,null,e);return oo(i,n,n),ao(i),i}function so(t,e,n,i){const l=e.element.componentRendererType;let s;return s=l?t.root.rendererFactory.createRenderer(i,l):t.root.renderer,ro(t.root,s,t,e.element.componentProvider,n)}function ro(t,e,n,i,l){const s=new Array(l.nodes.length),r=l.outputCount?new Array(l.outputCount):null;return{def:l,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(l.bindingCount),disposables:r,initIndex:-1}}function oo(t,e,n){t.component=e,t.context=n}function ao(t){let e;Ri(t)&&(e=mi(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,i=t.nodes;for(let l=0;l<n.nodes.length;l++){const s=n.nodes[l];let r;switch(vi.setCurrentNode(t,l),201347067&s.flags){case 1:const n=Rr(t,e,s);let o=void 0;if(33554432&s.flags){const e=Wi(s.element.componentView);o=vi.createComponentView(t,s,e,n)}Lr(t,o,s,n),r={renderElement:n,componentView:o,viewContainer:null,template:s.element.template?vl(t,s):void 0},16777216&s.flags&&(r.viewContainer=ml(t,s,r));break;case 2:r=Qr(t,e,s);break;case 512:case 1024:case 2048:case 256:(r=i[l])||4096&s.flags||(r={instance:Vl(t,s)});break;case 16:r={instance:zl(t,s)};break;case 16384:(r=i[l])||(r={instance:jl(t,s)}),32768&s.flags&&oo(mi(t,s.parent.nodeIndex).componentView,r.instance,r.instance);break;case 32:case 64:case 128:r={value:void 0};break;case 67108864:case 134217728:r=new us;break;case 8:Yr(t,e,s),r=void 0}i[l]=r}vo(t,bo.CreateViewNodes),ko(t,201326592,268435456,0)}function uo(t){po(t),vi.updateDirectives(t,1),yo(t,bo.CheckNoChanges),vi.updateRenderer(t,1),vo(t,bo.CheckNoChanges),t.state&=-97}function co(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,hi(t,0,256),po(t),vi.updateDirectives(t,0),yo(t,bo.CheckAndUpdate),ko(t,67108864,536870912,0);let e=hi(t,256,512);Xl(t,2097152|(e?1048576:0)),vi.updateRenderer(t,0),vo(t,bo.CheckAndUpdate),ko(t,134217728,536870912,0),Xl(t,8388608|((e=hi(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,hi(t,768,1024)}function ho(t,e,n,i,l,s,r,o,a,u,c,h,d){return 0===n?function(t,e,n,i,l,s,r,o,a,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,i,l,s,r,o,a,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Vr(t,e,0,n)&&(p=!0),d>1&&Vr(t,e,1,i)&&(p=!0),d>2&&Vr(t,e,2,l)&&(p=!0),d>3&&Vr(t,e,3,s)&&(p=!0),d>4&&Vr(t,e,4,r)&&(p=!0),d>5&&Vr(t,e,5,o)&&(p=!0),d>6&&Vr(t,e,6,a)&&(p=!0),d>7&&Vr(t,e,7,u)&&(p=!0),d>8&&Vr(t,e,8,c)&&(p=!0),d>9&&Vr(t,e,9,h)&&(p=!0),p}(t,e,n,i,l,s,r,o,a,u,c,h);case 2:return function(t,e,n,i,l,s,r,o,a,u,c,h){let d=!1;const p=e.bindings,m=p.length;if(m>0&&Pi(t,e,0,n)&&(d=!0),m>1&&Pi(t,e,1,i)&&(d=!0),m>2&&Pi(t,e,2,l)&&(d=!0),m>3&&Pi(t,e,3,s)&&(d=!0),m>4&&Pi(t,e,4,r)&&(d=!0),m>5&&Pi(t,e,5,o)&&(d=!0),m>6&&Pi(t,e,6,a)&&(d=!0),m>7&&Pi(t,e,7,u)&&(d=!0),m>8&&Pi(t,e,8,c)&&(d=!0),m>9&&Pi(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;m>0&&(d+=Jr(n,p[0])),m>1&&(d+=Jr(i,p[1])),m>2&&(d+=Jr(l,p[2])),m>3&&(d+=Jr(s,p[3])),m>4&&(d+=Jr(r,p[4])),m>5&&(d+=Jr(o,p[5])),m>6&&(d+=Jr(a,p[6])),m>7&&(d+=Jr(u,p[7])),m>8&&(d+=Jr(c,p[8])),m>9&&(d+=Jr(h,p[9]));const g=pi(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,i,l,s,r,o,a,u,c,h);case 16384:return function(t,e,n,i,l,s,r,o,a,u,c,h){const d=gi(t,e.nodeIndex),p=d.instance;let m=!1,g=void 0;const f=e.bindings.length;return f>0&&Mi(t,e,0,n)&&(m=!0,g=Gl(t,d,e,0,n,g)),f>1&&Mi(t,e,1,i)&&(m=!0,g=Gl(t,d,e,1,i,g)),f>2&&Mi(t,e,2,l)&&(m=!0,g=Gl(t,d,e,2,l,g)),f>3&&Mi(t,e,3,s)&&(m=!0,g=Gl(t,d,e,3,s,g)),f>4&&Mi(t,e,4,r)&&(m=!0,g=Gl(t,d,e,4,r,g)),f>5&&Mi(t,e,5,o)&&(m=!0,g=Gl(t,d,e,5,o,g)),f>6&&Mi(t,e,6,a)&&(m=!0,g=Gl(t,d,e,6,a,g)),f>7&&Mi(t,e,7,u)&&(m=!0,g=Gl(t,d,e,7,u,g)),f>8&&Mi(t,e,8,c)&&(m=!0,g=Gl(t,d,e,8,c,g)),f>9&&Mi(t,e,9,h)&&(m=!0,g=Gl(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&di(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),m}(t,e,n,i,l,s,r,o,a,u,c,h);case 32:case 64:case 128:return function(t,e,n,i,l,s,r,o,a,u,c,h){const d=e.bindings;let p=!1;const m=d.length;if(m>0&&Pi(t,e,0,n)&&(p=!0),m>1&&Pi(t,e,1,i)&&(p=!0),m>2&&Pi(t,e,2,l)&&(p=!0),m>3&&Pi(t,e,3,s)&&(p=!0),m>4&&Pi(t,e,4,r)&&(p=!0),m>5&&Pi(t,e,5,o)&&(p=!0),m>6&&Pi(t,e,6,a)&&(p=!0),m>7&&Pi(t,e,7,u)&&(p=!0),m>8&&Pi(t,e,8,c)&&(p=!0),m>9&&Pi(t,e,9,h)&&(p=!0),p){const p=fi(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),m>0&&(g[0]=n),m>1&&(g[1]=i),m>2&&(g[2]=l),m>3&&(g[3]=s),m>4&&(g[4]=r),m>5&&(g[5]=o),m>6&&(g[6]=a),m>7&&(g[7]=u),m>8&&(g[8]=c),m>9&&(g[9]=h);break;case 64:g={},m>0&&(g[d[0].name]=n),m>1&&(g[d[1].name]=i),m>2&&(g[d[2].name]=l),m>3&&(g[d[3].name]=s),m>4&&(g[d[4].name]=r),m>5&&(g[d[5].name]=o),m>6&&(g[d[6].name]=a),m>7&&(g[d[7].name]=u),m>8&&(g[d[8].name]=c),m>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(m){case 1:g=t.transform(n);break;case 2:g=t.transform(i);break;case 3:g=t.transform(i,l);break;case 4:g=t.transform(i,l,s);break;case 5:g=t.transform(i,l,s,r);break;case 6:g=t.transform(i,l,s,r,o);break;case 7:g=t.transform(i,l,s,r,o,a);break;case 8:g=t.transform(i,l,s,r,o,a,u);break;case 9:g=t.transform(i,l,s,r,o,a,u,c);break;case 10:g=t.transform(i,l,s,r,o,a,u,c,h)}}p.value=g}return p}(t,e,n,i,l,s,r,o,a,u,c,h);default:throw"unreachable"}}(t,e,i,l,s,r,o,a,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let i=!1;for(let l=0;l<n.length;l++)Vr(t,e,l,n[l])&&(i=!0);return i}(t,e,n);case 2:return function(t,e,n){const i=e.bindings;let l=!1;for(let s=0;s<n.length;s++)Pi(t,e,s,n[s])&&(l=!0);if(l){let l="";for(let t=0;t<n.length;t++)l+=Jr(n[t],i[t]);l=e.text.prefix+l;const s=pi(t,e.nodeIndex).renderText;t.renderer.setValue(s,l)}return l}(t,e,n);case 16384:return function(t,e,n){const i=gi(t,e.nodeIndex),l=i.instance;let s=!1,r=void 0;for(let o=0;o<n.length;o++)Mi(t,e,o,n[o])&&(s=!0,r=Gl(t,i,e,o,n[o],r));return r&&l.ngOnChanges(r),65536&e.flags&&di(t,256,e.nodeIndex)&&l.ngOnInit(),262144&e.flags&&l.ngDoCheck(),s}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const i=e.bindings;let l=!1;for(let s=0;s<n.length;s++)Pi(t,e,s,n[s])&&(l=!0);if(l){const l=fi(t,e.nodeIndex);let s;switch(201347067&e.flags){case 32:s=n;break;case 64:s={};for(let l=0;l<n.length;l++)s[i[l].name]=n[l];break;case 128:const t=n[0],e=n.slice(1);s=t.transform(...e)}l.value=s}return l}(t,e,n);default:throw"unreachable"}}(t,e,i)}function po(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const i=e.nodes[n];if(4&i.flags){const e=mi(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const i=e[n];i.state|=32,Ii(i,t)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function mo(t,e,n,i,l,s,r,o,a,u,c,h,d){return 0===n?function(t,e,n,i,l,s,r,o,a,u,c,h){const d=e.bindings.length;d>0&&Ai(t,e,0,n),d>1&&Ai(t,e,1,i),d>2&&Ai(t,e,2,l),d>3&&Ai(t,e,3,s),d>4&&Ai(t,e,4,r),d>5&&Ai(t,e,5,o),d>6&&Ai(t,e,6,a),d>7&&Ai(t,e,7,u),d>8&&Ai(t,e,8,c),d>9&&Ai(t,e,9,h)}(t,e,i,l,s,r,o,a,u,c,h,d):function(t,e,n){for(let i=0;i<n.length;i++)Ai(t,e,i,n[i])}(t,e,i),!1}function go(t,e){if(bi(t,e.nodeIndex).dirty)throw ai(vi.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function fo(t){if(!(128&t.state)){if(yo(t,bo.Destroy),vo(t,bo.Destroy),Xl(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Oi(t);if(e){const n=e.template._projectedViews;n&&(ee(n,n.indexOf(t)),vi.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(mi(t,n).renderElement):2&e.flags?t.renderer.destroyNode(pi(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&bi(t,n).destroy()}}(t),Ri(t)&&t.renderer.destroy(),t.state|=128}}const bo=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function vo(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const l=n.nodes[i];33554432&l.flags?wo(mi(t,i).componentView,e):0==(33554432&l.childFlags)&&(i+=l.childCount)}}function yo(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let i=0;i<n.nodes.length;i++){const l=n.nodes[i];if(16777216&l.flags){const n=mi(t,i).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)wo(n[t],e)}else 0==(16777216&l.childFlags)&&(i+=l.childCount)}}function wo(t,e){const n=t.state;switch(e){case bo.CheckNoChanges:0==(128&n)&&(12==(12&n)?uo(t):64&n&&xo(t,bo.CheckNoChangesProjectedViews));break;case bo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?uo(t):64&n&&xo(t,e));break;case bo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?co(t):64&n&&xo(t,bo.CheckAndUpdateProjectedViews));break;case bo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?co(t):64&n&&xo(t,e));break;case bo.Destroy:fo(t);break;case bo.CreateViewNodes:ao(t)}}function xo(t,e){yo(t,e),vo(t,e)}function ko(t,e,n,i){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const l=t.def.nodes.length;for(let s=0;s<l;s++){const l=t.def.nodes[s];if(l.flags&e&&l.flags&n)switch(vi.setCurrentNode(t,l.nodeIndex),i){case 0:Hr(t,l);break;case 1:go(t,l)}l.childFlags&e&&l.childFlags&n||(s+=l.childCount)}}let _o=!1;function Co(t,e,n,i,l,s){const r=l.injector.get(Ln);return lo(So(t,l,r,e,n),i,s)}function To(t,e,n,i,l,s){const r=l.injector.get(Ln),o=So(t,l,new la(r),e,n),a=Ro(i);return na(Ho.create,lo,null,[o,a,s])}function So(t,e,n,i,l){const s=e.injector.get(Le),r=e.injector.get(he),o=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:i,selectorOrNode:l,sanitizer:s,rendererFactory:n,renderer:o,errorHandler:r}}function Mo(t,e,n,i){const l=Ro(n);return na(Ho.create,io,null,[t,e,l,i])}function Po(t,e,n,i){return n=Do.get(e.element.componentProvider.provider.token)||Ro(n),na(Ho.create,so,null,[t,e,n,i])}function Ao(t,e,n,i){return Tl(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===Eo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const i=Eo.get(t.token);3840&t.flags&&i&&(e=!0,n=n||i.deprecatedBehavior)}),t.modules.forEach(t=>{Io.forEach((i,l)=>{_t(l).providedIn===t&&(e=!0,n=n||i.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const i=t.providers[e];n&&(i.flags|=4096);const l=Eo.get(i.token);l&&(i.flags=-3841&i.flags|l.flags,i.deps=zi(l.deps),i.value=l.value)}if(Io.size>0){let e=new Set(t.modules);Io.forEach((i,l)=>{if(e.has(_t(l).providedIn)){let e={token:l,flags:i.flags|(n?4096:0),deps:zi(i.deps),value:i.value,index:t.providers.length};t.providers.push(e),t.providersByKey[xi(l)]=e}})}}(t=t.factory(()=>yi)),t):t}(i))}const Eo=new Map,Io=new Map,Do=new Map;function Oo(t){let e;Eo.set(t.token,t),"function"==typeof t.token&&(e=_t(t.token))&&"function"==typeof e.providedIn&&Io.set(t.token,t)}function Fo(t,e){const n=Wi(e.viewDefFactory),i=Wi(n.nodes[0].element.componentView);Do.set(t,i)}function No(){Eo.clear(),Io.clear(),Do.clear()}function Ro(t){if(0===Eo.size)return t;const e=function(t){const e=[];let n=null;for(let i=0;i<t.nodes.length;i++){const l=t.nodes[i];1&l.flags&&(n=l),n&&3840&l.flags&&Eo.has(l.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>yi);for(let i=0;i<e.length;i++)n(t,e[i]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=Eo.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=zi(n.deps),t.value=n.value)}}}}function Lo(t,e,n,i,l,s,r,o,a,u,c,h,d){const p=t.def.nodes[e];return ho(t,p,n,i,l,s,r,o,a,u,c,h,d),224&p.flags?fi(t,e).value:void 0}function Bo(t,e,n,i,l,s,r,o,a,u,c,h,d){const p=t.def.nodes[e];return mo(t,p,n,i,l,s,r,o,a,u,c,h,d),224&p.flags?fi(t,e).value:void 0}function Vo(t){return na(Ho.detectChanges,co,null,[t])}function zo(t){return na(Ho.checkNoChanges,uo,null,[t])}function jo(t){return na(Ho.destroy,fo,null,[t])}const Ho=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Wo,Uo,$o;function Yo(t,e){Uo=t,$o=e}function qo(t,e,n,i){return Yo(t,e),na(Ho.handleEvent,t.def.handleEvent,null,[t,e,n,i])}function Go(t,e){if(128&t.state)throw ci(Ho[Wo]);return Yo(t,Qo(t,0)),t.def.updateDirectives((function(t,n,i,...l){const s=t.def.nodes[n];return 0===e?Ko(t,s,i,l):Zo(t,s,i,l),16384&s.flags&&Yo(t,Qo(t,n)),224&s.flags?fi(t,s.nodeIndex).value:void 0}),t)}function Xo(t,e){if(128&t.state)throw ci(Ho[Wo]);return Yo(t,Jo(t,0)),t.def.updateRenderer((function(t,n,i,...l){const s=t.def.nodes[n];return 0===e?Ko(t,s,i,l):Zo(t,s,i,l),3&s.flags&&Yo(t,Jo(t,n)),224&s.flags?fi(t,s.nodeIndex).value:void 0}),t)}function Ko(t,e,n,i){if(ho(t,e,n,...i)){const r=1===n?i[0]:i;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const i=e.bindings[t],o=r[t];8&i.flags&&(n[(l=i.nonMinifiedName,s=void 0,s=l.replace(/[$@]/g,"_"),`ng-reflect-${l=s.replace(ze,(...t)=>"-"+t[1].toLowerCase())}`)]=je(o))}const i=e.parent,o=mi(t,i.nodeIndex).renderElement;if(i.element.name)for(let e in n){const i=n[e];null!=i?t.renderer.setAttribute(o,e,i):t.renderer.removeAttribute(o,e)}else t.renderer.setValue(o,`bindings=${JSON.stringify(n,null,2)}`)}}var l,s}function Zo(t,e,n,i){mo(t,e,n,...i)}function Qo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function Jo(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class ta{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,i=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&i;)n=Fi(i),i=i.parent;this.elDef=n,this.elView=i}get elOrCompView(){return mi(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return wl(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){ea(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&ea(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Ri(t);)t=t.parent;return t.parent?mi(t.parent,Fi(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Ni(this.view,this.nodeDef):Ni(this.elView,this.elDef)}logError(t,...e){let n,i;2&this.nodeDef.flags?(n=this.view.def,i=this.nodeDef.nodeIndex):(n=this.elView.def,i=this.elDef.nodeIndex);const l=function(t,e){let n=-1;for(let i=0;i<=e;i++)3&t.nodes[i].flags&&n++;return n}(n,i);let s=-1;n.factory(()=>++s===l?t.error.bind(t,...e):yi),s<l&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function ea(t,e,n){for(let i in e.references)n[i]=Ur(t,e,e.references[i])}function na(t,e,n,i){const l=Wo,s=Uo,r=$o;try{Wo=t;const o=e.apply(n,i);return Uo=s,$o=r,Wo=l,o}catch(u){if(ae(u)||!Uo)throw u;throw o=u,a=ia(),o instanceof Error||(o=new Error(o.toString())),ui(o,a),o}var o,a}function ia(){return Uo?new ta(Uo,$o):null}class la{constructor(t){this.delegate=t}createRenderer(t,e){return new sa(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class sa{constructor(t){this.delegate=t,this.debugContextFactory=ia,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=Sr(t);!function(t){Tr.delete(t.nativeNode)}(e),e instanceof _r&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),i=this.createDebugContext(n);if(i){const e=new Cr(n,null,i);e.name=t,Mr(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Mr(new _r(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Mr(new _r(e,null,n)),e}appendChild(t,e){const n=Sr(t),i=Sr(e);n&&i&&n instanceof Cr&&n.addChild(i),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const i=Sr(t),l=Sr(e),s=Sr(n);i&&l&&i instanceof Cr&&i.insertBefore(s,l),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=Sr(t),i=Sr(e);n&&i&&n instanceof Cr&&n.removeChild(i),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),i=ia();return i&&Mr(new Cr(n,null,i)),n}setAttribute(t,e,n,i){const l=Sr(t);l&&l instanceof Cr&&(l.attributes[i?i+":"+e:e]=n),this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){const i=Sr(t);i&&i instanceof Cr&&(i.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=Sr(t);n&&n instanceof Cr&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=Sr(t);n&&n instanceof Cr&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,i){const l=Sr(t);l&&l instanceof Cr&&(l.styles[e]=n),this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){const i=Sr(t);i&&i instanceof Cr&&(i.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const i=Sr(t);i&&i instanceof Cr&&(i.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const i=Sr(t);i&&i.listeners.push(new kr(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function ra(t,e,n){return new oa(t,e,n)}class oa extends Jt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(_o)return;_o=!0;const t=me()?{setCurrentNode:Yo,createRootView:To,createEmbeddedView:Mo,createComponentView:Po,createNgModuleRef:Ao,overrideProvider:Oo,overrideComponentView:Fo,clearOverrides:No,checkAndUpdateView:Vo,checkNoChangesView:zo,destroyView:jo,createDebugContext:(t,e)=>new ta(t,e),handleEvent:qo,updateDirectives:Go,updateRenderer:Xo}:{setCurrentNode:()=>{},createRootView:Co,createEmbeddedView:io,createComponentView:so,createNgModuleRef:Tl,overrideProvider:yi,overrideComponentView:yi,clearOverrides:yi,checkAndUpdateView:co,checkNoChangesView:uo,destroyView:fo,createDebugContext:(t,e)=>new ta(t,e),handleEvent:(t,e,n,i)=>t.def.handleEvent(t,e,n,i),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?Lo:Bo,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?Lo:Bo,t)};vi.setCurrentNode=t.setCurrentNode,vi.createRootView=t.createRootView,vi.createEmbeddedView=t.createEmbeddedView,vi.createComponentView=t.createComponentView,vi.createNgModuleRef=t.createNgModuleRef,vi.overrideProvider=t.overrideProvider,vi.overrideComponentView=t.overrideComponentView,vi.clearOverrides=t.clearOverrides,vi.checkAndUpdateView=t.checkAndUpdateView,vi.checkNoChangesView=t.checkNoChangesView,vi.destroyView=t.destroyView,vi.resolveDep=Yl,vi.createDebugContext=t.createDebugContext,vi.handleEvent=t.handleEvent,vi.updateDirectives=t.updateDirectives,vi.updateRenderer=t.updateRenderer,vi.dirtyParentQueries=jr}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),i={};for(const l in t.providersByKey)i[l]=t.providersByKey[l];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:i}}(Wi(this._ngModuleDefFactory));return vi.createNgModuleRef(this.moduleType,t||sn.NULL,this._bootstrapComponents,e)}}const aa={production:!0,urlApi:"https://baphuc10081998.pythonanywhere.com/",token:localStorage.getItem("bearToken")};class ua{}class ca{constructor(){this.title="GDentalAdminsite"}}class ha extends A{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}class da{constructor(t,e){this.elementRef=t,this.renderer=e,this._renderClass="default",this._imgSrc="default",this.completed=new os}get renderClass(){return this._renderClass}set renderClass(t){this._renderClass=t,this.setCustomClass()}get imgSrc(){return this._imgSrc}set imgSrc(t){this._imgSrc=t,this.addImage(this._imgSrc)}ngOnInit(){}setCustomClass(){const t=this.elementRef.nativeElement;this.renderer.removeClass(t,"default"),this.renderer.addClass(t,this._renderClass)}addImage(t){const e=this.elementRef.nativeElement,n=this.renderer.createElement("img");this.renderer.setAttribute(n,"src",t),this.renderer.listen(n,"load",t=>{console.log("loading completed",t),this.completed.emit(!0)}),this.renderer.appendChild(e,n)}}class pa{constructor(){this.printOpenWindow=!0,this.timeToWaitRender=200}}let ma=(()=>{class t{constructor(t,e,n){this.resolver=e,this.injector=n,this.printWindowOpen=new ha(!1),this._printItems=new ha([]),this.$printItems=this._printItems.asObservable(),this.timeToWaitRender=200,this.renderClass="default",this.printOpenWindow=!0,this.$printWindowOpen=this.printWindowOpen.asObservable(),this.setRootConfigOptions(t)}setRootConfigOptions(t){t&&(t.printOpenWindow&&(this.printOpenWindow=t.printOpenWindow),t.timeToWaitRender&&(this.timeToWaitRender=t.timeToWaitRender),t.renderClass&&(this.renderClass=t.renderClass))}printDiv(t){const e=document.getElementById(t);e?this.print(e,this.printOpenWindow):console.log("div with id ${divID} not found..")}printByClassName(t){const e=document.getElementsByClassName(t);e&&e.length>0?this.print(e[0],this.printOpenWindow):console.log("element with id ${className} not found..")}printAngular(t){const e=this.createComponent(t);this.print(e.nativeElement,this.printOpenWindow)}printImg(t){const e=this.createComponent(null,t),n=this.printOpenWindow;e.instance.completed.subscribe(t=>{e.hostView.detectChanges(),console.log("completed:",t),this.print(e.location.nativeElement,n)})}printHTMLElement(t){this.print(t,this.printOpenWindow)}createComponent(t,e){const n=this.resolver.resolveComponentFactory(da);let i;if(t){const e=this.resolveNgContent(t);i=n.create(this.injector,e)}else i=n.create(this.injector);return i.instance.renderClass=this.renderClass,e?(i.instance.imgSrc=e,i):(i.hostView.detectChanges(),i.location)}print(t,e){if(e){const e=t.cloneNode(!0);this.printInNewWindow(e)}else{const e=t.cloneNode(!0),n=this.createComponent(e).nativeElement;this.openNgxPrinter=n,document.body.appendChild(this.openNgxPrinter),this.printCurrentWindow()}}printInNewWindow(t){const e=window.open("","PRINT");let n=document.title;e.document.write("<HTML><HEAD><TITLE>"+n+"</TITLE></HEAD><BODY></BODY></HTML>");const i=e.document;i.body.style.margin="0 0",i.body.appendChild(t),e.document.close(),setTimeout(()=>this.printWindow(e,i),this.timeToWaitRender)}printWindow(t,e){this.printWindowOpen.next(!0),e.close(),t.focus(),!1===t.document.execCommand("print")&&t.print(),console.log("close print window"),t.close(),setTimeout(()=>{t.close(),this.printWindowOpen.next(!1)},20)}printCurrentWindow(){setTimeout(()=>{this.printWindowOpen.next(!0),!1===document.execCommand("print")&&window.print(),document.body.removeChild(this.openNgxPrinter),this.printWindowOpen.next(!1)},this.timeToWaitRender)}resolveNgContent(t){if("string"==typeof t)return[[document.createTextNode(t)]];if(t instanceof li)return[t.createEmbeddedView(null).rootNodes];if(t instanceof HTMLElement)return[[t]];const e=this.resolver.resolveComponentFactory(t).create(this.injector);return e.changeDetectorRef.detectChanges(),[[e.location.nativeElement]]}addPrintItem(t){const e=this._printItems.getValue();e.push(t),this._printItems.next(e)}removePrintItem(t){const e=this._printItems.getValue().filter(e=>e.id!==t);this._printItems.next(e)}printPrintItem(t){this.printHTMLElement(t.nativeElement)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(pa,8),qt(En),qt(Nt))},token:t,providedIn:"root"}),t})();class ga{static forRoot(t){return{ngModule:ga,providers:[{provide:pa,useValue:t}]}}}var fa=Ti({encapsulation:0,styles:[".default[_nghost-%COMP%]{background-color:#fff;height:100%;width:100%;position:fixed;top:0;left:0;margin:0;z-index:1000000}"],data:{}});function ba(t){return to(0,[$r(null,0)],null,null)}function va(t){return to(0,[(t()(),Nr(0,0,null,null,1,"ngx-printer",[],null,null,null,ba,fa)),Nl(1,114688,null,0,da,[Fn,Vn],null,null)],(function(t,e){t(e,1,0)}),null)}var ya=hl("ngx-printer",da,va,{},{completed:"completed"},["*"]);class wa{}const xa=new Ft("Location Initialized");class ka{}const _a=new Ft("appBaseHref");class Ca{constructor(t,e){this._subject=new os,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Ca.stripTrailingSlash(Ta(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ca.normalizeQueryParams(e))}normalize(t){return Ca.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Ta(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ca.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ca.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function Ta(t){return t.replace(/\/index.html$/,"")}class Sa extends ka{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ca.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,i){let l=this.prepareExternalUrl(n+Ca.normalizeQueryParams(i));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,e,l)}replaceState(t,e,n,i){let l=this.prepareExternalUrl(n+Ca.normalizeQueryParams(i));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class Ma extends ka{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ca.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ca.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const l=this.prepareExternalUrl(n+Ca.normalizeQueryParams(i));this._platformLocation.pushState(t,e,l)}replaceState(t,e,n,i){const l=this.prepareExternalUrl(n+Ca.normalizeQueryParams(i));this._platformLocation.replaceState(t,e,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const Pa=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),Aa=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),Ea=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),Ia=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),Da=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),Oa=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Fa(t,e){return za(is(t)[ts.DateFormat],e)}function Na(t,e){return za(is(t)[ts.TimeFormat],e)}function Ra(t,e){return za(is(t)[ts.DateTimeFormat],e)}function La(t,e){const n=is(t),i=n[ts.NumberSymbols][e];if(void 0===i){if(e===Oa.CurrencyDecimal)return n[ts.NumberSymbols][Oa.Decimal];if(e===Oa.CurrencyGroup)return n[ts.NumberSymbols][Oa.Group]}return i}const Ba=function(t){return is(t)[ts.PluralCase]};function Va(t){if(!t[ts.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[ts.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function za(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function ja(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Ha=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wa={},Ua=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,$a=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Ya=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),qa=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Ga(t,e,n,i){let l=function(t){if(su(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,i]=t.split("-").map(t=>+t);return new Date(e,n-1,i)}let n;if(n=t.match(Ha))return function(t){const e=new Date(0);let n=0,i=0;const l=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),l.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const r=Number(t[4]||0)-n,o=Number(t[5]||0)-i,a=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,r,o,a,u),e}(n)}const e=new Date(t);if(!su(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return is(t)[ts.LocaleId]}(e);if(Wa[i]=Wa[i]||{},Wa[i][n])return Wa[i][n];let l="";switch(n){case"shortDate":l=Fa(e,Da.Short);break;case"mediumDate":l=Fa(e,Da.Medium);break;case"longDate":l=Fa(e,Da.Long);break;case"fullDate":l=Fa(e,Da.Full);break;case"shortTime":l=Na(e,Da.Short);break;case"mediumTime":l=Na(e,Da.Medium);break;case"longTime":l=Na(e,Da.Long);break;case"fullTime":l=Na(e,Da.Full);break;case"short":const n=t(e,"shortTime"),i=t(e,"shortDate");l=Xa(Ra(e,Da.Short),[n,i]);break;case"medium":const s=t(e,"mediumTime"),r=t(e,"mediumDate");l=Xa(Ra(e,Da.Medium),[s,r]);break;case"long":const o=t(e,"longTime"),a=t(e,"longDate");l=Xa(Ra(e,Da.Long),[o,a]);break;case"full":const u=t(e,"fullTime"),c=t(e,"fullDate");l=Xa(Ra(e,Da.Full),[u,c])}return l&&(Wa[i][n]=l),l}(n,e)||e;let s,r=[];for(;e;){if(!(s=Ua.exec(e))){r.push(e);break}{const t=(r=r.concat(s.slice(1))).pop();if(!t)break;e=t}}let o=l.getTimezoneOffset();i&&(o=lu(i,o),l=function(t,e,n){const i=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(lu(e,i)-i))}(l,i));let a="";return r.forEach(t=>{const e=function(t){if(iu[t])return iu[t];let e;switch(t){case"G":case"GG":case"GGG":e=Qa(qa.Eras,Ia.Abbreviated);break;case"GGGG":e=Qa(qa.Eras,Ia.Wide);break;case"GGGGG":e=Qa(qa.Eras,Ia.Narrow);break;case"y":e=Za(Ya.FullYear,1,0,!1,!0);break;case"yy":e=Za(Ya.FullYear,2,0,!0,!0);break;case"yyy":e=Za(Ya.FullYear,3,0,!1,!0);break;case"yyyy":e=Za(Ya.FullYear,4,0,!1,!0);break;case"M":case"L":e=Za(Ya.Month,1,1);break;case"MM":case"LL":e=Za(Ya.Month,2,1);break;case"MMM":e=Qa(qa.Months,Ia.Abbreviated);break;case"MMMM":e=Qa(qa.Months,Ia.Wide);break;case"MMMMM":e=Qa(qa.Months,Ia.Narrow);break;case"LLL":e=Qa(qa.Months,Ia.Abbreviated,Ea.Standalone);break;case"LLLL":e=Qa(qa.Months,Ia.Wide,Ea.Standalone);break;case"LLLLL":e=Qa(qa.Months,Ia.Narrow,Ea.Standalone);break;case"w":e=nu(1);break;case"ww":e=nu(2);break;case"W":e=nu(1,!0);break;case"d":e=Za(Ya.Date,1);break;case"dd":e=Za(Ya.Date,2);break;case"E":case"EE":case"EEE":e=Qa(qa.Days,Ia.Abbreviated);break;case"EEEE":e=Qa(qa.Days,Ia.Wide);break;case"EEEEE":e=Qa(qa.Days,Ia.Narrow);break;case"EEEEEE":e=Qa(qa.Days,Ia.Short);break;case"a":case"aa":case"aaa":e=Qa(qa.DayPeriods,Ia.Abbreviated);break;case"aaaa":e=Qa(qa.DayPeriods,Ia.Wide);break;case"aaaaa":e=Qa(qa.DayPeriods,Ia.Narrow);break;case"b":case"bb":case"bbb":e=Qa(qa.DayPeriods,Ia.Abbreviated,Ea.Standalone,!0);break;case"bbbb":e=Qa(qa.DayPeriods,Ia.Wide,Ea.Standalone,!0);break;case"bbbbb":e=Qa(qa.DayPeriods,Ia.Narrow,Ea.Standalone,!0);break;case"B":case"BB":case"BBB":e=Qa(qa.DayPeriods,Ia.Abbreviated,Ea.Format,!0);break;case"BBBB":e=Qa(qa.DayPeriods,Ia.Wide,Ea.Format,!0);break;case"BBBBB":e=Qa(qa.DayPeriods,Ia.Narrow,Ea.Format,!0);break;case"h":e=Za(Ya.Hours,1,-12);break;case"hh":e=Za(Ya.Hours,2,-12);break;case"H":e=Za(Ya.Hours,1);break;case"HH":e=Za(Ya.Hours,2);break;case"m":e=Za(Ya.Minutes,1);break;case"mm":e=Za(Ya.Minutes,2);break;case"s":e=Za(Ya.Seconds,1);break;case"ss":e=Za(Ya.Seconds,2);break;case"S":e=Za(Ya.FractionalSeconds,1);break;case"SS":e=Za(Ya.FractionalSeconds,2);break;case"SSS":e=Za(Ya.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ja($a.Short);break;case"ZZZZZ":e=Ja($a.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ja($a.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ja($a.Long);break;default:return null}return iu[t]=e,e}(t);a+=e?e(l,n,o):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}function Xa(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Ka(t,e,n="-",i,l){let s="";(t<0||l&&t<=0)&&(l?t=1-t:(t=-t,s=n));let r=String(t);for(;r.length<e;)r="0"+r;return i&&(r=r.substr(r.length-e)),s+r}function Za(t,e,n=0,i=!1,l=!1){return function(s,r){let o=function(t,e){switch(t){case Ya.FullYear:return e.getFullYear();case Ya.Month:return e.getMonth();case Ya.Date:return e.getDate();case Ya.Hours:return e.getHours();case Ya.Minutes:return e.getMinutes();case Ya.Seconds:return e.getSeconds();case Ya.FractionalSeconds:return e.getMilliseconds();case Ya.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||o>-n)&&(o+=n),t===Ya.Hours)0===o&&-12===n&&(o=12);else if(t===Ya.FractionalSeconds)return a=e,Ka(o,3).substr(0,a);var a;const u=La(r,Oa.MinusSign);return Ka(o,e,u,i,l)}}function Qa(t,e,n=Ea.Format,i=!1){return function(l,s){return function(t,e,n,i,l,s){switch(n){case qa.Months:return function(t,e,n){const i=is(t),l=za([i[ts.MonthsFormat],i[ts.MonthsStandalone]],e);return za(l,n)}(e,l,i)[t.getMonth()];case qa.Days:return function(t,e,n){const i=is(t),l=za([i[ts.DaysFormat],i[ts.DaysStandalone]],e);return za(l,n)}(e,l,i)[t.getDay()];case qa.DayPeriods:const r=t.getHours(),o=t.getMinutes();if(s){const t=function(t){const e=is(t);return Va(e),(e[ts.ExtraData][2]||[]).map(t=>"string"==typeof t?ja(t):[ja(t[0]),ja(t[1])])}(e),n=function(t,e,n){const i=is(t);Va(i);const l=za([i[ts.ExtraData][0],i[ts.ExtraData][1]],e)||[];return za(l,n)||[]}(e,l,i);let s;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:i,minutes:l}=t[0],{hours:a,minutes:u}=t[1];r>=i&&o>=l&&(r<a||r===a&&o<u)&&(s=n[e])}else{const{hours:i,minutes:l}=t;i===r&&l===o&&(s=n[e])}}),s)return s}return function(t,e,n){const i=is(t),l=za([i[ts.DayPeriodsFormat],i[ts.DayPeriodsStandalone]],e);return za(l,n)}(e,l,i)[r<12?0:1];case qa.Eras:return function(t,e){return za(is(t)[ts.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(l,s,t,e,n,i)}}function Ja(t){return function(e,n,i){const l=-1*i,s=La(n,Oa.MinusSign),r=l>0?Math.floor(l/60):Math.ceil(l/60);switch(t){case $a.Short:return(l>=0?"+":"")+Ka(r,2,s)+Ka(Math.abs(l%60),2,s);case $a.ShortGMT:return"GMT"+(l>=0?"+":"")+Ka(r,1,s);case $a.Long:return"GMT"+(l>=0?"+":"")+Ka(r,2,s)+":"+Ka(Math.abs(l%60),2,s);case $a.Extended:return 0===i?"Z":(l>=0?"+":"")+Ka(r,2,s)+":"+Ka(Math.abs(l%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}const tu=0,eu=4;function nu(t,e=!1){return function(n,i){let l;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();l=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,tu,1).getDay();return new Date(t,0,1+(e<=eu?eu:eu+7)-e)}(n.getFullYear()),e=(s=n,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(eu-s.getDay()))).getTime()-t.getTime();l=1+Math.round(e/6048e5)}var s;return Ka(l,t,La(i,Oa.MinusSign))}}const iu={};function lu(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function su(t){return t instanceof Date&&!isNaN(t.valueOf())}const ru=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ou=22,au=".",uu="0",cu=";",hu=",",du="#";function pu(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}const mu=new Ft("UseV4Plurals");class gu{}class fu extends gu{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):Ba(e||this.locale)(t)){case Aa.Zero:return"zero";case Aa.One:return"one";case Aa.Two:return"two";case Aa.Few:return"few";case Aa.Many:return"many";default:return"other"}}}function bu(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,l]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}class vu{}class yu{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(wn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Tt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let wu=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class xu extends wu{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class ku{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class _u{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){me()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ku(null,this._ngForOf,-1,-1),null===i?void 0:i),l=new Cu(t,n);e.push(l)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const l=this._viewContainer.get(n);this._viewContainer.move(l,i);const s=new Cu(t,l);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class Cu{constructor(t,e){this.record=t,this.view=e}}class Tu{constructor(t,e){this._viewContainer=t,this._context=new Su,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Mu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Mu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class Su{constructor(){this.$implicit=null,this.ngIf=null}}function Mu(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Tt(e)}'.`)}class Pu{}class Au{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n}getValue(){return null}setNgStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}applyChanges(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}_setStyle(t,e){const[n,i]=t.split(".");null!=(e=null!=e&&i?`${e}${i}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}let Eu=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class Iu extends Eu{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}class Du{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){this._shouldRecreateView(t)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}function Ou(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Tt(t)}'`)}class Fu{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Nu{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Ru=new Nu,Lu=new Fu;class Bu{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):bn(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,yn.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(kn(t))return Ru;if(_n(t))return Lu;throw Ou(Bu,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class Vu{constructor(t){this.locale=t}transform(t,e="mediumDate",n,i){if(null==t||""===t||t!=t)return null;try{return Ga(t,e,i||this.locale,n)}catch(l){throw Ou(Vu,l.message)}}}class zu{constructor(t){this._locale=t}transform(t,e,n){if(function(t){return null==t||""===t||t!=t}(t))return null;n=n||this._locale;try{return function(t,e,n){return function(t,e,n,i,l,s,r=!1){let o="",a=!1;if(isFinite(t)){let u=function(t){let e,n,i,l,s,r=Math.abs(t)+"",o=0;for((n=r.indexOf(au))>-1&&(r=r.replace(au,"")),(i=r.search(/e/i))>0?(n<0&&(n=i),n+=+r.slice(i+1),r=r.substring(0,i)):n<0&&(n=r.length),i=0;r.charAt(i)===uu;i++);if(i===(s=r.length))e=[0],n=1;else{for(s--;r.charAt(s)===uu;)s--;for(n-=i,e=[],l=0;i<=s;i++,l++)e[l]=Number(r.charAt(i))}return n>ou&&(e=e.splice(0,ou-1),o=n-1,n=1),{digits:e,exponent:o,integerLen:n}}(t);r&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let c=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(ru);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],i=t[5];null!=e&&(c=pu(e)),null!=n&&(h=pu(n)),null!=i?d=pu(i):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let i=t.digits,l=i.length-t.integerLen;const s=Math.min(Math.max(e,l),n);let r=s+t.integerLen,o=i[r];if(r>0){i.splice(Math.max(t.integerLen,r));for(let t=r;t<i.length;t++)i[t]=0}else{l=Math.max(0,l),t.integerLen=1,i.length=Math.max(1,r=s+1),i[0]=0;for(let t=1;t<r;t++)i[t]=0}if(o>=5)if(r-1<0){for(let e=0;e>r;e--)i.unshift(0),t.integerLen++;i.unshift(1),t.integerLen++}else i[r-1]++;for(;l<Math.max(0,s);l++)i.push(0);let a=0!==s;const u=e+t.integerLen,c=i.reduceRight((function(t,e,n,i){return i[n]=(e+=t)<10?e:e-10,a&&(0===i[n]&&n>=u?i.pop():a=!1),e>=10?1:0}),0);c&&(i.unshift(c),t.integerLen++)}(u,h,d);let p=u.digits,m=u.integerLen;const g=u.exponent;let f=[];for(a=p.every(t=>!t);m<c;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?f=p.splice(m,p.length):(f=p,p=[0]);const b=[];for(p.length>=e.lgSize&&b.unshift(p.splice(-e.lgSize,p.length).join(""));p.length>e.gSize;)b.unshift(p.splice(-e.gSize,p.length).join(""));p.length&&b.unshift(p.join("")),o=b.join(La(n,i)),f.length&&(o+=La(n,l)+f.join("")),g&&(o+=La(n,Oa.Exponential)+"+"+g)}else o=La(n,Oa.Infinity);return t<0&&!a?e.negPre+o+e.negSuf:e.posPre+o+e.posSuf}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=t.split(cu),l=i[0],s=i[1],r=-1!==l.indexOf(au)?l.split(au):[l.substring(0,l.lastIndexOf(uu)+1),l.substring(l.lastIndexOf(uu)+1)],o=r[0],a=r[1]||"";n.posPre=o.substr(0,o.indexOf(du));for(let c=0;c<a.length;c++){const t=a.charAt(c);t===uu?n.minFrac=n.maxFrac=c+1:t===du?n.maxFrac=c+1:n.posSuf+=t}const u=o.split(hu);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const t=l.length-n.posPre.length-n.posSuf.length,e=s.indexOf(du);n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return is(t)[ts.NumberFormats][e]}(e,Pa.Decimal),La(e,Oa.MinusSign)),e,Oa.Group,Oa.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(t),n,e)}catch(i){throw Ou(zu,i.message)}}}class ju{}const Hu=new Ft("DocumentToken"),Wu="server";let Uu=(()=>{class t{}return t.ngInjectableDef=xt({token:t,providedIn:"root",factory:()=>new $u(qt(Hu),window,qt(he))}),t})();class $u{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(n-l[0],i-l[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}const Yu=new _(t=>t.complete());function qu(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):Yu}function Gu(t){const e=new _(e=>{e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Xu(...t){let e=t[t.length-1];switch(I(e)?t.pop():e=void 0,t.length){case 0:return qu(e);case 1:return e?q(t,e):Gu(t[0]);default:return q(t,e)}}function Ku(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Ku.prototype=Object.create(Error.prototype);const Zu=Ku,Qu={};function Ju(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),q(t,n).lift(new tc(e))}class tc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ec(t,this.resultSelector))}}class ec extends W{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Qu),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(H(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,i,l){const s=this.values,r=this.toRespond?s[n]===Qu?--this.toRespond:this.toRespond:0;s[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function nc(t){return new _(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?G(n):qu()).subscribe(e)})}function ic(){return J(1)}function lc(t,e){return function(n){return n.lift(new sc(t,e))}}class sc{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new rc(t,this.predicate,this.thisArg))}}class rc extends b{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function oc(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}oc.prototype=Object.create(Error.prototype);const ac=oc;function uc(t){return function(e){return 0===t?qu():e.lift(new cc(t))}}class cc{constructor(t){if(this.total=t,this.total<0)throw new ac}call(t,e){return e.subscribe(new hc(t,this.total))}}class hc extends b{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let l=0;l<n;l++){const l=e++%n;t.next(i[l])}}t.complete()}}function dc(t,e,n){return function(i){return i.lift(new pc(t,e,n))}}class pc{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new mc(t,this.nextOrObserver,this.error,this.complete))}}class mc extends b{constructor(t,e,n,i){super(t),this._tapNext=w,this._tapError=w,this._tapComplete=w,this._tapError=n||w,this._tapComplete=i||w,s(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||w,this._tapError=e.error||w,this._tapComplete=e.complete||w)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const gc=(t=fc)=>dc({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw t()}});function fc(){return new Zu}function bc(t=null){return e=>e.lift(new vc(t))}class vc{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new yc(t,this.defaultValue))}}class yc extends b{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function wc(t,e){const n=arguments.length>=2;return i=>i.pipe(t?lc((e,n)=>t(e,n,i)):Q,uc(1),n?bc(e):gc(()=>new Zu))}function xc(t){return function(e){const n=new kc(t),i=e.lift(n);return n.caught=i}}class kc{constructor(t){this.selector=t}call(t,e){return e.subscribe(new _c(t,this.selector,this.caught))}}class _c extends W{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const i=new D(this,void 0,void 0);this.add(i),H(this,n,void 0,void 0,i)}}}function Cc(t){return e=>0===t?qu():e.lift(new Tc(t))}class Tc{constructor(t){if(this.total=t,this.total<0)throw new ac}call(t,e){return e.subscribe(new Sc(t,this.total))}}class Sc extends b{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Mc(t,e){const n=arguments.length>=2;return i=>i.pipe(t?lc((e,n)=>t(e,n,i)):Q,Cc(1),n?bc(e):gc(()=>new Zu))}class Pc{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Ac(t,this.predicate,this.thisArg,this.source))}}class Ac extends b{constructor(t,e,n,i){super(t),this.predicate=e,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ec(t,e){return"function"==typeof e?n=>n.pipe(Ec((n,i)=>G(t(n,i)).pipe(U((t,l)=>e(n,t,i,l))))):e=>e.lift(new Ic(t))}class Ic{constructor(t){this.project=t}call(t,e){return e.subscribe(new Dc(t,this.project))}}class Dc extends W{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const l=new D(this,void 0,void 0);this.destination.add(l),this.innerSubscription=H(this,t,e,n,l)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,l){this.destination.next(e)}}function Oc(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Fc(t,e,n))}}class Fc{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Nc(t,this.accumulator,this.seed,this.hasSeed))}}class Nc extends b{constructor(t,e,n,i){super(t),this.accumulator=e,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function Rc(t,e){return X(t,e,1)}class Lc{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Bc(t,this.callback))}}class Bc extends b{constructor(t,e){super(t),this.add(new m(e))}}let Vc=null;function zc(){return Vc}class jc{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Hc extends jc{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(e).forEach(n=>{null!=this.getStyle(t,n)&&(this._transitionEnd=e[n])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Wc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Uc=3,$c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Yc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qc=(()=>{if(Ot.Node)return Ot.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class Gc extends Hc{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new Gc,Vc||(Vc=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Wc}contains(t,e){return qc.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=e[i];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(t,e),i}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const i=this.getStyle(t,e)||"";return n?i==n:i.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,i){t.setAttributeNS(e,n,i)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Uc&&Yc.hasOwnProperty(e)&&(e=Yc[e]))}return $c[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Kc||(Kc=document.querySelector("base"))?Kc.getAttribute("href"):null;return null==e?null:(n=e,Xc||(Xc=document.createElement("a")),Xc.setAttribute("href",n),"/"===Xc.pathname.charAt(0)?Xc.pathname:"/"+Xc.pathname);var n}resetBaseElement(){Kc=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return bu(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let Xc,Kc=null;function Zc(){return!!window.history.pushState}const Qc=new Ft("TRANSITION_ID"),Jc=[{provide:ws,useFactory:function(t,e,n){return()=>{n.get(xs).donePromise.then(()=>{const n=zc();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Qc,Hu,sn],multi:!0}];class th{static init(){var t;t=new th,lr=t}addToWindow(t){Ot.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ot.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ot.getAllAngularRootElements=()=>t.getAllRootElements(),Ot.frameworkStabilizers||(Ot.frameworkStabilizers=[]),Ot.frameworkStabilizers.push(t=>{const e=Ot.getAllAngularTestabilities();let n=e.length,i=!1;const l=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(l)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?zc().isShadowRoot(e)?this.findTestabilityInTree(t,zc().getHost(e),!0):this.findTestabilityInTree(t,zc().parentElement(e),!0):null}}function eh(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Ot.ng=Ot.ng||{})[t]=e)}const nh=(()=>({ApplicationRef:pr,NgZone:qs}))();function ih(t){return Sr(t)}const lh=new Ft("EventManagerPlugins");class sh{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class rh{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=zc().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}class oh{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class ah extends oh{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>zc().remove(t))}}const uh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ch=/%COMP%/g,hh="_nghost-%COMP%",dh="_ngcontent-%COMP%";function ph(t,e,n){for(let i=0;i<e.length;i++){let l=e[i];Array.isArray(l)?ph(t,l,n):(l=l.replace(ch,t),n.push(l))}return n}function mh(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class gh{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new fh(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case ie.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new yh(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case ie.Native:case ie.ShadowDom:return new wh(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ph(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class fh{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(uh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const l=uh[i];l?t.setAttributeNS(l,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=uh[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&Bn.DashCase?t.style.setProperty(e,n,i&Bn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Bn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){vh(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return vh(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mh(n)):this.eventManager.addEventListener(t,e,mh(n))}}const bh=(()=>"@".charCodeAt(0))();function vh(t,e){if(t.charCodeAt(0)===bh)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class yh extends fh{constructor(t,e,n,i){super(t),this.component=n;const l=ph(i+"-"+n.id,n.styles,[]);e.addStyles(l),this.contentAttr=dh.replace(ch,i+"-"+n.id),this.hostAttr=hh.replace(ch,i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class wh extends fh{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===ie.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const l=ph(i.id,i.styles,[]);for(let s=0;s<l.length;s++){const t=document.createElement("style");t.textContent=l[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const xh=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),kh=xh("addEventListener"),_h=xh("removeEventListener"),Ch={},Th="FALSE",Sh="ANGULAR",Mh="addEventListener",Ph="removeEventListener",Ah="__zone_symbol__propagationStopped",Eh="__zone_symbol__stopImmediatePropagation",Ih=(()=>{const t="undefined"!=typeof Zone&&Zone[xh("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Dh=function(t){return!!Ih&&Ih.hasOwnProperty(t)},Oh=function(t){const e=Ch[t.type];if(!e)return;const n=this[e];if(!n)return;const i=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Ah];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,i):t.handler.apply(this,i)}}};class Fh extends rh{constructor(t,e,n){super(t),this.ngZone=e,n&&function(t){return t===Wu}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Eh])return;const t=Event.prototype[Eh]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Ah]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let i=n;if(!t[kh]||qs.isInAngularZone()&&!Dh(e))t[Mh](e,i,!1);else{let n=Ch[e];n||(n=Ch[e]=xh(Sh+e+Th));let l=t[n];const s=l&&l.length>0;l||(l=t[n]=[]);const r=Dh(e)?Zone.root:Zone.current;if(0===l.length)l.push({zone:r,handler:i});else{let t=!1;for(let e=0;e<l.length;e++)if(l[e].handler===i){t=!0;break}t||l.push({zone:r,handler:i})}s||t[kh](e,Oh,!1)}return()=>this.removeEventListener(t,e,i)}removeEventListener(t,e,n){let i=t[_h];if(!i)return t[Ph].apply(t,[e,n,!1]);let l=Ch[e],s=l&&t[l];if(!s)return t[Ph].apply(t,[e,n,!1]);let r=!1;for(let o=0;o<s.length;o++)if(s[o].handler===n){r=!0,s.splice(o,1);break}r?0===s.length&&i.apply(t,[e,Oh,!1]):t[Ph].apply(t,[e,n,!1])}}const Nh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Rh=new Ft("HammerGestureConfig"),Lh=new Ft("HammerLoader");class Bh{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Vh extends rh{constructor(t,e,n,i){super(t),this._config=e,this.console=n,this.loader=i}supports(t){return!(!Nh.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let i=!1,l=()=>{i=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(l=()=>{});i||(l=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),l=()=>{}}),()=>{l()}}return i.runOutsideAngular(()=>{const l=this._config.buildHammer(t),s=function(t){i.runGuarded((function(){n(t)}))};return l.on(e,s),()=>{l.off(e,s),"function"==typeof l.destroy&&l.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const zh=["alt","control","meta","shift"],jh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Hh extends rh{constructor(t){super(t)}supports(t){return null!=Hh.parseEventName(t)}addEventListener(t,e,n){const i=Hh.parseEventName(e),l=Hh.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zc().onAndCancel(t,i.domEventName,l))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const i=Hh._normalizeKey(e.pop());let l="";if(zh.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),l+=t+".")}),l+=i,0!=e.length||0===i.length)return null;const s={};return s.domEventName=n,s.fullKey=l,s}static getEventFullKey(t){let e="",n=zc().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),zh.forEach(i=>{i!=n&&(0,jh[i])(t)&&(e+=i+".")}),e+=n}static eventCallback(t,e,n){return i=>{Hh.getEventFullKey(i)===t&&n.runGuarded(()=>e(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Wh{}class Uh extends Wh{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Re.NONE:return e;case Re.HTML:return e instanceof Yh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{Fe=Fe||new ge(t);let i=e?String(e):"";n=Fe.getInertBodyElement(i);let l=5,s=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=s,s=n.innerHTML,n=Fe.getInertBodyElement(i)}while(i!==s);const r=new Ee,o=r.sanitizeChildren(Ne(n)||n);return me()&&r.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n){const t=Ne(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Re.STYLE:return e instanceof qh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ve);return e&&ve(e[1])===e[1]||t.match(Be)&&function(t){let e=!0,n=!0;for(let i=0;i<t.length;i++){const l=t.charAt(i);"'"===l&&n?e=!e:'"'===l&&e&&(n=!n)}return e&&n}(t)?t:(me()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Re.SCRIPT:if(e instanceof Gh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Re.URL:return e instanceof Kh||e instanceof Xh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),ve(String(e)));case Re.RESOURCE_URL:if(e instanceof Kh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof $h)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Yh(t)}bypassSecurityTrustStyle(t){return new qh(t)}bypassSecurityTrustScript(t){return new Gh(t)}bypassSecurityTrustUrl(t){return new Xh(t)}bypassSecurityTrustResourceUrl(t){return new Kh(t)}}class $h{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Yh extends $h{getTypeName(){return"HTML"}}class qh extends $h{getTypeName(){return"Style"}}class Gh extends $h{getTypeName(){return"Script"}}class Xh extends $h{getTypeName(){return"URL"}}class Kh extends $h{getTypeName(){return"ResourceURL"}}const Zh=ur(Pr,"browser",[{provide:Ss,useValue:"browser"},{provide:Ts,useValue:function(){Gc.makeCurrent(),th.init()},multi:!0},{provide:wa,useClass:class extends wa{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=zc().getLocation(),this._history=zc().getHistory()}getBaseHrefFromDOM(){return zc().getBaseHref(this._doc)}onPopState(t){zc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){zc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Zc()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Zc()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Hu]},{provide:Hu,useFactory:function(){return document},deps:[]}]);function Qh(){return new he}class Jh{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Jh,providers:[{provide:ks,useValue:t.appId},{provide:Qc,useExisting:ks},Jc]}}}"undefined"!=typeof window&&window;class td{constructor(t,e){this.id=t,this.url=e}}class ed extends td{constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nd extends td{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class id extends td{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ld extends td{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sd extends td{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rd extends td{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class od extends td{constructor(t,e,n,i,l){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ad extends td{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ud extends td{constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cd{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hd{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class md{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fd{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class bd{}const vd="primary";class yd{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wd(t){return new yd(t)}const xd="ngNavigationCancelingError";function kd(t){const e=Error("NavigationCancelingError: "+t);return e[xd]=!0,e}function _d(t,e,n){const i=n.path.split("/");if(i.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const l={};for(let s=0;s<i.length;s++){const e=i[s],n=t[s];if(e.startsWith(":"))l[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,i.length),posParams:l}}class Cd{constructor(t,e){this.routes=t,this.module=e}}function Td(t,e=""){for(let n=0;n<t.length;n++){const i=t[n];Sd(i,Md(e,i))}}function Sd(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vd)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Td(t.children,e)}function Md(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Pd(t){const e=t.children&&t.children.map(Pd),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vd&&(n.component=bd),n}function Ad(t,e){const n=Object.keys(t),i=Object.keys(e);if(!n||!i||n.length!=i.length)return!1;let l;for(let s=0;s<n.length;s++)if(t[l=n[s]]!==e[l])return!1;return!0}function Ed(t){return Array.prototype.concat.apply([],t)}function Id(t){return t.length>0?t[t.length-1]:null}function Dd(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Od(t){return _n(t)?t:kn(t)?G(Promise.resolve(t)):Xu(t)}function Fd(t,e,n){return n?function(t,e){return Ad(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Bd(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,i,l){if(n.segments.length>l.length)return!!Bd(n.segments.slice(0,l.length),l)&&!i.hasChildren();if(n.segments.length===l.length){if(!Bd(n.segments,l))return!1;for(const e in i.children){if(!n.children[e])return!1;if(!t(n.children[e],i.children[e]))return!1}return!0}{const t=l.slice(0,n.segments.length),s=l.slice(n.segments.length);return!!Bd(n.segments,t)&&!!n.children[vd]&&e(n.children[vd],i,s)}}(e,n,n.segments)}(t.root,e.root)}class Nd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wd(this.queryParams)),this._queryParamMap}toString(){return Hd.serialize(this)}}class Rd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Dd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wd(this)}}class Ld{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wd(this.parameters)),this._parameterMap}toString(){return Xd(this)}}function Bd(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Vd(t,e){let n=[];return Dd(t.children,(t,i)=>{i===vd&&(n=n.concat(e(t,i)))}),Dd(t.children,(t,i)=>{i!==vd&&(n=n.concat(e(t,i)))}),n}class zd{}class jd{parse(t){const e=new tp(t);return new Nd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Wd(e);if(n){const n=e.children[vd]?t(e.children[vd],!1):"",i=[];return Dd(e.children,(e,n)=>{n!==vd&&i.push(`${n}:${t(e,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Vd(e,(n,i)=>i===vd?[t(e.children[vd],!1)]:[`${i}:${t(n,!1)}`]);return`${Wd(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${$d(e)}=${$d(t)}`).join("&"):`${$d(e)}=${$d(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Hd=new jd;function Wd(t){return t.segments.map(t=>Xd(t)).join("/")}function Ud(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $d(t){return Ud(t).replace(/%3B/gi,";")}function Yd(t){return Ud(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(t){return decodeURIComponent(t)}function Gd(t){return qd(t.replace(/\+/g,"%20"))}function Xd(t){return`${Yd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Yd(t)}=${Yd(e[t])}`).join("")}`;var e}const Kd=/^[^\/()?;=#]+/;function Zd(t){const e=t.match(Kd);return e?e[0]:""}const Qd=/^[^=?&#]+/,Jd=/^[^?&#]+/;class tp{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rd([],{}):new Rd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[vd]=new Rd(t,e)),n}parseSegment(){const t=Zd(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ld(qd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Zd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Zd(this.remaining);t&&this.capture(n=t)}t[qd(e)]=qd(n)}parseQueryParam(t){const e=function(t){const e=t.match(Qd);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Jd);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const i=Gd(e),l=Gd(n);if(t.hasOwnProperty(i)){let e=t[i];Array.isArray(e)||(t[i]=e=[e]),e.push(l)}else t[i]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Zd(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l=void 0;n.indexOf(":")>-1?(l=n.substr(0,n.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=vd);const s=this.parseChildren();e[l]=1===Object.keys(s).length?s[vd]:new Rd([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ep{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=np(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=np(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ip(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ip(t,this._root).map(t=>t.value)}}function np(t,e){if(t===e.value)return e;for(const n of e.children){const e=np(t,n);if(e)return e}return null}function ip(t,e){if(t===e.value)return[e];for(const n of e.children){const i=ip(t,n);if(i.length)return i.unshift(e),i}return[]}class lp{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sp(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class rp extends ep{constructor(t,e){super(t),this.snapshot=e,dp(this,t)}toString(){return this.snapshot.toString()}}function op(t,e){const n=function(t,e){const n=new cp([],{},{},"",{},vd,e,null,t.root,-1,{});return new hp("",new lp(n,[]))}(t,e),i=new ha([new Ld("",{})]),l=new ha({}),s=new ha({}),r=new ha({}),o=new ha(""),a=new ap(i,l,r,o,s,vd,e,n.root);return a.snapshot=n.root,new rp(new lp(a,[]),n)}class ap{constructor(t,e,n,i,l,s,r,o){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=l,this.outlet=s,this.component=r,this._futureSnapshot=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(t=>wd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(t=>wd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function up(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const t=n[i],e=n[i-1];if(t.routeConfig&&""===t.routeConfig.path)i--;else{if(e.component)break;i--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class cp{constructor(t,e,n,i,l,s,r,o,a,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=l,this.outlet=s,this.component=r,this.routeConfig=o,this._urlSegment=a,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hp extends ep{constructor(t,e){super(e),this.url=t,dp(this,e)}toString(){return pp(this._root)}}function dp(t,e){e.value._routerState=t,e.children.forEach(e=>dp(t,e))}function pp(t){const e=t.children.length>0?` { ${t.children.map(pp).join(", ")} } `:"";return`${t.value}${e}`}function mp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ad(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ad(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ad(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ad(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gp(t,e){var n,i;return Ad(t.params,e.params)&&Bd(n=t.url,i=e.url)&&n.every((t,e)=>Ad(t.parameters,i[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||gp(t.parent,e.parent))}function fp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bp(t,e,n,i,l){let s={};return i&&Dd(i,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Nd(n.root===t?e:function t(e,n,i){const l={};return Dd(e.children,(e,s)=>{l[s]=e===n?i:t(e,n,i)}),new Rd(e.segments,l)}(n.root,t,e),s,l)}class vp{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fp(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(i&&i!==Id(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yp{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wp(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[vd]:`${t}`}function xp(t,e,n){if(t||(t=new Rd([],{})),0===t.segments.length&&t.hasChildren())return kp(t,e,n);const i=function(t,e,n){let i=0,l=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;l<t.segments.length;){if(i>=n.length)return s;const e=t.segments[l],r=wp(n[i]),o=i<n.length-1?n[i+1]:null;if(l>0&&void 0===r)break;if(r&&o&&"object"==typeof o&&void 0===o.outlets){if(!Sp(r,o,e))return s;i+=2}else{if(!Sp(r,{},e))return s;i++}l++}return{match:!0,pathIndex:l,commandIndex:i}}(t,e,n),l=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const e=new Rd(t.segments.slice(0,i.pathIndex),{});return e.children[vd]=new Rd(t.segments.slice(i.pathIndex),t.children),kp(e,0,l)}return i.match&&0===l.length?new Rd(t.segments,{}):i.match&&!t.hasChildren()?_p(t,e,n):i.match?kp(t,0,l):_p(t,e,n)}function kp(t,e,n){if(0===n.length)return new Rd(t.segments,{});{const i=function(t){return"object"!=typeof t[0]?{[vd]:t}:void 0===t[0].outlets?{[vd]:t}:t[0].outlets}(n),l={};return Dd(i,(n,i)=>{null!==n&&(l[i]=xp(t.children[i],e,n))}),Dd(t.children,(t,e)=>{void 0===i[e]&&(l[e]=t)}),new Rd(t.segments,l)}}function _p(t,e,n){const i=t.segments.slice(0,e);let l=0;for(;l<n.length;){if("object"==typeof n[l]&&void 0!==n[l].outlets){const t=Cp(n[l].outlets);return new Rd(i,t)}if(0===l&&fp(n[0])){i.push(new Ld(t.segments[e].path,n[0])),l++;continue}const s=wp(n[l]),r=l<n.length-1?n[l+1]:null;s&&r&&fp(r)?(i.push(new Ld(s,Tp(r))),l+=2):(i.push(new Ld(s,{})),l++)}return new Rd(i,{})}function Cp(t){const e={};return Dd(t,(t,n)=>{null!==t&&(e[n]=_p(new Rd([],{}),0,t))}),e}function Tp(t){const e={};return Dd(t,(t,n)=>e[n]=`${t}`),e}function Sp(t,e,n){return t==n.path&&Ad(e,n.parameters)}const Mp=(t,e,n)=>U(i=>(new Pp(e,i.targetRouterState,i.currentRouterState,n).activate(t),i));class Pp{constructor(t,e,n,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mp(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const i=sp(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,i[e],n),delete i[e]}),Dd(i,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const i=t.value,l=e?e.value:null;if(i===l)if(i.component){const l=n.getContext(i.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,n);else l&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:i})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const i=sp(t),l=t.value.component?n.children:e;Dd(i,(t,e)=>this.deactivateRouteAndItsChildren(t,l)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const i=sp(e);t.children.forEach(t=>{this.activateRoutes(t,i[t.value.outlet],n),this.forwardEvent(new gd(t.value.snapshot))}),t.children.length&&this.forwardEvent(new pd(t.value.snapshot))}activateRoutes(t,e,n){const i=t.value,l=e?e.value:null;if(mp(i),i===l)if(i.component){const l=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,n);else if(i.component){const e=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const t=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Ap(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),l=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=i,e.resolver=l,e.outlet&&e.outlet.activateWith(i,l),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Ap(t){mp(t.value),t.children.forEach(Ap)}function Ep(t){return"function"==typeof t}function Ip(t){return t instanceof Nd}class Dp{constructor(t){this.segmentGroup=t||null}}class Op{constructor(t){this.urlTree=t}}function Fp(t){return new _(e=>e.error(new Dp(t)))}function Np(t){return new _(e=>e.error(new Op(t)))}function Rp(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Lp{constructor(t,e,n,i,l){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(Qt)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vd).pipe(U(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(xc(t=>{if(t instanceof Op)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Dp)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vd).pipe(U(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(xc(t=>{if(t instanceof Dp)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const i=t.segments.length>0?new Rd([],{[vd]:t}):t;return new Nd(i,e,n)}expandSegmentGroup(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(U(t=>new Rd([],t))):this.expandSegment(t,n,e,n.segments,i,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Xu({});const n=[],i=[],l={};return Dd(t,(t,s)=>{const r=e(s,t).pipe(U(t=>l[s]=t));s===vd?n.push(r):i.push(r)}),Xu.apply(null,n.concat(i)).pipe(ic(),wc(),U(()=>l))}(n.children,(n,i)=>this.expandSegmentGroup(t,e,i,n))}expandSegment(t,e,n,i,l,s){return Xu(...n).pipe(U(r=>this.expandSegmentAgainstRoute(t,e,n,r,i,l,s).pipe(xc(t=>{if(t instanceof Dp)return Xu(null);throw t}))),ic(),Mc(t=>!!t),xc((t,n)=>{if(t instanceof Zu||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,i,l))return Xu(new Rd([],{}));throw new Dp(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,i,l,s,r){return jp(i)!==s?Fp(e):void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,l):r&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,l,s):Fp(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,l,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,l,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,i){const l=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Np(l):this.lineralizeSegments(n,l).pipe(X(n=>{const l=new Rd(n,{});return this.expandSegment(t,l,e,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,l,s){const{matched:r,consumedSegments:o,lastChild:a,positionalParamSegments:u}=Bp(e,i,l);if(!r)return Fp(e);const c=this.applyRedirectCommands(o,i.redirectTo,u);return i.redirectTo.startsWith("/")?Np(c):this.lineralizeSegments(i,c).pipe(X(i=>this.expandSegment(t,e,n,i.concat(l.slice(a)),s,!1)))}matchSegmentAgainstRoute(t,e,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(U(t=>(n._loadedConfig=t,new Rd(i,{})))):Xu(new Rd(i,{}));const{matched:l,consumedSegments:s,lastChild:r}=Bp(e,n,i);if(!l)return Fp(e);const o=i.slice(r);return this.getChildConfig(t,n,i).pipe(X(t=>{const n=t.module,i=t.routes,{segmentGroup:l,slicedSegments:r}=function(t,e,n,i){return n.length>0&&function(t,e,n){return n.some(n=>zp(t,e,n)&&jp(n)!==vd)}(t,n,i)?{segmentGroup:Vp(new Rd(e,function(t,e){const n={};n[vd]=e;for(const i of t)""===i.path&&jp(i)!==vd&&(n[jp(i)]=new Rd([],{}));return n}(i,new Rd(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>zp(t,e,n))}(t,n,i)?{segmentGroup:Vp(new Rd(t.segments,function(t,e,n,i){const l={};for(const s of n)zp(t,e,s)&&!i[jp(s)]&&(l[jp(s)]=new Rd([],{}));return Object.assign({},i,l)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,o,i);return 0===r.length&&l.hasChildren()?this.expandChildren(n,i,l).pipe(U(t=>new Rd(s,t))):0===i.length&&0===r.length?Xu(new Rd(s,{})):this.expandSegment(n,l,i,r,vd,!0).pipe(U(t=>new Rd(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Xu(new Cd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Xu(e._loadedConfig):function(t,e,n){const i=e.canLoad;return i&&0!==i.length?G(i).pipe(U(i=>{const l=t.get(i);let s;if(function(t){return t&&Ep(t.canLoad)}(l))s=l.canLoad(e,n);else{if(!Ep(l))throw new Error("Invalid CanLoad guard");s=l(e,n)}return Od(s)})).pipe(ic(),(l=t=>!0===t,t=>t.lift(new Pc(l,void 0,t)))):Xu(!0);var l}(t.injector,e,n).pipe(X(n=>n?this.configLoader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(kd(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Xu(new Cd([],t))}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Xu(n);if(i.numberOfChildren>1||!i.children[vd])return Rp(t.redirectTo);i=i.children[vd]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,i){const l=this.createSegmentGroup(t,e.root,n,i);return new Nd(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Dd(t,(t,i)=>{if("string"==typeof t&&t.startsWith(":")){const l=t.substring(1);n[i]=e[l]}else n[i]=t}),n}createSegmentGroup(t,e,n,i){const l=this.createSegments(t,e.segments,n,i);let s={};return Dd(e.children,(e,l)=>{s[l]=this.createSegmentGroup(t,e,n,i)}),new Rd(l,s)}createSegments(t,e,n,i){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,i):this.findOrReturn(e,n))}findPosParam(t,e,n){const i=n[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let n=0;for(const i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}}function Bp(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(e.matcher||_d)(n,t,e);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Vp(t){if(1===t.numberOfChildren&&t.children[vd]){const e=t.children[vd];return new Rd(t.segments.concat(e.segments),e.children)}return t}function zp(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function jp(t){return t.outlet||vd}class Hp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wp{constructor(t,e){this.component=t,this.route=e}}function Up(t,e,n){const i=t._root;return function t(e,n,i,l,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=sp(n);return e.children.forEach(e=>{!function(e,n,i,l,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=e.value,o=n?n.value:null,a=i?i.getContext(e.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Bd(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Bd(t.url,e.url)||!Ad(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gp(t,e)||!Ad(t.queryParams,e.queryParams);case"paramsChange":default:return!gp(t,e)}}(o,r,r.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new Hp(l)):(r.data=o.data,r._resolvedData=o._resolvedData),t(e,n,r.component?a?a.children:null:i,l,s),u&&s.canDeactivateChecks.push(new Wp(a&&a.outlet&&a.outlet.component||null,o))}else o&&Yp(n,a,s),s.canActivateChecks.push(new Hp(l)),t(e,null,r.component?a?a.children:null:i,l,s)}(e,r[e.value.outlet],i,l.concat([e.value]),s),delete r[e.value.outlet]}),Dd(r,(t,e)=>Yp(t,i.getContext(e),s)),s}(i,e?e._root:null,n,[i.value])}function $p(t,e,n){const i=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function Yp(t,e,n){const i=sp(t),l=t.value;Dd(i,(t,i)=>{Yp(t,l.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new Wp(l.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,l))}const qp=Symbol("INITIAL_VALUE");function Gp(){return Ec(t=>Ju(...t.map(t=>t.pipe(Cc(1),function(...t){return e=>{let n=t[t.length-1];I(n)?t.pop():n=null;const i=t.length;return function(...t){return ic()(Xu(...t))}(1!==i||n?i>0?q(t,n):qu(n):Gu(t[0]),e)}}(qp)))).pipe(Oc((t,e)=>{let n=!1;return e.reduce((t,i,l)=>{if(t!==qp)return t;if(i===qp&&(n=!0),!n){if(!1===i)return i;if(l===e.length-1||Ip(i))return i}return t},t)},qp),lc(t=>t!==qp),U(t=>Ip(t)?t:!0===t),Cc(1)))}function Xp(t,e){return null!==t&&e&&e(new md(t)),Xu(!0)}function Kp(t,e){return null!==t&&e&&e(new dd(t)),Xu(!0)}function Zp(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;return i&&0!==i.length?Xu(i.map(i=>nc(()=>{const l=$p(i,e,n);let s;if(function(t){return t&&Ep(t.canActivate)}(l))s=Od(l.canActivate(e,t));else{if(!Ep(l))throw new Error("Invalid CanActivate guard");s=Od(l(e,t))}return s.pipe(Mc())}))).pipe(Gp()):Xu(!0)}function Qp(t,e,n){const i=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>nc(()=>Xu(e.guards.map(l=>{const s=$p(l,e.node,n);let r;if(function(t){return t&&Ep(t.canActivateChild)}(s))r=Od(s.canActivateChild(i,t));else{if(!Ep(s))throw new Error("Invalid CanActivateChild guard");r=Od(s(i,t))}return r.pipe(Mc())})).pipe(Gp())));return Xu(l).pipe(Gp())}class Jp{}class tm{constructor(t,e,n,i,l,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=s}recognize(){try{const t=im(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vd),n=new cp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vd,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new lp(n,e),l=new hp(this.url,i);return this.inheritParamsAndData(l._root),Xu(l)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=up(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Vd(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),i=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${i}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===vd?-1:e.value.outlet===vd?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,i){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,i)}catch(l){if(!(l instanceof Jp))throw l}if(this.noLeftoversInUrl(e,n,i))return[];throw new Jp}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,i){if(t.redirectTo)throw new Jp;if((t.outlet||vd)!==i)throw new Jp;let l,s=[],r=[];if("**"===t.path){const s=n.length>0?Id(n).parameters:{};l=new cp(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rm(t),i,t.component,t,em(e),nm(e)+n.length,om(t))}else{const o=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Jp;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(e.matcher||_d)(n,t,e);if(!i)throw new Jp;const l={};Dd(i.posParams,(t,e)=>{l[e]=t.path});const s=i.consumed.length>0?Object.assign({},l,i.consumed[i.consumed.length-1].parameters):l;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(e,t,n);s=o.consumedSegments,r=n.slice(o.lastChild),l=new cp(s,o.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rm(t),i,t.component,t,em(e),nm(e)+s.length,om(t))}const o=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:u}=im(e,s,r,o,this.relativeLinkResolution);if(0===u.length&&a.hasChildren()){const t=this.processChildren(o,a);return[new lp(l,t)]}if(0===o.length&&0===u.length)return[new lp(l,[])];const c=this.processSegment(o,a,u,vd);return[new lp(l,c)]}}function em(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nm(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function im(t,e,n,i,l){if(n.length>0&&function(t,e,n){return n.some(n=>lm(t,e,n)&&sm(n)!==vd)}(t,n,i)){const l=new Rd(e,function(t,e,n,i){const l={};l[vd]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&sm(s)!==vd){const n=new Rd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,l[sm(s)]=n}return l}(t,e,i,new Rd(n,t.children)));return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>lm(t,e,n))}(t,n,i)){const s=new Rd(t.segments,function(t,e,n,i,l,s){const r={};for(const o of i)if(lm(t,n,o)&&!l[sm(o)]){const n=new Rd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,r[sm(o)]=n}return Object.assign({},l,r)}(t,e,n,i,t.children,l));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Rd(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function lm(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sm(t){return t.outlet||vd}function rm(t){return t.data||{}}function om(t){return t.resolve||{}}function am(t,e,n,i){const l=$p(t,e,i);return Od(l.resolve?l.resolve(e,n):l(e,n))}function um(t){return function(e){return e.pipe(Ec(e=>{const n=t(e);return n?G(n).pipe(U(()=>e)):G([e])}))}}class cm{}class hm{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const dm=new Ft("ROUTES");class pm{constructor(t,e,n,i){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=i}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(U(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Cd(Ed(i.injector.get(dm)).map(Pd),i)}))}loadModuleFactory(t){return"string"==typeof t?G(this.loader.load(t)):Od(t()).pipe(X(t=>t instanceof Jt?Xu(t):G(this.compiler.compileModuleAsync(t))))}}class mm{}class gm{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fm(t){throw t}function bm(t,e,n){return e.parse("/")}function vm(t,e){return Xu(null)}class ym{constructor(t,e,n,i,l,s,r,o){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=o,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=fm,this.malformedUriErrorHandler=bm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vm,afterPreactivation:vm},this.urlHandlingStrategy=new gm,this.routeReuseStrategy=new hm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=l.get(Qt),this.console=l.get(Ps);const a=l.get(qs);this.isNgZoneEnabled=a instanceof qs,this.resetConfig(o),this.currentUrlTree=new Nd(new Rd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pm(s,r,t=>this.triggerEvent(new cd(t)),t=>this.triggerEvent(new hd(t))),this.routerState=op(this.currentUrlTree,this.rootComponentType),this.transitions=new ha({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(lc(t=>0!==t.id),U(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ec(t=>{let n=!1,i=!1;return Xu(t).pipe(dc(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Ec(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Xu(t).pipe(Ec(t=>{const n=this.transitions.getValue();return e.next(new ed(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Yu:[t]}),Ec(t=>Promise.resolve(t)),function(t,e,n,i){return function(l){return l.pipe(Ec(l=>(function(t,e,n,i,l){return new Lp(t,e,n,i,l).apply()})(t,e,n,l.extractedUrl,i).pipe(U(t=>Object.assign({},l,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),dc(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,l){return function(s){return s.pipe(X(s=>(function(t,e,n,i,l="emptyOnly",s="legacy"){return new tm(t,e,n,i,l,s).recognize()})(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),i,l).pipe(U(t=>Object.assign({},s,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),dc(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),dc(t=>{const n=new sd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:l,restoredState:s,extras:r}=t,o=new ed(n,this.serializeUrl(i),l,s);e.next(o);const a=op(i,this.rootComponentType).snapshot;return Xu(Object.assign({},t,{targetSnapshot:a,urlAfterRedirects:i,extras:Object.assign({},r,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Yu}),um(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:l,extras:{skipLocationChange:s,replaceUrl:r}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:l,skipLocationChange:!!s,replaceUrl:!!r})}),dc(t=>{const e=new rd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),U(t=>Object.assign({},t,{guards:Up(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(X(n=>{const{targetSnapshot:i,currentSnapshot:l,guards:{canActivateChecks:s,canDeactivateChecks:r}}=n;return 0===r.length&&0===s.length?Xu(Object.assign({},n,{guardsResult:!0})):function(t,e,n,i){return G(t).pipe(X(t=>(function(t,e,n,i,l){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Xu(s.map(s=>{const r=$p(s,e,l);let o;if(function(t){return t&&Ep(t.canDeactivate)}(r))o=Od(r.canDeactivate(t,e,n,i));else{if(!Ep(r))throw new Error("Invalid CanDeactivate guard");o=Od(r(t,e,n,i))}return o.pipe(Mc())})).pipe(Gp()):Xu(!0)})(t.component,t.route,n,e,i)),Mc(t=>!0!==t,!0))}(r,i,l,t).pipe(X(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return G(e).pipe(Rc(e=>G([Kp(e.route.parent,i),Xp(e.route,i),Qp(t,e.path,n),Zp(t,e.route,n)]).pipe(ic(),Mc(t=>!0!==t,!0))),Mc(t=>!0!==t,!0))}(i,s,t,e):Xu(n)),U(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),dc(t=>{if(Ip(t.guardsResult)){const e=kd(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),dc(t=>{const e=new od(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),lc(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new id(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),um(t=>{if(t.guards.canActivateChecks.length)return Xu(t).pipe(dc(t=>{const e=new ad(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(X(n=>{const{targetSnapshot:i,guards:{canActivateChecks:l}}=n;return l.length?G(l).pipe(Rc(n=>(function(t,e,n,i){return function(t,e,n,i){const l=Object.keys(t);if(0===l.length)return Xu({});if(1===l.length){const s=l[0];return am(t[s],e,n,i).pipe(U(t=>({[s]:t})))}const s={};return G(l).pipe(X(l=>am(t[l],e,n,i).pipe(U(t=>(s[l]=t,t))))).pipe(wc(),U(()=>s))}(t._resolve,t,e,i).pipe(U(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,up(t,n).resolve),null)))})(n.route,i,t,e)),function(t,e){return arguments.length>=2?function(n){return x(Oc(t,e),uc(1),bc(e))(n)}:function(e){return x(Oc((e,n,i)=>t(e,n,i+1)),uc(1))(e)}}((t,e)=>t),U(t=>n)):Xu(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),dc(t=>{const e=new ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),um(t=>{const{targetSnapshot:e,id:n,extractedUrl:i,rawUrl:l,extras:{skipLocationChange:s,replaceUrl:r}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:i,rawUrlTree:l,skipLocationChange:!!s,replaceUrl:!!r})}),U(t=>{const e=function(t,e,n){const i=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){const l=i.value;l._futureSnapshot=n.value;const s=function(e,n,i){return n.children.map(n=>{for(const l of i.children)if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l);return t(e,n)})}(e,n,i);return new lp(l,s)}{const i=e.retrieve(n.value);if(i){const t=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let i=0;i<e.children.length;++i)t(e.children[i],n.children[i])}(n,t),t}{const i=new ap(new ha((l=n.value).url),new ha(l.params),new ha(l.queryParams),new ha(l.fragment),new ha(l.data),l.outlet,l.component,l),s=n.children.map(n=>t(e,n));return new lp(i,s)}}var l}(t,e._root,n?n._root:void 0);return new rp(i,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),dc(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Mp(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),dc({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Lc(t))}(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new id(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),xc(n=>{if(i=!0,function(t){return t&&t[xd]}(n)){const i=Ip(n.url);i||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const l=new id(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(l),t.resolve(!1),i&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const i=new ld(t.id,this.serializeUrl(t.extractedUrl),n);e.next(i);try{t.resolve(this.errorHandler(n))}catch(l){t.reject(l)}}return Yu}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Td(t),this.config=t.map(Pd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:l,preserveQueryParams:s,queryParamsHandling:r,preserveFragment:o}=e;me()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:l;let c=null;if(r)switch(r){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,i,l){if(0===n.length)return bp(e.root,e.root,e,i,l);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vp(!0,0,t);let e=0,n=!1;const i=t.reduce((t,i,l)=>{if("object"==typeof i&&null!=i){if(i.outlets){const e={};return Dd(i.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(i.segmentPath)return[...t,i.segmentPath]}return"string"!=typeof i?[...t,i]:0===l?(i.split("/").forEach((i,l)=>{0==l&&"."===i||(0==l&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[...t,i]},[]);return new vp(n,e,i)}(n);if(s.toRoot())return bp(e.root,new Rd([],{}),e,i,l);const r=function(t,e,n){if(t.isAbsolute)return new yp(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new yp(n.snapshot._urlSegment,!0,0);const i=fp(t.commands[0])?0:1;return function(t,e,n){let i=t,l=e,s=n;for(;s>l;){if(s-=l,!(i=i.parent))throw new Error("Invalid number of '../'");l=i.segments.length}return new yp(i,!1,l-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(s,e,t),o=r.processChildren?kp(r.segmentGroup,r.index,s.commands):xp(r.segmentGroup,r.index,s.commands);return bp(r.segmentGroup,o,e,i,l)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){me()&&this.isNgZoneEnabled&&!qs.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ip(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ip(t))return Fd(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Fd(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return null!=i&&(e[n]=i),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nd(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,i){const l=this.getTransition();if(l&&"imperative"!==e&&"imperative"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"hashchange"==e&&"popstate"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(l&&"popstate"==e&&"hashchange"===l.source&&l.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s=null,r=null;const o=new Promise((t,e)=>{s=t,r=e}),a=++this.navigationId;return this.setTransition({id:a,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:s,reject:r,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,i){const l=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(l)||e?this.location.replaceState(l,"",Object.assign({},i,{navigationId:n})):this.location.go(l,"",Object.assign({},i,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class wm{constructor(t,e,n,i,l){this.router=t,this.route=e,this.commands=[],null==n&&i.setAttribute(l.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){me()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:km(this.skipLocationChange),replaceUrl:km(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:km(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:km(this.preserveFragment)})}}class xm{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof nd&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){me()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,i){if(0!==t||e||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const l={skipLocationChange:km(this.skipLocationChange),replaceUrl:km(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:km(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:km(this.preserveFragment)})}}function km(t){return""===t||!!t}class _m{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cm,this.attachRef=null}}class Cm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _m,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Tm{constructor(t,e,n,i,l){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new os,this.deactivateEvents=new os,this.name=i||vd,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,l=new Sm(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class Sm{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ap?this.route:t===Cm?this.childContexts:this.parent.get(t,e)}}class Mm{}class Pm{preload(t,e){return e().pipe(xc(()=>Xu(null)))}}class Am{preload(t,e){return Xu(null)}}class Em{constructor(t,e,n,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new pm(e,n,e=>t.triggerEvent(new cd(e)),e=>t.triggerEvent(new hd(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(lc(t=>t instanceof nd),Rc(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Qt);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const i of e)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const t=i._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(t,i)):i.children&&n.push(this.processRoutes(t,i.children));return G(n).pipe(J(),U(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(X(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Im{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ed?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nd&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof fd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new fd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Dm=new Ft("ROUTER_CONFIGURATION"),Om=new Ft("ROUTER_FORROOT_GUARD"),Fm=[Ca,{provide:zd,useClass:jd},{provide:ym,useFactory:jm,deps:[pr,zd,Cm,Ca,sn,gr,Rs,dm,Dm,[mm,new ft],[cm,new ft]]},Cm,{provide:ap,useFactory:Hm,deps:[ym]},{provide:gr,useClass:wr},Em,Am,Pm,{provide:Dm,useValue:{enableTracing:!1}}];function Nm(){return new ar("Router",ym)}class Rm{constructor(t,e){}static forRoot(t,e){return{ngModule:Rm,providers:[Fm,zm(t),{provide:Om,useFactory:Vm,deps:[[ym,new ft,new vt]]},{provide:Dm,useValue:e||{}},{provide:ka,useFactory:Bm,deps:[wa,[new gt(_a),new ft],Dm]},{provide:Im,useFactory:Lm,deps:[ym,Uu,Dm]},{provide:Mm,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Am},{provide:ar,multi:!0,useFactory:Nm},[Wm,{provide:ws,multi:!0,useFactory:Um,deps:[Wm]},{provide:Ym,useFactory:$m,deps:[Wm]},{provide:Ms,multi:!0,useExisting:Ym}]]}}static forChild(t){return{ngModule:Rm,providers:[zm(t)]}}}function Lm(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Im(t,e,n)}function Bm(t,e,n={}){return n.useHash?new Sa(t,e):new Ma(t,e)}function Vm(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function zm(t){return[{provide:mn,multi:!0,useValue:t},{provide:dm,multi:!0,useValue:t}]}function jm(t,e,n,i,l,s,r,o,a={},u,c){const h=new ym(null,e,n,i,l,s,r,Ed(o));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=zc();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h}function Hm(t){return t.routerState.root}class Wm{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new A}appInitializer(){return this.injector.get(xa,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(ym),i=this.injector.get(Dm);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Xu(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Dm),n=this.injector.get(Em),i=this.injector.get(Im),l=this.injector.get(ym),s=this.injector.get(pr);t===s.components[0]&&(this.isLegacyEnabled(e)?l.initialNavigation():this.isLegacyDisabled(e)&&l.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),l.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Um(t){return t.appInitializer.bind(t)}function $m(t){return t.bootstrapListener.bind(t)}const Ym=new Ft("Router Initializer");var qm=Ti({encapsulation:2,styles:[],data:{}});function Gm(t){return to(0,[(t()(),Nr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(1,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null)],(function(t,e){t(e,1,0)}),null)}function Xm(t){return to(0,[(t()(),Nr(0,0,null,null,1,"ng-component",[],null,null,null,Gm,qm)),Nl(1,49152,null,0,bd,[],null,null)],null,null)}var Km=hl("ng-component",bd,Xm,{},{},[]);class Zm extends m{constructor(t,e){super()}schedule(t,e=0){return this}}class Qm extends Zm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(l){n=!0,i=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Jm extends Qm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let tg=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class eg extends tg{constructor(t,e=tg.now){super(t,()=>eg.delegate&&eg.delegate!==this?eg.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return eg.delegate&&eg.delegate!==this?eg.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class ng extends eg{}const ig=new ng(Jm);let lg=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Xu(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return qu()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class sg extends b{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(sg.dispatch,this.delay,new rg(t,this.destination)))}_next(t){this.scheduleMessage(lg.createNext(t))}_error(t){this.scheduleMessage(lg.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(lg.createComplete()),this.unsubscribe()}}class rg{constructor(t,e){this.notification=t,this.destination=e}}class og extends A{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new ag(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,l=n.length;let s;if(this.closed)throw new S;if(this.isStopped||this.hasError?s=m.EMPTY:(this.observers.push(t),s=new M(this,t)),i&&t.add(t=new sg(t,i)),e)for(let r=0;r<l&&!t.closed;r++)t.next(n[r]);else for(let r=0;r<l&&!t.closed;r++)t.next(n[r].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||ig).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,l=i.length;let s=0;for(;s<l&&!(t-i[s].time<n);)s++;return l>e&&(s=Math.max(s,l-e)),s>0&&i.splice(0,s),i}}class ag{constructor(t,e){this.time=t,this.value=e}}class ug{constructor(){this.emitter=new og(1)}emitChangeEvent(t){this.emitter.next(t)}}class cg{static mobileCheck(){var t,e=!1;return t=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}}class hg{constructor(t){this.eventService=t,this.currentImageIndex=0,this.indexCurrentSlide=1,this.containerStyles={transition:"",transform:"",width:"",height:"",opacity:""},this.currImageLoadingState="not-loaded",this.isMobile=cg.mobileCheck()}get lightboxImage(){return this._lightboxImage}get lightboxImageElement(){if(this.lightboxImage)return this.lightboxImage.nativeElement}get lightboxImageNaturalHeight(){if(this.lightboxImageElement)return this.lightboxImageElement.naturalHeight}get lightboxImageNaturalWidth(){if(this.lightboxImageElement)return this.lightboxImageElement.naturalWidth}get index(){return this.currentImageIndex}get properties(){return this.lightboxData.properties}get images(){return this.lightboxData.images||[this.lightboxData.image]}get thumbnailImage(){return this.images[this.currentImageIndex].nativeElement}get thumbnailImagePosition(){return this.thumbnailImage.getBoundingClientRect()}get virtualImageDimension(){let t=this.lightboxImageNaturalHeight,e=t*this.imageAspectRatio;const n=document.body.clientWidth,i=window.innerHeight;return this.isImageLargerWindow?(t>i&&(e=(t=i)*this.imageAspectRatio),e>n&&(t=(e=n)/this.imageAspectRatio)):(e=this.lightboxImageNaturalWidth,t=this.lightboxImageNaturalHeight),0===e||0===Number.parseInt(t)?{width:200,height:200}:{width:e,height:t}}get containerInitialPosition(){const t="initial-thumbnail-image"===this.showState?1:this.containerScale;return"matrix("+t+", 0, 0, "+t+","+this.thumbnailImagePosition.left+","+this.thumbnailImagePosition.top+")"}get containerFullscreenPosition(){return"translate3d("+(document.body.clientWidth-this.virtualImageDimension.width)/2+"px, "+(window.innerHeight-this.virtualImageDimension.height)/2+"px, 0)"}get containerScale(){return this.thumbnailImagePosition.width/this.virtualImageDimension.width}get imageAspectRatio(){return this.thumbnailImage.naturalWidth/this.thumbnailImage.naturalHeight}get isImageLargerWindow(){const t=document.body.clientWidth,e=window.innerHeight;return this.lightboxImageNaturalWidth>t||this.lightboxImageNaturalHeight>e}get isFirstImage(){return!this.properties.loop&&0===this.index}get isLastImage(){return!this.properties.loop&&this.index===this.latestImageIndex}get latestImageIndex(){return this.images.length-1}get backgroundColor(){const t=this.properties.backgroundOpacity;return"black"===this.properties.backgroundColor?"rgba(0, 0, 0, "+t+")":"rgba(255, 255, 255, "+t+")"}get animationDuration(){const t=this.properties.animationDuration;return"string"==typeof t?Number.parseInt(t):t}get animationMode(){return"error"===this.currImageLoadingState?"default":this.properties.animationMode}get animationTimingFunction(){return this.properties.animationTimingFunction}get closeButtonText(){return this.properties.closeButtonText}get counterSeparator(){return this.properties.counterSeparator}get counter(){return this.currentImageIndex+1+this.counterSeparator+this.images.length}emitState(t,e){"initial-virtual-image"!==e&&"initial-styles"!==e&&("initial-default"!==e&&"initial-thumbnail-image"!==e||(e="initial"),this.eventService.emitChangeEvent({type:t+":"+e}))}setShowState(t){this.showState=t,this.emitState("show-state",t)}setClosingState(t){this.closingState=t,this.emitState("closing-state",t)}setAnimationDuration(){this.hostStyleTransition="background-color "+this.animationDuration+"ms",this.containerStyles.transition="all "+this.animationDuration+"ms "+this.animationTimingFunction}setBackgroundColor(){this.hostStyleBackgroundColor=this.backgroundColor}getContainerHeight(){return this.thumbnailImagePosition.height/this.containerScale+"px"}showThumbnailImage(){this.thumbnailImage.style.opacity=""}hideThumbnailImage(){this.thumbnailImage.style.opacity=0}updateThumbnailPosition(){this.containerStyles.transform=this.containerInitialPosition}}class dg extends hg{constructor(t,e,n){super(n),this.elementRef=t,this.ref=e,this.eventService=n,this.spinnerHeight=30,this.minTimeout=30,this.preloaderTimeout=100,this.spinnerStyles={transform:""},this.configThumbnailPreloader=!0,this.events=new os,this.hostShown=!1,this.hideControls=!1}get simpleMode(){return this.properties.simpleMode}get hostLightTheme(){return"white"===this.properties.backgroundColor}get currImagePath(){let t,e=this.images[this.index];return!!e&&(e.fullImage&&e.fullImage.path?t=e.fullImage.path:e.thumbnailImage&&e.thumbnailImage.path?t=e.thumbnailImage.path:e.path&&(t=e.path),t)}get prevImagePath(){return this.images[this.prevIndex]}set prevImagePath(t){this.images[this.prevIndex]=t}get isHiddenPrevArrow(){return this.isFirstImage&&!this.properties.loop||this.isZoomIn}get isHiddenNextArrow(){return this.isLastImage&&!this.properties.loop||this.isZoomIn}get isPreloader(){return"zoom-preloader"===this.animationMode&&"animation-end"!=this.showState&&"loading"===this.currImageLoadingState}get imageOrientation(){return this.thumbnailImage.naturalWidth>this.thumbnailImage.naturalHeight?"horizontal":"vertical"}scrolling(){"initial-thumbnail-image"!==this.showState&&"initial-virtual-image"!==this.showState&&"animation"!==this.closingState||this.updateThumbnailPosition()}onKeyDown(t){switch(t.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break;case"Escape":this.closeLightbox()}}onMouseEnter(t){this.hideControls=!1}transitionEnd(t){"transform"===t.propertyName&&this.hostAnimation&&(this.hostAnimation=!1)}ngOnInit(){this.currentImageIndex=this.properties.index,this.initialLightbox()}ngAfterViewInit(){setTimeout(()=>{"not-loaded"===this.currImageLoadingState&&(this.currImageLoadingState="loading")},this.preloaderTimeout),"default"===this.animationMode&&setTimeout(()=>{this.showLightboxAnimation()},this.minTimeout)}onImageLoaded(){"zoom-preloader"===this.animationMode&&"initial-thumbnail-image"===this.showState&&(this.initialLightboxVirtualImage(),setTimeout(()=>{this.currImageLoadingState="uploaded",this.showLightboxAnimation(),this.properties.hideThumbnail&&this.hideThumbnailImage()},this.minTimeout)),"animation-end"===this.showState&&(this.currImageLoadingState="uploaded",this.properties.hideThumbnail&&this.hideThumbnailImage()),this.ref.detectChanges()}onImageError(t){this.currImageLoadingState="error",this.initialLightboxDefault(),setTimeout(()=>{this.showLightboxAnimation()},this.minTimeout)}onContainerClick(t){(t.target===this.lightboxContainerElem.nativeElement||this.simpleMode)&&this.closeLightbox()}initialLightbox(){switch(this.setMaxDimensions(),this.setAnimationDuration(),this.animationMode){case"zoom-preloader":this.initialLightboxThumbnailImage();break;case"default":this.initialLightboxDefault()}}initialLightboxDefault(){this.showState="initial-default",this.containerStyles={transform:"translate3d(0, 0, 0)",height:"100%",width:"100%",opacity:"0"}}initialLightboxVirtualImage(){this.setShowState("initial-virtual-image"),this.containerStyles={transform:this.containerInitialPosition,height:this.virtualImageDimension.height+"px",width:this.virtualImageDimension.width+"px"}}initialLightboxThumbnailImage(){this.setShowState("initial-thumbnail-image"),this.containerStyles={transform:this.containerInitialPosition,height:this.thumbnailImagePosition.height+"px",width:this.thumbnailImagePosition.width+"px"}}showLightboxAnimation(){this.hostAnimation=!0,this.setShowState("animation"),this.hostShown=!0,this.setBackgroundColor(),this.setAnimationDuration(),"zoom-preloader"===this.animationMode&&"error"!==this.currImageLoadingState&&(this.containerStyles.transform=this.containerFullscreenPosition),"default"===this.animationMode&&(this.containerStyles.opacity="1")}showLightboxAnimationEnd(){this.setShowState("animation-end"),this.containerStyles={transform:"translate3d(0, 0, 0)",height:"100%",width:"100%"}}closeLightbox(){this.setClosingState("initial"),this.hostShown=!1,this.closeLightboxInitial()}closeLightboxInitial(){this.setClosingState("initial-styles"),"zoom-preloader"===this.animationMode&&(this.containerStyles={transform:this.containerFullscreenPosition,height:this.virtualImageDimension.height+"px",width:this.virtualImageDimension.width+"px"}),"default"===this.animationMode&&(this.containerStyles.opacity="1"),setTimeout(()=>{this.closeLightboxAnimation()},this.minTimeout)}closeLightboxAnimation(){this.setClosingState("animation"),"zoom-preloader"===this.animationMode&&(this.hostAnimation=!0,this.containerStyles={transform:this.containerInitialPosition,height:this.getContainerHeight(),width:this.getContainerWidth()},this.hostStyleBackgroundColor=""),"default"===this.animationMode&&(this.hostAnimation=!0,this.containerStyles.opacity="0",this.hostStyleBackgroundColor=""),this.setAnimationDuration(),0===this.animationDuration&&this.closeLightboxAnimationEnd()}closeLightboxAnimationEnd(){this.setClosingState("animation-end"),this.events.emit({type:"close"}),"zoom-preloader"===this.animationMode&&this.showThumbnailImage()}handleLightboxTransitionEnd(t){"animation"===this.showState&&this.showLightboxAnimationEnd(),"animation"===this.closingState&&this.closeLightboxAnimationEnd()}next(){if("zoom-preloader"===this.animationMode&&this.showThumbnailImage(),this.isLastImage){if(!this.properties.loop)return;this.currentImageIndex=0}else this.currentImageIndex++,this.currImageLoadingState="loading";setTimeout(()=>{"uploaded"!==this.currImageLoadingState&&(this.currImageLoadingState="loading")},this.preloaderTimeout)}prev(){if("zoom-preloader"===this.animationMode&&this.showThumbnailImage(),this.isFirstImage){if(!this.properties.loop)return;this.currentImageIndex=this.latestImageIndex}else this.currentImageIndex--,this.currImageLoadingState="loading";setTimeout(()=>{"uploaded"!==this.currImageLoadingState&&(this.currImageLoadingState="loading")},this.preloaderTimeout)}setMaxDimensions(){this.lightboxImage.nativeElement.style.maxHeight="calc("+this.properties.imageMaxHeight+")",this.lightboxImage.nativeElement.style.maxWidth=this.properties.imageMaxWidth}handlePinchZoomEvents(t){"zoom-in"===t.type&&(this.isZoomIn=!0),"zoom-out"===t.type&&(this.isZoomIn=!1)}getContainerWidth(){return this.thumbnailImagePosition.width/this.containerScale+"px"}}const pg={loop:!1,index:0,counter:!1,imageMaxHeight:"100%",imageMaxWidth:"100%",animationDuration:350,animationMode:"zoom-preloader",animationTimingFunction:"cubic-bezier(0.475, 0.105, 0.445, 0.945)",closeButtonText:"Close",counterSeparator:"/",disable:!1,simpleMode:!1,backgroundColor:"black",backgroundOpacity:1,hideThumbnail:!0,gestureEnable:!1};class mg{constructor(t,e,n){this.componentFactoryResolver=t,this.appRef=e,this.injector=n}appendComponentToBody(t,e){const n=this.componentFactoryResolver.resolveComponentFactory(t).create(this.injector);n.instance.lightboxData=e,this.appRef.attachView(n.hostView),document.body.appendChild(n.hostView.rootNodes[0]),n.instance.events.subscribe(t=>{"close"===t.type&&(this.appRef.detachView(n.hostView),n.destroy())})}open(t){t.properties=this.applyPropertieDefaults(pg,t.properties);let e=this.getLightboxComponent();this.appendComponentToBody(e,t)}getLightboxComponent(){return dg}applyPropertieDefaults(t,e){return e||(e={}),e.index||(e.index=0),this._defaultProperties=Object.assign({},t),Object.assign(this._defaultProperties,e)}}class gg{constructor(t,e,n){this.lightbox=t,this.eventService=e,this.elementRef=n,this.properties={},this.events=new os,this.hostLightboxGroup=!0,this.globalEventsSubscription=this.eventService.emitter.subscribe(t=>{this.handleGlobalEvents(t)})}get hostSimpleMode(){return this.simpleMode}get isGroupImage(){return this.elementRef.nativeElement.closest(".lightbox-group")}onClick(t){this.disable||(this.isGroupImage?this.eventService.emitChangeEvent({type:"thumbnail:click",elementRef:this.elementRef,properties:this.properties}):(this.image=this.getImage(),this.lightbox.open({images:[this.image],properties:this.properties,index:0})))}ngOnChanges(t){this.properties=this.getProperties(t)}handleGlobalEvents(t){this.events.emit(t)}getImage(){let t={};const e=this.elementRef.nativeElement;return this.fullImage&&(t.fullImage=this.fullImage),t.thumbnailImage={path:e.src,height:e.naturalHeight,width:e.naturalWidth},t.nativeElement=e,t}getProperties(t){let e={};for(var n in t)"fullImage"!==n&&(e[n]=t[n].currentValue);return e}}class fg{}var bg=Ti({encapsulation:0,styles:[".lightbox-spinner[_ngcontent-%COMP%], .lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite lightbox-load;animation:1.5s ease-in-out infinite lightbox-load}.lightbox-spinner[_ngcontent-%COMP%]{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{content:'';position:absolute;top:0}.lightbox-spinner[_ngcontent-%COMP%]:before{left:-32px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.lightbox-spinner[_ngcontent-%COMP%]:after{left:32px}@-webkit-keyframes lightbox-load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes lightbox-load{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}.lightbox-shown[_nghost-%COMP%]{opacity:1}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:.5;transition-delay:.1s}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]:hover{opacity:1;transition-delay:0}.lightbox-shown[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{opacity:1}.lightbox-hide-controls[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0}.lightbox-simple-mode[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{cursor:zoom-out}[_nghost-%COMP%]:not(.lightbox-animation)   .lightbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0;left:0;height:100%}.lightbox-light[_nghost-%COMP%]{color:#000;text-shadow:none}[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;text-shadow:0 0 1px rgba(0,0,0,.65);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10000}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{opacity:1;max-width:100%;max-height:100%}[_nghost-%COMP%]   img.lightbox-curr-image.lightbox-show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   img.lightbox-curr-image[_ngcontent-%COMP%]{opacity:0;z-index:10}[_nghost-%COMP%]   .lightbox-container.lightbox-hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform-origin:top left;transform-origin:top left}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute}[_nghost-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{position:absolute;top:51%;left:50%;margin-top:-15px;margin-left:-5px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{margin-top:-9px;margin-left:-3px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{width:6px;height:6px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{left:-21px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after{left:21px}[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;z-index:30}[_nghost-%COMP%]   .lightbox-description[_ngcontent-%COMP%]{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}[_nghost-%COMP%]   .lightbox-error[_ngcontent-%COMP%]{color:rgba(255,255,255,.75);font-size:19px}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{width:100px;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0;transition:opacity 150ms cubic-bezier(.475,.105,.445,.945)}"],data:{}});function vg(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","lightbox-counter"]],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.counter)}))}function yg(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","lightbox-close"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.closeLightbox()&&i),i}),null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.closeButtonText)}))}function wg(t){return to(0,[(t()(),Nr(0,0,null,null,0,"div",[["class","lightbox-spinner"]],null,null,null,null,null))],null,null)}function xg(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","lightbox-preloader"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"div",[["class","lightbox-spinner"]],null,null,null,null,null))],null,null)}function kg(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","lightbox-error"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Failed to load image"]))],null,null)}function _g(t){return to(0,[zr(402653184,1,{_imageFirst:0}),zr(402653184,2,{_imageSecond:0}),zr(402653184,3,{_imageLast:0}),zr(402653184,4,{_lightboxImage:0}),zr(402653184,5,{prevImageElem:0}),zr(402653184,6,{lightboxContainerElem:0}),(t()(),Fr(16777216,null,null,1,null,vg)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,yg)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,wg)),Nl(11,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(12,0,[[6,0],["lightboxContainer",1]],null,7,"div",[["class","lightbox-container"]],null,[[null,"transitionend"],[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"transitionend"===e&&(i=!1!==l.handleLightboxTransitionEnd(n)&&i),"click"===e&&(i=!1!==l.onContainerClick(n)&&i),i}),null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(14,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(16777216,null,null,1,null,xg)),Nl(16,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,kg)),Nl(18,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(19,0,[[4,0],["lightboxImage",1]],null,0,"img",[["class","lightbox-curr-image"]],[[8,"src",4],[2,"lightbox-show",null]],[[null,"load"],[null,"error"]],(function(t,e,n){var i=!0,l=t.component;return"load"===e&&(i=!1!==l.onImageLoaded()&&i),"error"===e&&(i=!1!==l.onImageError(n)&&i),i}),null,null)),(t()(),Nr(20,0,null,null,0,"div",[["class","lightbox-prev"]],[[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.prev()&&i),i}),null,null)),(t()(),Nr(21,0,null,null,0,"div",[["class","lightbox-next"]],[[8,"hidden",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.next()&&i),i}),null,null))],(function(t,e){var n=e.component;t(e,7,0,n.properties.counter&&n.images.length>1),t(e,9,0,!n.simpleMode),t(e,11,0,"loading"===n.currImageLoadingState&&"animation-end"===n.showState),t(e,14,0,n.containerStyles),t(e,16,0,n.isPreloader),t(e,18,0,"error"===n.currImageLoadingState&&!n.closingState)}),(function(t,e){var n=e.component;t(e,19,0,n.currImagePath,"uploaded"===n.currImageLoadingState),t(e,20,0,n.isHiddenPrevArrow),t(e,21,0,n.isHiddenNextArrow)}))}function Cg(t){return to(0,[(t()(),Nr(0,0,null,null,1,"crystal-lightbox",[],[[4,"backgroundColor",null],[4,"transition",null],[2,"lightbox-shown",null],[2,"lightbox-hide-controls",null],[2,"lightbox-animation",null],[2,"lightbox-simple-mode",null],[2,"lightbox-light",null]],[["window","scroll"],["window","keydown"],[null,"mouseenter"],[null,"transitionend"]],(function(t,e,n){var i=!0;return"window:scroll"===e&&(i=!1!==kl(t,1).scrolling()&&i),"window:keydown"===e&&(i=!1!==kl(t,1).onKeyDown(n)&&i),"mouseenter"===e&&(i=!1!==kl(t,1).onMouseEnter(n)&&i),"transitionend"===e&&(i=!1!==kl(t,1).transitionEnd(n)&&i),i}),_g,bg)),Nl(1,4308992,null,0,dg,[Fn,He,ug],null,null)],(function(t,e){t(e,1,0)}),(function(t,e){t(e,0,0,kl(e,1).hostStyleBackgroundColor,kl(e,1).hostStyleTransition,kl(e,1).hostShown,kl(e,1).hideControls,kl(e,1).hostAnimation,kl(e,1).simpleMode,kl(e,1).hostLightTheme)}))}var Tg=hl("crystal-lightbox",dg,Cg,{lightboxData:"lightboxData"},{},[]),Sg=t=>{const{anchorRect:e,anchorAlign:n,elementRect:i,elementAlign:l,margin:s={}}=t,r=n.horizontal,o=n.vertical,a=l.horizontal,u=l.vertical;let c=s.horizontal||0,h=s.vertical||0,d=e.top,p=e.left;return"bottom"===o&&(d+=e.height),"center"!==o&&"middle"!==o||(d+=Math.round(e.height/2)),"bottom"===u&&(d-=i.height,h*=-1),"center"!==u&&"middle"!==u||(d-=Math.round(i.height/2),h*=-1),"right"===r&&(p+=e.width),"center"!==r&&"middle"!==r||(p+=Math.round(e.width/2)),"right"===a&&(p-=i.width,c*=-1),"center"!==a&&"middle"!==a||(p-=Math.round(i.width/2),c*=-1),{top:d+h,left:p+c}};function Mg(t){return t.ownerDocument||t.document||t}var Pg=t=>Mg(t).defaultView,Ag=t=>Mg(t).documentElement;let Eg=0;function Ig(){if(!Eg&&"undefined"!=typeof document){const t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),Eg=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return Eg}function Dg(t){const e=Pg(t),n=Ag(t),i={height:e.innerHeight,width:e.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=Ig()),i}var Og=t=>{if(!t.getBoundingClientRect){const e=Dg(t);return{bottom:e.height,left:0,right:e.width,top:0}}const{bottom:e,left:n,right:i,top:l}=t.getBoundingClientRect();return{bottom:e,left:n,right:i,top:l}},Fg=t=>{let e=t.offsetParent;for(;e&&"static"===e.style.position;)e=e.offsetParent;return e||Ag(t)},Ng=t=>{let e=t.getBoundingClientRect(),{left:n,top:i}=e;return e.height||e.width||(e=(t=>{const{display:e,left:n,position:i}=t.style;t.style.display="",t.style.left="-10000px",t.style.position="absolute";const l=t.getBoundingClientRect();return t.style.display=e,t.style.left=n,t.style.position=i,l})(t)),{top:i,left:n,height:e.height,width:e.width}},Rg=(t,e)=>{const n=[];let i=t.parentNode;for(;i&&(n.push(i),i!==e);)i=i.parentNode;return n};function Lg(t){const e=Ag(t),n=Pg(t);return{x:n.pageXOffset||e.scrollLeft||0,y:n.pageYOffset||e.scrollTop||0}}var Bg=t=>t===(t.ownerDocument||{}).body?Lg(t):{x:t.scrollLeft,y:t.scrollTop},Vg=(t,e,n=1)=>{const i=e?Fg(e):null,{top:l,left:s,height:r,width:o}=((t,e)=>{const n=Pg(t),i=n.getComputedStyle(t),l=Ng(t),s=e||Fg(t),r=t.ownerDocument;let o={top:0,left:0};if("fixed"!==i.position&&s!==r.body&&s!==r.documentElement){const t=n.getComputedStyle(s);(o=Ng(s)).top+=parseInt(t.borderTopWidth,10),o.left+=parseInt(t.borderLeftWidth,10)}return{top:l.top-o.top,left:l.left-o.left,height:l.height,width:l.width}})(t,i),{x:a,y:u}=((t,e)=>t?Bg(t):function(t){const e=Fg(t);return e?Bg(e):{x:0,y:0}}(e))(i,t),c=t.ownerDocument,h=i===c.body||i===c.documentElement?1:n;return{top:l+u*h,left:s+a*h,height:r,width:o}};const zg=function(t,e,n){let i=0;return t+e>n&&(i=n-(t+e)),t<0&&(i=-t),i},jg=function({offset:t,size:e,anchorSize:n,viewPortSize:i,anchorAlignPoint:l,elementAlignPoint:s,margin:r}){let o=0;const a=2*r;if(s!==l&&"center"!==s&&"middle"!==s&&"center"!==l&&"middle"!==l){const s="top"===l||"left"===l;t<0&&s?t+(o=e+n+a)+e>i&&(o=0):t>=0&&!s&&(t+e>i&&(o+=-(n+e+a)),t+o<0&&(o=0))}return o};var Hg=t=>{const{anchorRect:e,anchorAlign:n,elementRect:i,elementAlign:l,collisions:s,viewPort:r,margin:o={}}=t,{top:a,left:u,height:c,width:h}=i,{height:d,width:p}=r,m=o.horizontal||0,g=o.vertical||0;let f=0,b=0;const v="flip"===s.horizontal,y="flip"===s.vertical;"fit"===s.vertical&&(b+=zg(a,c,d)),"fit"===s.horizontal&&(f+=zg(u,h,p)),y&&(b+=jg({margin:g,offset:a,size:c,anchorSize:e.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:l.vertical})),v&&(f+=jg({margin:m,offset:u,size:h,anchorSize:e.width,viewPortSize:p,anchorAlignPoint:n.horizontal,elementAlignPoint:l.horizontal}));const w=v&&0!==f,x=y&&0!==b;return{flipped:w||x,flip:{horizontal:w,vertical:x},offset:{left:f,top:b}}},Wg=t=>{const e=[];let n=t.parentNode.firstElementChild;for(;n;)n!==t&&e.push(n),n=n.nextElementSibling;return e};const Ug=(t,e)=>n=>e(t(n)),$g=(t,e,n)=>t.addEventListener&&t.addEventListener(e,n),Yg=(t,e,n)=>t&&t.removeEventListener&&t.removeEventListener(e,n),qg=()=>{},Gg=t=>t.preventDefault(),Xg=/touch/,Kg=2e3;function Zg(t){return t.type.match(Xg)?{pageX:t.changedTouches[0].pageX,pageY:t.changedTouches[0].pageY,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY,type:t.type,originalEvent:t,isTouch:!0}:{pageX:t.pageX,pageY:t.pageY,clientX:t.clientX,clientY:t.clientY,offsetX:t.offsetX,offsetY:t.offsetY,type:t.type,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,originalEvent:t}}var Qg=(()=>{class t{static supportPointerEvent(){return"undefined"!=typeof window&&window.PointerEvent}constructor({press:t=qg,drag:e=qg,release:n=qg,mouseOnly:i=!1}){this._pressHandler=Ug(Zg,t),this._dragHandler=Ug(Zg,e),this._releaseHandler=Ug(Zg,n),this._ignoreMouse=!1,this._mouseOnly=i,this._touchstart=t=>{1===t.touches.length&&this._pressHandler(t)},this._touchmove=t=>{1===t.touches.length&&this._dragHandler(t)},this._touchend=t=>{0===t.touches.length&&1===t.changedTouches.length&&(this._releaseHandler(t),this._ignoreMouse=!0,setTimeout(this._restoreMouse,Kg))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=t=>{const{which:e}=t;e&&e>1||this._ignoreMouse||($g(document,"mousemove",this._mousemove),$g(document,"mouseup",this._mouseup),this._pressHandler(t))},this._mousemove=t=>{this._dragHandler(t)},this._mouseup=t=>{Yg(document,"mousemove",this._mousemove),Yg(document,"mouseup",this._mouseup),this._releaseHandler(t)},this._pointerdown=t=>{t.isPrimary&&0===t.button&&($g(document,"pointermove",this._pointermove),$g(document,"pointerup",this._pointerup),$g(document,"pointercancel",this._pointerup),$g(document,"contextmenu",Gg),this._pressHandler(t))},this._pointermove=t=>{t.isPrimary&&this._dragHandler(t)},this._pointerup=t=>{t.isPrimary&&(Yg(document,"pointermove",this._pointermove),Yg(document,"pointerup",this._pointerup),Yg(document,"pointercancel",this._pointerup),Yg(document,"contextmenu",Gg),this._releaseHandler(t))}}bindTo(t){t!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=t,this._bindToCurrent())}_bindToCurrent(){const t=this._element;this._usePointers()?$g(t,"pointerdown",this._pointerdown):($g(t,"mousedown",this._mousedown),this._mouseOnly||($g(t,"touchstart",this._touchstart),$g(t,"touchmove",this._touchmove),$g(t,"touchend",this._touchend)))}_unbindFromCurrent(){const t=this._element;if(this._usePointers())return Yg(t,"pointerdown",this._pointerdown),Yg(document,"pointermove",this._pointermove),Yg(document,"pointerup",this._pointerup),Yg(document,"contextmenu",Gg),void Yg(document,"pointercancel",this._pointerup);Yg(t,"mousedown",this._mousedown),this._mouseOnly||(Yg(t,"touchstart",this._touchstart),Yg(t,"touchmove",this._touchmove),Yg(t,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&t.supportPointerEvent()}update({press:t=qg,drag:e=qg,release:n=qg,mouseOnly:i=!1}){this._pressHandler=Ug(Zg,t),this._dragHandler=Ug(Zg,e),this._releaseHandler=Ug(Zg,n),this._mouseOnly=i}destroy(){this._unbindFromCurrent(),this._element=null}}return t.default=t,t})();const Jg=new eg(Qm);class tf{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new ef(t,this.durationSelector))}}class ef extends W{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=H(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function nf(t){return!c(t)&&t-parseFloat(t)+1>=0}function lf(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function sf(t,e=Jg){return n=()=>(function(t=0,e,n){let i=-1;return nf(e)?i=Number(e)<1?1:Number(e):I(e)&&(n=e),I(n)||(n=Jg),new _(e=>{const l=nf(t)?t:+t-n.now();return n.schedule(lf,l,{index:0,period:i,subscriber:e})})})(t,e),function(t){return t.lift(new tf(n))};var n}function rf(t,e,n,i){return s(n)&&(i=n,n=void 0),i?rf(t,e,n).pipe(U(t=>c(t)?i(...t):i(t))):new _(i=>{!function t(e,n,i,l,s){let r;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),r=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),r=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),r=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let r=0,o=e.length;r<o;r++)t(e[r],n,i,l,s)}l.add(r)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}const of=()=>"undefined"!=typeof document,af=(t,e,n=!0)=>!(void 0===e[t]||e[t].isFirstChange()&&n||e[t].previousValue===e[t].currentValue),uf=(t,e,n=!0)=>t.some(t=>af(t,e,n)),cf=t=>t&&t.observers.length>0,hf=()=>{let t="";for(let e=0;e<32;e++){const n=16*Math.random()|0;8!==e&&12!==e&&16!==e&&20!==e||(t+="-"),t+=(12===e?4:16===e?3&n|8:n).toString(16)}return t};class df{constructor(t,e,n){this.element=t,this.ngZone=e,this.renderer=n,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let e in t)t.hasOwnProperty(e)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,e,this.scope?t[e].bind(this.scope):t[e]))})}ngOnDestroy(){if(this.subscriptions){for(let t=0;t<this.subscriptions.length;t++)this.subscriptions[t]();this.subscriptions=null}}}class pf{}class mf{constructor(t){this.resizeBatchService=t,this.resize=new os,this.acceptedSize=!1,this.state=0}acceptSize(t=this.measure()){this.lastWidth=t.width,this.lastHeight=t.height,this.acceptedSize=!0}checkChanges(){of()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:t,height:e}=this.measure();return t===this.lastWidth&&e===this.lastHeight?void 0:(this.lastWidth=t,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const t=this.measure();this.lastWidth=t.width,this.lastHeight=t.height}measure(){let t=0,e=0;return this.parentElement&&(e=this.parentElement.offsetHeight,t=this.parentElement.offsetWidth),{height:e,width:t}}}const gf=t=>{const e=document.createElement("div");return e.style.cssText=t,e},ff=(t,e)=>getComputedStyle(t,null).getPropertyValue(e),bf="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",vf="position: absolute; left: 0; top: 0; transition: 0s;",yf=vf+"width: 200%; height: 200%;";class wf extends mf{constructor(t,e,n){super(t),this.element=e,this.ngZone=n}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const t=this.element.nativeElement;t.removeChild(this.expand),t.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const t=this.parentElement=this.element.nativeElement.parentElement;"static"===ff(t,"position")&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const t=this.element.nativeElement;t.style.cssText=bf,t.setAttribute("dir","ltr"),this.expand=gf(bf),this.expandChild=gf(vf),this.expand.appendChild(this.expandChild),t.appendChild(this.expand),this.shrink=gf(bf);const e=gf(yf);this.shrink.appendChild(e),t.appendChild(this.shrink)}reset(){const t=this.expandChild;t.style.width=1e5+"px",t.style.height=1e5+"px";const e=this.expand;e.scrollLeft=1e5,e.scrollTop=1e5;const n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=tt(rf(this.shrink,"scroll"),rf(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const xf="undefined"!=typeof ResizeObserver;class kf extends mf{constructor(t,e,n){super(t),this.element=e,this.ngZone=n}static supported(){return xf}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}class _f{constructor(t){this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(t,e){this.scheduled.push({instance:t,method:e}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=G(this.resolvedPromise).subscribe(this.flush)})}isScheduled(t){return Boolean(this.scheduled.find(e=>e.instance===t))}cancel(t){const e=this.scheduled,n=e.length;for(let i=0;i<n;i++)if(e[i].instance===t)return e.splice(i,1),void(e.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(t=>{t.method.call(t.instance)}),this.scheduled=[],this.unsubscribe()}}const Cf=10;class Tf{constructor(t,e,n){this.rateLimit=Cf,this.resize=new os;const i=kf.supported()?kf:wf;this.resizeService=new i(t,e,n),this.subscription=this.resizeService.resize.pipe(sf(1e3/(this.rateLimit||Cf))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(t){this.resizeService.acceptSize(t)}}class Sf{}class Mf{}var Pf=function(t){return t[t.Alt=18]="Alt",t[t.ArrowDown=40]="ArrowDown",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowUp=38]="ArrowUp",t[t.Backspace=8]="Backspace",t[t.Control=17]="Control",t[t.Delete=46]="Delete",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.End=35]="End",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F10=121]="F10",t[t.Home=36]="Home",t[t.Insert=45]="Insert",t[t.KeyA=65]="KeyA",t[t.KeyB=66]="KeyB",t[t.KeyC=67]="KeyC",t[t.KeyD=68]="KeyD",t[t.KeyE=69]="KeyE",t[t.KeyF=70]="KeyF",t[t.KeyG=71]="KeyG",t[t.KeyH=72]="KeyH",t[t.KeyI=73]="KeyI",t[t.KeyJ=74]="KeyJ",t[t.KeyK=75]="KeyK",t[t.KeyL=76]="KeyL",t[t.KeyM=77]="KeyM",t[t.KeyN=78]="KeyN",t[t.KeyO=79]="KeyO",t[t.KeyP=80]="KeyP",t[t.KeyQ=81]="KeyQ",t[t.KeyR=82]="KeyR",t[t.KeyS=83]="KeyS",t[t.KeyT=84]="KeyT",t[t.KeyU=85]="KeyU",t[t.KeyV=86]="KeyV",t[t.KeyW=87]="KeyW",t[t.KeyX=88]="KeyX",t[t.KeyY=89]="KeyY",t[t.KeyZ=90]="KeyZ",t[t.NumpadDecimal=110]="NumpadDecimal",t[t.PageDown=34]="PageDown",t[t.PageUp=33]="PageUp",t[t.Shift=16]="Shift",t[t.Space=32]="Space",t[t.Tab=9]="Tab",t}({});class Af{}class Ef{}const If="*";function Df(t,e=null){return{type:4,styles:e,timings:t}}function Of(t,e=null){return{type:2,steps:t,options:e}}function Ff(t){return{type:6,styles:t,offset:null}}function Nf(t){Promise.resolve(null).then(t)}class Rf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lf{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const l=this.players.length;0==l?Nf(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==l&&this._onFinish()}),t.onDestroy(()=>{++n==l&&this._onDestroy()}),t.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const Bf="!",Vf=(t,e)=>t||{height:0,left:e.left,top:e.top,width:0},zf=(t,e)=>e?{height:t.height,left:t.left-e.left,top:t.top-e.top,width:t.width}:t,jf=(t,e)=>{const{left:n,top:i}=t,{left:l,top:s}=e;return Math.abs(n-l)>=1||Math.abs(i-s)>=1},Hf=()=>"undefined"!=typeof window,Wf=/auto|scroll/,Uf=t=>(t=>`${t.style.overflow}${t.style.overflowX}${t.style.overflowY}`)(t)||(t=>{const e=window.getComputedStyle(t);return`${e.overflow}${e.overflowX}${e.overflowY}`})(t),$f=t=>{const e=[];if(!of()||!Hf())return e;let n=t.parentElement;for(;n;)(Wf.test(Uf(n))||n.hasAttribute("data-scrollable"))&&e.push(n),n=n.parentElement;return e.push(window),e},Yf=1e3/60;function qf(t){let e,n=!1;return(...i)=>n?e:(e=t(...i),n=!0,e)}const Gf=qf(()=>{if(!of()&&null!==document.body)return!1;const t=document.createElement("div");t.style.transform="matrix(10, 0, 0, 10, 0, 0)",t.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(t);const e=10!==t.children[0].getBoundingClientRect().top;return document.body.removeChild(t),e}),Xf=(t,e)=>{if(!t||!of()||!Hf())return null;const n=((t,e)=>{const n=Rg(t);let i,l,s=e;for(;s&&(i=Wg(s),!(l=n.reduce((t,e)=>t.concat(i.filter(t=>t===e)),[])[0]));)s=s.parentElement;return l})(t,e);if(!n)return null;const i=[t].concat(Rg(t,n)).reduce((t,e)=>{const n=e.style.zIndex||window.getComputedStyle(e).zIndex,i=parseInt(n,10);return i>t?i:t},0);return i?i+1:null},Kf=(t,e)=>t&&1!==e?{height:t.height/e,left:t.left/e,top:t.top/e,width:t.width/e}:t,Zf=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];class Qf{addOffset(t,e){return{left:t.left+e.left,top:t.top+e.top}}addScroll(t,e){return function(t,e){return{top:t.top+e.y,left:t.left+e.x,height:t.height,width:t.width}}(t,e)}align(t){return Sg(t)}boundingOffset(t){return Og(this.nativeElement(t))}getFontStyles(t){const e=this.getWindow();if(!e||!t)return[];const n=e.getComputedStyle(this.nativeElement(t));return Zf.map(t=>({key:t,value:n[t]}))}getWindow(){return Hf()?window:null}hasOffsetParent(t){return!!t&&!!this.nativeElement(t).offsetParent}offset(t){return t?Ng(this.nativeElement(t)):null}offsetAtPoint(t,e){if(!t)return null;const n=this.nativeElement(t),{left:i,top:l,transition:s}=n.style;n.style.transition="none",n.style.left=`${e.left}px`,n.style.top=`${e.top}px`;const r=Ng(n);return n.style.left=i,n.style.top=l,n.style.transition=s,r}nativeElement(t){return t?t.nativeElement||t:null}position(t,e,n=1){return t&&e?Vg(this.nativeElement(t),this.nativeElement(e),n):null}removeScroll(t,e){return function(t,e){return{top:t.top-e.y,left:t.left-e.x,height:t.height,width:t.width}}(t,e)}restrictToView(t){return Hg(t)}scrollPosition(t){return Lg(this.nativeElement(t))}scrollableParents(t){return $f(this.nativeElement(t))}stackingElementOffset(t){const e=this.getRelativeContextElement(t);return e?Ng(e):null}stackingElementScroll(t){const e=this.getRelativeContextElement(t);return e?{x:e.scrollLeft,y:e.scrollTop}:{x:0,y:0}}getRelativeContextElement(t){if(!t||!Gf())return null;let e=this.nativeElement(t).parentElement;for(;e;){if("none"!==window.getComputedStyle(e).transform)return e;e=e.parentElement}return null}useRelativePosition(t){return!!this.getRelativeContextElement(t)}windowViewPort(t){return Dg(this.nativeElement(t))}zIndex(t,e){return Xf(this.nativeElement(t),this.nativeElement(e))}zoomLevel(){return of()&&Hf()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}const Jf=new Ft("Popup Document Scale");class tb{constructor(t,e=1){this._dom=t,this.scale=e}alignElement(t){const{anchor:e,element:n,anchorAlign:i,elementAlign:l,margin:s,offset:r,positionMode:o}=t,a=this.scale||1,u="fixed"!==o&&this._dom.hasOffsetParent(n)?this.relativeRect(e,n,r,a):this.absoluteRect(e,n,r,a),c=Kf(this._dom.offset(n),a);return this._dom.align({anchorAlign:i,anchorRect:u,elementAlign:l,elementRect:c,margin:s})}absoluteRect(t,e,n,i){const l=this.elementScrollPosition(t,e),s=Vf(this._dom.offset(t),n),r=2*i,o=this._dom.stackingElementScroll(e);1!==i&&o&&(o.x/=r,o.y/=r);const a=this._dom.stackingElementOffset(e);return 1!==i&&a&&(a.left/=r,a.top/=r),this._dom.removeScroll(this._dom.addScroll(zf(Kf(s,i),a),o),l)}elementScrollPosition(t,e){return t?{x:0,y:0}:this._dom.scrollPosition(e)}relativeRect(t,e,n,i){const l=Vf(this._dom.position(t,e,i),n);return Kf(l,i)}}class eb{constructor(t,e=1){this._dom=t,this.scale=e}positionElement(t){const{anchor:e,currentLocation:n,element:i,anchorAlign:l,elementAlign:s,collisions:r,margin:o}=t,a=this._dom,u=this.scale||1,c=a.offsetAtPoint(i,n),h=Kf(c,u),d=Kf(a.offset(e),u),p=Vf(d,n),m=t.viewPort||a.windowViewPort(i);m.width=m.width/u,m.height=m.height/u;const g=a.restrictToView({anchorAlign:l,anchorRect:p,collisions:r,elementAlign:s,elementRect:h,margin:o,viewPort:m}),f=a.addOffset(n,g.offset);return{flip:g.flip,flipped:g.flipped,offset:f}}}class nb{constructor(t,e){this._dom=t,this._zone=e}subscribe(t){of()&&this._zone.runOutsideAngular(()=>{this.subscription=rf(this._dom.getWindow(),"resize").pipe(sf(Yf)).subscribe(()=>t())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}const ib=1;class lb{constructor(t,e){this._dom=t,this._zone=e}forElement(t){return this.unsubscribe(),this.element=t,this}subscribe(t){if(!t||!of()||!this.element)return;const e=this._dom.nativeElement(this.element),n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const i=n.map(t=>rf(t,"scroll").pipe(sf(Yf)));this.subscription=tt(...i).subscribe(i=>{const l=i.target,s=n.filter(t=>t===l).length>0,r=l===document,o=l===window;(s||r||o)&&t(this.isVisible(e,l))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(t,e){const n=this._dom.boundingOffset(t),i=this._dom.boundingOffset(e);return!(ib<i.top-n.bottom||ib<n.top-i.bottom||ib<n.left-i.right||ib<i.left-n.right)}}const sb="left",rb="right",ob="down",ab="up",ub="slide",cb=100,hb=function(){return{expand:t=>{const e=t===ab||t===ob?"scaleY":"scaleX";let n;return{start:{transform:`${e}(0)`,transformOrigin:n=t===ob?"top":t===sb?rb:t===rb?sb:"bottom"},end:{transform:`${e}(1)`}}},slide:t=>{const e=t===sb||t===rb?"translateX":"translateY";return{start:{transform:`${e}(${t===rb||t===ob?-100:100}%)`},end:{transform:`${e}(0%)`}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})}}();class db{constructor(t){this.animationBuilder=t,this.start=new os,this.end=new os}play(t,e,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;const i=e.type||ub,l=hb[i];if(l){const i=l(this.getDirection(n,e));this.playStates(t,i,e)}else if(me())throw new Error(`Unsupported animation type: "${i}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(t,e,n){this.stopPlayer();const i=n.duration||cb,l=this.animationBuilder.build([Ff(e.start),Df(`${i}ms ease-in`,Ff(e.end))]),s=this.player=l.create(t);s.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),s.play()}getDirection(t,e){let n=e.direction||ob;return t.horizontal&&(n===sb?n=rb:n===rb&&(n=sb)),t.vertical&&(n===ob?n=ab:n===ab&&(n=ob)),n}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}const pb={left:-1e4,top:0},mb="k-animation-container",gb="k-animation-container-fixed";class fb{constructor(t,e,n,i,l,s,r,o,a){this.container=t,this._alignService=e,this.domService=n,this._positionService=i,this._resizeService=l,this._scrollableService=s,this.animationService=r,this._renderer=o,this._zone=a,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=pb,this.anchorViewportLeave=new os,this.close=new os,this.open=new os,this.positionChange=new os,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,mb),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=pb,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}ngOnChanges(t){t.copyAnchorStyles&&this.copyFontStyles(),t.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.reposition(),this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=G(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(t){this.setContainerStyle("left",`${t.left}px`),this.setContainerStyle("top",`${t.top}px`),this._currentOffset=t}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}reposition(){if(!of())return;const{flip:t,offset:e}=this.position();this.currentOffset&&!jf(this.currentOffset,e)||(this.currentOffset=e,cf(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:e,flip:t}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,t),this.resizeSensor.acceptSize()}position(){const t=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:t,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(t){const e=cf(this.anchorViewportLeave);t||!e?this.reposition():e&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach(t=>this.setContainerStyle(t.key,t.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,gb)}setContainerStyle(t,e){this._renderer.setStyle(this.container.nativeElement,t,e)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}const bb=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},vb=new Ft("Popup Container");class yb{constructor(t,e,n,i){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n,this.container=i}get rootViewContainer(){const t=this.applicationRef.components||[];if(t[0])return t[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(t={}){const{component:e,nodes:n}=this.contentFrom(t.content),i=this.appendPopup(n,t.appendTo),l=i.instance;this.projectComponentInputs(i,t),i.changeDetectorRef.detectChanges(),e&&e.changeDetectorRef.detectChanges();const s=this.getComponentRootNode(i);return{close:()=>{e&&e.destroy(),i.destroy(),bb(s)},content:e,popup:i,popupAnchorViewportLeave:l.anchorViewportLeave,popupClose:l.close,popupElement:s,popupOpen:l.open,popupPositionChange:l.positionChange}}appendPopup(t,e){const n=this.createComponent(fb,t,e);return e||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}getComponentRootNode(t){return t.location.nativeElement}getComponentFactory(t){return this.componentFactoryResolver.resolveComponentFactory(t)}createComponent(t,e,n){const i=this.getComponentFactory(t);if(n)return n.createComponent(i,void 0,this.injector,e);{const t=i.create(this.injector,e);return this.applicationRef.attachView(t.hostView),t}}projectComponentInputs(t,e){return Object.getOwnPropertyNames(e).filter(t=>"content"!==t||e.content instanceof li).map(n=>{t.instance[n]=e[n]}),t}contentFrom(t){if(!t||t instanceof li)return{component:null,nodes:[[]]};const e=this.createComponent(t);return{component:e,nodes:[e?[e.location.nativeElement]:[]]}}}class wb{}var xb=Ti({encapsulation:2,styles:[],data:{}});function kb(t){return to(0,[],null,null)}var _b=Ti({encapsulation:2,styles:[],data:{}});function Cb(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function Tb(t){return to(0,[zr(402653184,1,{contentContainer:0}),zr(402653184,2,{resizeSensor:0}),(t()(),Nr(2,0,[[1,0],["container",1]],null,8,"div",[["class","k-popup"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(4,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),$r(null,0),(t()(),Fr(16777216,null,null,2,null,Cb)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(8,540672,null,0,Du,[ri],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),Nr(9,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(t,e,n){var i=!0;return"resize"===e&&(i=!1!==t.component.onResize()&&i),i}),kb,xb)),Nl(10,8568832,[[2,4]],0,Tf,[_f,Fn,qs],{rateLimit:[0,"rateLimit"]},{resize:"resize"})],(function(t,e){var n=e.component;t(e,4,0,"k-popup",n.popupClass),t(e,7,0,n.content),t(e,8,0,n.content),t(e,10,0,100)}),null)}function Sb(t){return to(0,[(t()(),Nr(0,0,null,null,7,"kendo-popup",[],null,null,null,Tb,_b)),Ll(512,null,Qf,Qf,[]),Ll(512,null,tb,tb,[Qf,[2,Jf]]),Ll(512,null,eb,eb,[Qf,[2,Jf]]),Ll(512,null,nb,nb,[Qf,qs]),Ll(512,null,lb,lb,[Qf,qs]),Ll(131584,null,db,db,[Af]),Nl(7,13352960,null,0,fb,[Fn,tb,Qf,eb,nb,lb,db,Vn,qs],null,null)],(function(t,e){t(e,7,0)}),null)}var Mb=hl("kendo-popup",fb,Sb,{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},["*"]);class Pb{constructor(t){this.total=t}call(t,e){return e.subscribe(new Ab(t,this.total))}}class Ab extends b{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class Eb{constructor(){this.changes=new A}notify(t){this.changes.next({rtl:t})}get(t){}}class Ib{get override(){return!1}ngOnChanges(t){this.register(t),Object.keys(t).some(e=>!t[e].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe((1,t=>t.lift(new Pb(1)))).subscribe(()=>this.register(this))}register(t){Object.keys(t).forEach(t=>this.service.register(t,this[t],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}const Db=new Ft("Kendo UI Right-to-Left token"),Ob=new Ft("Localization key prefix");class Fb{constructor(t,e,n){this.prefix=t,this.messageService=e,this._rtl=n,this.changes=new ha({rtl:this._rtl}),this.dictionary={},e&&(this.subscription=e.changes.pipe(U(({rtl:t})=>void 0!==t?t:this._rtl),dc(t=>this._rtl=t)).subscribe(t=>{this.dictionary={},this.changes.next({rtl:t})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(t){const e=this.key(t);return this.dictionary[e]}register(t,e,n=!1){const i=this.key(t);let l=e;if(!n){if(this.dictionary.hasOwnProperty(i))return;l=this.defaultValue(i,e)}this.dictionary[i]=l}notifyChanges(){this.changes.next({rtl:this.rtl})}key(t){return this.prefix+"."+t}defaultValue(t,e){if(!this.messageService)return e;const n=this.messageService.get(t);return void 0===n?e:n}}function Nb(t){return e=>e.lift(new Rb(t))}class Rb{constructor(t){this.notifier=t}call(t,e){const n=new Lb(t),i=H(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class Lb extends W{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,l){this.seenValue=!0,this.complete()}notifyComplete(){}}class Bb{constructor(){this.buttonLookChange=new ha("default"),this.buttonClicked=new A,this.buttonClicked$=this.buttonClicked.asObservable()}click(t){this.buttonClicked.next(t)}setButtonLook(t){this.buttonLookChange.next(t)}}const Vb="SPAN";class zb{constructor(t,e,n,i,l){this.service=n,this.ngZone=l,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new os,this.click=new os,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=i.rtl?"rtl":"ltr",this.localizationChangeSubscription=i.changes.subscribe(({rtl:t})=>this.direction=t?"rtl":"ltr"),this.element=t.nativeElement,this.renderer=e}get togglable(){return this.toggleable}set togglable(t){this.toggleable=t}get selected(){return this._selected||!1}set selected(t){this._selected=t}set tabIndex(t){this.element.tabIndex=t}get tabIndex(){return this.element.tabIndex}set icon(t){t?this.iconSetter(t,()=>{this.isIcon=!0,this.addIcon("k-icon k-i-"+t)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(t){t?this.iconSetter(t,()=>{this.isIconClass=!0,this.addIcon(t)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(t){t?this.iconSetter(t,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(t){this.isDisabled=t,this.renderer.setProperty(this.element,"disabled",t)}get disabled(){return this.isDisabled}set isFocused(t){this.toggleClass("k-state-focused",t),this._focused=t}get isFocused(){return this._focused}get classButton(){return!0}get classPrimary(){return this.primary}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get classDisabled(){return this.isDisabled}get classActive(){return this.selected}get getDirection(){return this.direction}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}ngOnInit(){const t=this.element.tagName===Vb;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(lc(t=>"default"!==t)).subscribe(t=>this.look=t)),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this))),this.domEvents.push(this.renderer.listen(this.element,"keydown",e=>{!t||e.keyCode!==Pf.Space&&e.keyCode!==Pf.Enter||(this.click.emit(e),this._onButtonClick())}))})}ngOnChanges(t){(af("togglable",t)||af("toggleable",t))&&this.toggleAriaCheckbox(this.toggleable)}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach(t=>t())}focus(){of()&&(this.element.focus(),this.isFocused=!0)}blur(){of()&&(this.element.blur(),this.isFocused=!1)}setAttribute(t,e){this.renderer.setAttribute(this.element,t,e)}removeAttribute(t){this.renderer.removeAttribute(this.element,t)}setSelected(t){const e=this.selected!==t;this.selected=t,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),e&&cf(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(t)})}toggleAriaCheckbox(t){of()&&(t?(this.role="checkbox",this.setAttribute("role",this.role),this.setAttribute("aria-checked",this.selected.toString())):(this.role="button",this.setAttribute("role",this.role),this.removeAttribute("aria-checked")))}hasText(){return!!of()&&String(this.element.textContent).trim().length>0}addImgIcon(t){let e=this.renderer;this.imageNode?e.setProperty(this.imageNode,"src",t):of()&&(this.imageNode=e.createElement("img"),e.setProperty(this.imageNode,"src",t),e.setProperty(this.imageNode,"className","k-image"),e.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}addIcon(t){let e=this.renderer;this.iconNode?e.setProperty(this.iconNode,"className",t):of()&&(this.iconNode=e.createElement("span"),e.setProperty(this.iconNode,"className",t),e.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}prependChild(t){this.defer(()=>{this.renderer&&t!==this.element.firstChild&&this.renderer.insertBefore(this.element,t,this.element.firstChild)})}defer(t){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(t,0)})}iconSetter(t,e){t&&e(t),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}updateIconNode(){this.isIcon||this.isIconClass||this.removeIconNode()}setIconTextClasses(){const t=this.isIcon||this.isIconClass||this.imageNode,e=this.hasText();this.toggleClass("k-button-icon",t&&!e),this.toggleClass("k-button-icontext",t&&e)}toggleClass(t,e){e?this.renderer.addClass(this.element,t):this.renderer.removeClass(this.element,t)}_onButtonClick(){!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.togglable&&!this.service&&this.setSelected(!this.selected)}}const jb=t=>null!=t;class Hb{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const Wb="aria-checked",Ub="tabindex";class $b{constructor(t,e,n){this.service=t,this.element=n,this.selection="multiple",this.look="default",this.navigate=new os,this._tabIndex=0,this.currentTabIndex=0,this.localizationChangeSubscription=e.changes.subscribe(({rtl:t})=>this.direction=t?"rtl":"ltr")}set tabIndex(t){this._tabIndex=t,this.currentTabIndex=t}get tabIndex(){return this._tabIndex}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get stretchedClass(){return!!this.width}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get getRole(){return this.isSelectionSingle()?"radiogroup":"group"}get dir(){return this.direction}get ariaDisabled(){return this.disabled}get wrapperWidth(){return this.width}get wrapperTabIndex(){return this.disabled?void 0:this.currentTabIndex}keydown(t){this.disabled||this.navigateFocus(t)}onFocus(){this.currentTabIndex=-1;const t=this.buttons.toArray().findIndex(t=>-1!==t.element.tabIndex),e=-1===t?0:t;this.focus(this.buttons.filter((t,n)=>n===e))}focusout(t){t.relatedTarget&&t.relatedTarget.parentNode!==this.element.nativeElement&&(this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex)}ngOnInit(){this.service.setButtonLook(this.look),this.subscription=this.service.buttonClicked$.subscribe(t=>{let e;this.isSelectionSingle()?(e=!0,this.deactivate(this.buttons.filter(e=>e!==t))):(this.defocus(this.buttons.toArray()),e=!t.selected),t.togglable&&(t.setSelected(e),t.setAttribute(Wb,e.toString())),t.setAttribute(Ub,"0")})}ngOnChanges(t){af("disabled",t)&&this.buttons.forEach(t=>{jb(this.disabled)&&(t.disabled=this.disabled)})}ngAfterContentInit(){const t=this.isSelectionSingle()?"radio":"checkbox";this.buttons.forEach(e=>{e.togglable&&(e.setAttribute(Wb,e.selected.toString()),e.setAttribute("role",t)),e.setAttribute(Ub,e.selected?"0":"-1")})}ngAfterViewChecked(){this.buttons.length&&(this.buttons.first.renderer.addClass(this.buttons.first.element,"k-group-start"),this.buttons.last.renderer.addClass(this.buttons.last.element,"k-group-end"))}ngOnDestroy(){this.subscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}ngAfterContentChecked(){this.verifySettings()}navigateFocus(t){let e=this.buttons.toArray().findIndex(t=>-1!==t.element.tabIndex);const n=this.buttons.length-1,i=new Hb;t.keyCode===Pf.ArrowRight&&e<n&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((t,n)=>n===e+1)))),t.keyCode===Pf.ArrowLeft&&e>0&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((t,n)=>n===e-1))))}deactivate(t){t.forEach(t=>{t.setSelected(!1),t.setAttribute(Wb,t.selected.toString()),t.setAttribute(Ub,"-1")})}activate(t){t.forEach(t=>{t.setSelected(!0),t.setAttribute(Wb,t.selected.toString()),t.setAttribute(Ub,"0"),t.focus()})}defocus(t){t.forEach(t=>{t.setAttribute(Ub,"-1")})}focus(t){t.forEach(t=>{t.setAttribute(Ub,"0"),t.focus()})}verifySettings(){if(me()&&this.isSelectionSingle()&&this.buttons.filter(t=>t.selected).length>1)throw new Error("Having multiple selected buttons with single selection mode is not supported")}isSelectionSingle(){return"single"===this.selection}}class Yb{}class qb{}class Gb{}class Xb{}class Kb{}class Zb{}class Qb{}class Jb{constructor(t){this.el=t,this.layout="stretched",this.action=new os,this.buttonGroupClassName=!0}get className(){return"stretched"===this.layout}actionTemplate(){return this.actions instanceof li}onButtonClick(t,e){this.action.emit(t)}buttonClass(t){const e=["k-button"];return t.primary&&e.push("k-primary"),e.join(" ")}}const tv=new Ft("Dialog LocalizationService");class ev extends Fb{constructor(t,e,n,i){super(t,e,n),this.dialogLocalization=i}get(t){return this.dialogLocalization?this.dialogLocalization.get(t):super.get(t)}}class nv{constructor(t,e){this.hostElement=t,this.localizationService=e,this.close=new os}get className(){return!0}get closeButtonTitle(){return this.closeTitle||this.localizationService.get("closeTitle")}ngAfterViewChecked(){this.hostElement.nativeElement.setAttribute("id",this.id)}onCloseClick(t){t.preventDefault(),this.close.emit()}}const iv=t=>null!=t,lv=t=>String(t).trim().split(" "),sv=/^(?:a|input|select|textarea|button|object)$/i;var rv=function(t){return t[t.esc=27]="esc",t[t.tab=9]="tab",t[t.enter=13]="enter",t[t.space=32]="space",t[t.ctrl=17]="ctrl",t[t.shift=16]="shift",t[t.left=37]="left",t[t.up=38]="up",t[t.right=39]="right",t[t.down=40]="down",t}({});const ov="k-dialog-wrapper k-dialog-buttongroup k-dialog-action",av="k-dialog-buttongroup",uv=(t,e)=>{const n=lv(e);return Boolean(lv(t.className).find(t=>n.indexOf(t)>=0))},cv=(t,e=!0)=>{if(t.tagName){const n=t.tagName.toLowerCase(),i=t.getAttribute("tabIndex"),l=null!==i&&!isNaN(i)&&i>-1;let s=!1;return(s=sv.test(n)?!t.disabled:l)&&(!e||(t=>{const e=t.getBoundingClientRect();return!(!e.width||!e.height)&&"hidden"!==window.getComputedStyle(t).visibility})(t))}return!1},hv=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(","),dv=t=>t+((t=>"number"==typeof t&&isFinite(t))(t)?"px":"");class pv{constructor(t,e,n){this._elRef=t,this._renderer=e,this.actionsLayout="stretched",this.titleId=null,this.action=new os,this.close=new os,this.tabIndex=0,this.subscriptions=[],this.direction=n.rtl?"rtl":"ltr",this.subscriptions.push(n.changes.subscribe(({rtl:t})=>this.direction=t?"rtl":"ltr")),this.titleId=this.generateTitleId()}get dir(){return this.direction}onComponentKeydown(t){const e=t.target,n=e.parentElement;(uv(e,ov)||uv(n,ov))&&t.keyCode===rv.esc&&this.close.emit(),uv(e,"k-button")&&uv(n,av)&&(t.keyCode===rv.left||t.keyCode===rv.right)&&this.handleActionButtonFocus(n,t.keyCode),t.keyCode===rv.tab&&this.keepFocusWithinComponent(e,t)}ngAfterContentInit(){this.bubble("close",this.titlebarContent),this.titlebarContent&&(this.titlebarContent.id=this.titleId)}ngAfterViewInit(){this.handleInitialFocus(),this.bubble("close",this.titlebarView),this.bubble("action",this.actionsView),(this.titlebarView||this.titlebarContent)&&this._renderer.setAttribute(this._elRef.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}ngOnInit(){this._renderer.removeAttribute(this._elRef.nativeElement,"title")}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}focus(){const t=this._elRef.nativeElement;iv(t)&&t.focus()}handleInitialFocus(){const t=this._elRef.nativeElement,e=t.querySelector(".k-primary");if(this.autoFocusedElement){const e=t.querySelector(this.autoFocusedElement);e&&e.focus()}else this.shouldFocusPrimary(e)?e.focus():t.focus()}handleActionButtonFocus(t,e){const n=this.getAllFocusableChildren(t);for(let i=0;i<n.length;i++)if(n[i]===document.activeElement){if(e===rv.left&&i>0){n[i-1].focus();break}if(e===rv.right&&i<n.length-1){n[i+1].focus();break}}}keepFocusWithinComponent(t,e){const n=this._elRef.nativeElement,i=this.getLastFocusableElement(n),l=t===n&&e.shiftKey,s=!e.shiftKey&&iv(i)&&t===i,r=!iv(i)&&!e.shiftKey;(l||r)&&(e.preventDefault(),n.focus()),s&&(e.preventDefault(),i.focus())}shouldFocusPrimary(t){return iv(t)&&cv(t)}getAllFocusableChildren(t){return t.querySelectorAll(hv)}getLastFocusableElement(t){const e=this.getAllFocusableChildren(t);return e.length>0?e[e.length-1]:null}generateTitleId(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}get wrapperClass(){return!0}get styles(){const t={};return this.width&&(t.width=dv(this.width)),this.height&&(t.height=dv(this.height)),this.minWidth&&(t.minWidth=dv(this.minWidth)),this.maxWidth&&(t.maxWidth=dv(this.maxWidth)),this.minHeight&&(t.minHeight=dv(this.minHeight)),this.maxHeight&&(t.maxHeight=dv(this.maxHeight)),t}bubble(t,e){if(e){const n=e[t].subscribe(e=>this[t].emit(e));this.subscriptions.push(n)}}}class mv{constructor(t){this.dialog=t}ngAfterViewInit(){this.dialogTitleBar&&this.dialogTitleBar.close.subscribe(()=>{this.dialog.close()}),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe(t=>this.dialog.dialog.instance.action.emit(t))}}let gv=(()=>{class t{set container(e){t.container=e}get container(){return t.container}}return t.container=null,t})();class fv{}class bv{}class vv{constructor(t,e){this.getDialogRef=t,this.parentInjector=e}get(t,e){return t===bv?this.getDialogRef():this.parentInjector.get(t,e)}}class yv{constructor(t,e){this.resolver=t,this.containerService=e}open(t){const e=this.resolver.resolveComponentFactory(pv),n=t.appendTo||this.containerService.container;if(!n)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(t.content,e,n,{close:()=>{},content:null,dialog:null,result:null},t)}initializeDialog(t,e,n,i,l){const s=this.contentFrom(t,n,i),r=n.createComponent(e,void 0,void 0,s.nodes);i.dialog=r,r.changeDetectorRef.markForCheck(),this.applyOptions(r.instance,l);const o=new A,a=t=>{o.next(t||new fv),s.componentRef&&s.componentRef.destroy(),r.destroy()},u=tt(o,r.instance.close,r.instance.action).pipe(Cc(1));if(u.subscribe(a),i.close=a,i.result=u,t&&me()){const e=s.nodes[0]&&s.nodes[0].length>0,n=s.nodes[2]&&s.nodes[2].length>0,i=l.title&&e,r=l.actions&&n;t.prototype instanceof mv?(i||r)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'"):(e||n)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'")}return i}applyOptions(t,e){t.title=e.title,t.actions=e.actions,t.actionsLayout=e.actionsLayout||"stretched",t.width=e.width,t.minWidth=e.minWidth,t.maxWidth=e.maxWidth,t.height=e.height,t.minHeight=e.minHeight,t.maxHeight=e.maxHeight,t.autoFocusedElement=e.autoFocusedElement,t.closeTitle=e.closeTitle,e.content instanceof li&&(t.contentTemplate=e.content)}contentFrom(t,e,n){const i=e.injector.get(Vn);let l=[],s=[],r=[],o=null;if("string"==typeof t)l=[i.createText(t)];else if(t&&!(t instanceof li)){const i=new vv(()=>n,e.injector),a=this.resolver.resolveComponentFactory(t);o=e.createComponent(a,void 0,i),s=Array.from(o.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),l=[o.location.nativeElement],r=Array.from(o.location.nativeElement.querySelectorAll("kendo-dialog-actions")),n.content=o}return{componentRef:o,nodes:[s,l,r]}}}class wv extends Ib{}class xv extends wv{constructor(t){super(),this.service=t}}class kv{}class _v{}var Cv=Ti({encapsulation:2,styles:[],data:{animation:[{type:7,name:"overlayAppear",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:.1},offset:null},{type:4,styles:null,timings:".3s cubic-bezier(.2, .6, .4, 1)"}],options:null}],options:{}},{type:7,name:"dialogSlideInAppear",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"translate(0, 0)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{transform:"translate(0, -10%)"},offset:null},{type:4,styles:null,timings:".3s cubic-bezier(.2, 1, .2, 1)"}],options:null}],options:{}}]}});function Tv(t){return to(0,[(t()(),Nr(0,0,null,null,5,"kendo-dialog-titlebar",[],[[2,"k-window-titlebar",null],[2,"k-dialog-titlebar",null]],null,null,Rv,Nv)),Ll(256,null,Ob,"kendo.dialog",[]),Ll(131584,null,ev,ev,[Ob,[2,Eb],[2,Db],[2,tv]]),Ll(2048,null,Fb,null,[ev]),Nl(4,8437760,[[1,4]],0,nv,[Fn,[2,Fb]],{id:[0,"id"],closeTitle:[1,"closeTitle"]},null),(t()(),Zr(5,0,["",""]))],(function(t,e){var n=e.component;t(e,4,0,n.titleId,n.closeTitle)}),(function(t,e){var n=e.component;t(e,0,0,kl(e,4).className,kl(e,4).className),t(e,5,0,n.title)}))}function Sv(t){return to(0,[$r(null,0),(t()(),Fr(0,null,null,0))],null,null)}function Mv(t){return to(0,[$r(null,1),(t()(),Fr(0,null,null,0))],null,null)}function Pv(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function Av(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,Pv)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.component.contentTemplate)}),null)}function Ev(t){return to(0,[$r(null,2),(t()(),Fr(0,null,null,0))],null,null)}function Iv(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-dialog-actions",[],[[2,"k-dialog-buttongroup",null],[2,"k-dialog-button-layout-stretched",null]],null,null,$v,Vv)),Nl(1,49152,[[2,4]],0,Jb,[Fn],{actions:[0,"actions"],layout:[1,"layout"]},null)],(function(t,e){var n=e.component;t(e,1,0,n.actions,n.actionsLayout)}),(function(t,e){t(e,0,0,kl(e,1).buttonGroupClassName,kl(e,1).className)}))}function Dv(t){return to(0,[zr(671088640,1,{titlebarView:0}),zr(671088640,2,{actionsView:0}),(t()(),Nr(2,0,null,null,0,"div",[["class","k-overlay"]],[[24,"@overlayAppear",0]],null,null,null,null)),(t()(),Nr(3,0,null,null,15,"div",[["class","k-widget k-window k-dialog"],["role","dialog"]],[[24,"@dialogSlideInAppear",0]],null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(5,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),(t()(),Fr(16777216,null,null,1,null,Tv)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Sv)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(10,0,null,null,4,"div",[["class","k-content k-window-content k-dialog-content"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Mv)),Nl(12,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Av)),Nl(14,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Ev)),Nl(16,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Iv)),Nl(18,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.styles),t(e,7,0,n.title),t(e,9,0,!n.title),t(e,12,0,!n.contentTemplate),t(e,14,0,n.contentTemplate),t(e,16,0,!n.actions),t(e,18,0,n.actions)}),(function(t,e){t(e,2,0,void 0),t(e,3,0,void 0)}))}function Ov(t){return to(0,[(t()(),Nr(0,0,null,null,5,"kendo-dialog",[],[[1,"dir",0],[1,"tabIndex",0],[2,"k-dialog-wrapper",null]],[[null,"keydown"]],(function(t,e,n){var i=!0;return"keydown"===e&&(i=!1!==kl(t,4).onComponentKeydown(n)&&i),i}),Dv,Cv)),Ll(6144,null,tv,null,[Fb]),Ll(256,null,Ob,"kendo.dialog",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(4,5488640,null,1,pv,[Fn,Vn,Fb],null,null),zr(335544320,1,{titlebarContent:0})],(function(t,e){t(e,4,0)}),(function(t,e){t(e,0,0,kl(e,4).dir,kl(e,4).tabIndex,kl(e,4).wrapperClass)}))}var Fv=hl("kendo-dialog",pv,Ov,{actions:"actions",actionsLayout:"actionsLayout",autoFocusedElement:"autoFocusedElement",title:"title",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",height:"height",minHeight:"minHeight",maxHeight:"maxHeight"},{action:"action",close:"close"},["kendo-dialog-titlebar","*","kendo-dialog-actions"]),Nv=Ti({encapsulation:2,styles:[],data:{}});function Rv(t){return to(0,[(t()(),Nr(0,0,null,null,8,null,null,null,null,null,null,null)),Ll(6144,null,wv,null,[xv]),Nl(2,737280,null,0,xv,[Fb],{closeTitle:[0,"closeTitle"]},null),(t()(),Nr(3,0,null,null,5,null,null,null,null,null,null,null)),(t()(),Nr(4,0,null,null,1,"div",[["class","k-window-title k-dialog-title"]],null,null,null,null,null)),$r(null,0),(t()(),Nr(6,0,null,null,2,"div",[["class","k-window-actions k-dialog-actions"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"a",[["class","k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close"],["href","#"],["role","button"]],[[1,"title",0],[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCloseClick(n)&&i),i}),null,null)),(t()(),Nr(8,0,null,null,0,"span",[["class","k-icon k-i-x"]],null,null,null,null,null))],(function(t,e){t(e,2,0,"Close")}),(function(t,e){var n=e.component;t(e,7,0,n.closeButtonTitle,n.closeButtonTitle)}))}function Lv(t){return to(0,[(t()(),Nr(0,0,null,null,4,"kendo-dialog-titlebar",[],[[2,"k-window-titlebar",null],[2,"k-dialog-titlebar",null]],null,null,Rv,Nv)),Ll(256,null,Ob,"kendo.dialog",[]),Ll(131584,null,ev,ev,[Ob,[2,Eb],[2,Db],[2,tv]]),Ll(2048,null,Fb,null,[ev]),Nl(4,8437760,null,0,nv,[Fn,[2,Fb]],null,null)],null,(function(t,e){t(e,0,0,kl(e,4).className,kl(e,4).className)}))}var Bv=hl("kendo-dialog-titlebar",nv,Lv,{id:"id",closeTitle:"closeTitle"},{close:"close"},["*"]),Vv=Ti({encapsulation:2,styles:[],data:{}});function zv(t){return to(0,[$r(null,0),(t()(),Fr(0,null,null,0))],null,null)}function jv(t){return to(0,[(t()(),Nr(0,0,null,null,3,"button",[["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onButtonClick(t.context.$implicit,n)&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),(t()(),Zr(3,null,[" "," "]))],(function(t,e){t(e,2,0,e.component.buttonClass(e.context.$implicit))}),(function(t,e){t(e,3,0,e.context.$implicit.text)}))}function Hv(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,jv)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.component.actions)}),null)}function Wv(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function Uv(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,Wv)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.component.actions)}),null)}function $v(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,zv)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Hv)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Uv)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,1,0,!n.actions),t(e,3,0,!n.actionTemplate()),t(e,5,0,n.actionTemplate())}),null)}var Yv=n("PSD3"),qv=n.n(Yv);class Gv{constructor(t,e){this.userService=t,this.pubnub=e,this.User={image:"loading"},this.publishkey="pub-c-6bfb7caa-4d1d-4fa6-94bb-7477d332e368",this.subscribekey="sub-c-68048820-90a6-11e9-90d9-8a9dabba299e"}ngOnInit(){this.loadProfile(),this.pubnubInit()}onLogout(){this.subscription=this.userService.logoutUser().subscribe(t=>{localStorage.removeItem("bearToken"),window.location.reload()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"}),localStorage.removeItem("bearToken"),window.location.reload()})}loadProfile(){this.subscription=this.userService.getUserProfile().subscribe(t=>{this.User=t.results[0]},t=>{if(401==t.status)this.userService.refreshToken(localStorage.getItem("refresh")).subscribe(t=>{localStorage.setItem("bearToken",t.access),window.location.reload()},t=>{console.log(t),localStorage.removeItem("bearToken"),localStorage.removeItem("refresh"),window.location.reload()});else{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})}})}pubnubInit(){this.pubnub.init({publishKey:this.publishkey,subscribeKey:this.subscribekey,ssl:!0,uuid:"staff"}),this.pubnub.addListener({message:t=>{console.log(t.message.content),this.number_notify=t.message.content}}),this.pubnub.history({channel:"pubnub_onboarding_channel",reverse:!1,count:5,stringifiedTimeToken:!0}).then(t=>{this.number_notify=t.messages[t.messages.length-1].entry.content}).catch(t=>{console.log(t)}),this.pubnub.subscribe({channels:["pubnub_onboarding_channel"],withPresence:!0,triggerEvents:["message","presence","status"]})}}class Xv{}class Kv{}class Zv{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),i=n.toLowerCase(),l=t.slice(e+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(l):this.headers.set(i,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const i=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zv?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zv;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zv?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...n),this.headers.set(e,i);break;case"d":const l=t.value;if(l){let t=this.headers.get(e);if(!t)return;0===(t=t.filter(t=>-1===l.indexOf(t))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Qv{encodeKey(t){return Jv(t)}encodeValue(t){return Jv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Jv(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class ty{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Qv,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const i=t.indexOf("="),[l,s]=-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],r=n.get(l)||[];r.push(s),n.set(l,r)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new ty({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function ey(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function ny(t){return"undefined"!=typeof Blob&&t instanceof Blob}function iy(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ly{constructor(t,e,n,i){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,l=i):l=n,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.params&&(this.params=l.params)),this.headers||(this.headers=new Zv),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new ty,this.urlWithParams=e}serializeBody(){return null===this.body?null:ey(this.body)||ny(this.body)||iy(this.body)||"string"==typeof this.body?this.body:this.body instanceof ty?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:iy(this.body)?null:ny(this.body)?this.body.type||null:ey(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ty?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,r=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let o=t.headers||this.headers,a=t.params||this.params;return void 0!==t.setHeaders&&(o=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),o)),t.setParams&&(a=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),a)),new ly(e,n,l,{params:a,headers:o,reportProgress:r,responseType:i,withCredentials:s})}}const sy=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class ry{constructor(t,e=200,n="OK"){this.headers=t.headers||new Zv,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class oy extends ry{constructor(t={}){super(t),this.type=sy.ResponseHeader}clone(t={}){return new oy({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ay extends ry{constructor(t={}){super(t),this.type=sy.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ay({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class uy extends ry{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function cy(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}class hy{constructor(t){this.handler=t}request(t,e,n={}){let i;if(t instanceof ly)i=t;else{let l=void 0;l=n.headers instanceof Zv?n.headers:new Zv(n.headers);let s=void 0;n.params&&(s=n.params instanceof ty?n.params:new ty({fromObject:n.params})),i=new ly(t,e,void 0!==n.body?n.body:null,{headers:l,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const l=Xu(i).pipe(Rc(t=>this.handler.handle(t)));if(t instanceof ly||"events"===n.observe)return l;const s=l.pipe(lc(t=>t instanceof ay));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return s.pipe(U(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(U(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(U(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(U(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new ty).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,cy(n,e))}post(t,e,n={}){return this.request("POST",t,cy(n,e))}put(t,e,n={}){return this.request("PUT",t,cy(n,e))}}class dy{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const py=new Ft("HTTP_INTERCEPTORS");class my{intercept(t,e){return e.handle(t)}}const gy=/^\)\]\}',?\n/;class fy{}class by{constructor(){}build(){return new XMLHttpRequest}}class vy{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new _(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const i=t.serializeBody();let l=null;const s=()=>{if(null!==l)return l;const e=1223===n.status?204:n.status,i=n.statusText||"OK",s=new Zv(n.getAllResponseHeaders()),r=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return l=new oy({headers:s,status:e,statusText:i,url:r})},r=()=>{let{headers:i,status:l,statusText:r,url:o}=s(),a=null;204!==l&&(a=void 0===n.response?n.responseText:n.response),0===l&&(l=a?200:0);let u=l>=200&&l<300;if("json"===t.responseType&&"string"==typeof a){const t=a;a=a.replace(gy,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=t,u&&(u=!1,a={error:c,text:a})}}u?(e.next(new ay({body:a,headers:i,status:l,statusText:r,url:o||void 0})),e.complete()):e.error(new uy({error:a,headers:i,status:l,statusText:r,url:o||void 0}))},o=t=>{const{url:i}=s(),l=new uy({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});e.error(l)};let a=!1;const u=i=>{a||(e.next(s()),a=!0);let l={type:sy.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(l.total=i.total),"text"===t.responseType&&n.responseText&&(l.partialText=n.responseText),e.next(l)},c=t=>{let n={type:sy.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",r),n.addEventListener("error",o),t.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),e.next({type:sy.Sent}),()=>{n.removeEventListener("error",o),n.removeEventListener("load",r),t.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}const yy=new Ft("XSRF_COOKIE_NAME"),wy=new Ft("XSRF_HEADER_NAME");class xy{}class ky{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=bu(t,this.cookieName),this.lastCookieString=t),this.lastToken}}class _y{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}class Cy{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(py,[]);this.chain=t.reduceRight((t,e)=>new dy(t,e),this.backend)}return this.chain.handle(t)}}class Ty{static disable(){return{ngModule:Ty,providers:[{provide:_y,useClass:my}]}}static withOptions(t={}){return{ngModule:Ty,providers:[t.cookieName?{provide:yy,useValue:t.cookieName}:[],t.headerName?{provide:wy,useValue:t.headerName}:[]]}}}class Sy{}const My={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})},Py={headers:new Zv({"Content-Type":"application/json"})};let Ay=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getListUser(t){return this.http.get(`${this.API}/api/admin/user/?page=${t}`,My)}getDetailUser(t){return this.http.get(`${this.API}/api/admin/user/${t}/`,My)}createUser(t,e,n,i,l,s){const r=JSON.stringify({username:t,password:e,name:n,phone:i,is_docter:l,is_manager:s});return this.http.post(`${this.API}/api/admin/user/`,r,My)}updateUser(t,e,n,i){const l=JSON.stringify({name:e,phone:i,email:n});return this.http.patch(`${this.API}/api/admin/user/${t}/`,l,My)}resetPassUser(t,e){const n=JSON.stringify({password:e});return this.http.patch(`${this.API}/api/admin/user/${t}/`,n,My)}deleteUser(t){return this.http.delete(`${this.API}/api/admin/user/${t}/`,My)}getListDoctor(){return this.http.get(`${this.API}/api/staff/user/`,My)}getUserProfile(){return this.http.get(`${this.API}/api/user/profile/`,My)}refreshToken(t){const e=JSON.stringify({refresh:t});return this.http.post(`${this.API}/api/token/refresh/`,e,Py)}checkToken(){return this.http.get(`${this.API}/api/token/check/`,My)}logoutUser(){const t=JSON.stringify({token:"Bearer "+aa.token});return this.http.post(`${this.API}/api/user/logout/`,t,My)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();var Ey=n("sayU"),Iy=Ti({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{padding:0!important}.navbar-header[_ngcontent-%COMP%]{height:60px}.inline-display[_ngcontent-%COMP%]{display:inline}"]],data:{}});function Dy(t){return to(0,[(t()(),Nr(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["width","36"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,Qi(1,"",e.component.User.image,""))}))}function Oy(t){return to(0,[(t()(),Nr(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/img/staff.png"],["width","36"]],null,null,null,null,null))],null,null)}function Fy(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[["class","preloader"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,":svg:svg",[["class","circular"],["viewBox","25 25 50 50"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,0,":svg:circle",[["class","path"],["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,73,"div",[["id","wrapper"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,21,"nav",[["class","navbar navbar-default navbar-static-top m-b-0"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,20,"div",[["class","navbar-header"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,7,"div",[["class","top-left-part"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,6,"a",[["class","logo"],["href","/admin"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,2,"b",[],null,null,null,null,null)),(t()(),Nr(9,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["src","assets/plugins/images/logo01-dark.png"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,2,"span",[["class","hidden-xs"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["height","24px"],["src","assets/plugins/images/gdental.png"],["width","139px"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,11,"ul",[["class","nav navbar-top-links navbar-right pull-right"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,1,"a",[["class","nav-toggler open-close waves-effect waves-light hidden-md hidden-lg"],["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),Nr(19,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),Nr(20,0,null,null,3,"a",[["class","profile-pic inline-display"],["href","./"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Dy)),Nl(22,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NoAvatar",2]],null,0,null,Oy)),(t()(),Nr(24,0,null,null,1,"button",[["class","btn btn-danger profile-pic inline-display"],["data-dismiss","modal"],["style","margin-right: 10px"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onLogout()&&i),i}),null,null)),(t()(),Zr(-1,null,["\u0110\u0103ng xu\u1ea5t"])),(t()(),Nr(26,0,null,null,40,"div",[["class","navbar-default sidebar"],["role","navigation"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,39,"div",[["class","sidebar-nav slimscrollsidebar"]],null,null,null,null,null)),(t()(),Nr(28,0,null,null,5,"div",[["class","sidebar-head"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,4,"h3",[],null,null,null,null,null)),(t()(),Nr(30,0,null,null,1,"span",[["class","fa-fw open-close"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,0,"i",[["class","ti-close ti-menu"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,1,"span",[["class","hide-menu"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Navigation"])),(t()(),Nr(34,0,null,null,32,"ul",[["class","nav"],["id","side-menu"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,5,"li",[["style","padding: 70px 0 0;"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(37,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(38,1),(t()(),Nr(39,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-user fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(41,0,null,null,7,"li",[],null,null,null,null,null)),(t()(),Nr(42,0,null,null,6,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,43).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(43,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(44,1),(t()(),Nr(45,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-table fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Danh s\xe1ch \u0111\u0103ng k\xfd \xa0\xa0"])),(t()(),Nr(47,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(t()(),Zr(48,null,["",""])),(t()(),Nr(49,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(50,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,51).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(51,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(52,1),(t()(),Nr(53,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clock-o fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch kh\xe1m"])),(t()(),Nr(55,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(56,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,57).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(57,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(58,1),(t()(),Nr(59,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-book fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(t()(),Nr(61,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(62,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,63).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(63,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(64,1),(t()(),Nr(65,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-edit fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\xf3a \u0111\u01a1n"])),(t()(),Nr(67,0,null,null,9,"div",[["id","page-wrapper"]],null,null,null,null,null)),(t()(),Nr(68,0,null,null,8,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,4,"div",[["class","row bg-title"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,2,"div",[["class","col-lg-3 col-md-4 col-sm-4 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(71,0,null,null,1,"h4",[["class","page-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Dashboard"])),(t()(),Nr(73,0,null,null,0,"div",[["class","col-lg-9 col-sm-8 col-md-8 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(74,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(75,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(76,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null)],(function(t,e){t(e,22,0,e.component.User.image,kl(e,23));var n=t(e,38,0,"");t(e,37,0,n);var i=t(e,44,0,"/registration");t(e,43,0,i);var l=t(e,52,0,"/schedule");t(e,51,0,l);var s=t(e,58,0,"/examination");t(e,57,0,s);var r=t(e,64,0,"/invoice");t(e,63,0,r),t(e,76,0)}),(function(t,e){var n=e.component;t(e,36,0,kl(e,37).target,kl(e,37).href),t(e,42,0,kl(e,43).target,kl(e,43).href),t(e,48,0,n.number_notify),t(e,50,0,kl(e,51).target,kl(e,51).href),t(e,56,0,kl(e,57).target,kl(e,57).href),t(e,62,0,kl(e,63).target,kl(e,63).href)}))}function Ny(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-home-page",[],null,null,null,Fy,Iy)),Nl(1,114688,null,0,Gv,[Ay,Ey.PubNubAngular],null,null)],(function(t,e){t(e,1,0)}),null)}var Ry=hl("app-home-page",Gv,Ny,{},{},[]);class Ly extends W{constructor(t,e){super(t),this.sources=e,this.completed=0,this.haveValues=0;const n=e.length;this.values=new Array(n);for(let i=0;i<n;i++){const t=H(this,e[i],null,i);t&&this.add(t)}}notifyNext(t,e,n,i,l){this.values[n]=e,l._hasValue||(l._hasValue=!0,this.haveValues++)}notifyComplete(t){const{destination:e,haveValues:n,values:i}=this,l=i.length;t._hasValue?(this.completed++,this.completed===l&&(n===l&&e.next(i),e.complete())):e.complete()}}const By=new Ft("NgValueAccessor");class Vy{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}const zy=new Ft("CompositionEventMode");class jy{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=zc()?zc().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Hy{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Wy extends Hy{get formDirective(){return null}get path(){return null}}function Uy(){throw new Error("unimplemented")}class $y extends Hy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Uy()}get asyncValidator(){return Uy()}}class Yy{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class qy extends Yy{constructor(t){super(t)}}class Gy extends Yy{constructor(t){super(t)}}function Xy(t){return null==t||0===t.length}const Ky=new Ft("NgValidators"),Zy=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qy{static min(t){return e=>{if(Xy(e.value)||Xy(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Xy(e.value)||Xy(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Xy(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Xy(t.value)?null:Zy.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(Xy(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return Qy.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Xy(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Jy);return 0==e.length?null:function(t){return ew(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Jy);return 0==e.length?null:function(t){return function t(...e){let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&c(e[0])&&(e=e[0]),0===e.length?Yu:n?t(e).pipe(U(t=>n(...t))):new _(t=>new Ly(t,e))}(function(t,e){return e.map(e=>e(t))}(t,e).map(tw)).pipe(U(ew))}}}function Jy(t){return null!=t}function tw(t){const e=kn(t)?G(t):t;if(!_n(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ew(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function nw(t){return t.validate?e=>t.validate(e):t}function iw(t){return t.validate?e=>t.validate(e):t}class lw{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const sw={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class rw{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${sw.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${sw.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${sw.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${sw.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${sw.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${sw.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}function ow(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class aw{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ow(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function uw(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}class cw{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(uw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(uw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function hw(t,e){return[...e.path,t]}function dw(t,e){t||fw(e,"Cannot find control with"),e.valueAccessor||fw(e,"No value accessor for form control with"),t.validator=Qy.compose([t.validator,e.validator]),t.asyncValidator=Qy.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pw(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function pw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mw(t,e){null==t&&fw(e,"Cannot find control with"),t.validator=Qy.compose([t.validator,e.validator]),t.asyncValidator=Qy.composeAsync([t.asyncValidator,e.asyncValidator])}function gw(t){return fw(t,"There is no FormControl instance attached to form control element with")}function fw(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function bw(t){return null!=t?Qy.compose(t.map(nw)):null}function vw(t){return null!=t?Qy.composeAsync(t.map(iw)):null}function yw(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!bn(e,n.currentValue)}const ww=[Vy,class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=bn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ow(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=bn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const i=t.item(e),l=this._getOptionValue(i.value);n.push(l)}}else{const t=e.options;for(let e=0;e<t.length;e++){const i=t.item(e);if(i.selected){const t=this._getOptionValue(i.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,i){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get($y),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}];function xw(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function kw(t,e){if(!e)return null;Array.isArray(e)||fw(t,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,l=void 0;return e.forEach(e=>{e.constructor===jy?n=e:function(t){return ww.some(e=>t.constructor===e)}(e)?(i&&fw(t,"More than one built-in value accessor matches form control with"),i=e):(l&&fw(t,"More than one custom value accessor matches form control with"),l=e)}),l||i||n||(fw(t,"No valid value accessor for form control with"),null)}function _w(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function Cw(t,e,n,i){me()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(rw.ngModelWarning(t),e._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}const Tw="VALID",Sw="INVALID",Mw="PENDING",Pw="DISABLED";function Aw(t){const e=Iw(t)?t.validators:t;return Array.isArray(e)?bw(e):e||null}function Ew(t,e){const n=Iw(e)?e.asyncValidators:t;return Array.isArray(n)?vw(n):n||null}function Iw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Dw{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Tw}get invalid(){return this.status===Sw}get pending(){return this.status==Mw}get disabled(){return this.status===Pw}get enabled(){return this.status!==Pw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Aw(t)}setAsyncValidators(t){this.asyncValidator=Ew(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Mw,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tw,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Tw&&this.status!==Mw||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pw:Tw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Mw;const e=tw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof Fw?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Nw&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new os,this.statusChanges=new os}_calculateStatus(){return this._allControlsDisabled()?Pw:this.errors?Sw:this._anyControlsHaveStatus(Mw)?Mw:this._anyControlsHaveStatus(Sw)?Sw:Tw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Iw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Ow extends Dw{constructor(t=null,e,n){super(Aw(e),Ew(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Fw extends Dw{constructor(t,e,n){super(Aw(e),Ew(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ow?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Nw extends Dw{constructor(t,e,n){super(Aw(e),Ew(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ow?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Rw=(()=>Promise.resolve(null))();class Lw extends Wy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new os,this.form=new Fw({},bw(t),vw(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rw.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),dw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),_w(this._directives,t)})}addFormGroup(t){Rw.then(()=>{const e=this._findContainer(t.path),n=new Fw({});mw(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Rw.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,xw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class Bw{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${sw.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${sw.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${sw.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${sw.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${sw.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${sw.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Vw=new Ft("NgFormSelectorWarning");class zw extends Wy{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return hw(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return bw(this._validators)}get asyncValidator(){return vw(this._asyncValidators)}_checkParentType(){}}class jw extends zw{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof jw||this._parent instanceof Lw||Bw.modelGroupParentException()}}const Hw=(()=>Promise.resolve(null))();class Ww extends $y{constructor(t,e,n,i){super(),this.control=new Ow,this._registered=!1,this.update=new os,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=kw(this,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),yw(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?hw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return bw(this._rawValidators)}get asyncValidator(){return vw(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof jw)&&this._parent instanceof zw?Bw.formGroupNameException():this._parent instanceof jw||this._parent instanceof Lw||Bw.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Bw.missingNameException()}_updateValue(t){Hw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Hw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Uw{}const $w=new Ft("NgModelWithFormControlWarning");let Yw=(()=>{class t extends $y{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new os,this._ngModelWarningSent=!1,this._rawValidators=t||[],this._rawAsyncValidators=e||[],this.valueAccessor=kw(this,n)}set isDisabled(t){rw.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(dw(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),yw(e,this.viewModel)&&(Cw("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return bw(this._rawValidators)}get asyncValidator(){return vw(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t._ngModelWarningSentOnce=!1,t})();class qw extends Wy{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new os}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return dw(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){_w(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);mw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);mw(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,xw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>gw(e)),e.valueAccessor.registerOnTouched(()=>gw(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&dw(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=bw(this._validators);this.form.validator=Qy.compose([this.form.validator,t]);const e=vw(this._asyncValidators);this.form.asyncValidator=Qy.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||rw.missingFormException()}}class Gw extends zw{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){Kw(this._parent)&&rw.groupParentException()}}class Xw extends Wy{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return hw(this.name,this._parent)}get validator(){return bw(this._validators)}get asyncValidator(){return vw(this._asyncValidators)}_checkParentType(){Kw(this._parent)&&rw.arrayParentException()}}function Kw(t){return!(t instanceof Gw||t instanceof qw||t instanceof Xw)}let Zw=(()=>{class t extends $y{constructor(t,e,n,i,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new os,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=kw(this,i)}set isDisabled(t){rw.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),yw(e,this.viewModel)&&(Cw("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return hw(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return bw(this._rawValidators)}get asyncValidator(){return vw(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Gw)&&this._parent instanceof zw?rw.ngModelGroupException():this._parent instanceof Gw||this._parent instanceof qw||this._parent instanceof Xw||rw.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t})();class Qw{}class Jw{group(t,e=null){const n=this._reduceControls(t);let i=null,l=null,s=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,l=null!=e.asyncValidators?e.asyncValidators:null,s=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,l=null!=e.asyncValidator?e.asyncValidator:null)),new Fw(n,{asyncValidators:l,updateOn:s,validators:i})}control(t,e,n){return new Ow(t,e,n)}array(t,e,n){const i=t.map(t=>this._createControl(t));return new Nw(i,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ow||t instanceof Fw||t instanceof Nw?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}class tx{static withConfig(t){return{ngModule:tx,providers:[{provide:Vw,useValue:t.warnOnDeprecatedNgFormSelector}]}}}class ex{static withConfig(t){return{ngModule:ex,providers:[{provide:$w,useValue:t.warnOnNgModelWithFormControl}]}}}var nx=function(){function t(){this.change=new os,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t}(),ix=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lx=Number.MAX_SAFE_INTEGER,sx=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var i,l,s=e.totalItems&&e.totalItems!==t.length,r=this.createInstance(t,e),o=r.id,a=r.itemsPerPage,u=this.service.register(r);if(!s&&t instanceof Array){if(this.stateIsIdentical(o,t,i=(r.currentPage-1)*(a=+a||lx),l=i+a))return this.state[o].slice;var c=t.slice(i,l);return this.saveState(o,t,c,i,l),this.service.change.emit(o),c}return u&&this.service.change.emit(o),this.saveState(o,t,t,i,l),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter((function(e){return!(e in t)}));if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,i,l){this.state[t]={collection:e,size:e.length,slice:n,start:i,end:l}},t.prototype.stateIsIdentical=function(t,e,n,i){var l=this.state[t];return!!l&&!(l.size!==e.length||l.start!==n||l.end!==i)&&l.slice.every((function(t,i){return t===e[n+i]}))},function(t,e,n,i){var l,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(l=t[o])&&(r=(s<3?l(r):s>3?l(e,n,r):l(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r}([ds({name:"paginate",pure:!1}),ix("design:paramtypes",[nx])],t)}(),rx=function(t,e,n,i){var l,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(l=t[o])&&(r=(s<3?l(r):s>3?l(e,n,r):l(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},ox=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function ax(t){return!!t&&"false"!==t}var ux=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new os,this.pageBoundsCorrection=new os,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=ax(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=ax(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=ax(t)},enumerable:!0,configurable:!0}),rx([ps(),ox("design:type",String)],t.prototype,"id",void 0),rx([ps(),ox("design:type",Number)],t.prototype,"maxSize",void 0),rx([ps(),ox("design:type",Boolean),ox("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),rx([ps(),ox("design:type",Boolean),ox("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),rx([ps(),ox("design:type",Boolean),ox("design:paramtypes",[Boolean])],t.prototype,"responsive",null),rx([ps(),ox("design:type",String)],t.prototype,"previousLabel",void 0),rx([ps(),ox("design:type",String)],t.prototype,"nextLabel",void 0),rx([ps(),ox("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),rx([ps(),ox("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),rx([ps(),ox("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),rx([ms(),ox("design:type",os)],t.prototype,"pageChange",void 0),rx([ms(),ox("design:type",os)],t.prototype,"pageBoundsCorrection",void 0),rx([hs({selector:"pagination-controls",template:'\n    <pagination-template  #p="paginationApi"\n                         [id]="id"\n                         [maxSize]="maxSize"\n                         (pageChange)="pageChange.emit($event)"\n                         (pageBoundsCorrection)="pageBoundsCorrection.emit($event)">\n    <ul class="ngx-pagination" \n        role="navigation" \n        [attr.aria-label]="screenReaderPaginationLabel" \n        [class.responsive]="responsive"\n        *ngIf="!(autoHide && p.pages.length <= 1)">\n\n        <li class="pagination-previous" [class.disabled]="p.isFirstPage()" *ngIf="directionLinks"> \n            <a tabindex="0" *ngIf="1 < p.getCurrent()" (keyup.enter)="p.previous()" (click)="p.previous()" [attr.aria-label]="previousLabel + \' \' + screenReaderPageLabel">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isFirstPage()">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li> \n\n        <li class="small-screen">\n            {{ p.getCurrent() }} / {{ p.getLastPage() }}\n        </li>\n\n        <li [class.current]="p.getCurrent() === page.value" \n            [class.ellipsis]="page.label === \'...\'"\n            *ngFor="let page of p.pages">\n            <a tabindex="0" (keyup.enter)="p.setCurrent(page.value)" (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">\n                <span class="show-for-sr">{{ screenReaderPageLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span>\n            </a>\n            <ng-container *ngIf="p.getCurrent() === page.value">\n                <span class="show-for-sr">{{ screenReaderCurrentLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span> \n            </ng-container>\n        </li>\n\n        <li class="pagination-next" [class.disabled]="p.isLastPage()" *ngIf="directionLinks">\n            <a tabindex="0" *ngIf="!p.isLastPage()" (keyup.enter)="p.next()" (click)="p.next()" [attr.aria-label]="nextLabel + \' \' + screenReaderPageLabel">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isLastPage()">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li>\n\n    </ul>\n    </pagination-template>\n    ',styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],changeDetection:ne.OnPush,encapsulation:ie.None})],t)}(),cx=function(t,e,n,i){var l,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(l=t[o])&&(r=(s<3?l(r):s>3?l(e,n,r):l(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r},hx=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dx=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new os,this.pageBoundsCorrection=new os,this.pages=[],this.changeSub=this.service.change.subscribe((function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout((function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)})):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,i){i=+i;for(var l=[],s=Math.ceil(n/e),r=Math.ceil(i/2),o=t<=r,a=s-r<t,u=!o&&!a,c=i<s,h=1;h<=s&&h<=i;){var d=this.calculatePageNumber(h,t,i,s);l.push({label:c&&(2===h&&(u||a)||h===i-1&&(u||o))?"...":d,value:d}),h++}return l},t.prototype.calculatePageNumber=function(t,e,n,i){var l=Math.ceil(n/2);return t===n?i:1===t?t:n<i?i-l<e?i-n+t:l<e?e-l+t:t:t},cx([ps(),hx("design:type",String)],t.prototype,"id",void 0),cx([ps(),hx("design:type",Number)],t.prototype,"maxSize",void 0),cx([ms(),hx("design:type",os)],t.prototype,"pageChange",void 0),cx([ms(),hx("design:type",os)],t.prototype,"pageBoundsCorrection",void 0),cx([cs({selector:"pagination-template,[pagination-template]",exportAs:"paginationApi"}),hx("design:paramtypes",[nx,He])],t)}(),px=function(t,e,n,i){var l,s=arguments.length,r=s<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var o=t.length-1;o>=0;o--)(l=t[o])&&(r=(s<3?l(r):s>3?l(e,n,r):l(e,n))||r);return s>3&&r&&Object.defineProperty(e,n,r),r}([vs({imports:[ju],declarations:[sx,ux,dx],providers:[nx],exports:[sx,ux,dx]})],(function(){})),mx=Ti({encapsulation:2,styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],data:{}});function gx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],(function(t,e,n){var i=!0;return"keyup.enter"===e&&(i=!1!==kl(t.parent.parent.parent,2).previous()&&i),"click"===e&&(i=!1!==kl(t.parent.parent.parent,2).previous()&&i),i}),null,null)),(t()(),Zr(1,null,[" "," "])),(t()(),Nr(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(t()(),Zr(3,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n.previousLabel+" "+n.screenReaderPageLabel),t(e,1,0,n.previousLabel),t(e,3,0,n.screenReaderPageLabel)}))}function fx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(1,null,[" "," "])),(t()(),Nr(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(t()(),Zr(3,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.previousLabel),t(e,3,0,n.screenReaderPageLabel)}))}function bx(t){return to(0,[(t()(),Nr(0,0,null,null,4,"li",[["class","pagination-previous"]],[[2,"disabled",null]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,gx)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,fx)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,1<kl(e.parent.parent,2).getCurrent()),t(e,4,0,kl(e.parent.parent,2).isFirstPage())}),(function(t,e){t(e,0,0,kl(e.parent.parent,2).isFirstPage())}))}function vx(t){return to(0,[(t()(),Nr(0,0,null,null,5,"a",[["tabindex","0"]],null,[[null,"keyup.enter"],[null,"click"]],(function(t,e,n){var i=!0;return"keyup.enter"===e&&(i=!1!==kl(t.parent.parent.parent,2).setCurrent(t.parent.context.$implicit.value)&&i),"click"===e&&(i=!1!==kl(t.parent.parent.parent,2).setCurrent(t.parent.context.$implicit.value)&&i),i}),null,null)),(t()(),Nr(1,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(t()(),Zr(2,null,[""," "])),(t()(),Nr(3,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),qr(5,2)],null,(function(t,e){t(e,2,0,e.component.screenReaderPageLabel);var n="..."===e.parent.context.$implicit.label?e.parent.context.$implicit.label:ki(e,4,0,t(e,5,0,kl(e.parent.parent.parent,0),e.parent.context.$implicit.label,""));t(e,4,0,n)}))}function yx(t){return to(0,[(t()(),Nr(0,0,null,null,5,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(t()(),Zr(2,null,[""," "])),(t()(),Nr(3,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),qr(5,2)],null,(function(t,e){t(e,2,0,e.component.screenReaderCurrentLabel);var n="..."===e.parent.context.$implicit.label?e.parent.context.$implicit.label:ki(e,4,0,t(e,5,0,kl(e.parent.parent.parent,0),e.parent.context.$implicit.label,""));t(e,4,0,n)}))}function wx(t){return to(0,[(t()(),Nr(0,0,null,null,4,"li",[],[[2,"current",null],[2,"ellipsis",null]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,vx)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,yx)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,kl(e.parent.parent,2).getCurrent()!==e.context.$implicit.value),t(e,4,0,kl(e.parent.parent,2).getCurrent()===e.context.$implicit.value)}),(function(t,e){t(e,0,0,kl(e.parent.parent,2).getCurrent()===e.context.$implicit.value,"..."===e.context.$implicit.label)}))}function xx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],(function(t,e,n){var i=!0;return"keyup.enter"===e&&(i=!1!==kl(t.parent.parent.parent,2).next()&&i),"click"===e&&(i=!1!==kl(t.parent.parent.parent,2).next()&&i),i}),null,null)),(t()(),Zr(1,null,[" "," "])),(t()(),Nr(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(t()(),Zr(3,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n.nextLabel+" "+n.screenReaderPageLabel),t(e,1,0,n.nextLabel),t(e,3,0,n.screenReaderPageLabel)}))}function kx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(1,null,[" "," "])),(t()(),Nr(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(t()(),Zr(3,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.nextLabel),t(e,3,0,n.screenReaderPageLabel)}))}function _x(t){return to(0,[(t()(),Nr(0,0,null,null,4,"li",[["class","pagination-next"]],[[2,"disabled",null]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,xx)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,kx)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,!kl(e.parent.parent,2).isLastPage()),t(e,4,0,kl(e.parent.parent,2).isLastPage())}),(function(t,e){t(e,0,0,kl(e.parent.parent,2).isLastPage())}))}function Cx(t){return to(0,[(t()(),Nr(0,0,null,null,8,"ul",[["class","ngx-pagination"],["role","navigation"]],[[1,"aria-label",0],[2,"responsive",null]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,bx)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(3,0,null,null,1,"li",[["class","small-screen"]],null,null,null,null,null)),(t()(),Zr(4,null,[" "," / "," "])),(t()(),Fr(16777216,null,null,1,null,wx)),Nl(6,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(16777216,null,null,1,null,_x)),Nl(8,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.directionLinks),t(e,6,0,kl(e.parent,2).pages),t(e,8,0,n.directionLinks)}),(function(t,e){var n=e.component;t(e,0,0,n.screenReaderPaginationLabel,n.responsive),t(e,4,0,kl(e.parent,2).getCurrent(),kl(e.parent,2).getLastPage())}))}function Tx(t){return to(2,[Rl(0,zu,[As]),(t()(),Nr(1,0,null,null,3,"pagination-template",[],null,[[null,"pageChange"],[null,"pageBoundsCorrection"]],(function(t,e,n){var i=!0,l=t.component;return"pageChange"===e&&(i=!1!==l.pageChange.emit(n)&&i),"pageBoundsCorrection"===e&&(i=!1!==l.pageBoundsCorrection.emit(n)&&i),i}),null,null)),Nl(2,737280,[["p",4]],0,dx,[nx,He],{id:[0,"id"],maxSize:[1,"maxSize"]},{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"}),(t()(),Fr(16777216,null,null,1,null,Cx)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.id,n.maxSize),t(e,4,0,!(n.autoHide&&kl(e,2).pages.length<=1))}),null)}class Sx{constructor(t,e,n){this.customerService=t,this.userService=e,this.staffService=n,this.gender=!0,this.genderDetail=!0,this.id_patient=null,this.patient_name=null,this._p=1,this.is_reexam=!1,this.id_ers=null,this.isToggleChecked=!1,this.ExamResult=[],this.UserDetail={name:"loading",phone:"loading",gender:!0,qrcoce:"loading",birthday:1900,email:"loading"},this.currentYear=(new Date).getFullYear(),this.ArrYear=[]}ngOnInit(){for(var t=0;t<100;t++)this.ArrYear.push(this.currentYear-t);this.loadCustomer()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadCustomer(){this.subscription=this.customerService.getListCustomer().subscribe(t=>{this.customer=t.results,this._total=t.count},t=>{qv.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Cool"})})}addUser(t,e,n){this.customerService.addCustomer(t,e,n,this.gender).subscribe(t=>{this.loadCustomer(),qv.a.fire({title:"Success",text:"\u0110\xe3 th\xeam th\xf4ng tin m\u1ed9t kh\xe1ch h\xe0ng",icon:"success"})},t=>{qv.a.fire({title:"Error!",text:"Kh\xf4ng th\xe0nh c\xf4ng",icon:"error",confirmButtonText:"Cool"})})}onChangeGender(t){this.gender=t}onChangeDetailGender(t){this.genderDetail=t}getCustomer(t){this.currentUserID=t}detailCustomer(t){this.customerService.getDetailCustomer(t).subscribe(t=>{this.UserDetail=t,console.log(this.UserDetail),this.genderDetail=t.gender})}deleteCustomer(t){this.customerService.deleteCustomer(t).subscribe(t=>{this.loadCustomer(),qv.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"})},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}updateUser(t,e,n,i){this.customerService.updateCustomer(this.UserDetail.id,t,e,this.genderDetail,n,i).subscribe(t=>{this.loadCustomer(),qv.a.fire({title:"Success",text:"Ch\u1ec9nh s\u1eeda th\xf4ng tin th\xe0nh c\xf4ng",icon:"success"})},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}loadListDoctor(t,e){this.id_patient=t,this.patient_name=e,this.userService.getListDoctor().subscribe(t=>{this.doctors=t}),this.staffService.getQueueList().subscribe(t=>{this.queue=t}),this.staffService.filterExamResult(t).subscribe(t=>{this.ExamResult=t.results,this.ExamResult.length>0?(this.selectedERS=t.results[0].id,this.is_reexam=!0):this.is_reexam=!1},t=>{console.log(t)})}onCreateExamination(t,e){this.staffService.createExamination(t,this.id_patient,e,this.isToggleChecked,null).subscribe(t=>{this.id_patient=null,localStorage.setItem("id_exam",t),window.open(window.location.href+"/printer/printexamination","_blank")})}onCreateReExamination(t,e){this.staffService.createExamination(t,this.id_patient,e,this.is_reexam,this.selectedERS).subscribe(t=>{this.id_patient=null,localStorage.setItem("id_exam",t),window.open(window.location.href+"/printer/printexamination","_blank")})}changePage(t){this._p=t,this.customerService.getPageCustomer(this._p).subscribe(t=>{this.customer=t.results})}onSearch(t){this.subscription.unsubscribe(),this.subscription=this.customerService.searchCustomer(t).subscribe(e=>{this.customer=e.results,console.log(t)})}onCheck(){this.isToggleChecked=!this.isToggleChecked,console.log(this.isToggleChecked)}changeSelect(t){console.log(t),this.selectedERS=t}requiredReset(t){}}const Mx={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})};let Px=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getListCustomer(){return this.http.get(`${this.API}/api/customer/`,Mx)}getPageCustomer(t){return this.http.get(`${this.API}/api/customer/?page=${t}`,Mx)}filterCustomerByDoctor(t){return this.http.get(`${this.API}/api/doctor/customer/?page=${t}`,Mx)}searchCustomer(t){return this.http.get(`${this.API}/api/customer/?search=${t}`,Mx)}getDetailCustomer(t){return this.http.get(`${this.API}/api/customer/${t}/`,Mx)}updateCustomer(t,e,n,i,l,s){const r=JSON.stringify({name:e,phone:n,gender:i,email:l,birthday:s});return this.http.patch(`${this.API}/api/customer/${t}/`,r,Mx)}addCustomer(t,e,n,i){const l=JSON.stringify({name:t,phone:e,gender:i,birthday:n});return this.http.post(`${this.API}/api/customer/`,l,Mx)}deleteCustomer(t){return this.http.delete(`${this.API}/api/customer/${t}/`,Mx)}getListExamResult(t){return this.http.get(`${this.API}/api/examresult/?page=${t}`,Mx)}filterExamResult(t,e){return this.http.get(`${this.API}/api/examresult/?page=${t}&customer=${e}`,Mx)}getExamResultById(t){return this.http.get(`${this.API}/api/examresult/${t}`,Mx)}getListExamination(t){return this.http.get(`${this.API}/api/public/examination/?page=${t}`,Mx)}filterExaminationByPatient(t,e){return this.http.get(`${this.API}/api/public/examination/?page=${t}&patient=${e}`,Mx)}filterDiagnosisByExam(t){return this.http.get(`${this.API}/api/public/diagnosis/?examination=${t}`,Mx)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();const Ax={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})};let Ex=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getCustomerById(t){return this.http.get(`${this.API}/api/customer/${t}/`,Ax)}createExamination(t,e,n,i,l){let s;return s=0==i?JSON.stringify({docter:t,patient:e,note:n,is_reexam:i}):JSON.stringify({docter:t,patient:e,note:n,is_reexam:i,id_examresult:l}),this.http.post(`${this.API}/api/examination/`,s,Ax)}updateExamination(t,e,n){const i=JSON.stringify({docter:e,note:n});return this.http.patch(`${this.API}/api/staff/examination/${t}/`,i,Ax)}deleteExamination(t){return this.http.delete(`${this.API}/api/examination/${t}/`,Ax)}getListRegistration(t){return this.http.get(`${this.API}/api/schedule/?page=${t}&is_active=false`,Ax)}filterExamResult(t){return this.http.get(`${this.API}/api/examresult/?customer=${t}&re_examination=true`,Ax)}getListExamination(t){return this.http.get(`${this.API}/api/examination/?page=${t}`,Ax)}getExaminationById(t){return this.http.get(`${this.API}/api/examination/${t}/`,Ax)}createInvolve(t){const e=JSON.stringify({examination:t});return this.http.post(`${this.API}/api/involve/`,e,Ax)}updateInvolve(t,e,n,i){const l=JSON.stringify({paid:i,payment:"ti\u1ec1n m\u1eb7t",received:n});return this.http.patch(`${this.API}/api/involve/${t}/`,l,Ax)}editInvolve(t,e,n){const i=JSON.stringify({paid:n,received:e});return this.http.patch(`${this.API}/api/involve/${t}/`,i,Ax)}deleteInvolve(t){return this.http.post(`${this.API}/api/involve/${t}/`,Ax)}getInvoice(t){return this.http.get(`${this.API}/api/involve/${t}/`,Ax)}getListInvoice(t){return this.http.get(`${this.API}/api/involve/?page=${t}`,Ax)}getDiagnosisByExam(t){return this.http.get(`${this.API}/api/public/diagnosis/?examination=${t}`,Ax)}getScheduleByExam(t){return this.http.get(`${this.API}/api/schedule/?pre_examination=${t}`,Ax)}getScheduleByTime(t){return this.http.get(`${this.API}/api/schedule/?page=${t}&ordering=-date,-time`,Ax)}getScheduleToday(t){return this.http.get(`${this.API}/api/schedule/?page=${t}&today=1`,Ax)}approveScheduleRegistration(t){const e=JSON.stringify({is_active:!0});return this.http.patch(`${this.API}/api/schedule/${t}/`,e,Ax)}RejectScheduleRegistration(t){return this.http.delete(`${this.API}/api/schedule/${t}/`,Ax)}updateSchedule(t,e,n,i,l,s,r){const o=JSON.stringify({name:e,email:n,phone:i,date:l,time:s,note:r});return this.http.patch(`${this.API}/api/schedule/${t}/`,o,Ax)}createSchedule(t,e,n,i,l,s){const r=JSON.stringify({name:t,email:e,phone:n,date:i,time:l,message:s});return this.http.post(`${this.API}/api/staff/schedule/`,r,Ax)}getScheduler(){return this.http.get(`${this.API}/api/scheduler/?ordering=date,time`,Ax)}getFreeTimeList(t){return this.http.get(`${this.API}/api/schedule/freetime/?date=${t}`,Ax)}getUserProfile(){return this.http.get(`${this.API}/api/user/profile/`,Ax)}getQueueList(){return this.http.get(`${this.API}/api/public/queue/`,Ax)}getInvoicetoPrint(t){return this.http.get(`${this.API}/api/involve/${t}/`,Ax).toPromise()}getDiagnosisByExamtoPrint(t){return this.http.get(`${this.API}/api/public/diagnosis/?examination=${t}`,Ax).toPromise()}getScheduleByExamtoPrint(t){return this.http.get(`${this.API}/api/schedule/?pre_examination=${t}`,Ax).toPromise()}getUserProfiletoPrint(){return this.http.get(`${this.API}/api/user/profile/`,Ax).toPromise()}getExaminationByIdtoPrint(t){return this.http.get(`${this.API}/api/examination/${t}/`,Ax).toPromise()}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();var Ix=Ti({encapsulation:0,styles:[['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:35px;height:80%}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:80%;width:45%;left:8%;bottom:10%;background-color:#fff;-webkit-transition:.4s;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(13px);transform:translateX(13px)}.slider.round[_ngcontent-%COMP%]{border-radius:1rem}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']],data:{}});function Dx(t){return to(0,[(t()(),Nr(0,0,null,null,26,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailCustomer(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(2,null,[" ",""])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailCustomer(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailCustomer(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailCustomer(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailCustomer(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(10,null,[" ",""])),(t()(),Nr(11,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Zr(12,null,[" "," "])),qr(13,2),(t()(),Nr(14,0,null,null,4,"td",[["style","width: 20%;"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#addexamination"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.loadListDoctor(t.context.$implicit.id,t.context.$implicit.name)&&i),i}),null,null)),(t()(),Zr(-1,null,["T\u1ea1o phi\u1ebfu kh\xe1m"])),(t()(),Nr(17,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.deleteCustomer(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"])),(t()(),Nr(19,0,null,null,7,"td",[["style","cursor: pointer;"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,6,"div",[["class","hvr-forward"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,5,"a",[["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,22).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(22,671744,null,0,xm,[ym,ap,ka],{target:[0,"target"],routerLink:[1,"routerLink"]},null),Gr(23,2),(t()(),Nr(24,0,null,null,0,"i",[["class","fa fa-mail-forward"]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch s\u1eed kh\xe1m"])),(t()(),Nr(26,0,null,null,0,"span",[["class","text-muted"]],null,null,null,null,null))],(function(t,e){var n=t(e,23,0,"/comon/customer/",e.context.$implicit.id);t(e,22,0,"_blank",n)}),(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.phone),t(e,8,0,e.context.$implicit.birthday),t(e,10,0,e.context.$implicit.gender?"Nam":"N\u1eef");var n=ki(e,12,0,t(e,13,0,kl(e.parent,0),e.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));t(e,12,0,n),t(e,21,0,kl(e,22).target,kl(e,22).href)}))}function Ox(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit,"")),t(e,2,0,Qi(1,"",e.context.$implicit,""))}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function Fx(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),Nr(1,0,[["detailmale",1]],null,0,"input",[["checked",""],["name","gender"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeDetailGender(kl(t,1).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" Nam"])),(t()(),Nr(3,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(4,0,[["detailfemale",1]],null,0,"input",[["name","gender"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeDetailGender(kl(t,4).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" N\u1eef"])),(t()(),Nr(6,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Nx(t){return to(0,[(t()(),Nr(0,0,[["detailmale",1]],null,0,"input",[["name","gender"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeDetailGender(kl(t,0).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" Nam"])),(t()(),Nr(2,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(3,0,[["detailfemale",1]],null,0,"input",[["checked",""],["name","gender"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeDetailGender(kl(t,3).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" N\u1eef"])),(t()(),Nr(5,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Rx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,[""," - ",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit.id,"")),t(e,2,0,Qi(1,"",e.context.$implicit.id,""))}),(function(t,e){t(e,3,0,e.context.$implicit.name,e.context.$implicit.num_patient)}))}function Lx(t){return to(0,[(t()(),Nr(0,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"label",[["class","switch mr-2"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,0,"input",[["type","checkbox"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onCheck()&&i),i}),null,null)),(t()(),Nr(3,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xe1i kh\xe1m "]))],null,null)}function Bx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,[""," - ",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit.id,"")),t(e,2,0,Qi(1,"",e.context.$implicit.id,""))}),(function(t,e){t(e,3,0,e.context.$implicit.id,e.context.$implicit.examresult_in_examination[0].note)}))}function Vx(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5 t\xe1i kh\xe1m"])),(t()(),Nr(3,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"select",[],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeSelect(n.target.value)&&i),i}),null,null)),(t()(),Fr(16777216,null,null,1,null,Bx)),Nl(6,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,6,0,e.component.ExamResult)}),null)}function zx(t){return to(0,[Rl(0,Vu,[As]),(t()(),Nr(1,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,47,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,46,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,12,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(8,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,7,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,5,"nav",[["class","navbar navbar-light"],["style","width: 100% !important;"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(t()(),Nr(13,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 100% !important;"],["type","search"]],null,[[null,"keyup"]],(function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.onSearch(kl(t,13).value)&&i),i}),null,null)),(t()(),Nr(14,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSearch(kl(t,13).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(17,0,null,null,32,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Nr(20,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean"])),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Li\xean l\u1ea1c"])),(t()(),Nr(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u0103m sinh"])),(t()(),Nr(29,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edbi t\xednh"])),(t()(),Nr(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y t\u1ea1o"])),(t()(),Nr(33,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(35,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(37,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,Dx)),Nl(39,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(40,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(42,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(43,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(44,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(45,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(46,0,null,null,2,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#adduser"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam kh\xe1ch h\xe0ng"])),(t()(),Nr(49,0,null,null,0,"div",[["class","col-sm-1"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,40,"div",[["class","modal fade"],["id","adduser"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,39,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,38,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(54,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Th\xeam kh\xe1ch h\xe0ng "])),(t()(),Nr(57,0,null,null,30,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(58,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(59,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,27,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(62,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean Kh\xe1ch h\xe0ng"])),(t()(),Nr(64,0,[["fullname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(65,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(66,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"])),(t()(),Nr(68,0,[["phonenumber",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u0103m sinh"])),(t()(),Nr(72,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),Nr(73,0,[["birthday",1]],null,2,"select",[["class","form-group"],["style","height: 38px;"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Ox)),Nl(75,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(76,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(77,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edbi t\xednh"])),(t()(),Nr(79,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(80,0,[["male",1]],null,0,"input",[["checked",""],["name","gender"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeGender(kl(t,80).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" Nam"])),(t()(),Nr(82,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(83,0,[["female",1]],null,0,"input",[["name","gender"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeGender(kl(t,83).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" N\u1eef"])),(t()(),Nr(85,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(86,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.addUser(kl(t,64).value,kl(t,68).value,kl(t,73).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["L\u01b0u th\xf4ng tin"])),(t()(),Nr(88,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(89,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"])),(t()(),Nr(91,0,null,null,42,"div",[["class","modal fade"],["id","detailcustomer"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(92,0,null,null,41,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(93,0,null,null,40,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(94,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(95,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(96,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(97,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft"])),(t()(),Nr(99,0,null,null,31,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(100,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(101,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(102,0,null,null,25,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6"]],null,null,null,null,null)),(t()(),Nr(103,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(104,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean Kh\xe1ch h\xe0ng"])),(t()(),Nr(106,0,[["detailName",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(107,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(108,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"])),(t()(),Nr(110,0,[["detailPhone",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(111,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(112,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(114,0,[["detailEmail",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(115,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(116,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u0103m sinh"])),(t()(),Nr(118,0,[["detailYear",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(119,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(120,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edbi t\xednh"])),(t()(),Nr(122,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Fx)),Nl(124,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["elseGender",2]],null,0,null,Nx)),(t()(),Nr(126,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateUser(kl(t,106).value,kl(t,110).value,kl(t,114).value,kl(t,118).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["L\u01b0u thay \u0111\u1ed5i"])),(t()(),Nr(128,0,null,null,2,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6 text-center"]],null,null,null,null,null)),(t()(),Nr(129,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(130,0,null,null,0,"img",[["alt",""],["height","60%"],["width","60%"]],[[8,"src",4]],null,null,null,null)),(t()(),Nr(131,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(132,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"])),(t()(),Nr(134,0,null,null,29,"div",[["class","modal fade"],["id","addexamination"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(135,0,null,null,28,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(t()(),Nr(136,0,null,null,27,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(137,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(138,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(139,null,[" "," "])),(t()(),Nr(140,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(141,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(142,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(143,0,null,null,17,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(144,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(145,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["B\xe1c s\u0129"])),(t()(),Nr(147,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),Nr(148,0,[["doctor",1]],null,2,"select",[["id",""],["name",""]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Rx)),Nl(150,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(151,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(152,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(154,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Lx)),Nl(156,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Vx)),Nl(158,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(159,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==(0==l.isToggleChecked?l.onCreateExamination(kl(t,148).value,kl(t,154).value):l.onCreateReExamination(kl(t,148).value,kl(t,154).value))&&i),i}),null,null)),(t()(),Zr(-1,null,["T\u1ea1o phi\u1ebfu kh\xe1m"])),(t()(),Nr(161,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(162,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,39,0,kl(e,41).transform(n.customer,t(e,40,0,10,n._p,n._total)));t(e,39,0,i),t(e,75,0,n.ArrYear),t(e,124,0,n.UserDetail.gender,kl(e,125)),t(e,150,0,n.queue),t(e,156,0,1==n.is_reexam),t(e,158,0,n.isToggleChecked&&n.is_reexam)}),(function(t,e){var n=e.component;t(e,106,0,n.UserDetail.name),t(e,110,0,n.UserDetail.phone),t(e,114,0,n.UserDetail.email),t(e,118,0,n.UserDetail.birthday),t(e,130,0,Qi(1,"",n.UserDetail.qrcoce,"")),t(e,139,0,n.patient_name)}))}function jx(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-customer",[],null,null,null,zx,Ix)),Nl(1,245760,null,0,Sx,[Px,Ay,Ex],null,null)],(function(t,e){t(e,1,0)}),null)}var Hx=hl("app-customer",Sx,jx,{},{},[]);class Wx{constructor(t,e,n){this.activatedRouterService=t,this.routerService=e,this.staffService=n,this.Customer={}}ngOnInit(){this.loadData()}loadData(){this.subscriptionParams=this.activatedRouterService.params.subscribe(t=>{this.subscription=this.staffService.getCustomerById(t.id).subscribe(t=>{this.Customer=t,console.log(this.Customer)})})}}var Ux=Ti({encapsulation:0,styles:[[""]],data:{}});function $x(t){return to(0,[(t()(),Nr(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Zr(-1,null,["staff-history works!"]))],null,null)}function Yx(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-history",[],null,null,null,$x,Ux)),Nl(1,114688,null,0,Wx,[ap,ym,Ex],null,null)],(function(t,e){t(e,1,0)}),null)}var qx=hl("app-staff-history",Wx,Yx,{},{},[]);class Gx{constructor(t){this.staffService=t,this.registration=[],this._p=1}ngOnInit(){this.loadData(1)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(t){this._p=t,this.subscription=this.staffService.getListRegistration(this._p).subscribe(t=>{this.registration=t.results,this._total=t.count})}onApproveRegister(t){this.subscription=this.staffService.approveScheduleRegistration(t).subscribe(t=>{qv.a.fire({title:"Success",text:"Duy\u1ec7t th\xe0nh c\xf4ng",icon:"success"}),this.loadData(this._p)},t=>{qv.a.fire({title:"Error",text:t.error,icon:"error"})})}checkFile(t){return["mp4","mov","MP4","MOV"].indexOf(t.substring(t.lastIndexOf(".")+1))>-1}onDelete(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a \u0111\u0103ng k\xfd n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&this.staffService.RejectScheduleRegistration(t).subscribe(t=>{this.loadData(this._p),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})})}changePage(t){this._p=t,this.loadData(this._p)}}var Xx=Ti({encapsulation:0,styles:[[""]],data:{}});function Kx(t){return to(0,[(t()(),Nr(0,0,null,null,1,"video",[["controls",""],["height","70px"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,1,0,Qi(1,"",e.parent.parent.context.$implicit.attachment,""))}))}function Zx(t){return to(0,[(t()(),Nr(0,0,null,null,1,"img",[["height","70px"],["lightbox",""]],[[8,"src",4],[2,"lightbox-single",null],[2,"lightbox-simple-mode",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,1).onClick(n)&&i),i}),null,null)),Nl(1,540672,null,0,gg,[mg,ug,Fn],null,null)],null,(function(t,e){t(e,0,0,Qi(1,"",e.parent.parent.context.$implicit.attachment,""),kl(e,1).hostLightboxGroup,kl(e,1).hostSimpleMode)}))}function Qx(t){return to(0,[(t()(),Nr(0,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Kx)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["typeImage",2]],null,0,null,Zx))],(function(t,e){t(e,2,0,e.component.checkFile(e.parent.context.$implicit.attachment),kl(e,3))}),null)}function Jx(t){return to(0,[(t()(),Nr(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xf4ng c\xf3"]))],null,null)}function tk(t){return to(0,[(t()(),Nr(0,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(2,null,[" ",""])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,[" "," "," "])),(t()(),Nr(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(12,null,[" ",""])),(t()(),Fr(16777216,null,null,1,null,Qx)),Nl(14,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["noneAttachment",2]],null,0,null,Jx)),(t()(),Nr(16,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onApproveRegister(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["Duy\u1ec7t"])),(t()(),Nr(19,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDelete(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],(function(t,e){t(e,14,0,e.context.$implicit.attachment,kl(e,15))}),(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.email),t(e,8,0,e.context.$implicit.phone),t(e,10,0,e.context.$implicit.date,e.context.$implicit.time),t(e,12,0,e.context.$implicit.message)}))}function ek(t){return to(0,[(t()(),Nr(0,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,36,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,35,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,5,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(7,0,null,null,0,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,0,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,28,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Nr(12,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Nr(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u0110T"])),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\u1eddi gian"])),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ec7p \u0111\xednh k\xe8m"])),(t()(),Nr(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(29,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,tk)),Nl(31,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(32,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(34,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(37,49152,null,0,ux,[],null,{pageChange:"pageChange"})],(function(t,e){var n=e.component,i=ki(e,31,0,kl(e,33).transform(n.registration,t(e,32,0,10,n._p,n._total)));t(e,31,0,i)}),null)}function nk(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-registration",[],null,null,null,ek,Xx)),Nl(1,245760,null,0,Gx,[Ex],null,null)],(function(t,e){t(e,1,0)}),null)}var ik=hl("app-registration",Gx,nk,{},{},[]);class lk{constructor(t){this.staffService=t,this.Schedule=[],this._p=1}ngOnInit(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}var sk=Ti({encapsulation:0,styles:[[""]],data:{}});function rk(t){return to(0,[(t()(),Nr(0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,18,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,17,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,13,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,10,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,9,"nav",[],null,null,null,null,null)),(t()(),Nr(6,0,null,null,8,"div",[["class","nav nav-tabs"],["id","nav-tab"],["role","tablist"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,3,"a",[["aria-controls","nav-home"],["aria-selected","true"],["class","nav-item nav-link active"],["data-toggle","tab"],["id","nav-home-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(8,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(9,1),(t()(),Zr(-1,null,["B\u1ea3ng"])),(t()(),Nr(11,0,null,null,3,"a",[["aria-controls","nav-profile"],["aria-selected","false"],["class","nav-item nav-link"],["data-toggle","tab"],["id","nav-profile-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(12,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(13,1),(t()(),Zr(-1,null,["L\u1ecbch"])),(t()(),Nr(15,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(18,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(19,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null)],(function(t,e){var n=t(e,9,0,"./");t(e,8,0,n);var i=t(e,13,0,"./scheduler");t(e,12,0,i),t(e,19,0)}),(function(t,e){t(e,7,0,kl(e,8).target,kl(e,8).href),t(e,11,0,kl(e,12).target,kl(e,12).href)}))}function ok(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-schedule",[],null,null,null,rk,sk)),Nl(1,245760,null,0,lk,[Ex],null,null)],(function(t,e){t(e,1,0)}),null)}var ak=hl("app-staff-schedule",lk,ok,{},{},[]);class uk{constructor(t){this.staffService=t,this.Schedule=[],this._p=1,this.options=!1,this.ScheduleDetail={name:null,email:null,phone:null,date:null,time:null,note:null},this.listFreeTime=["8:00","9:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00","18:00"]}ngOnInit(){this.loadData(1)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(t){this._p=t,this.subscription=this.staffService.getScheduleByTime(this._p).subscribe(t=>{this.Schedule=t.results})}getScheduleDetail(t,e){this.ScheduleDetail=this.Schedule[e],this.subscription=this.staffService.getFreeTimeList(this.ScheduleDetail.date).subscribe(t=>{this.listFreeTime=t},t=>{console.log(t)})}onPickDate(t){this.subscription=this.staffService.getFreeTimeList(t).subscribe(t=>{this.listFreeTime=t,console.log(t)},t=>{console.log(t)})}onUpdateSchedule(t,e,n,i,l,s){this.subscription=this.staffService.updateSchedule(this.ScheduleDetail.id,t,e,n,i,l,s).subscribe(t=>{this.loadData(1),qv.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"})},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}changeOption(t){this.options=t,t?this.loadToday(1):this.loadData(1)}loadToday(t){this._p=t,this.staffService.getScheduleToday(this._p).subscribe(t=>{this.Schedule=t.results,this._total=t.count},t=>{console.log(t)})}deleteSchedule(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&this.staffService.RejectScheduleRegistration(t).subscribe(t=>{this.loadData(1),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})})}createSchedule(t,e,n,i,l,s){this.staffService.createSchedule(t,n,e,i,l,s).subscribe(t=>{this.loadData(this._p),qv.a.fire("Th\xe0nh c\xf4ng!","\u0110\xe3 th\xeam v\xe0o l\u1ecbch kh\xe1m th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}}var ck=Ti({encapsulation:0,styles:[[""]],data:{}});function hk(t){return to(0,[(t()(),Nr(0,0,null,null,19,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,[" "," "])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,[" "," "," "])),(t()(),Nr(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(12,null,[" ",""])),(t()(),Nr(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(14,null,[" "," "])),(t()(),Nr(15,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#ModalSchedule"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getScheduleDetail(t.context.$implicit.id,t.context.index)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(18,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.deleteSchedule(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],null,(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.is_reexam?e.context.$implicit.pre_examination.patient.name:e.context.$implicit.name),t(e,6,0,e.context.$implicit.is_reexam?e.context.$implicit.pre_examination.patient.email:e.context.$implicit.email),t(e,8,0,e.context.$implicit.is_reexam?e.context.$implicit.pre_examination.patient.phone:e.context.$implicit.phone),t(e,10,0,e.context.$implicit.date,e.context.$implicit.time),t(e,12,0,e.context.$implicit.is_reexam?e.context.$implicit.detail:e.context.$implicit.message),t(e,14,0,e.context.$implicit.note)}))}function dk(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit,"")),t(e,2,0,Qi(1,"",e.context.$implicit,""))}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function pk(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[["class","form-control"]],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit,"")),t(e,2,0,Qi(1,"",e.context.$implicit,""))}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function mk(t){return to(0,[(t()(),Nr(0,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,46,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,45,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,15,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch kh\xe1m"])),(t()(),Nr(7,0,null,null,8,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,0,"input",[["class","form-check-input"],["id","inlineRadio1"],["name","inlineRadioOptions"],["type","radio"],["value","option1"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeOption(!0)&&i),i}),null,null)),(t()(),Nr(10,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio1"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\xf4m nay"])),(t()(),Nr(12,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,0,"input",[["checked",""],["class","form-check-input"],["id","inlineRadio2"],["name","inlineRadioOptions"],["type","radio"],["value","option2"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeOption(!1)&&i),i}),null,null)),(t()(),Nr(14,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio2"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ea5t c\u1ea3"])),(t()(),Nr(16,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"button",[["class","btn btn-success"],["data-target","#addSchedule"],["data-toggle","modal"],["style","width: 50%;"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam l\u1ecbch kh\xe1m"])),(t()(),Nr(19,0,null,null,28,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(29,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u0110T"])),(t()(),Nr(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\u1eddi gian"])),(t()(),Nr(33,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Tin nh\u1eafn"])),(t()(),Nr(35,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(37,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(39,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,hk)),Nl(41,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(42,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(44,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,1,"pagination-controls",[],null,null,null,Tx,mx)),Nl(47,49152,null,0,ux,[],null,null),(t()(),Nr(48,0,null,null,49,"div",[["class","modal fade"],["id","ModalSchedule"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(49,0,null,null,48,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,47,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Th\xf4ng tin "])),(t()(),Nr(55,0,null,null,39,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(56,0,null,null,38,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(57,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(58,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(59,0,null,null,34,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(63,0,[["name",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(64,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(65,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(67,0,[["email",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(68,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u0110T"])),(t()(),Nr(71,0,[["phone",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(72,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(73,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(74,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(75,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y"])),(t()(),Nr(77,0,[["date",1]],null,0,"input",[["class","form-control"],["type","date"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==t.component.onPickDate(n.target.value)&&i),i}),null,null)),(t()(),Nr(78,0,null,null,9,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(79,0,null,null,1,"label",[["class","font-weight-bold"],["for","email"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edd"])),(t()(),Nr(81,0,[["time",1]],null,6,"select",[["class","form-control"]],null,null,null,null,null)),(t()(),Nr(82,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Nl(83,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(84,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(85,null,["",""])),(t()(),Fr(16777216,null,null,1,null,dk)),Nl(87,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(88,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(89,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(91,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(92,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onUpdateSchedule(kl(t,63).value,kl(t,67).value,kl(t,71).value,kl(t,77).value,kl(t,81).value,kl(t,91).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(94,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(95,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(96,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"])),(t()(),Nr(98,0,null,null,45,"div",[["class","modal fade"],["id","addSchedule"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(99,0,null,null,44,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(100,0,null,null,43,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(101,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(102,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(103,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Th\xf4ng tin "])),(t()(),Nr(105,0,null,null,35,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(106,0,null,null,34,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(107,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(108,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(109,0,null,null,30,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(110,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(111,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(113,0,[["addname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(114,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(115,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(117,0,[["addemail",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(118,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(119,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u0110T"])),(t()(),Nr(121,0,[["addphone",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(122,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(123,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(124,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(125,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y"])),(t()(),Nr(127,0,[["adddate",1]],null,0,"input",[["class","form-control"],["type","date"]],null,[[null,"input"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==t.component.onPickDate(n.target.value)&&i),i}),null,null)),(t()(),Nr(128,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(129,0,null,null,1,"label",[["class","font-weight-bold"],["for","email"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edd"])),(t()(),Nr(131,0,[["addtime",1]],null,2,"select",[["class","form-control"],["style","height: 38px;"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,pk)),Nl(133,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(134,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(135,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(137,0,[["addnote",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(138,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.createSchedule(kl(t,113).value,kl(t,121).value,kl(t,117).value,kl(t,127).value,kl(t,131).value,kl(t,137).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Th\xeam l\u1ecbch kh\xe1m"])),(t()(),Nr(140,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(141,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(142,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,41,0,kl(e,43).transform(n.Schedule,t(e,42,0,10,n._p,n._total)));t(e,41,0,i),t(e,83,0,n.ScheduleDetail.time),t(e,84,0,n.ScheduleDetail.time),t(e,87,0,n.listFreeTime),t(e,133,0,n.listFreeTime)}),(function(t,e){var n=e.component;t(e,63,0,Qi(1,"",n.ScheduleDetail.name,"")),t(e,67,0,n.ScheduleDetail.email),t(e,71,0,n.ScheduleDetail.phone),t(e,77,0,n.ScheduleDetail.date),t(e,85,0,n.ScheduleDetail.time),t(e,91,0,n.ScheduleDetail.note)}))}function gk(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-schedule-table",[],null,null,null,mk,ck)),Nl(1,245760,null,0,uk,[Ex],null,null)],(function(t,e){t(e,1,0)}),null)}var fk=hl("app-staff-schedule-table",uk,gk,{},{},[]);const bk=t=>t?new Date(t.getTime()):null,vk=(t,e)=>{const n=bk(t);return 0===e&&23===n.getHours()&&n.setHours(n.getHours()+2),n},yk=(t,e,n,i=0,l=0,s=0,r=0)=>{const o=new Date(t,e,n,i,l,s,r);return t>-1&&t<100&&o.setFullYear(o.getFullYear()-1900),vk(o,i)},wk=t=>yk(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var xk=function(t){return t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday",t}({});const kk=36e5,_k=864e5,Ck={rules:{},titles:{},zones:{}},Tk={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Sk={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},Mk=(t,e,n)=>{const i=e[3],l=e[4],s=e[5];let r;const o="u"===s[3]?6e4*-n:0;if(isNaN(l)){if(0===l.indexOf("last")){r=new Date(Date.UTC(t,Tk[i]+1,1,s[0]-24,s[1],s[2])+o);const e=Sk[l.substr(4,3)],n=r.getUTCDay();r.setUTCDate(r.getUTCDate()+e-n-(e>n?7:0))}else if(l.indexOf(">=")>=0){r=new Date(Date.UTC(t,Tk[i],l.substr(5),s[0],s[1],s[2],0)+o);const e=Sk[l.substr(0,3)],n=r.getUTCDay();r.setUTCDate(r.getUTCDate()+e-n+(e<n?7:0))}}else r=new Date(Date.UTC(t,Tk[i],l,s[0],s[1],s[2])+o);return r},Pk=(new Date).getTime(),Ak=(t,e=Pk,n=0)=>{let i=Ck.rules[t];if(!i){const e=t.split(":");let n=0;return e.length>1&&(n=60*e[0]+Number(e[1])),[-1e6,"max","-","Jan",1,[0,0,0],n,"-"]}const l=new Date(e).getUTCFullYear();(i=i.filter(t=>{const e=t[0],n=t[1];return e<=l&&(n>=l||e===l&&"only"===n||"max"===n)})).push(e),i.sort((t,e)=>("number"!=typeof t&&(t=Number(Mk(l,t,n))),"number"!=typeof e&&(e=Number(Mk(l,e,n))),t-e));const s=i[i.indexOf(e)-1]||i[i.length-1];return isNaN(s)?s:null},Ek="The required {0} timezone information is not provided!",Ik=/\{(\d+)}?\}/g,Dk=(t,...e)=>{const n=(t=>t.reduce((t,e)=>t.concat(e),[]))(e);return t.replace(Ik,(t,e)=>n[parseInt(e,10)])},Ok=(t,e)=>{const n=e.getTime(),i=((t,e=(new Date).getTime())=>{if("Etc/UTC"===t||"Etc/GMT"===t)return[0,"-","UTC",null];const n=(t=>{const e=Ck.zones;if(!e)throw new Error(Dk(Ek,t));const n=e[t],i="string"==typeof n?e[n]:n;if(!i)throw new Error(Dk(Ek,t));return i})(t);let i=n.length-1;for(;i>=0;i--){const t=n[i][3];if(t&&e>t)break}const l=n[i+1];if(!l)throw new Error(Dk(Ek,t));return l})(t,n);return{rule:Ak(i[1],n,i[0]),zone:i}},Fk=(t,e=new Date)=>{if("Etc/UTC"===t)return"UTC";if("Etc/GMT"===t)return"GMT";if(""===t)return"";const{zone:n,rule:i}=Ok(t,e),l=n[2];return l.indexOf("/")>=0?l.split("/")[i&&+i[6]?1:0]:l.indexOf("%s")>=0?l.replace("%s",i&&"-"!==i[7]?i[7]:""):l},Nk=(t,e=new Date)=>{if("Etc/UTC"===t||"Etc/GMT"===t)return 0;if(""===t)return e.getTimezoneOffset();const{rule:n,zone:i}=Ok(t,e);return parseFloat(n?i[0]-n[6]:i[0])};function Rk(t){return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())}const Lk=(t,e)=>new Date(t.getTime()+6e4*e),Bk=(t,e)=>new Date(t.getTime()+e*kk),Vk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],zk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dev"],jk=t=>Vk[t.getUTCDay()]+" "+zk[t.getUTCMonth()],Hk=(t,e=2)=>(t<0?"-":"")+new Array(e).concat([Math.abs(t)]).join("0").slice(-e);function Wk(t,e){const n=Nk(e,t),i=Bk(t,-1);return n<Nk(e,i)}function Uk(t,e){const n=Wk(t,e)?1:0;return Bk(t,n)}function $k(t,e,n){if(e===n)return t;const i=Nk(e,t),l=Nk(n,t),s=i-l,r=Lk(t,s),o=Nk(n,r);return Lk(t,s+(l-o))}class Yk{get cachedLocalDate(){return this._localDate}get cachedUTCDate(){return this._utcDate}static fromLocalDate(t,e=""){const n=$k(t,"Etc/UTC",e),i=Wk(n,e),l=Nk(e,n);let s=0;i&&(s=l>0?-1:1);const r=Bk(n,s);return Yk.fromUTCDate(r,e)}static fromUTCDate(t,e=""){return new Yk(t,e)}toLocalDate(){return bk(this._localDate)}toUTCDate(){return bk(this._utcDate)}toTimezone(t){if(this.timezone===t)return this.clone();const e=Nk(this.timezone,this._utcDate),n=Lk(this._utcDate,e);return Yk.fromLocalDate(n,t)}clone(){return Yk.fromUTCDate(this._utcDate,this.timezone)}addDays(t){const e=new Date(this._utcDate.getTime());return e.setUTCDate(e.getUTCDate()+t),Yk.fromUTCDate(e,this.timezone)}addTime(t){const e=Uk(new Date(this._utcDate.getTime()),this.timezone);e.setTime(e.getTime()+t);const n=Uk(e,this.timezone);return Yk.fromUTCDate(n,this.timezone)}stripTime(){const t=this._utcDate,e=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0);return Yk.fromUTCDate(new Date(e),this.timezone)}getTime(){return this._localDate.getTime()}getTimezoneOffset(){return this.timezoneOffset}getFullYear(){return this._utcDate.getUTCFullYear()}getMonth(){return this._utcDate.getUTCMonth()}getDate(){return this._utcDate.getUTCDate()}getDay(){return this._utcDate.getUTCDay()}getHours(){return this._utcDate.getUTCHours()}getMinutes(){return this._utcDate.getUTCMinutes()}getSeconds(){return this._utcDate.getUTCSeconds()}getMilliseconds(){return this._utcDate.getUTCMilliseconds()}getUTCDate(){return this._localDate.getUTCDate()}getUTCDay(){return this._localDate.getUTCDay()}getUTCFullYear(){return this._localDate.getUTCFullYear()}getUTCHours(){return this._localDate.getUTCHours()}getUTCMilliseconds(){return this._localDate.getUTCMilliseconds()}getUTCMinutes(){return this._localDate.getUTCMinutes()}getUTCMonth(){return this._localDate.getUTCMonth()}getUTCSeconds(){return this._localDate.getUTCSeconds()}setTime(t){throw new Error("Method not implemented.")}setMilliseconds(t){throw new Error("Method not implemented.")}setUTCMilliseconds(t){throw new Error("Method not implemented.")}setSeconds(t,e){throw new Error("Method not implemented.")}setUTCSeconds(t,e){throw new Error("Method not implemented.")}setMinutes(t,e,n){throw new Error("Method not implemented.")}setUTCMinutes(t,e,n){throw new Error("Method not implemented.")}setHours(t,e,n,i){throw new Error("Method not implemented.")}setUTCHours(t,e,n,i){throw new Error("Method not implemented.")}setDate(t){throw new Error("Method not implemented.")}setUTCDate(t){throw new Error("Method not implemented.")}setMonth(t,e){throw new Error("Method not implemented.")}setUTCMonth(t,e){throw new Error("Method not implemented.")}setFullYear(t,e,n){throw new Error("Method not implemented.")}setUTCFullYear(t,e,n){throw new Error("Method not implemented.")}toISOString(){return this._localDate.toISOString()}toJSON(){return this._localDate.toJSON()}toString(){const t=jk(this._utcDate),e=this.toTimeString();return`${t} ${this.getDate()} ${this.getFullYear()} ${e}`}toDateString(){return Rk(this._utcDate).toDateString()}toTimeString(){const t=`${Hk(this.getHours())}:${Hk(this.getMinutes())}:${Hk(this.getSeconds())}`,e=function(t){const e=t<=0?"+":"-",n=Math.abs(t);return`GMT${e}${Hk(Math.floor(n/60))}${Hk(n%60)}`}(this.timezoneOffset);let n=Fk(this.timezone,this._utcDate);return n&&(n=` (${n})`),`${t} ${e}${n}`}toLocaleString(t,e){return this._localDate.toLocaleString(t,e)}toLocaleDateString(t,e){return this._localDate.toLocaleDateString(t,e)}toLocaleTimeString(t,e){return this._localDate.toLocaleTimeString(t,e)}toUTCString(){return this.toTimezone("Etc/UTC").toString()}[Symbol.toPrimitive](t){return"string"===t||"default"===t?this.toString():this._localDate.getTime()}valueOf(){return this.getTime()}getVarDate(){throw new Error("Not implemented.")}format(t){throw new Error("Not implemented.")}formatUTC(t){throw new Error("Not implemented.")}constructor(t,e){this._utcDate=bk(t),this.timezone=e;const n=Nk(e,t);this.timezoneOffset=n;let i=Uk(t,e);this._localDate=$k(i,e,"Etc/UTC")}}const qk=(t,e)=>{const n=bk(t);return n.setDate(n.getDate()+e),vk(n,t.getHours())},Gk=t=>yk(t.getFullYear(),t.getMonth(),1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),Xk=t=>{const e=yk(t.getFullYear(),t.getMonth()+1,1,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return qk(e,-1)},Kk=(t,e)=>{const n=bk(t),i=(12+(n.getMonth()+e)%12)%12;return n.setMonth(n.getMonth()+e),((t,e)=>t.getMonth()!==e?Xk(Kk(t,-1)):t)(vk(n,t.getHours()),i)},Zk=(t,e=xk.Sunday)=>{const n=bk(t);for(;n.getDay()!==e;)n.setDate(n.getDate()-1);return n},Qk=()=>Object.keys(Ck.zones),Jk=(t,e)=>!t&&!e||t&&e&&t.getTime()===e.getTime(),t_=(t,e)=>{const n=t.getMonth(),i=yk(e,n,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return i.getMonth()===n?i:Xk(Kk(i,-1))},e_=(t,e)=>vk(t_(t,t.getFullYear()+e),t.getHours()),n_=(t,e)=>e_(t,10*e),i_=(t,e)=>e_(t,100*e),l_=(t,e)=>t_(t,e(t.getFullYear())),s_=t=>l_(t,t=>t-t%100),r_=t=>l_(t,t=>t-t%100+90),o_=t=>l_(t,t=>t-t%10),a_=(t,e)=>(s_(e).getFullYear()-s_(t).getFullYear())/100,u_=t=>l_(t,t=>t-t%10+9),c_=(t,e)=>(o_(e).getFullYear()-o_(t).getFullYear())/10,h_=(t,e)=>qk(t,7*e);var d_=function(t){return t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward",t}({});const p_=(t,e,n=d_.Forward)=>{const i=bk(t),l=(e-i.getDay()+7*n)%7;return i.setDate(i.getDate()+l),vk(i,t.getHours())},m_=(t,e)=>12*(e.getFullYear()-t.getFullYear())+(e.getMonth()-t.getMonth()),g_=(t,e)=>{const n=t.getDate(),i=yk(t.getFullYear(),e,n,t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds());return i.getDate()===n?i:Xk(Kk(i,-1))},f_=t=>g_(t,0),b_=t=>g_(t,11),v_=(t,e)=>e.getFullYear()-t.getFullYear(),y_=(t,e)=>{const n=yk(t.getFullYear(),0,1,-6),i=((t,e)=>e!==xk.Monday?qk(((t,e)=>p_(t,e,d_.Backward))(t,e),4):qk(t,4-(t.getDay()||7)))(t,e).getTime()-n.getTime(),l=Math.floor(i/_k);return 1+Math.floor(l/7)},w_=(t,e=xk.Monday)=>{const n=qk(t,-7),i=qk(t,7),l=y_(t,e);return 0===l?y_(n,e)+1:53===l&&y_(i,e)>1?1:l};function x_(t){return"string"==typeof t}const k_=/\{(\d+)}?\}/g;class __{constructor({name:t,message:e}){if(!t||!e)throw new Error("{ name: string, message: string } object is required!");this.name=t,this.message=e}formatMessage(...t){const e=C_(t),n=this.message.replace(k_,(function(t,n){return e[parseInt(n,10)]}));return`${this.name}: ${n}`}error(...t){return new Error(this.formatMessage(t))}}const C_=function(t){return t.reduce((t,e)=>t.concat(e),[])},T_=(S_={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(S_).reduce((function(t,e){return t[e]=new __({name:e,message:S_[e]}),t}),{}));var S_;const M_={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function P_(t){return x_(t)?A_(t):t}function A_(t){if(M_[t])return M_[t];if(M_.supplemental.likelySubtags){const e=t.split("-"),n=e[0],i=e.slice(1),l=function(t,e){const n=M_.supplemental.likelySubtags;for(let i=0;i<e.length;i++){let l=n[t+"-"+e[i]];if(l)return l}if(n[t])return n[t]}(n,i),s=l?function(t,e){const n=t.split("-"),i=n[0],l=n[1],s=n[2];return M_[t]||-1!==e.indexOf(s)&&M_[i+"-"+s]||-1!==e.indexOf(l)&&M_[i+"-"+l]||M_[i]}(l,i):null;if(s)return s}throw T_.NoLocale.error(t)}const E_="decimal",I_="currency",D_="accounting",O_="percent",F_="scientific",N_="$",R_="%",L_="n",B_=";",V_=",",z_=".",j_="",H_="en";function W_(t){if(t.territory)return t.territory;const e=t.identity;let n;return n=e&&e.territory?e.territory:function(t,e){const n=M_.supplemental.likelySubtags;let i=t.split("-");if(n){const e=n[t]||n[i[0]];e&&(i=e.split("-"))}if(e)for(let s=i.length-1;s>=1;s--){const t=i[s];t!==e.variant&&t!==e.script||i.splice(s,1)}const l=i.length;if(l>1)return i[l-1].toUpperCase()}(t.name,e),t.territory=n,n}function U_(t,e=H_){const n=A_(e).calendar.dateFields;if(!n)throw T_.NoDateFieldNames.error();const i=n[t.type]||{};return i[t.nameType]||i.wide}function $_(t,e){const{type:n,nameType:i,standAlone:l,lower:s}=e,r=P_(t),o=(s?"lower-":j_)+i,a=r.calendar[n][l?"stand-alone":"format"];let u=a[o];var c;return!u&&s&&(u=a[o]=(c=a[i],Array.isArray(c)?function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].toLowerCase());return e}(c):function(t){const e={};for(let n in t)e[n]=t[n].toLowerCase();return e}(c))),u}function Y_(t){const e=t.split("-"),n=parseInt(e[0],10),i=parseInt(e[1],10)-1,l=parseInt(e[2],10);return new Date(n,i,l)}const{NoCurrency:q_,NoCurrencyDisplay:G_,NoSupplementalCurrency:X_,NoCurrencyRegion:K_,NoValidCurrency:Z_}=T_,Q_=2,J_="symbol",tC="XXX",eC={"001":"USD",150:"EUR"};function nC(t,e,n){const i=P_(t).numbers.currencies;if(!i){if(n)throw q_.error();return}const l=i[e];if(l)return l;if(n)throw G_.error()}function iC(t,e){return e.length-t.length}function lC(t,e){const n=P_(t),i=n.numbers;if(!i.localeCurrency){const t=function(t,e=!0){if(eC[t])return eC[t];const n=M_.supplemental.currencyData;if(!n){if(e)throw X_.error();return}const i=n.region[t];if(i)return function(t){let e,n,i,l;for(let s=0;s<t.length;s++){const r=t[s],o=Object.keys(r)[0],a=r[o];if(o!==tC&&"false"!==a._tender&&a._from)if(a._to){if(!i){const t=Y_(a._from),i=Y_(a._to);(!n||n.to<i||n.from<t)&&(e=o,n={from:t,to:i})}}else{const t=Y_(a._from);(!l||l<t)&&(i=o,l=t)}}return i||e}(i);if(e)throw K_.error(t)}(W_(n),e);if(!t&&e)throw Z_.error(n.name);i.localeCurrency=t}return i.localeCurrency}const sC=["sun","mon","tue","wed","thu","fri","sat"],rC="001",{NoWeekData:oC,NoFirstDay:aC}=T_;function uC(t){const e=P_(t);if(!isNaN(e.firstDay))return e.firstDay;const n=M_.supplemental.weekData;if(!n)throw oC.error();const i=n.firstDay[W_(e)]||n.firstDay[rC];if(!i)throw aC.error();return e.firstDay=sC.indexOf(i),e.firstDay}const{NoWeekData:cC}=T_;function hC(t){const e=P_(t);if(e.weekendRange)return e.weekendRange;const n=M_.supplemental.weekData;if(!n)throw cC.error();const i=W_(e),l=n.weekendEnd[i]||n.weekendEnd[rC];return e.weekendRange={start:sC.indexOf(n.weekendStart[i]||n.weekendStart[rC]),end:sC.indexOf(l)},e.weekendRange}function dC(t){return P_(t).numbers.symbols}function pC(t){return 1/t==-1/0}function mC(t,e={}){return e.currency||(e.currency=lC(t,!0)),function(t,e){const{value:n,currency:i,currencyDisplay:l=J_}=e;if("code"===l)return i;const s=nC(t,i,!0);return l===J_?s["symbol-alt-narrow"]||s[J_]:void 0===typeof n||1!==n?s["displayName-count-other"]:s["displayName-count-one"]}(t,e)}function gC(t,e,n,i,l){const s=l.numbers.symbols,r=t.indexOf(s.decimal),o=i.groupSize.slice();let a=o.shift(),u=-1!==r?r:n+1,c=t.substring(e,u),h=t;const d=c.length;if(d>=a){let n=d,i=[];for(;n>-1;){let t=c.substring(n-a,n);t&&i.push(t),n-=a;let e=o.shift();if(0===(a=void 0!==e?e:a)){(t=c.substring(0,n))&&i.push(t);break}}c=i.reverse().join(s.group),h=t.substring(0,e)+c+t.substring(u)}return h}function fC(t){return t===I_||t===D_}function bC(t,e=2,n=!1){const i=e-String(t).length;let l=t;if(i>0){const e=new Array(i+1).join("0");l=n?t+e:e+t}return l}const vC=20;function yC(t,e){let n=t,i=e||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i))).toFixed(Math.min(i,vC))}const wC=3,xC=0,kC=/0+$/;const _C=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,CC="__??__";function TC(t,e){const n=t.format;-1!==n.indexOf(R_)&&(t.style=O_,t.symbol=e.numbers.symbols.percentSign,t.number*=100),-1!==n.indexOf(N_)&&(t.style=I_,t.symbol=mC(e))}function SC(t){let e=t.format;if(e.indexOf("'")>-1||e.indexOf('"')>-1||e.indexOf("\\")>-1){const n=t.literals=[];t.format=e.replace(_C,(function(t){const e=t.charAt(0).replace("\\",j_),i=t.slice(1).replace(e,j_);return n.push(i),CC}))}}const MC="#",PC="0",AC=/(\.(?:[0-9]*[1-9])?)0+$/g,EC=/\.$/,IC=/\,/g;function DC(t,e,n){return-1===t&&-1!==e?e:-1!==t&&-1===e?t:n?Math.min(t,e):Math.max(t,e)}const OC=/^(n|c|p|e|a)(\d*)$/i;function FC(t){return x_(t)?function(t){const e=OC.exec(t);if(e){const t={style:E_};let n=e[1].toLowerCase();return"c"===n?t.style=I_:"a"===n?t.style=D_:"p"===n?t.style=O_:"e"===n&&(t.style=F_),e[2]&&(t.minimumFractionDigits=t.maximumFractionDigits=parseInt(e[2],10)),t}}(t):t}function NC(t,e=L_,n=H_){if(null==t)return j_;if(!isFinite(t))return String(t);const i=A_(n),l=FC(e);return l?function(t,e,n){const i=n.numbers.symbols,{style:l}=e,s=fC(l);if(l===F_)return(void 0!==e.minimumFractionDigits?t.toExponential(e.minimumFractionDigits):t.toExponential()).replace(z_,i.decimal);let r,o=t;s&&(e.value=o,r=mC(n,e)),l===O_&&(o*=100,r=i.percentSign);const{minimumFractionDigits:a,maximumFractionDigits:u}=function(t){let{minimumFractionDigits:e,maximumFractionDigits:n,style:i}=t;const l=fC(i);let s;return l&&(s=function(t){let e=Q_,n=Q_;const i=((M_.supplemental.currencyData||{}).fractions||{})[t];return i&&i._digits&&(n=e=parseInt(i._digits,10)),{minimumFractionDigits:e,maximumFractionDigits:n}}(t.currency)),void 0===e&&(e=l?s.minimumFractionDigits:0),void 0===n&&(n=i===O_?Math.max(e,xC):l?Math.max(e,s.maximumFractionDigits):Math.max(e,wC)),{minimumFractionDigits:e,maximumFractionDigits:n}}(e),c=(o=yC(o,u))<0,h=pC(t),d=o.split(z_);let p=d[0],m=bC(d[1]?d[1].replace(kC,j_):j_,a,!0);c&&(p=p.substring(1)),e.minimumIntegerDigits&&(p=bC(p,e.minimumIntegerDigits));let g,f=!1!==e.useGrouping?gC(p,0,p.length,e,n):p;if(m&&(f+=i.decimal+m),s&&"name"===e.currencyDisplay)g=function(t,e){const n=t.numbers.currency;let i=1!==e?n["unitPattern-count-other"]:n["unitPattern-count-one"];return e<0&&(i=i.replace(L_,`-${L_}`)),i}(n,t);else{const t=e.patterns;g=c||h?t[1]||"-"+t[0]:t[0]}return g!==L_||c?function(t,e,n){let i=j_;for(let l=0,s=e.length;l<s;l++){let s=e.charAt(l);i+=s===L_?t:s===N_||s===R_?n:s}return i}(f,g,r):f}(t,Object.assign({},i.numbers[l.style||E_],l),i):function(t,e,n){const i={negative:t<0,number:Math.abs(t),negativeZero:pC(t),format:e};return function(t){let{number:e,format:n}=t;if(n=n.split(B_),(t.negative||t.negativeZero)&&n[1])n=n[1],t.hasNegativeFormat=!0;else if(0===e){const e=n[2];n=e||n[0],e&&function(t){return-1===t.indexOf(MC)&&-1===t.indexOf(PC)}(e)&&(t.constant=e)}else n=n[0];t.format=n}(i),i.constant?i.constant:(SC(i),TC(i,n),function(t){t.hasGroup=t.format.indexOf(V_)>-1,t.hasGroup&&(t.format=t.format.replace(IC,j_))}(i),function(t){let{number:e,format:n}=t,i=n.indexOf(z_);if(-1!==i){const l=n.lastIndexOf(PC)-i,s=n.lastIndexOf(MC)-i,r=l>-1,o=s>-1;let a=e.toString().split("e"),u=(a=(a=a[1]?yC(e,Math.abs(a[1])):a[0]).split(z_)[1]||j_).length,c=-1;r||o?r&&l>s?u=l:s>l&&(o&&u>s?u=s:r&&u<l&&(u=l),c=r?l:0):(t.format=n.substring(0,i)+n.substring(i+1),i=-1,u=0),u>-1&&(e=yC(e,u),c>-1&&(e=function(t,e){let n;return n=0===e?AC:new RegExp(`(\\.[0-9]{${e}}[1-9]*)0+$`,"g"),t.replace(n,"$1").replace(EC,j_)}(e,c)))}else e=yC(e);t.negative&&-1*e>=0&&!t.negativeZero&&(t.negative=!1),t.number=e,t.decimalIndex=i}(i),function(t){const e=t.format;let n=e.indexOf(MC),i=e.indexOf(PC),l=DC(n,i,!0),s=DC(n=e.lastIndexOf(MC),i=e.lastIndexOf(PC));l===e.length&&(s=l),t.start=l,t.end=s,t.lastZeroIndex=i}(i),function(t,e){let n=t.number;return-1!==t.start&&(n=function(t,e){let n=t;if(e){const t=e.length;for(let i=0;i<t;i++)n=n.replace(CC,e[i])}return n}(n=function(t,e,n){let i=t;if(e===I_||e===O_){i=j_;for(let e=0,l=t.length;e<l;e++){let l=t.charAt(e);i+=l===N_||l===R_?n:l}}return i}(n=function(t,e){const{start:n,end:i,negative:l,negativeZero:s,format:r,decimalIndex:o,lastZeroIndex:a,hasNegativeFormat:u,hasGroup:c}=t;let h=t.number;const d=h.toString().split(z_),p=r.length,m=d[0],g=d[1]||j_,f=m.length;let b=j_;h=r.substring(0,n),!l&&!s||u||(h+="-");for(let v=n;v<p;v++){let t=r.charAt(v);if(-1===o){if(i-v<f){h+=m;break}}else if(-1!==a&&a<v&&(b=j_),o-v<=f&&o-v>-1&&(h+=m,v=o),o===v){h+=(g?e.numbers.symbols.decimal:j_)+g,v+=i-o+1;continue}t===PC?(h+=t,b=t):t===MC&&(h+=b)}return c&&(h=gC(h,n+(l&&!u?1:0),Math.max(i,f+n),e.numbers.decimal,e)),i>=n&&(h+=r.substring(i+1)),h}(t,e),t.style,t.symbol),t.literals)),n}(i,n))}(t,e,i)}function RC(t){return"number"==typeof t}const LC=/[eE][\-+]?[0-9]+/,BC=/\u00A0/g;function VC(t,e){if(e.length>1){const n=(e[1]||j_).replace(N_,j_).split(L_);if(t.indexOf(n[0])>-1&&t.indexOf(n[1])>-1)return t.replace(n[0],j_).replace(n[1],j_)}}function zC(t,e=H_,n={}){if(!t&&0!==t)return null;if(RC(t))return t;const i=A_(e),l=i.numbers.symbols;let s,r=t.toString(),o=n||{};if(x_(n)&&(SC(o={format:n}),r=function(t,e){const n=e.literals;let i=t;if(n)for(let l=0;l<n.length;l++)i=i.replace(n[l],j_);return i}(r,o),TC(o,i)),(o.style===O_||r.indexOf(l.percentSign)>-1)&&(r=r.replace(l.percentSign,j_),s=!0),LC.test(r))return r=parseFloat(r.replace(l.decimal,z_)),isNaN(r)?null:r;const{negative:a,number:u}=function(t,e,n){const i=FC(n)||{};let l,s=fC(i.style),r=t;const o=i.currency||lC(e,s);if(o){const t=function(t,e,n=!0){const i=nC(t,e,n);if(i){if(!i.displays){const t=[e];for(let e in i)t.push(i[e]);t.sort(iC),i.displays=t}return i.displays}}(e,o,s);if(t)for(let e=0;e<t.length;e++){let n=t[e];if(r.includes(n)){r=r.replace(n,j_),s=!0;break}}if(s){const t=VC(r,e.numbers.currency.patterns)||VC(r,e.numbers.accounting.patterns);t&&(l=!0,r=t)}}return{number:r,negative:l}}(r,i,o),c=(r=String(u).trim()).indexOf("-");if(c>0)return null;let h=c>-1;return h=void 0!==a?a:h,r=r.replace("-",j_).replace(BC," ").split(l.group.replace(BC," ")).join(j_).replace(l.decimal,z_),r=parseFloat(r),isNaN(r)?r=null:h&&(r*=-1),r&&s&&(r/=100),r}const jC=/\{(\d+)}/g;function HC(t){const e=arguments;return t.replace(jC,(t,n)=>e[parseInt(n,10)+1])}const WC=120,UC=20,$C=[2,1,5,3,4],YC={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},qC={numeric:1,"2-digit":2,short:3,long:4,narrow:5},GC=/[hHmsSzZoOvVxX]/,XC=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(t){return t.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],KC={e:"c",E:"c",M:"L",Q:"q"},ZC={},QC={};function JC(t){return ZC[t]||(ZC[t]=new RegExp(t+"+")),ZC[t]}function tT(t){const e=[];let n=t.charAt(0),i=n;for(let l=1;l<t.length;l++){let s=t.charAt(l);s===i?n+=s:(e.push(n),n=i=s)}return e.push(n),e}function eT(t,e){const n=t.length;let i,l,s=-Number.MAX_VALUE;for(let r in e){const o=[];let a=r.replace("v","z"),u=0;for(let e=0;e<n;e++){const n=t[e];let i=(JC(n[0]).exec(a)||[])[0];if(i){if(a=a.replace(i,j_),i.length!==n.length){let t=Math.max(Math.min($C[i.length]-$C[n.length],2),-2);u-=YC[t]}}else u-=WC;if(o.push(i),u<s)break}a.length&&(u-=tT(a).length*UC),u>s&&(s=u,i=o,l=e[r])}l=l.replace("v","z");for(let r=0;r<n;r++){const e=i[r];if(e&&e!==t[r]){const e=i[r][0];l=l.replace(JC(e),t[r]),KC[e]&&(l=l.replace(JC(KC[e]),t[r]))}}return l}function nT(t,e){const n=e.calendar;let i;if(x_(t))i=n.patterns[t]?n.patterns[t]:t;else if(t){if(t.pattern)return t.pattern;let l=t.skeleton;l||(t.datetime?i=HC(n.dateTimeFormats[t.datetime],n.timeFormats[t.datetime],n.dateFormats[t.datetime]):t.date?i=n.dateFormats[t.date]:t.time?i=n.timeFormats[t.time]:l=function(t){let e=[];for(let n=0;n<XC.length;n++){let i=XC[n],l=t[i.key];if(l){let n=i.specifier||i.getSpecifier(t);e.push(n.repeat(qC[l]))}}return e.join(j_)}(t)),l&&(i=function(t,e){const n=e.calendar.dateTimeFormats.availableFormats;if(n[t])return n[t];if(QC[e.name]&&QC[e.name][t])return QC[e.name][t];const i=t.search(GC);let l;if(i>0){const s=t.substr(0,i),r=t.substr(i);l=HC(e.calendar.dateTimeFormats.short,n[r]||eT(tT(r),n),n[s]||eT(tT(s),n))}else l=eT(tT(t),n);return function(t,e,n){QC[n]||(QC[n]={}),QC[n][t]=e}(t,l,e.name),l}(l,e))}return i||(i=n.patterns.d),i}function iT(t){let e;return t<=3?e="abbreviated":4===t?e="wide":5===t?e="narrow":6===t&&(e="short"),e}function lT(t,e,n,i,l){return $_(t,{type:e,nameType:iT(n),standAlone:i,lower:l})}function sT(t){return"function"==typeof t}function rT(t){return Boolean(t)&&sT(t.getTime)&&sT(t.getMonth)}const oT={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},aT=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function uT(t,e,n,i){return e<=2?bC(t+1,e):lT(n,"months",e,i)[t]}function cT(t,e,n,i){const l=Math.floor(t.getMonth()/3);return e<3?l+1:lT(n,"quarters",e,i)[l]}function hT(t,e,n){const{shortHours:i,optionalMinutes:l,separator:s,localizedName:r,zZeroOffset:o}=n,a=t.getTimezoneOffset()/60;if(0===a&&o)return"Z";const u=a<=0?"+":"-",c=Math.abs(a).toString().split("."),h=c[1]||0;let d=u+(i?c[0]:bC(c[0],2));return!h&&l||(d+=(s?":":j_)+bC(h,2)),r&&(d=HC(0===a?e.calendar.gmtZeroFormat:e.calendar.gmtFormat,d)),d}function dT(t,e,n,i){return e<3?function(t,e,n){const i=uC(n);let l;return(l=t<i?7-i+t:t-i)+1}(t.getDay(),0,n):lT(n,"days",e,i)[t.getDay()]}const pT=function(){var t={d:function(t,e){return bC(t.getDate(),e)},E:function(t,e,n){return lT(n,"days",e)[t.getDay()]},M:function(t,e,n){return uT(t.getMonth(),e,n,!1)},L:function(t,e,n){return uT(t.getMonth(),e,n,!0)},y:function(t,e){let n=t.getFullYear();return 2===e&&(n%=100),bC(n,e)},h:function(t,e){return bC(t.getHours()%12||12,e)},H:function(t,e){return bC(t.getHours(),e)},k:function(t,e){return bC(t.getHours()||24,e)},K:function(t,e){return bC(t.getHours()%12,e)},m:function(t,e){return bC(t.getMinutes(),e)},s:function(t,e){return bC(t.getSeconds(),e)},S:function(t,e){return 0!==t.getMilliseconds()?String(t.getMilliseconds()/1e3).split(".")[1].substr(0,e):bC(j_,e)},a:function(t,e,n){return lT(n,"dayPeriods",e)[t.getHours()<12?"am":"pm"]},z:function(t,e,n){return hT(t,n,{shortHours:e<4,optionalMinutes:e<4,separator:!0,localizedName:!0})},Z:function(t,e,n){return hT(t,n,{separator:e>3,localizedName:4===e,zZeroOffset:5===e})},x:function(t,e,n){return hT(t,n,{optionalMinutes:1===e,separator:3===e||5===e})},X:function(t,e,n){return hT(t,n,{optionalMinutes:1===e,separator:3===e||5===e,zZeroOffset:!0})},G:function(t,e,n){let i=t.getFullYear()>=0?1:0;return lT(n,"eras",e)[i]}};return t.e=dT,t.c=function(t,e,n){return dT(t,e,n,!0)},t.q=function(t,e,n){return cT(t,e,n,!0)},t.Q=cT,t}();function mT(t,e,n=H_){if(!rT(t))return null==t?j_:t;const i=A_(n);return nT(e,i).replace(aT,(function(e){let n=e.length;return e.includes("'")||e.includes('"')?e.slice(1,n-1):pT[e[0]](t,n,i)}))}function gT(t,e,n){const i=t.getTimezoneOffset(),l=new Date(t.getTime()+6e4*(e-n)),s=l.getTimezoneOffset();return new Date(l.getTime()+6e4*(s-i))}const fT=/([+|\-]\d{1,2})(:?)(\d{2})?/,bT=/^\/Date\((.*?)\)\/$/,vT=/[+-]\d*/,yT={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},wT=/\d+/,xT="{0}",kT=/^ */,_T=/ *$/,CT=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],TT=["G","g","F","Y","y","M","m","D","d","y","T","t"];function ST(t,e,n){return!(t>=e&&t<=n)}function MT(t,e){let{format:n,idx:i}=e,l=0;for(;n[i]===t;)l++,i++;return l>0&&(i-=1),e.idx=i,l}function PT(t,e){let n=t?yT[t]||new RegExp("^\\d{1,"+t+"}"):wT,i=e.value.substr(e.valueIdx,t).match(n);return i?(e.valueIdx+=(i=i[0]).length,parseInt(i,10)):null}function AT(t,e,n){let i,l,s,r=0,o=t.length,a=0,u=0;for(;r<o;r++)s=e.value.substr(e.valueIdx,l=(i=t[r]).length),n&&(s=s.toLowerCase()),s===i&&l>a&&(a=l,u=r);return a?(e.valueIdx+=a,u+1):null}function ET(t){let e=!1;return t.value.charAt(t.valueIdx)===t.format[t.idx]&&(t.valueIdx++,e=!0),e}function IT(t,e,n){const{shortHours:i,noSeparator:l,optionalMinutes:s,localizedName:r,zLiteral:o}=n;if(t.UTC=!0,o&&"Z"===t.value.charAt(t.valueIdx))return t.valueIdx++,!1;if(r&&!AT(function(t){const{gmtFormat:e,gmtZeroFormat:n}=t;if(!e)throw T_.NoGMTInfo.error();return[e.replace(xT,j_).toLowerCase(),n.replace(xT,j_).toLowerCase()]}(e.calendar),t,!0))return!0;const a=fT.exec(t.value.substr(t.valueIdx,6));if(!a)return!r;const u=a[1],c=a[3],h=parseInt(u,10),d=a[2];let p=parseInt(c,10);return!!(isNaN(h)||!i&&3!==u.length||!s&&isNaN(p)||l&&d)||(isNaN(p)&&(p=null),!!(ST(h,-12,13)||p&&ST(p,0,59))||(t.valueIdx+=a[0].length,t.hoursOffset=h,void(t.minutesOffset=p)))}function DT(t,e,n){const i=MT(t,e),l=lT(n,"months",i,"L"===t,!0),s=i<3?PT(2,e):AT(l,e,!0);if(null===s||ST(s,1,12))return!0;e.month=s-1}function OT(t,e,n){const i=MT(t,e),l=lT(n,"days",i,"c"===t,!0);let s=i<3?PT(1,e):AT(l,e,!0);if(!s&&0!==s||ST(s,1,7))return!0}const FT=function(){return{d:function(t){MT("d",t);const e=PT(2,t);if(null===e||ST(e,1,31))return!0;null===t.day&&(t.day=e)},E:function(t,e){if(null===AT(lT(e,"days",MT("E",t),!1,!0),t,!0))return!0},M:function(t,e){return DT("M",t,e)},L:function(t,e){return DT("L",t,e)},y:function(t){const e=MT("y",t);let n=PT(1===e?void 0:e,t);if(null===n)return!0;if(2===e){const t=(new Date).getFullYear();(n=t-t%100+n)>2029&&(n-=100)}t.year=n},h:function(t){MT("h",t);let e=PT(2,t);if(12===e&&(e=0),null===e||ST(e,0,11))return!0;t.hours=e},K:function(t){MT("K",t);let e=PT(2,t);if(null===e||ST(e,0,11))return!0;t.hours=e},a:function(t,e){let n=lT(e,"dayPeriods",MT("a",t),!1,!0);const i=AT([n.pm],t,!0);if(!i&&!AT([n.am],t,!0))return!0;t.pmHour=i},H:function(t){MT("H",t);const e=PT(2,t);if(null===e||ST(e,0,23))return!0;t.hours=e},k:function(t){MT("k",t);let e=PT(2,t);if(null===e||ST(e,1,24))return!0;t.hours=24===e?0:e},m:function(t){MT("m",t);const e=PT(2,t);if(null===e||ST(e,0,59))return!0;t.minutes=e},s:function(t){MT("s",t);const e=PT(2,t);if(null===e||ST(e,0,59))return!0;t.seconds=e},S:function(t){const e=MT("S",t),n=t.value.substr(t.valueIdx,e);let i=null;if(isNaN(parseInt(n,10))||(i=yC(i=parseFloat("0."+n,10),3),i*=1e3,t.valueIdx+=e),null===i||ST(i,0,999))return!0;t.milliseconds=i},z:function(t,e){const n=MT("z",t)<4,i=IT(t,e,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Z:function(t,e){const n=MT("Z",t),i=IT(t,e,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},x:function(t,e){const n=MT("x",t),i=IT(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},X:function(t,e){const n=MT("X",t),i=IT(t,e,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},G:function(t,e){const n=lT(e,"eras",MT("G",t),!1,!0);if(null===AT([n[0],n[1]],t,!0))return!0},e:function(t,e){return OT("e",t,e)},c:function(t,e){return OT("c",t,e)}}}();function NT(t,e){return`${kT.exec(e)[0]}${t}${_T.exec(e)[0]}`}function RT(t,e,n){let i=nT(e,n).split(j_);const l={format:i,idx:0,value:NT(t,e),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},s=i.length;let r=!1;for(;l.idx<s;l.idx++){let t=i[l.idx];if(r)"'"===t&&(r=!1),ET(l);else if(FT[t]){if(FT[t](l,n))return null}else if("'"===t)r=!0,ET(l);else if(!ET(l))return null}return l.valueIdx<t.length?null:function(t){let{year:e,month:n,day:i,hours:l,minutes:s,seconds:r,milliseconds:o,pmHour:a,UTC:u,hoursOffset:c,minutesOffset:h}=t;const d=null!==l||null!==s||r||null,p=new Date;let m;return null===e&&null===n&&null===i&&d?(e=p.getFullYear(),n=p.getMonth(),i=p.getDate()):(null===e&&(e=p.getFullYear()),null===i&&(i=1)),a&&l<12&&(l+=12),u?(c&&(l+=-c),h&&(s+=-h*(c<0?-1:1)),m=new Date(Date.UTC(e,n,i,l,s,r,o))):function(t,e){e||23!==t.getHours()||t.setHours(t.getHours()+2)}(m=new Date(e,n,i,l,s,r,o),l),e<100&&m.setFullYear(e),m.getDate()!==i&&void 0===u?null:m}(l)||null}function LT(t,e,n=H_){if(!t)return null;if(rT(t))return t;let i=String(t).trim(),l=function(t){if(t&&0===t.indexOf("/D")){let e=bT.exec(t);if(e){let t=vT.exec((e=e[1]).substring(1));return e=new Date(parseInt(e,10)),t&&(t=function(t){const e="-"===t.substr(0,1)?-1:1;let n=t.substring(1);return e*(60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(t[0]),e=gT(e,e.getTimezoneOffset(),0),e=gT(e,0,-1*t)),e}}}(i);if(l)return l;const s=A_(n);let r=e||function(t){const e=[],n=t.patterns,i=TT.length;for(let l=0;l<i;l++)e.push(n[TT[l]]);return e.concat(CT)}(s.calendar);const o=(r=Array.isArray(r)?r:[r]).length;for(let a=0;a<o;a++)if(l=RT(i,r[a],s))return l;return l}const BT={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},VT="literal";function zT(t,e){const n=t[t.length-1];n&&n.type===VT?n.pattern+=e:t.push({type:VT,pattern:e})}function jT(t){return"h"===t||"K"===t}function HT(t,e=H_){const n=nT(t,A_(e)),i=[];let l=aT.lastIndex=0,s=aT.exec(n);for(;s;){let t=s[0];if(l<s.index&&zT(i,n.substring(l,s.index)),t.startsWith('"')||t.startsWith("'"))zT(i,t);else{const e=t[0],n=oT[e],l={type:n,pattern:t};"hour"===n&&(l.hour12=jT(t));const s=BT[n];if(s){const n=RC(s.minLength)?s.minLength:s.minLength[e],i=t.length;i>=n&&(l.names={type:s.type,nameType:iT(i),standAlone:s.standAlone===e})}i.push(l)}l=aT.lastIndex,s=aT.exec(n)}return l<n.length&&zT(i,n.substring(l)),i}const WT=/\{(\d+)(:[^\}]+)?\}/g;function UT(t,e,n){if(e){if(rT(t))return mT(t,e,n);if(RC(t))return NC(t,e,n)}return null!=t?t:j_}function $T(t,e,n){return t.replace(WT,(function(t,i,l){return UT(e[parseInt(i,10)],l?l.substring(1):j_,n)}))}const YT="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",qT={NoCurrency:`Solution: ${YT}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${YT}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${YT}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${YT}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${YT}#toc-no-first-day`,NoGMTInfo:`Solution: ${YT}#toc-no-gmt-info`,NoLocale:`Solution: ${YT}#toc-no-locale`,NoValidCurrency:`Solution: ${YT}#toc-no-valid-currency`,NoWeekData:`Solution: ${YT}#toc-no-week-data`};function GT(t){return function(...e){try{return t.apply(null,e)}catch(n){throw n.message=function(t){const e=t.message,n=qT[Object.keys(qT).filter(t=>0===e.indexOf(t))[0]];return n?`${e} ${n}`:e}(n),n}}}const XT=GT($_),KT=GT(U_),ZT=GT(uC),QT=GT($T),JT=GT(mT),tS=GT(NC),eS=GT(dC),nS=GT(LT),iS=GT(zC),lS=GT(HT),sS=GT(UT),rS=GT(hC),oS=/_/g;let aS=(()=>{class t{constructor(){this.changes=new os}notify(){this.changes.emit()}}return t.ngInjectableDef=kt({factory:function(){return t=Gt(As),new uS(t);var t},token:t,providedIn:"root"}),t})();class uS extends aS{constructor(t){super(),this.localeId=t}get localeId(){return this.locale}set localeId(t){const e=t.replace(oS,"-");e!==this.locale&&(this.locale=e,this.notify())}format(t,...e){return QT(t,e,this.localeId)}toString(t,e,n){return sS(t,e,n||this.localeId)}formatDate(t,e,n){return JT(t,e,n||this.localeId)}parseDate(t,e,n){return nS(t,e,n||this.localeId)}parseNumber(t,e,n){return iS(t,n||this.localeId,e)}formatNumber(t,e,n){return tS(t,e,n||this.localeId)}dateFieldName(t,e){return KT(t,e||this.localeId)}dateFormatNames(t,e){return XT(e||this.localeId,t)}splitDateFormat(t,e){return lS(t,e||this.localeId)}numberSymbols(t){return eS(t||this.localeId)}firstDay(t){return ZT(t||this.localeId)}weekendRange(t){return rS(t||this.localeId)}}const cS=t=>!isNaN(t-parseFloat(t));class hS{constructor(t){this.intlService=t}transform(t,e="",n){return(t=this.normalize(t))?this.intlService.formatDate(t,e,n):t}normalize(t){return t&&"string"==typeof t?t=this.intlService.parseDate(t):t&&cS(t)&&(t=new Date(parseFloat(t))),t}}class dS{}function pS(t=0,e=Jg){return(!nf(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=Jg),new _(n=>(n.add(e.schedule(mS,t,{subscriber:n,counter:0,period:t})),n))}function mS(t){const{subscriber:e,counter:n,period:i}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}class gS extends Qm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}class fS extends eg{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,i=-1,l=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++i<l&&(t=e.shift()));if(this.active=!1,n){for(;++i<l&&(t=e.shift());)t.unsubscribe();throw n}}}const bS=new fS(gS);class vS{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new yS(t,this.predicate,this.inclusive))}}class yS extends b{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(i){return void e.error(i)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function wS(t,e=Jg){return n=>n.lift(new xS(t,e))}class xS{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new kS(t,this.dueTime,this.scheduler))}}class kS extends b{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_S,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function _S(t){t.debouncedNext()}const CS=()=>"undefined"!=typeof window,TS={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},SS={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},MS={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},PS={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},AS=(t,e,n)=>{for(let i in e)if(e.hasOwnProperty(i)&&e[i].test(t))return i;return void 0!==n?n:t},ES=CS()&&window.navigator?window.navigator.userAgent:null,IS=ES?(t=>{let e=null,n=[];for(let i in MS)if(MS.hasOwnProperty(i)&&(n=t.match(MS[i]))){(e={})[i]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}return e})(ES):null,DS=ES?(t=>{let e,n=[];for(let i in TS)if(TS.hasOwnProperty(i)){if(!(n=t.match(TS[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;const l={};return l.device=i,l.browser=AS(t,PS,"default"),l.name=AS(i,SS),l[l.name]=!0,l.majorVersion=n[2],l.minorVersion=n[3].replace("_","."),e=l.minorVersion.replace(".","").substr(0,2),l.flatVersion=l.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0"),l.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,l.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||l.cordova,l}return null})(ES):null,OS=CS()&&"ontouchstart"in window,FS=IS&&!IS.chrome&&window.MSPointerEvent,NS=IS&&!IS.chrome&&window.PointerEvent,RS=DS&&(OS||FS||NS);var LS=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Up=2]="Up",t[t.Down=3]="Down",t[t.PrevView=4]="PrevView",t[t.NextView=5]="NextView",t[t.FirstInView=6]="FirstInView",t[t.LastInView=7]="LastInView",t[t.LowerView=8]="LowerView",t[t.UpperView=9]="UpperView",t}({});const BS={start:null,end:null},VS=new Date(1980,0,1),zS=new Date(1900,0,1),jS=new Date(2099,11,31),HS=new Date(1980,0,1),WS=new Date(1980,0,1,23,59,59),US=t=>null!=t,$S=t=>(e,n)=>{const i=bk(e);return i[t](n),i},YS=(t,e)=>{const n=bk(t);return n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n},qS=(t,e,n)=>({candidateValue:YS(VS,t),maxValue:qk(YS(VS,n),e.getHours()<n.getHours()||e.getHours()===n.getHours()&&e.getMinutes()<n.getMinutes()?0:1),minValue:YS(VS,e)}),GS=$S("setHours"),XS=$S("setMinutes"),KS=$S("setSeconds"),ZS=(t,e,n=1)=>{const i=[];for(let l=t;l<e;l+=n)i.push(l);return i},QS=(t,e,n)=>!t||!(e&&e>t||n&&n<t),JS=(t,e,n)=>{if(!t||!e||!n)return!0;const{candidateValue:i,minValue:l,maxValue:s}=qS(t,e,n);return l<=i&&i<=s},tM=(t,e)=>!US(t)||!US(e)||t<=e,eM=(t,e,n)=>t?e&&t<e?bk(e):n&&t>n?bk(n):t:t,nM=(t,e,n)=>{if(!t||!e||!n)return t;const{candidateValue:i,minValue:l,maxValue:s}=qS(t,e,n);return i<l?YS(t,e):i>s?YS(t,n):t},iM=()=>new Date,lM=()=>wk(new Date),sM=t=>{},rM=()=>"undefined"!=typeof window,oM=t=>Object.keys(t).reduce((e,n)=>t[n]?e.concat(n):e,[]).join(" "),aM=(t,e)=>t.slice(e).concat(t.slice(0,e)),uM=(t,e,n,i)=>{const l=i+t.length-n.length,s=t[l],r=t.substring(0,i+t.length-n.length),o=n.substring(0,i),a=[];if(r===o&&i>0)return a.push([e[i-1],o[i-1]]),a;if(0===r.indexOf(o)&&(0===o.length||e[o.length-1]!==e[o.length])){let t="";1===o.length&&a.push([e[0],o[0]]);for(let n=o.length;n<r.length;n++)e[n]!==t&&"_"!==e[n]&&a.push([t=e[n],""]);return a}if(0===o.indexOf(r)||"_"===e[i-1]){let t=e[0];for(let n=Math.max(0,r.length-1);n<e.length;n++)if("_"!==e[n]){t=e[n];break}return[[t,o[i-1]]]}return" "===o[o.length-1]||o[o.length-1]===s&&"_"===e[l]?[[e[i-1],"_"]]:[[e[i-1],o[i-1]]]},cM=t=>(e,n="",i={})=>{const l=document.createElement(t);return l.className=n,Object.keys(i).map(t=>l.style[t]=i[t]),"string"==typeof e?l.innerHTML=e||"":(e||[]).forEach(t=>t&&l.appendChild(t)),l},hM=(t,e)=>void 0!==t[e],dM=(t,e)=>t[e]&&null!=t[e].currentValue,pM=(t,e)=>{const{start:n,end:i}=e||BS;return!(!n||!i)&&n<t&&t<i},mM=[[]],gM=5,fM=2,bM={[LS.Left]:t=>n_(t,-1),[LS.Up]:t=>n_(t,-5),[LS.Right]:t=>n_(t,1),[LS.Down]:t=>n_(t,5),[LS.PrevView]:t=>i_(t,-1),[LS.NextView]:t=>i_(t,1),[LS.FirstInView]:t=>s_(t),[LS.LastInView]:t=>r_(t)};class vM{addToDate(t,e){return i_(t,e)}datesList(t,e){return ZS(0,e).map(e=>i_(t,e))}data(t){const{cellUID:e,focusedDate:n,isActiveView:i,max:l,min:s,selectedDate:r,selectionRange:o=BS,viewDate:a}=t;if(!a)return mM;const u=ZS(0,gM),c=s_(a),h=r_(a),d=QS(r,s,l),p=lM();return ZS(0,fM).map(t=>{const a=n_(c,t*gM);return u.map(t=>{const u=this.normalize(n_(a,t),s,l);if(!this.isInRange(u,s,l))return null;const m=this.isEqual(u,o.start),g=this.isEqual(u,o.end),f=!m&&!g&&pM(u,o);return{formattedValue:this.value(u),id:`${e}${u.getTime()}`,isFocused:this.isEqual(u,n),isSelected:i&&d&&this.isEqual(u,r),isWeekend:!1,isRangeStart:m,isRangeMid:f,isRangeEnd:g,isRangeSplitEnd:f&&this.isEqual(u,h),isRangeSplitStart:f&&this.isEqual(u,c),isToday:this.isEqual(u,p),title:this.cellTitle(u),value:u}})})}isEqual(t,e){return!(!t||!e)&&o_(t).getFullYear()===o_(e).getFullYear()}isInArray(t,e){if(!e.length)return!1;const n=t.getFullYear();return e[0].getFullYear()<=n&&n<=e[e.length-1].getFullYear()+99}isInRange(t,e,n){const i=o_(t).getFullYear(),l=!e||o_(e).getFullYear()<=i,s=!n||i<=o_(n).getFullYear();return l&&s}beginningOfPeriod(t){if(!t)return t;const e=o_(s_(t));return yk(e.getFullYear(),0,1)}isRangeStart(t){return t.getFullYear()%1e3==0}move(t,e){const n=bM[e];return n?n(t):t}cellTitle(t){return o_(t).getFullYear().toString()}navigationTitle(t){return t?s_(t).getFullYear().toString():""}title(t){return t?`${s_(t).getFullYear()} - ${r_(t).getFullYear()}`:""}rowLength(t){return gM}skip(t,e){return a_(e,t)}total(t,e){return a_(t,e)+1}value(t){return t?o_(t).getFullYear().toString():""}viewDate(t,e,n=1){const i=this.total(t,e);return i<n?i_(t,-1*(n-i)):t}normalize(t,e,n){return t<e&&this.isEqual(t,e)?bk(e):t>n&&this.isEqual(t,n)?bk(n):t}}const yM=[[]],wM=5,xM=2,kM={[LS.Left]:t=>e_(t,-1),[LS.Up]:t=>e_(t,-5),[LS.Right]:t=>e_(t,1),[LS.Down]:t=>e_(t,5),[LS.PrevView]:t=>n_(t,-1),[LS.NextView]:t=>n_(t,1),[LS.FirstInView]:t=>o_(t),[LS.LastInView]:t=>u_(t)};class _M{addToDate(t,e){return n_(t,e)}datesList(t,e){return ZS(0,e).map(e=>n_(t,e))}data(t){const{cellUID:e,focusedDate:n,isActiveView:i,max:l,min:s,selectedDate:r,selectionRange:o=BS,viewDate:a}=t;if(!a)return yM;const u=ZS(0,wM),c=o_(a),h=u_(a),d=QS(r,s,l),p=lM();return ZS(0,xM).map(t=>{const a=e_(c,t*wM);return u.map(t=>{const u=this.normalize(e_(a,t),s,l);if(!this.isInRange(u,s,l))return null;const m=this.isEqual(u,o.start),g=this.isEqual(u,o.end),f=!m&&!g&&pM(u,o);return{formattedValue:this.value(u),id:`${e}${u.getTime()}`,isFocused:this.isEqual(u,n),isSelected:i&&d&&this.isEqual(u,r),isWeekend:!1,isRangeStart:m,isRangeMid:f,isRangeEnd:g,isRangeSplitEnd:f&&this.isEqual(u,h),isRangeSplitStart:f&&this.isEqual(u,c),isToday:this.isEqual(u,p),title:this.cellTitle(u),value:u}})})}isEqual(t,e){return!(!t||!e)&&t.getFullYear()===e.getFullYear()}isInArray(t,e){if(!e.length)return!1;const n=t.getFullYear();return e[0].getFullYear()<=n&&n<=e[e.length-1].getFullYear()+9}isInRange(t,e,n){const i=t.getFullYear(),l=!e||e.getFullYear()<=i,s=!n||i<=n.getFullYear();return l&&s}beginningOfPeriod(t){if(!t)return t;const e=o_(t);return yk(e.getFullYear(),0,1)}isRangeStart(t){return t.getFullYear()%100==0}move(t,e){const n=kM[e];return n?n(t):t}cellTitle(t){return t.getFullYear().toString()}navigationTitle(t){return t?o_(t).getFullYear().toString():""}title(t){return t?`${o_(t).getFullYear()} - ${u_(t).getFullYear()}`:""}rowLength(t){return wM}skip(t,e){return c_(e,t)}total(t,e){return c_(t,e)+1}value(t){return t?t.getFullYear().toString():""}viewDate(t,e,n=1){const i=this.total(t,e);return i<n?n_(t,-1*(n-i)):t}normalize(t,e,n){return t<e&&this.isEqual(t,e)?bk(e):t>n&&this.isEqual(t,n)?bk(n):t}}const CM=[[]],TM=7,SM=6,MM={[LS.Left]:t=>qk(t,-1),[LS.Up]:t=>h_(t,-1),[LS.Right]:t=>qk(t,1),[LS.Down]:t=>h_(t,1),[LS.PrevView]:t=>Kk(t,-1),[LS.NextView]:t=>Kk(t,1),[LS.FirstInView]:t=>Gk(t),[LS.LastInView]:t=>Xk(t)};class PM{constructor(t){this._intlService=t}addToDate(t,e){return Kk(t,e)}datesList(t,e){return ZS(0,e).map(e=>Kk(t,e))}data(t){const{cellUID:e,focusedDate:n,isActiveView:i,max:l,min:s,selectedDate:r,selectionRange:o=BS,viewDate:a,isDateDisabled:u=(()=>!1)}=t;if(!a)return CM;const c=Gk(a),h=wk(c),d=Xk(a),p=wk(d),m=QS(r,s,l),g=p_(c,this._intlService.firstDay(),-1),f=ZS(0,TM),b=lM();return ZS(0,SM).map(t=>{const a=qk(g,t*TM);return f.map(t=>{const g=this.normalize(qk(a,t),s,l),f=wk(g);if(f<h||f>p||g<s||g>l)return null;const v=this.isEqual(g,o.start),y=this.isEqual(g,o.end),w=!v&&!y&&pM(g,o);return{formattedValue:this.value(g),id:`${e}${g.getTime()}`,isFocused:this.isEqual(g,n),isSelected:i&&m&&this.isEqual(g,r),isWeekend:this.isWeekend(g),isRangeStart:v,isRangeMid:w,isRangeEnd:y,isRangeSplitStart:w&&this.isEqual(g,c),isRangeSplitEnd:w&&this.isEqual(g,d),isToday:this.isEqual(g,b),title:this.cellTitle(g),value:g,isDisabled:u(g)}})})}isEqual(t,e){return!(!t||!e)&&wk(t).getTime()===wk(e).getTime()}isInArray(t,e){if(0===e.length)return!1;const n=this.beginningOfPeriod(e[0]),i=this.beginningOfPeriod(Kk(e[e.length-1],1));return n<=t&&t<i}isInRange(t,e,n){const i=wk(t),l=!e||wk(e)<=i,s=!n||i<=wk(n);return l&&s}beginningOfPeriod(t){return t?yk(t.getFullYear(),t.getMonth(),1):t}isRangeStart(t){return!t.getMonth()}move(t,e){const n=MM[e];return n?n(t):t}cellTitle(t){return this._intlService.formatDate(t,"D")}navigationTitle(t){return t?this.isRangeStart(t)?t.getFullYear().toString():this.abbrMonthNames()[t.getMonth()]:""}title(t){return`${this.wideMonthNames()[t.getMonth()]} ${t.getFullYear()}`}rowLength(t){return TM+(t?1:0)}skip(t,e){return m_(e,t)}total(t,e){return m_(t,e)+1}value(t){return t?t.getDate().toString():""}viewDate(t,e,n=1){const i=this.total(t,e);return i<n?Kk(t,-1*(n-i)):t}isWeekend(t){const{start:e,end:n}=this._intlService.weekendRange(),i=t.getDay();return n<e?i<=n||e<=i:e<=i&&i<=n}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(t,e,n){return t<e&&this.isEqual(t,e)?bk(e):t>n&&this.isEqual(t,n)?bk(n):t}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}const AM=[[]],EM=5,IM=3,DM={[LS.Left]:t=>Kk(t,-1),[LS.Up]:t=>Kk(t,(t=>t>4?-5:t<2?-2:-7)(t.getMonth())),[LS.Right]:t=>Kk(t,1),[LS.Down]:t=>Kk(t,(t=>t<7?5:t<10?7:2)(t.getMonth())),[LS.PrevView]:t=>e_(t,-1),[LS.NextView]:t=>e_(t,1),[LS.FirstInView]:t=>f_(t),[LS.LastInView]:t=>b_(t)};class OM{constructor(t){this._intlService=t}addToDate(t,e){return e_(t,e)}datesList(t,e){return ZS(0,e).map(e=>e_(t,e))}data(t){const{cellUID:e,focusedDate:n,isActiveView:i,max:l,min:s,selectedDate:r,selectionRange:o=BS,viewDate:a}=t;if(!a)return AM;const u=this.abbrMonthNames(),c=QS(r,s,l),h=f_(a),d=b_(a),p=h.getFullYear(),m=ZS(0,EM),g=lM();return ZS(0,IM).map(t=>{const a=Kk(h,t*EM);return m.map(t=>{const m=this.normalize(Kk(a,t),s,l),f=p<m.getFullYear();if(!this.isInRange(m,s,l)||f)return null;const b=this.isEqual(m,o.start),v=this.isEqual(m,o.end),y=!b&&!v&&pM(m,o);return{formattedValue:u[m.getMonth()],id:`${e}${m.getTime()}`,isFocused:this.isEqual(m,n),isSelected:i&&c&&this.isEqual(m,r),isWeekend:!1,isRangeStart:b,isRangeMid:y,isRangeEnd:v,isRangeSplitEnd:y&&this.isEqual(m,d),isRangeSplitStart:y&&this.isEqual(m,h),isToday:this.isEqual(m,g),title:this.cellTitle(m),value:m}})})}isEqual(t,e){return!(!t||!e)&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()}isInArray(t,e){if(!e.length)return!1;const n=t.getFullYear();return e[0].getFullYear()<=n&&n<=e[e.length-1].getFullYear()}isInRange(t,e,n){const i=yk(t.getFullYear(),t.getMonth(),1),l=!e||yk(e.getFullYear(),e.getMonth(),1)<=i,s=!n||i<=yk(n.getFullYear(),n.getMonth(),1);return l&&s}beginningOfPeriod(t){return t?yk(t.getFullYear(),0,1):t}isRangeStart(t){return t.getFullYear()%10==0}move(t,e){const n=DM[e];return n?n(t):t}cellTitle(t){return`${t.getFullYear()} ${this.value(t)}`}navigationTitle(t){return this.title(t)}title(t){return t?t.getFullYear().toString():""}rowLength(t){return EM}skip(t,e){return v_(e,t)}total(t,e){return v_(t,e)+1}value(t){return t?this.abbrMonthNames()[t.getMonth()]:""}viewDate(t,e,n=1){const i=this.total(t,e);return i<n?e_(t,-1*(n-i)):t}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(t,e,n){return t<e&&this.isEqual(t,e)?bk(e):t>n&&this.isEqual(t,n)?bk(n):t}}var FM=function(t){return t[t.month=0]="month",t[t.year=1]="year",t[t.decade=2]="decade",t[t.century=3]="century",t}({});const NM={[FM.month]:PM,[FM.year]:OM,[FM.decade]:_M,[FM.century]:vM},RM=(t,e)=>{const n=FM[FM[t+e]];return void 0!==n?n:t};class LM{constructor(t){this.injector=t,this.viewChanged=new os,this.bottom=FM.month,this.top=FM.century}configure(t,e){this.bottom=t,this.top=e}service(t){const e=NM[t];return e?this.injector.get(e):null}moveDown(t){this.move(t,-1)}moveUp(t){this.move(t,1)}moveToBottom(t){t!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(t){return this.bottom<t}canMoveUp(t){return t<this.top}clamp(t){return t<this.bottom?this.bottom:t>this.top?this.top:t}move(t,e){const n=this.clamp(RM(t,e));n!==t&&this.viewChanged.emit({view:n})}}const BM=cM("div"),VM=cM("ul"),zM=cM("li"),jM=cM("td"),HM=cM("th"),WM=cM("tr"),UM=cM("tbody"),$M=cM("thead"),YM=cM("table"),qM=()=>BM('\n            <span class="k-calendar-title">March 2017</span>\n            <span class="k-calendar-today">TODAY</span>\n        ',"k-calendar-header"),GM=()=>YM([$M([WM([HM("MO")])])],"k-calendar-weekdays"),XM=(t,e)=>new Array(t).fill("1").map(e),KM=t=>BM(t,"k-content k-scrollable"),ZM=(()=>{let t;return()=>of?(t||(t=BM([KM([VM([zM("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),t):null})(),QM=({cells:t,rows:e},n,i)=>{let l;return()=>of?(l||(l=((t,e,n)=>BM([qM(),n?GM():null,KM([t,t])],e,{left:"-10000px",position:"absolute"}))(((t,e=1)=>YM([UM([WM([HM("1")])].concat(XM(t,()=>WM(XM(e,t=>jM(`<span class="k-link">${t}</span>`))))))]))(e,t),n,i)),l):null},JM=t=>t.querySelector(".k-scrollable"),tP=t=>(JM(t).classList.add("k-scrollable-horizontal"),t),eP=QM({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),nP=QM({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),iP=QM({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),lP=()=>tP(eP()),sP=()=>tP(nP()),rP=()=>tP(iP()),oP=t=>parseFloat(window.getComputedStyle(t).height)||t.offsetHeight,aP=t=>{const e=window.getComputedStyle(t);return parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)||t.offsetWidth},uP=t=>t.querySelector("tbody");class cP{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(t){of()&&(this.hostContainer=t,this.batch(eP(),t=>{const e=uP(t);this.calendarHeight=oP(t),this.monthViewHeight=oP(e),this.headerHeight=oP(e.children[0]),this.scrollableContentHeight=oP(JM(t))}),this.batch(lP(),t=>{const e=uP(t);this.calendarWidth=aP(t),this.monthViewWidth=aP(e),this.scrollableContentWidth=aP(JM(t))}),this.batch(nP(),t=>{this.yearViewHeight=oP(uP(t)),this.scrollableYearContentHeight=oP(JM(t))}),this.batch(sP(),t=>{this.yearViewWidth=aP(uP(t))}),this.batch(iP(),t=>{this.decadeViewHeight=oP(uP(t)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(rP(),t=>{this.decadeViewWidth=aP(uP(t)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(ZM(),t=>{this.navigationItemHeight=oP(t.querySelector("li"))}))}viewHeight(t){return this.viewDimension(t,"height")}viewWidth(t){return this.viewDimension(t,"width")}viewDimension(t,e){const n="height"===e?"ViewHeight":"ViewWidth";switch(t){case FM.month:return this[`month${n}`];case FM.year:return this[`year${n}`];case FM.decade:return this[`decade${n}`];case FM.century:return this[`century${n}`];default:return 1}}batch(t,e){const n=this.hostContainer||document.body,i=n.appendChild(t);e(i),n.removeChild(i)}}const hP=(t,e,n)=>[...t.slice(0,e+1),...t.slice(e+1).map(t=>t+n)];class dP{constructor(t=0,e,n){this.total=t,this.rowHeight=e,this.detailRowHeight=n,this.offsets=[],this.heights=[];let i=0;for(let l=0;l<t;l++)this.offsets.push(i),i+=e,this.heights.push(e)}height(t){return this.heights[t]}expandDetail(t){this.height(t)===this.rowHeight&&this.updateRowHeight(t,this.detailRowHeight)}collapseDetail(t){this.height(t)>this.rowHeight&&this.updateRowHeight(t,-1*this.detailRowHeight)}index(t){if(t<0)return;const e=this.offsets.reduce((e,n,i)=>void 0!==e?e:n===t?i:n>t?i-1:void 0,void 0);return void 0===e?this.total-1:e}offset(t){return this.offsets[t]}totalHeight(){return this.heights.reduce((t,e)=>t+e,0)}updateRowHeight(t,e){this.heights[t]+=e,this.offsets=hP(this.offsets,t,e)}}const pP=t=>Math.max(t,0);class mP{constructor(t){this.offset=t}}class gP{constructor(t){this.skip=t}}class fP{constructor(t){this.scrollObservable=t,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(t,e,n,i,l=0,s=0,r="vertical"){this.rowHeightService=t,this.firstLoaded=e,this.lastLoaded=e+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=l,this.bottomOffset=s,this.direction=r;const o=new og(2),a=this.rowsForHeight(l),u=pP(e-a);return o.next(new mP(this.rowOffset(u))),a&&o.next(new gP(u)),this.subscription=_.create(t=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(e=>this.onScroll(e,t))}).subscribe(t=>o.next(t)),o}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:t,scrollTop:e,offsetHeight:n,offsetWidth:i},l){const s="vertical"===this.direction?e:t,r="vertical"===this.direction?n:i;if(this.lastScroll===s)return;const o=this.lastScroll>=s;this.lastScroll=s;const a=this.rowHeightService.index(pP(s-this.topOffset)),u=this.rowHeightService.index(pP(s+r-this.bottomOffset));if(!o&&u>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=a,l.next(new mP(this.rowOffset(a))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),l.next(new gP(this.firstLoaded))),o&&a<=this.firstLoaded){const t=Math.floor(.3*this.take);this.firstLoaded=pP(a-t),l.next(new mP(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),l.next(new gP(this.firstLoaded))}}rowOffset(t){return this.rowHeightService.offset(t)+this.topOffset}rowsForHeight(t){return Math.ceil(t/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const bP=new Ft("dateinputs-scroll-service-factory");function vP(t){return new fP(t)}var yP=function(t){return t[t.Backward=0]="Backward",t[t.Forward=1]="Forward",t}({});const wP=17,xP={[yP.Forward]:t=>e=>e+t,[yP.Backward]:t=>e=>e-t},kP={[yP.Forward]:t=>e=>Math.min(e,t),[yP.Backward]:t=>e=>Math.max(e,t)},_P={[yP.Forward]:t=>e=>e<t,[yP.Backward]:t=>e=>e>t},CP=(t,e,n)=>Math.min(Math.abs(e-t),n);class TP{constructor(t,e,n,i){this.container=e,this.renderer=n,this.zone=i,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new os,this.pageChange=new os,this.scrollChange=new os,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new A,this.scroller=t(this.dispatcher)}get totalVertexLength(){const t=`${this.totalSize}px`;return"vertical"===this.direction?{height:t}:{width:t}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}get wrapperClasses(){return!0}get horizontalClass(){return"horizontal"===this.direction}ngOnChanges(t){(t.direction||t.take||t.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe(U(t=>t.target)).subscribe(t=>{this.dispatcher.next(t),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(t){return this.container.nativeElement[t]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(t){return this.rowHeightService.index(t)}itemOffset(t){return this.rowHeightService.offset(t)}isIndexVisible(t){if(!this.rowHeightService)return!1;const e=this.containerScrollPosition,n=e+this.containerOffsetSize,i=this.rowHeightService.offset(t),l=i+this.rowHeightService.height(t);return i>=e&&l<=n}isListScrolled(t){return this.containerScrollPosition!==this.rowHeightService.offset(t)}scrollTo(t){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",t)}scrollToIndex(t){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(t))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(t){this.animationSubscription&&this.animationSubscription.unsubscribe();const e=this.rowHeightService.offset(t),n=this.getContainerScrollDirection(e),{start:i,end:l}=this.scrollRange(e,n);if(i===l)return;const s=this.scrollStep(i,l),r=xP[n](s),o=kP[n](l),a=_P[n](r(l));this.zone.runOutsideAngular(()=>{this.animationSubscription=Ju(Xu(i),pS(0,bS)).pipe(U(t=>t[0]),Oc(r),function(t,e=!1){return n=>n.lift(new vS(t,e))}(a),U(o)).subscribe(t=>this.scrollTo(t))})}scrollRange(t,e){const n=this.containerScrollPosition;if(parseInt(t,10)===parseInt(n,10))return{start:t,end:t};const i=this.containerMaxScroll(),l=e===yP.Backward?1:-1,s=CP(n,t,this.maxScrollDifference),r=Math.min(t,i);return{start:Math.min(Math.max(r+l*s,0),i),end:r}}scrollStep(t,e){return Math.abs(e-t)/(this.scrollDuration/wP)}scroll$(){return of()?rf(this.container.nativeElement,"scroll"):Yu}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(t=>{t instanceof gP?this.pageChange.emit(t):this.scrollChange.emit(t)})}createRowHeightService(){return new dP(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const t=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==t&&(this.lastActiveIndex=t,this.activeIndexChange.emit(t))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(t){return t<this.containerScrollPosition?yP.Backward:yP.Forward}}const SP=(t,e,n)=>{for(;t&&t!==n&&!e(t);)t=t.parentNode;if(t!==n)return t},MP=(t,e)=>{for(;t&&!e(t);)t=t.parentNode;return t},PP=30;class AP{constructor(t,e,n,i,l){this.bus=t,this.dom=e,this.intl=n,this.cdr=i,this.renderer=l,this.min=new Date(zS),this.max=new Date(jS),this.focusedDate=new Date,this.valueChange=new os,this.pageChange=new os,this.dates=[],this.take=PP,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const t=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(t-this.itemHeight)/2,this.bottomOffset=t-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(t){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=FM[this.activeView];const e=eM(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(e,this.min),this.total=n,!i&&this.service.isInArray(e,this.dates)||(this.dates=this.service.datesList(e,this.getTake(this.skip))),(t.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:t}){this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}scrollChange({offset:t}){const e=this.list.nativeElement,n=`translateY(${t}px)`;this.renderer.setStyle(e,"transform",n),this.renderer.setStyle(e,"-ms-transform",n)}handleDateChange(t){const e=SP(t.target,t=>t.hasAttribute("data-date-index"),this.list.nativeElement);if(e){const t=parseInt(e.getAttribute("data-date-index"),10);this.valueChange.emit(bk(this.dates[t]))}}getTake(t){return Math.min(this.total-t,this.take)}intlChange(){this.activeView===FM.month&&this.cdr.markForCheck()}}const EP=5,IP=(t,e)=>t&&e&&t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth();class DP{constructor(t,e,n,i,l){this.bus=t,this.cdr=e,this.intl=n,this.dom=i,this.renderer=l,this.isActive=!0,this.min=new Date(zS),this.max=new Date(jS),this.activeDateChange=new os,this.valueChange=new os,this.pageChange=new os,this.dates=[],this.cols=[],this.weekNames=[],this.take=EP,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(t){this.showWeekNumbers=t}get getComponentClass(){return!0}get getComponentMonthClass(){return this.activeView===FM.month}get getComponentYearClass(){return this.activeView===FM.year}get getComponentDecadeClass(){return this.activeView===FM.decade}get getComponentCenturyClass(){return this.activeView===FM.century}ngOnInit(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(t){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=hM(t,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;const e=hM(t,"activeView"),n=this.focusedDate,i=eM(this.service.viewDate(n,this.max,this.minViewsToRender),this.min,this.max),l=this.service.total(this.min,this.max),s=this.total&&this.total!==l||!this.service.isInArray(n,this.dates);this.skip=this.service.skip(i,this.min),this.total=l,this.animateToIndex=!e,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),s&&(this.dates=this.service.datesList(i,this.getTake(this.skip))),IP(this.activeDate,n)||(this.activeDate=bk(n));const r=hM(t,"focusedDate")||e;(s||r||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(n,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:t}){this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}scrollChange({offset:t}){const e=this.list.nativeElement,n=`translateY(${t}px)`;this.renderer.setStyle(e,"transform",n),this.renderer.setStyle(e,"-ms-transform",n)}setActiveDate(t){const e=this.service.addToDate(this.min,t);Jk(this.activeDate,e)||(this.activeDate=e,this.activeDateChange.emit(e),this.cdr.detectChanges())}handleDateChange(t){this.valueChange.emit(t)}isMonthView(){return this.activeView===FM.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===FM.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(t){return Math.min(this.total-t,this.take)}getWeekNames(){const t=aM(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(t):t}intlChange(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}}const OP={33:LS.PrevView,34:LS.NextView,35:LS.LastInView,36:LS.FirstInView,37:LS.Left,38:LS.Up,39:LS.Right,40:LS.Down,"meta+38":LS.UpperView,"meta+40":LS.LowerView};class FP{constructor(t){this.bus=t}action(t){return OP[`${t.ctrlKey||t.metaKey?"meta+":""}${t.keyCode}`]}move(t,e,n){const i=this.bus.service(n);return i?e===LS.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),t):e===LS.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),t):i.move(t,e):t}}const NP=t=>e=>Math.floor(e/t),RP=t=>e=>e*t;class LP{constructor(t,e){this.dom=t,this.zone=e}configure(t){const e=Math.max(this.dom.viewHeight(t)/this.dom.navigationItemHeight,1);this.divideByMagnitude=NP(e),this.powerByMagnitude=RP(e)}sync(t,e){this.unsubscribe(),t&&e&&(this.navigator=t,this.view=e,this.zone.runOutsideAngular(()=>{let n,i;this.navSubscription=t.scroll$().subscribe(t=>{i?i=!1:(n=!0,this.scrollSiblingOf(t.target))}),this.viewSubscription=e.scroll$().subscribe(t=>{n?n=!1:(i=!0,this.scrollSiblingOf(t.target))})}))}scrollSiblingOf(t){const e=this.siblingComponent(t),n=this.calculateScroll(e,t.scrollTop);e.scrollTo(n)}siblingComponent(t){return this.navigator.container.nativeElement===t?this.view:this.navigator}calculateScroll(t,e){return(t===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(e)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}class BP{constructor(){this.onFocus=new os,this.onBlur=new os,this.sameDateSelected=new os}}const VP=t=>e=>t&&e.value&&e.value<t?{minError:{minValue:t,value:e.value}}:null,zP=t=>e=>t&&e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null,jP=t=>t&&(!t.touched||t.control&&"blur"===t.control.updateOn),HP=t=>t.preventDefault(),WP=t=>t.relatedTarget||document.activeElement,UP=t=>null!=t,$P=t=>Array.isArray(t)&&t.length>0&&t.every(t=>"number"==typeof t),YP=t=>Array.isArray(t)&&t.length>0&&t.every(t=>t instanceof Date),qP=()=>!1,GP="https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/";class XP{constructor(){this.changes=new A,this.isDateDisabled=qP}initialize(t){if("function"==typeof t)this.isDateDisabled=e=>t(wk(e));else if($P(t)){const e=new Set(t);this.isDateDisabled=t=>e.has(t.getDay())}else if(YP(t)){const e=new Set(t.map(t=>wk(t).getTime()));this.isDateDisabled=t=>e.has(wk(t).getTime())}else this.isDateDisabled=qP,this.notifyInvalidInput(t);this.notifyServiceChange()}notifyInvalidInput(t){if(UP(t)&&me())throw new Error(`The 'disabledDates' value should be a function, a Day array or a Date array. Check ${GP} for more information.`)}notifyServiceChange(){this.changes.next()}}const KP="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview",ZP="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview",QP="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min",JP="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max",tA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",eA=t=>t?t.virtualization:null;class nA{constructor(t,e,n,i,l,s,r,o,a,u,c){this.bus=t,this.dom=e,this.element=n,this.navigator=i,this.renderer=l,this.cdr=s,this.ngZone=r,this.injector=o,this.scrollSyncService=a,this.disabledDatesService=u,this.pickerService=c,this.id=hf(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=FM[FM.month],this.bottomView=FM[FM.month],this.topView=FM[FM.century],this.weekNumber=!1,this.activeViewChange=new os,this.activeViewDateChange=new os,this.valueChange=new os,this.isActive=!1,this.cellUID=hf(),this._min=new Date(zS),this._max=new Date(jS),this._focusedDate=lM(),this.onControlChange=sM,this.onControlTouched=sM,this.onValidatorChange=sM,this.minValidateFn=sM,this.maxValidateFn=sM,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(n.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set focusedDate(t){this._focusedDate=t||lM(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate}set min(t){this._min=t||new Date(zS)}get min(){return this._min}set max(t){this._max=t||new Date(jS)}get max(){return this._max}get value(){return this._value}set value(t){this.verifyValue(t),this._value=bk(t)}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set disabledDates(t){this.disabledDatesService.initialize(t)}set cellTemplateRef(t){this.cellTemplate=t}set monthCellTemplateRef(t){this.monthCellTemplate=t}set yearCellTemplateRef(t){this.yearCellTemplate=t}set decadeCellTemplateRef(t){this.decadeCellTemplate=t}set centuryCellTemplateRef(t){this.centuryCellTemplate=t}set weekNumberTemplateRef(t){this.weekNumberTemplate=t}set headerTitleTemplateRef(t){this.headerTitleTemplate=t}set navigationItemTemplateRef(t){this.navigationItemTemplate=t}get activeViewEnum(){const t=FM[this.activeView];return t<this.bottomViewEnum?this.bottomViewEnum:t}get bottomViewEnum(){return FM[this.bottomView]}get topViewEnum(){return FM[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}ngOnInit(){this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:t})=>{this.activeView=FM[t],this.emitEvent(this.activeViewChange,this.activeView),this.scrollSyncService.configure(t),this.detectChanges()}),this.control=this.injector.get($y,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(t){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);const e=dM(t,"value")&&!dM(t,"focusedDate"),n=eM(bk(e?this.value:this.focusedDate),this.min,this.max);this.focusedDate=Jk(this.focusedDate,n)?this.focusedDate:n,t.navigation&&(this.syncNavigation=!0),(t.min||t.max||t.rangeValidation)&&(this.minValidateFn=this.rangeValidation?VP(this.min):sM,this.maxValidateFn=this.rangeValidation?zP(this.max):sM,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant()}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(eA(this.navigationView),eA(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach(t=>t()),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}containsElement(t){return Boolean(MP(t,t=>t===this.element.nativeElement))}handleNavigation(t){this.disabled||(this.focusedDate=eM(bk(t)||this.focusedDate,this.min,this.max),this.detectChanges())}onPageChange(){qs.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=G(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleDateChange(t){const e=this.bus.canMoveDown(this.activeViewEnum),n=!e&&Jk(t,this.value);this.focusedDate=bk(t)||this.focusedDate,this.disabled||(n?this.emitSameDate():e?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(t)||this.ngZone.run(()=>{this.value=bk(t),this.onControlChange(bk(t)),this.valueChange.emit(bk(t)),this.cdr.markForCheck()}))}writeValue(t){this.verifyValue(t),this.focusedDate=eM(bk(t)||this.focusedDate,this.min,this.max),this.value=bk(t),this.cdr.markForCheck()}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)}registerOnValidatorChange(t){this.onValidatorChange=t}activeCellTemplate(){switch(this.activeViewEnum){case FM.month:return this.monthCellTemplate||this.cellTemplate;case FM.year:return this.yearCellTemplate;case FM.decade:return this.decadeCellTemplate;case FM.century:return this.centuryCellTemplate;default:return null}}emitEvent(t,e){cf(t)&&this.ngZone.run(()=>{t.emit(e)})}setClasses(t){this.renderer.addClass(t,"k-widget"),this.renderer.addClass(t,"k-calendar"),this.renderer.addClass(t,"k-calendar-infinite")}verifyChanges(){if(me()){if(this.min>this.max)throw new Error(`The max value should be bigger than the min. See ${QP} and ${JP}.`);if(this.bottomViewEnum>this.topViewEnum)throw new Error(`The topView should be greater than bottomView. See ${KP} and ${ZP}.`)}}verifyValue(t){if(me()&&t&&!(t instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${tA} for possible resolution.`)}bindEvents(){const t=this.element.nativeElement;this.domEvents.push(this.renderer.listen(t,"blur",this.handleBlur.bind(this)),this.renderer.listen(t,"focus",this.handleFocus.bind(this)),this.renderer.listen(t,"mousedown",HP),this.renderer.listen(t,"click",this.handleClick.bind(this)),this.renderer.listen(t,"keydown",this.handleKeydown.bind(this)))}emitBlur(t){this.pickerService&&this.pickerService.onBlur.emit(t)}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit()}handleBlur(t){this.isActive=!1,!this.pickerService&&jP(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(t)}):(this.emitBlur(t),this.detectChanges())}handleFocus(){this.isActive=!0,qs.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleClick(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=bk(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(t){const e=-1!==[Pf.ArrowUp,Pf.ArrowRight,Pf.ArrowDown,Pf.ArrowLeft].indexOf(t.keyCode);if(UP(this.pickerService)&&e&&t.altKey)return;const n=eM(this.navigator.move(this.focusedDate,this.navigator.action(t),this.activeViewEnum),this.min,this.max);Jk(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),t.preventDefault()),t.keyCode===Pf.Enter&&this.handleDateChange(this.focusedDate)}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){if(!UP(this.element))return;const t=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",t)}}var iA=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.None=2]="None",t}({});const lA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min",sA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max",rA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json",oA=/year|month|<day>/,aA=/hour|minute|second|millisecond/,uA=/d|M|H|h|m|s/,cA=t=>t?t.getTime():null,hA=t=>new Array(Math.max(t,0)).fill("0").join(""),dA=t=>t.replace(/^0*/,"");class pA{constructor(){this.symbols=""}}class mA{constructor(t,e,n,i){if(this.intl=t,this.formatPlaceholder=e,this.format=n,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=wk(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),i)this.value=bk(i);else{this.value=wk(new Date);const t=this.dateFormatString(this.value,this.format).symbols;for(let e=0;e<t.length;e++)this.setExisting(t[e],!1)}}hasValue(){return this.intl.splitDateFormat(this.format).reduce((t,e)=>t||"literal"!==e.type&&"dayperiod"!==e.type&&this.getExisting(e.pattern[0]),!1)}getDateObject(){for(let t=0;t<this.knownParts.length;t++)if(!this.getExisting(this.knownParts[t]))return null;return bk(this.value)}getTextAndFormat(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}getExisting(t){switch(t){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}setExisting(t,e){switch(t){case"y":this.year=e,!1===e&&this.value.setFullYear(2e3);break;case"M":this.month=e,!1===e&&this.value.setMonth(0);break;case"d":this.date=e;break;case"h":case"H":this.hours=e;break;case"m":this.minutes=e;break;case"s":this.seconds=e;break;default:return}}modifyPart(t,e){let n=bk(this.value);switch(t){case"y":n.setFullYear(n.getFullYear()+e);break;case"M":n=Kk(this.value,e);break;case"d":case"E":n.setDate(n.getDate()+e);break;case"h":case"H":n.setHours(n.getHours()+e);break;case"m":n.setMinutes(n.getMinutes()+e);break;case"s":n.setSeconds(n.getSeconds()+e);break;case"a":n.setHours(n.getHours()+12*e)}n.getFullYear()>0&&(this.setExisting(t,!0),this.value=n)}parsePart(t,e,n){if(!e)return this.resetLeadingZero(),this.setExisting(t,!1),{value:null,switchToNext:!1};let i=this.intl.formatDate(this.value,this.format),l=this.dateFormatString(this.value,this.format),s=l.symbols,r=!1,o="",a="",u="";for(let f=0;f<i.length;f++)s[f]===t?(a+=this.getExisting(t)?i[f]:"0",r=!0):r?u+=i[f]:o+=i[f];let c=a.length-3,h=null;const d=this.matchMonth(e),p=this.matchDayPeriod(e,t),m="0"===e,g=(this.leadingZero||{})[t]||0;m?0!==parseInt(n?e:a+e,10)||this.isAbbrMonth(l.partMap,t)||this.incrementLeadingZero(t):this.resetLeadingZero();for(let f=Math.max(0,c);f<=a.length;f++){let i=n?e:a.substring(f)+e,s=parseInt(i,10);if(!(h=this.intl.parseDate(o+i+u,this.format))&&!isNaN(s)&&!isNaN(parseInt(e,10))){if("M"===t&&!d){const t=s-1;t>-1&&t<12&&((h=bk(this.value)).setMonth(t),h.getMonth()!==t&&(h=Xk(Kk(h,-1))))}"y"===t&&(h=yk(parseInt(i,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&h.getDate()!==this.value.getDate()&&(h=Xk(Kk(h,-1))))}if(h){const n=this.partPattern(l.partMap,t).pattern,s=this.intl.parseDate(`${o}${this.peek(i,n)}${u}`,this.format),r=this.patternLength(n)||n.length,a=g+(dA(i)||e).length>=r,c=null===s||a;return this.value=h,this.setExisting(t,!0),{value:this.value,switchToNext:c}}}return d&&(h=this.intl.parseDate(o+d+u,this.format))?(this.value=h,this.setExisting(t,!0),{value:this.value,switchToNext:!1}):p&&(h=this.intl.parseDate(o+p+u,this.format))?(this.value=h,{value:this.value,switchToNext:!0}):(m&&this.setExisting(t,!1),{value:null,switchToNext:!1})}resetLeadingZero(){const t=null!==this.leadingZero;return this.setLeadingZero(null),t}setLeadingZero(t){this.leadingZero=t}incrementLeadingZero(t){const e=this.leadingZero||{};e[t]=(e[t]||0)+1,this.leadingZero=e}isAbbrMonth(t,e){const n=this.partPattern(t,e);return"month"===n.type&&n.names}partPattern(t,e){return t.filter(t=>-1!==t.pattern.indexOf(e))[0]}peek(t,e){const n=dA(t)+"0";return hA(e.length-n.length)+n}matchMonth(t){if(this.typedMonthPart+=t.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(let e=0;e<this.monthNames.length;e++)if(0===this.monthNames[e].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[e];const t=parseInt(this.typedMonthPart,10);if(t>=1&&t<=12&&t.toString()===this.typedMonthPart)return this.monthNames[t-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(t,e){const n=String(t).toLowerCase();if("a"===e&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}allFormatedMonths(){const t=this.intl.splitDateFormat(this.format);for(let e=0;e<t.length;e++)if("month"===t[e].type&&t[e].names)return this.intl.dateFormatNames(t[e].names);return null}allDayPeriods(){const t=this.intl.splitDateFormat(this.format);for(let e=0;e<t.length;e++)if("dayperiod"===t[e].type&&t[e].names)return this.intl.dateFormatNames(t[e].names);return null}patternLength(t){return"y"===t[0]?4:uA.test(t)?2:0}dateFormatString(t,e){const n=this.intl.splitDateFormat(e),i=[],l=[];for(let r=0;r<n.length;r++){let e=this.intl.formatDate(t,{pattern:n[r].pattern}).length;for(;e>0;)i.push(this.symbols[n[r].pattern[0]]||"_"),l.push(n[r]),e--}const s=new pA;return s.symbols=i.join(""),s.partMap=l,s}merge(t,e){let n="",i="",l=e.symbols;for(let s=l.length-1;s>=0;s--)if(-1===this.knownParts.indexOf(l[s])||this.getExisting(l[s]))n=t[s]+n,i=l[s]+i;else{const t=l[s];for(;s>=0&&t===l[s];)s--;for(s++,n=this.leadingZero&&this.leadingZero[t]?"0"+n:this.dateFieldName(e.partMap[s])+n;i.length<n.length;)i=l[s]+i}return[n,i]}dateFieldName(t){const e=this.formatPlaceholder||"wide";return e[t.type]?e[t.type]:"formatPattern"===e?t.pattern:this.intl.dateFieldName(Object.assign(t,{nameType:e}))}}class gA{constructor(t,e,n,i,l,s,r,o){this.cdr=t,this.intl=e,this.renderer=n,this.element=i,this.ngZone=l,this.injector=s,this.localization=r,this.pickerService=o,this.focusableId=`k-${hf()}`,this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new os,this.valueUpdate=new os,this.onFocus=new os,this.onBlur=new os,this.arrow=iA,this.arrowDirection=iA.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidateFn=sM,this.maxValidateFn=sM,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=sM,this.onControlTouched=sM,this.onValidatorChange=sM,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set max(t){this._max=t,this.ariaValueMax=cA(t)}get max(){return this._max}set min(t){this._min=t,this.ariaValueMin=cA(t)}get min(){return this._min}set value(t){this.verifyValue(t),this.autoCorrect&&!QS(t,this.min,this.max)||(this._value=bk(t),this.valueUpdate.emit(bk(t)))}get value(){return this._value}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(t){if(this._active=t,!this.wrap)return;const e=this.wrap.nativeElement;t?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused")}isEmpty(){return!this.currentValue||!String(this.currentValue).trim()}containsElement(t){return Boolean(MP(t,t=>t===this.element.nativeElement))}ngOnChanges(t){this.verifyRange(),(t.min||t.max||t.rangeValidation)&&(this.minValidateFn=this.rangeValidation?VP(this.min):sM,this.maxValidateFn=this.rangeValidation?zP(this.max):sM,this.onValidatorChange()),t.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());const e=this.kendoDate&&Jk(this.value,this.kendoDate.getDateObject());(t.format||!e||t.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(t=>t())}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)}registerOnValidatorChange(t){this.onValidatorChange=t}ngOnInit(){this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.control=this.injector.get($y,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular(()=>{this.bindEvents()}))}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}writeValue(t){this.verifyValue(t),this.kendoDate=this.getKendoDate(t),this.value=bk(t),this.updateElementValue(this.isActive)}triggerChange(){const t=this.kendoDate.getDateObject();+t!=+this.value&&(this.value=bk(t),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(bk(this.value)),this.valueChange.emit(bk(this.value))})}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}focus(){const t=this.inputElement;t&&(t.focus(),this.selectDateSegment(this.currentFormat[0]))}blur(){const t=this.inputElement;t&&t.blur()}handleButtonClick(t){this.arrowDirection=iA.None,this.modifyDateSegmentValue(t)}modifyDateSegmentValue(t){const e=this.caret(),n=this.currentFormat[e[0]];this.kendoDate.modifyPart(n,t*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n)}switchDateSegment(t){const e=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),e[0]<e[1]&&this.currentFormat[e[0]]!==this.currentFormat[e[1]-1])return this.selectNearestSegment(t>0?e[0]:e[1]-1),this.resetSegmentValue=!0,!0;const n=this.currentFormat[e[0]];let i=e[0]+t;for(;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=t;if("_"===this.currentFormat[i])return!1;let l=i;for(;l>=0&&l<this.currentFormat.length&&this.currentFormat[l]===this.currentFormat[i];)l+=t;return i>l&&(l+1!==e[0]||i+1!==e[1])?(this.caret(l+1,i+1),this.resetSegmentValue=!0,!0):i<l&&(i!==e[0]||l!==e[1])&&(this.caret(i,l),this.resetSegmentValue=!0,!0)}selectDateSegment(t){let e=-1,n=0;for(let i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===t&&(n=i+1,-1===e&&(e=i));e<0&&(e=0),this.caret(0,0),this.caret(e,n)}handleClick(){this.hasMousedown=!1,this.isActive&&this.selectNearestSegment(this.caret()[0])}handleDragAndDrop(t){t.preventDefault()}handleMousedown(){this.hasMousedown=!0}handleFocus(t){this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,cf(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(t)}):this.emitFocus(t)}handleBlur(t){this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),cf(this.onBlur)||jP(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(t)}):this.emitBlur(t)}getKendoDate(t){const{leadingZero:e}=this.kendoDate||{}||null,n=new mA(this.intl,this.formatPlaceholder,this.format,t);return n.setLeadingZero(this.isActive?e:null),n}dateSymbolMap(){return this.intl.splitDateFormat(this.format).reduce((t,e)=>(t[e.pattern[0]]=e.type,t),{})}updateElementValue(t){const e=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&null!=this.placeholder&&!this.kendoDate.hasValue(),l=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(l,"value",this.currentValue),l.placeholder!==this.placeholder&&this.renderer.setProperty(l,"placeholder",this.placeholder);const s=this.kendoDate.getDateObject();this.ariaValueNow=cA(s),this.ariaValueText=this.intl.formatDate(s,this.format),t&&this.selectNearestSegment(e)}caret(t,e=t){const n=void 0!==t;let i=[t,t];const l=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==l.selectionStart&&(n&&(of()&&document.activeElement!==l&&l.focus(),l.setSelectionRange(t,e)),i=[l.selectionStart,l.selectionEnd])}catch(s){i=[]}return i}}selectNearestSegment(t){for(let e=t,n=t-1;e<this.currentFormat.length||n>=0;e++,n--){if(e<this.currentFormat.length&&"_"!==this.currentFormat[e])return void this.selectDateSegment(this.currentFormat[e]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}verifyRange(){if(me()&&!tM(this.min,this.max))throw new Error(`The max value should be bigger than the min. See ${lA} and ${sA}.`)}verifyValue(t){if(me()&&t&&!(t instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${rA} for possible resolution.`)}putDateInRange(){const t=this.kendoDate.getDateObject(),e=eM(t,this.min,this.max);this.autoCorrect&&!Jk(t,e)&&(this.kendoDate=this.getKendoDate(e))}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.format).reduce(({date:t,time:e},n)=>({date:t||oA.test(n.type),time:e||aA.test(n.type)}),{date:!1,time:!1})}intlChange(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}updateOnPaste(){const t=this.intl.parseDate(this.inputValue,this.format)||this.value,e=+t!=+this.value;this.writeValue(t),e&&this.notify()}bindEvents(){const t=this.element.nativeElement,e=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(t,"DOMMouseScroll",e),this.renderer.listen(t,"mousewheel",e),this.renderer.listen(t,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(t,"paste",this.handlePaste.bind(this)),this.renderer.listen(t,"input",this.handleInput.bind(this)))}handleMouseWheel(t){this.disabled||this.readonly||!this.isActive||((t=window.event||t).shiftKey?this.switchDateSegment((t.wheelDelta||-t.detail)>0?-1:1):this.modifyDateSegmentValue((t.wheelDelta||-t.detail)>0?1:-1),t.returnValue=!1,t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation())}handlePaste(){this.paste=!0}handleKeydown(t){if(!(this.disabled||this.readonly||t.altKey||t.ctrlKey||t.metaKey))if(t.keyCode!==Pf.Tab)if(t.keyCode!==Pf.Backspace){switch(t.keyCode){case Pf.ArrowDown:this.modifyDateSegmentValue(-1);break;case Pf.ArrowUp:this.modifyDateSegmentValue(1);break;case Pf.ArrowRight:this.switchDateSegment(1);break;case Pf.ArrowLeft:this.switchDateSegment(-1);break;case Pf.Home:this.selectNearestSegment(0);break;case Pf.End:this.selectNearestSegment(this.inputValue.length);break;default:return}t.preventDefault()}else this.backspace=!0;else this.switchDateSegment(t.shiftKey?-1:1)&&t.preventDefault()}handleInput(){if(this.disabled||this.readonly)return;if(this.paste)return this.updateOnPaste(),void(this.paste=!1);const t=uM(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),e=1===t.length&&"_"===t[0][1];let n=!1;if(!e){let e;for(let l=0;l<t.length;l++)n=(e=this.kendoDate.parsePart(t[l][0],t[l][1],this.resetSegmentValue)).switchToNext;const i=this.kendoDate.getDateObject();this.value&&i&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(YS(this.value,i)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),t.length&&"_"!==t[0][0]&&this.selectDateSegment(t[0][0]),(n||e)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}emitFocus(t){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(t)}emitBlur(t){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(t)}}class fA{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const bA=new Ft("dateinputs-touch-enabled"),vA=t=>e=>t&&e.value&&t(e.value)?{disabledDate:!0}:null,yA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min",wA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max",xA="http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json";class kA{constructor(t,e,n,i,l,s,r,o,a,u){this.zone=t,this.localization=e,this.cdr=n,this.popupService=i,this.element=l,this.renderer=s,this.injector=r,this.pickerService=o,this.disabledDatesService=a,this.touchEnabled=u,this.focusableId=`k-${hf()}`,this.activeView=FM[FM.month],this.bottomView=FM[FM.month],this.topView=FM[FM.century],this.disabled=!1,this.readonly=!1,this.navigation=!0,this.min=bk(zS),this.max=bk(jS),this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new os,this.onFocus=new os,this.onBlur=new os,this.open=new os,this.close=new os,this.popupUID=hf(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=sM,this.onControlTouched=sM,this.onValidatorChange=sM,this.minValidateFn=sM,this.maxValidateFn=sM,this.disabledDatesValidateFn=sM,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this)))}set cellTemplateRef(t){this.cellTemplate=t}set monthCellTemplateRef(t){this.monthCellTemplate=t}set yearCellTemplateRef(t){this.yearCellTemplate=t}set decadeCellTemplateRef(t){this.decadeCellTemplate=t}set centuryCellTemplateRef(t){this.centuryCellTemplate=t}set weekNumberTemplateRef(t){this.weekNumberTemplate=t}set headerTitleTemplateRef(t){this.headerTitleTemplate=t}set navigationItemTemplateRef(t){this.navigationItemTemplate=t}set popupSettings(t){this._popupSettings=Object.assign({},{animate:!0},t)}get popupSettings(){return this._popupSettings}set value(t){this.verifyValue(t),this._value=bk(t)}get value(){return this._value}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set disabledDates(t){this._disabledDates=t,this.disabledDatesService.initialize(t)}get disabledDates(){return this._disabledDates}get wrapperClasses(){return!0}get disabledClass(){return this.disabled}get isActive(){return this._active}set isActive(t){if(this._active=t,!this.wrapper)return;const e=this.wrapper.nativeElement;t?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused")}get show(){return this._show}set show(t){t&&(this.disabled||this.readonly)||(t||this._show&&cf(this.close)?this.zone.run(()=>{this.togglePopup(t)}):this.togglePopup(t))}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get($y,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(t){this.verifySettings(),(t.min||t.max||t.rangeValidation||t.disabledDatesValidation||t.disabledDates)&&(this.minValidateFn=this.rangeValidation?VP(this.min):sM,this.maxValidateFn=this.rangeValidation?zP(this.max):sM,this.disabledDatesValidateFn=this.disabledDatesValidation?vA(this.disabledDatesService.isDateDisabled):sM,this.onValidatorChange())}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(t=>t()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(t){this.verifyValue(t),this.value=bk(t),this.cdr.markForCheck(),!t&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(t))}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)||this.disabledDatesValidateFn(t)}registerOnValidatorChange(t){this.onValidatorChange=t}focus(){this.input.focus()}blur(){(this.calendar||this.input).blur()}toggle(t){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===t?!this.show:t)})}handleIconClick(t){this.disabled||this.readonly||(t.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleMousedown(t){t.preventDefault()}handleChange(t){this.cdr.markForCheck(),this.focusInput(),this.value=t,this.show=!1,this.onControlChange(bk(t)),this.valueChange.emit(bk(t))}handleInputChange(t){this.handleChange(this.input.formatSections.time?t:this.mergeTime(t))}get popupClasses(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}mergeTime(t){return this.value&&t?YS(t,this.value):t}handleKeydown(t){const{altKey:e,keyCode:n}=t;n===Pf.Escape&&(this.show=!1),e&&(n!==Pf.ArrowDown||this.show||(this.show=!0),n===Pf.ArrowUp&&(this.show=!1)),n===Pf.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}togglePopup(t){const e=new fA;!this._show&&t?this.open.emit(e):this._show&&!t&&this.close.emit(e),e.isDefaultPrevented()||(this._toggle(t),this.toggleFocus())}_toggle(t){if(this._show=t,this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()),this._show){const t=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:t},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:t},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifySettings(){if(me()&&!tM(this.min,this.max))throw new Error(`The max value should be bigger than the min. See ${yA} and ${wA}.`)}verifyValue(t){if(me()&&t&&!(t instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${xA} for possible resolution.`)}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),rM()&&(this.windowBlurSubscription=rf(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,cf(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){this.isOpen&&(this.show=!1)}handleBlur(t){const e=t&&WP(t);e&&(this.input.containsElement(e)||this.calendar&&this.calendar.containsElement(e))||(cf(this.onBlur)||this.show&&cf(this.close)||jP(this.control)?this.zone.run(()=>{this.blurComponent()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}}const _A=(t,e)=>n=>{if(!t||!e||!n.value)return null;const i={timeRangeError:{maxValue:e,minValue:t,value:n.value}};return JS(n.value,t,e)?null:i},CA="https://www.telerik.com/kendo-angular-ui/components/dateinputs/timepicker/#toc-integration-with-json",TA="https://github.com/telerik/kendo-intl/blob/master/docs/date-formatting/index.md",SA=new RegExp("hour|minute|second|dayperiod|literal");class MA{constructor(t,e,n,i,l,s,r,o,a,u){this.zone=t,this.localization=e,this.cdr=n,this.popupService=i,this.element=l,this.renderer=s,this.injector=r,this.pickerService=o,this.intl=a,this.touchEnabled=u,this.focusableId=`k-${hf()}`,this.disabled=!1,this.readonly=!1,this.format="t",this.placeholder=null,this.cancelButton=!0,this.nowButton=!0,this.tabindex=0,this.title="",this.rangeValidation=!0,this.valueChange=new os,this.onFocus=new os,this.onBlur=new os,this.open=new os,this.close=new os,this.popupUID=hf(),this.onControlChange=sM,this.onControlTouched=sM,this.onValidatorChange=sM,this.resolvedPromise=Promise.resolve(null),this.timeRangeValidateFn=sM,this._min=bk(HS),this._max=bk(WS),this._popupSettings={animate:!0},this._show=!1,this._steps={},this._value=null,this._active=!1,this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this)))}set min(t){this._min=bk(t||HS)}get min(){return this._min}set max(t){this._max=bk(t||WS)}get max(){return this._max}set steps(t){this._steps=t||{}}get steps(){return this._steps}set popupSettings(t){this._popupSettings=Object.assign({},{animate:!0},t)}get popupSettings(){return this._popupSettings}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set value(t){this.verifyValue(t),this._value=bk(t)}get value(){return this._value}get wrapperClasses(){return!0}get disabledClass(){return this.disabled}get isActive(){return this._active}set isActive(t){if(this._active=t,!this.wrapper)return;const e=this.wrapper.nativeElement;t?this.renderer.addClass(e,"k-state-focused"):this.renderer.removeClass(e,"k-state-focused")}get show(){return this._show}set show(t){t&&(this.disabled||this.readonly)||(t||this._show&&cf(this.close)?this.zone.run(()=>{this.togglePopup(t)}):this.togglePopup(t))}get input(){return this.pickerService.input}get timeSelector(){return this.pickerService.timeSelector}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get($y,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(t){(t.min||t.max||t.rangeValidation)&&(this.timeRangeValidateFn=this.rangeValidation?_A(this.min,this.max):sM,this.onValidatorChange()),t.format&&this.verifyFormat()}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(t=>t()),this.pickerSubscriptions.unsubscribe()}handleKeydown(t){const{altKey:e,keyCode:n}=t;n!==Pf.Escape?e&&(n===Pf.ArrowUp&&(this.show=!1),n!==Pf.ArrowDown||this.show||(this.show=!0)):this.show=!1}writeValue(t){this.verifyValue(t),this.value=bk(t),this.cdr.markForCheck(),!t&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(t))}registerOnChange(t){this.onControlChange=t}registerOnTouched(t){this.onControlTouched=t}setDisabledState(t){this.disabled=t,this.cdr.markForCheck()}validate(t){return this.timeRangeValidateFn(t)}registerOnValidatorChange(t){this.onValidatorChange=t}focus(){this.input.focus()}blur(){(this.timeSelector||this.input).blur()}toggle(t){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===t?!this.show:t)})}get isOpen(){return this.show}get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}handleChange(t){if(Jk(this.value,t))return this.focusInput(),void(this.show=!1);this.value=bk(t),this.zone.run(()=>{this.focusInput(),this.show=!1,this.onControlChange(bk(t)),this.valueChange.emit(bk(t))})}handleReject(){this.show=!1}handleInputChange(t){const e=this.input.formatSections.date?t:this.mergeTime(t);this.handleChange(e)}handleMousedown(t){t.preventDefault()}handleIconClick(t){this.disabled||this.readonly||(t.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show)}get popupClasses(){return["k-group","k-reset"].concat(this.popupSettings.popupClass||[])}normalizeTime(t){return YS(VS,t)}mergeTime(t){return this.value&&t?YS(this.value,t):t}togglePopup(t){const e=new fA;!this._show&&t?this.open.emit(e):this._show&&!t&&this.close.emit(e),e.isDefaultPrevented()||(this._toggle(t),this.toggleFocus())}_toggle(t){if(this._show=t,this.cdr.markForCheck(),this.popupRef&&(this.popupRef.close(),this.popupRef=null),this._show){const t=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:t},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:t},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){this.isActive&&(this.show?(this.timeSelector||this.cdr.detectChanges(),this.isActive&&this.timeSelector.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifyValue(t){if(me()&&t&&!(t instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${CA} for possible resolution.`)}verifyFormat(){if(me()&&this.intl.splitDateFormat(this.format).some(t=>!SA.test(t.type)))throw new Error(`Provided format is not supported. Supported specifiers are T|t|H|h|m|s|a. See ${TA}`)}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),rM()&&(this.windowBlurSubscription=rf(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleWindowBlur(){this.isOpen&&(this.show=!1)}handleFocus(){this.isActive||(this.isActive=!0,cf(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleBlur(t){const e=t&&WP(t);e&&(this.input.containsElement(e)||this.timeSelector&&this.timeSelector.containsElement(e))||(cf(this.onBlur)||this.show&&cf(this.close)||jP(this.control)?this.zone.run(()=>{this.blurComponent()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.onControlTouched(),this.onBlur.emit()}}class PA{constructor(t,e,n,i){this.$implicit=t,this.kForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class AA{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._differ=null}set kForTemplate(t){t&&(this._template=t)}ngOnChanges(t){if("kForOf"in t){const i=t.kForOf.currentValue;if(this._differ||!i)return;try{this._differ=this._differs.find(i).create(this.kForTrackBy)}catch(n){throw new Error(`Cannot find a differ supporting object '${i}' of type '${e=i,e.name||typeof e}'.`)}}var e}ngDoCheck(){if(this._differ){const t=this._differ.diff(this.kForOf);t&&this._applyChanges(t)}}_applyChanges(t){if(!of())return;const e=this._viewContainer.length,n=this.kForOf.length,i={};t.forEachOperation((t,e,n)=>{null!==n&&(i[n]=t.item)});for(let l=e;l<n;l++)this._viewContainer.createEmbeddedView(this._template,new PA(null,this.kForOf,-1,-1),l);for(let l=this._viewContainer.length;l>n;l--)this._viewContainer.remove(l-1);for(let l=0;l<this._viewContainer.length;l++){const t=this._viewContainer.get(l);t.context.index=l,t.context.count=length,t.context.$implicit=i[l]||null}}}class EA{constructor(t,e,n,i,l){this.bus=t,this.cdr=e,this.localization=n,this.intl=i,this.disabledDatesService=l,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(zS),this.max=new Date(jS),this.rangeLength=1,this.today=new os,this.subscriptions=new m}get getComponentClass(){return!0}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(t){this.bus.service(this.activeView)&&(this.activeViewValue=FM[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(eM(lM(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const t=this.bus.service(this.activeView),e=this.rangeLength-1,n=t.title(this.currentDate),i=t.addToDate(this.currentDate,e);return e<1||!t.isInRange(i,this.min,this.max)?n:`${n} - ${t.title(i)}`}setTodayAvailability(){const t=lM(),e=QS(t,wk(this.min),wk(this.max)),n=this.disabledDatesService.isDateDisabled(t);this.todayAvailable=e&&!n,this.cdr.markForCheck()}}class IA{constructor(t){this.intl=t}getWeekNames(t=!1){const e=aM(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return t?[""].concat(e):e}}class DA{constructor(t,e,n,i,l,s,r,o){this.bus=t,this.intl=e,this.cdr=n,this.weekService=i,this.element=l,this.zone=s,this.renderer=r,this.disabledDatesService=o,this.direction="vertical",this.isActive=!0,this.change=new os,this.cellEnter=new os,this.cellLeave=new os,this.weekNames=[],this.colSpan=0,this.subscriptions=new m,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===FM.month}set weekNumber(t){this.showWeekNumbers=t}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(t){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(t.weekNumber||t.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),t.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(t=>t())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===FM.month}firstDate(t){const e=this.firstWeekDateContext(t);return e?e.value:null}getWeekNumber(t){return this.weekNumber?w_(t,this.intl.firstDay()):null}getWeekNumberContext(t){const e=this.firstWeekDateContext(t);if(!this.weekNumber||!e)return null;const n=w_(e.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:bk(e.value)}}getStyles(t){const{isRangeEnd:e,isRangeStart:n}=t;return oM({"k-range-end":e,"k-range-mid":t.isRangeMid,"k-range-split-end":t.isRangeSplitEnd,"k-range-split-start":t.isRangeSplitStart,"k-range-start":n,"k-state-active":"start"===this.activeRangeEnd&&n||"end"===this.activeRangeEnd&&e,"k-state-focused":this.isActive&&t.isFocused,"k-state-selected":t.isSelected||n||e,"k-today":t.isToday,"k-weekend":t.isWeekend,"k-state-disabled":t.isDisabled})}tableCellIndex(t,e){return`${t}:${e}`}firstWeekDateContext(t){if(!this.weekNumber)return null;let e=0,n=t[e];for(;!n&&e<t.length;)n=t[++e];return n}updateData(){const t=this.selectedDate||lM(),e=YS(this.viewDate,t);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:e,isDateDisabled:this.disabledDatesService.isDateDisabled})}intlChange(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const t=this.element.nativeElement;this.domEvents.push(this.renderer.listen(t,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(t,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(t,"click",this.clickHandler.bind(this)))}clickHandler(t){const e=this.closestCell(t);if(e){const t=e.getAttribute("data-cell-index"),n=this.cellByIndex(t);n.isDisabled||this.change.emit(n.value)}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(t){const e=this.closestCell(t);if(e){const t=e.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==t&&this.emitCellLeave();const n=this.cellByIndex(t).value;this.cellEnter.emit(n),this.currentCellIndex=t}else this.currentCellIndex&&this.emitCellLeave()}closestCell(t){return SP(t.target,t=>t.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const t=this.cellByIndex(this.currentCellIndex);t&&this.cellLeave.emit(t.value),this.currentCellIndex=null}cellByIndex(t){const[e,n]=t.split(":");return this.data[e][n]}}class OA{}class FA{}class NA extends Ib{}class RA extends NA{constructor(t){super(),this.service=t}}class LA extends NA{constructor(t){super(),this.service=t}get override(){return!0}}class BA{}class VA{}class zA{}class jA{}class HA extends Ib{}class WA extends HA{constructor(t){super(),this.service=t}}class UA{}class $A extends Ib{}class YA extends $A{constructor(t){super(),this.service=t}}class qA{}class GA{}const XA=cM("div"),KA=cM("ul"),ZA=cM("li"),QA=()=>ZA("<span>02</span>","k-item"),JA=()=>KA([QA()],"k-reset"),tE=()=>XA([JA()],"k-time-container k-content k-scrollable"),eE=(()=>of()?XA([XA([tE()],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null)();class nE{ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(t){if(!of())return;const e=t&&t.querySelector(".k-time-list-container")||document.body,n=e.appendChild(eE);this.timeListHeight=n.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=n.querySelector("li").getBoundingClientRect().height,e.removeChild(n)}isActive(t){return!(!of()||!t)&&(t.nativeElement||t)===document.activeElement}}const iE=(t=>t=>t%24)(),lE=(t,e)=>n=>iE(t+n*e),sE=(t,e)=>iE(24+t-e),rE=t=>(e,n)=>n&&wk(e).getTime()!==wk(n).getTime()?GS(e,t):e,oE=rE(0),aE=rE(23);class uE{constructor(t){this.intl=t,this.boundRange=!1,this.insertUndividedMax=!1}apply(t,e){return GS(t,e.getHours())}configure(t){const{boundRange:e=this.boundRange,insertUndividedMax:n=this.insertUndividedMax,min:i=this.min,max:l=this.max,part:s,step:r=this.step}=t;this.boundRange=e,this.insertUndividedMax=n,this.toListItem=t=>{const e=GS(VS,t);return{text:this.intl.formatDate(e,s.pattern),value:e}},this.min=i,this.max=l,this.step=r}data(t){const[e]=this.range(t),n=lE(e,this.step),i=ZS(0,this.countFromMin(t)).map(t=>this.toListItem(n(t)));return this.addLast(i),this.addMissing(i,t),i}isRangeChanged(t,e){return!Jk(this.min,t)||!Jk(this.max,e)}limitRange(t,e,n){return this.boundRange?[oE(t,n),aE(e,n)]:[t,e]}total(t){const e=this.insertUndividedMax&&this.isLastMissing(t)?1:0,n=this.isMissing(t)?1:0;return this.countFromMin(t)+n+e}selectedIndex(t){return Math.ceil(this.divideByStep(t))}valueInList(t){return!t||this.insertUndividedMax&&this.lastHour(t)===t.getHours()||!this.isMissing(t)}addLast(t,e){return this.insertUndividedMax&&this.isLastMissing(e)&&t.push(this.toListItem(this.lastHour(e))),t}addMissing(t,e){if(this.valueInList(e))return t;const n=this.toListItem(e.getHours());return t.splice(this.selectedIndex(e),0,n),t}countFromMin(t){const[e,n]=this.range(t);return Math.floor(sE(n,e)/this.step)+1}isMissing(t){return!!t&&this.selectedIndex(t)!==this.divideByStep(t)}isLastMissing(t){return this.isMissing(GS(this.max,this.lastHour(t)))}divideByStep(t){return sE(t.getHours(),this.min.getHours())/this.step}lastHour(t){return this.range(t)[1]}range(t){const[e,n]=this.limitRange(this.min,this.max,t);return[e.getHours(),n.getHours()]}}const cE=(t=>t=>t%60)(),hE=(t,e)=>n=>cE(t+n*e),dE=(t,e)=>cE(60+t-e),pE=t=>(e,n)=>n&&e.getHours()!==n.getHours()?XS(e,t):e,mE=pE(0),gE=pE(59);class fE{constructor(t){this.intl=t,this.insertUndividedMax=!1}apply(t,e){return XS(t,e.getMinutes())}configure(t){const{insertUndividedMax:e=this.insertUndividedMax,min:n=this.min,max:i=this.max,part:l,step:s=this.step}=t;this.insertUndividedMax=e,this.toListItem=t=>{const e=XS(VS,t);return{text:this.intl.formatDate(e,l.pattern),value:e}},this.min=n,this.max=i,this.step=s}data(t){const[e]=this.range(t),n=hE(e,this.step),i=ZS(0,this.countFromMin(t)).map(t=>this.toListItem(n(t)));return this.addLast(i),this.addMissing(i,t),i}isRangeChanged(t,e){return!Jk(this.min,t)||!Jk(this.max,e)}limitRange(t,e,n){return[mE(t,n),gE(e,n)]}total(t){const e=this.insertUndividedMax&&this.isLastMissing(t)?1:0,n=this.isMissing(t)?1:0;return this.countFromMin(t)+n+e}selectedIndex(t){return Math.ceil(this.divideByStep(t))}valueInList(t){return!t||this.insertUndividedMax&&this.lastMinute(t)===t.getMinutes()||!this.isMissing(t)}addLast(t,e){return this.insertUndividedMax&&this.isLastMissing(e)&&t.push(this.toListItem(this.lastMinute(e))),t}addMissing(t,e){if(this.valueInList(e))return t;const n=this.toListItem(e.getMinutes());return t.splice(this.selectedIndex(e),0,n),t}countFromMin(t){const[e,n]=this.range(t);return Math.floor(dE(n,e)/this.step)+1}isMissing(t){return!!t&&this.selectedIndex(t)!==this.divideByStep(t)}isLastMissing(t){return this.isMissing(XS(this.max,this.lastMinute(t)))}divideByStep(t){return dE(t.getMinutes(),this.min.getMinutes())/this.step}lastMinute(t){return this.range(t)[1]}range(t){const[e,n]=this.limitRange(this.min,this.max,t);return[e.getMinutes(),n.getMinutes()]}}const bE=(t=>t=>t%60)(),vE=(t,e)=>n=>bE(t+n*e),yE=(t,e)=>bE(60+t-e),wE=t=>(e,n)=>!n||e.getHours()===n.getHours()&&e.getMinutes()===n.getMinutes()?e:KS(e,t),xE=wE(0),kE=wE(59);class _E{constructor(t){this.intl=t,this.insertUndividedMax=!1}apply(t,e){return KS(t,e.getSeconds())}configure(t){const{insertUndividedMax:e=this.insertUndividedMax,min:n=this.min,max:i=this.max,part:l,step:s=this.step}=t;this.insertUndividedMax=e,this.toListItem=t=>{const e=KS(VS,t);return{text:this.intl.formatDate(e,l.pattern),value:e}},this.min=n,this.max=i,this.step=s}data(t){const[e]=this.range(t),n=vE(e,this.step),i=ZS(0,this.countFromMin(t)).map(t=>this.toListItem(n(t)));return this.addLast(i),this.addMissing(i,t),i}isRangeChanged(t,e){return!Jk(this.min,t)||!Jk(this.max,e)}limitRange(t,e,n){return[xE(t,n),kE(e,n)]}total(t){const e=this.insertUndividedMax&&this.isLastMissing(t)?1:0,n=this.isMissing(t)?1:0;return this.countFromMin(t)+n+e}selectedIndex(t){return Math.ceil(this.divideByStep(t))}valueInList(t){return!t||this.insertUndividedMax&&this.lastSecond(t)===t.getSeconds()||!this.isMissing(t)}divideByStep(t){return yE(t.getSeconds(),this.min.getSeconds())/this.step}addLast(t,e){return this.insertUndividedMax&&this.isLastMissing(e)&&t.push(this.toListItem(this.lastSecond(e))),t}addMissing(t,e){if(this.valueInList(e))return t;const n=this.toListItem(e.getSeconds());return t.splice(this.selectedIndex(e),0,n),t}countFromMin(t){const[e,n]=this.range(t);return Math.floor(yE(n,e)/this.step)+1}isMissing(t){return!!t&&this.selectedIndex(t)!==this.divideByStep(t)}isLastMissing(t){return this.isMissing(KS(this.max,this.lastSecond(t)))}lastSecond(t){return this.range(t)[1]}range(t){const[e,n]=this.limitRange(this.min,this.max,t);return[e.getSeconds(),n.getSeconds()]}}const CE=(t,e)=>{const n=bk(t);return n.setHours(e),n},TE=t=>null!==t&&t<12,SE=t=>null!==t&&(!t||t>11),ME=(t,e,n)=>!e&&!n||t>=e&&t<=n,PE=(t,e,n)=>!e&&!n||t>=e||t<=n;class AE{constructor(t){this.intl=t}apply(t,e){const n=t.getHours(),i=TE(n),l=TE(e.getHours());if(i&&l||!i&&!l)return t;const[s,r=24]=this.normalizedRange();return CE(t,Math.min(Math.max(s,n+(l?-12:12)),r||24))}configure(t){const{min:e=this.min,max:n=this.max,part:i=this.part}=t;this.min=e,this.max=n,this.part=i}data(t){const e=this.part.names;if(!e)return[];const n=[],[i,l]=this.normalizedRange(),s=this.intl.dateFormatNames(e);return TE(i)&&n.push({text:s.am,value:CE(this.min,i)}),SE(l)&&n.push({text:s.pm,value:CE(this.min,Math.max(12,l))}),this.min.getHours()!==i?n.reverse():n}isRangeChanged(t,e){return!1}limitRange(t,e,n){return[t,e]}total(){const[t,e]=this.normalizedRange();return(t||e)&&(t>11||e<12)?1:2}selectedIndex(t){if(!this.valueInList(t))return-1;const e=Math.floor(t.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?e:0===e?1:0}valueInList(t){return(this.min.getHours()!==this.normalizedRange()[0]?PE:ME)(t.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const t=this.min.getHours(),e=this.max.getHours();return[Math.min(t,e),Math.max(t,e)]}}const EE=.05,IE=2,DE=()=>null,OE={35:(t,e)=>t[t.length-1],36:(t,e)=>t[0],38:(t,e)=>t[e-1],40:(t,e)=>t[e+1]},FE={dayperiod:AE,hour:uE,minute:fE,second:_E};class NE{constructor(t,e,n,i,l){this.element=t,this.injector=e,this.dom=n,this.renderer=i,this.zone=l,this.min=bk(VS),this.max=bk(WS),this.step=1,this.disabled=!1,this.valueChange=new os,this.componentClass=!0,this.animateToIndex=!0,this.isActive=!1,this.skip=0,this.total=60,this.data=[],this.indexToScroll=-1,this.domEvents=[]}get tabIndex(){return this.disabled?void 0:0}ngOnChanges(t){t.part&&(this.service=this.injector.get(FE[this.part.type]),this.service.configure(this.serviceSettings()));const e=this.value,n=t.value||{},[i,l]=this.service.limitRange(this.min,this.max,e);(this.service.isRangeChanged(i,l)||t.min||t.max||t.step)&&(this.data=[],this.service.configure(this.serviceSettings({min:i,max:l}))),this.data.length&&!this.hasMissingValue(n)||(this.animateToIndex=!1,this.data=this.service.data(e)),this.animateToIndex=this.animateToIndex&&this.textHasChanged(n),this.total=this.service.total(e),this.indexToScroll=this.selectedIndex(e)}ngOnInit(){this.animateToIndex=!0,this.dom.ensureHeights(),this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.topThreshold=this.itemHeight*EE,this.bottomThreshold=this.itemHeight*(1-EE);const t=`translateY(${this.topOffset}px)`;this.style={transform:t,"-ms-transform":t},this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnDestroy(){this.scrollSubscription.unsubscribe(),this.domEvents.forEach(t=>t())}ngAfterViewInit(){this.scrollOnce(t=>this.virtualization.scrollToIndex(t))}ngAfterViewChecked(){this.scrollOnce(t=>{this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](t),this.animateToIndex=!0})}handleChange(t){const e=this.service.apply(this.value,t.value);this.value.getTime()!==e.getTime()&&(this.indexToScroll=this.data.indexOf(t),this.value=e,this.valueChange.emit(e))}handleItemClick(t){const e=SP(t.target,t=>t.hasAttribute("data-timelist-item-index"),this.element.nativeElement);if(e){const t=e.getAttribute("data-timelist-item-index");this.handleChange(this.data[t])}}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}itemOffset(t){const e=this.selectedIndex(this.value),n=this.virtualization.activeIndex(),i=this.virtualization.itemOffset(n),l=Math.abs(Math.ceil(t)-i);if(e===n&&l<IE)return i;const s=e>n;return s&&l>=this.bottomThreshold||!s&&l>this.topThreshold?this.virtualization.itemOffset(n+1):i}hasMissingValue({previousValue:t,currentValue:e}){const n=t&&!this.service.valueInList(t),i=e&&!this.service.valueInList(e);return n||i}scrollOnce(t){-1!==this.indexToScroll&&(t(this.indexToScroll),this.indexToScroll=-1)}serviceSettings(t){const e=Object.assign({},{boundRange:!1,insertUndividedMax:!1,max:this.max,min:this.min,part:this.part,step:this.step},t);return e.boundRange="hour"!==e.part.type,e}selectedIndex(t){return t?this.service.selectedIndex(t):-1}textHasChanged({previousValue:t,currentValue:e}){if(!t||!e)return!1;const n=this.data[this.selectedIndex(t)],i=this.data[this.selectedIndex(e)];return n&&i&&n.text!==i.text}handleKeyDown(t){const e=(OE[t.keyCode]||DE)(this.data,this.service.selectedIndex(this.value));e&&(this.handleChange(e),t.preventDefault())}bindEvents(){this.scrollSubscription=this.virtualization.scroll$().pipe(wS(100),U(t=>t.target.scrollTop),U(t=>this.itemOffset(t)),U(t=>this.virtualization.itemIndex(t))).subscribe(t=>{this.virtualization.scrollToIndex(t),this.handleChange(this.data[t])});const t=this.element.nativeElement;this.domEvents.push(this.renderer.listen(t,"mouseover",()=>!this.isActive&&this.focus()),this.renderer.listen(t,"click",()=>this.focus()),this.renderer.listen(t,"blur",()=>this.isActive=!1),this.renderer.listen(t,"focus",()=>this.isActive=!0),this.renderer.listen(t,"keydown",this.handleKeyDown.bind(this)))}}const RE=(t,e)=>t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes(),LE=(t,e)=>RE(t,e)&&t.getSeconds()===e.getSeconds(),BE=[{type:"hour",getter:t=>t.getHours(),minGetter:(t,e)=>e.getHours()},{type:"minute",getter:t=>t.getMinutes(),minGetter:(t,e)=>RE(t,e)?e.getMinutes():0},{type:"second",getter:t=>t.getSeconds(),minGetter:(t,e)=>LE(t,e)?e.getSeconds():0},{type:"millisecond",getter:t=>t.getMilliseconds(),minGetter:(t,e)=>((t,e)=>LE(t,e)&&t.getMilliseconds()===e.getMilliseconds())(t,e)?e.getMilliseconds():0}],VE=t=>e=>t.map(t=>{const n=e[t.type];return n?((t,e,n)=>(i,l)=>{const s=t(i),r=e(i,l),o=s-r;if(o<0)return r;const a=o%n;return s-a+(a>n/2?n:0)})(t.getter,t.minGetter,n):t.getter}),zE=(t=>e=>t.map((t=>e=>t[e.type]?(t=>(e,n)=>t(n))(e.getter):(t=>(e,n)=>t(e))(e.getter))((t=>t.reduce((t,e)=>(t[e.type]=e.type,t),{}))(e))))(BE),jE=VE(BE),HE=t=>(e,n)=>(e.setHours(...t.map(t=>t(e,n))),e),WE=t=>(e,n)=>{const i=bk(e);return i.setHours(...t.map(t=>t(i,n))),i},UE=(t,e,n,i)=>t.length||!e.isActive?t:[{next:i[n+1]||e,prev:i[n-1]||e}];var $E=function(t){return t[t.Left=0]="Left",t[t.Right=1]="Right",t}({});class YE{constructor(t,e,n,i,l,s,r,o){this.localization=t,this.cdr=e,this.element=n,this.intl=i,this.dom=l,this.zone=s,this.renderer=r,this.pickerService=o,this.componentClass=!0,this.format="t",this.min=bk(HS),this.max=bk(WS),this.cancelButton=!0,this.setButton=!0,this.nowButton=!0,this.disabled=!1,this.value=null,this.valueChange=new os,this.valueReject=new os,this.isActive=!1,this.showNowButton=!0,this._activeListIndex=-1,this._steps={},this.domEvents=[],this.pickerService&&(this.pickerService.timeSelector=this)}get disabledClass(){return this.disabled}set steps(t){this._steps=t||{}}get steps(){return this._steps}set current(t){this._current=nM(this.snapTime(bk(t||VS),this.min),this.min,this.max),qs.isInAngularZone()||this.cdr.detectChanges()}get current(){return this._current}get activeListIndex(){return this._activeListIndex}set activeListIndex(t){if(this._activeListIndex=t,this.timeListWrappers&&this.timeListWrappers.length&&(this.timeListWrappers.forEach(t=>{this.renderer.removeClass(t.nativeElement,"k-state-focused")}),t>=0)){const e=this.listIndex(t),n=this.timeListWrappers.toArray()[e];n&&this.renderer.addClass(n.nativeElement,"k-state-focused")}}ngOnInit(){this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.localization&&this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.dom.calculateHeights(this.element.nativeElement),this.init(),this.bindEvents()}ngOnChanges(t){this.init()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.pickerService&&(this.pickerService.timeSelector=null),this.domEvents.forEach(t=>t())}focus(){const t=this.timeLists.first;t&&t.focus()}blur(){const t=this.timeLists.first;t&&t.blur()}handleAccept(){this.handleChange(this.mergeValue(bk(this.value||wk(iM())),this.current))}handleNow(){this.current=iM(),this.handleChange(this.current),this.cdr.markForCheck()}handleReject(){this.current=this.value,this.valueReject.emit()}handleFocus(t){this.isActive||(this.isActive=!0,this.emitFocus(t))}handleListFocus(t){const e=parseInt(t.target.getAttribute("data-timelist-index"),10);this.activeListIndex=e,this.handleFocus(t)}handleBlur(t){const e=WP(t);e&&this.containsElement(e)||(this.activeListIndex=-1,this.isActive=!1,this.emitBlur(t))}containsElement(t){return Boolean(MP(t,t=>t===this.element.nativeElement))}partStep(t){return this.steps[t.type]||1}init(t){t&&!hM(t,"format")||(this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=HE(zE(this.dateFormatParts))),t&&!hM(t,"steps")||(this.snapTime=WE(jE(this.steps))),t&&!hM(t,"value")||(this.current=this.value),this.showNowButton=!this.hasSteps()&&this.nowButton&&JS(iM(),this.min,this.max)}focusList(t){this.timeLists.length&&this.timeLists.reduce(UE,[]).map(e=>t===$E.Right?e.next:e.prev).map(t=>t&&t.focus())}handleChange(t){this.value=t,this.valueChange.emit(bk(t))}hasActiveButton(){return!!this.accept&&[this.accept,this.cancel,this.now].reduce((t,e)=>t||this.dom.isActive(e),!1)}hasSteps(){const t=Object.keys(this.steps);return t.length!==t.reduce((t,e)=>t+this.steps[e],0)}intlChange(){this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=HE(zE(this.dateFormatParts)),this.cdr.markForCheck()}bindEvents(){this.element&&this.zone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this)))})}handleKeydown(t){const{keyCode:e,altKey:n}=t,i=-1!==[Pf.ArrowLeft,Pf.ArrowRight].indexOf(e);UP(this.pickerService)&&i&&n||(e!==Pf.Enter||this.hasActiveButton()?e!==Pf.ArrowLeft&&e!==Pf.ArrowRight||this.focusList(e===Pf.ArrowLeft?$E.Left:$E.Right):this.handleAccept())}emitBlur(t){this.pickerService&&this.pickerService.onBlur.emit(t)}emitFocus(t){this.pickerService&&this.pickerService.onFocus.emit(t)}listIndex(t){let e=0,n=0;for(;n<t;)"literal"!==this.dateFormatParts[n].type&&e++,n++;return e}}class qE extends Ib{}class GE extends qE{constructor(t){super(),this.service=t}}class XE extends qE{constructor(t){super(),this.service=t}}class KE extends qE{constructor(t){super(),this.service=t}get override(){return!0}}class ZE{}class QE{}class JE{}class tI{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new eI(t,this.closingNotifier))}}class eI extends W{constructor(t,e){super(t),this.buffer=[],this.add(H(this,e))}_next(t){this.buffer.push(t)}notifyNext(t,e,n,i,l){const s=this.buffer;this.buffer=[],this.destination.next(s)}}const nI=t=>t instanceof Array&&t.length>0,iI=t=>nI(t.bySecond)||nI(t.byMinute)||nI(t.byHour)||nI(t.byYearDay)||nI(t.byMonthDay)||nI(t.byWeekDay)||nI(t.byMonth)||nI(t.byWeekNumber),lI=t=>{const e=t.split(";");let n=[],i=null;for(let l=0;l<e.length;l++){const[t,s=""]=e[l].split(":"),r=t.indexOf("TZID");-1!==r&&(i=t.substring(r).split("=")[1]),n=s.split(",").map(t=>dI(t,i))}return n.length&&null!==n[0]?n:null},sI=t=>{const e=lI(t);return null===e?null:e[0]},rI=t=>{if(!t||0===t.length)return"";const e=t[0].timezone,n="Etc/UTC"===e,i=n?"Z":"";return(e&&!n?";TZID="+e:"")+":"+t.map(t=>mT(t,"yyyyMMddTHHmmss")+i).join(",")+" "},oI=(t,e)=>{if(!e)return!1;const{start:n,end:i}=e;return t<n||t>i||0===t&&n<0},aI=(t,e)=>t-e,uI=(t,e)=>{const n=[];for(let i=0;i<t.length;i++){const l=parseInt(t[i],10);if(isNaN(l)||oI(l,e))return[];n.push(l)}return n.sort(aI)},cI=["yyyyMMddTHHmmssSSSXXX","yyyyMMddTHHmmssXXX","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"];function hI(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}const dI=(t,e)=>{const n=LT(t)||LT(t,cI);if(!n)return null;const i=e?hI(n):n;return Yk.fromUTCDate(i,e||"Etc/UTC")},pI={SU:xk.Sunday,MO:xk.Monday,TU:xk.Tuesday,WE:xk.Wednesday,TH:xk.Thursday,FR:xk.Friday,SA:xk.Saturday},mI=t=>pI[t],gI=t=>{const e=[];for(let n=0;n<t.length;n++){const i=t[n],l=mI(i.substring(i.length-2).toUpperCase());if(void 0===l)return[];e.push({offset:parseInt(i.substring(0,i.length-2),10)||0,day:l})}return e},fI=(t,e,n=1)=>{e=(e-t.getUTCDay()+7*n)%7,t.setUTCDate(t.getUTCDate()+e)},bI=(t,e)=>t+(t<e?7:0),vI=(t,e)=>t-e,yI=(t,e)=>{let n=7-(hI(Gk(t)).getUTCDay()+7-(e||7))||7;return n<0&&(n+=7),Math.ceil((t.getUTCDate()-n)/7)+1},wI=(t,e)=>{let n=(t=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))).getUTCFullYear();void 0!==e?(fI(t,e,-1),t.setUTCDate(t.getUTCDate()+4)):t.setUTCDate(t.getUTCDate()+(4-(t.getUTCDay()||7)));let i=Math.floor((t.getTime()-Date.UTC(n,0,1,-6))/864e5);return 1+Math.floor(i/7)},xI=(t,e,n)=>{let i=e.offset;if(!i)return yI(t,n);const l=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0));let s=yI(l,n);const r=bI(e.day,n),o=r<bI(new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1)).getUTCDay(),n),a=r>bI(l.getUTCDay(),n);return i<0?i=s+(i+1-(a?1:0)):o&&(i+=1),s-=a?1:0,i<(o?1:0)||i>s?null:i},kI=(t,e,n)=>yI(t,n)===xI(t,e,n),_I=(t,e)=>yI(new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth()+1,0)),e),CI=[0,31,60,91,121,152,182,213,244,274,305,335,366],TI=[0,31,59,90,120,151,181,212,243,273,304,334,365],SI=t=>(t=t.getUTCFullYear())%4==0&&t%100!=0||t%400==0,MI=t=>{const e=t.getUTCMonth();return(SI(t)?CI[e]:TI[e])+t.getUTCDate()},PI=[31,28,31,30,31,30,31,31,30,31,30,31],AI=t=>{const e=t.getUTCMonth();return 1===e?1===new Date(Date.UTC(t.getUTCFullYear(),1,29)).getUTCMonth()?29:28:PI[e]},EI=(t,e,n)=>{const i=t.length,l=[];for(let s=0;s<i;s++){let i=t[s];if(n&&(i=n(i)),e===i)return null;e<i&&l.push(i)}return l},II=(t,e,n)=>{const i=n.byMonth,l=EI(i,t.getUTCMonth()+1);let s=!1;return null!==l&&(l.length?t.setUTCMonth(l[0]-1,1):t.setUTCFullYear(t.getUTCFullYear()+1,i[0]-1,1),s=!0),s},DI=(t,e,n)=>{let i,l=!1;function s(t){return t<0&&(t=i+t+1),t}for(;t<=e;){let e=t.getUTCMonth();i=AI(t);let r=EI(n.byMonthDay,t.getUTCDate(),s);if(null===r)return l;if(l=!0,r.length){if(t.setUTCMonth(e,r.sort(vI)[0]),e===t.getUTCMonth())break}else t.setUTCMonth(e+1,1)}return l},OI=(t,e,n)=>{let i,l=!1;function s(t){return t<0&&(t=i+t),t}for(;t<e;){i=SI(t)?366:365;let e=EI(n.byYearDay,MI(t),s);if(null===e)return l;if(l=!0,i=t.getUTCFullYear(),e.length){t.setUTCFullYear(i,0,e.sort(vI)[0]);break}t.setUTCFullYear(i+1,0,1)}return l},FI=(t,e,n)=>{const i=n.weekStart||xk.Monday;let l=!1;function s(t){return t<0&&(t=53+t),t}for(;t<e;){const e=EI(n.byWeekNumber,wI(t,i),s);if(null===e)return l;l=!0;const r=t.getUTCFullYear();if(e.length){const n=7*e.sort(vI)[0]-1;t.setUTCFullYear(r,0,n),fI(t,i,-1);break}t.setUTCFullYear(r+1,0,1)}return l},NI=(t,e,n)=>{const i=n.byWeekDay,l=n.weekStart||xk.Monday;let s=((t,e,n)=>{const i=bI(e.getUTCDay(),n),l=t.length;let s,r,o,a;const u=[];for(let c=0;c<l;c++)if(r=t[c],a=yI(e,n),null!==(s=xI(e,r,n)))if(a<s)u.push(r);else if(a===s)if(i<(o=bI(r.day,n)))u.push(r);else if(i===o)return null;return u})(i,t,l);if(null===s)return!1;s[0]||(s=i,fI(t,l));const r=s.map(n=>{let i=bk(t),s=n.day;if(n.offset)for(;i<=e&&!kI(i,n,l);)yI(i,l)===_I(i,l)?i.setUTCMonth(i.getUTCMonth()+1,1):(i.setUTCDate(i.getUTCDate()+7),fI(i,l,-1));return i.getUTCDay()!==s&&fI(i,s),i}).sort((t,e)=>t.getTime()-e.getTime())[0];return r&&t.setTime(r),!0},RI=(t,e,n)=>{let i=n.byHour,l=!1,s=n._startTime;const r=s.getUTCHours();let o=EI(i,r);return null!==o&&(l=!0,t.setUTCHours(r),o.length?t.setUTCHours(o=o[0]):(o=t.getUTCHours(),t.setUTCDate(t.getUTCDate()+1),t.setUTCHours(o=i[0])),n.byMinute&&t.setUTCMinutes(0),s.setUTCHours(o,t.getUTCMinutes())),l},LI=(t,e,n)=>{const i=n.byMinute,l=t.getUTCMinutes();let s=EI(i,l),r=n._startTime.getUTCHours(),o=!1;return null!==s&&(o=!0,s.length?s=s[0]:(r+=1,s=i[0]),n.bySecond&&t.setUTCSeconds(0),t.setUTCHours(r,s),n._startTime.setUTCHours(r%=24,s,t.getUTCSeconds())),o},BI=(t,e,n)=>{const i=n.bySecond,l=EI(i,t.getUTCSeconds());let s=n._startTime.getUTCHours(),r=t.getUTCMinutes(),o=!1;return null!==l&&(o=!0,l.length?t.setUTCSeconds(l[0]):(t.setUTCMinutes(r+=1,i[0]),r>59&&(r%=60,s=(s+1)%24)),n._startTime.setUTCHours(s,r,t.getUTCSeconds())),o},VI=["byMonth","byWeekNumber","byYearDay","byMonthDay","byWeekDay","byHour","byMinute","bySecond"],zI=VI.length,jI=(t,e)=>{let n;return 0!==t&&t<e?n=e-t:(n=t%e)&&(n=e-n),n},HI=(t,e)=>{t.setTime(t.getTime()+e)};class WI{next(t,e){const n=e._startTime;let i,l;if(e.bySecond)l=t.getUTCSeconds()+1,t.setUTCSeconds(l),n.setUTCSeconds(l);else{if(!e.byMinute)return!1;i=t.getUTCMinutes()+1,t.setUTCMinutes(i),n.setUTCMinutes(i)}return!0}normalize(t){const e=t.rule;4===t.idx&&e.byHour&&(e._startTime.setUTCHours(0),this._hour(t.date,e))}limit(t,e,n){const l=n.interval||1;let s;for(;t<=e;){let r=void 0,o=void 0;const a=t.getUTCDate();for(s=0;s<zI;s++){const l=VI[s];if(n[l]){if(r=i[l](t,e,n),void 0!==o&&r)break;o=r}r&&this.normalize({date:t,rule:n,day:a,idx:s})}if((1===l||!this.interval(n,t))&&s===zI)break}}interval(t,e){const n=t._startPeriod.toUTCDate(),i=e.getUTCHours(),l=t.weekStart,s=t.interval,r=t.freq;let o,a,u=new Date(e),c=!1,h=0,d=0,p=1;return"hourly"===r?(a=t._startTime.getUTCHours(),u=u.getTime(),i!==a&&(u+=(a-i)*kk),u-=n.getTime(),o=Math.floor(u/kk),0!==(h=jI(o,s))&&(this._hour(e,t,h),c=!0)):"daily"===r?(HI(u,-n),o=Math.round(u/_k),0!==(h=jI(o,s))&&(this._date(e,t,h),c=!0)):"weekly"===r?(h=this.getNumberOfWeeksBetweenDates(n,e),bI(e.getUTCDay(),l)<bI(n.getUTCDay(),l)&&(h+=1),0!==(h=jI(h,s))&&(fI(e,t.weekStart,-1),e.setUTCDate(e.getUTCDate()+7*h),c=!0)):"monthly"===r?(o=e.getUTCFullYear()-n.getUTCFullYear(),o=e.getUTCMonth()-n.getUTCMonth()+12*o,0!==(h=jI(o,s))&&(p=iI(t)?1:e.getDate(),e.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth()+h,p),c=!0)):"yearly"===r&&(o=e.getUTCFullYear()-n.getUTCFullYear(),h=jI(o,s),t.byMonth||(d=e.getUTCMonth()),t.byYearDay||t.byMonthDay||t.byWeekDay||(p=e.getUTCDate()),0!==h&&(e.setUTCFullYear(e.getUTCFullYear()+h,d,p),c=!0)),c}_hour(t,e,n){const i=e._startTime;let l=i.getUTCHours();n&&(l+=n),t.setUTCHours(l),i.setUTCHours(l%=24)}_date(t,e,n){t.setUTCDate(t.getUTCDate()+n)}getNumberOfWeeksBetweenDates(t,e){const n=(e.getTime()-t.getTime())/6048e5;let i=Math.floor(n);return n-i>.99&&(i=Math.round(n)),i}}class UI extends WI{next(t,e){return WI.prototype.next.call(this,t,e)||this[e.byHour?"_hour":"_date"](t,e,1),!1}}class $I extends WI{next(t,e){let n;if(!WI.prototype.next.call(this,t,e))if(e.byHour)this._hour(t,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(t,e,1);else{for(n=t.getUTCDate(),t.setUTCMonth(t.getUTCMonth()+1);t.getUTCDate()!==n;)t.setUTCDate(n);this._hour(t,e)}return!1}normalize(t){const e=t.rule,n=t.date;0!==t.idx||e.byMonthDay||e.byWeekDay?super.normalize(t):n.setUTCDate(t.day)}setup(t,e,n){t.byMonthDay||t.byWeekDay||n.setUTCDate(e.getUTCDate())}}const YI={hourly:new class extends WI{next(t,e){return WI.prototype.next.call(this,t,e)||this._hour(t,e,1),!1}normalize(t){const e=t.rule;4===t.idx&&(e._startTime.setUTCHours(0),this._hour(t.date,e))}},daily:new UI,weekly:new class extends UI{setup(t,e){t.byWeekDay||(t.byWeekDay=[{day:e.getUTCDay(),offset:0}])}},monthly:new $I,yearly:new class extends $I{next(t,e){let n;if(!WI.prototype.next.call(this,t,e))if(e.byHour)this._hour(t,e,1);else if(e.byMonthDay||e.byWeekDay||e.byYearDay||e.byWeekNumber)this._date(t,e,1);else if(e.byMonth){for(n=t.getUTCDate(),t.setUTCMonth(t.getUTCMonth()+1);t.getUTCDate()!==n;)t.setUTCDate(n);this._hour(t,e)}else t.setUTCFullYear(t.getUTCFullYear()+1),this._hour(t,e);return!1}setup(){}}},qI=t=>Yk.fromLocalDate(t.toLocalDate(),t.timezone),GI=t=>t.getHours()*kk+6e4*t.getMinutes()+1e3*t.getSeconds()+t.getMilliseconds(),XI=(t,e)=>{if(!t)return!1;const n=e.getTime()-e.getMilliseconds(),i=t.length;for(let l=0;l<i;l++)if(t[l].getTime()===n)return!0;return!1},KI=(t,e)=>{const n=t.toUTCDate();switch(e.freq){case"yearly":n.setUTCFullYear(n.getUTCFullYear(),11,31);break;case"monthly":n.setUTCFullYear(n.getUTCFullYear(),n.getUTCMonth()+1,0);break;case"weekly":fI(n,e.weekStart,-1),n.setUTCDate(n.getUTCDate()+6)}return e.byHour&&n.setUTCHours(23),e.byMinute&&n.setUTCMinutes(59),e.bySecond&&n.setUTCSeconds(59),Yk.fromUTCDate(n,t.timezone)},ZI=(t,e,n)=>{const i=t.length,l=[];let s;for(let r=0,o=n.length;r<o;r++){(s=n[r])<0?s=i+s:s-=1;const o=t[s];o&&o.start>=e&&l.push(o)}return l},QI=(t,e)=>{const n=[];for(let i=0;i<t.length;i++){const l=t[i];l&&!XI(e,l.start)&&n.push(l)}return n},JI=(t,e)=>t+(t<e?7:0),tD=t=>{if(!t)return null;const{recurrenceRule:e,weekStart:n=0}=t,i={};let l,s,r,o,a,u=0;if(!e)return null;let c=e.split("\n");for(c[1]||-1===e.indexOf("DTSTART")&&-1===e.indexOf("DTEND")&&-1===e.indexOf("EXDATE")||(c=e.split(" ")),u=0,r=c.length;u<r;u++){let t=(c[u]||"").trim();-1!==t.indexOf("DTSTART")?i.start=sI(t):-1!==t.indexOf("DTEND")?i.end=sI(t):-1!==t.indexOf("EXDATE")?i.exceptionDates=lI(t):-1!==t.indexOf("RRULE")?o=t.substring(6):t.trim()&&(o=t)}for(u=0,r=(o=o.split(";")).length;u<r;u++)switch(s=((l=(a=o[u]).split("="))[1]||"").trim().split(","),l[0].trim().toUpperCase()){case"FREQ":i.freq=s[0].toLowerCase();break;case"UNTIL":i.until=dI(s[0]);break;case"COUNT":i.count=parseInt(s[0],10);break;case"INTERVAL":i.interval=parseInt(s[0],10);break;case"BYSECOND":i.bySecond=uI(s,{start:0,end:60});break;case"BYMINUTE":i.byMinute=uI(s,{start:0,end:59});break;case"BYHOUR":i.byHour=uI(s,{start:0,end:23});break;case"BYMONTHDAY":i.byMonthDay=uI(s,{start:-31,end:31});break;case"BYYEARDAY":i.byYearDay=uI(s,{start:-366,end:366});break;case"BYMONTH":i.byMonth=uI(s,{start:1,end:12});break;case"BYDAY":i.byWeekDay=gI(s);break;case"BYWEEKNO":i.byWeekNumber=uI(s,{start:-53,end:53});break;case"BYSETPOS":i.bySetPosition=uI(s,{start:-366,end:366});break;case"WKST":i.weekStart=mI(s[0])}return void 0===i.freq||void 0!==i.count&&i.until?null:(void 0===i.weekStart&&(i.weekStart=n),i.interval||(i.interval=1),i.bySetPosition&&!iI(i)&&(i.bySetPosition=[]),(t=>{const{byWeekDay:e,weekStart:n}=t;e&&e.sort((t=>(e,n)=>JI(e.day,t)-JI(n.day,t))(n))})(i),i)},eD={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},nD=(t,e)=>{if(!t||!t.freq)return null;let n=t.weekStart,i="FREQ="+t.freq.toUpperCase(),l="",s="",r="",o=t.until;return t.interval>1&&(i+=";INTERVAL="+t.interval),t.count&&(i+=";COUNT="+t.count),o&&(i+=";UNTIL="+UT(o.toTimezone("Etc/UTC"),"yyyyMMddTHHmmss")+"Z"),t.byMonth&&(i+=";BYMONTH="+t.byMonth),t.byWeekNumber&&(i+=";BYWEEKNO="+t.byWeekNumber),t.byYearDay&&(i+=";BYYEARDAY="+t.byYearDay),t.byMonthDay&&(i+=";BYMONTHDAY="+t.byMonthDay),t.byWeekDay&&(i+=";BYDAY="+(t=>{const e=t.length,n=[];let i;for(let l=0;l<e;l++){let e=t[l];"string"==typeof e?i=e:(i=""+eD[e.day],e.offset&&(i=e.offset+i)),n.push(i)}return n.toString()})(t.byWeekDay)),t.byHour&&(i+=";BYHOUR="+t.byHour),t.byMinute&&(i+=";BYMINUTE="+t.byMinute),t.bySecond&&(i+=";BYSECOND="+t.bySecond),t.bySetPosition&&(i+=";BYSETPOS="+t.bySetPosition),void 0!==n&&(i+=";WKST="+eD[n]),t.start&&(s="DTSTART"+rI([t.start])),t.end&&(r="DTEND"+rI([t.end])),t.exceptionDates&&(l="EXDATE"+rI(t.exceptionDates)),(s||r||l)&&(i=s+r+l+"RRULE:"+i),i},iD=t=>null!=t,lD=t=>null==t,sD=(t,e,n)=>i=>t(i)?e(i):n(i),rD=(...t)=>e=>t.reduceRight((t,e)=>e(t),e),oD={},aD=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;oD[void 0]=t=>t;const uD=(t,e)=>{const n=t+e;if(oD[n])return oD[n];const i=[];return t.replace(aD,(t,e,n,l)=>{i.push(iD(e)?e:n||l)}),oD[n]=t=>{let n=t;for(let l=0;l<i.length;l++)if(!iD(n=n[i[l]])&&e)return n;return n},oD[n]},cD=t=>e=>[t,e],hD=()=>null,dD=t=>e=>iD(t(e)),pD=t=>e=>(t=>iD(t)&&(t=>Array.isArray(t))(t)&&t.length>0)(t(e)),mD=(t,e)=>sD(t,e,hD),gD=(t,e)=>n=>t(n).map(e).join("~"),fD=(t=>rD(...[['"',""],[":","-"]].map(([t,e])=>n=>n.replace(new RegExp(t,"g"),e))))(),bD=({field:t,dir:e="asc"})=>`${t}-${e}`,vD=uD("take"),yD=uD("aggregates"),wD=uD("skip"),xD=uD("group"),kD=uD("sort",!0),_D=gD(kD,bD),CD=gD(xD,bD),TD=gD(yD,({field:t,aggregate:e})=>`${t}-${e}`),SD=rD(t=>`datetime'${t}'`,t=>t.slice(0,t.indexOf(".")),fD,JSON.stringify,t=>new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))),MD=rD(cD("page"),({skip:t,take:e})=>Math.floor((t||0)/e)+1),PD=rD(cD("pageSize"),vD),AD=rD(cD("group"),CD),ED=rD(cD("sort"),_D),ID=rD(cD("aggregate"),TD),DD=(mD(dD(wD),MD),mD(dD(vD),PD),mD(pD(xD),AD),mD(dD(yD),ID),rD(mD(pD(kD),ED),t=>Object.assign({},t,{sort:(kD(t)||[]).filter(({dir:t})=>(t=>!(t=>lD(t)||0===t.trim().length)(t))(t))})),({field:t,operator:e,value:n})=>`${t}~${e}~${n}`),OD=(sD(t=>(t=>t&&t.getTime)(t.value),rD(DD,({field:t,value:e,ignoreCase:n,operator:i})=>({value:SD(e),field:t,ignoreCase:n,operator:i})),DD),(t,e,n)=>(e[t]=n,e)),FD=t=>e=>{const n=e[t];return iD(n)?n:e[(t=>t.replace(/(^[A-Z])/g,(t,e)=>e.toLowerCase()))(t)]},ND=(FD("Member"),FD("AggregateMethodName"),FD("Value"),t=>e=>Object.keys(e).reduce(t.bind(null,e),{})),RD=ND((t,e,n)=>OD(n.toLowerCase(),e,t[n])),LD=ND((t,e,n)=>OD(n,e,RD(t[n]))),BD=(t,e)=>iD(t)?t:e,VD=rD(({field:t,hasSubgroups:e,value:n,aggregates:i,items:l})=>({aggregates:LD(i),field:t,items:e?l.map(VD):l,value:n}),t=>({aggregates:t.Aggregates||t.aggregates,field:t.Member||t.member||t.field,hasSubgroups:t.HasSubgroups||t.hasSubgroups||!1,items:t.Items||t.items,value:BD(t.Key,BD(t.key,t.value))})),zD=(t,e)=>lD(t)?t===e?0:-1:lD(e)?1:t.localeCompare?t.localeCompare(e):t>e?1:t<e?-1:0,jD=(t,e)=>zD(e,t),HD=t=>{const e=uD(t.field,!0);return(n,i)=>("asc"===t.dir?zD:jD)(e(n),e(i))},WD=(t,e)=>0,UD=t=>e=>(n,i,l)=>e(n,t(i,l)),$D=(UD(t=>t),UD(t=>t),(t,e,n,i)=>{if(n-e<2)return;const l=e+n>>>1;$D(t,e,l,i),$D(t,l,n,i),((t,e,n,i,l)=>{let s=n-e,r=i-n;const o=[];for(let h=0;h<s;h++)o.push(t[e+h]);let a=0,u=n,c=e;do{l(t[u],o[a])<0?(t[c++]=t[u++],r--):(t[c++]=o[a++],s--)}while(r>0&&s>0);for(;s;)t[c++]=o[a++],s--;for(;r;)t[c++]=t[u++],r--})(t,e,l,n,i)}),YD=(t,e)=>{if(e.some(t=>iD(t.dir))){t=t.slice(0);const n=(t=>t.filter(t=>iD(t.dir)).map(t=>HD(t)).reduce((t,e)=>(n,i)=>t(n,i)||e(n,i),WD))(e);$D(t,0,t.length,n)}return t};function qD(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}const GD={leading:!0,trailing:!1};class XD{constructor(t,e,n,i){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=i}call(t,e){return e.subscribe(new KD(t,this.duration,this.scheduler,this.leading,this.trailing))}}class KD extends b{constructor(t,e,n,i,l){super(t),this.duration=e,this.scheduler=n,this.leading=i,this.trailing=l,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ZD,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function ZD(t){const{subscriber:e}=t;e.clearThrottle()}class QD{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new JD(t,this.compare,this.keySelector))}}class JD extends b{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function tO(t){return e=>e.lift(new eO(t))}class eO{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new nO(t,this.predicate))}}class nO extends b{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}var iO=function(t){return t[t.backspace=8]="backspace",t[t.tab=9]="tab",t[t.enter=13]="enter",t[t.shift=16]="shift",t[t.ctrl=17]="ctrl",t[t.alt=18]="alt",t[t["pause/break"]=19]="pause/break",t[t["caps lock"]=20]="caps lock",t[t.esc=27]="esc",t[t.space=32]="space",t[t["page up"]=33]="page up",t[t["page down"]=34]="page down",t[t.end=35]="end",t[t.home=36]="home",t[t.left=37]="left",t[t.up=38]="up",t[t.right=39]="right",t[t.down=40]="down",t[t.insert=45]="insert",t[t.delete=46]="delete",t[t.command=91]="command",t[t["left command"]=91]="left command",t[t["right command"]=93]="right command",t[t["numpad *"]=106]="numpad *",t[t["numpad +"]=107]="numpad +",t[t["numpad -"]=109]="numpad -",t[t["numpad ."]=110]="numpad .",t[t["numpad /"]=111]="numpad /",t[t["num lock"]=144]="num lock",t[t["scroll lock"]=145]="scroll lock",t[t["my computer"]=182]="my computer",t[t["my calculator"]=183]="my calculator",t[t[";"]=186]=";",t[t["="]=187]="=",t[t[","]=188]=",",t[t["-"]=189]="-",t[t["."]=190]=".",t[t["/"]=191]="/",t[t["`"]=192]="`",t[t["["]=219]="[",t[t["\\"]=220]="\\",t[t["]"]=221]="]",t[t["'"]=222]="'",t}({});const lO=t=>null!=t,sO=t=>!isNaN(t),rO=()=>{let t,e,n="";for(t=0;t<32;t++)e=16*Math.random()|0,8!==t&&12!==t&&16!==t&&20!==t||(n+="-"),n+=(12===t?4:16===t?3&e|8:e).toString(16);return n},oO=(t,e)=>t.concat(e.substr(e.toLowerCase().indexOf(t.toLowerCase())+t.length)),aO=()=>"undefined"!=typeof window,uO=t=>Array.isArray(t),cO=t=>lO(t)&&"object"==typeof t,hO=t=>"string"==typeof t&&0===t.length,dO=(t,e,n)=>{const i=((t,e)=>uO(t)&&t.filter(t=>cO(t)&&t[e]))(t,n)||[];return(((t,e=[],n)=>t.map(t=>e.find(e=>e[n]===t)).filter(t=>void 0!==t))(t,e,n)||[]).concat(i)},pO=t=>uO(t)&&t.every(t=>cO(t)),mO=(t,e,n)=>{const i=e.map(t=>lO(t)&&lO(t[n])?t[n]:t);return t.reduce((t,e)=>{const l=lO(e)&&lO(e[n])?e[n]:e,s=i.indexOf(l);return-1!==s&&t.push(s),t},[])},gO=(t,e,n=!1)=>{if(lO(t))return n?e&&lO(t[e])?t[e]:t:e?t[e]:t},fO=(t,e)=>{for(let n=0;n<t.length;n++)if(t.charAt(n)!==e)return!1;return!0},bO=(t,e,n)=>{let i=t;return n&&(i=[n].concat(i)),i.slice(e).concat(i.slice(0,e))},vO=(t,e,n)=>{if(!lO(t))return!1;let i=String(t);return n&&(i=i.toLowerCase()),0===i.indexOf(e)},yO=(t,e)=>!!lO(t)&&e.every(e=>t.hasOwnProperty(e));class wO{constructor(t,e){this.localization=t,this.valueChange=new os,this.onBlur=new os,this.onFocus=new os,this.onClick=new os,this.onNavigate=new os,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=e}get userInput(){return this._userInput}set userInput(t){this._userInput=t||""}get value(){return this.input.nativeElement.value}set placeholder(t){this._placeholder=t||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:t})=>this.direction=t?"rtl":"ltr")}ngOnChanges(t){let e;if(this.input&&(t.userInput||t.suggestedText)){const n=this.input.nativeElement.selectionStart,i=(e=t.userInput&&t.userInput.previousValue?this._previousValue===t.userInput.previousValue?this._previousValue:t.userInput.currentValue||"":this._previousValue).length===n;this.writeInputValue(this.suggestedText?oO(this.userInput,this.suggestedText):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):i?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(n,n),this._previousValue=this.userInput}}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}writeInputValue(t){of()&&this.renderer.setProperty(this.input.nativeElement,"value",t)}setInputSelection(t,e){if(of()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(t,e)}catch(n){}}handleInput(t){const e=t.target.value;e!==this.userInput&&(this._previousValue=e,this.valueChange.emit(e))}handleFocus(t){this.onFocus.emit(t)}handleBlur(t){this.onBlur.emit(t)}handleKeydown(t){[iO.up,iO.down,iO.left,iO.right,iO.enter,iO.esc,iO.delete,iO.backspace,iO.home,iO.end].indexOf(t.keyCode)>-1&&this.onNavigate.emit(t)}focus(){of()&&this.input.nativeElement.focus()}blur(){of()&&this.input.nativeElement.blur()}setInputSize(){const t=t=>t?t.length:0,e=this.input.nativeElement,n=t(this.placeholder),i=t(this.value),l=Math.max(n,i,1);this.renderer.setAttribute(e,"size",l.toString())}}class xO{constructor(t){this.templateRef=t}}class kO{constructor(){this.onSelect=new os,this.onChange=new os,this.onFocus=new os,this.total=0,this.selectedIndices=[]}getTotal(){return this.total}isSelected(t){return lO(this.selectedIndices.find(e=>e===t))}isFocused(t){return t===this.focused}focus(t){this.isFocused(t)||(this.focused=t,this.onFocus.emit(t))}select(t){this.isSelected(t)||(this.selectedIndices=[t],this.focused=t,this.onSelect.emit({indices:[t],newSelection:lO(t)}))}add(t){this.isSelected(t)||(this.selectedIndices.push(t),this.focused=t,this.onChange.emit({added:t,indices:this.selectedIndices.slice()}))}unselect(t){if(!this.isSelected(t))return;const e=this.selectedIndices.indexOf(t);this.selectedIndices.splice(e,1),this.focused=t,this.onChange.emit({indices:this.selectedIndices.slice(),removed:t})}change(t){const e=lO(t)&&!this.isSelected(t);this.selectedIndices=[t],this.focused=t,this.onChange.emit({indices:[t],newSelection:e})}resetSelection(t){this.selectedIndices=t instanceof Array?t:[t],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(t){this.focusedIndex!==t&&(this.focusedIndex=t,this.onFocus.emit(t))}}var _O=function(t){return t[t.Undefined=0]="Undefined",t[t.Open=1]="Open",t[t.Close=2]="Close",t[t.Enter=3]="Enter",t[t.Tab=4]="Tab",t[t.Esc=5]="Esc",t[t.Delete=6]="Delete",t[t.Backspace=7]="Backspace",t[t.Home=8]="Home",t[t.End=9]="End",t[t.Up=10]="Up",t[t.Down=11]="Down",t[t.Left=12]="Left",t[t.Right=13]="Right",t}({});class CO{constructor(){this.grouped=!1,this.groupIndices=[]}set data(t){this._data=t,this.grouped=this.isGrouped(t),this.grouped&&(this.groupIndices=this.getGroupIndices(t),this._flatData=this.flatten(t))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return lO(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(t=>!t.header):this.data).length:0}isGrouped(t){return lO(t)&&0!==t.length&&lO(t[0])&&yO(t[0],["aggregates","field","items","value"])}getGroupIndices(t){let e=[];for(let n=0;n<=t.length-1;n++)e[n]=(e[n-1]||0)+t[n].items.length;return e}filter(t){let e=[];if(this.isGrouped(this.data))for(let n=0;n<=this.groupIndices.length-1;n++){const i=this.data[n].items.filter(t);i&&(e=e.concat(i))}else e=this.data.filter(t);return e}indexOf(t,e=0){let n=e=>e===t;return this.grouped&&(n=e=>e.value===t),this.findIndex(n,e)}findIndex(t,e=0){let n=-1;if(this.grouped){const i=this._flatData.filter(t=>!t.header&&t.offsetIndex>=e);n=i.findIndex(t),n=i[n]?i[n].offsetIndex:-1}else{const i=this.data.slice(e).findIndex(t);n=-1!==i?i+e:-1}return n}closestGroup(t){for(let e=t;e>=0;e--)if(this._flatData[e].header)return this._flatData[e]}find(t){const e=this.findIndex(t);return this.itemAt(e)}flatIndex(t){if(0===this.itemsCount)return-1;if(!this.grouped)return t;{const e=this._flatData.find(e=>!e.header&&e.offsetIndex===t);if(e)return e.index}return-1}itemAt(t){let e;if(0===this.itemsCount)return e;if(this.grouped){const n=this._flatData.find(e=>!e.header&&e.offsetIndex===t);n&&(e=n.value)}else e=this.data[t];return e}groupAt(t){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(e=>e.header&&e.index===t)}groupField(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}itemGroup(t){if(!t||0===this.itemsCount||!this.isGrouped)return;const e=this.groupField();return e?t[e]:void 0}flatten(t,e,n=0,i=0){let l=[];lO(e)&&l.push({header:!0,index:i+n,offsetIndex:i,value:e});for(let s=0;s<t.length;s++){let e=[];t[s].items?(e=this.flatten(t[s].items,t[s].value,n,s),n+=t[s].items.length):e.push({header:!1,index:i+n+s+1,offsetIndex:n+s,value:t[s]}),l=l.concat(e)}return l}}class TO{constructor(t){this.dataService=t,this.itemDisabled=null}isIndexDisabled(t){if(this.itemDisabled){const e=this.dataService.itemAt(t);if(lO(e))return this.itemDisabled({dataItem:e,index:t});if(lO(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(t){if(this.itemDisabled){const e=this.dataService.indexOf(t);if(-1!==e)return this.itemDisabled({dataItem:t,index:e});if(lO(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}const SO=0;class MO{constructor(t,e){this.index=t,this.originalEvent=e}}class PO{constructor(t,e){this.disabledItemsService=t,this.selectionService=e,this.open=new os,this.close=new os,this.enter=new os,this.tab=new os,this.esc=new os,this.up=new os,this.right=new os,this.down=new os,this.left=new os,this.delete=new os,this.backspace=new os,this.home=new os,this.end=new os}process(t){const e=t.originalEvent.keyCode,n=t.originalEvent.altKey;let i,l=_O.Undefined;n&&e===iO.down?l=_O.Open:n&&e===iO.up?l=_O.Close:e===iO.enter?l=_O.Enter:e===iO.esc?l=_O.Esc:e===iO.tab?l=_O.Tab:e===iO.up?(i=this.next({current:t.current,start:t.min,end:t.max,step:-1}),l=_O.Up):e===iO.left?(i=this.next({current:t.current,start:t.min,end:t.max,step:-1}),l=_O.Left):e===iO.down?(i=this.next({current:t.current,start:t.min,end:t.max,step:1}),l=_O.Down):e===iO.right?(i=this.next({current:t.current,start:t.min,end:t.max,step:1}),l=_O.Right):e===iO.home?(i=this.isDisabled(SO)?t.current:SO,l=_O.Home):e===iO.end?(i=this.isDisabled(t.max)?t.current:t.max,l=_O.End):e===iO.delete?l=_O.Delete:e===iO.backspace&&(l=_O.Backspace);const s=new MO(i,t.originalEvent);return l!==_O.Undefined&&this[_O[l].toLowerCase()].emit(s),l}next(t){const{current:e,start:n,end:i,step:l}=t,s=lO(e)?this.clampIndex(e+l,n,i):n,r=this.firstFocusableIndex(s,n,i,l);return lO(r)?r:this.selectionService.isSelected(e)&&e>=n?e:this.firstFocusableIndex(s,n,i,-1*l)}clampIndex(t,e,n){return!lO(t)||t<e?e:t>n?n:t}firstFocusableIndex(t,e,n,i){for(;e<=t&&t<=n;){if(!this.isDisabled(t))return t;t+=i}}isDisabled(t){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(t)}}class AO{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class EO{}class IO{constructor(t){this.element=t}}class DO{constructor(t,e,n,i,l,s,r){this.dataService=t,this.wrapper=e,this.selectionService=n,this.disabledItemsService=i,this.cdr=l,this.zone=s,this.renderer=r,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new os,this.pageChange=new os,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=tt(this.selectionService.onSelect.pipe(U(t=>t.indices[0])),this.selectionService.onFocus).subscribe(this.scrollToItem.bind(this))}set data(t){this._data=t[0]&&t[0].header?t.slice(0):t}get data(){return this._data}set items(t){this._items=t}get items(){return this._items}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}ngOnChanges(t){af("data",t,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!t.data.isFirstChange())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.scrollSubscription=rf(this.content.nativeElement,"scroll").pipe(sf(100),dc(this.prefetchData.bind(this)),dc(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}firstVisibleItem(){const t=this.content.nativeElement,e=t.offsetParent;return document.elementFromPoint((e?e.offsetLeft:0)+t.offsetLeft+1,(e?e.offsetTop:0)+t.offsetTop+1)}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const t=this.firstVisibleItem();if(t){let e;"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const t=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),e=this.content.nativeElement.scrollTop,n=Math.trunc(e/this.virtual.itemHeight),i=e>this.lastScrollTop,l=this.lastLoaded-this.pageSize+t>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+t>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&l&&this.changePage(n-this.pageSize+t+1)}changePage(t){this.zone.run(()=>{let e=this.pageSize+t;e>this.virtual.total&&(t--,e=this.virtual.total),t<0&&(t=0),this.startFrom=t,this.lastLoaded=e,this.pageChange.emit({skip:t,take:this.pageSize})})}index(t,e){return t>0?this.dataService.groupIndices[t-1]+e:e}getText(t){return gO(t,this.textField)}getValue(t){return gO(t,this.valueField)}isDisabled(t){return this.disabledItemsService.isIndexDisabled(t)}scrollToItem(t){let e=t;if(this.dataService.grouped&&(e=this.dataService.flatIndex(t),e+=this.firstGroupHeaderInTargetedPage(e)?-1:0),this.virtual&&e>-1)return void this.scrollToIndex(e);const n=this.items.toArray();lO(n[e])&&-1!==e&&this.scroll(n[e].element)}scrollToIndex(t){let e=this.content.nativeElement,n=e.scrollTop;const i=t*this.virtual.itemHeight,l=e.clientHeight,s=i+this.virtual.itemHeight;n>i?n=i:s>n+l&&(n=s-l),e.scrollTop=n}scroll(t){if(!t)return;const e=t.nativeElement;let n=this.content.nativeElement,i=e.offsetTop,l=n.scrollTop,s=n.clientHeight,r=i+e.offsetHeight;l>i?l=i:r>l+s&&(l=r-s),n.scrollTop=l}positionItems(){this.items.forEach((t,e)=>{this.renderer.setStyle(t.element.nativeElement,"transform",`translateY(${(e+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(t){return!lO(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>t}}const OO={pageSize:50,itemHeight:28},FO=t=>!0===t?OO:t?Object.assign({pageSize:OO.pageSize},t):null,NO=new Ft("dropdowns-touch-enabled"),RO={array:"Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",object:"Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",primitive:"Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",textAndValue:"Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data"},LO={object:"Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",primitive:"Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",textAndValue:"Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data",noItemHeight:"Expected virtual.itemHeight of type number."},BO={defaultItem:"defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem",object:"Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",primitive:"Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",textAndValue:"Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data"};class VO{constructor(t,e,n,i,l,s,r,o,a,u,c){this.localization=t,this.popupService=e,this.selectionService=n,this.navigationService=i,this.disabledItemsService=l,this.dataService=s,this._zone=r,this.cdr=o,this.renderer=a,this.touchEnabled=c,this.selected=[],this.focusableId=`k-${rO()}`,this.allowCustom=!1,this.valueNormalizer=t=>t.pipe(U(t=>t)),this.placeholder="",this.listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new os,this.selectionChange=new os,this.filterChange=new os,this.open=new os,this.close=new os,this.onFocus=new os,this.onBlur=new os,this.widgetClasses=!0,this.isFocused=!1,this.listBoxId=rO(),this.optionPrefix=rO(),this.onChangeCallback=t=>{},this.onTouchedCallback=t=>{},this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=t=>t.preventDefault(),this.customValueSubject=new A,this.valueSubject=new A,this.clearValueSubject=new A,this.selectionSubject=new A,this.subs=new m,this.direction=t.rtl?"rtl":"ltr",this.wrapper=u.nativeElement,this.data=[]}get width(){let t=0;of()&&(t=this.wrapper.offsetWidth);const e=this.popupSettings.width||t;return{min:isNaN(t)?t:`${t}px`,max:isNaN(e)?e:`${e}px`}}get height(){const t=this.popupSettings.height;return lO(t)?`${t}px`:"auto"}set text(t){this._text=lO(t)?t.toString():""}get text(){return this._text}togglePopup(t){this.disabled||this.readonly||this.isOpen===t||this.triggerPopupEvents(t)||this._toggle(t)}get activeDescendant(){if(!this.isOpen||!lO(this.selectionService.focused)||-1===this.selectionService.focused)return null;const t=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(t?gO(t,this.valueField):"")}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}set data(t){if(this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){const t=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=t}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=gO(this.dataService.itemAt(0),this.textField))}get data(){const t=this.virtual;if(t){const e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data}set value(t){this.verifySettings(t),this._value=t,this.cdr.markForCheck()}get value(){return this._value}set popupSettings(t){this._popupSettings=Object.assign({animate:!0},t)}get popupSettings(){return this._popupSettings}set itemDisabled(t){if("function"!=typeof t)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(t)}.`);this.disabledItemsService.itemDisabled=t}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set virtual(t){this._virtualSettings=FO(t)}get virtual(){return this._virtualSettings}get clearable(){return this.clearButton}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.attachStreams(),this.createSelectionStream(),this.createValueStream(),this.setMessages()}createValueStream(){const t=this.valueSubject.pipe(lc(t=>{const e=this.prop(this.valueField,this.valuePrimitive),n=this.prop(this.textField,this.valuePrimitive),i=e(this.value),l=e(t);let s=n(t);return!(!lO(this.value)&&!lO(l)||(lO(s)&&(s=s.toString()),i===l&&this.text===s&&(this.clearFilter(),1)))}),U(t=>{const e=this.prop(this.valueField,this.valuePrimitive),n=this.prop(this.textField,this.valuePrimitive),i=e(t);return{dataItem:t,text:n(t),value:this.valuePrimitive?i:t}})),e=(n=()=>this.allowCustom,t=>[lc(n,void 0)(t),lc(qD(n,void 0))(t)])(this.customValueSubject.pipe(function(t,e=Jg,n=GD){return i=>i.lift(new XD(t,e,n.leading,n.trailing))}(300)));var n;const i=e[0].pipe(dc(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),lc(()=>{const t=this.prop(this.valueField,this.valuePrimitive),e=this.text!==t(this.value);return this.loading=e,this.disabled=e,e||this.clearFilter(),e}),this.valueNormalizer,U(t=>({custom:!0,dataItem:t,text:this.text,value:t}))),l=e[1].pipe(U(()=>({custom:!0,dataItem:void 0,text:void 0,value:void 0}))),s=this.clearValueSubject.pipe(U(()=>({dataItem:void 0,text:void 0,value:void 0})));this.valueSubscription&&this.valueSubscription.unsubscribe();const r=tt(t,i,l,s);this.valueSubscription=r.pipe(xc(()=>(this.dataItem=void 0,this.value=void 0,this.text=void 0,this.loading=!1,this.disabled=!1,this.emitSelectionChange(void 0),this.emitValueChange(),this.createValueStream(),Xu(null)))).subscribe(t=>{this.dataItem=t.dataItem,this.value=t.value,this.text=t.text,this.loading=!1,this.disabled=!1,this.clearFilter(),t.custom&&(this.selectionService.focused=-1),this.emitSelectionChange(t.custom?void 0:this.dataItem),this.emitValueChange()})}attachStreams(){of()&&(this.subs.add(this.localization.changes.subscribe(({rtl:t})=>{this.direction=t?"rtl":"ltr",this.setMessages()})),this.subs.add(tt(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe(lc(t=>lO(t.index))).subscribe(t=>this.navigate(t.index))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe(()=>this.togglePopup(!1))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(dc(t=>{this.isOpen&&t.originalEvent.preventDefault()})).subscribe(this.handleEnter.bind(this))),this.subs.add(tt(this.selectionService.onChange,this.selectionService.onSelect.pipe(lc(t=>!this.isOpen))).pipe(dc(t=>{this._filtering=!1,this.togglePopup(!1)}),U(t=>this.dataService.itemAt(t.indices[0]))).subscribe(t=>{this.change(t)})),this.subs.add(this.selectionService.onSelect.pipe(lc(t=>this.isOpen),dc(t=>this._filtering=!1),U(t=>this.dataService.itemAt(t.indices[0]))).subscribe(t=>{this.updateState({dataItem:t}),this.emitSelectionChange(t)})))}ngOnDestroy(){this.destroyPopup(),clearTimeout(this.messagesTimeout),this.subs.unsubscribe(),[this.valueSubscription,this.selectionSubscription].forEach(t=>lO(t)&&t.unsubscribe())}ngOnChanges(t){const e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),this.verifySettings(this.value),af("valueNormalizer",t)&&this.createValueStream(),af("value",t)&&this.createSelectionStream(),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),/(value|textField|valueField|valuePrimitive)/g.test(Object.keys(t).join())&&this.setState()}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}toggle(t){Promise.resolve(null).then(()=>{this._toggle(t),this.cdr.markForCheck()})}get isOpen(){return this._open}reset(){this.value=void 0,this.clearState(),this.resetSelection(),this.createSelectionStream()}isEmpty(){const t=!lO(this.text)||hO(this.text),e=!lO(this.value)||hO(this.value);return t&&e}clearValue(t){t.stopImmediatePropagation(),this.focus(),this._filtering=!0,this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}writeValue(t){this.text="",this.value=null===t?void 0:t,this.setState(),this.createSelectionStream()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}onResize(){if(this.isOpen){const t=this.popupRef.popupElement,{min:e,max:n}=this.width;t.style.minWidth=e,t.style.width=n}}verifySettings(t){const e=!lO(this.valueField)!=!lO(this.textField);if(me()){if(!0===this.valuePrimitive&&lO(t)&&"object"==typeof t)throw new Error(LO.primitive);if(!1===this.valuePrimitive&&lO(t)&&"object"!=typeof t)throw new Error(LO.object);if(e)throw new Error(LO.textAndValue);if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error(LO.noItemHeight)}}setState(){if(this._filtering)return;const t=this.value,e=this.findDataItem({primitive:this.valuePrimitive,valueField:this.valueField,value:t});lO(e.dataItem)?(this.updateState({dataItem:e.dataItem,confirm:!0}),this.resetSelection(e.index)):lO(t)&&this.allowCustom?(this.updateState({dataItem:t}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}updateState({dataItem:t,confirm:e=!1}){this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),e&&(this._previousDataItem=t)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(t){const e=!lO(t)||t<0;this.selectionService.resetSelection(e?[]:[t]),this.selectionService.focused=t}firstFocusableIndex(t){const e=this.data.length-1;return this.disabledItemsService.isIndexDisabled(t)?t<e?this.firstFocusableIndex(t+1):void 0:t}findIndexPredicate(t){return this.dataService.grouped?e=>{let n=this.prop(this.textField,this.valuePrimitive)(e.value);return(n=lO(n)?n.toString().toLowerCase():"").startsWith(t.toLowerCase())}:e=>{let n=this.prop(this.textField,this.valuePrimitive)(e);return(n=lO(n)?n.toString().toLowerCase():"").startsWith(t.toLowerCase())}}prop(t,e){return n=>lO(n)?e?t&&cO(n)?n[t]:n:n[t]:null}findDataItem({primitive:t,valueField:e,value:n}){const i={dataItem:null,index:-1},l=this.prop(e,t);let s;const r=this.dataService.findIndex(s=this.dataService.grouped?t=>l(t.value)===l(n):t=>l(t)===l(n));return i.dataItem=this.dataService.itemAt(r),i.index=r,i}search(t,e=0){let n;n=t.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(t),e):-1,this.disabledItemsService.isIndexDisabled(n)?n+1<this.dataService.itemsCount?this.search(t,n+1):this.selectionService.focus(-1):(this.selectionService.focus(n),this.suggest&&(this.suggestedText=gO(this.dataService.itemAt(n),this.textField)))}getSuggestion(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}navigate(t){0!==this.dataService.itemsCount&&(this.text=this.prop(this.textField,this.valuePrimitive)(this.dataService.itemAt(t)),this.selectionService.select(t))}handleNavigate(t){const e=lO(this.selectionService.selected[0]),n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;let i=0;if(this.disabled||this.readonly)return;if(t.keyCode===iO.home||t.keyCode===iO.end)return;e||(t.keyCode===iO.down?i=-1:t.keyCode===iO.up&&(i=1));const l=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:0,originalEvent:t});l!==_O.Undefined&&l!==_O.Left&&l!==_O.Right&&l!==_O.Backspace&&l!==_O.Delete&&(l===_O.Enter&&this.isOpen||l!==_O.Enter)&&t.preventDefault()}handleEnter(){const t=this.text,e=this.selectionService.focused,n=lO(e)&&-1!==e,i=gO(this._previousDataItem,this.textField)||"",l=gO(this.dataService.itemAt(e),this.textField),s=t!==i;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&s&&(t===l||this.useSuggestion()?this.selectionService.change(e):this.change(t,!0)),this.allowCustom||(n?this.selectionService.change(e):s&&this.change(t,!0))}handleBlur(){this._filtering=!1;const t=this.searchbar.value;if(!t&&!lO(this._previousDataItem)&&!lO(this.dataItem))return this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),void this.onTouchedCallback();const e=this.selectionService.focused;let n;-1!==e&&void 0!==e&&(n=gO(this.dataService.itemAt(e),this.textField),n=lO(n)?n.toString().toLowerCase():""),n===t.toLowerCase()?this.selectionService.change(e):this.change(t,!0),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()}handleEscape(){this.togglePopup(!1),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)}handleNavigationOpen(){this.restoreItemFocus(),this.togglePopup(!0)}searchBarChange(t){this.backspacePressed=t.length<(this.text?this.text.length:0),this.text=t,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==t?(this.filterText=t,this.filterChange.emit(t)):this.search(t)}handleFocus(){this.isFocused=!0,this.onFocus.emit()}pageChange(t){this.virtual.skip=t.skip}change(t,e=!1){e?this.customValueSubject.next(t):this.valueSubject.next(t)}emitSelectionChange(t){this.selectionSubject.next(t)}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}selectClick(){this.touchEnabled||this.searchbar.focus(),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}get listContainerClasses(){const t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t}restoreItemFocus(){!(lO(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}useSuggestion(){if(!this.suggest||!lO(this.searchbar.value))return!1;const t=this.dataService.itemAt(this.selectionService.focused),e=this.prop(this.textField,this.valuePrimitive)(t);return!!lO(e)&&this.searchbar.value.toLowerCase()===e.toLowerCase()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){this.virtual&&(this.virtual.skip=0);const t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:{horizontal:t,vertical:"bottom"},popupAlign:{horizontal:t,vertical:"top"}});const e=this.popupRef.popupElement,{min:n,max:i}=this.width;e.addEventListener("mousedown",this.popupMouseDownHandler),e.style.minWidth=n,e.style.width=i,e.style.height=this.height,e.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}_toggle(t){this._open=void 0===t?!this._open:t,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(t){const e=new AO;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}createSelectionStream(){lO(this.selectionSubscription)&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=this.selectionSubject.pipe(t=>t.lift(new QD(void 0,void 0))).subscribe(t=>this.selectionChange.emit(t))}}class zO{constructor(t,e,n,i,l,s,r,o,a,u,c){this.localization=t,this.popupService=e,this.selectionService=n,this.navigationService=i,this.disabledItemsService=l,this.dataService=s,this._zone=r,this.renderer=o,this.hostElement=a,this.cdr=u,this.touchEnabled=c,this.focusableId=`k-${rO()}`,this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new os,this.filterChange=new os,this.selectionChange=new os,this.open=new os,this.close=new os,this.onFocus=new os,this.onBlur=new os,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=rO(),this.optionPrefix=rO(),this.valueLabelId=rO(),this.filterText="",this.isFocused=!1,this.onTouchedCallback=t=>{},this.onChangeCallback=t=>{},this.word="",this.last="",this.filterFocused=new os,this.filterBlurred=new os,this.wrapperFocused=new os,this.wrapperBlurred=new os,this.selectionSubscription=new m,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.hostElement=a.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this)}get width(){const t=of()?this.wrapper.nativeElement.offsetWidth:0,e=this.popupSettings.width||t;return{min:isNaN(t)?t:`${t}px`,max:isNaN(e)?e:`${e}px`}}get height(){const t=this.popupSettings.height;return lO(t)?`${t}px`:"auto"}get widgetTabIndex(){if(this.disabled)return;const t=Number(this.tabIndex);return isNaN(t)?0:t}get ariaExpanded(){return this.isOpen}get ariaOwns(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(lO(this.dataItem))return this.optionPrefix+"-"+gO(this.dataItem,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}set data(t){this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const t=this.virtual;if(t){const e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data}set value(t){this._value=t,this.cdr.markForCheck()}get value(){return this._value}set popupSettings(t){this._popupSettings=Object.assign({animate:!0},t)}get popupSettings(){return this._popupSettings}set itemDisabled(t){if("function"!=typeof t)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(t)}.`);this.disabledItemsService.itemDisabled=t}set virtual(t){this._virtualSettings=FO(t)}get virtual(){return this._virtualSettings}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}blurComponent(){this.wrapperBlurred.emit()}blurFilterInput(){this.filterBlurred.emit()}focusComponent(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())}keydown(t){const e=lO(this.defaultItem)?-1:0;let n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(e):this.selectionService.focused,i=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(t.keyCode===iO.home||t.keyCode===iO.end))return;const l=lO(this.selectionService.selected[0]),s=lO(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);l&&!s||(t.keyCode===iO.down||t.keyCode===iO.right?i=-1:t.keyCode!==iO.up&&t.keyCode!==iO.left||(i=1));const r=t,o=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:r});o===_O.Undefined||o===_O.Tab||o===_O.Backspace||o===_O.Delete||(o===_O.Left||o===_O.Right)&&this.filterable||o===_O.Enter||r.preventDefault()}keypress(t){this.disabled||this.readonly||this.filterable||this.onKeyPress(t)}click(){this.focus(),this.togglePopup(!this.isOpen)}onResize(){if(this._open){const t=this.popupRef.popupElement,{min:e,max:n}=this.width;t.style.minWidth=e,t.style.width=n}}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.hostElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:t})=>{this.direction=t?"rtl":"ltr",this.setMessages()}),this.setMessages()}isEmpty(){const t=this.value;return!(0===t||!1===t||t||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}ngOnChanges(t){const e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),t.hasOwnProperty("value")&&(this.verifySettings(t.value.currentValue),lO(this.value)||(this._previousDataItem=void 0)),t.hasOwnProperty("defaultItem")&&(this.disabledItemsService.defaultItem=this.defaultItem),/(value|textField|valueField|valuePrimitive|defaultItem|itemDisabled)/g.test(Object.keys(t).join())&&this.setState()}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}toggle(t){Promise.resolve(null).then(()=>{this._toggle(t)})}_toggle(t){this._open=void 0===t?!this._open:t,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(t){const e=new AO;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}togglePopup(t){this.disabled||this.readonly||this.isOpen===t||this.triggerPopupEvents(t)||(!t&&this.filterable&&this.isFocused&&this.focus(),this._toggle(t))}get isOpen(){return this._open}reset(){this._previousDataItem=void 0,this.value=void 0,this.setState()}writeValue(t){this.verifySettings(t),this.value=null===t?void 0:t,lO(t)||(this._previousDataItem=void 0),this.setState()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}get listContainerClasses(){const t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return gO(this.defaultItem,this.textField)}createPopup(){this.virtual&&(this.virtual.skip=0);const t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const e=this.popupRef.popupElement,{min:n,max:i}=this.width;e.addEventListener("mousedown",this.popupMouseDownHandler),e.style.minWidth=n,e.style.width=i,e.style.height=this.height,e.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:t,confirm:e=!1}){this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),e&&(this._previousDataItem=t)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(t){const e=!lO(t);this.selectionService.resetSelection(e?[]:[t]),this.selectionService.focused=e?this.firstFocusableIndex(0):t}onSelectionChange({dataItem:t}){this.updateState({dataItem:t}),this.selectionChange.emit(t),this.valueLabelId=rO()}subscribeEvents(){of()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(lc(t=>this.isOpen),U(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(tt(this.selectionService.onSelect.pipe(lc(t=>!this.isOpen)),this.selectionService.onChange).pipe(U(this.itemFromEvent.bind(this)),dc(t=>this.togglePopup(!1))).subscribe(({dataItem:t,value:e,newSelection:n})=>{n&&this.onSelectionChange({dataItem:t});const i=!lO(t)&&this._previousDataItem,l=e!==this.prop(this.valueField,this.valuePrimitive)(this.value);i?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):l&&(this.value=this.valuePrimitive?e:t,this._previousDataItem=t,this.emitChange(this.value)),this.clearFilter()})),this.navigationSubscription=tt(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(tO(()=>this.filterable)),this.navigationService.right.pipe(tO(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(lc(t=>!isNaN(t.index))).subscribe(t=>this.selectionService.select(t.index)),this.openSubscription=this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.closeSubscription=this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.enterSubscription=this.navigationService.enter.pipe(dc(t=>t.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Rc(()=>pS(10).pipe(Cc(1),Nb(this.wrapperFocused)))).subscribe(()=>{this.wrapperBlurred.emit()}),this._zone.runOutsideAngular(()=>{this.componentBlurredSubscription=tt(this.wrapperBlurred.pipe(Rc(()=>pS(10).pipe(Cc(1),Nb(this.filterFocused)))),this.navigationService.tab).pipe(dc(t=>t instanceof MO&&this.focus()),lc(()=>this.isFocused)).subscribe(()=>this._zone.run(()=>{this.componentBlur()}))}))}unsubscribeEvents(){of()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}itemFromEvent(t){const e=t.indices[0];let n=this.dataService.itemAt(e);n=lO(n)?n:this.currentOrDefault(e);const i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:e,newSelection:t.newSelection,value:i}}currentOrDefault(t){return lO(this.dataItem)&&-1!==t?this.dataItem:this.defaultItem}firstFocusableIndex(t){const e=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(t)?t<e?this.firstFocusableIndex(t+1):void 0:t}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){this.selectionService.change(this.selectionService.selected[0]),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(t){const e=!lO(this.valueField)!=!lO(this.textField);if(me()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error(BO.defaultItem);if(!0===this.valuePrimitive&&lO(t)&&"object"==typeof t)throw new Error(BO.primitive);if(!1===this.valuePrimitive&&lO(t)&&"object"!=typeof t)throw new Error(BO.object);if(e)throw new Error(BO.textAndValue)}}componentBlur(){this.isFocused=!1,this.selectionService.change(this.selectionService.selected[0]),this.onBlur.emit(),this.onTouchedCallback()}onMouseDown(t){"input"!==t.target.tagName.toLowerCase()&&t.preventDefault()}onKeyPress(t){if(0===t.which||t.keyCode===iO.enter)return;let e=String.fromCharCode(t.charCode||t.keyCode);this.ignoreCase&&(e=e.toLowerCase())," "===e&&t.preventDefault(),this.word+=e,this.last=e,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let t=this.dataService.filter(t=>lO(t)&&!t.header&&!this.disabledItemsService.isItemDisabled(t)).map(t=>this.dataService.grouped?{item:t.value,itemIndex:t.offsetIndex}:{item:t,itemIndex:this.dataService.indexOf(t)});const e=fO(this.word,this.last);let n,i,l,s=t.length,r=!isNaN(this.selectionService.selected[0]),o=r?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(l={item:this.defaultItem,itemIndex:-1},s+=1,o+=1),t=bO(t,o+=e&&r?1:0,l),i=0;i<s;i++){n=gO(t[i].item,this.textField);const l=Boolean(e&&vO(n,this.last,this.ignoreCase)),s=Boolean(vO(n,this.word,this.ignoreCase));if(l||s){i=t[i].itemIndex;break}}i!==s&&this.navigate(i)}emitChange(t){this.onChangeCallback(t),this.valueChange.emit(t)}navigate(t){this.selectionService.select(t)}prop(t,e){return n=>lO(n)?e?t&&cO(n)?n[t]:n:n[t]:null}findDataItem({primitive:t,valueField:e,value:n}){const i={dataItem:null,index:-1},l=this.prop(e,t);let s;const r=this.dataService.findIndex(s=this.dataService.grouped?t=>l(t.value)===l(n):t=>l(t)===l(n));return i.dataItem=this.dataService.itemAt(r),i.index=r,i}setState(){const t=this.value,e=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){const n=this.prop(e,i)(this.defaultItem),l=this.prop(e,i)(t);if(!lO(t)||l===n)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const l=this.findDataItem({primitive:i,valueField:e,value:t}),s=!(i&&n);l.dataItem?(this.updateState({dataItem:l.dataItem,confirm:!0}),this.resetSelection(l.index)):lO(t)&&s?(this.updateState({dataItem:t}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(t){this.filterChange.emit(t.target.value)}pageChange(t){this.virtual.skip=t.skip}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}class jO{constructor(t){this.templateRef=t}}class HO extends AO{constructor(t){super(),this.dataItem=t}}class WO{constructor(t,e,n,i,l,s,r,o,a,u,c,h){this.localization=t,this.popupService=e,this.dataService=n,this.selectionService=i,this.navigationService=l,this.disabledItemsService=s,this.cdr=r,this.differs=o,this.renderer=a,this.hostElement=u,this._zone=c,this.touchEnabled=h,this.listBoxId=rO(),this.tagListId=rO(),this.tagPrefix="tag-"+rO(),this.optionPrefix="option-"+rO(),this.focusedTagIndex=void 0,this.focusableId=`k-${rO()}`,this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=t=>t||[],this.allowCustom=!1,this.valueNormalizer=t=>t.pipe(U(t=>{const e=e=>"string"==typeof e&&t.toLowerCase()===e.toLowerCase();return this.value.find(e)||this.dataService.find(e)||t})),this.filterChange=new os,this.valueChange=new os,this.open=new os,this.close=new os,this.onFocus=new os,this.onBlur=new os,this.removeTag=new os,this.widgetClasses=!0,this.onChangeCallback=t=>{},this.onTouchedCallback=t=>{},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this.isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new A,this.observableSubscriptions=new m,this.hostElement=u.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents()}focus(){this.disabled||this.searchbar.focus()}onSearchBarFocus(){this.isFocused||(this.isFocused=!0,this.onFocus.emit())}blur(){this.disabled||this.searchbar.blur()}onSearchBarBlur(){this.isFocused&&(this.closePopup(),this.isFocused=!1,this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback())}wrapperMousedown(t){if(0===t.button){if(this.isFocused&&this.isOpen&&t.target===this.searchbar.input.nativeElement)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==t.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),t.preventDefault()}}onMouseDown(t){t.preventDefault()}onResize(){if(this._open){const t=this.popupRef.popupElement,{min:e,max:n}=this.width;t.style.minWidth=e,t.style.width=n}}get appendTo(){const{appendTo:t}=this.popupSettings;if(t&&"root"!==t)return"component"===t?this.container:t}set data(t){this.dataService.data=t||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value)}get data(){const t=this.virtual;if(t){const e=t.skip||0,n=e+t.pageSize;return t.total=this.dataService.data.length,this.dataService.data.slice(e,n)}return this.dataService.data}set value(t){this._value=t||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create())}get value(){return this._value}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}set placeholder(t){this._placeholder=t||""}get placeholder(){return this.selectedDataItems.length?"":this._placeholder}set itemDisabled(t){if("function"!=typeof t)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(t)}.`);this.disabledItemsService.itemDisabled=t}set virtual(t){this._virtualSettings=FO(t)}get virtual(){return this._virtualSettings}set popupSettings(t){this._popupSettings=Object.assign({animate:!0},t)}get popupSettings(){return this._popupSettings}get dir(){return this.direction}get focusedClass(){return this.isFocused}get disabledClass(){return this.disabled}get listContainerClasses(){const t=["k-list-container","k-reset"];return this.popupSettings.popupClass&&t.push(this.popupSettings.popupClass),t}get width(){let t=0;of()&&(t=this.wrapper.nativeElement.offsetWidth);const e=this.popupSettings.width||t;return{min:isNaN(t)?t:`${t}px`,max:isNaN(e)?e:`${e}px`}}get height(){const t=this.popupSettings.height;return lO(t)?`${t}px`:"auto"}get activeDescendant(){const t=this.focusedTagIndex,e=this.selectionService.focused;let n,i;if(lO(t)&&!this.isOpen)i=this.tags[t],n=this.tagPrefix;else{if(!lO(e)||-1===e||!this.isOpen)return null;i=this.dataService.itemAt(e),n=this.optionPrefix}return n+"-"+this.prop(this.valueField,this.valuePrimitive)(i)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}verifySettings(){const t=!lO(this.valueField)!=!lO(this.textField);if(me()&&0!==this.value.length){if(!uO(this.value))throw new Error(RO.array);if(!0===this.valuePrimitive&&pO(this.value))throw new Error(RO.primitive);if(!1===this.valuePrimitive&&!pO(this.value))throw new Error(RO.object);if(t)throw new Error(RO.textAndValue)}}change(t){if(!lO(t.added)&&!lO(t.removed)||-1!==t.added&&-1!==t.removed){if(lO(t.added)){const e=this.dataService.itemAt(t.added),n=this.valuePrimitive&&lO(e)&&lO(e[this.valueField])?e[this.valueField]:e;this.value=[...this.value,n],this.cdr.markForCheck()}if(lO(t.removed)){const e=this.dataService.itemAt(t.removed),n=this.prop(this.valueField,this.valuePrimitive),i=t=>n(t)!==n(e);this.value=this.value.filter(i),this.selectedDataItems=this.selectedDataItems.filter(i),this.tags=this.tagMapper(this.selectedDataItems.slice()),this.cdr.detectChanges()}this.emitValueChange()}else this.addCustomValue(this.text)}setState(t){const e=pO(t);let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(t=>!t.header).map(t=>t.value));const i=mO(this.value,n,this.valueField);if(this.selectionService.resetSelection(i),this.isOpen&&void 0===this.selectionService.focused&&(this.selectionService.focused=this.dataService.itemsCount?this.firstFocusableIndex(0):this.allowCustom?-1:void 0),!this.text&&(lO(t)&&t.length||(this.selectedDataItems=[]),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=t.slice()),(e||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=dO(t,n,this.valueField)),this.selectedDataItems.length<t.length)){const e=this.prop(this.valueField,this.valuePrimitive),n=t.map(t=>{const n=this.selectedDataItems.find(n=>e(n)===e(t));return lO(n)?n:this.resolveDataItemFromTags(t)}).filter(t=>lO(t));this.selectedDataItems=n}this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}handleFilter(t){this.text=t,t&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(t):this.searchTextAndFocus(t),this.searchbar.setInputSize()}pageChange(t){this.virtual.skip=t.skip}clearFilter(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}handleNavigate(t){const e=this.text&&t.keyCode!==iO.down&&t.keyCode!==iO.up,n=this.text&&t.keyCode===iO.enter||t.keyCode===iO.esc;if(!this.text&&t.keyCode===iO.backspace&&this.tags.length>0)return void this.handleBackspace();if(this.disabled||e&&!n)return;const i=t,l=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,s=this.navigationService.process({current:l,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:i});s!==_O.Undefined&&(s===_O.Enter&&this.isOpen||s!==_O.Enter)&&t.preventDefault()}handleRemoveTag(t){const e=new HO(t);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(e),e.isDefaultPrevented()||(t instanceof Array?this.removeGroupTag(t):this.removeSingleTag(t),this.cdr.detectChanges()))}clearAll(t){t.stopImmediatePropagation(),this.clearFilter(),this.reset(),this.emitValueChange()}addCustomValue(t){this.customValueSubject.next(t)}ngAfterContentChecked(){this.verifySettings()}ngDoCheck(){if(this.differ){const t=this.differ.diff(this.value);if(t&&!this.valueChangeDetected){if(this.selectedDataItems=this.getSelectedDataItems(t),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),!this.tags||!this.dataService.data)return;const e=t=>-1===this.dataService.indexOf(t),n=t=>this.selectionService.isSelected(this.dataService.indexOf(t));this.selectedDataItems.some(t=>!(e(t)||n(t)))&&this.setState(this.value)}}this.valueChangeDetected=!1}ngOnInit(){this.renderer.removeAttribute(this.hostElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:t})=>{this.direction=t?"rtl":"ltr",this.setMessages()}),this.setMessages()}ngOnChanges(t){const e=this.virtual;e&&t.data&&t.data.isFirstChange()&&this.pageChange({skip:0,take:e.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),af("valueNormalizer",t)&&this.createCustomValueStream(),t.hasOwnProperty("value")&&(this.valueChangeDetected=!0),/(data|textField|valueField|valuePrimitive|value)/g.test(Object.keys(t).join())&&this.setState(this.value)}ngAfterViewInit(){this.searchbar.setInputSize()}ngOnDestroy(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}toggle(t){Promise.resolve(null).then(()=>{this._toggle(void 0===t?!this._open:t),this.cdr.markForCheck()})}get isOpen(){return this._open}reset(){this.text="",this.value=[],this.selectedDataItems=[],this.setState([]),this.cdr.markForCheck()}writeValue(t){this.value=t||[],this.setState(this.value),this.verifySettings()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}onTagMapperChange(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}prop(t,e){return n=>lO(n)?e?t&&cO(n)?n[t]:n:n[t]:null}subscribeEvents(){if(!of())return;const t=()=>this.isOpen,e=()=>!this.isOpen,n=()=>!this.isOpen&&void 0!==this.focusedTagIndex;[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe(lc(t)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe(lc(t)).subscribe(t=>this.handleUp(t.index)),this.navigationService.home.pipe(lc(()=>e)).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe(lc(()=>e)).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe(lc(n)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe(lc(n)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe(this.handleLeftKey.bind(this)),this.navigationService.right.subscribe(this.handleRightKey.bind(this)),this.navigationService.down.subscribe(t=>this.handleDownKey(t.index))].forEach(t=>this.observableSubscriptions.add(t))}unsubscribeEvents(){of()&&(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe())}removeGroupTag(t){const e=this.prop(this.valueField,this.valuePrimitive);let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(t=>!t.header).map(t=>t.value));const i=new Set(t.map(t=>e(t)));this.value=this.value.filter(t=>!i.has(e(t))),this.selectedDataItems=this.selectedDataItems.filter(t=>!i.has(e(t)));const l=mO(this.value,n,this.valueField);this.selectionService.resetSelection(l),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}removeSingleTag(t){const e=this.prop(this.valueField,this.valuePrimitive);let n=this.dataService.data;this.dataService.grouped&&(n=n.filter(t=>!t.header).map(t=>t.value));const i=mO([t],n,this.valueField)[0];if(sO(i))this.selectionService.unselect(i),this.togglePopup(!1);else{const n=n=>e(n)!==e(t);this.value=this.value.filter(n),this.selectedDataItems=this.selectedDataItems.filter(n),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}}createCustomValueStream(){this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(dc(()=>{this.loading=!0,this.disabled=!0,this.cdr.detectChanges()}),this.valueNormalizer,xc(()=>(this.loading=!1,this.disabled=!1,this.clearFilter(),this.autoClose&&(this.togglePopup(!1),this.nextTick(()=>{this.searchbar.focus()})),this.createCustomValueStream(),Xu(null)))).subscribe(t=>{if(this.loading=!1,this.disabled=!1,this.clearFilter(),lO(t)){const e=this.valuePrimitive?gO(t,this.valueField):t,n=this.dataService.indexOf(e),i=-1===n;-1===this.value.indexOf(e)?(i?this.value=[...this.value,e]:this.selectionService.add(n),this.selectedDataItems=[...this.selectedDataItems,t]):!i&&this.selectionService.isSelected(n)?this.selectionService.unselect(n):(this.value.splice(this.value.indexOf(e),1),this.selectedDataItems=this.selectedDataItems.filter(t=>gO(t,this.valueField)!==e)),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.emitValueChange()}this.autoClose&&(this.togglePopup(!1),this.nextTick(()=>{this.searchbar.focus()}))})}handleItemChange(t){this.change(t),this.autoClose&&this.togglePopup(!1),lO(t.added)&&-1!==t.added&&this.clearFilter()}handleEnter(t){const e=this.selectionService,n=this.selectionService.focused;this.isOpen&&t.originalEvent.preventDefault(),-1!==n?(e.isSelected(n)?e.unselect(n):e.add(n),this.clearFilter(),this.autoClose&&this.togglePopup(!1)):this.allowCustom&&this.text&&this.addCustomValue(this.text)}handleClose(){this.closePopup(),this.searchbar.focus()}handleEnd(){this.focusedTagIndex=this.tags.length-1}handleHome(){this.focusedTagIndex=0}handleUp(t){this.selectionService.focused=t}handleBackspace(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag(this.tags[this.tags.length-1]),this.searchbar.focus())}handleDelete(){this.handleRemoveTag(this.tags[this.focusedTagIndex]),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}handleLeftKey(){"rtl"===this.direction&&(0===this.focusedTagIndex&&(this.focusedTagIndex=void 0),void 0===this.focusedTagIndex)||(void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--)}handleDownKey(t){this.isOpen?this.selectionService.focused=t||this.firstFocusableIndex(0):this.openPopup()}handleRightKey(){const t=this.tags.length-1;if("rtl"===this.direction){if(void 0===this.focusedTagIndex)return void(this.focusedTagIndex=0);if(this.focusedTagIndex===t)return}this.focusedTagIndex===t?this.focusedTagIndex=void 0:this.focusedTagIndex<t&&this.focusedTagIndex++}findIndex(t,e=0){let n;t=t.toLowerCase();let i=this.dataService.findIndex(e=>(n=this.dataService.grouped?this.prop(this.textField,this.valuePrimitive)(e.value):this.prop(this.textField,this.valuePrimitive)(e),n=lO(n)?n.toString().toLowerCase():"",t&&n.startsWith(t)),e);return this.disabledItemsService.isIndexDisabled(i)?i+1>this.dataService.itemsCount?-1:this.findIndex(t,i+1):i}searchTextAndFocus(t){const e=this.findIndex(t);this.selectionService.focused=e}closePopup(){this.togglePopup(!1),this.focusedTagIndex=void 0}openPopup(){this.togglePopup(!0),this.focusedTagIndex=void 0}togglePopup(t){this.disabled||this.readonly||this.isOpen===t||this.triggerPopupEvents(t)||this._toggle(t)}triggerPopupEvents(t){const e=new AO;return t?this.open.emit(e):this.close.emit(e),e.isDefaultPrevented()}_toggle(t){this._open=void 0===t?!this._open:t,this.destroyPopup(),this._open&&this.createPopup()}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}createPopup(){this.virtual&&(this.virtual.skip=0);const t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const e=this.popupRef.popupElement,{min:n,max:i}=this.width;e.addEventListener("mousedown",this.popupMouseDownHandler),e.style.minWidth=n,e.style.width=i,e.style.height=this.height,e.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>{this.togglePopup(!1)})}emitValueChange(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}getSelectedDataItems(t){const e=pO(this.data),n=this.prop(this.valueField,this.valuePrimitive);let i,l,s=[];return t.forEachItem(t=>{if(i=t.currentValue,-1!==(l=this.dataService.findIndex(this.dataService.grouped?t=>n(t.value)===n(i):t=>n(t)===n(i))))s.push(this.dataService.itemAt(l));else if(!lO(t)||e&&this.valuePrimitive){const t=this.resolveDataItemFromTags(i);lO(t)&&s.push(t)}else s.push(i)}),s}resolveDataItemFromTags(t){if(!(this.tags&&this.tags.length&&lO(t)))return;const e=this.tags.reduce((t,e)=>{const n=uO(e)?e:[e];return t.push(...n),t},[]),n=this.prop(this.valueField,this.valuePrimitive);return e.find(e=>n(e)===n(t))}firstFocusableIndex(t){const e=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(t)){const n=t+1;return n<e?this.firstFocusableIndex(n):void 0}return t}nextTick(t){this._zone.runOutsideAngular(()=>{setTimeout(()=>this._zone.run(t))})}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}class UO{constructor(){this.removeTag=new os}tagProp(t,e){return e&&cO(t)?t[e]:t}deleteTag(t,e){t.preventDefault(),t.stopImmediatePropagation(),this.disabled||1!==t.which||this.removeTag.emit(e)}itemId(t){if(t)return this.tagPrefix+"-"+this.tagProp(t,this.valueField)}isGroupTag(t){return t instanceof Array}}class $O{constructor(t){this.viewContainerRef=t}set templateContext(t){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),t.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(t.templateRef,t))}}class YO{constructor(t){this.multipleSelection=!1,this.selectionService=t}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return this.selectionService.isSelected(this.index)}onClick(t){t.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}}class qO extends Ib{}class GO extends qO{constructor(t){super(),this.service=t}}class XO{}class KO{}class ZO{}const QO={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},JO={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},tF={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},eF={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},nF=(t,e,n)=>{for(let i in e)if(e.hasOwnProperty(i)&&e[i].test(t))return i;return void 0!==n?n:t},iF=t=>{let e,n=[];for(let i in QO)if(QO.hasOwnProperty(i)){if(!(n=t.match(QO[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;const l={};return l.device=i,l.browser=nF(t,eF,"default"),l.name=nF(i,JO),l[l.name]=!0,l.majorVersion=n[2],l.minorVersion=n[3].replace("_","."),e=l.minorVersion.replace(".","").substr(0,2),l.flatVersion=l.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0"),l.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,l.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||l.cordova,l}return null},lF=t=>{let e=null,n=[];for(let i in tF)if(tF.hasOwnProperty(i)&&(n=t.match(tF[i]))){(e={})[i]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}return e},sF=aO()&&window.navigator?window.navigator.userAgent:null,rF=sF?lF(sF):null,oF=sF?iF(sF):null,aF=aO()&&"ontouchstart"in window,uF=rF&&!rF.chrome&&window.MSPointerEvent,cF=rF&&!rF.chrome&&window.PointerEvent,hF=oF&&(aF||uF||cF);class dF{}class pF{constructor(t,e){this.element=t,this.zone=e}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(t){this.zone.runOutsideAngular(()=>setTimeout(t))}}class mF{}class gF{}class fF{}const bF=()=>"undefined"!=typeof window,vF={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},yF={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},wF={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},xF={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},kF=(t,e,n)=>{for(let i in e)if(e.hasOwnProperty(i)&&e[i].test(t))return i;return void 0!==n?n:t},_F=bF()&&window.navigator?window.navigator.userAgent:null,CF=_F?(t=>{let e=null,n=[];for(let i in wF)if(wF.hasOwnProperty(i)&&(n=t.match(wF[i]))){(e={})[i]=!0,e[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,e.version=parseInt(document.documentMode||n[2],10);break}return e})(_F):null,TF=_F?(t=>{let e,n=[];for(let i in vF)if(vF.hasOwnProperty(i)){if(!(n=t.match(vF[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;const l={};return l.device=i,l.browser=kF(t,xF,"default"),l.name=kF(i,yF),l[l.name]=!0,l.majorVersion=n[2],l.minorVersion=n[3].replace("_","."),e=l.minorVersion.replace(".","").substr(0,2),l.flatVersion=l.majorVersion+e+new Array(3-(e.length<3?e.length:2)).join("0"),l.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,l.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||l.cordova,l}return null})(_F):null;bF()&&window,CF&&!CF.chrome&&window,CF&&!CF.chrome&&window;var SF={extend:function(t){for(let e in this)"extend"!==e&&(t[e]=this[e])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(t){return this._observers?this._observers.push(t):this._observers=[t],this},removeObserver:function(t){const e=this.observers(),n=e.indexOf(t);return-1!==n&&e.splice(n,1),this},trigger:function(t,e){const n=this._observers;if(n&&!this._suspended)for(let i=0;i<n.length;i++){let l=n[i];l[t]&&l[t](e)}return this},optionsChange:function(t={}){t.element=this,this.trigger("optionsChange",t)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(t,e){this[t]&&this[t].removeObserver(this),this[t]=e,e.addObserver(this)}};const MF="undefined"!=typeof window?window:{},PF=MF.requestAnimationFrame||MF.webkitRequestAnimationFrame||MF.mozRequestAnimationFrame||MF.oRequestAnimationFrame||MF.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};function AF(t){PF.call(MF,t)}class EF{}const IF=/&/g,DF=/</g,OF=/"/g,FF=/'/g,NF=/>/g;function RF(t){return String(t).replace(IF,"&amp;").replace(DF,"&lt;").replace(NF,"&gt;").replace(OF,"&quot;").replace(FF,"&#39;")}function LF(t){return"function"==typeof t}function BF(t){return"string"==typeof t?[t]:t}function VF(){this._defaultPrevented=!0}function zF(){return!0===this._defaultPrevented}var jF=class extends EF{constructor(){super(),this._events={}}bind(t,e,n){const i=BF(t),l=LF(e),s=i.length;if(void 0===e){for(let e in t)this.bind(e,t[e]);return this}for(let r=0;r<s;r++){const t=i[r];let s=l?e:e[t];if(s){if(n){const e=s;(s=()=>{this.unbind(t,s),e.apply(this,arguments)}).original=e}(this._events[t]=this._events[t]||[]).push(s)}}return this}one(t,e){return this.bind(t,e,!0)}first(t,e){const n=BF(t),i=LF(e);for(let l=0,s=n.length;l<s;l++){const t=n[l],s=i?e:e[t];s&&(this._events[t]=this._events[t]||[]).unshift(s)}return this}trigger(t,e={}){let n=this._events[t];if(n){const t=n.length;e.sender=this,e._defaultPrevented=!1,e.preventDefault=VF,e.isDefaultPrevented=zF,n=n.slice();for(let i=0;i<t;i++)n[i].call(this,e);return!0===e._defaultPrevented}return!1}unbind(t,e){const n=this._events[t];if(void 0===t)this._events={};else if(n)if(e)for(let i=n.length-1;i>=0;i--)n[i]!==e&&n[i].original!==e||n.splice(i,1);else this._events[t]=[];return this}};const HF={};"undefined"!=typeof window&&(HF.browser=function(t){const e={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};let n;for(let i in e)if(e.hasOwnProperty(i)){const l=t.match(e[i]);if(l){(n={})[i]=!0,n[l[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,n.version=parseInt(document.documentMode||l[2],10);break}}return n}(window.navigator.userAgent));var WF=HF;function UF(){return(new Date).getTime()}var $F={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};const YF=WF.browser;let qF=t=>{const e=Object.keys($F);e.push("transparent");const n=new RegExp("^("+e.join("|")+")(\\W|$)","i");return qF=t=>n.exec(t),n.exec(t)};class GF extends EF{constructor(){super()}toHSV(){return this}toRGB(){return this}toHex(){return this.toBytes().toHex()}toBytes(){return this}toCss(){return"#"+this.toHex()}toCssRgba(){const t=this.toBytes();return`rgba(${t.r}, ${t.g}, ${t.b}, ${parseFloat(Number(this.a).toFixed(3))})`}toDisplay(){return YF.msie&&YF.version<9?this.toCss():this.toCssRgba()}equals(t){return t===this||null!==t&&this.toCssRgba()===eN(t).toCssRgba()}diff(t){if(null===t)return NaN;const e=this.toBytes(),n=t.toBytes();return Math.sqrt(Math.pow(.3*(e.r-n.r),2)+Math.pow(.59*(e.g-n.g),2)+Math.pow(.11*(e.b-n.b),2))}clone(){let t=this.toBytes();return t===this&&(t=new KF(t.r,t.g,t.b,t.a)),t}}class XF extends GF{constructor(t,e,n,i){super(),this.r=t,this.g=e,this.b=n,this.a=i}toHSV(){const{r:t,g:e,b:n}=this,i=Math.min(t,e,n),l=Math.max(t,e,n),s=l-i,r=l;let o,a;return 0===s?new QF(0,0,r,this.a):(0!==l?(a=s/l,o=t===l?(e-n)/s:e===l?2+(n-t)/s:4+(t-e)/s,(o*=60)<0&&(o+=360)):(a=0,o=-1),new QF(o,a,r,this.a))}toHSL(){const{r:t,g:e,b:n}=this,i=Math.max(t,e,n),l=Math.min(t,e,n);let s,r,o=(i+l)/2;if(i===l)s=r=0;else{const a=i-l;switch(r=o>.5?a/(2-i-l):a/(i+l),i){case t:s=(e-n)/a+(e<n?6:0);break;case e:s=(n-t)/a+2;break;case n:s=(t-e)/a+4}}return new JF(60*s,100*r,100*o,this.a)}toBytes(){return new KF(255*this.r,255*this.g,255*this.b,this.a)}}class KF extends XF{constructor(t,e,n,i){super(Math.round(t),Math.round(e),Math.round(n),i)}toRGB(){return new XF(this.r/255,this.g/255,this.b/255,this.a)}toHSV(){return this.toRGB().toHSV()}toHSL(){return this.toRGB().toHSL()}toHex(){return ZF(this.r,2)+ZF(this.g,2)+ZF(this.b,2)}toBytes(){return this}}function ZF(t,e,n="0"){let i=t.toString(16);for(;e>i.length;)i=n+i;return i}class QF extends GF{constructor(t,e,n,i){super(),this.h=t,this.s=e,this.v=n,this.a=i}toRGB(){let t,e,n,{h:i,s:l,v:s}=this;if(0===l)t=e=n=s;else{i/=60;const r=Math.floor(i),o=i-r,a=s*(1-l),u=s*(1-l*o),c=s*(1-l*(1-o));switch(r){case 0:t=s,e=c,n=a;break;case 1:t=u,e=s,n=a;break;case 2:t=a,e=s,n=c;break;case 3:t=a,e=u,n=s;break;case 4:t=c,e=a,n=s;break;default:t=s,e=a,n=u}}return new XF(t,e,n,this.a)}toHSL(){return this.toRGB().toHSL()}toBytes(){return this.toRGB().toBytes()}}class JF extends GF{constructor(t,e,n,i){super(),this.h=t,this.s=e,this.l=n,this.a=i}toRGB(){let t,e,n,i=this.h/360,l=this.s/100,s=this.l/100;if(0===l)t=e=n=s;else{const r=s<.5?s*(1+l):s+l-s*l,o=2*s-r;t=tN(o,r,i+1/3),e=tN(o,r,i),n=tN(o,r,i-1/3)}return new XF(t,e,n,this.a)}toHSV(){return this.toRGB().toHSV()}toBytes(){return this.toRGB().toBytes()}}function tN(t,e,n){let i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function eN(t,e){let n,i;if(null==t||"none"===t)return null;if(t instanceof GF)return t;let l=t.toLowerCase();if(n=qF(l))return(l="transparent"===n[1]?new XF(1,1,1,0):eN($F[n[1]],e)).match=[n[1]],l;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(l))?i=new KF(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(l))?i=new KF(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(l))?i=new KF(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(l))?i=new KF(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(l))?i=new XF(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(l))&&(i=new XF(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4]))),i)i.match=n;else if(!e)throw new Error("Cannot parse color: "+l);return i}function nN(t,e){return t.push.apply(t,e),t}const iN={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function lN(t){const e=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1];let n="";for(;t>0;)t<e[0]?e.shift():(n+=iN[e[0]],t-=e[0]);return n}function sN(){let t,e;const n=new Promise((i,l)=>{t=t=>(n._state="resolved",i(t),n),e=t=>(n._state="rejected",l(t),n)});return n._state="pending",n.resolve=t,n.reject=e,n.state=()=>n._state,n}const rN="undefined";function oN(t){return typeof t!==rN}let aN=1;function uN(){return"kdef"+aN++}const cN=Math.PI/180,hN=Number.MAX_VALUE,dN=-Number.MAX_VALUE;function pN(t){return t/cN}function mN(t){return""===t||null===t||"none"===t||"transparent"===t||!oN(t)}function gN(t){if(t)return t[t.length-1]}function fN(t,e){return t.length<2?t.slice():function t(n){if(n.length<=1)return n;var i=Math.floor(n.length/2),l=n.slice(0,i),s=n.slice(i);return function(t,n){for(var i=[],l=0,s=0,r=0;l<t.length&&s<n.length;)e(t[l],n[s])<=0?i[r++]=t[l++]:i[r++]=n[s++];return l<t.length&&i.push.apply(i,t.slice(l)),s<n.length&&i.push.apply(i,n.slice(s)),i}(l=t(l),s=t(s))}(t)}function bN(t){return t*cN}function vN(t,e){const n=(i=e)?Math.pow(10,i):1;var i;return Math.round(t*n)/n}function yN(t,e){return oN(t)?t:e}function wN(t,e){for(let n in e){const i=n.trim().split(" ");for(let l=0;l<i.length;l++)t.addEventListener(i[l],e[n],!1)}}function xN(t,e){const n={},i=window.getComputedStyle(t)||{},l=Array.isArray(e)?e:[e];for(let s=0;s<l.length;s++){let t=l[s];n[t]=i[t]}return n}function kN(t){return isNaN(t)?t:t+"px"}function _N(t,e){if(!e){const e=xN(t,["width","height"]);return{width:parseInt(e.width,10),height:parseInt(e.height,10)}}{const{width:n,height:i}=e;oN(n)&&(t.style.width=kN(n)),oN(i)&&(t.style.height=kN(i))}}function CN(t,e={}){for(let n in e){const i=n.trim().split(" ");for(let l=0;l<i.length;l++)t.removeEventListener(i[l],e[n],!1)}}var TN=class extends EF{constructor(t){super(),this._size=t,this._length=0,this._map={}}put(t,e){const n=this._map,i={key:t,value:e};n[t]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}get(t){const e=this._map[t];if(e)return e===this._head&&e!==this._tail&&(this._head=e.newer,this._head.older=null),e!==this._tail&&(e.older&&(e.older.newer=e.newer,e.newer.older=e.older),e.older=this._tail,e.newer=null,this._tail.newer=e,this._tail=e),e.value}};const SN=/\r?\n|\r|\t/g,MN=" ";function PN(t){return String(t).replace(SN,MN)}const AN={baselineMarkerSize:1};let EN;"undefined"!=typeof document&&((EN=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var IN=(()=>{class t extends EF{constructor(t){super(),this._cache=new TN(1e3),this.options=Object.assign({},AN,t)}measure(t,e,n={}){if(!t)return{width:0,height:0,baseline:0};const i=function(t){let e=2166136261;for(let n=0;n<t.length;++n)e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24),e^=t.charCodeAt(n);return e>>>0}(t+function(t){const e=[];for(let n in t)e.push(n+t[n]);return e.sort().join("")}(e)),l=this._cache.get(i);if(l)return l;const s={width:0,height:0,baseline:0},r=n.box||EN,o=this._baselineMarker().cloneNode(!1);for(let u in e){let t=e[u];void 0!==t&&(r.style[u]=t)}const a=!1!==n.normalizeText?PN(t):String(t);return r.textContent=a,r.appendChild(o),document.body.appendChild(r),a.length&&(s.width=r.offsetWidth-this.options.baselineMarkerSize,s.height=r.offsetHeight,s.baseline=o.offsetTop+this.options.baselineMarkerSize),s.width>0&&s.height>0&&this._cache.put(i,s),r.parentNode.removeChild(r),s}_baselineMarker(){const t=document.createElement("div");return t.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",t}}return t.current=new t,t})();function DN(t,e,n){return IN.current.measure(t,e,n)}const ON={}.toString;class FN extends EF{constructor(t,e=""){super(),this.prefix=e;for(let n in t){let e=t[n];e=this._wrap(e,n),this[n]=e}}get(t){const e=t.split(".");let n=this;for(;e.length&&n;)n=n[e.shift()];return n}set(t,e){this.get(t)!==e&&(this._set(t,this._wrap(e,t)),this.optionsChange({field:this.prefix+t,value:e}))}_set(t,e){const n=t.indexOf(".")>=0;let i=this,l=t;if(n){const t=l.split(".");let e=this.prefix;for(;t.length>1;){e+=(l=t.shift())+".";let n=i[l];n||((n=new FN({},e)).addObserver(this),i[l]=n),i=n}l=t[0]}i._clear(l),i[l]=e}_clear(t){const e=this[t];e&&e.removeObserver&&e.removeObserver(this)}_wrap(t,e){const n=ON.call(t);let i=t;return null!==i&&oN(i)&&"[object Object]"===n&&(t instanceof FN||t instanceof EF||(i=new FN(i,this.prefix+e+".")),i.addObserver(this)),i}}SF.extend(FN.prototype);var NN=FN;function RN(t){return function(e){return this[t]!==e&&(this[t]=e,this.geometryChange()),this}}function LN(t){return function(){return this[t]}}function BN(t,e){for(let n=0;n<e.length;n++){let i=e[n],l=i.charAt(0).toUpperCase()+i.substring(1,i.length);t["set"+l]=RN(i),t["get"+l]=LN(i)}}var VN=(()=>{class t extends EF{constructor(t=0,e=0,n=0,i=0,l=0,s=0){super(),this.a=t,this.b=e,this.c=n,this.d=i,this.e=l,this.f=s}multiplyCopy(e){return new t(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}invert(){const{a:e,b:n,c:i,d:l,e:s,f:r}=this,o=e*l-n*i;return 0===o?null:new t(l/o,-n/o,-i/o,e/o,(i*r-l*s)/o,(n*s-e*r)/o)}clone(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)}equals(t){return!!t&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}round(t){return this.a=vN(this.a,t),this.b=vN(this.b,t),this.c=vN(this.c,t),this.d=vN(this.d,t),this.e=vN(this.e,t),this.f=vN(this.f,t),this}toArray(t){const e=[this.a,this.b,this.c,this.d,this.e,this.f];if(oN(t))for(let n=0;n<e.length;n++)e[n]=vN(e[n],t);return e}toString(t,e=","){return this.toArray(t).join(e)}static translate(e,n){return new t(1,0,0,1,e,n)}static unit(){return new t(1,0,0,1,0,0)}static rotate(e,n,i){const l=new t;return l.a=Math.cos(bN(e)),l.b=Math.sin(bN(e)),l.c=-l.b,l.d=l.a,l.e=n-n*l.a+i*l.b||0,l.f=i-i*l.a-n*l.b||0,l}static scale(e,n){return new t(e,0,0,n,0,0)}}return t.IDENTITY=t.unit(),t})();function zN(t){return t&&"function"==typeof t.matrix?t.matrix():t}class jN extends EF{constructor(t,e){super(),this.x=t||0,this.y=e||0}equals(t){return t&&t.x===this.x&&t.y===this.y}clone(){return new jN(this.x,this.y)}rotate(t,e){const n=jN.create(e)||jN.ZERO;return this.transform(VN.rotate(t,n.x,n.y))}translate(t,e){return this.x+=t,this.y+=e,this.geometryChange(),this}translateWith(t){return this.translate(t.x,t.y)}move(t,e){return this.x=this.y=0,this.translate(t,e)}scale(t,e=t){return this.x*=t,this.y*=e,this.geometryChange(),this}scaleCopy(t,e){return this.clone().scale(t,e)}transform(t){const e=zN(t),{x:n,y:i}=this;return this.x=e.a*n+e.c*i+e.e,this.y=e.b*n+e.d*i+e.f,this.geometryChange(),this}transformCopy(t){const e=this.clone();return t&&e.transform(t),e}distanceTo(t){const e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)}round(t){return this.x=vN(this.x,t),this.y=vN(this.y,t),this.geometryChange(),this}toArray(t){const e=oN(t);return[e?vN(this.x,t):this.x,e?vN(this.y,t):this.y]}toString(t,e=" "){let{x:n,y:i}=this;return oN(t)&&(n=vN(n,t),i=vN(i,t)),n+e+i}static create(t,e){if(oN(t))return t instanceof jN?t:1===arguments.length&&2===t.length?new jN(t[0],t[1]):new jN(t,e)}static min(){let t=hN,e=hN;for(let n=0;n<arguments.length;n++){let i=arguments[n];t=Math.min(i.x,t),e=Math.min(i.y,e)}return new jN(t,e)}static max(){let t=dN,e=dN;for(let n=0;n<arguments.length;n++){const i=arguments[n];t=Math.max(i.x,t),e=Math.max(i.y,e)}return new jN(t,e)}static minPoint(){return new jN(dN,dN)}static maxPoint(){return new jN(hN,hN)}static get ZERO(){return new jN(0,0)}}BN(jN.prototype,["x","y"]),SF.extend(jN.prototype);var HN=jN;class WN extends EF{constructor(t,e){super(),this.width=t||0,this.height=e||0}equals(t){return t&&t.width===this.width&&t.height===this.height}clone(){return new WN(this.width,this.height)}toArray(t){const e=oN(t);return[e?vN(this.width,t):this.width,e?vN(this.height,t):this.height]}static create(t,e){if(oN(t))return t instanceof WN?t:1===arguments.length&&2===t.length?new WN(t[0],t[1]):new WN(t,e)}static get ZERO(){return new WN(0,0)}}BN(WN.prototype,["width","height"]),SF.extend(WN.prototype);var UN=WN;class $N extends EF{constructor(t=new HN,e=new UN){super(),this.setOrigin(t),this.setSize(e)}clone(){return new $N(this.origin.clone(),this.size.clone())}equals(t){return t&&t.origin.equals(this.origin)&&t.size.equals(this.size)}setOrigin(t){return this._observerField("origin",HN.create(t)),this.geometryChange(),this}getOrigin(){return this.origin}setSize(t){return this._observerField("size",UN.create(t)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(t){const e=this.topLeft().transformCopy(t),n=this.topRight().transformCopy(t),i=this.bottomRight().transformCopy(t),l=this.bottomLeft().transformCopy(t);return $N.fromPoints(e,n,i,l)}transformCopy(t){return $N.fromPoints(this.topLeft().transform(t),this.bottomRight().transform(t))}expand(t,e=t){return this.size.width+=2*t,this.size.height+=2*e,this.origin.translate(-t,-e),this}expandCopy(t,e){return this.clone().expand(t,e)}containsPoint(t){const e=this.origin,n=this.bottomRight();return!(t.x<e.x||t.y<e.y||n.x<t.x||n.y<t.y)}_isOnPath(t,e){const n=this.expandCopy(e,e),i=this.expandCopy(-e,-e);return n.containsPoint(t)&&!i.containsPoint(t)}static fromPoints(){const t=HN.min.apply(null,arguments),e=HN.max.apply(null,arguments),n=new UN(e.x-t.x,e.y-t.y);return new $N(t,n)}static union(t,e){return $N.fromPoints(HN.min(t.topLeft(),e.topLeft()),HN.max(t.bottomRight(),e.bottomRight()))}static intersect(t,e){const n={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y},i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y};if(n.left<=i.right&&i.left<=n.right&&n.top<=i.bottom&&i.top<=n.bottom)return $N.fromPoints(new HN(Math.max(n.left,i.left),Math.max(n.top,i.top)),new HN(Math.min(n.right,i.right),Math.min(n.bottom,i.bottom)))}}SF.extend($N.prototype);var YN=$N;class qN extends EF{constructor(t=VN.unit()){super(),this._matrix=t}clone(){return new qN(this._matrix.clone())}equals(t){return t&&t._matrix.equals(this._matrix)}translate(t,e){return this._matrix=this._matrix.multiplyCopy(VN.translate(t,e)),this._optionsChange(),this}scale(t,e=t,n=null){let i=n;return i&&(i=HN.create(i),this._matrix=this._matrix.multiplyCopy(VN.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(VN.scale(t,e)),i&&(this._matrix=this._matrix.multiplyCopy(VN.translate(-i.x,-i.y))),this._optionsChange(),this}rotate(t,e){const n=HN.create(e)||HN.ZERO;return this._matrix=this._matrix.multiplyCopy(VN.rotate(t,n.x,n.y)),this._optionsChange(),this}multiply(t){const e=zN(t);return this._matrix=this._matrix.multiplyCopy(e),this._optionsChange(),this}matrix(t){return t?(this._matrix=t,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}SF.extend(qN.prototype);var GN=qN;function XN(t){return null===t?null:t instanceof GN?t:new GN(t)}class KN extends EF{constructor(t){super(),this._initOptions(t)}_initOptions(t={}){const{clip:e,transform:n}=t;n&&(t.transform=XN(n)),e&&!e.id&&(e.id=uN()),this.options=new NN(t),this.options.addObserver(this)}transform(t){if(!oN(t))return this.options.get("transform");this.options.set("transform",XN(t))}parentTransform(){let t,e=this;for(;e.parent;){let n=(e=e.parent).transform();n&&(t=n.matrix().multiplyCopy(t||VN.unit()))}if(t)return XN(t)}currentTransform(t=this.parentTransform()){const e=zN(this.transform());let n,i=zN(t);if(n=e&&i?i.multiplyCopy(e):e||i)return XN(n)}visible(t){return oN(t)?(this.options.set("visible",t),this):!1!==this.options.get("visible")}clip(t){const e=this.options;return oN(t)?(t&&!t.id&&(t.id=uN()),e.set("clip",t),this):e.get("clip")}opacity(t){return oN(t)?(this.options.set("opacity",t),this):yN(this.options.get("opacity"),1)}clippedBBox(t){const e=this._clippedBBox(t);if(e){const n=this.clip();return n?YN.intersect(e,n.bbox(t)):e}}containsPoint(t,e){if(this.visible()){const n=this.currentTransform(e);let i=t;return n&&(i=t.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}_hasFill(){const t=this.options.fill;return t&&!mN(t.color)}_hasStroke(){const t=this.options.stroke;return t&&t.width>0&&!mN(t.color)}_clippedBBox(t){return this.bbox(t)}}KN.prototype.nodeType="Element",SF.extend(KN.prototype);var ZN=KN;function QN(t,e,n,i){let l=0,s=0;return i&&(l=Math.atan2(i.c*n,i.a*e),0!==i.b&&(s=Math.atan2(i.d*n,i.b*e))),{x:l,y:s}}const JN=Math.PI/2;class tR extends EF{constructor(t=new HN,e=0){super(),this.setCenter(t),this.setRadius(e)}setCenter(t){return this._observerField("center",HN.create(t)),this.geometryChange(),this}getCenter(){return this.center}equals(t){return t&&t.center.equals(this.center)&&t.radius===this.radius}clone(){return new tR(this.center.clone(),this.radius)}pointAt(t){return this._pointAt(bN(t))}bbox(t){const e=QN(0,this.radius,this.radius,t);let n=HN.maxPoint(),i=HN.minPoint();for(let l=0;l<4;l++){let s=this._pointAt(e.x+l*JN).transformCopy(t),r=this._pointAt(e.y+l*JN).transformCopy(t),o=new HN(s.x,r.y);n=HN.min(n,o),i=HN.max(i,o)}return YN.fromPoints(n,i)}_pointAt(t){const{center:e,radius:n}=this;return new HN(e.x+n*Math.cos(t),e.y+n*Math.sin(t))}containsPoint(t){const{center:e,radius:n}=this;return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(n,2)}_isOnPath(t,e){const{center:n,radius:i}=this,l=n.distanceTo(t);return i-e<=l&&l<=i+e}}BN(tR.prototype,["radius"]),SF.extend(tR.prototype);var eR=tR,nR={extend:function(t){t.fill=this.fill,t.stroke=this.stroke},fill:function(t,e){const n=this.options;if(oN(t)){if(t&&"Gradient"!==t.nodeType){const i={color:t};oN(e)&&(i.opacity=e),n.set("fill",i)}else n.set("fill",t);return this}return n.get("fill")},stroke:function(t,e,n){return oN(t)?(this.options.set("stroke.color",t),oN(e)&&this.options.set("stroke.width",e),oN(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}};const iR=VN.IDENTITY.toString();var lR={extend:function(t){t.bbox=this.bbox,t.geometryChange=this.geometryChange},bbox:function(t){const e=zN(this.currentTransform(t)),n=e?e.toString():iR;let i;this._bboxCache&&this._matrixHash===n?i=this._bboxCache.clone():(i=this._bbox(e),this._bboxCache=i?i.clone():null,this._matrixHash=n);const l=this.options.get("stroke.width");return l&&i&&i.expand(l/2),i},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function sR(t){const e="_"+t;return function(t){return oN(t)?(this._observerField(e,t),this.geometryChange(),this):this[e]}}function rR(t,e){for(let n=0;n<e.length;n++)t[e[n]]=sR(e[n])}const oR="#000";class aR extends ZN{constructor(t=new eR,e={}){super(e),this.geometry(t),oN(this.options.stroke)||this.stroke(oR)}rawBBox(){return this._geometry.bbox()}_bbox(t){return this._geometry.bbox(t)}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}aR.prototype.nodeType="Circle",nR.extend(aR.prototype),lR.extend(aR.prototype),rR(aR.prototype,["geometry"]);var uR=aR;const cR=10;function hR(t,e,n=cR){return 0===vN(Math.abs(t-e),n)}function dR(t,e,n){return t<e||hR(t,e,n)}const pR=45,mR=Math.pow;class gR extends EF{constructor(t=new HN,e={}){super(),this.setCenter(t),this.radiusX=e.radiusX,this.radiusY=e.radiusY||e.radiusX,this.startAngle=e.startAngle,this.endAngle=e.endAngle,this.anticlockwise=e.anticlockwise||!1,this.xRotation=e.xRotation}clone(){return new gR(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}setCenter(t){return this._observerField("center",HN.create(t)),this.geometryChange(),this}getCenter(){return this.center}pointAt(t){const e=this.center,n=bN(t);return new HN(e.x+this.radiusX*Math.cos(n),e.y+this.radiusY*Math.sin(n))}curvePoints(){const t=this.startAngle,e=this.anticlockwise?-1:1,n=[this.pointAt(t)],i=this._arcInterval(),l=i.endAngle-i.startAngle,s=Math.ceil(l/pR),r=l/s;let o,a=t;this.xRotation&&(o=XN().rotate(this.xRotation,this.center));for(let u=1;u<=s;u++){const t=a+e*r,i=this._intervalCurvePoints(a,t,o);n.push(i.cp1,i.cp2,i.p2),a=t}return n}bbox(t){const e=this._arcInterval(),n=e.startAngle,i=e.endAngle,l=QN(0,this.radiusX,this.radiusY,t),s=pN(l.x),r=pN(l.y),o=this.pointAt(i).transformCopy(t);let a=bR(s,n),u=bR(r,n),c=this.pointAt(n).transformCopy(t),h=HN.min(c,o),d=HN.max(c,o);for(;a<i||u<i;){let e,n;a<i&&(e=this.pointAt(a).transformCopy(t),a+=90),u<i&&(n=this.pointAt(u).transformCopy(t),u+=90),c=new HN(e.x,n.y),h=HN.min(h,c),d=HN.max(d,c)}return YN.fromPoints(h,d)}_arcInterval(){let{startAngle:t,endAngle:e,anticlockwise:n}=this;if(n){let n=t;t=e,e=n}return(t>e||n&&t===e)&&(e+=360),{startAngle:t,endAngle:e}}_intervalCurvePoints(t,e,n){const i=this.pointAt(t),l=this.pointAt(e),s=this._derivativeAt(t),r=this._derivativeAt(e),o=(bN(e)-bN(t))/3,a=new HN(i.x+o*s.x,i.y+o*s.y),u=new HN(l.x-o*r.x,l.y-o*r.y);return n&&(i.transform(n),l.transform(n),a.transform(n),u.transform(n)),{p1:i,cp1:a,cp2:u,p2:l}}_derivativeAt(t){const e=bN(t);return new HN(-this.radiusX*Math.sin(e),this.radiusY*Math.cos(e))}containsPoint(t){const e=this._arcInterval(),n=e.endAngle-e.startAngle,{center:i,radiusX:l,radiusY:s}=this,r=i.distanceTo(t),o=Math.atan2(t.y-i.y,t.x-i.x),a=l*s/Math.sqrt(mR(l,2)*mR(Math.sin(o),2)+mR(s,2)*mR(Math.cos(o),2)),u=this.pointAt(this.startAngle).round(cR),c=this.pointAt(this.endAngle).round(cR),h=function(t,e,n,i){const l=e.x-t.x,s=i.x-n.x,r=e.y-t.y,o=i.y-n.y,a=t.x-n.x,u=t.y-n.y,c=l*o-s*r,h=(l*u-r*a)/c,d=(s*u-o*a)/c;if(h>=0&&h<=1&&d>=0&&d<=1)return new HN(t.x+d*l,t.y+d*r)}(i,t.round(cR),u,c);let d;if(n<180)d=h&&dR(i.distanceTo(h),r)&&dR(r,a);else{let n=fR(i.x,i.y,l,s,t.x,t.y);360!==n&&(n=(360+n)%360);let o=e.startAngle<=n&&n<=e.endAngle;d=o&&dR(r,a)||!o&&(!h||h.equals(t))}return d}_isOnPath(t,e){const n=this._arcInterval(),i=this.center;let l=fR(i.x,i.y,this.radiusX,this.radiusY,t.x,t.y);return 360!==l&&(l=(360+l)%360),n.startAngle<=l&&l<=n.endAngle&&this.pointAt(l).distanceTo(t)<=e}static fromPoints(t,e,n,i,l,s,r){const o=function(t){let{x1:e,y1:n,x2:i,y2:l,rx:s,ry:r,largeArc:o,swipe:a,rotation:u=0}=t;const c=bN(u),h=Math.cos(c),d=Math.sin(c),p=h*(e-i)/2+d*(n-l)/2,m=-d*(e-i)/2+h*(n-l)/2,g=o!==a?1:-1,f=Math.pow(p,2),b=Math.pow(m,2);let v=Math.pow(s,2),y=Math.pow(r,2),w=f/v+b/y;w>1&&(s*=w=Math.sqrt(f/v+b/y),v=Math.pow(s,2),r*=w,y=Math.pow(r,2));let x=g*Math.sqrt((v*y-v*b-y*f)/(v*b+y*f));isNaN(x)&&(x=0);const k=x*(s*m)/r,_=r*p*-x/s,C=h*k-d*_+(e+i)/2,T=d*k+h*_+(n+l)/2,S=(p-k)/s,M=(m-_)/r,P=-(p+k)/s,A=-(m+_)/r,E=(M>=0?1:-1)*pN(Math.acos(S/Math.sqrt(S*S+M*M))),I=vN((S*P+M*A)/(Math.sqrt(S*S+M*M)*Math.sqrt(P*P+A*A)),10);let D=(S*A-M*P>=0?1:-1)*pN(Math.acos(I));!a&&D>0&&(D-=360),a&&D<0&&(D+=360);let O=E+D;const F=O>=0?1:-1;return O=Math.abs(O)%360*F,{center:new HN(C,T),startAngle:E,endAngle:O,radiusX:s,radiusY:r,xRotation:u}}({x1:t.x,y1:t.y,x2:e.x,y2:e.y,rx:n,ry:i,largeArc:l,swipe:s,rotation:r});return new gR(o.center,{startAngle:o.startAngle,endAngle:o.endAngle,radiusX:o.radiusX,radiusY:o.radiusY,xRotation:o.xRotation,anticlockwise:0===s})}}function fR(t,e,n,i,l,s){const r=vN((l-t)/n,3),o=vN((s-e)/i,3);return vN(pN(Math.atan2(o,r)))}function bR(t,e){let n=t;for(;n<e;)n+=90;return n}BN(gR.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),SF.extend(gR.prototype);var vR=gR;const yR=[].push,wR=[].pop,xR=[].splice,kR=[].shift,_R=[].slice,CR=[].unshift;class TR extends EF{constructor(t=[]){super(),this.length=0,this._splice(0,t.length,t)}elements(t){return t?(this._splice(0,this.length,t),this._change(),this):this.slice(0)}push(){const t=arguments,e=yR.apply(this,t);return this._add(t),e}slice(){return _R.call(this)}pop(){const t=this.length,e=wR.apply(this);return t&&this._remove([e]),e}splice(t,e){const n=_R.call(arguments,2),i=this._splice(t,e,n);return this._change(),i}shift(){const t=this.length,e=kR.apply(this);return t&&this._remove([e]),e}unshift(){const t=arguments,e=CR.apply(this,t);return this._add(t),e}indexOf(t){const e=this.length;for(let n=0;n<e;n++)if(this[n]===t)return n;return-1}_splice(t,e,n){const i=xR.apply(this,[t,e].concat(n));return this._clearObserver(i),this._setObserver(n),i}_add(t){this._setObserver(t),this._change()}_remove(t){this._clearObserver(t),this._change()}_setObserver(t){for(let e=0;e<t.length;e++)t[e].addObserver(this)}_clearObserver(t){for(let e=0;e<t.length;e++)t[e].removeObserver(this)}_change(){}}SF.extend(TR.prototype);var SR=TR,MR=class extends SR{_change(){this.geometryChange()}};function PR(t){const e="_"+t;return function(t){return oN(t)?(this._observerField(e,HN.create(t)),this.geometryChange(),this):this[e]}}function AR(t,e){for(let n=0;n<e.length;n++)t[e[n]]=PR(e[n])}function ER(t,e,n){const i=pN(Math.atan2(e.y-t.y,e.x-t.x));return n.transformCopy(XN().rotate(-i,t)).x<t.x}function IR(t,e,n){const i=1-t;return Math.pow(i,3)*n[0][e]+3*Math.pow(i,2)*t*n[1][e]+3*Math.pow(t,2)*i*n[2][e]+Math.pow(t,3)*n[3][e]}function DR(t,e){return[3*t[1][e]-t[0][e]-3*t[2][e]+t[3][e],3*(t[0][e]-2*t[1][e]+t[2][e]),3*(-t[0][e]+t[1][e]),t[0][e]]}class OR extends EF{constructor(t=0,e=0){super(),this.real=t,this.img=e}add(t){return new OR(vN(this.real+t.real,cR),vN(this.img+t.img,cR))}addConstant(t){return new OR(this.real+t,this.img)}negate(){return new OR(-this.real,-this.img)}multiply(t){return new OR(this.real*t.real-this.img*t.img,this.real*t.img+this.img*t.real)}multiplyConstant(t){return new OR(this.real*t,this.img*t)}nthRoot(t){const e=Math.atan2(this.img,this.real),n=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),i=Math.pow(n,1/t);return new OR(i*Math.cos(e/t),i*Math.sin(e/t))}equals(t){return this.real===t.real&&this.img===t.img}isReal(){return 0===this.img}}var FR=OR;function NR(t){return t<0?-1:1}function RR(t,e,n,i){if(0===t)return function(t,e,n){const i=Math.sqrt(Math.pow(e,2)-4*t*n);return[(-e+i)/(2*t),(-e-i)/(2*t)]}(e,n,i);const l=(3*t*n-Math.pow(e,2))/(3*Math.pow(t,2)),s=(2*Math.pow(e,3)-9*t*e*n+27*Math.pow(t,2)*i)/(27*Math.pow(t,3)),r=Math.pow(l/3,3)+Math.pow(s/2,2),o=new FR(0,1),a=-e/(3*t);let u,c,h,d,p,m,g;r<0?(u=new FR(-s/2,Math.sqrt(-r)).nthRoot(3),c=new FR(-s/2,-Math.sqrt(-r)).nthRoot(3)):(u=-s/2+Math.sqrt(r),u=new FR(NR(u)*Math.pow(Math.abs(u),1/3)),c=-s/2-Math.sqrt(r),c=new FR(NR(c)*Math.pow(Math.abs(c),1/3))),h=u.add(c),m=u.add(c).multiplyConstant(-.5),g=u.add(c.negate()).multiplyConstant(Math.sqrt(3)/2),d=m.add(o.multiply(g)),p=m.add(o.negate().multiply(g));const f=[];return h.isReal()&&f.push(vN(h.real+a,cR)),d.isReal()&&f.push(vN(d.real+a,cR)),p.isReal()&&f.push(vN(p.real+a,cR)),f}function LR(t,e,n,i,l){const s=DR(t,i),r=RR(s[0],s[1],s[2],s[3]-e[i]);let o;for(let a=0;a<r.length;a++)if(0<=r[a]&&r[a]<=1&&(o=IR(r[a],n,t),Math.abs(o-e[n])<=l))return!0}function BR(t,e,n){let i;if(t.x!==e.x){const l=Math.min(t.x,e.x),s=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=l<=n.x&&n.x<s;i=r===o?n.y<=r&&a:a&&(o-r)*((t.x-e.x)*(t.y-e.y)>0?n.x-l:s-n.x)/(s-l)+r-n.y>=0}return i?1:0}class VR extends EF{constructor(t,e,n){super(),this.anchor(t||new HN),this.controlIn(e),this.controlOut(n)}bboxTo(t,e){const n=this.anchor().transformCopy(e),i=t.anchor().transformCopy(e);return this.controlOut()&&t.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(e),t.controlIn().transformCopy(e),i):this._lineBoundingBox(n,i)}_lineBoundingBox(t,e){return YN.fromPoints(t,e)}_curveBoundingBox(t,e,n,i){const l=[t,e,n,i],s=this._curveExtremesFor(l,"x"),r=this._curveExtremesFor(l,"y"),o=zR([s.min,s.max,t.x,i.x]),a=zR([r.min,r.max,t.y,i.y]);return YN.fromPoints(new HN(o.min,a.min),new HN(o.max,a.max))}_curveExtremesFor(t,e){const n=this._curveExtremes(t[0][e],t[1][e],t[2][e],t[3][e]);return{min:IR(n.min,e,t),max:IR(n.max,e,t)}}_curveExtremes(t,e,n,i){const l=t-3*e+3*n-i,s=-2*(t-2*e+n),r=t-e,o=Math.sqrt(s*s-4*l*r);let a=0,u=1;0===l?0!==s&&(a=u=-r/s):isNaN(o)||(a=(-s+o)/(2*l),u=(-s-o)/(2*l));let c=Math.max(Math.min(a,u),0);(c<0||c>1)&&(c=0);let h=Math.min(Math.max(a,u),1);return(h>1||h<0)&&(h=1),{min:c,max:h}}_intersectionsTo(t,e){return this.controlOut()&&t.controlIn()?function(t,e,n){const i=DR(t,"x"),l=RR(i[0],i[1],i[2],i[3]-e.x);let s,r,o=0;for(let a=0;a<l.length;a++)(r=hR(s=IR(l[a],"y",t),e.y)||s>e.y)&&((0===l[a]||1===l[a])&&n.bottomRight().x>e.x||0<l[a]&&l[a]<1)&&o++;return o}([this.anchor(),this.controlOut(),t.controlIn(),t.anchor()],e,this.bboxTo(t)):BR(this.anchor(),t.anchor(),e)}_isOnCurveTo(t,e,n,i){if(this.bboxTo(t).expand(n,n).containsPoint(e)){const l=this.anchor(),s=this.controlOut(),r=t.controlIn(),o=t.anchor();if("start"===i&&l.distanceTo(e)<=n)return!ER(l,s,e);if("end"===i&&o.distanceTo(e)<=n)return!ER(o,r,e);const a=[l,s,r,o];if(LR(a,e,"x","y",n)||LR(a,e,"y","x",n))return!0;const u=XN().rotate(45,e),c=[l.transformCopy(u),s.transformCopy(u),r.transformCopy(u),o.transformCopy(u)];return LR(c,e,"x","y",n)||LR(c,e,"y","x",n)}}_isOnLineTo(t,e,n){const i=this.anchor(),l=t.anchor(),s=pN(Math.atan2(l.y-i.y,l.x-i.x));return new YN([i.x,i.y-n/2],[i.distanceTo(l),n]).containsPoint(e.transformCopy(XN().rotate(-s,i)))}_isOnPathTo(t,e,n,i){return this.controlOut()&&t.controlIn()?this._isOnCurveTo(t,e,n/2,i):this._isOnLineTo(t,e,n)}}function zR(t){let e=t.length,n=hN,i=dN;for(let l=0;l<e;l++)i=Math.max(i,t[l]),n=Math.min(n,t[l]);return{min:n,max:i}}AR(VR.prototype,["anchor","controlIn","controlOut"]),SF.extend(VR.prototype);var jR=VR;function HR(t,e,n){let i;for(let l=0;l<t.length;l++){let s=t[l];if(s.visible()){let t=e?s.bbox(n):s.rawBBox();t&&(i=i?YN.union(i,t):t)}}return i}function WR(t,e){let n;for(let i=0;i<t.length;i++){let l=t[i];if(l.visible()){let t=l.clippedBBox(e);t&&(n=n?YN.union(n,t):t)}}return n}class UR extends ZN{constructor(t){super(t),this.paths=new MR,this.paths.addObserver(this),oN(this.options.stroke)||this.stroke("#000")}moveTo(t,e){const n=new iL;return n.moveTo(t,e),this.paths.push(n),this}lineTo(t,e){return this.paths.length>0&&gN(this.paths).lineTo(t,e),this}curveTo(t,e,n){return this.paths.length>0&&gN(this.paths).curveTo(t,e,n),this}arc(t,e,n,i,l){return this.paths.length>0&&gN(this.paths).arc(t,e,n,i,l),this}arcTo(t,e,n,i,l,s){return this.paths.length>0&&gN(this.paths).arcTo(t,e,n,i,l,s),this}close(){return this.paths.length>0&&gN(this.paths).close(),this}_bbox(t){return HR(this.paths,!0,t)}rawBBox(){return HR(this.paths,!1)}_containsPoint(t){const e=this.paths;for(let n=0;n<e.length;n++)if(e[n]._containsPoint(t))return!0;return!1}_isOnPath(t){const e=this.paths,n=this.options.stroke.width;for(let i=0;i<e.length;i++)if(e[i]._isOnPath(t,n))return!0;return!1}_clippedBBox(t){return WR(this.paths,this.currentTransform(t))}}UR.prototype.nodeType="MultiPath",nR.extend(UR.prototype),lR.extend(UR.prototype);var $R=UR;function YR(t,e,n){const i=e?0:1;for(let l=0;l<t.length;l+=2)t.splice(l+i,0,n)}function qR(t,e){if(t&&e)return e.scaleCopy(2).translate(-t.x,-t.y)}const GR=1/3;function XR(t,e,n){const i=e.clone().scale(2/3);return{controlOut:i.clone().translateWith(t.scaleCopy(GR)),controlIn:i.translateWith(n.scaleCopy(GR))}}var KR={l:function(t,e){const{parameters:n,position:i}=e;for(let l=0;l<n.length;l+=2){let s=new HN(n[l],n[l+1]);e.isRelative&&s.translateWith(i),t.lineTo(s.x,s.y),i.x=s.x,i.y=s.y}},c:function(t,e){const{parameters:n,position:i}=e;for(let l=0;l<n.length;l+=6){let s=new HN(n[l],n[l+1]),r=new HN(n[l+2],n[l+3]),o=new HN(n[l+4],n[l+5]);e.isRelative&&(r.translateWith(i),s.translateWith(i),o.translateWith(i)),t.curveTo(s,r,o),i.x=o.x,i.y=o.y}},v:function(t,e){YR(e.parameters,!0,e.isRelative?0:e.position.x),this.l(t,e)},h:function(t,e){YR(e.parameters,!1,e.isRelative?0:e.position.y),this.l(t,e)},a:function(t,e){const{parameters:n,position:i}=e;for(let l=0;l<n.length;l+=7){const s=n[l],r=n[l+1],o=n[l+2],a=n[l+3],u=n[l+4],c=new HN(n[l+5],n[l+6]);e.isRelative&&c.translateWith(i),i.x===c.x&&i.y===c.y||(t.arcTo(c,s,r,a,u,o),i.x=c.x,i.y=c.y)}},s:function(t,e){const{parameters:n,position:i,previousCommand:l}=e;let s;"s"!==l&&"c"!==l||(s=gN(gN(t.paths).segments).controlIn());for(let r=0;r<n.length;r+=4){let l,o=new HN(n[r],n[r+1]),a=new HN(n[r+2],n[r+3]);e.isRelative&&(o.translateWith(i),a.translateWith(i)),l=s?qR(s,i):i.clone(),s=o,t.curveTo(l,o,a),i.x=a.x,i.y=a.y}},q:function(t,e){const{parameters:n,position:i}=e;for(let l=0;l<n.length;l+=4){let s=new HN(n[l],n[l+1]),r=new HN(n[l+2],n[l+3]);e.isRelative&&(s.translateWith(i),r.translateWith(i));let o=XR(i,s,r);t.curveTo(o.controlOut,o.controlIn,r),i.x=r.x,i.y=r.y}},t:function(t,e){const{parameters:n,position:i,previousCommand:l}=e;let s;"q"!==l&&"t"!==l||(s=gN(gN(t.paths).segments).controlIn().clone().translateWith(i.scaleCopy(-1/3)).scale(1.5));for(let r=0;r<n.length;r+=2){let l=new HN(n[r],n[r+1]);e.isRelative&&l.translateWith(i),s=s?qR(s,i):i.clone();let o=XR(i,s,l);t.curveTo(o.controlOut,o.controlIn,l),i.x=l.x,i.y=l.y}}};const ZR=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,QR=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,JR="m",tL="z";var eL=(()=>{class t extends EF{parse(t,e){const n=new $R(e),i=new HN;let l;return t.replace(ZR,(t,e,s,r)=>{let o=e.toLowerCase();const a=o===e,u=function(t){const e=[];return t.replace(QR,(function(t,n){e.push(parseFloat(n))})),e}(s.trim());if(o===JR&&(a?(i.x+=u[0],i.y+=u[1]):(i.x=u[0],i.y=u[1]),n.moveTo(i.x,i.y),u.length>2&&(o="l",u.splice(0,2))),KR[o])KR[o](n,{parameters:u,position:i,isRelative:a,previousCommand:l}),r&&r.toLowerCase()===tL&&n.close();else if(o!==JR)throw new Error("Error while parsing SVG path. Unsupported command: "+o);l=o}),n}}return t.current=new t,t})();class nL extends ZN{constructor(t){super(t),this.segments=new MR,this.segments.addObserver(this),oN(this.options.stroke)||(this.stroke("#000"),oN(this.options.stroke.lineJoin)||this.options.set("stroke.lineJoin","miter"))}moveTo(t,e){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(t,e),this}lineTo(t,e){const n=oN(e)?new HN(t,e):t,i=new jR(n);return this.segments.push(i),this}curveTo(t,e,n){if(this.segments.length>0){const i=gN(this.segments),l=new jR(n,e);this.suspend(),i.controlOut(t),this.resume(),this.segments.push(l)}return this}arc(t,e,n,i,l){if(this.segments.length>0){const s=gN(this.segments).anchor(),r=bN(t),o=new HN(s.x-n*Math.cos(r),s.y-i*Math.sin(r)),a=new vR(o,{startAngle:t,endAngle:e,radiusX:n,radiusY:i,anticlockwise:l});this._addArcSegments(a)}return this}arcTo(t,e,n,i,l,s){if(this.segments.length>0){const r=gN(this.segments).anchor(),o=vR.fromPoints(r,t,e,n,i,l,s);this._addArcSegments(o)}return this}_addArcSegments(t){this.suspend();const e=t.curvePoints();for(let n=1;n<e.length;n+=3)this.curveTo(e[n],e[n+1],e[n+2]);this.resume(),this.geometryChange()}close(){return this.options.closed=!0,this.geometryChange(),this}rawBBox(){return this._bbox()}_containsPoint(t){const e=this.segments,n=e.length;let i,l,s=0;for(let r=1;r<n;r++)s+=(i=e[r-1])._intersectionsTo(l=e[r],t);return!this.options.closed&&e[0].anchor().equals(e[n-1].anchor())||(s+=BR(e[0].anchor(),e[n-1].anchor(),t)),s%2!=0}_isOnPath(t,e){const n=this.segments,i=n.length,l=e||this.options.stroke.width;if(i>1){if(n[0]._isOnPathTo(n[1],t,l,"start"))return!0;for(let e=2;e<=i-2;e++)if(n[e-1]._isOnPathTo(n[e],t,l))return!0;if(n[i-2]._isOnPathTo(n[i-1],t,l,"end"))return!0}return!1}_bbox(t){const e=this.segments,n=e.length;let i;if(1===n){let n=e[0].anchor().transformCopy(t);i=new YN(n,UN.ZERO)}else if(n>0)for(let l=1;l<n;l++){let n=e[l-1].bboxTo(e[l],t);i=i?YN.union(i,n):n}return i}static fromRect(t,e){return new nL(e).moveTo(t.topLeft()).lineTo(t.topRight()).lineTo(t.bottomRight()).lineTo(t.bottomLeft()).close()}static fromPoints(t,e){if(t){const n=new nL(e);for(let e=0;e<t.length;e++){let i=HN.create(t[e]);i&&(0===e?n.moveTo(i):n.lineTo(i))}return n}}static fromArc(t,e){const n=new nL(e),i=t.startAngle,l=t.pointAt(i);return n.moveTo(l.x,l.y),n.arc(i,t.endAngle,t.radiusX,t.radiusY,t.anticlockwise),n}}nL.prototype.nodeType="Path",nR.extend(nL.prototype),lR.extend(nL.prototype),nL.parse=function(t,e){return eL.current.parse(t,e)};var iL=nL;const lL="#000";class sL extends ZN{constructor(t=new vR,e={}){super(e),this.geometry(t),oN(this.options.stroke)||this.stroke(lL)}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this.geometry().bbox()}toPath(){const t=new iL,e=this.geometry().curvePoints();if(e.length>0){t.moveTo(e[0].x,e[0].y);for(let n=1;n<e.length;n+=3)t.curveTo(e[n],e[n+1],e[n+2])}return t}_containsPoint(t){return this.geometry().containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}sL.prototype.nodeType="Arc",nR.extend(sL.prototype),lR.extend(sL.prototype),rR(sL.prototype,["geometry"]);const rL="12px sans-serif",oL="#000";class aL extends ZN{constructor(t,e=new HN,n={}){super(n),this.content(t),this.position(e),this.options.font||(this.options.font=rL),oN(this.options.fill)||this.fill(oL)}content(t){return oN(t)?(this.options.set("content",t),this):this.options.get("content")}measure(){return DN(this.content(),{font:this.options.get("font")})}rect(){const t=this.measure(),e=this.position().clone();return new YN(e,[t.width,t.height])}bbox(t){const e=zN(this.currentTransform(t));return this.rect().bbox(e)}rawBBox(){return this.rect().bbox()}_containsPoint(t){return this.rect().containsPoint(t)}}aL.prototype.nodeType="Text",nR.extend(aL.prototype),AR(aL.prototype,["position"]);var uL=aL;class cL extends ZN{constructor(t,e=new YN,n={}){super(n),this.src(t),this.rect(e)}src(t){return oN(t)?(this.options.set("src",t),this):this.options.get("src")}bbox(t){const e=zN(this.currentTransform(t));return this._rect.bbox(e)}rawBBox(){return this._rect.bbox()}_containsPoint(t){return this._rect.containsPoint(t)}_hasFill(){return this.src()}}cL.prototype.nodeType="Image",rR(cL.prototype,["rect"]);var hL=cL,dL=function(t,e){t.traverse=function(t){const n=this[e];for(let e=0;e<n.length;e++){let i=n[e];i.traverse?i.traverse(t):t(i)}return this}};class pL extends ZN{constructor(t){super(t),this.children=[]}childrenChange(t,e,n){this.trigger("childrenChange",{action:t,items:e,index:n})}append(){return nN(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}insert(t,e){return this.children.splice(t,0,e),e.parent=this,this.childrenChange("add",[e],t),this}insertAt(t,e){return this.insert(e,t)}remove(t){const e=this.children.indexOf(t);return e>=0&&(this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)),this}removeAt(t){if(0<=t&&t<this.children.length){let e=this.children[t];this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)}return this}clear(){const t=this.children;return this.children=[],this._reparent(t,null),this.childrenChange("remove",t,0),this}bbox(t){return HR(this.children,!0,this.currentTransform(t))}rawBBox(){return HR(this.children,!1)}_clippedBBox(t){return WR(this.children,this.currentTransform(t))}currentTransform(t){return ZN.prototype.currentTransform.call(this,t)||null}containsPoint(t,e){if(this.visible()){const n=this.children,i=this.currentTransform(e);for(let e=0;e<n.length;e++)if(n[e].containsPoint(t,i))return!0}return!1}_reparent(t,e){for(let n=0;n<t.length;n++){const i=t[n],l=i.parent;l&&l!==this&&l.remove&&l.remove(i),i.parent=e}}}pL.prototype.nodeType="Group",dL(pL.prototype,"children");var mL=pL;class gL extends ZN{constructor(t=new YN,e={}){super(e),this.geometry(t),oN(this.options.stroke)||this.stroke("#000")}_bbox(t){return this._geometry.bbox(t)}rawBBox(){return this._geometry.bbox()}_containsPoint(t){return this._geometry.containsPoint(t)}_isOnPath(t){return this.geometry()._isOnPath(t,this.options.stroke.width/2)}}gL.prototype.nodeType="Rect",nR.extend(gL.prototype),lR.extend(gL.prototype),rR(gL.prototype,["geometry"]);var fL=class extends SR{_change(){this.optionsChange({field:"stops"})}};function bL(t){return function(e){return oN(e)?(this.options.set(t,e),this):this.options.get(t)}}class vL extends EF{constructor(t,e,n){super(),this.options=new NN({offset:t,color:e,opacity:oN(n)?n:1}),this.options.addObserver(this)}static create(t){if(oN(t)){let e;return e=t instanceof vL?t:t.length>1?new vL(t[0],t[1],t[2]):new vL(t.offset,t.color,t.opacity)}}}!function(t,e){for(let n=0;n<e.length;n++)t[e[n]]=bL(e[n])}(vL.prototype,["offset","color","opacity"]),SF.extend(vL.prototype);var yL=vL;class wL extends EF{constructor(t={}){super(),this.stops=new fL(this._createStops(t.stops)),this.stops.addObserver(this),this._userSpace=t.userSpace,this.id=uN()}userSpace(t){return oN(t)?(this._userSpace=t,this.optionsChange(),this):this._userSpace}_createStops(t=[]){const e=[];for(let n=0;n<t.length;n++)e.push(yL.create(t[n]));return e}addStop(t,e,n){this.stops.push(new yL(t,e,n))}removeStop(t){const e=this.stops.indexOf(t);e>=0&&this.stops.splice(e,1)}}wL.prototype.nodeType="Gradient",SF.extend(wL.prototype),Object.assign(wL.prototype,{optionsChange:function(t){this.trigger("optionsChange",{field:"gradient"+(t?"."+t.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var xL=wL;class kL extends xL{constructor(t={}){super(t),this.start(t.start||new HN),this.end(t.end||new HN(1,0))}}AR(kL.prototype,["start","end"]);var _L=kL;class CL extends xL{constructor(t={}){super(t),this.center(t.center||new HN),this._radius=oN(t.radius)?t.radius:1,this._fallbackFill=t.fallbackFill}radius(t){return oN(t)?(this._radius=t,this.geometryChange(),this):this._radius}fallbackFill(t){return oN(t)?(this._fallbackFill=t,this.optionsChange(),this):this._fallbackFill}}AR(CL.prototype,["center"]);var TL=CL;function SL(t){return.5-Math.cos(t*Math.PI)/2}function ML(t){return t}function PL(t,e,n,i){let l=1.70158,s=0,r=i;return 0===t?n:1===t?n+i:(s||(s=.5),r<Math.abs(i)?(r=i,l=s/4):l=s/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((Number(t)-l)*(1.1*Math.PI)/s)+i+n)}var AL=(()=>{class t extends EF{constructor(){super(),this._items=[]}register(t,e){this._items.push({name:t,type:e})}create(t,e){const n=this._items;let i;if(e&&e.type){const t=e.type.toLowerCase();for(let e=0;e<n.length;e++)if(n[e].name.toLowerCase()===t){i=n[e];break}}if(i)return new i.type(t,e)}}return t.current=new t,t})();const EL=Date.now||function(){return(new Date).getTime()};class IL extends EF{constructor(t,e){super(),this.options=Object.assign({},this.options,e),this.element=t}setup(){}step(){}play(){const t=this.options,{duration:e,delay:n=0}=t,i=l[t.easing],s=EL()+n,r=s+e;0===e?(this.step(1),this.abort()):setTimeout(()=>{const t=()=>{if(this._stopped)return;const n=EL(),l=function(t,e,n){return Math.max(Math.min(t,n),0)}(n-s,0,e),o=i(l/e,l,0,1,e);this.step(o),n<r?AF(t):this.abort()};t()},n)}abort(){this._stopped=!0}destroy(){this.abort()}}IL.prototype.options={duration:500,easing:"swing"},IL.create=function(t,e,n){return AL.current.create(t,e,n)};var DL=(()=>{class t extends EF{constructor(){super(),this._items=[]}register(t,e,n){const i=this._items,l=i[0],s={name:t,type:e,order:n};!l||n<l.order?i.unshift(s):i.push(s)}create(t,e){const n=this._items;let i=n[0];if(e&&e.type){const t=e.type.toLowerCase();for(let e=0;e<n.length;e++)if(n[e].name===t){i=n[e];break}}if(i)return new i.type(t,e);!function(t){const e=window.console;void 0!==e&&e.log&&e.log(t)}("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+`- The browser does not support SVG and Canvas. User agent: ${navigator.userAgent}`)}}return t.current=new t,t})();const OL=["click","mouseenter","mouseleave","mousemove","resize"];var FL=(()=>{class t extends jF{constructor(t,e){super(),this.options=Object.assign({},e),this.element=t,this.element._kendoExportVisual=this.exportVisual.bind(this),this._click=this._handler("click"),this._mouseenter=this._handler("mouseenter"),this._mouseleave=this._handler("mouseleave"),this._mousemove=this._handler("mousemove"),this._visual=new mL,_N(t,this.options),this.bind(OL,this.options),this._enableTracking()}draw(t){this._visual.children.push(t)}clear(){this._visual.children=[]}destroy(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}eventTarget(t){let e,n=function(t={}){return t.touch?t.touch.initialTouch:t.target}(t);for(;!e&&n&&(e=n._kendoNode,n!==this.element);)n=n.parentElement;if(e)return e.srcElement}exportVisual(){return this._visual}getSize(){return _N(this.element)}currentSize(t){if(!t)return this._size;this._size=t}setSize(t){_N(this.element,t),this.currentSize(t),this._resize()}resize(t){const e=this.getSize(),n=this.currentSize();(t||(e.width>0||e.height>0)&&(!n||e.width!==n.width||e.height!==n.height))&&(this.currentSize(e),this._resize(e,t),this.trigger("resize",e))}size(t){if(!t)return this.getSize();this.setSize(t)}suspendTracking(){this._suspendedTracking=!0}resumeTracking(){this._suspendedTracking=!1}_enableTracking(){}_resize(){}_handler(t){return e=>{const n=this.eventTarget(e);n&&!this._suspendedTracking&&this.trigger(t,{element:n,originalEvent:e,type:t})}}_elementOffset(){const t=this.element,{paddingLeft:e,paddingTop:n}=xN(t,["paddingLeft","paddingTop"]),{left:i,top:l}=function(t){const e=t.getBoundingClientRect(),n=document.documentElement;return{top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}(t);return{left:i+parseInt(e,10),top:l+parseInt(n,10)}}_surfacePoint(t){const e=this._elementOffset(),n=function(t){return oN((t.x||{}).location)?{x:t.x.location,y:t.y.location}:{x:t.pageX||t.clientX||0,y:t.pageY||t.clientY||0}}(t);return new HN(n.x-e.left,n.y-e.top)}}return t.create=function(t,e){return DL.current.create(t,e)},t.support={},t})(),NL=class extends EF{constructor(t){super(),this.childNodes=[],this.parent=null,t&&(this.srcElement=t,this.observe())}destroy(){this.srcElement&&this.srcElement.removeObserver(this);const t=this.childNodes;for(let e=0;e<t.length;e++)this.childNodes[e].destroy();this.parent=null}load(){}observe(){this.srcElement&&this.srcElement.addObserver(this)}append(t){this.childNodes.push(t),t.parent=this}insertAt(t,e){this.childNodes.splice(e,0,t),t.parent=this}remove(t,e){const n=t+e;for(let i=t;i<n;i++)this.childNodes[i].removeSelf();this.childNodes.splice(t,e)}removeSelf(){this.clear(),this.destroy()}clear(){this.remove(0,this.childNodes.length)}invalidate(){this.parent&&this.parent.invalidate()}geometryChange(){this.invalidate()}optionsChange(){this.invalidate()}childrenChange(t){"add"===t.action?this.load(t.items,t.index):"remove"===t.action&&this.remove(t.index,t.items.length),this.invalidate()}};function RL(t,e){return oN(e)&&null!==e?` ${t}="${e}" `:""}function LL(t){let e="";for(let n=0;n<t.length;n++)e+=RL(t[n][0],t[n][1]);return e}function BL(t){let e="";for(let n=0;n<t.length;n++){let i=t[n][1];oN(i)&&(e+=t[n][0]+":"+i+";")}if(""!==e)return e}var VL={};const zL="http://www.w3.org/2000/svg",jL="none";let HL=function(t,e){t.innerHTML=e};if("undefined"!=typeof document){const t="<svg xmlns='"+zL+"'></svg>",e=document.createElement("div"),n="undefined"!=typeof DOMParser;e.innerHTML=t,n&&e.firstChild.namespaceURI!==zL&&(HL=function(t,e){const n=(new DOMParser).parseFromString(e,"text/xml"),i=document.adoptNode(n.documentElement);t.innerHTML="",t.appendChild(i)})}var WL=HL;const UL={clip:"clip-path",fill:"fill"};function $L(t,e){return"clip"===t||"fill"===t&&(!e||"Gradient"===e.nodeType)}var YL=class extends NL{constructor(t,e){super(t),this.definitions={},this.options=e}destroy(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),super.destroy()}load(t,e){for(let n=0;n<t.length;n++){const i=t[n],l=i.children,s=new VL[i.nodeType](i,this.options);oN(e)?this.insertAt(s,e):this.append(s),s.createDefinitions(),l&&l.length>0&&s.load(l);const r=this.element;r&&s.attachTo(r,e)}}root(){let t=this;for(;t.parent;)t=t.parent;return t}attachTo(t,e){const n=document.createElement("div");WL(n,"<svg xmlns='"+zL+"' version='1.1'>"+this.render()+"</svg>");const i=n.firstChild.firstChild;i&&(oN(e)?t.insertBefore(i,t.childNodes[e]||null):t.appendChild(i),this.setElement(i))}setElement(t){this.element&&(this.element._kendoNode=null),this.element=t,this.element._kendoNode=this;const e=this.childNodes;for(let n=0;n<e.length;n++)e[n].setElement(t.childNodes[n])}clear(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");const t=this.childNodes;for(let e=0;e<t.length;e++)t[e].destroy();this.childNodes=[]}removeSelf(){if(this.element){const t=this.element.parentNode;t&&t.removeChild(this.element),this.element=null}super.removeSelf()}template(){return this.renderChildren()}render(){return this.template()}renderChildren(){const t=this.childNodes;let e="";for(let n=0;n<t.length;n++)e+=t[n].render();return e}optionsChange(t){const{field:e,value:n}=t;"visible"===e?this.css("display",n?"":jL):UL[e]&&$L(e,n)?this.updateDefinition(e,n):"opacity"===e?this.attr("opacity",n):"cursor"===e?this.css("cursor",n):"id"===e&&(n?this.attr("id",n):this.removeAttr("id")),super.optionsChange(t)}attr(t,e){this.element&&this.element.setAttribute(t,e)}allAttr(t){for(let e=0;e<t.length;e++)this.attr(t[e][0],t[e][1])}css(t,e){this.element&&(this.element.style[t]=e)}allCss(t){for(let e=0;e<t.length;e++)this.css(t[e][0],t[e][1])}removeAttr(t){this.element&&this.element.removeAttribute(t)}mapTransform(t){const e=[];return t&&e.push(["transform","matrix("+t.matrix().toString(6)+")"]),e}renderTransform(){return LL(this.mapTransform(this.srcElement.transform()))}transformChange(t){t?this.allAttr(this.mapTransform(t)):this.removeAttr("transform")}mapStyle(){const t=this.srcElement.options,e=[["cursor",t.cursor]];return!1===t.visible&&e.push(["display",jL]),e}renderStyle(){return RL("style",BL(this.mapStyle(!0)))}renderOpacity(){return RL("opacity",this.srcElement.options.opacity)}renderId(){return RL("id",this.srcElement.options.id)}createDefinitions(){const t=this.srcElement,e=this.definitions;if(t){const n=t.options;let i;for(let t in UL){let l=n.get(t);l&&$L(t,l)&&(e[t]=l,i=!0)}i&&this.definitionChange({action:"add",definitions:e})}}definitionChange(t){this.parent&&this.parent.definitionChange(t)}updateDefinition(t,e){const n=this.definitions,i=n[t],l=UL[t],s={};i&&(s[t]=i,this.definitionChange({action:"remove",definitions:s}),delete n[t]),e?(s[t]=e,this.definitionChange({action:"add",definitions:s}),n[t]=e,this.attr(l,this.refUrl(e.id))):i&&this.removeAttr(l)}clearDefinitions(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}renderDefinitions(){return LL(this.mapDefinitions())}mapDefinitions(){const t=this.definitions,e=[];for(let n in t)e.push([UL[n],this.refUrl(t[n].id)]);return e}refUrl(t){const e=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return`url(${e?"":n}#${t})`}baseUrl(){return function(){const t=document.getElementsByTagName("base")[0];let e=document.location.href,n="";if(t&&!(WF.browser||{}).msie){const t=e.indexOf("#");-1!==t&&(e=e.substring(0,t)),n=e}return n}()}},qL=class extends YL{template(){return`<stop ${this.renderOffset()} ${this.renderStyle()} />`}renderOffset(){return RL("offset",this.srcElement.offset())}mapStyle(){const t=this.srcElement;return[["stop-color",t.color()],["stop-opacity",t.opacity()]]}optionsChange(t){"offset"===t.field?this.attr(t.field,t.value):"color"!==t.field&&"opacity"!==t.field||this.css("stop-"+t.field,t.value)}},GL=class extends YL{constructor(t){super(t),this.id=t.id,this.loadStops()}loadStops(){const t=this.srcElement.stops,e=this.element;for(let n=0;n<t.length;n++){let i=new qL(t[n]);this.append(i),e&&i.attachTo(e)}}optionsChange(t){"gradient.stops"===t.field?(NL.prototype.clear.call(this),this.loadStops()):"gradient"===t.field&&this.allAttr(this.mapCoordinates())}renderCoordinates(){return LL(this.mapCoordinates())}mapSpace(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}},XL=class extends GL{template(){return`<linearGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</linearGradient>`}mapCoordinates(){const t=this.srcElement,e=t.start(),n=t.end();return[["x1",e.x],["y1",e.y],["x2",n.x],["y2",n.y],this.mapSpace()]}},KL=class extends GL{template(){return`<radialGradient id='${this.id}' ${this.renderCoordinates()}>${this.renderChildren()}</radialGradient>`}mapCoordinates(){const t=this.srcElement,e=t.center(),n=t.radius();return[["cx",e.x],["cy",e.y],["r",n],this.mapSpace()]}},ZL=class extends YL{constructor(t){super(),this.srcElement=t,this.id=t.id,this.load([t])}template(){return`<clipPath id='${this.id}'>${this.renderChildren()}</clipPath>`}},QL=class extends YL{constructor(){super(),this.definitionMap={}}attachTo(t){this.element=t}template(){return`<defs>${this.renderChildren()}</defs>`}definitionChange(t){const{definitions:e,action:n}=t;"add"===n?this.addDefinitions(e):"remove"===n&&this.removeDefinitions(e)}createDefinition(t,e){let n;return"clip"===t?n=ZL:"fill"===t&&(e instanceof _L?n=XL:e instanceof TL&&(n=KL)),new n(e)}addDefinitions(t){for(let e in t)this.addDefinition(e,t[e])}addDefinition(t,e){const{element:n,definitionMap:i}=this,l=e.id,s=i[l];if(s)s.count++;else{const s=this.createDefinition(t,e);i[l]={element:s,count:1},this.append(s),n&&s.attachTo(this.element)}}removeDefinitions(t){for(let e in t)this.removeDefinition(t[e])}removeDefinition(t){const e=this.definitionMap,n=t.id,i=e[n];i&&(i.count--,0===i.count&&(this.remove(this.childNodes.indexOf(i.element),1),delete e[n]))}},JL=class extends YL{constructor(t){super(),this.options=t,this.defs=new QL}attachTo(t){this.element=t,this.defs.attachTo(t.firstElementChild)}clear(){NL.prototype.clear.call(this)}template(){return this.defs.render()+this.renderChildren()}definitionChange(t){this.defs.definitionChange(t)}};const tB="rtl";class eB extends FL{constructor(t,e){super(t,e),this._root=new JL(Object.assign({rtl:xN(t,"direction").direction===tB},this.options)),WL(this.element,this._template()),this._rootElement=this.element.firstElementChild,function(t){let e;try{e=t.getScreenCTM?t.getScreenCTM():null}catch(n){}if(e){const n=-e.e%1,i=-e.f%1,l=t.style;0===n&&0===i||(l.left=n+"px",l.top=i+"px")}}(this._rootElement),this._root.attachTo(this._rootElement),wN(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove}),this.resize()}destroy(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,CN(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),super.destroy()}translate(t){const e=`${Math.round(t.x)} ${Math.round(t.y)} ${this._size.width} ${this._size.height}`;this._offset=t,this._rootElement.setAttribute("viewBox",e)}draw(t){super.draw(t),this._root.load([t])}clear(){super.clear(),this._root.clear()}svg(){return"<?xml version='1.0' ?>"+this._template()}exportVisual(){let{_visual:t,_offset:e}=this;if(e){const n=new mL;n.children.push(t),n.transform(XN().translate(-e.x,-e.y)),t=n}return t}_resize(){this._offset&&this.translate(this._offset)}_template(){return`<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='${zL}' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>${this._root.render()}</svg>`}}eB.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(FL.support.svg=!0,DL.current.register("svg",eB,10)),VL.Group=class extends YL{template(){return`<g${this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions()}>${this.renderChildren()}</g>`}optionsChange(t){"transform"===t.field&&this.transformChange(t.value),super.optionsChange(t)}};const nB={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},iB="solid",lB="butt",sB={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},rB=" ";class oB extends YL{geometryChange(){this.attr("d",this.renderData()),this.invalidate()}optionsChange(t){switch(t.field){case"fill":t.value?this.allAttr(this.mapFill(t.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:t.value}));break;case"stroke":t.value?this.allAttr(this.mapStroke(t.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(t.value);break;default:const e=sB[t.field];e&&this.attr(e,t.value)}super.optionsChange(t)}content(){this.element&&(this.element.textContent=this.srcElement.content())}renderData(){return this.printPath(this.srcElement)}printPath(t){const e=t.segments,n=e.length;if(n>0){const i=[];let l,s;for(let t=1;t<n;t++){let n=this.segmentType(e[t-1],e[t]);n!==s&&(s=n,i.push(n)),i.push("L"===n?this.printPoints(e[t].anchor()):this.printPoints(e[t-1].controlOut(),e[t].controlIn(),e[t].anchor()))}return l="M"+this.printPoints(e[0].anchor())+rB+i.join(rB),t.options.closed&&(l+="Z"),l}}printPoints(){const t=arguments,e=t.length,n=[];for(let i=0;i<e;i++)n.push(t[i].toString(3));return n.join(" ")}segmentType(t,e){return t.controlOut()&&e.controlIn()?"C":"L"}mapStroke(t){const e=[];return t&&!mN(t.color)?(e.push(["stroke",t.color]),e.push(["stroke-width",t.width]),e.push(["stroke-linecap",this.renderLinecap(t)]),e.push(["stroke-linejoin",t.lineJoin]),oN(t.opacity)&&e.push(["stroke-opacity",t.opacity]),oN(t.dashType)&&e.push(["stroke-dasharray",this.renderDashType(t)])):e.push(["stroke",jL]),e}renderStroke(){return LL(this.mapStroke(this.srcElement.options.stroke))}renderDashType(t){const{dashType:e,width:n=1}=t;if(e&&e!==iB){const t=nB[e.toLowerCase()],i=[];for(let e=0;e<t.length;e++)i.push(t[e]*n);return i.join(" ")}}renderLinecap(t){const{dashType:e,lineCap:n}=t;return e&&"solid"!==e?lB:n}mapFill(t){const e=[];return t&&"Gradient"===t.nodeType||(t&&!mN(t.color)?(e.push(["fill",t.color]),oN(t.opacity)&&e.push(["fill-opacity",t.opacity])):e.push(["fill",jL])),e}renderFill(){return LL(this.mapFill(this.srcElement.options.fill))}template(){return`<path ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} ${RL("d",this.renderData())}`+`${this.renderStroke()}${this.renderFill()}${this.renderDefinitions()}${this.renderTransform()}></path>`}}VL.Path=oB;var aB=oB;VL.Arc=class extends aB{renderData(){return this.printPath(this.srcElement.toPath())}},VL.Circle=class extends aB{geometryChange(){const t=this.center();this.attr("cx",t.x),this.attr("cy",t.y),this.attr("r",this.radius()),this.invalidate()}center(){return this.srcElement.geometry().center}radius(){return this.srcElement.geometry().radius}template(){return`<circle ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()}`+`cx='${this.center().x}' cy='${this.center().y}' r='${this.radius()}'`+`${this.renderStroke()} ${this.renderFill()} ${this.renderDefinitions()}`+`${this.renderTransform()} ></circle>`}},VL.Rect=class extends aB{geometryChange(){const t=this.srcElement.geometry();this.attr("x",t.origin.x),this.attr("y",t.origin.y),this.attr("width",t.size.width),this.attr("height",t.size.height),this.invalidate()}size(){return this.srcElement.geometry().size}origin(){return this.srcElement.geometry().origin}template(){return`<rect ${this.renderId()} ${this.renderStyle()} ${this.renderOpacity()} x='${this.origin().x}' y='${this.origin().y}' `+`width='${this.size().width}' height='${this.size().height}' ${this.renderStroke()} `+`${this.renderFill()} ${this.renderDefinitions()} ${this.renderTransform()} />`}},VL.Image=class extends aB{geometryChange(){this.allAttr(this.mapPosition()),this.invalidate()}optionsChange(t){"src"===t.field&&this.allAttr(this.mapSource()),super.optionsChange(t)}mapPosition(){const t=this.srcElement.rect(),e=t.topLeft();return[["x",e.x],["y",e.y],["width",t.width()+"px"],["height",t.height()+"px"]]}renderPosition(){return LL(this.mapPosition())}mapSource(t){let e=this.srcElement.src();return t&&(e=RF(e)),[["xlink:href",e]]}renderSource(){return LL(this.mapSource(!0))}template(){return`<image preserveAspectRatio='none' ${this.renderId()} ${this.renderStyle()} ${this.renderTransform()} ${this.renderOpacity()}`+`${this.renderPosition()} ${this.renderSource()} ${this.renderDefinitions()}>`+"</image>"}};const uB=/&(?:[a-zA-Z]+|#\d+);/g;function cB(t){if(!t||"string"!=typeof t||!uB.test(t))return t;const e=cB._element;return uB.lastIndex=0,t.replace(uB,t=>(e.innerHTML=t,e.textContent||e.innerText))}"undefined"!=typeof document&&(cB._element=document.createElement("span")),VL.Text=class extends aB{geometryChange(){const t=this.pos();this.attr("x",t.x),this.attr("y",t.y),this.invalidate()}optionsChange(t){"font"===t.field?(this.attr("style",BL(this.mapStyle())),this.geometryChange()):"content"===t.field&&super.content(this.srcElement.content()),super.optionsChange(t)}mapStyle(t){const e=super.mapStyle(t);let n=this.srcElement.options.font;return t&&(n=RF(n)),e.push(["font",n],["white-space","pre"]),e}pos(){const t=this.srcElement.position(),e=this.srcElement.measure();return t.clone().setY(t.y+e.baseline)}renderContent(){let t=this.srcElement.content();return PN(t=RF(t=cB(t)))}renderTextAnchor(){let t;return!(this.options||{}).rtl||WF.browser.msie||WF.browser.edge||(t="end"),RL("text-anchor",t)}template(){return`<text ${this.renderId()} ${this.renderTextAnchor()} ${this.renderStyle()} ${this.renderOpacity()}`+`x='${this.pos().x}' y='${this.pos().y}' ${this.renderStroke()} ${this.renderTransform()} ${this.renderDefinitions()}`+`${this.renderFill()}>${this.renderContent()}</text>`}},VL.MultiPath=class extends aB{renderData(){const t=this.srcElement.paths;if(t.length>0){const e=[];for(let n=0;n<t.length;n++)e.push(this.printPath(t[n]));return e.join(" ")}}};var hB={};function dB(t,e){const n=e.segments;if(0===n.length)return;let i=n[0],l=i.anchor();t.moveTo(l.x,l.y);for(let s=1;s<n.length;s++){l=(i=n[s]).anchor();let e=n[s-1].controlOut(),r=i.controlIn();e&&r?t.bezierCurveTo(e.x,e.y,r.x,r.y,l.x,l.y):t.lineTo(l.x,l.y)}e.options.closed&&t.closePath()}var pB=class extends NL{constructor(t){super(t),t&&this.initClip()}initClip(){const t=this.srcElement.clip();t&&(this.clip=t,t.addObserver(this))}clear(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),super.clear()}clearClip(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}setClip(t){this.clip&&(t.beginPath(),dB(t,this.clip),t.clip())}optionsChange(t){"clip"===t.field&&(this.clearClip(),this.initClip()),super.optionsChange(t)}setTransform(t){if(this.srcElement){const e=this.srcElement.transform();e&&t.transform.apply(t,e.matrix().toArray(6))}}loadElements(t,e,n){for(let i=0;i<t.length;i++){let l=t[i],s=l.children,r=new hB[l.nodeType](l,n);s&&s.length>0&&r.load(s,e,n),oN(e)?this.insertAt(r,e):this.append(r)}}load(t,e,n){this.loadElements(t,e,n),this.invalidate()}setOpacity(t){if(this.srcElement){const e=this.srcElement.opacity();oN(e)&&this.globalAlpha(t,e)}}globalAlpha(t,e){let n=e;n&&t.globalAlpha&&(n*=t.globalAlpha),t.globalAlpha=n}visible(){const t=this.srcElement;return!t||t&&!1!==t.options.visible}};class mB extends pB{renderTo(t){if(!this.visible())return;t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t);const e=this.childNodes;for(let n=0;n<e.length;n++){let i=e[n];i.visible()&&i.renderTo(t)}t.restore()}}dL(mB.prototype,"childNodes"),hB.Group=mB;var gB=mB;const fB=1e3/60;class bB extends gB{constructor(t,e){super(),this.canvas=t,this.size=e,this.ctx=t.getContext("2d");const n=this._invalidate.bind(this);this.invalidate=function(t,e){let n,i=0;if(!e||e<=0)return t;const l=function(){const l=UF()-i,s=arguments,r=function(){t.apply(null,s),i=UF()};if(!i)return r();n&&clearTimeout(n),l>e?r():n=setTimeout(r,e-l)};return l.cancel=function(){clearTimeout(n)},l}(()=>{AF(n)},fB)}destroy(){super.destroy(),this.canvas=null,this.ctx=null}load(t,e,n){this.loadElements(t,e,n),this._invalidate()}_rescale(){const{canvas:t,size:e}=this;let n=1;"number"==typeof window.devicePixelRatio&&(n=window.devicePixelRatio),t.width=e.width*n,t.height=e.height*n,this.ctx.scale(n,n)}_invalidate(){this.ctx&&(this._rescale(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}dL(bB.prototype,"childNodes");var vB=bB,yB=class extends EF{constructor(){super(),this.shapes=[]}_add(t,e){this.shapes.push({bbox:e,shape:t}),t._quadNode=this}pointShapes(t){const e=this.shapes,n=e.length,i=[];for(let l=0;l<n;l++)e[l].bbox.containsPoint(t)&&i.push(e[l].shape);return i}insert(t,e){this._add(t,e)}remove(t){const e=this.shapes,n=e.length;for(let i=0;i<n;i++)if(e[i].shape===t){e.splice(i,1);break}}};class wB extends yB{constructor(t){super(),this.children=[],this.rect=t}inBounds(t){const e=this.rect,n=e.bottomRight(),i=t.bottomRight();return e.origin.x<=t.origin.x&&e.origin.y<=t.origin.y&&i.x<=n.x&&i.y<=n.y}pointShapes(t){const e=this.children,n=e.length,i=super.pointShapes(t);for(let l=0;l<n;l++)nN(i,e[l].pointShapes(t));return i}insert(t,e){const n=this.children;let i=!1;if(this.inBounds(e)){if(this.shapes.length<4)this._add(t,e);else{n.length||this._initChildren();for(let l=0;l<n.length;l++)if(n[l].insert(t,e)){i=!0;break}i||this._add(t,e)}i=!0}return i}_initChildren(){const{rect:t,children:e}=this,n=t.center(),i=t.width()/2,l=t.height()/2;e.push(new wB(new YN([t.origin.x,t.origin.y],[i,l])),new wB(new YN([n.x,t.origin.y],[i,l])),new wB(new YN([t.origin.x,n.y],[i,l])),new wB(new YN([n.x,n.y],[i,l])))}}var xB=wB;function kB(t,e){return t._zIndex<e._zIndex?1:t._zIndex>e._zIndex?-1:0}var _B=class extends EF{constructor(){super(),this.initRoots()}initRoots(){this.rootMap={},this.root=new yB,this.rootElements=[]}clear(){const t=this.rootElements;for(let e=0;e<t.length;e++)this.remove(t[e]);this.initRoots()}pointShape(t){const e=(this.rootMap[Math.floor(t.x/3e3)]||{})[Math.floor(t.y/3e3)];let n=this.root.pointShapes(t);e&&(n=n.concat(e.pointShapes(t))),this.assignZindex(n),n.sort(kB);for(let i=0;i<n.length;i++)if(n[i].containsPoint(t))return n[i]}assignZindex(t){for(let e=0;e<t.length;e++){let n=t[e],i=0,l=Math.pow(1e4,75),s=[];for(;n;)s.push(n),n=n.parent;for(;s.length;)i+=(((n=s.pop()).parent?n.parent.children:this.rootElements).indexOf(n)+1)*l,l/=1e4;t[e]._zIndex=i}}optionsChange(t){"transform"!==t.field&&"stroke.width"!==t.field||this.bboxChange(t.element)}geometryChange(t){this.bboxChange(t.element)}bboxChange(t){if("Group"===t.nodeType)for(let e=0;e<t.children.length;e++)this.bboxChange(t.children[e]);else t._quadNode&&t._quadNode.remove(t),this._insertShape(t)}add(t){const e=Array.isArray(t)?t.slice(0):[t];nN(this.rootElements,e),this._insert(e)}childrenChange(t){if("remove"===t.action)for(let e=0;e<t.items.length;e++)this.remove(t.items[e]);else this._insert(Array.prototype.slice.call(t.items,0))}_insert(t){let e;for(;t.length>0;)(e=t.pop()).addObserver(this),"Group"===e.nodeType?nN(t,e.children):this._insertShape(e)}_insertShape(t){const e=t.bbox();if(e){const n=this.getSectors(e),i=n[0][0],l=n[1][0];if(this.inRoot(n))this.root.insert(t,e);else{const n=this.rootMap;n[i]||(n[i]={}),n[i][l]||(n[i][l]=new xB(new YN([3e3*i,3e3*l],[3e3,3e3]))),n[i][l].insert(t,e)}}}remove(t){if(t.removeObserver(this),"Group"===t.nodeType){const e=t.children;for(let t=0;t<e.length;t++)this.remove(e[t])}else t._quadNode&&(t._quadNode.remove(t),delete t._quadNode)}inRoot(t){return t[0].length>1||t[1].length>1}getSectors(t){const e=t.bottomRight(),n=Math.floor(e.x/3e3),i=Math.floor(e.y/3e3),l=[[],[]];for(let s=Math.floor(t.origin.x/3e3);s<=n;s++)l[0].push(s);for(let s=Math.floor(t.origin.y/3e3);s<=i;s++)l[1].push(s);return l}},CB=class{constructor(t){t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}clear(){this._resetCursor()}destroy(){this._resetCursor(),delete this.element}_mouseenter(t){const e=this._shapeCursor(t);e?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(e)):this._resetCursor()}_mouseleave(){this._resetCursor()}_shapeCursor(t){let e=t.element;for(;e&&!oN(e.options.cursor);)e=e.parent;if(e)return e.options.cursor}_getCursor(){if(this.element)return this.element.style.cursor}_setCursor(t){this.element&&(this.element.style.cursor=t,this._current=t)}_resetCursor(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}};class TB extends FL{constructor(t,e){super(t,e),this.element.innerHTML=this._template(this);const n=this.element.firstElementChild,i=_N(t);n.width=i.width,n.height=i.height,this._rootElement=n,this._root=new vB(n,i),this._mouseTrackHandler=this._trackMouse.bind(this),wN(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}destroy(){super.destroy(),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),CN(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}draw(t){super.draw(t),this._root.load([t],void 0,this.options.cors),this._searchTree&&this._searchTree.add([t])}clear(){super.clear(),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}eventTarget(t){if(this._searchTree){const e=this._surfacePoint(t);return this._searchTree.pointShape(e)}}image(){const{_root:t,_rootElement:e}=this,n=[];t.traverse(t=>{t.loading&&n.push(t.loading)});const i=sN(),l=()=>{t._invalidate();try{const t=e.toDataURL();i.resolve(t)}catch(n){i.reject(n)}};var s;return(s=n,Promise.all(s)).then(l,l),i}suspendTracking(){super.suspendTracking(),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}resumeTracking(){if(super.resumeTracking(),!this._searchTree){this._searchTree=new _B;const t=this._root.childNodes,e=[];for(let n=0;n<t.length;n++)e.push(t[n].srcElement);this._searchTree.add(e)}}_resize(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}_template(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}_enableTracking(){this._searchTree=new _B,this._cursor=new CB(this),super._enableTracking()}_trackMouse(t){if(this._suspendedTracking)return;const e=this.eventTarget(t);if("click"!==t.type){const n=this._currentShape;n&&n!==e&&this.trigger("mouseleave",{element:n,originalEvent:t,type:"mouseleave"}),e&&n!==e&&this.trigger("mouseenter",{element:e,originalEvent:t,type:"mouseenter"}),this.trigger("mousemove",{element:e,originalEvent:t,type:"mousemove"}),this._currentShape=e}else e&&this.trigger("click",{element:e,originalEvent:t,type:"click"})}}TB.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(FL.support.canvas=!0,DL.current.register("canvas",TB,20));class SB extends pB{renderTo(t){t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),this.renderPoints(t,this.srcElement),this.setLineDash(t),this.setLineCap(t),this.setLineJoin(t),this.setFill(t),this.setStroke(t),t.restore()}setFill(t){const e=this.srcElement.options.fill;let n=!1;return e&&("Gradient"===e.nodeType?(this.setGradientFill(t,e),n=!0):mN(e.color)||(t.fillStyle=e.color,t.save(),this.globalAlpha(t,e.opacity),t.fill(),t.restore(),n=!0)),n}setGradientFill(t,e){const n=this.srcElement.rawBBox();let i;if(e instanceof _L){let n=e.start(),l=e.end();i=t.createLinearGradient(n.x,n.y,l.x,l.y)}else if(e instanceof TL){let n=e.center();i=t.createRadialGradient(n.x,n.y,0,n.x,n.y,e.radius())}!function(t,e){for(let n=0;n<e.length;n++){let i=e[n],l=eN(i.color());l.a*=i.opacity(),t.addColorStop(i.offset(),l.toCssRgba())}}(i,e.stops),t.save(),e.userSpace()||t.transform(n.width(),0,0,n.height(),n.origin.x,n.origin.y),t.fillStyle=i,t.fill(),t.restore()}setStroke(t){const e=this.srcElement.options.stroke;if(e&&!mN(e.color)&&e.width>0)return t.strokeStyle=e.color,t.lineWidth=yN(e.width,1),t.save(),this.globalAlpha(t,e.opacity),t.stroke(),t.restore(),!0}dashType(){const t=this.srcElement.options.stroke;if(t&&t.dashType)return t.dashType.toLowerCase()}setLineDash(t){const e=this.dashType();if(e&&e!==iB){const n=nB[e];t.setLineDash?t.setLineDash(n):(t.mozDash=n,t.webkitLineDash=n)}}setLineCap(t){const e=this.dashType(),n=this.srcElement.options.stroke;e&&e!==iB?t.lineCap=lB:n&&n.lineCap&&(t.lineCap=n.lineCap)}setLineJoin(t){const e=this.srcElement.options.stroke;e&&e.lineJoin&&(t.lineJoin=e.lineJoin)}renderPoints(t,e){dB(t,e)}}hB.Path=SB;var MB=SB;hB.Arc=class extends MB{renderPoints(t){dB(t,this.srcElement.toPath())}},hB.Circle=class extends MB{renderPoints(t){const{center:e,radius:n}=this.srcElement.geometry();t.arc(e.x,e.y,n,0,2*Math.PI)}},hB.Rect=class extends MB{renderPoints(t){const{origin:e,size:n}=this.srcElement.geometry();t.rect(e.x,e.y,n.width,n.height)}},hB.Image=class extends MB{constructor(t,e){super(t),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loading=sN();const n=this.img=new Image;e&&!/^data:/i.test(t.src())&&(n.crossOrigin=e),n.src=t.src(),n.complete?this.onLoad():(n.onload=this.onLoad,n.onerror=this.onError)}renderTo(t){"resolved"===this.loading.state()&&(t.save(),this.setTransform(t),this.setClip(t),this.drawImage(t),t.restore())}optionsChange(t){"src"===t.field?(this.loading=sN(),this.img.src=this.srcElement.src()):super.optionsChange(t)}onLoad(){this.loading.resolve(),this.invalidate()}onError(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}drawImage(t){const e=this.srcElement.rect(),n=e.topLeft();t.drawImage(this.img,n.x,n.y,e.width(),e.height())}},hB.Text=class extends MB{renderTo(t){const e=this.srcElement,n=e.position(),i=e.measure();t.save(),this.setTransform(t),this.setClip(t),this.setOpacity(t),t.beginPath(),t.font=e.options.font,t.textAlign="left",this.setFill(t)&&t.fillText(e.content(),n.x,n.y+i.baseline),this.setStroke(t)&&(this.setLineDash(t),t.strokeText(e.content(),n.x,n.y+i.baseline)),t.restore()}},hB.MultiPath=class extends MB{renderPoints(t){const e=this.srcElement.paths;for(let n=0;n<e.length;n++)dB(t,e[n])}};const PB="undefined"!=typeof Uint8Array&&WF.browser&&(!WF.browser.msie||WF.browser.version>9),AB=(EB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(t){for(var e=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,i=e.length,l=[];n<i;){var s=EB.indexOf(e.charAt(n++)),r=EB.indexOf(e.charAt(n++)),o=EB.indexOf(e.charAt(n++)),a=EB.indexOf(e.charAt(n++)),u=(15&r)<<4|o>>>2,c=(3&o)<<6|a;l.push(s<<2|r>>>4),64!=o&&l.push(u),64!=a&&l.push(c)}return l},encode:function(t){for(var e=0,n=t.length,i="";e<n;){var l=t[e++],s=t[e++],r=t[e++],o=(3&l)<<4|s>>>4,a=(15&s)<<2|r>>>6,u=63&r;e-n==2?a=u=64:e-n==1&&(u=64),i+=EB.charAt(l>>>2)+EB.charAt(o)+EB.charAt(a)+EB.charAt(u)}return i}});var EB;function IB(t){var e=0,n=0;null==t?t=PB?new Uint8Array(256):[]:n=t.length;var i=PB?function(e){if(e>=t.length){var n=new Uint8Array(Math.max(e+256,2*t.length));n.set(t,0),t=n}}:function(){},l=PB?function(){return new Uint8Array(t.buffer,0,n)}:function(){return t},s=PB?function(l){if("string"==typeof l)return g(l);var s=l.length;i(e+s),t.set(l,e),(e+=s)>n&&(n=e)}:function(t){if("string"==typeof t)return g(t);for(var e=0;e<t.length;++e)o(t[e])};function r(){return e<n?t[e++]:0}function o(l){i(e),t[e++]=255&l,e>n&&(n=e)}function a(){return r()<<8|r()}function u(t){o(t>>8),o(t)}function c(){return 65536*a()+a()}function h(t){u(t>>>16&65535),u(65535&t)}function d(){var t=c();return t>=2147483648?t-4294967296:t}function p(t){h(t<0?t+4294967296:t)}function m(t){return f(t,r)}function g(t){for(var e=0;e<t.length;++e)o(t.charCodeAt(e))}function f(t,e){for(var n=new Array(t),i=0;i<t;++i)n[i]=e();return n}var b={eof:function(){return e>=n},readByte:r,writeByte:o,readShort:a,writeShort:u,readLong:c,writeLong:h,readFixed:function(){return c()/65536},writeFixed:function(t){h(Math.round(65536*t))},readShort_:function(){var t=a();return t>=32768?t-65536:t},writeShort_:function(t){u(t<0?t+65536:t)},readLong_:d,writeLong_:p,readFixed_:function(){return d()/65536},writeFixed_:function(t){p(Math.round(65536*t))},read:m,write:s,readString:function(t){return String.fromCharCode.apply(String,m(t))},writeString:g,times:f,get:l,slice:PB?function(e,n){if(t.buffer.slice)return new Uint8Array(t.buffer.slice(e,e+n));var i=new Uint8Array(n);return i.set(new Uint8Array(t.buffer,e,n)),i}:function(e,n){return t.slice(e,e+n)},offset:function(t){return null!=t?(e=t,b):e},skip:function(t){e+=t},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(){return n},saveExcursion:function(t){var n=e;try{return t()}finally{e=n}},writeBase64:function(t){window.atob?g(window.atob(t)):s(AB.decode(t))},base64:function(){return AB.encode(l())}};return b}function DB(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function OB(t){return Object.keys(t).sort((function(t,e){return t-e})).map(parseFloat)}function FB(t){this.raw=t,this.scalerType=t.readLong(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort();for(var e=this.tables={},n=0;n<this.tableCount;++n){var i={tag:t.readString(4),checksum:t.readLong(),offset:t.readLong(),length:t.readLong()};e[i.tag]=i}}function NB(t){function e(t,e){this.definition=e,this.length=e.length,this.offset=e.offset,this.file=t,this.rawData=t.raw,this.parse(t.raw)}for(var n in e.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},t)DB(t,n)&&(e[n]=e.prototype[n]=t[n]);return e}FB.prototype={readTable:function(t,e){var n=this.tables[t];if(!n)throw new Error("Table "+t+" not found in directory");return this[t]=n.table=new e(this,n)},render:function(t){var e=Object.keys(t).length,n=Math.pow(2,Math.floor(Math.log(e)/Math.LN2)),i=16*n,l=Math.floor(Math.log(n)/Math.LN2),s=16*e-i,r=IB();r.writeLong(this.scalerType),r.writeShort(e),r.writeShort(i),r.writeShort(l),r.writeShort(s);var o=16*e,a=r.offset()+o,u=null,c=IB();for(var h in t)if(DB(t,h)){var d=t[h];for(r.writeString(h),r.writeLong(this.checksum(d)),r.writeLong(a),r.writeLong(d.length),c.write(d),"head"==h&&(u=a),a+=d.length;a%4;)c.writeByte(0),a++}r.write(c.get());var p=2981146554-this.checksum(r.get());return r.offset(u+8),r.writeLong(p),r.get()},checksum:function(t){t=IB(t);for(var e=0;!t.eof();)e+=t.readLong();return 4294967295&e}};var RB,LB=NB({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.revision=t.readLong(),this.checkSumAdjustment=t.readLong(),this.magicNumber=t.readLong(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.read(8),this.modified=t.read(8),this.xMin=t.readShort_(),this.yMin=t.readShort_(),this.xMax=t.readShort_(),this.yMax=t.readShort_(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort_(),this.indexToLocFormat=t.readShort_(),this.glyphDataFormat=t.readShort_()},render:function(t){var e=IB();return e.writeLong(this.version),e.writeLong(this.revision),e.writeLong(0),e.writeLong(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.write(this.created),e.write(this.modified),e.writeShort_(this.xMin),e.writeShort_(this.yMin),e.writeShort_(this.xMax),e.writeShort_(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort_(this.fontDirectionHint),e.writeShort_(t),e.writeShort_(this.glyphDataFormat),e.get()}}),BB=NB({parse:function(t){t.offset(this.offset),this.offsets=0===this.file.head.indexToLocFormat?t.times(this.length/2,(function(){return 2*t.readShort()})):t.times(this.length/4,t.readLong)},offsetOf:function(t){return this.offsets[t]},lengthOf:function(t){return this.offsets[t+1]-this.offsets[t]},render:function(t){for(var e=IB(),n=t[t.length-1]>65535,i=0;i<t.length;++i)n?e.writeLong(t[i]):e.writeShort(t[i]/2);return{format:n?1:0,table:e.get()}}}),VB=NB({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort_(),this.minRightSideBearing=t.readShort_(),this.xMaxExtent=t.readShort_(),this.caretSlopeRise=t.readShort_(),this.caretSlopeRun=t.readShort_(),this.caretOffset=t.readShort_(),t.skip(8),this.metricDataFormat=t.readShort_(),this.numOfLongHorMetrics=t.readShort()},render:function(t){var e=IB();return e.writeLong(this.version),e.writeShort_(this.ascent),e.writeShort_(this.descent),e.writeShort_(this.lineGap),e.writeShort(this.advanceWidthMax),e.writeShort_(this.minLeftSideBearing),e.writeShort_(this.minRightSideBearing),e.writeShort_(this.xMaxExtent),e.writeShort_(this.caretSlopeRise),e.writeShort_(this.caretSlopeRun),e.writeShort_(this.caretOffset),e.write([0,0,0,0,0,0,0,0]),e.writeShort_(this.metricDataFormat),e.writeShort(t.length),e.get()}}),zB=NB({parse:function(t){t.offset(this.offset),this.version=t.readLong(),this.numGlyphs=t.readShort(),this.maxPoints=t.readShort(),this.maxContours=t.readShort(),this.maxComponentPoints=t.readShort(),this.maxComponentContours=t.readShort(),this.maxZones=t.readShort(),this.maxTwilightPoints=t.readShort(),this.maxStorage=t.readShort(),this.maxFunctionDefs=t.readShort(),this.maxInstructionDefs=t.readShort(),this.maxStackElements=t.readShort(),this.maxSizeOfInstructions=t.readShort(),this.maxComponentElements=t.readShort(),this.maxComponentDepth=t.readShort()},render:function(t){var e=IB();return e.writeLong(this.version),e.writeShort(t.length),e.writeShort(this.maxPoints),e.writeShort(this.maxContours),e.writeShort(this.maxComponentPoints),e.writeShort(this.maxComponentContours),e.writeShort(this.maxZones),e.writeShort(this.maxTwilightPoints),e.writeShort(this.maxStorage),e.writeShort(this.maxFunctionDefs),e.writeShort(this.maxInstructionDefs),e.writeShort(this.maxStackElements),e.writeShort(this.maxSizeOfInstructions),e.writeShort(this.maxComponentElements),e.writeShort(this.maxComponentDepth),e.get()}}),jB=NB({parse:function(t){t.offset(this.offset);var e=this.file;this.metrics=t.times(e.hhea.numOfLongHorMetrics,(function(){return{advance:t.readShort(),lsb:t.readShort_()}})),this.leftSideBearings=t.times(e.maxp.numGlyphs-e.hhea.numOfLongHorMetrics,t.readShort_)},forGlyph:function(t){var e=this.metrics,n=e.length;return t<n?e[t]:{advance:e[n-1].advance,lsb:this.leftSideBearings[t-n]}},render:function(t){for(var e=IB(),n=0;n<t.length;++n){var i=this.forGlyph(t[n]);e.writeShort(i.advance),e.writeShort_(i.lsb)}return e.get()}}),HB=function(){function t(t){this.raw=t}t.prototype={compound:!1,render:function(){return this.raw.get()}};var e=1,n=8,i=32,l=64,s=128;function r(t){this.raw=t;for(var r=this.glyphIds=[],o=this.idOffsets=[];;){var a=t.readShort();if(o.push(t.offset()),r.push(t.readShort()),!(a&i))break;t.skip(a&e?4:2),a&s?t.skip(8):a&l?t.skip(4):a&n&&t.skip(2)}}return r.prototype={compound:!0,render:function(t){for(var e=IB(this.raw.get()),n=0;n<this.glyphIds.length;++n){var i=this.glyphIds[n];e.offset(this.idOffsets[n]),e.writeShort(t[i])}return e.get()}},NB({parse:function(){this.cache={}},glyphFor:function(e){var n=this.cache;if(DB(n,e))return n[e];var i=this.file.loca,l=i.lengthOf(e);if(0===l)return n[e]=null;var s=this.rawData,o=this.offset+i.offsetOf(e),a=IB(s.slice(o,l)),u=a.readShort_(),c=a.readShort_(),h=a.readShort_(),d=a.readShort_(),p=a.readShort_(),m=n[e]=-1==u?new r(a):new t(a);return m.numberOfContours=u,m.xMin=c,m.yMin=h,m.xMax=d,m.yMax=p,m},render:function(t,e,n){for(var i=IB(),l=[],s=0;s<e.length;++s){var r=t[e[s]];l.push(i.offset()),r&&i.write(r.render(n))}return l.push(i.offset()),{table:i.get(),offsets:l}}})}(),WB=function(){function t(t,e){this.text=t,this.length=t.length,this.platformID=e.platformID,this.platformSpecificID=e.platformSpecificID,this.languageID=e.languageID,this.nameID=e.nameID}return NB({parse:function(e){e.offset(this.offset),e.readShort();for(var n=e.readShort(),i=this.offset+e.readShort(),l=e.times(n,(function(){return{platformID:e.readShort(),platformSpecificID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:e.readShort()+i}})),s=this.strings={},r=0;r<l.length;++r){var o=l[r];e.offset(o.offset);var a=e.readString(o.length);s[o.nameID]||(s[o.nameID]=[]),s[o.nameID].push(new t(a,o))}this.postscriptEntry=s[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(e){var n=this.strings,i=0;for(var l in n)DB(n,l)&&(i+=n[l].length);var s=IB(),r=IB();for(l in s.writeShort(0),s.writeShort(i),s.writeShort(6+12*i),n)if(DB(n,l))for(var o=6==l?[new t(e,this.postscriptEntry)]:n[l],a=0;a<o.length;++a){var u=o[a];s.writeShort(u.platformID),s.writeShort(u.platformSpecificID),s.writeShort(u.languageID),s.writeShort(u.nameID),s.writeShort(u.length),s.writeShort(r.offset()),r.writeString(u.text)}return s.write(r.get()),s.get()}})}(),UB=(RB=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),NB({parse:function(t){var e;switch(t.offset(this.offset),this.format=t.readLong(),this.italicAngle=t.readFixed_(),this.underlinePosition=t.readShort_(),this.underlineThickness=t.readShort_(),this.isFixedPitch=t.readLong(),this.minMemType42=t.readLong(),this.maxMemType42=t.readLong(),this.minMemType1=t.readLong(),this.maxMemType1=t.readLong(),this.format){case 65536:case 196608:break;case 131072:e=t.readShort(),this.glyphNameIndex=t.times(e,t.readShort),this.names=[];for(var n=this.offset+this.length;t.offset()<n;)this.names.push(t.readString(t.readByte()));break;case 151552:e=t.readShort(),this.offsets=t.read(e);break;case 262144:this.map=t.times(this.file.maxp.numGlyphs,t.readShort)}},glyphFor:function(t){switch(this.format){case 65536:return RB[t]||".notdef";case 131072:var e=this.glyphNameIndex[t];return e<RB.length?RB[e]:this.names[e-RB.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[t]||65535}},render:function(t){if(196608==this.format)return this.raw();var e=IB(this.rawData.slice(this.offset,32));e.writeLong(131072),e.offset(32);for(var n=[],i=[],l=0;l<t.length;++l){var s=this.glyphFor(t[l]),r=RB.indexOf(s);r>=0?n.push(r):(n.push(RB.length+i.length),i.push(s))}for(e.writeShort(t.length),l=0;l<n.length;++l)e.writeShort(n[l]);for(l=0;l<i.length;++l)e.writeByte(i[l].length),e.writeString(i[l]);return e.get()}})),$B=function(){function t(t,e,n){var i=this;i.platformID=t.readShort(),i.platformSpecificID=t.readShort(),i.offset=e+t.readLong(),t.saveExcursion((function(){var e;switch(t.offset(i.offset),i.format=t.readShort(),i.format){case 0:i.length=t.readShort(),i.language=t.readShort();for(var l=0;l<256;++l)n[l]=t.readByte();break;case 4:i.length=t.readShort(),i.language=t.readShort();var s=t.readShort()/2;t.skip(6);var r=t.times(s,t.readShort);t.skip(2);var o=t.times(s,t.readShort),a=t.times(s,t.readShort_),u=t.times(s,t.readShort),c=(i.length+i.offset-t.offset())/2,h=t.times(c,t.readShort);for(l=0;l<s;++l){var d=o[l],p=r[l];for(e=d;e<=p;++e){var m;0===u[l]?m=e+a[l]:0!==(m=h[u[l]/2-(s-l)+(e-d)]||0)&&(m+=a[l]),n[e]=65535&m}}break;case 6:i.length=t.readShort(),i.language=t.readShort(),e=t.readShort();for(var g=t.readShort();g-- >0;)n[e++]=t.readShort();break;case 12:t.readShort(),i.length=t.readLong(),i.language=t.readLong();for(var f=t.readLong();f-- >0;){e=t.readLong();for(var b=t.readLong(),v=t.readLong();e<=b;)n[e++]=v++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+i.format)}}))}return NB({parse:function(e){var n=this,i=n.offset;e.offset(i),n.codeMap={},n.version=e.readShort();var l=e.readShort();n.tables=e.times(l,(function(){return new t(e,i,n.codeMap)}))},render:function(t,e){var n=IB();return n.writeShort(0),n.writeShort(1),n.write(function(t,e){var n=OB(t),i=[],l=[],s=null,r=null;function o(n){return e[t[n]]}for(var a=0;a<n.length;++a){var u=n[a],c=o(u)-u;null!=s&&c===r||(s&&l.push(s),i.push(u),r=c),s=u}s&&l.push(s),l.push(65535),i.push(65535);var h=i.length,d=2*h,p=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),m=Math.log(p/2)/Math.LN2,g=d-p,f=[],b=[],v=[];for(a=0;a<h;++a){var y=i[a],w=l[a];if(65535==y){f.push(0),b.push(0);break}var x=o(y);if(y-x>=32768){f.push(0),b.push(2*(v.length+h-a));for(var k=y;k<=w;++k)v.push(o(k))}else f.push(x-y),b.push(0)}var _=IB();return _.writeShort(3),_.writeShort(1),_.writeLong(12),_.writeShort(4),_.writeShort(16+8*h+2*v.length),_.writeShort(0),_.writeShort(d),_.writeShort(p),_.writeShort(m),_.writeShort(g),l.forEach(_.writeShort),_.writeShort(0),i.forEach(_.writeShort),f.forEach(_.writeShort_),b.forEach(_.writeShort),v.forEach(_.writeShort),_.get()}(t,e)),n.get()}})}(),YB=NB({parse:function(t){t.offset(this.offset),this.version=t.readShort(),this.averageCharWidth=t.readShort_(),this.weightClass=t.readShort(),this.widthClass=t.readShort(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort_(),this.ySubscriptYSize=t.readShort_(),this.ySubscriptXOffset=t.readShort_(),this.ySubscriptYOffset=t.readShort_(),this.ySuperscriptXSize=t.readShort_(),this.ySuperscriptYSize=t.readShort_(),this.ySuperscriptXOffset=t.readShort_(),this.ySuperscriptYOffset=t.readShort_(),this.yStrikeoutSize=t.readShort_(),this.yStrikeoutPosition=t.readShort_(),this.familyClass=t.readShort_(),this.panose=t.times(10,t.readByte),this.charRange=t.times(4,t.readLong),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort_(),this.descent=t.readShort_(),this.lineGap=t.readShort_(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=t.times(2,t.readLong),this.version>1&&(this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()))},render:function(){return this.raw()}}),qB=1e5;function GB(t){this.font=t,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var t="",e=String(qB),n=0;n<e.length;++n)t+=String.fromCharCode(e.charCodeAt(n)-48+65);return++qB,t}()+"+"+this.font.psName}function XB(t,e){var n=this,i=n.contents=IB(t);if("ttcf"==i.readString(4)){var l;const t=function(){i.offset(l),n.parse()};if(!e)throw new Error("Must specify a name for TTC files");i.readLong();for(var s=i.readLong(),r=0;r<s;++r)if(l=i.readLong(),i.saveExcursion(t),n.psName==e)return;throw new Error("Font "+e+" not found in collection")}i.offset(0),n.parse()}GB.prototype={use:function(t){var e=this;if("string"==typeof t)return function(t){for(var e,n,i=[],l=0,s=t.length;l<s;)(e=t.charCodeAt(l++))>=55296&&e<=56319&&l<s?56320==(64512&(n=t.charCodeAt(l++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),l--):i.push(e);return i}(t).reduce((function(t,n){return t+String.fromCharCode(e.use(n))}),"");var n=e.unicodes[t];if(!n){n=e.next++,e.subset[n]=t,e.unicodes[t]=n;var i=e.font.cmap.codeMap[t];if(i&&(e.ncid2ogid[n]=i,null==e.ogid2ngid[i])){var l=e.nextGid++;e.ogid2ngid[i]=l,e.ngid2ogid[l]=i}}return n},encodeText:function(t){return this.use(t)},glyphIds:function(){return OB(this.ogid2ngid)},glyphsFor:function(t,e){e||(e={});for(var n=0;n<t.length;++n){var i=t[n];if(!e[i]){var l=e[i]=this.font.glyf.glyphFor(i);l&&l.compound&&this.glyphsFor(l.glyphIds,e)}}return e},render:function(){var t=this.glyphsFor(this.glyphIds());for(var e in t)if(DB(t,e)&&(e=parseInt(e,10),null==this.ogid2ngid[e])){var n=this.nextGid++;this.ogid2ngid[e]=n,this.ngid2ogid[n]=e}var i=OB(this.ngid2ogid).map((function(t){return this.ngid2ogid[t]}),this),l=this.font,s=l.glyf.render(t,i,this.ogid2ngid),r=l.loca.render(s.offsets);this.lastChar=this.next-1;var o={cmap:$B.render(this.ncid2ogid,this.ogid2ngid),glyf:s.table,loca:r.table,hmtx:l.hmtx.render(i),hhea:l.hhea.render(i),maxp:l.maxp.render(i),post:l.post.render(i),name:l.name.render(this.psName),head:l.head.render(r.format),"OS/2":l.os2.render()};return this.font.directory.render(o)},cidToGidMap:function(){for(var t=IB(),e=0,n=this.firstChar;n<this.next;++n){for(;e<n;)t.writeShort(0),e++;var i=this.ncid2ogid[n];t.writeShort(i?this.ogid2ngid[i]:0),e++}return t.get()}},XB.prototype={parse:function(){var t=this.directory=new FB(this.contents);this.head=t.readTable("head",LB),this.loca=t.readTable("loca",BB),this.hhea=t.readTable("hhea",VB),this.maxp=t.readTable("maxp",zB),this.hmtx=t.readTable("hmtx",jB),this.glyf=t.readTable("glyf",HB),this.name=t.readTable("name",WB),this.post=t.readTable("post",UB),this.cmap=t.readTable("cmap",$B),this.os2=t.readTable("OS/2",YB),this.psName=this.name.postscriptName,this.ascent=this.os2.ascent||this.hhea.ascent,this.descent=this.os2.descent||this.hhea.descent,this.lineGap=this.os2.lineGap||this.hhea.lineGap,this.scale=1e3/this.head.unitsPerEm},widthOfGlyph:function(t){return this.hmtx.forGlyph(t).advance*this.scale},makeSubset:function(){return new GB(this)}};const KB=n("wSl+").deflate,ZB=WF.browser,QB="\n";var JB=0;const tV={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};var eV={"Times-Roman":!0,"Times-Bold":!0,"Times-Italic":!0,"Times-BoldItalic":!0,Helvetica:!0,"Helvetica-Bold":!0,"Helvetica-Oblique":!0,"Helvetica-BoldOblique":!0,Courier:!0,"Courier-Bold":!0,"Courier-Oblique":!0,"Courier-BoldOblique":!0,Symbol:!0,ZapfDingbats:!0};function nV(t,e,n){for(;t.length<e;)t=n+t;return t}function iV(t,e){return nV(String(t),e,"0")}function lV(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var sV=Array.isArray||function(t){return t instanceof Array};function rV(t,e){e("["),t.length>0&&e.withIndent((function(){for(var n=0;n<t.length;++n)n>0&&n%8==0?e.indent(t[n]):e(" ",t[n])})),e(" ]")}function oV(t,e){e("(D:",iV(t.getUTCFullYear(),4),iV(t.getUTCMonth()+1,2),iV(t.getUTCDate(),2),iV(t.getUTCHours(),2),iV(t.getUTCMinutes(),2),iV(t.getUTCSeconds(),2),"Z)")}function aV(t){return t*(72/25.4)}function uV(t){return aV(10*t)}function cV(t){return 72*t}function hV(t,e){if("number"==typeof t)return t;var n;if("string"==typeof t&&(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(t))){var i=parseFloat(n[1]);if(!isNaN(i))return"pt"==n[2]?i:{mm:aV,cm:uV,in:cV}[n[2]](i)}if(null!=e)return e;throw new Error("Can't parse unit: "+t)}function dV(){}function pV(t,e,n){for(var i in n||(n=dV),t.prototype=new n,e)lV(e,i)&&(t.prototype[i]=e[i]);return t}dV.prototype.beforeRender=function(){};var mV=pV((function(t){this.value=t}),{render:function(t){for(var e="",n=this.value,i=0;i<n.length;++i)e+=String.fromCharCode(255&n.charCodeAt(i));t("(",e.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}}),gV=pV((function(t){this.value=t}),{render:function(t){t("<");for(var e=0;e<this.value.length;++e)t(iV(this.value.charCodeAt(e).toString(16),4));t(">")}},mV),fV=pV((function(t){this.name=t}),{render:function(t){t("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,(function(t){return"#"+iV(t.charCodeAt(0).toString(16),2)}))},toString:function(){return this.name}}),bV={};function vV(t){return lV(bV,t)?bV[t]:bV[t]=new fV(t)}fV.get=vV;var yV=pV((function(t){this.props=t}),{render:function(t){var e=this.props,n=!0;t("<<"),t.withIndent((function(){for(var i in e)lV(e,i)&&!/^_/.test(i)&&(n=!1,t.indent(vV(i)," ",e[i]))})),n||t.indent(),t(">>")}}),wV=pV((function(t,e,n){if("string"==typeof t){var i=IB();i.write(t),t=i}this.data=t,this.props=e||{},this.compress=n}),{render:function(t){var e=this.data.get(),n=this.props;this.compress&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(vV("FlateDecode")),e=KB(e)),n.Length=e.length,t(new yV(n)," stream",QB),t.writeData(e),t(QB,"endstream")}});pV((function(){this.props={Type:vV("Catalog")}}),{setPages:function(t){this.props.Pages=t}},yV),pV((function(){this.props={Type:vV("Pages"),Kids:[],Count:0}}),{addPage:function(t){this.props.Kids.push(t),this.props.Count++}},yV),pV((function(t){this.props={Type:vV("Font"),Subtype:vV("Type1"),BaseFont:vV(t)},this._resourceName=vV("F"+ ++JB)}),{encodeText:function(t){return new mV(String(t))}},yV);var xV=pV((function(t,e,n){(n=this.props=n||{}).Type=vV("Font"),n.Subtype=vV("Type0"),n.Encoding=vV("Identity-H"),this._pdf=t,this._font=e,this._sub=e.makeSubset(),this._resourceName=vV("F"+ ++JB);var i=e.head;this.name=e.psName;var l=this.scale=e.scale;this.bbox=[i.xMin*l,i.yMin*l,i.xMax*l,i.yMax*l],this.italicAngle=e.post.italicAngle,this.ascent=e.ascent*l,this.descent=e.descent*l,this.lineGap=e.lineGap*l,this.capHeight=e.os2.capHeight||this.ascent,this.xHeight=e.os2.xHeight||0,this.stemV=0,this.familyClass=(e.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(e.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}),{encodeText:function(t){return new gV(this._sub.encodeText(String(t)))},getTextWidth:function(t,e){for(var n=0,i=this._font.cmap.codeMap,l=0;l<e.length;++l){var s=i[e.charCodeAt(l)];n+=this._font.widthOfGlyph(s||0)}return n*t/1e3},beforeRender:function(){var t=this,e=t._sub,n=e.render(),i=new wV(IB(n),{Length1:n.length},!0),l=t._pdf.attach(new yV({Type:vV("FontDescriptor"),FontName:vV(t._sub.psName),FontBBox:t.bbox,Flags:t.flags,StemV:t.stemV,ItalicAngle:t.italicAngle,Ascent:t.ascent,Descent:t.descent,CapHeight:t.capHeight,XHeight:t.xHeight,FontFile2:t._pdf.attach(i)})),s=e.ncid2ogid,r=e.firstChar,o=e.lastChar,a=[];!function e(n,i){if(n<=o){var l=s[n];null==l?e(n+1):(i||a.push(n,i=[]),i.push(t._font.widthOfGlyph(l)),e(n+1,i))}}(r);var u=new yV({Type:vV("Font"),Subtype:vV("CIDFontType2"),BaseFont:vV(t._sub.psName),CIDSystemInfo:new yV({Registry:new mV("Adobe"),Ordering:new mV("Identity"),Supplement:0}),FontDescriptor:l,FirstChar:r,LastChar:o,DW:Math.round(t._font.widthOfGlyph(0)),W:a,CIDToGIDMap:t._pdf.attach(t._makeCidToGidMap())}),c=t.props;c.BaseFont=vV(t._sub.psName),c.DescendantFonts=[t._pdf.attach(u)];var h=new kV(r,o,e.subset),d=new wV(function(){var t=0,e=IB();function n(){for(var t=0;t<arguments.length;++t){var i=arguments[t];if(void 0===i)throw new Error("Cannot output undefined to PDF");if(i instanceof dV)i.beforeRender(n),i.render(n);else if(sV(i))rV(i,n);else if(i instanceof Date)oV(i,n);else if("number"==typeof i){if(isNaN(i))throw new Error("Cannot output NaN to PDF");var l=i.toFixed(7);l.indexOf(".")>=0&&(l=l.replace(/\.?0+$/,"")),"-0"==l&&(l="0"),e.writeString(l)}else/string|boolean/.test(typeof i)?e.writeString(String(i)):"function"==typeof i.get?e.write(i.get()):"object"==typeof i&&(i?n(new yV(i)):e.writeString("null"))}}return n.writeData=function(t){e.write(t)},n.withIndent=function(e){++t,e(n),--t},n.indent=function(){n(QB,nV("",2*t,"  ")),n.apply(null,arguments)},n.offset=function(){return e.offset()},n.toString=function(){throw new Error("FIX CALLER")},n.get=function(){return e.get()},n.stream=function(){return e},n}(),null,!0);d.data(h),c.ToUnicode=t._pdf.attach(d)},_makeCidToGidMap:function(){return new wV(IB(this._sub.cidToGidMap()),null,!0)}},yV),kV=pV((function(t,e,n){this.firstChar=t,this.lastChar=e,this.map=n}),{render:function(t){t.indent("/CIDInit /ProcSet findresource begin"),t.indent("12 dict begin"),t.indent("begincmap"),t.indent("/CIDSystemInfo <<"),t.indent("  /Registry (Adobe)"),t.indent("  /Ordering (UCS)"),t.indent("  /Supplement 0"),t.indent(">> def"),t.indent("/CMapName /Adobe-Identity-UCS def"),t.indent("/CMapType 2 def"),t.indent("1 begincodespacerange"),t.indent("  <0000><ffff>"),t.indent("endcodespacerange");var e=this;t.indent(e.lastChar-e.firstChar+1," beginbfchar"),t.withIndent((function(){for(var n=e.firstChar;n<=e.lastChar;++n){var i=[e.map[n]].map((function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+String.fromCharCode(t)})).join("");t.indent("<",iV(n.toString(16),4),">","<");for(var l=0;l<i.length;++l)t(iV(i.charCodeAt(l).toString(16),4));t(">")}})),t.indent("endbfchar"),t.indent("endcmap"),t.indent("CMapName currentdict /CMap defineresource pop"),t.indent("end"),t.indent("end")}});function _V(t){return t.map((function(t){return sV(t)?_V(t):"number"==typeof t?(Math.round(1e3*t)/1e3).toFixed(3):t})).join(" ")}function CV(t,e,n,i,l,s,r){var o=_V([e,n,i,l,s,r]),a=t.GRAD_COL_FUNCTIONS[o];return a||(a=t.GRAD_COL_FUNCTIONS[o]=t.attach(new yV({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[e,n,i],C1:[l,s,r]}))),a}function TV(t,e,n){var i=_V([e,n]),l=t.GRAD_OPC_FUNCTIONS[i];return l||(l=t.GRAD_OPC_FUNCTIONS[i]=t.attach(new yV({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[e],C1:[n]}))),l}pV((function(t,e){this._pdf=t,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(e=this.props=e||{}).Type=vV("Page"),e.ProcSet=[vV("PDF"),vV("Text"),vV("ImageB"),vV("ImageC"),vV("ImageI")],e.Resources=new yV({Font:new yV(this._fontResources),ExtGState:new yV(this._gsResources),XObject:new yV(this._xResources),Pattern:new yV(this._patResources),Shading:new yV(this._shResources)}),e.Annots=this._annotations}),{_out:function(){this._content.data.apply(null,arguments)},transform:function(t,e,n,i,l,s){AV(arguments)||(this._matrix=PV(arguments,this._matrix),this._out(t," ",e," ",n," ",i," ",l," ",s," cm"),this._out(QB))},translate:function(t,e){this.transform(1,0,0,1,t,e)},scale:function(t,e){this.transform(t,0,0,e,0,0)},rotate:function(t){var e=Math.cos(t),n=Math.sin(t);this.transform(e,n,-n,e,0,0)},beginText:function(){this._textMode=!0,this._out("BT",QB)},endText:function(){this._textMode=!1,this._out("ET",QB)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(t,e){this._requireTextMode(),null==t?t=this._font:t instanceof xV||(t=this._pdf.getFont(t)),null==e&&(e=this._fontSize),this._fontResources[t._resourceName]=t,this._font=t,this._fontSize=e,this._out(t._resourceName," ",e," Tf",QB)},setTextLeading:function(t){this._requireTextMode(),this._out(t," TL",QB)},setTextRenderingMode:function(t){this._requireTextMode(),this._out(t," Tr",QB)},showText:function(t,e){if(this._requireFont(),t.length>1&&e&&this._font instanceof xV){var n=this._font.getTextWidth(this._fontSize,t);this._out(e/n*100," Tz ")}this._out(this._font.encodeText(t)," Tj",QB)},showTextNL:function(t){this._requireFont(),this._out(this._font.encodeText(t)," '",QB)},addLink:function(t,e){var n=this._toPage({x:e.left,y:e.bottom}),i=this._toPage({x:e.right,y:e.top});this._annotations.push(new yV({Type:vV("Annot"),Subtype:vV("Link"),Rect:[n.x,n.y,i.x,i.y],Border:[0,0,0],A:new yV({Type:vV("Action"),S:vV("URI"),URI:new mV(t)})}))},setStrokeColor:function(t,e,n){this._out(t," ",e," ",n," RG",QB)},setOpacity:function(t){this.setFillOpacity(t),this.setStrokeOpacity(t),this._opacity*=t},setStrokeOpacity:function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!0);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",QB)}},setFillColor:function(t,e,n){this._out(t," ",e," ",n," rg",QB)},setFillOpacity:function(t){if(t<1){var e=this._pdf.getOpacityGS(this._opacity*t,!1);this._gsResources[e._resourceName]=e,this._out(e._resourceName," gs",QB)}},gradient:function(t,e){this.save(),this.rect(e.left,e.top,e.width,e.height),this.clip(),t.userSpace||this.transform(e.width,0,0,e.height,e.left,e.top);var n,i=function(t,e,n){var i="radial"==e.type,l=function(t,e){var n,i,l,s,r=!1,o=[],a=[],u=[],c=[];for(n=1;n<e.length;++n)a.push(CV(t,(l=e[n-1].color).r,l.g,l.b,(s=(i=e[n]).color).r,s.g,s.b)),(l.a<1||s.a<1)&&(r=!0),u.push(i.offset),c.push(0,1);if(r)for(n=1;n<e.length;++n)o.push(TV(t,(l=e[n-1].color).a,(s=(i=e[n]).color).a));return u.pop(),{hasAlpha:r,colors:h(a),opacities:r?h(o):null};function h(t){return 1==t.length?t[0]:{FunctionType:3,Functions:t,Domain:[0,1],Bounds:u,Encode:c}}}(t,e.stops),s=i?[e.start.x,e.start.y,e.start.r,e.end.x,e.end.y,e.end.r]:[e.start.x,e.start.y,e.end.x,e.end.y],r=function(t,e,n,i,l,s){var r,o;if(!s){var a=[e].concat(i);n.forEach((function(t){a.push(t.offset,t.color.r,t.color.g,t.color.b)})),o=_V(a),r=t.GRAD_COL[o]}return r||(r=new yV({Type:vV("Shading"),ShadingType:e?3:2,ColorSpace:vV("DeviceRGB"),Coords:i,Domain:[0,1],Function:l,Extend:[!0,!0]}),t.attach(r),r._resourceName="S"+ ++JB,o&&(t.GRAD_COL[o]=r)),r}(t,i,e.stops,s,l.colors,e.userSpace&&n),o=l.hasAlpha?function(t,e,n,i,l,s){var r,o;if(!s){var a=[e].concat(i);n.forEach((function(t){a.push(t.offset,t.color.a)})),o=_V(a),r=t.GRAD_OPC[o]}return r||(r=new yV({Type:vV("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:vV("Mask"),S:vV("Luminosity"),G:t.attach(new wV("/a0 gs /s0 sh",{Type:vV("XObject"),Subtype:vV("Form"),FormType:1,BBox:s?[s.left,s.top+s.height,s.left+s.width,s.top]:[0,1,1,0],Group:{Type:vV("Group"),S:vV("Transparency"),CS:vV("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:vV("DeviceGray"),Coords:i,Domain:[0,1],ShadingType:e?3:2,Function:l,Extend:[!0,!0]}}}}))}}),t.attach(r),r._resourceName="O"+ ++JB,o&&(t.GRAD_OPC[o]=r)),r}(t,i,e.stops,s,l.opacities,e.userSpace&&n):null;return{hasAlpha:l.hasAlpha,shading:r,opacity:o}}(this._pdf,t,e),l=i.shading._resourceName;this._shResources[l]=i.shading,i.hasAlpha&&(this._gsResources[n=i.opacity._resourceName]=i.opacity,this._out("/"+n+" gs ")),this._out("/"+l+" sh",QB),this.restore()},setDashPattern:function(t,e){this._out(t," ",e," d",QB)},setLineWidth:function(t){this._out(t," w",QB)},setLineCap:function(t){this._out(t," J",QB)},setLineJoin:function(t){this._out(t," j",QB)},setMitterLimit:function(t){this._out(t," M",QB)},save:function(){this._contextStack.push(this._context()),this._out("q",QB)},restore:function(){this._out("Q",QB),this._context(this._contextStack.pop())},moveTo:function(t,e){this._out(t," ",e," m",QB)},lineTo:function(t,e){this._out(t," ",e," l",QB)},bezier:function(t,e,n,i,l,s){this._out(t," ",e," ",n," ",i," ",l," ",s," c",QB)},bezier1:function(t,e,n,i){this._out(t," ",e," ",n," ",i," y",QB)},bezier2:function(t,e,n,i){this._out(t," ",e," ",n," ",i," v",QB)},close:function(){this._out("h",QB)},rect:function(t,e,n,i){this._out(t," ",e," ",n," ",i," re",QB)},ellipse:function(t,e,n,i){function l(e){return t+e}function s(t){return e+t}var r=.5522847498307936;this.moveTo(l(0),s(i)),this.bezier(l(n*r),s(i),l(n),s(i*r),l(n),s(0)),this.bezier(l(n),s(-i*r),l(n*r),s(-i),l(0),s(-i)),this.bezier(l(-n*r),s(-i),l(-n),s(-i*r),l(-n),s(0)),this.bezier(l(-n),s(i*r),l(-n*r),s(i),l(0),s(i))},circle:function(t,e,n){this.ellipse(t,e,n,n)},stroke:function(){this._out("S",QB)},nop:function(){this._out("n",QB)},clip:function(){this._out("W n",QB)},clipStroke:function(){this._out("W S",QB)},closeStroke:function(){this._out("s",QB)},fill:function(){this._out("f",QB)},fillStroke:function(){this._out("B",QB)},drawImage:function(t){var e=this._pdf.getImage(t);e&&(this._xResources[e._resourceName]=e,this._out(e._resourceName," Do",QB))},comment:function(t){var e=this;t.split(/\r?\n/g).forEach((function(t){e._out("% ",t,QB)}))},_context:function(t){if(null==t)return{opacity:this._opacity,matrix:this._matrix};this._opacity=t.opacity,this._matrix=t.matrix},_toPage:function(t){var e=this._matrix;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}}},yV);var SV={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function MV(t,e){t=t.toLowerCase(),SV[t]=function(){return SV[e]},SV[t+"|bold"]=function(){return SV[e+"|bold"]},SV[t+"|italic"]=function(){return SV[e+"|italic"]},SV[t+"|bold|italic"]=function(){return SV[e+"|bold|italic"]}}function PV(t,e){var n=t[0],i=t[1],l=t[2],s=t[3],r=t[4],o=t[5],a=e[0],u=e[1],c=e[2],h=e[3];return[n*a+i*c,n*u+i*h,l*a+s*c,l*u+s*h,r*a+o*c+e[4],r*u+o*h+e[5]]}function AV(t){return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]}MV("Times New Roman","serif"),MV("Courier New","monospace"),MV("Arial","sans-serif"),MV("Helvetica","sans-serif"),MV("Verdana","sans-serif"),MV("Tahoma","sans-serif"),MV("Georgia","sans-serif"),MV("Monaco","monospace"),MV("Andale Mono","monospace");const EV=WF.browser||{};function IV(t){return Array.prototype.slice.call(t)}var DV="KENDO-PSEUDO-ELEMENT",OV={},FV=function(){var t={};return t._root=t,t}();const NV=!("undefined"==typeof window)&&(EV.msie||EV.edge);class RV extends uL{constructor(t,e,n){super(t,e.getOrigin(),n),this._pdfRect=e}rect(){return this._pdfRect}rawBBox(){return this._pdfRect}}function LV(t,e){Object.keys(e).forEach((function(n){t.style[n]=e[n]}))}var BV,VV="undefined"!=typeof Element&&Element.prototype&&((BV=Element.prototype).matches?function(t,e){return t.matches(e)}:BV.webkitMatchesSelector?function(t,e){return t.webkitMatchesSelector(e)}:BV.mozMatchesSelector?function(t,e){return t.mozMatchesSelector(e)}:BV.msMatchesSelector?function(t,e){return t.msMatchesSelector(e)}:function(t){return-1!==[].indexOf.call(document.querySelectorAll(t),this)});function zV(t,e){if(t.closest)return t.closest(e);for(;t&&!/^\[object (?:HTML)?Document\]$/.test(String(t));){if(1==t.nodeType&&VV(t,e))return t;t=t.parentNode}}var jV,HV=(jV="undefined"!=typeof window&&window.kendo&&window.kendo.jQuery)?function t(e){var n=e.cloneNode(!1);if(1==e.nodeType){var i,l=jV(e),s=jV(n),r=l.data();for(i in r)s.data(i,r[i]);for(/^canvas$/i.test(e.tagName)?n.getContext("2d").drawImage(e,0,0):/^(?:input|select|textarea|option)$/i.test(e.tagName)&&(n.removeAttribute("id"),n.removeAttribute("name"),n.value=e.value,n.checked=e.checked,n.selected=e.selected),i=e.firstChild;i;i=i.nextSibling)n.appendChild(t(i))}return n}:function(t){const e=function t(e){const n=e.cloneNode(!1);e._kendoExportVisual&&(n._kendoExportVisual=e._kendoExportVisual);for(let i=e.firstChild;i;i=i.nextSibling)n.appendChild(t(i));return n}(t),n=t.querySelectorAll("canvas");n.length&&IV(e.querySelectorAll("canvas")).forEach((t,e)=>{t.getContext("2d").drawImage(n[e],0,0)});const i=t.querySelectorAll("input, select, textarea, option");return IV(e.querySelectorAll("input, select, textarea, option")).forEach((t,e)=>{t.removeAttribute("id"),t.removeAttribute("name"),t.value=i[e].value,t.checked=i[e].checked,t.selected=i[e].selected}),e};function WV(t,e){e||(e={});var n=sN();if(!t)return n.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");!function t(e,n){if(1==arguments.length)for(var i in e)lV(e,i)&&t(i,e[i]);else switch(e=e.toLowerCase(),SV[e]=n,e){case"dejavu sans":SV["sans-serif"]=n;break;case"dejavu sans|bold":SV["sans-serif|bold"]=n;break;case"dejavu sans|italic":SV["sans-serif|italic"]=n;break;case"dejavu sans|bold|italic":SV["sans-serif|bold|italic"]=n;break;case"dejavu serif":SV.serif=n;break;case"dejavu serif|bold":SV["serif|bold"]=n;break;case"dejavu serif|italic":SV["serif|italic"]=n;break;case"dejavu serif|bold|italic":SV["serif|bold|italic"]=n;break;case"dejavu mono":SV.monospace=n;break;case"dejavu mono|bold":SV["monospace|bold"]=n;break;case"dejavu mono|italic":SV["monospace|italic"]=n;break;case"dejavu mono|bold|italic":SV["monospace|bold|italic"]=n}}(XV(t.ownerDocument));var i,l="number"==typeof(i=e.scale||1)?{x:i,y:i}:Array.isArray(i)?{x:i[0],y:i[1]}:{x:i.x,y:i.y};function s(t){var n,i,s=new mL,r=t.getBoundingClientRect();return gz(s,[l.x,0,0,l.y,-r.left*l.x,-r.top*l.y]),FV._clipbox=!1,FV._matrix=VN.unit(),FV._stackingContext={element:t,group:s},FV._avoidLinks=!0===e.avoidLinks?"a":e.avoidLinks,i="k-pdf-export",(n=t).classList?n.classList.add(i):n.className+=" "+i,Az(t,s),function(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/\s+/).reduce((function(t,n){return n!=e&&t.push(n),t}),[]).join(" ")}(t,"k-pdf-export"),s}return nz(t,(function(){var i=e&&e.forcePageBreak,r=e&&e.paperSize&&"auto"!=e.paperSize,o=function(t){if("function"!=typeof t){var e=t;t=function(t,n){return t in e?e[t]:n}}var n=t("paperSize",tV.a4);if(!n)return{};if("string"==typeof n&&null==(n=tV[n.toLowerCase()]))throw new Error("Unknown paper size");n[0]=hV(n[0]),n[1]=hV(n[1]),t("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var i=t("margin");return i&&(i="string"==typeof i||"number"==typeof i?{left:i=hV(i,0),top:i,right:i,bottom:i}:{left:hV(i.left,0),top:hV(i.top,0),right:hV(i.right,0),bottom:hV(i.bottom,0)},t("addMargin")&&(n[0]+=i.left+i.right,n[1]+=i.top+i.bottom)),{paperSize:n,margin:i}}((function(t,n){return"paperSize"==t?r?e[t]:"A4":t in e?e[t]:n})),a=r&&o.paperSize[0],u=r&&o.paperSize[1],c=e.margin&&o.margin,h=Boolean(c);if(i||u){c||(c={left:0,top:0,right:0,bottom:0}),a&&(a/=l.x),u&&(u/=l.y),c.left/=l.x,c.right/=l.x,c.top/=l.y,c.bottom/=l.y;var d=new mL({pdf:{multiPage:!0,paperSize:r?o.paperSize:"auto",_ignoreMargin:h}});!function(t,e,n,i,l,s,r){var o=function(t){if(null!=t)return"string"==typeof t&&(t=function(){throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.")}(t.replace(/^\s+|\s+$/g,""))),"function"==typeof t?function(e){var n=t(e);if(n&&"string"==typeof n){var i=document.createElement("div");i.innerHTML=n,n=i.firstElementChild}return n}:function(){return t.cloneNode(!0)}}(r.template),a=e.ownerDocument,u=[],c=r._destructive?e:HV(e),h=a.createElement("KENDO-PDF-DOCUMENT"),d=0;function p(){("-"!=n||l)&&function t(e){if("TABLE"==e.tagName&&LV(e,{tableLayout:"fixed"}),!m(e)){var i=oz(e),s=parseFloat(az(i,"padding-bottom")),r=parseFloat(az(i,"border-bottom-width")),o=d;d+=s+r;for(var a=!0,u=e.firstChild;u;u=u.nextSibling)if(1==u.nodeType){if(a=!1,VV(u,n)){g(u);continue}if(!l){t(u);continue}if(!/^(?:static|relative)$/.test(az(oz(u),"position")))continue;var c=b(u);1==c?g(u):c&&m(u)?g(u):t(u)}else 3==u.nodeType&&l&&(v(u,a),a=!1);d=o}}(c);{let t=f();c.parentNode.insertBefore(t,c),t.appendChild(c)}o&&u.forEach((function(t,e){const n=o({element:t,pageNum:e+1,totalPages:u.length});n&&t.appendChild(n)})),nz(u,(function(){!function(t,e){var n=0;function i(){--n<=0&&e()}t.forEach((function(t){for(var e=t.querySelectorAll("img"),l=0;l<e.length;++l){var s=e[l];s.complete||(n++,s.onload=s.onerror=i)}})),n||i()}(u,(function(){t({pages:u,container:h})}))}))}function m(t){return!!(r.keepTogether&&VV(t,r.keepTogether)&&t.offsetHeight<=l-d)||!(/^h[1-6]$/i.test(t.tagName)&&t.offsetHeight>=l-d)&&(t.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(t.tagName))}function g(t){if(1==t.nodeType&&t!==c&&function(t){var e=t.parentNode,n=e.firstChild;if(t===n)return!0;if(t===e.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}(t))return g(t.parentNode);var e,n,i,l,s;n=(e=zV(t,"table"))&&e.querySelector("colgroup"),r.repeatHeaders&&(i=e&&e.querySelector("thead"),(l=zV(t,".k-grid.k-widget"))&&l.querySelector(".k-auto-scrollable")&&(s=l.querySelector(".k-grid-header")));var o=f(),u=a.createRange();u.setStartBefore(c),u.setEndBefore(t),o.appendChild(u.extractContents()),c.parentNode.insertBefore(o,c),y(t.parentNode),e&&(e=zV(t,"table"),r.repeatHeaders&&i&&e.insertBefore(i.cloneNode(!0),e.firstChild),n&&e.insertBefore(n.cloneNode(!0),e.firstChild)),r.repeatHeaders&&s&&(l=zV(t,".k-grid.k-widget")).insertBefore(s.cloneNode(!0),l.firstChild)}function f(){var t=a.createElement("KENDO-PDF-PAGE");return LV(t,{display:"block",boxSizing:"content-box",width:i?i+"px":"auto",padding:s.top+"px "+s.right+"px "+s.bottom+"px "+s.left+"px",position:"relative",height:l?l+"px":"auto",overflow:l||i?"hidden":"visible",clear:"both"}),r&&r.pageClassName&&(t.className=r.pageClassName),u.push(t),t}function b(t){var e=t.getBoundingClientRect();if(0===e.width||0===e.height)return 0;var n=c.getBoundingClientRect().top,i=l-d;return e.height>i?3:e.top-n>i?1:e.bottom-n>i?2:0}function v(t,e){if(/\S/.test(t.data)){var n=t.data.length,i=a.createRange();i.selectNodeContents(t);var l=b(i);if(l){var s=t;if(1==l)g(e?t.parentNode:t);else if(function e(n,l,s){return i.setEnd(t,l),n==l||l==s?l:b(i)?e(n,n+l>>1,l):e(l,l+s>>1,s)}(0,n>>1,n),!/\S/.test(i.toString())&&e)g(t.parentNode);else{s=t.splitText(i.endOffset);var r=f();i.setStartBefore(c),r.appendChild(i.extractContents()),c.parentNode.insertBefore(r,c),y(s.parentNode)}v(s)}}}function y(t){var e=zV(t,"li");e&&(e.setAttribute("kendo-no-bullet","1"),y(e.parentNode))}IV(c.querySelectorAll("tfoot")).forEach((function(t){t.parentNode.appendChild(t)})),IV(c.querySelectorAll("ol")).forEach((function(t){IV(t.children).forEach((function(t,e){t.setAttribute("kendo-split-index",e)}))})),LV(h,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),i&&(LV(h,{width:i+"px",paddingLeft:s.left+"px",paddingRight:s.right+"px"}),LV(c,{overflow:"hidden"})),e.parentNode.insertBefore(h,e),h.appendChild(c),r.beforePageBreak?setTimeout((function(){r.beforePageBreak(h,p)}),15):setTimeout(p,15)}((function(t){if(e.progress){var i=!1,l=0;!function r(){if(l<t.pages.length){var o=s(t.pages[l]);d.append(o),e.progress({page:o,pageNum:++l,totalPages:t.pages.length,cancel:function(){i=!0}}),i?t.container.parentNode.removeChild(t.container):setTimeout(r)}else t.container.parentNode.removeChild(t.container),n.resolve(d)}()}else t.pages.forEach((function(t){d.append(s(t))})),t.container.parentNode.removeChild(t.container),n.resolve(d)}),t,i,a?a-c.left-c.right:null,u?u-c.top-c.bottom:null,c,e)}else n.resolve(s(t))})),n}WV.getFontFaces=XV,WV.drawText=function(t){var e=new mL;return FV._clipbox=!1,FV._matrix=VN.unit(),FV._stackingContext={element:t,group:e},lz(t,oz(t),e),3==t.firstChild.nodeType?Pz(t,t.firstChild,e):Tz(t,e),sz(),e};var UV,$V=function(){var t=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,e=/^([-0-9.]+%)/,n=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,l=/^([-0-9.]+(deg|grad|rad|turn)|0)/,s=/^(\s+)/,r=/^(\()/,o=/^(\))/,a=/^(,)/,u=/^(url)\(/,c=/^(.*?)\)/,h={},d={};function p(d){var p,m=d;if(KV(h,m))return h[m];function g(t){!function(){var t=s.exec(d);t&&(d=d.substr(t[1].length))}();var e=t.exec(d);if(e)return d=d.substr(e[1].length),e[1]}function f(){var t,i,l=eN(d,!0);if(l){let s=/^#[0-9a-f]+/i.exec(d)||/^rgba?\(.*?\)/i.exec(d)||/^..*?\b/.exec(d);return d=d.substr(s[0].length),l=l.toRGB(),(t=g(n))||(i=g(e)),{color:l,length:t,percent:i}}}return(p=g(t))?p=function(t){var n,s,u,c=[],h=!1;if(g(r)){if("0"==(n=g(l))&&(n="0deg"),n?(n=function(t){var e=parseFloat(t);return/grad$/.test(t)?Math.PI*e/200:/rad$/.test(t)?e:/turn$/.test(t)?Math.PI*e*2:/deg$/.test(t)?Math.PI*e/180:void 0}(n),g(a)):("to"==(s=g(i))?s=g(i):s&&/^-/.test(t)&&(h=!0),u=g(i),g(a)),/-moz-/.test(t)&&null==n&&null==s){var p=g(e),m=g(e);h=!0,"0%"==p?s="left":"100%"==p&&(s="right"),"0%"==m?u="top":"100%"==m&&(u="bottom"),g(a)}for(;d&&!g(o);){var b=f();if(!b)break;c.push(b),g(a)}return{type:"linear",angle:n,to:s&&u?s+" "+u:s||u||null,stops:c,reverse:h}}}(p):(p=g(u))&&(p=function(){if(g(r)){var t=g(c);return t=t.replace(/^['"]+|["']+$/g,""),g(o),{type:"url",url:t}}}()),h[m]=p||{type:"none"}}return function(t){return KV(d,t)?d[t]:d[t]=YV(t).map(p)}}(),YV=(UV={},function(t,e){e||(e=/^\s*,\s*/);var n=t+e;if(KV(UV,n))return UV[n];var i,l=[],s=0,r=0,o=0,a=!1;function u(e){return i=e.exec(t.substr(r))}function c(t){return t.replace(/^\s+|\s+$/g,"")}for(;r<t.length;)!a&&u(/^[\(\[\{]/)?(o++,r++):!a&&u(/^[\)\]\}]/)?(o--,r++):!a&&u(/^[\"\']/)?(a=i[0],r++):"'"==a&&u(/^\\\'/)?r+=2:'"'==a&&u(/^\\\"/)?r+=2:"'"==a&&u(/^\'/)?(a=!1,r++):'"'==a&&u(/^\"/)?(a=!1,r++):u(e)?(!a&&!o&&r>s&&(l.push(c(t.substring(s,r))),s=r+i[0].length),r+=i[0].length):r++;return s<r&&l.push(c(t.substring(s,r))),UV[n]=l}),qV=function(t){return function(e){var n,i=t[e];return i||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(e))?i=t[e]=n[2]:(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(e))&&(i=t[e]=n[2])),i}}(Object.create(null)),GV=function(t){return function(e){var n=t[e];return null==n&&(n=t[e]=DN("Mapq",{font:e}).height),n}}(Object.create(null));function XV(t){null==t&&(t=document);for(var e={},n=0;n<t.styleSheets.length;++n)i(t.styleSheets[n]);return e;function i(t){if(t){var e=null;try{e=t.cssRules}catch(n){}e&&function(t,e){for(var n=0;n<e.length;++n){var r=e[n];switch(r.type){case 3:i(r.styleSheet);break;case 5:var o=r.style,a=YV(az(o,"font-family")),u=/^([56789]00|bold)$/i.test(az(o,"font-weight")),c="italic"==az(o,"font-style"),h=l(r);h.length>0&&s(t,a,u,c,h[0])}}}(t,e)}}function l(t){var e=az(t.style,"src");if(e)return YV(e).reduce((function(t,e){var n=qV(e);return n&&t.push(n),t}),[]);var n=qV(t.cssText);return n?[n]:[]}function s(t,n,i,l,s){/^data:/i.test(s)||/^[^\/:]+:\/\//.test(s)||/^\//.test(s)||(s=String(t.href).replace(/[^\/]*$/,"")+s),n.forEach((function(t){t=t.replace(/^(['"]?)(.*?)\1$/,"$2"),i&&(t+="|bold"),l&&(t+="|italic"),e[t]=s}))}}function KV(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ZV(t,e){var n=FV;for(t="_counter_"+t;n&&!KV(n,t);)n=Object.getPrototypeOf(n);n||(n=FV._root),n[t]=(n[t]||0)+(null==e?1:e)}function QV(t,e){FV[t="_counter_"+t]=null==e?0:e}function JV(t,e,n){for(var i=0;i<t.length;){var l=t[i++],s=parseFloat(t[i]);isNaN(s)?e(l,n):(e(l,s),++i)}}function tz(t){var e=az(t,"counter-reset");e&&JV(YV(e,/^\s+/),QV,0);var n=az(t,"counter-increment");n&&JV(YV(n,/^\s+/),ZV,1)}function ez(t,e){var n=eN(t,!0);return n&&(n=n.toRGB(),e?n=n.toCssRgba():0===n.a&&(n=null)),n}function nz(t,e){var n=[];function i(t){OV[t]||(OV[t]=!0,n.push(t))}function l(t){/^img$/i.test(t.tagName)&&i(t.src),$V(az(oz(t),"background-image")).forEach((function(t){"url"==t.type&&i(t.url)})),t.children&&IV(t.children).forEach(l)}Array.isArray(t)?t.forEach(l):l(t);var s=n.length;function r(){--s<=0&&e()}0===s&&r(),n.forEach((function(t){var e=OV[t]=new window.Image;/^data:/i.test(t)||(e.crossOrigin="Anonymous"),e.src=t,e.complete?r():(e.onload=r,e.onerror=function(){OV[t]=null,r()})}))}function iz(t){var e="";do{e=String.fromCharCode(97+t%26)+e,t=Math.floor(t/26)}while(t>0);return e}function lz(t,e,n){(FV=Object.create(FV))[t.tagName.toLowerCase()]={element:t,style:e};var i=az(e,"text-decoration");if(i&&"none"!=i){var l=az(e,"color");i.split(/\s+/g).forEach((function(t){FV[t]||(FV[t]=l)}))}(function(t){function e(e){return az(t,e)}if("none"!=e("transform")||"static"!=e("position")||"auto"!=e("z-index")||e("opacity")<1)return!0})(e)&&(FV._stackingContext={element:t,group:n})}function sz(){FV=Object.getPrototypeOf(FV)}function rz(t){if(null!=FV._clipbox){var e=t.bbox(FV._matrix);FV._clipbox=FV._clipbox?YN.intersect(FV._clipbox,e):e}}function oz(t,e){return window.getComputedStyle(t,e||null)}function az(t,e,n){var i=t.getPropertyValue(e);return null!=i&&""!==i||(EV.webkit?i=t.getPropertyValue("-webkit-"+e):EV.mozilla?i=t.getPropertyValue("-moz-"+e):EV.opera?i=t.getPropertyValue("-o-"+e):NV&&(i=t.getPropertyValue("-ms-"+e))),arguments.length>2&&(null==i||""===i)?n:i}function uz(t,e,n,i){t.setProperty(e,n,i),EV.webkit?t.setProperty("-webkit-"+e,n,i):EV.mozilla?t.setProperty("-moz-"+e,n,i):EV.opera?t.setProperty("-o-"+e,n,i):NV&&(t.setProperty("-ms-"+e,n,i),t[e="ms"+e.replace(/(^|-)([a-z])/g,(function(t,e,n){return e+n.toUpperCase()}))]=n)}function cz(t,e){return e="border-"+e,{width:parseFloat(az(t,e+"-width")),style:az(t,e+"-style"),color:ez(az(t,e+"-color"),!0)}}function hz(t,e){var n=t.style.cssText,i=e();return t.style.cssText=n,i}function dz(t,e){var n=az(t,"border-"+e+"-radius").split(/\s+/g).map(parseFloat);return 1==n.length&&n.push(n[0]),vz({x:n[0],y:n[1]})}function pz(t,e,n){var i,l,s,r,o;return"string"==typeof e?(i=oz(n),l=parseFloat(az(i,e.replace("*","top"))),s=parseFloat(az(i,e.replace("*","right"))),r=parseFloat(az(i,e.replace("*","bottom"))),o=parseFloat(az(i,e.replace("*","left")))):"number"==typeof e&&(l=s=r=o=e),{top:t.top+l,right:t.right-s,bottom:t.bottom-r,left:t.left+o,width:t.right-t.left-s-o,height:t.bottom-t.top-r-l}}function mz(t){return 180*t/Math.PI%360}function gz(t,e){return e=new VN(e[0],e[1],e[2],e[3],e[4],e[5]),t.transform(e),e}function fz(t,e){t.clip(e)}function bz(t,e,n,i){for(var l=new vR([e,n],i).curvePoints(),s=1;s<l.length;)t.curveTo(l[s++],l[s++],l[s++])}function vz(t){return(t.x<=0||t.y<=0)&&(t.x=t.y=0),t}function yz(t,e,n,i,l){var s=Math.max(0,e.x),r=Math.max(0,e.y),o=Math.max(0,n.x),a=Math.max(0,n.y),u=Math.max(0,i.x),c=Math.max(0,i.y),h=Math.max(0,l.x),d=Math.max(0,l.y),p=Math.min(t.width/(s+o),t.height/(a+c),t.width/(u+h),t.height/(d+r));return p<1&&(s*=p,r*=p,o*=p,a*=p,u*=p,c*=p,h*=p,d*=p),{tl:{x:s,y:r},tr:{x:o,y:a},br:{x:u,y:c},bl:{x:h,y:d}}}function wz(t,e,n){var i=oz(t),l=dz(i,"top-left"),s=dz(i,"top-right"),r=dz(i,"bottom-left"),o=dz(i,"bottom-right");if("padding"==n||"content"==n){var a=cz(i,"top"),u=cz(i,"right"),c=cz(i,"bottom"),h=cz(i,"left");if(l.x-=h.width,l.y-=a.width,s.x-=u.width,s.y-=a.width,o.x-=u.width,o.y-=c.width,r.x-=h.width,r.y-=c.width,"content"==n){var d=parseFloat(az(i,"padding-top")),p=parseFloat(az(i,"padding-right")),m=parseFloat(az(i,"padding-bottom")),g=parseFloat(az(i,"padding-left"));l.x-=g,l.y-=d,s.x-=p,s.y-=d,o.x-=p,o.y-=m,r.x-=g,r.y-=m}}return"number"==typeof n&&(l.x-=n,l.y-=n,s.x-=n,s.y-=n,o.x-=n,o.y-=n,r.x-=n,r.y-=n),xz(e,l,s,o,r)}function xz(t,e,n,i,l){var s=yz(t,e,n,i,l),r=s.tl,o=s.tr,a=s.br,u=s.bl,c=new iL({fill:null,stroke:null});return c.moveTo(t.left,t.top+r.y),r.x&&bz(c,t.left+r.x,t.top+r.y,{startAngle:-180,endAngle:-90,radiusX:r.x,radiusY:r.y}),c.lineTo(t.right-o.x,t.top),o.x&&bz(c,t.right-o.x,t.top+o.y,{startAngle:-90,endAngle:0,radiusX:o.x,radiusY:o.y}),c.lineTo(t.right,t.bottom-a.y),a.x&&bz(c,t.right-a.x,t.bottom-a.y,{startAngle:0,endAngle:90,radiusX:a.x,radiusY:a.y}),c.lineTo(t.left+u.x,t.bottom),u.x&&bz(c,t.left+u.x,t.bottom-u.y,{startAngle:90,endAngle:180,radiusX:u.x,radiusY:u.y}),c.close()}function kz(t,e){var n=String(parseFloat(t));switch(e){case"decimal-leading-zero":return n.length<2&&(n="0"+n),n;case"lower-roman":return lN(t).toLowerCase();case"upper-roman":return lN(t).toUpperCase();case"lower-latin":case"lower-alpha":return iz(t-1);case"upper-latin":case"upper-alpha":return iz(t-1).toUpperCase();default:return n}}function _z(t){if(t.cssText)return t.cssText;for(var e=[],n=0;n<t.length;++n)e.push(t[n]+": "+az(t,t[n]));return e.join(";\n")}function Cz(t,e){if(t.tagName==DV)return void Tz(t,e);let n=[];function i(e,i){let l=oz(t,e),s=l.content;if(tz(l),s&&"normal"!=s&&"none"!=s&&"0px"!=l.width){let e=t.ownerDocument.createElement(DV);e.style.cssText=_z(l),e.textContent=function(t,e){function n(t,e,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(t){var e=[],n=FV;for(t="_counter_"+t;n;)KV(n,t)&&e.push(n[t]),n=Object.getPrototypeOf(n);return e.reverse()}(t).map((function(t){return kz(t,e)})).join(n)):kz(function(t){return FV[t="_counter_"+t]}(t)||0,e)}var i,l=YV(e,/^\s+/),s=[];return l.forEach((function(e){var l;(i=/^\s*(["'])(.*)\1\s*$/.exec(e))?s.push(i[2].replace(/\\([0-9a-f]{4})/gi,(function(t,e){return String.fromCharCode(parseInt(e,16))}))):(i=/^\s*counter\((.*?)\)\s*$/.exec(e))?(l=YV(i[1]),s.push(n(l[0],l[1]))):(i=/^\s*counters\((.*?)\)\s*$/.exec(e))?(l=YV(i[1]),s.push(n(l[0],l[2],l[1]))):(i=/^\s*attr\((.*?)\)\s*$/.exec(e))?s.push(t.getAttribute(i[1])||""):s.push(e)})),s.join("")}(t,s),t.insertBefore(e,i),n.push(e)}}if(i(":before",t.firstChild),i(":after",null),n.length>0){let i=t.className;t.className+=" kendo-pdf-hide-pseudo-elements",Tz(t,e),t.className=i,n.forEach((function(e){t.removeChild(e)}))}else Tz(t,e)}function Tz(t,e){var n=oz(t),i=cz(n,"top"),l=cz(n,"right"),s=cz(n,"bottom"),r=cz(n,"left"),o=dz(n,"top-left"),a=dz(n,"top-right"),u=dz(n,"bottom-left"),c=dz(n,"bottom-right"),h=az(n,"direction"),d=az(n,"background-color");d=ez(d);var p,m,g=$V(az(n,"background-image")),f=YV(az(n,"background-repeat")),b=YV(az(n,"background-position")),v=YV(az(n,"background-origin")),y=YV(az(n,"background-size"));NV&&"ellipsis"==(p=n.textOverflow)&&(m=t.style.textOverflow,t.style.textOverflow="clip"),EV.msie&&EV.version<10&&(b=YV(t.currentStyle.backgroundPosition));var w,x,k,_=pz(t.getBoundingClientRect(),"border-*-width",t);!function(){var t=az(n,"clip"),i=/^\s*rect\((.*)\)\s*$/.exec(t);if(i){var l=i[1].split(/[ ,]+/g),s="auto"==l[0]?_.top:parseFloat(l[0])+_.top,r="auto"==l[1]?_.right:parseFloat(l[1])+_.left,o="auto"==l[2]?_.bottom:parseFloat(l[2])+_.top,a="auto"==l[3]?_.left:parseFloat(l[3])+_.left,u=new mL,c=(new iL).moveTo(a,s).lineTo(r,s).lineTo(r,o).lineTo(a,o).close();fz(u,c),e.append(u),e=u,rz(c)}}();var C=az(n,"display");if("table-row"==C)for(w=[],x=0,k=t.children;x<k.length;++x)w.push(k[x].getBoundingClientRect());else 1==(w=t.getClientRects()).length&&(w=[t.getBoundingClientRect()]);for(w=function(e){if(/^td$/i.test(t.tagName)){var n=FV.table;if(n&&"collapse"==az(n.style,"border-collapse")){var i=cz(n.style,"left").width,l=cz(n.style,"top").width;if(0===i&&0===l)return e;var s=n.element.getBoundingClientRect(),r=n.element.rows[0].cells[0].getBoundingClientRect();if(r.top==s.top||r.left==s.left)return IV(e).map((function(t){return{left:t.left+i,top:t.top+l,right:t.right+i,bottom:t.bottom+l,height:t.height,width:t.width}}))}}return e}(w),x=0;x<w.length;++x)M(w[x],0===x,x==w.length-1);if("A"==t.tagName&&t.href&&!/^#?$/.test(t.getAttribute("href"))&&(!FV._avoidLinks||!VV(t,FV._avoidLinks))){const n=document.createRange();n.selectNodeContents(t),IV(n.getClientRects()).forEach((function(n){const i=new mL;i._pdfLink={url:t.href,top:n.top,right:n.right,bottom:n.bottom,left:n.left},e.append(i)}))}return w.length>0&&"list-item"==C&&!t.getAttribute("kendo-no-bullet")&&function(){var i=az(n,"list-style-type");if("none"!=i){var l=az(n,"list-style-position");switch(i){case"circle":case"disc":case"square":s((function(t){t.style.fontSize="60%",t.style.lineHeight="200%",t.style.paddingRight="0.5em",t.style.fontFamily="DejaVu Serif",t.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[i]}));break;case"decimal":case"decimal-leading-zero":s((function(t){r((function(e){++e,"decimal-leading-zero"==i&&e<10&&(e="0"+e),t.innerHTML=e+"."}))}));break;case"lower-roman":case"upper-roman":s((function(t){r((function(e){e=lN(e+1),"upper-roman"==i&&(e=e.toUpperCase()),t.innerHTML=e+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":s((function(t){r((function(e){e=iz(e),/^upper/i.test(i)&&(e=e.toUpperCase()),t.innerHTML=e+"."}))}))}}function s(n){hz(t,(function(){t.style.position="relative";var i=t.ownerDocument.createElement(DV);i.style.position="absolute",i.style.boxSizing="border-box","outside"==l?(i.style.width="6em",i.style.left="-6.8em",i.style.textAlign="right"):i.style.left="0px",n(i),t.insertBefore(i,t.firstChild),Az(i,e),t.removeChild(i)}))}function r(e){var n=t.parentNode.children,i=t.getAttribute("kendo-split-index");if(null!=i)return e(0|i,n.length);for(var l=0;l<n.length;++l)if(n[l]===t)return e(l,n.length)}}(),function(){function i(){var n=wz(t,_,"padding"),i=new mL;fz(i,n),e.append(i),e=i,rz(n)}!function(t){return/^(?:textarea|select|input)$/i.test(t.tagName)}(t)?/^(hidden|auto|scroll)/.test(az(n,"overflow"))?i():/^(hidden|auto|scroll)/.test(az(n,"overflow-x"))?i():/^(hidden|auto|scroll)/.test(az(n,"overflow-y"))&&i():i()}(),function(t,e){var n;if(t._kendoExportVisual)n=t._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&t.getAttribute(window.kendo.attr("role"))){var i=window.kendo.widgetInstance(window.kendo.jQuery(t));i&&(i.exportDOMVisual||i.exportVisual)&&(n=i.exportDOMVisual?i.exportDOMVisual():i.exportVisual())}if(!n)return!1;var l=new mL;l.children.push(n);var s=t.getBoundingClientRect();return l.transform(XN().translate(s.left,s.top)),e.append(l),!0}(t,e)||function t(e,n){switch(FV._stackingContext.element===e&&(FV._stackingContext.group=n),e.tagName.toLowerCase()){case"img":Sz(e,e.src,n);break;case"canvas":try{Sz(e,e.toDataURL("image/png"),n)}catch(u){}break;case"textarea":case"input":case"select":!function(e,n){var i=e.tagName.toLowerCase();if("input"==i&&("checkbox"==e.type||"radio"==e.type))return function(t,e){var n=az(oz(t),"color"),i=t.getBoundingClientRect();"checkbox"==t.type?(e.append(iL.fromRect(new YN([i.left+1,i.top+1],[i.width-2,i.height-2])).stroke(n,1)),t.checked&&e.append((new iL).stroke(n,1.2).moveTo(i.left+.22*i.width,i.top+.55*i.height).lineTo(i.left+.45*i.width,i.top+.75*i.height).lineTo(i.left+.78*i.width,i.top+.22*i.width))):(e.append(new uR(new eR([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-2,i.height-2)/2)).stroke(n,1)),t.checked&&e.append(new uR(new eR([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-8,i.height-8)/2)).fill(n).stroke(null)))}(e,n);var l,s=e.parentNode,r=e.ownerDocument,o=r.createElement(DV);if(o.style.cssText=_z(oz(e)),"input"==i&&(o.style.whiteSpace="pre"),"select"!=i&&"textarea"!=i||(o.style.overflow="auto"),"select"==i)if(e.multiple)for(var a=0;a<e.options.length;++a)(l=r.createElement(DV)).style.cssText=_z(oz(e.options[a])),l.style.display="block",l.textContent=e.options[a].textContent,o.appendChild(l);else(l=function(t){return t.selectedOptions&&t.selectedOptions.length>0?t.selectedOptions[0]:t.options[t.selectedIndex]}(e))&&(o.textContent=l.textContent);else o.textContent=e.value;s.insertBefore(o,e),o.scrollLeft=e.scrollLeft,o.scrollTop=e.scrollTop,e.style.display="none",t(o,n),e.style.display="",s.removeChild(o)}(e,n);break;default:for(var i=[],l=[],s=[],r=e.firstChild;r;r=r.nextSibling)switch(r.nodeType){case 3:/\S/.test(r.data)&&Pz(e,r,n);break;case 1:var o=oz(r),a=az(o,"float");"static"!=az(o,"position")?s.push(r):"none"!=a?l.push(r):i.push(r)}fN(i,Mz).forEach((function(t){Az(t,n)})),fN(l,Mz).forEach((function(t){Az(t,n)})),fN(s,Mz).forEach((function(t){Az(t,n)}))}}(t,e),NV&&"ellipsis"==p&&(t.style.textOverflow=m),e;function T(t,n,i,l,s,r,o,a){if(!(i<=0)){var u,c=new mL;gz(c,a),e.append(c),vz(r),vz(o),u=new iL({fill:{color:t},stroke:null}),c.append(u),u.moveTo(r.x?Math.max(r.x,l):0,0).lineTo(n-(o.x?Math.max(o.x,s):0),0).lineTo(n-Math.max(o.x,s),i).lineTo(Math.max(r.x,l),i).close(),r.x&&h(l,r,[-1,0,0,1,r.x,0]),o.x&&h(s,o,[1,0,0,1,n-o.x,0])}function h(e,n,l){var s=Math.PI/2*e/(e+i),r={x:n.x-e,y:n.y-i},o=new iL({fill:{color:t},stroke:null}).moveTo(0,0);gz(o,l),bz(o,0,n.y,{startAngle:-90,endAngle:-mz(s),radiusX:n.x,radiusY:n.y}),r.x>0&&r.y>0?(o.lineTo(r.x*Math.cos(s),n.y-r.y*Math.sin(s)),bz(o,0,n.y,{startAngle:-mz(s),endAngle:-90,radiusX:r.x,radiusY:r.y,anticlockwise:!0})):r.x>0?o.lineTo(r.x,i).lineTo(0,i):o.lineTo(r.x,i).lineTo(r.x,0),c.append(o.close())}}function S(e,n,i,l,s,r,o){var a;if(i&&"none"!=i)if("url"==i.type){if(/^url\(\"data:image\/svg/i.test(i.url))return;var u=OV[i.url];u&&u.width>0&&u.height>0&&c(e,n,u.width,u.height,(function(t,e){t.append(new hL(i.url,e))}))}else{if("linear"!=i.type)return;c(e,n,n.width,n.height,(a=i,function(t,e){var n=e.width(),i=e.height();switch(a.type){case"linear":var l=null!=a.angle?a.angle:Math.PI;switch(a.to){case"top":l=0;break;case"left":l=-Math.PI/2;break;case"bottom":l=Math.PI;break;case"right":l=Math.PI/2;break;case"top left":case"left top":l=-Math.atan2(i,n);break;case"top right":case"right top":l=Math.atan2(i,n);break;case"bottom left":case"left bottom":l=Math.PI+Math.atan2(i,n);break;case"bottom right":case"right bottom":l=Math.PI-Math.atan2(i,n)}a.reverse&&(l-=Math.PI),(l%=2*Math.PI)<0&&(l+=2*Math.PI);var s=Math.abs(n*Math.sin(l))+Math.abs(i*Math.cos(l)),r=Math.atan(n*Math.tan(l)/i),o=Math.sin(r),u=Math.cos(r),c=Math.abs(o)+Math.abs(u),h=c/2*o,d=c/2*u;l>Math.PI/2&&l<=3*Math.PI/2&&(h=-h,d=-d);var p=[],m=0,g=a.stops.map((function(t,e){var n=t.percent;n?n=parseFloat(n)/100:t.length?n=parseFloat(t.length)/s:0===e?n=0:e==a.stops.length-1&&(n=1);var i={color:t.color.toCssRgba(),offset:n};return null!=n?(m=n,p.forEach((function(t,e){t.stop.offset=t.left+(m-t.left)*(e+1)/(p.length+1)})),p=[]):p.push({left:m,stop:i}),i})),f=[.5-h,.5+d],b=[.5+h,.5-d];t.append(iL.fromRect(e).stroke(null).fill(new _L({start:f,end:b,stops:g,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function c(e,n,i,a,u){var c,h=i/a,d=n;if("content-box"==r?(d=pz(d,"border-*-width",t),d=pz(d,"padding-*",t)):"padding-box"==r&&(d=pz(d,"border-*-width",t)),!/^\s*auto(\s+auto)?\s*$/.test(o))if("contain"==o)c=Math.min(d.width/i,d.height/a),i*=c,a*=c;else if("cover"==o)c=Math.max(d.width/i,d.height/a),i*=c,a*=c;else{var p=o.split(/\s+/g);i=/%$/.test(p[0])?d.width*parseFloat(p[0])/100:parseFloat(p[0]),a=1==p.length||"auto"==p[1]?i/h:/%$/.test(p[1])?d.height*parseFloat(p[1])/100:parseFloat(p[1])}var m=String(s);switch(m){case"bottom":m="50% 100%";break;case"top":m="50% 0";break;case"left":m="0 50%";break;case"right":m="100% 50%";break;case"center":m="50% 50%"}1==(m=m.split(/\s+/)).length&&(m[1]="50%"),m[0]=/%$/.test(m[0])?parseFloat(m[0])/100*(d.width-i):parseFloat(m[0]),m[1]=/%$/.test(m[1])?parseFloat(m[1])/100*(d.height-a):parseFloat(m[1]);var g=new YN([d.left+m[0],d.top+m[1]],[i,a]);function f(){for(;g.origin.x>n.left;)g.origin.x-=i}function b(){for(;g.origin.y>n.top;)g.origin.y-=a}function v(){for(;g.origin.x<n.right;)u(e,g.clone()),g.origin.x+=i}if("no-repeat"==l)u(e,g);else if("repeat-x"==l)f(),v();else if("repeat-y"==l)for(b();g.origin.y<n.bottom;)u(e,g.clone()),g.origin.y+=a;else if("repeat"==l){f(),b();for(var y=g.origin.clone();g.origin.y<n.bottom;)g.origin.x=y.x,v(),g.origin.y+=a}}}function M(n,p,m){if(0!==n.width&&0!==n.height){!function(t){var n=new mL;if(fz(n,xz(t,o,a,c,u)),e.append(n),d){var i=new iL({fill:{color:d.toCssRgba()},stroke:null});i.moveTo(t.left,t.top).lineTo(t.right,t.top).lineTo(t.right,t.bottom).lineTo(t.left,t.bottom).close(),n.append(i)}for(var l=g.length;--l>=0;)S(n,t,g[l],f[l%f.length],b[l%b.length],v[l%v.length],y[l%y.length])}(n);var w=r.width>0&&(p&&"ltr"==h||m&&"rtl"==h),x=l.width>0&&(m&&"ltr"==h||p&&"rtl"==h);if(0!==i.width||0!==r.width||0!==l.width||0!==s.width){if(i.color==l.color&&i.color==s.color&&i.color==r.color&&i.width==l.width&&i.width==s.width&&i.width==r.width&&w&&x){n=pz(n,i.width/2);var k=wz(t,n,i.width/2);return k.options.stroke={color:i.color,width:i.width},void e.append(k)}if(0===o.x&&0===a.x&&0===c.x&&0===u.x&&i.width<2&&r.width<2&&l.width<2&&s.width<2)return i.width>0&&e.append(new iL({stroke:{width:i.width,color:i.color}}).moveTo(n.left,n.top+i.width/2).lineTo(n.right,n.top+i.width/2)),s.width>0&&e.append(new iL({stroke:{width:s.width,color:s.color}}).moveTo(n.left,n.bottom-s.width/2).lineTo(n.right,n.bottom-s.width/2)),w&&e.append(new iL({stroke:{width:r.width,color:r.color}}).moveTo(n.left+r.width/2,n.top).lineTo(n.left+r.width/2,n.bottom)),void(x&&e.append(new iL({stroke:{width:l.width,color:l.color}}).moveTo(n.right-l.width/2,n.top).lineTo(n.right-l.width/2,n.bottom)));var _=yz(n,o,a,c,u),C=_.tl,M=_.tr,P=_.br,A=_.bl;T(i.color,n.width,i.width,r.width,l.width,C,M,[1,0,0,1,n.left,n.top]),T(s.color,n.width,s.width,l.width,r.width,P,A,[-1,0,0,-1,n.right,n.bottom]),T(r.color,n.height,r.width,s.width,i.width,E(A),E(C),[0,-1,1,0,n.left,n.bottom]),T(l.color,n.height,l.width,i.width,s.width,E(M),E(P),[0,1,-1,0,n.right,n.top])}}function E(t){return{x:t.y,y:t.x}}}}function Sz(t,e,n){var i=function(t){var e=t.getBoundingClientRect();return e=pz(e,"border-*-width",t),pz(e,"padding-*",t)}(t),l=new YN([i.left,i.top],[i.width,i.height]),s=new hL(e,l);fz(s,wz(t,i,"content")),n.append(s)}function Mz(t,e){var n=oz(t),i=oz(e),l=parseFloat(az(n,"z-index")),s=parseFloat(az(i,"z-index")),r=az(n,"position"),o=az(i,"position");return isNaN(l)&&isNaN(s)?/static|absolute/.test(r)&&/static|absolute/.test(o)?0:"static"==r?-1:"static"==o?1:0:isNaN(l)?0===s?0:s>0?-1:1:isNaN(s)?0===l?0:l>0?1:-1:parseFloat(l)-parseFloat(s)}function Pz(t,e,n){if(null!=(i=FV._clipbox)&&(!i||0!==i.width()&&0!==i.height())){var i,l=oz(t);if(!(parseFloat(az(l,"text-indent"))<-500)){var s=e.data,r=0,o=s.search(/\S\s*$/)+1;if(o){var a=az(l,"font-size"),u=az(l,"line-height"),c=[az(l,"font-style"),az(l,"font-variant"),az(l,"font-weight"),a,az(l,"font-family")].join(" ");if(a=parseFloat(a),u=parseFloat(u),0!==a){var h=az(l,"color"),d=t.ownerDocument.createRange(),p="justify"==az(l,"text-align"),m=az(l,"column-count",1),g=az(l,"white-space"),f=az(l,"text-transform"),b=t.getBoundingClientRect().width/a*5;0===b&&(b=500);for(var v=null,y=FV.underline,w=FV["line-through"],x=FV.overline,k=y||w||x;!C(););return void(k&&(d.selectNode(e),IV(d.getClientRects()).forEach((function(t){function e(e,i){if(e){var l=a/12,s=new iL({stroke:{width:l,color:e}});s.moveTo(t.left,i-=l).lineTo(t.right,i),n.append(s)}}e(y,t.bottom),e(w,t.bottom-t.height/2.7),e(x,t.top)}))))}}}}function _(t){if(NV||EV.chrome){for(var e=t.getClientRects(),n={top:1/0,right:-1/0,bottom:-1/0,left:1/0},i=!1,l=0;l<e.length;++l){var s=e[l];s.width<=1||s.bottom===v||(n.left=Math.min(s.left,n.left),n.top=Math.min(s.top,n.top),n.right=Math.max(s.right,n.right),n.bottom=Math.max(s.bottom,n.bottom),i=!0)}return i?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):t.getBoundingClientRect()}return t.getBoundingClientRect()}function C(){var t,i=r,l=s.substr(r).search(/\S/);if(r+=l,l<0||r>=o)return!0;d.setStart(e,r),d.setEnd(e,r+1),t=_(d);var a=!1;if((p||m>1)&&(l=s.substr(r).search(/\s/))>=0){d.setEnd(e,r+l);var y=_(d);y.bottom==t.bottom&&(t=y,a=!0,r+=l)}if(!a){if((l=function n(i,l,s){d.setEnd(e,l);var r=_(d);return r.bottom!=t.bottom&&i<l?n(i,i+l>>1,l):r.right!=t.right?(t=r,l<s?n(l,l+s>>1,s):l):l}(r,Math.min(o,r+b),o))==r)return!0;if(r=l,0===(l=d.toString().search(/\s+$/)))return!1;l>0&&(d.setEnd(e,d.startOffset+l),t=_(d))}NV&&(t=d.getClientRects()[0]);var w=d.toString();if(/^(?:pre|pre-wrap)$/i.test(g)){if(/\t/.test(w)){var x=0;for(l=i;l<d.startOffset;++l){var k=s.charCodeAt(l);9==k?x+=8-x%8:10==k||13==k?x=0:x++}for(;(l=w.search("\t"))>=0;){var C="        ".substr(0,8-(x+l)%8);w=w.substr(0,l)+C+w.substr(l+1)}}}else w=w.replace(/\s+/g," ");a||(v=t.bottom),function(t,e){if(NV&&!isNaN(u)){var i=GV(c),l=(e.top+e.bottom-i)/2;e={top:l,right:e.right,bottom:l+i,left:e.left,height:i,width:e.right-e.left}}switch(f){case"uppercase":t=t.toUpperCase();break;case"lowercase":t=t.toLowerCase();break;case"capitalize":t=t.replace(/(?:^|\s)\S/g,t=>t.toUpperCase())}var s=new RV(t,new YN([e.left,e.top],[e.width,e.height]),{font:c,fill:{color:h}});n.append(s)}(w,t)}}function Az(t,e){var n=oz(t);if(tz(n),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(t.tagName)&&null!=FV._clipbox){var i=parseFloat(az(n,"opacity")),l=az(n,"visibility"),s=az(n,"display");if(0!==i&&"hidden"!=l&&"none"!=s){var r,o=function(t){var e=az(t,"transform");if("none"==e)return null;var n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(e);if(n){var i=az(t,"transform-origin");return{matrix:n=n[1].split(/\s*,\s*/g).map(parseFloat),origin:i=i.split(/\s+/g).map(parseFloat)}}}(n),a=az(n,"z-index");(o||i<1)&&"auto"==a&&(a=0),r=function(t,e,n){var i;"auto"!=n?(i=FV._stackingContext.group,n=parseFloat(n)):(i=e,n=0);for(var l=i.children,s=0;s<l.length&&!(null!=l[s]._dom_zIndex&&l[s]._dom_zIndex>n);++s);var r=new mL;if(i.insert(s,r),r._dom_zIndex=n,i!==e&&FV._clipbox){var o=FV._matrix.invert(),a=FV._clipbox.transformCopy(o);fz(r,iL.fromRect(a))}return r}(0,e,a),i<1&&r.opacity(i*r.opacity()),lz(t,n,r),o?hz(t,(function(){uz(t.style,"transform","none","important"),uz(t.style,"transition","none","important"),"static"==az(n,"position")&&uz(t.style,"position","relative","important");var e=t.getBoundingClientRect(),i=e.left+o.origin[0],l=e.top+o.origin[1],s=[1,0,0,1,-i,-l];s=Ez(s,o.matrix),s=Ez(s,[1,0,0,1,i,l]),s=gz(r,s),FV._matrix=FV._matrix.multiplyCopy(s),Cz(t,r)})):Cz(t,r),sz()}}}function Ez(t,e){var n=t[0],i=t[1],l=t[2],s=t[3],r=t[4],o=t[5],a=e[0],u=e[1],c=e[2],h=e[3];return[n*a+i*c,n*u+i*h,l*a+s*c,l*u+s*h,r*a+o*c+e[4],r*u+o*h+e[5]]}const Iz=t=>Math.min(t,20),Dz=t=>(String(t).split(".")[1]||"").length,Oz=(t,e)=>{const n=Iz(e);return parseFloat(t.toFixed(n))},Fz=(t,e)=>{const n=((t,e)=>Math.max(Dz(t),Dz(e)))(t,e);return Oz(t+e,n)},Nz=(t,e)=>t===e||null===t&&void 0===e||void 0===t&&null===e,Rz=t=>t&&(!t.touched||t.control&&"blur"===t.control.updateOn);function Lz(t,e,...n){if(t&&t.nativeElement)return t.nativeElement[e].apply(t.nativeElement,n)}const Bz=t=>e=>null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null,Vz=t=>e=>null!==e.value&&e.value<t?{minError:{minValue:t,value:e.value}}:null,zz="http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min",jz="http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max",Hz=".",Wz=500,Uz=50,$z=/[eE][\-+]?([0-9]+)/,Yz=t=>{const{autoCorrect:e,decimals:n,min:i}=t;let l,s=t.separator;return s===Hz&&(s="\\"+s),new RegExp(`^${e&&null!==i&&i>=0?"":"-?"}${l=0===n?"\\d*":`(?:(?:\\d+(${s}\\d*)?)|(?:${s}\\d*))?`}$`)},qz=t=>t>=0?Math.floor(t):Math.ceil(t),Gz=t=>{},Xz=t=>void 0!==t,Kz=t=>!isNaN(t)&&null!==t;function Zz(t,e){const n=e-String(t).length;let i=t;if(n>0){const e=new Array(n+1).join("0");i=parseFloat(t+e)}return i}const Qz=t=>{let e=0;return t.wheelDelta?e=(e=t.wheelDelta/120)>0?Math.ceil(e):Math.floor(e):t.detail&&(e=Math.round(-t.detail/3)),e},Jz=t=>t.selectionStart,tj=(t,e)=>{const n=`${e}0123456789-`;return t.split("").reduce((t,e)=>n.includes(e)?++t:t,0)};var ej=function(t){return t[t.Down=-1]="Down",t[t.None=0]="None",t[t.Up=1]="Up",t}({});const nj=["min","max","step","decimals"],ij={decimals:null,max:null,min:null,step:1},lj="k-state-focused",sj="k-formatted-value";class rj{constructor(t,e,n,i,l,s,r){this.intl=t,this.renderer=e,this.localizationService=n,this.injector=i,this.ngZone=l,this.changeDetector=s,this.hostElement=r,this.focusableId=`k-${hf()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new os,this.onFocus=new os,this.onBlur=new os,this.ArrowDirection=ej,this.arrowDirection=ej.None,this.inputValue="",this.minValidateFn=Gz,this.maxValidateFn=Gz,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=Gz,this.ngTouched=Gz,this.ngValidatorChange=Gz,this.increasePress=t=>{this.arrowPress(ej.Up,t)},this.decreasePress=t=>{this.arrowPress(ej.Down,t)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==ej.None&&(this.arrowDirection=ej.None,this.changeDetector.detectChanges())},this.handlePaste=()=>{this.isPasted=!0},this.handleInput=()=>{const t=this.numericInput.nativeElement;let{selectionStart:e,selectionEnd:n,value:i}=t;if(this.pressedKey===Pf.NumpadDecimal&&(i=this.replaceNumpadDotValue()),this.isPasted&&(i=this.formatInputValue(this.intl.parseNumber(i))),!this.isValid(i))return t.value=this.inputValue,void this.setSelection(e-1,n-1);const l=this.intl.parseNumber(i);let s=this.restrictDecimals(l);if(this.autoCorrect){const t=this.limitInputValue(s);s=t.value,e=t.selectionStart,n=t.selectionEnd}l!==s||this.hasTrailingZeros(i)||!this.focused?(this.setInputValue(s),this.setSelection(e,n)):this.inputValue=i,this.isPasted&&(t.value=this.inputValue),this.updateValue(s),this.previousSelection=null,this.isPasted=!1},this.handleDragEnter=()=>{this.focused||this.isDisabled||this.setInputValue(this.value,!0)},this.handleMouseDown=()=>{this.mouseDown=!0},this.handleFocus=()=>{if(!this.focused&&(this.focused=!0,!this.isDisabled)){const t=this.selectOnFocus||!this.mouseDown;this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{t?this.selectAll():this.selectCaret()},0)})}this.mouseDown=!1,cf(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(cf(this.onBlur)||Rz(this.control))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleKeyDown=t=>{if(this.isDisabled)return;let e;t.keyCode===Pf.ArrowDown?e=-1:t.keyCode===Pf.ArrowUp&&(e=1),e&&this.step&&(t.preventDefault(),this.addStep(e));const n=this.numericInput.nativeElement;this.previousSelection={end:n.selectionEnd,start:n.selectionStart},this.pressedKey=t.keyCode},this.handleWheel=t=>{if(this.focused&&!this.isDisabled){t.preventDefault();const e=Qz(t);this.addStep(e)}},this.direction=n.rtl?"rtl":"ltr"}get format(){const t=this._format;return null!=t?t:"n2"}set format(t){this._format=t}set tabIndex(t){this.tabindex=t}get tabIndex(){return this.tabindex}get widgetClasses(){return!0}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:t})=>{this.direction=t?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get($y,null)}ngOnChanges(t){uf(nj,t,!1)&&this.parseOptions(nj.filter(e=>t[e])),this.verifySettings(),uf(["min","max","rangeValidation"],t,!1)&&(this.minValidateFn=this.rangeValidation?Vz(this.min):Gz,this.maxValidateFn=this.rangeValidation?Bz(this.max):Gz,this.ngValidatorChange()),uf(["autoCorrect","decimals","min"],t)&&delete this.numericRegex,uf(["value","format"],t,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}validate(t){return this.minValidateFn(t)||this.maxValidateFn(t)}registerOnValidatorChange(t){this.ngValidatorChange=t}writeValue(t){this.verifyValue(t);let e=this.restrictModelValue(t);this.value=e,this.setInputValue()}registerOnChange(t){this.ngChange=t}registerOnTouched(t){this.ngTouched=t}setDisabledState(t){this.disabled=t}focus(){Lz(this.numericInput,"focus")}blur(){Lz(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(t){this.renderer.setProperty(this.numericInput.nativeElement,"value",t)}get focused(){return this.isFocused}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}set focused(t){if(this.isFocused!==t&&this.numericWrap){const e=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;t?(this.renderer.addClass(e,lj),this.isDisabled||this.renderer.removeClass(n,sj)):(this.renderer.removeClass(e,lj),this.renderer.addClass(n,sj)),this.isFocused=t}}get isDisabled(){return this.disabled||this.readonly}arrowPress(t,e){e.preventDefault(),this.isDisabled||(TF||(this.focused=!0,this.focus()),this.arrowDirection!==t&&(this.arrowDirection=t,this.changeDetector.detectChanges()),this.step?this.spin(t,Wz):this.setInputValue())}updateValue(t){Nz(this.value,t)||this.ngZone.run(()=>{this.value=t,this.ngChange(t),this.valueChange.emit(t),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let t=this.inputValue||"";if(this.previousSelection){const e=this.numericInput.nativeElement,{selectionStart:n,selectionEnd:i}=e,{start:l,end:s}=this.previousSelection;e.value=t=t.substring(0,l)+this.decimalSeparator+t.substring(s),this.setSelection(n,i)}return t}isValid(t){return this.numericRegex||(this.numericRegex=Yz({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(t)}spin(t,e){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(t,Uz)},e),this.addStep(t)}addStep(t){let e=Fz(this.value||0,this.step*t);e=this.limitValue(e),e=this.restrictDecimals(e),this.setInputValue(e),this.updateValue(e)}setSelection(t,e){this.focused&&Lz(this.numericInput,"setSelectionRange",t,e)}limitValue(t){let e=t;return this.isInRange(t)||(Kz(this.max)&&t>this.max&&(e=this.max),Kz(this.min)&&t<this.min&&(e=this.min)),e}limitInputValue(t){let{selectionStart:e,selectionEnd:n,value:i}=this.numericInput.nativeElement,l=t,s=!1;if(!this.isInRange(t)){const r=i.length-String(this.inputValue).length,{min:o,max:a}=this,u=Kz(a),c=Kz(o);let h,d,p=t;if(0===e&&this.inputValue.substr(1)===i)return{selectionEnd:n,selectionStart:e,value:null};if(u&&t>a?t>0?d=!0:h=a:c&&t<o&&(t>0?h=o:d=!0),h){const e=this.tryPadValue(t,h);e&&qz(t)!==qz(h)&&(p=e,s=!0)}else d&&this.inputValue&&e!==i.length&&(p=parseFloat(i.substr(0,e)+i.substr(e+r)));l=this.limitValue(p),s=(s||l!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+r>0}return{selectionEnd:s?String(l).length:n,selectionStart:e,value:l}}tryPadValue(t,e){const n=String(Math.floor(e)).length,i=Zz(t,n),l=Zz(t,n+1);let s;return this.isInRange(i)?s=i:this.isInRange(l)&&(s=l),s}isInRange(t){return!Kz(t)||(!Kz(this.min)||this.min<=t)&&(!Kz(this.max)||t<=this.max)}restrictModelValue(t){let e=this.restrictDecimals(t,!0);return this.autoCorrect&&this.limitValue(e)!==e&&(e=null),e}restrictDecimals(t,e){let n=t;if(t&&this.hasDecimals){const i=this.decimals,l=String(t);if(e||$z.test(l))n=Oz(t,i);else{const t=l.split(Hz);let e=t[1];e&&e.length>i&&(e=e.substr(0,i),n=parseFloat(`${t[0]}${Hz}${e}`))}}return n}formatInputValue(t){let e=String(t);const n=$z.exec(e);return n&&(e=t.toFixed(Iz(parseInt(n[1],10)))),e.replace(Hz,this.decimalSeparator)}formatValue(t,e){return null!==t&&Xz(t)&&""!==t?e&&!this.readonly?this.formatInputValue(t):this.intl.formatNumber(t,this.format):""}setInputValue(t=this.value,e=this.focused){const n=this.formatValue(t,e);this.elementValue=n,this.inputValue=n}verifySettings(){if(me()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error(`The max value should be bigger than the min. See ${zz} and ${jz}.`)}verifyValue(t){if(me()&&t&&"number"!=typeof t)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(t)} was set.`)}parseOptions(t){for(let e=0;e<t.length;e++){const n=t[e],i=this[n];if("string"==typeof i){const t=parseFloat(i),e=!isNaN(t);if(me()&&!e&&""!==i)throw new Error("The NumericTextBox component requires value of type Number or a String representing "+`a number for the ${n} property and ${JSON.stringify(i)} was set.`);this[n]=e?t:ij[n]}}}intlChange(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}hasTrailingZeros(t){if(this.hasDecimals&&this.focused){const e=t.split(this.decimalSeparator)[1];return e&&e.length>this.decimals&&e.lastIndexOf("0")===e.length-1}}selectAll(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}selectCaret(){const t=Jz(this.numericInput.nativeElement),e=this.elementValue,n=e.substring(0,t);if(this.setInputValue(),n.length){const t=tj(n,this.decimalSeparator),i=this.adjustSignificantChars(e,t);this.setSelection(i,i)}else this.setSelection(0,0)}numberOfLeadingZeroes(t){const e=t.indexOf(this.decimalSeparator),n=t.match(/^[^1-9]*?(0+)/);if(n){const t=n[1].length;return n[0].length===e?t-1:t}return 0}adjustSignificantChars(t,e){const n=this.numberOfLeadingZeroes(t);return n>0?Math.max(0,e-n):e}}class oj extends Ib{}class aj extends oj{constructor(t){super(),this.service=t}}class uj{}class cj{}class hj{constructor(t,e,n){this.sender=t,this.selectedDate=e,this.dateRange=n}}class dj extends fA{constructor(t,e){super(),this.sender=t,this.action=e}}class pj{constructor(t,e){this.sender=t,Object.assign(this,e)}}class mj{constructor(t,e){this.sender=t,Object.assign(this,e)}}class gj{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const fj={slotClick:pj,slotDblClick:pj,eventClick:mj,eventDblClick:mj,eventKeydown:class{constructor(t,e){this.sender=t,Object.assign(this,e)}},create:class{constructor(t,e){this.sender=t,Object.assign(this,e)}},remove:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}},resizeStart:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}},resize:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}},resizeEnd:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}},dragStart:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}},drag:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}},dragEnd:class extends gj{constructor(t,e){super(),this.sender=t,Object.assign(this,e)}}};class bj{constructor(){this.actionSource=new A,this.action=this.actionSource.asObservable()}navigate(t){this.actionSource.next(t)}}class vj{}class yj{constructor(){this.actionSource=new A,this.itemsSource=new ha([]),this.selectedDateSource=new ha(null),this.resizeSource=new A,this.optionsChangeSource=new ha({}),this.executeSource=new A,this.action=this.actionSource.asObservable(),this.items=this.itemsSource.asObservable(),this.selectedDate=this.selectedDateSource.asObservable(),this.resize=this.resizeSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable(),this.execute=this.executeSource.asObservable()}notifyAction(t){this.actionSource.next(t)}notifyItems(t){this.itemsSource.next(t)}notifySelectedDate(t){this.selectedDateSource.next(t)}notifyResize(){this.resizeSource.next()}notifyOptionsChange(t){this.optionsChangeSource.next(t)}executeMethod(t,e){let n;return this.executeSource.next({name:t,args:e,result:t=>{n=t}}),n}}const wj=()=>({start:new Date(0),end:new Date(0),text:"",shortText:""});class xj{constructor(){this.dateRangeSource=new ha(wj()),this.nextDateSource=new A,this.navigateSource=new A,this.viewEventSource=new A,this.layoutEndSource=new A,this.optionsChangeSource=new A,this.dateRange=this.dateRangeSource.asObservable(),this.nextDate=this.nextDateSource.asObservable(),this.navigate=this.navigateSource.asObservable(),this.viewEvent=this.viewEventSource.asObservable(),this.layoutEnd=this.layoutEndSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable()}notifyNextDate(t){this.nextDateSource.next(t)}notifyDateRange(t){this.dateRangeSource.next(t)}notifyLayoutEnd(){this.layoutEndSource.next()}navigateTo(t){this.navigateSource.next(t)}notifyOptionsChange(){this.optionsChangeSource.next(null)}emitEvent(t,e){this.viewEventSource.next({name:t,args:e})}}const kj=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,_j=function(){return{undefined:()=>void 0}}();function Cj(t){if(_j[t])return _j[t];const e=[];return t.replace(kj,(function(t,n,i,l){e.push(void 0!==n?n:i||l)})),_j[t]=function(t){let n=t;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n},_j[t]}const Tj=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Sj=function(){return{undefined:t=>t}}(),Mj=t=>t.charAt(0).toUpperCase()+t.slice(1),Pj=t=>null!=t,Aj=t=>(t=>null==t)(t)||t.trim&&0===t.trim().length,Ej=t=>"number"==typeof t&&!isNaN(t),Ij=(t,e)=>{if(e)for(let n=0;n<e.length;n++)Lj(t,t.dataItem,e[n].field)},Dj=(t,e,n)=>{const i={id:Cj(e.id)(t),start:Cj(e.start)(t),startTimezone:Cj(e.startTimezone)(t),end:Cj(e.end)(t),endTimezone:Cj(e.endTimezone)(t),isAllDay:Cj(e.isAllDay)(t),title:Cj(e.title)(t),description:Cj(e.description)(t),recurrenceRule:Cj(e.recurrenceRule)(t),recurrenceExceptions:Cj(e.recurrenceExceptions)(t),recurrenceId:Cj(e.recurrenceId)(t),dataItem:t};return Ij(i,n),i},Oj=t=>t.recurrenceRule&&!Pj(t.recurrenceId);function Fj(t,e){const n=[];if(t&&t.resources&&t.resources.length){const i=t.resources;for(let t=0;t<i.length;t++){const l=e.find(e=>e.name===i[t]);n.push(l)}}return n}const Nj=(t,e)=>Cj(e)(t),Rj=(t,e,n)=>(function(t){if(Sj[t])return Sj[t];const e=[];return t.replace(Tj,(function(t,n,i,l){e.push(void 0!==n?n:i||l)})),Sj[t]=function(t,n){let i=t;const l=e.length-1;for(let s=0;s<l&&i;s++)i=i[e[s]]=i[e[s]]||{};i[e[l]]=n},Sj[t]})(e)(t,n);function Lj(t,e,n){Rj(t,n,Nj(e,n))}function Bj(t){const e={};return function t(e,n){for(let i in e)if(e.hasOwnProperty(i)){const l=e[i];Array.isArray(l)?n[i]=l.slice(0):!l||"object"!=typeof l||l instanceof Date?n[i]=l:(n[i]=n[i]||{},t(l,n[i]))}}(t,e),e}const Vj=zj();function zj(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const t=Object.getOwnPropertyNames(Map.prototype),e=Map.prototype;for(let n=0;n<t.length;++n){const i=t[n];if("entries"!==i&&"size"!==i&&e[i]===e.entries)return i}}function jj(t){return rf(t,"click")}function Hj(t){const e=jj(t),n=e.pipe(sf(250));return e.pipe((i=n,function(t){return t.lift(new tI(i))}),lc(t=>2===t.length),lc(t=>t[1].target===t[0].target),U(t=>t[1]));var i}class Wj{constructor(t){this.ngZone=t,this.changes=new os,this.changedSource=new A,this.changed=this.changedSource.asObservable().pipe(wS(0))}endEdit(){this.changes.emit({action:"cancel",formGroup:this.hasNewEvent?this.newEventGroup.group:this.editedEvent.formGroup})}removeEvent(t){this.changes.emit({action:"remove",dataItem:t})}addEvent(t){this.newEventGroup={formGroup:t},this.onChanged()}editEvent(t,e,n){this.editedEvent={dataItem:t,formGroup:e,mode:n},this.onChanged()}close(){this.newEventGroup=this.editedEvent=null,this.onChanged()}save(){const{dataItem:t,formGroup:e}=this.context;this.changes.emit({action:"save",dataItem:t,formGroup:e,isNew:this.hasNewEvent,mode:this.occurrenceEditMode})}isEditing(){return Pj(this.context)}get occurrenceEditMode(){return this.hasNewEvent?2:this.editedEvent.mode||0}get hasNewEvent(){return Pj(this.newEventGroup)}get newEvent(){return this.hasNewEvent?this.newEventGroup.group.value:{}}get context(){return this.hasNewEvent?this.newEventGroup:this.editedEvent}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}}class Uj{constructor(){this.changes=new os}}class $j{constructor(){this.focus=new os,this.focusIn=new os,this.focusOut=new os,this.click=new os,this.keydown=new os,this.windowBlur=new os}}class Yj{constructor(t,e,n){this.renderer=t,this.wrapper=e,this.domEvents=n,this.items=new Set,this.elementMap=new WeakMap,this.subs=new m,this.subs.add(this.domEvents.focus.subscribe(t=>this.onFocusIn(t))),this.subs.add(this.domEvents.focusOut.subscribe(()=>this.onFocusOut()))}get activeElement(){if(this.activeItem)return this.activeItem.element}ngOnDestroy(){this.subs.unsubscribe()}register(t){this.activeItem||(this.activeItem=t,t.toggle(!0)),this.items.add(t),this.elementMap.set(t.element.nativeElement,t),this.toggleWrapper()}unregister(t){this.items.delete(t),this.elementMap.delete(t.element.nativeElement),t===this.activeItem&&this.activateNext(),this.toggleWrapper()}focus(){this.activeItem?this.activeItem.focus():this.wrapper.nativeElement.focus()}focusNext(t){const e=this.activeItem;return this.activateNext(t),this.activeItem&&this.activeItem.focus(),this.activeItem!==e}activate(t){this.items.forEach(e=>e.toggle(e===t)),this.activeItem=t}activateNext(t){this.activeItem=this.findNext(t)}findNext(t){const{offset:e,nowrap:n}=Object.assign({nowrap:!1,offset:1},t),i=Array.from(this.items.values()).filter(t=>t.canFocus()).sort((t,e)=>t.focusIndex-e.focusIndex);if(0===i.length)return null;if(!this.activeItem)return n?null:i[0];let l=i.indexOf(this.activeItem)+e;return n?l=Math.max(0,Math.min(i.length-1,l)):(l%=i.length)<0&&(l=i.length-1),i[l]}toggleWrapper(){this.wrapper&&this.renderer.setAttribute(this.wrapper.nativeElement,"tabindex",this.activeItem?"-1":"0")}onFocusIn(t){const e=this.elementMap.get(t.target);e&&e!==this.focusedItem&&(this.focusedItem&&this.focusedItem.toggleFocus(!1),this.activate(e),e.toggleFocus(!0),this.focusedItem=e)}onFocusOut(){this.focusedItem&&(this.focusedItem.toggleFocus(!1),this.focusedItem=null)}}class qj{constructor(t,e,n,i,l){this.dialogService=t,this.localization=e,this.changeDetector=n,this.focusService=i,this.viewState=l,this.isOpen=!1}openRemoveConfirmationDialog(){const t=this.dialogService.open({title:this.textFor("deleteDialogTitle"),content:this.textFor("deleteConfirmation"),actions:[{text:this.textFor("cancel"),value:!1},{text:this.textFor("destroy"),value:!0}],appendTo:this.container,autoFocusedElement:"button:nth-child(2)"});return this.isOpen=!0,this.changeDetector.markForCheck(),t.result.pipe(U(t=>(this.isOpen=!1,t instanceof fv?(this.focusService.focus(),!1):(this.viewState.layoutEnd.pipe(Cc(1)).subscribe(()=>this.focusService.focus()),t.value))))}openRecurringConfirmationDialog(t){const e=this.dialogService.open({actions:[{text:this.textFor(0===t?"editOccurrence":"deleteOccurrence"),value:1},{text:this.textFor(0===t?"editSeries":"deleteSeries"),value:2}],appendTo:this.container,autoFocusedElement:"button:nth-child(1)",content:this.textFor(0===t?"editRecurringConfirmation":"deleteRecurringConfirmation"),title:this.textFor(0===t?"editRecurringDialogTitle":"deleteRecurringDialogTitle")});return this.isOpen=!0,this.changeDetector.markForCheck(),e.result.pipe(U(t=>{if(this.isOpen=!1,this.focusService.focus(),!(t instanceof fv))return t.value}))}textFor(t){return this.localization.get(t)}}class Gj extends Fb{constructor(t,e,n){super(t,e,n)}}const Xj={id:"id",start:"start",startTimezone:"startTimezone",end:"end",endTimezone:"endTimezone",isAllDay:"isAllDay",title:"title",description:"description",recurrenceRule:"recurrenceRule",recurrenceId:"recurrenceId",recurrenceExceptions:"recurrenceExceptions"};class Kj{constructor(){this.createElement=new os,this.exportClick=new os,this.done=new os,this.elementReady=new os}save(){if(cf(this.elementReady)){if(cf(this.createElement))this.createElement.emit();else if(me())throw new Error("No active Scheduler view to export.")}else if(me())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-scheduler-pdf> component.")}}class Zj extends gj{}class Qj{constructor(t,e){this.element=t,this.renderer=e,this.hostClasses=!0}get display(){return this.loading||this.force?"block":"none"}toggle(t){this.force=t,this.renderer.setStyle(this.element.nativeElement,"display",this.display)}}class Jj{constructor(t,e,n){this.element=t,this.renderer=e,this.focusService=n,this.focusIndex=0,this.toggle(!1),this.focusService.register(this)}get visible(){return"none"!==this.element.nativeElement.style.display}get enabled(){return!this.element.nativeElement.disabled}ngOnDestroy(){this.focusService.unregister(this)}toggle(t){t!==this.active&&(this.renderer.setAttribute(this.element.nativeElement,"tabIndex",t?"0":"-1"),this.active=t)}canFocus(){return this.visible&&this.enabled}focus(){this.element.nativeElement.focus()}toggleFocus(t){const e=this.element.nativeElement;t?this.renderer.addClass(e,"k-state-selected"):this.renderer.removeClass(e,"k-state-selected"),this.renderer.setAttribute(e,"aria-selected",t.toString())}}const tH=t=>String(t).trim().split(" "),eH=(t,e)=>{const n=tH(e);return Boolean(tH(t.className).find(t=>n.indexOf(t)>=0))},nH=(t,e)=>{for(;t&&!e(t);)t=t.parentNode;return t},iH=(t,e,n)=>{for(;t&&t!==n&&!e(t);)t=t.parentNode;if(t!==n)return t},lH=t=>{const e=t.wheelDeltaY;return t.wheelDelta&&(void 0===e||e)?t.wheelDelta:t.detail&&t.axis===t.VERTICAL_AXIS?10*-t.detail:0},sH=t=>e=>{const n=lH(e),i=t.scrollTop;0===i&&0<n||t.scrollHeight<=t.offsetHeight+i&&n<0||e.preventDefault()};let rH=0;function oH(){if(!rH&&of()){const t=document.createElement("div");t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",t.innerHTML="&nbsp;",document.body.appendChild(t),rH=t.offsetWidth-t.scrollWidth,document.body.removeChild(t)}return rH}function aH(t,e){const n="vertical"===e?"Height":"Width";return t[`scroll${n}`]>t[`client${n}`]}const uH=()=>wk(new Date),cH=7;class hH{constructor(t,e,n,i,l,s,r,o,a,u,c,h,d){this.wrapper=t,this.viewContext=e,this.viewState=n,this.editService=i,this.dialogsService=l,this.intlService=s,this.changeDetector=r,this.zone=o,this.pdfService=a,this.localization=u,this.domEvents=c,this.renderer=h,this.focusService=d,this.hostClasses=!0,this.rtl=!1,this.editable=!1,this.eventHeight=25,this.columnWidth=100,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.slotDuration=60,this.slotDivisions=2,this.slotFill=.9,this.scrollTime=this.workDayStart,this.currentTimeMarker=!0,this.selectedViewIndexChange=new os,this.navigate=new os,this.dateChange=new os,this.slotClick=new os,this.slotDblClick=new os,this.create=new os,this.eventClick=new os,this.eventDblClick=new os,this.eventKeydown=new os,this.cancel=new os,this.save=new os,this.remove=new os,this.resizeStart=new os,this.resize=new os,this.resizeEnd=new os,this.dragStart=new os,this.drag=new os,this.dragEnd=new os,this.pdfExport=new os,this.dragEndConfirmed=new os,this.resizeEndConfirmed=new os,this.removeConfirmed=new os,this.viewIndex=0,this._timezone="",this._modelFields=Xj,this.dateRangeStream=n.dateRange,this.selectedDateStream=e.selectedDate}get dir(){return this.direction}set selectedViewIndex(t){this.viewIndex=t,this.onViewIndexChange()}get selectedViewIndex(){return this.viewIndex}set timezone(t){this._timezone=t,this.events=this.events||[]}get timezone(){return this._timezone}set events(t){this._events=t,this.processEvents(t)}get events(){return this._events}set selectedDate(t){t&&(this._selectedDate=t,this.viewContext.notifySelectedDate(t))}get selectedDate(){return this._selectedDate}set modelFields(t){this._modelFields=Object.assign({},Xj,t)}get modelFields(){return this._modelFields}ngOnInit(){this.selectedDate||(this.selectedDate=uH())}ngAfterContentInit(){if(me()&&0===this.views.length)throw new Error("No views declared for <kendo-scheduler>. Please, declare at least one view.");this.subs=this.views.changes.subscribe(()=>this.resetViewIndex()),this.subs.add(this.intlService.changes.subscribe(this.intlChange.bind(this))),this.subs.add(this.viewState.nextDate.subscribe(t=>{this.selectedDate=t})),this.subs.add(this.viewState.dateRange.subscribe(t=>{if(0!==t.start.getTime()){const e=new hj(this,this.selectedDate,t);this.dateChange.emit(e)}})),this.subs.add(this.viewState.navigate.subscribe(({viewName:t,date:e})=>{const n=this.views.toArray(),i=n.find(e=>e.name===t),l=new dj(this,{type:"show-date",view:i||{name:t,title:t},date:e});if(this.navigate.next(l),i&&!l.isDefaultPrevented()){const t=n.indexOf(i);this.selectedView=i,this.setViewIndex(t),this.selectedDate=e}})),this.subs.add(this.viewState.viewEvent.subscribe(({name:t,args:e})=>{const n=this[t],i=this[`${t}Confirmed`];(cf(n)||i&&cf(i))&&this.zone.run(()=>{const l=new fj[t](this,e);n.emit(l),e.prevented=l.prevented,i&&!e.prevented&&i.emit(l)})})),this.subs.add(this.viewState.layoutEnd.subscribe(()=>{this.resizeSensor&&this.resizeSensor.acceptSize()})),this.onViewIndexChange(),this.notifyOptionsChange=this.notifyOptionsChange.bind(this),this.subs.add(this.allDayEventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.eventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.minorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.majorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.monthDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.dateHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.allDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.groupHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaDateTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaTimeTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.views.changes.subscribe(()=>{this.changeDetector.markForCheck()})),this.attachEditHandlers(),this.dialogsService.container=this.confirmationDialogContainerRef,this.notifyOptionsChange(),this.subs.add(this.pdfService.exportClick.subscribe(()=>{const t=new Zj;this.pdfExport.emit(t),t.isDefaultPrevented()||this.saveAsPDF()})),this.subs.add(this.pdfService.done.subscribe(()=>{this.loadingComponent.toggle(!1)})),this.subs.add(this.localization.changes.subscribe(({rtl:t})=>{this.rtl=t,this.direction=this.rtl?"rtl":"ltr"})),this.subs.add(this.viewState.optionsChange.subscribe(()=>{this.changeDetector.markForCheck()})),this.attachElementEventHandlers()}ngOnChanges(t){af("resources",t)&&!af("events",t)&&this.viewItems&&this.viewItems.forEach(t=>{Ij(t.event,this.resources)}),uf(["group","resources","min","max","showWorkHours","startTime","scrollTime","endTime","eventHeight","workDayStart","workDayEnd","workWeekStart","workWeekEnd","slotDuration","slotDivisions","editable","timezone","slotClass","slotFill","columnWidth","eventClass","eventStyles"],t)&&this.notifyOptionsChange(t)}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.detachElementEventHandlers&&this.detachElementEventHandlers()}onResize(t){this.viewContext.notifyResize()}onNavigationAction(t){const e=new dj(this,t);if(this.navigate.next(e),e.isDefaultPrevented())return!0;if("view-change"===t.type){const e=this.views.toArray().indexOf(t.view);this.selectedView=t.view,this.setViewIndex(e)}else if("select-date"===t.type)this.isInRange(t.date)&&(this.selectedDate=t.date);else if("today"===t.type){const t=new Date;this.isInRange(t)&&(this.selectedDate=t)}else this.viewContext.notifyAction(t)}addEvent(t){if(!(t instanceof Fw)){const e=t=>(e,n)=>(e[n]=new Ow(t[n]),e),n=Object.keys(t).reduce(e(t),{});t=new Fw(n)}this.editService.addEvent(t)}editEvent(t,e={}){const{group:n,mode:i}=e;this.editService.editEvent(t,n,i)}closeEvent(){this.editService.close()}isEditing(){return this.editService.isEditing()}openRecurringConfirmationDialog(t){return this.dialogsService.openRecurringConfirmationDialog(t)}openRemoveConfirmationDialog(){return this.dialogsService.openRemoveConfirmationDialog()}saveAsPDF(){this.loadingComponent.toggle(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.pdfService.save()},0)})}scrollToTime(t){this.viewContext.notifyAction({type:"scroll-time",time:t})}slotByPosition(t,e){return this.viewContext.executeMethod("slotByPosition",{x:t,y:e})}eventFromElement(t){return this.viewContext.executeMethod("eventFromElement",{element:t})}get activeEvent(){const t=this.focusService.activeElement;if(t)return this.eventFromElement(t.nativeElement)}focusNext(t){return this.focusService.focusNext(t)}focusPrev(t){const e=Object.assign({offset:-1},t);return this.focusService.focusNext(e)}focus(){return this.focusService.focus()}isInRange(t){return(!this.min||this.min<=t)&&(!this.max||t<=this.max)}notifyOptionsChange(t){const e=this.workWeek;this.viewContext.notifyOptionsChange({group:this.group,resources:this.resources,allDayEventTemplate:this.allDayEventTemplate?this.allDayEventTemplate.first:null,eventTemplate:this.eventTemplate?this.eventTemplate.first:null,timeSlotTemplate:this.timeSlotTemplate?this.timeSlotTemplate.first:null,minorTimeHeaderTemplate:this.minorTimeHeaderTemplate?this.minorTimeHeaderTemplate.first:null,majorTimeHeaderTemplate:this.majorTimeHeaderTemplate?this.majorTimeHeaderTemplate.first:null,monthDaySlotTemplate:this.monthDaySlotTemplate?this.monthDaySlotTemplate.first:null,dateHeaderTemplate:this.dateHeaderTemplate?this.dateHeaderTemplate.first:null,allDaySlotTemplate:this.allDaySlotTemplate?this.allDaySlotTemplate.first:null,groupHeaderTemplate:this.groupHeaderTemplate?this.groupHeaderTemplate.first:null,agendaDateTemplate:this.agendaDateTemplate?this.agendaDateTemplate.first:null,agendaTimeTemplate:this.agendaTimeTemplate?this.agendaTimeTemplate.first:null,min:this.min,max:this.max,showWorkHours:this.showWorkHours,startTime:this.startTime,scrollTime:this.scrollTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,workWeekStart:e.start,workWeekEnd:e.end,slotDuration:this.slotDuration,slotDivisions:this.slotDivisions,eventHeight:this.eventHeight,editable:this.editable,timezone:this.timezone,currentTimeMarker:this.currentTimeMarker,slotClass:this.slotClass,slotFill:this.slotFill,columnWidth:this.columnWidth,eventClass:this.eventClass,eventStyles:this.eventStyles,changes:t})}get workWeek(){let{start:t,end:e}=this.intlService.weekendRange();const n=Pj(this.workWeekStart)?this.workWeekStart:(e+1)%cH,i=t>0?t-1:xk.Saturday;return{start:n,end:Pj(this.workWeekEnd)?this.workWeekEnd:i}}resetViewIndex(){const t=Math.max(0,Math.min(this.selectedViewIndex,this.views.length-1));this.setViewIndex(t),this.onViewIndexChange()}onViewIndexChange(){if(!this.views)return;const t=this.views.toArray()[this.viewIndex];t&&(this.selectedView=t)}setViewIndex(t){const e=this.selectedViewIndex!==t;return e&&(this.selectedViewIndex=t,this.selectedViewIndexChange.emit(t)),e}processEvents(t){const e=this.timezone,n=this.modelFields,i=t.map(t=>Dj(t,n,this.resources)).filter(t=>!Oj(t)).map(t=>({start:Yk.fromLocalDate(t.start,e),end:Yk.fromLocalDate(t.end,e),event:t}));this.viewItems=i,this.viewContext.notifyItems(i)}attachEditHandlers(){this.editService&&this.subs.add(this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(t){switch(Object.assign(t,{sender:this}),t.action){case"cancel":this.cancel.emit(t);break;case"save":this.save.emit(t)}}intlChange(){const t=this.selectedView;this.selectedView=null,Pj(this.workWeekStart)&&Pj(this.workWeekEnd)||this.notifyOptionsChange(),this.changeDetector.detectChanges(),this.selectedView=t,qs.isInAngularZone()?this.changeDetector.markForCheck():this.changeDetector.detectChanges()}attachElementEventHandlers(){if(!of())return;const t=this.wrapper.nativeElement;this.zone.runOutsideAngular(()=>{const e=this.renderer.listen("window","blur",t=>{this.domEvents.windowBlur.emit(t)}),n=this.renderer.listen(t,"click",t=>{this.domEvents.click.emit(t)}),i=this.renderer.listen(t,"keydown",t=>{this.domEvents.keydown.emit(t)});let l=!1;const s=this.renderer.listen(t,"focusin",t=>{this.domEvents.focus.emit(t),l||(this.domEvents.focusIn.emit(t),this.renderer.addClass(this.wrapper.nativeElement,"k-state-focused"),l=!0)}),r=this.renderer.listen(t,"focusout",e=>{const n=e.relatedTarget||document.activeElement;!nH(n,e=>e===t)&&(this.domEvents.focusOut.emit(e),this.renderer.removeClass(this.wrapper.nativeElement,"k-state-focused"),l=!1)});this.detachElementEventHandlers=()=>{e(),n(),i(),s(),r()}})}}const dH=(t,e,n,i)=>t<n&&e>i||n<=t&&t<i||n<e&&e<=i&&t<e,pH=(t,e,n)=>e.getTime()<=t.getTime()&&t.getTime()<=n.getTime(),mH=({start:t,end:e})=>{const n=t.stripTime(),i=e.stripTime();return i.getTime()!==e.getTime()||n.getTime()===i.getTime()?i.addDays(1):i};function gH(t){var e=new Date(1980,0,1,0,0,0);return t&&e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}const fH=(t,e)=>{const n=new Date(t.getTime());return n.setUTCDate(n.getUTCDate()+e),n};function bH(t,e){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function vH(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))}function yH(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}function wH(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),e.getHours(),e.getMinutes())}function xH(t,e){const n=e.data;for(let i=0;i<n.length;i++)if(Nj(n[i],e.valueField)===t)return i;return-1}function kH(t,e){const n=xH(t,e);return n>=0?e.data[n]:{}}function _H(t){const e=[];for(let n=0;n<t.length;n++){const i=Object.assign({},t[n]);i.resources=i.resources.slice(0),e.push(i)}return e}function CH(t,e){const n=Nj(t,e.field);return Array.isArray(n)?function(t,e){return t.map(t=>kH(t,e))}(n,e):kH(n,e)}function TH(t,{taskResources:e,hasGroups:n,spans:i,allResources:l=[]}){let s=[];for(let r=0;r<e.length;r++){const o=e[r];if(!o.data){s=[{leafIdx:0,resources:[]}];continue}const a=l.indexOf(o);let u=Nj(t,o.field);Array.isArray(u)||(u=[u]);const c=[];for(let t=0;t<u.length;t++){const e=xH(u[t],o);if(e<0)return[{leafIdx:n?-1:0,resources:[]}];const l=o.data[e];if(0!==r||!n&&0!==t){if(n){let t=s;u.length>1&&(t=_H(s),c.push.apply(c,t));for(let n=0;n<t.length;n++)t[n].leafIdx+=e*i[r],t[n].resources[a]=l}else if(t>0)for(let t=0;t<s.length;t++)s[t].resources[a].push(l)}else{const t=[];t[a]=o.multiple&&!n?[l]:l,s.push({leafIdx:n?e*i[r]:0,color:Nj(l,o.colorField),resources:t})}}c.length&&(s=c)}return function(t,e,n){for(let i=0;i<e.length;i++){const l=e[i];for(let e=0;e<n.length;e++){const i=n[e];!l.resources[e]&&i.data&&(l.resources[e]=CH(t,i))}}}(t,s,l),s}function SH(t,e){if(void 0!==e.rowIndex)return e.rowIndex;for(let n=0;n<t.length;n++)if(!t[n])return n;return t.length}const MH=(t,e,n)=>t.left<=e&&e<=t.left+t.width&&t.top<=n&&n<=t.top+t.height,PH=(t,e)=>t.left<=e&&e<=t.left+t.width,AH=t=>`${t}px`,EH=t=>{if(!t)return null;const e=t.getBoundingClientRect(),n=document.documentElement;return{top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:e.width,height:e.height}},IH=(t,e,n,i)=>Math.sqrt(Math.pow(t-n,2)+Math.pow(e-i,2)),DH=t=>"KENDO-RESIZE-SENSOR"===t.nodeName||eH(t,"k-loading-mask"),OH=(t,e)=>{for(let n in e)e.hasOwnProperty(n)&&(t.style[n]=AH(e[n]))},FH=t=>{const e=[];if((t=>"string"==typeof t)(t))e.push(t);else if((t=>Array.isArray(t))(t))e.push.apply(e,t);else if((t=>"object"==typeof t)(t))for(let n in t)t.hasOwnProperty(n)&&t[n]&&e.push(n);return e};function NH(t,e,n){const i=t.get(e);return i&&i.value||n}const RH=(t,e,n)=>n<e?t<=n||e<=t:e<=t&&t<=n,LH=(t,e,n,i,l)=>{const s=tD({recurrenceRule:Nj(t,e.recurrenceRule),weekStart:l});if(!s.start){const n=Nj(t,e.start);s.start=Yk.fromLocalDate(n,i)}if(!s.end){const n=Nj(t,e.end);s.end=Yk.fromLocalDate(n,i)}const r=Nj(t,e.recurrenceExceptions);r&&(s.exceptionDates=r.map(t=>Yk.fromLocalDate(t,i)));const o=yH(n.start),a=yH(n.end),u=function(t,e){const{rangeStart:n,rangeEnd:i}=e;if(!t)return{success:!0,errorMessage:"",events:[]};const l=t.freq,s=YI[l],r=t.start,o=((t,e)=>e.getTime()-t.getTime())(t.start,t.end);let a;if(t.start.getTime()>t.end.getTime())return{success:!1,errorMessage:`Invalid recurrence rule: Start date (${t.start})`+`is greater than End date ${t.start}`,events:[]};if(!s)return{success:!1,errorMessage:`Invalid recurrence frequency "${l}"`,events:[]};let u=[];const c=t.bySetPosition;let h=c?0:1;const d=t.exceptionDates;let p=n.toTimezone(r.timezone);const m=p;let g=i.toTimezone(r.timezone);const f=t.count;t.until&&t.until.getTime()<g.getTime()&&(g=t.until.clone());let b=p.getHours(),v=p.getMinutes(),y=p.getSeconds();const w="yearly"===l||"monthly"===l||"weekly"===l;if(p.getTime()<r.getTime()||f||t.interval>1||w)p=r.clone();else{t.byHour||(b=r.getHours()),t.byMinute||(v=r.getMinutes()),t.bySecond||(y=r.getSeconds());const e=p.toUTCDate();e.setUTCHours(b,v,y,r.getMilliseconds()),p=Yk.fromUTCDate(e,p.timezone)}if(t._startPeriod=p.clone(),c){if(p=((t,e)=>{const n=t.toUTCDate();switch(e.freq){case"yearly":n.setUTCFullYear(n.getFullYear(),0,1);break;case"monthly":n.setUTCFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":fI(n,e.weekStart,-1)}return e.byHour&&n.setUTCHours(0),e.byMinute&&n.setUTCMinutes(0),e.bySecond&&n.setUTCSeconds(0),Yk.fromUTCDate(n,t.timezone)})(p,t),g=KI(g,t),GI(g)-GI(p)<0){const t=g.toUTCDate();t.setUTCHours(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()),g=Yk.fromUTCDate(t,g.timezone)}t._startPeriod=p.clone(),a=KI(p,t)}let x=GI(p);t._startTime=new Date(x);let k=p.toUTCDate();for(s.setup&&(s.setup(t,r,k),p=Yk.fromUTCDate(k,p.timezone)),k=p.toUTCDate(),s.limit(k,g.toUTCDate(),t),p=Yk.fromUTCDate(k,p.timezone);p<=g;){const e=p.addTime(o);if(((p>=m||e>m)&&!XI(d,p)||c)&&(u.push({start:qI(p),end:qI(e)}),"hourly"!==l&&"minutely"!==l&&"secondly"!==l||(x=GI(qI(p)),t._startTime=new Date(x))),c){if(k=p.toUTCDate(),s.next(k,t),s.limit(k,g.toUTCDate(),t),(p=Yk.fromUTCDate(k,p.timezone))>a){let e=ZI(u.slice(h),r,c);e=QI(e,d),u=u.slice(0,h).concat(e),a=KI(p,t),h=u.length}if(f&&f===h)break}else{if(f&&f===h)break;h+=1,k=p.toUTCDate(),s.next(k,t),s.limit(k,g.toUTCDate(),t),p=Yk.fromUTCDate(k,p.timezone)}}return{success:!0,errorMessage:"",events:u}}(s,{rangeStart:Yk.fromUTCDate(o,i),rangeEnd:Yk.fromUTCDate(a,i)});if(!u.events.length)return[];const c=u.events.map(n=>{const i=Bj(t);return Rj(i,e.id,0),Rj(i,e.recurrenceId,Nj(t,e.id)),Rj(i,e.start,n.start.toLocalDate()),Rj(i,e.end,n.end.toLocalDate()),i});return[t,...c]};class BH{constructor(t,e,n,i){this.scheduler=t,this.changeDetector=e,this.intl=n,this.localDataChangesService=i,this.originalData=[],i&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}set data(t){this.originalData=t||[],this.localDataChangesService&&(this.localDataChangesService.data=t),this.scheduler.events=this.process()}ngOnInit(){this.subscription=this.scheduler.dateChange.subscribe(t=>this.onDateChange(t))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}rebind(){this.data=this.originalData,this.changeDetector.markForCheck()}process(){if(!this.dateRange)return[];const t=[],e=this.scheduler.modelFields;return this.originalData.forEach(n=>{if(Nj(n,e.recurrenceRule)){const i=LH(n,e,this.dateRange,this.scheduler.timezone,this.intl.firstDay());t.push(...i)}else t.push(n)}),t}onDateChange(t){this.dateRange=t.dateRange,this.rebind()}}class VH extends Ib{}class zH extends VH{constructor(t){super(),this.service=t}}class jH{constructor(t,e,n,i){this.popupService=t,this.toolbarService=e,this.localization=n,this.hostClasses=!0,this.subs=this.localization.changes.subscribe(({})=>{i.markForCheck()})}get todayText(){return this.localization.get("today")}get calendarTodayText(){return this.localization.get("calendarToday")}get nextText(){return this.localization.get("nextTitle")}get previousText(){return this.localization.get("previousTitle")}get ctx(){return this.toolbarService.context}ngOnDestroy(){this.subs.unsubscribe(),this.closePopup()}toggleSelectedDate(t,e){if(this.popupRef)this.closePopup();else{const n={anchor:t,content:e};this.localization.rtl&&(n.popupClass="k-rtl"),this.popupRef=this.popupService.open(n)}return!1}selectDate(t){this.closePopup(),this.toolbarService.navigate({type:"select-date",date:t})}prevClick(){return this.toolbarService.navigate({type:"prev"}),!1}nextClick(){return this.toolbarService.navigate({type:"next"}),!1}todayClick(){return this.toolbarService.navigate({type:"today"}),!1}closePopup(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}}class HH{constructor(t){this.service=t,this.hostClasses=!0,this.navigate=new os,this.templateContext={},this.subs=new m,this.subs.add(t.action.subscribe(t=>this.navigate.next(t)))}ngOnInit(){this.subs.add(this.selectedDate.subscribe(t=>this.templateContext.selectedDate=t)),this.subs.add(this.dateRange.subscribe(t=>this.templateContext.dateRange=t))}ngOnChanges(){this.service.context={dateRange:this.dateRange,selectedDate:this.selectedDate,views:this.views,selectedView:this.selectedView},Object.assign(this.templateContext,{views:this.views,selectedView:this.selectedView})}ngOnDestroy(){this.subs.unsubscribe()}}class WH{constructor(t){this.service=t,this.hostClasses=!0,this.expanded=!1}get ctx(){return this.service.context}get itemDisplay(){if(this.ctx.views&&1===this.ctx.views.length)return"list-item"}onClick(t){return this.ctx.selectedView!==t&&this.service.navigate({type:"view-change",view:t}),this.expanded=!1,!1}onCurrentViewClick(t){return this.expanded=!this.expanded,!1}isSelected(t){return this.ctx.selectedView===t}}class UH{}const $H=t=>null;class YH extends vj{constructor(t,e,n,i){super(),this.localization=t,this.changeDetector=e,this.viewContext=n,this.viewState=i,this.schedulerOptions={},this.subs=this.localization.changes.subscribe(({})=>{e.markForCheck()}),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this)))}get viewSlotClass(){return Pj(this.slotClass)?this.slotClass:this.schedulerOptions.slotClass||$H}get viewEventClass(){return Pj(this.eventClass)?this.eventClass:this.schedulerOptions.eventClass}get viewEventStyles(){return Pj(this.eventStyles)?this.eventStyles:this.schedulerOptions.eventStyles}ngOnChanges(t){this.viewState.notifyOptionsChange()}ngOnDestroy(){this.subs.unsubscribe()}optionsChange(t){this.schedulerOptions=t}}class qH{static exports(){return[Jj]}}class GH{}class XH{constructor(){this.count=0,this.items={}}get first(){if(this.count>0)return this.items[Object.keys(this.items)[0]]}get last(){if(this.count>0){const t=Object.keys(this.items);return this.items[t[t.length-1]]}}addItem(t,e){this.items[t]||this.count++,this.items[t]=e}removeItem(t,e){this.items[t]===e&&(delete this.items[t],this.count--)}toArray(){return Object.keys(this.items).map(t=>this.items[t])}}class KH{constructor(){this.containerSize=0,this.slotsChange=new os,this.groups=[]}registerItem(t){this.itemGroup(t).registerItem(t)}unregisterItem(t,e=t.resourceIndex,n=t.index){const i=this.groups[e];i&&i.unregisterItem(t,n)}registerSlot(t){this.slotGroup(t).registerSlot(t)}unregisterSlot(t){const e=this.groups[t.id.resourceIndex];e&&e.unregisterSlot(t)}invalidate(){this.clearEmptyGroups(),this.cleanRanges(),this.slotsChange.emit(),this.forEachSlot(t=>{t.invalidate()})}cleanRanges(){this.groups.forEach(t=>{t.cleanRanges()})}clearEmptyGroups(){const t=this.groups;let e=this.groups.length-1;for(;e>0&&!t[e].hasSlots;)t.splice(e,1),e--}itemGroup(t){const e=t.resourceIndex;return this.groups[e]||(this.groups[e]=this.createGroup(e)),this.groups[e]}slotGroup(t){const e=t.id.resourceIndex;return this.groups[e]||(this.groups[e]=this.createGroup(e)),this.groups[e]}}const ZH=new Date(1980,0,1),QH=new Date(1980,0,2),JH=6e4,tW=1,eW=25;class nW{constructor(t,e,n,i,l){this.slotService=t,this.localization=e,this.focusService=n,this.element=i,this.renderer=l,this.className=!0,this.subs=new m}get taskIndex(){return this.item.index}get touchAction(){return this.editable&&!1!==this.editable.drag?"none":null}get eventTitle(){return`${t=Rk(this.item.startTime),e=Rk(this.item.endTime),n=this.item.isAllDay,n?`${JT(t,{skeleton:"yMMMMEEEEd"})}`:`${JT(t,{skeleton:"yMMMMEEEEdhm"})}\u2013${JT(e,"t")}`}, ${this.item.event.title}`;var t,e,n}get deleteMessage(){return this.localization.get("deleteTitle")}get resizable(){return this.editable&&!1!==this.editable.resize}get removable(){return this.editable&&!1!==this.editable.remove}get isRecurrence(){return t=this.item,Boolean(t.event&&t.event.recurrenceRule);var t}get isRecurrenceException(){return(t=this.item).event&&Pj(t.event.recurrenceId)&&!t.event.recurrenceRule;var t}get nativeElement(){if(this.element)return this.element.nativeElement}setStyles(t){const e=this.nativeElement;if(e)for(let n in t)t.hasOwnProperty(n)&&this.renderer.setStyle(e,n,t[n])}toggle(t){this.setStyles({display:t?"block":"none"})}reflow(){const t=this.rect;t&&this.setStyles({left:this.localization.rtl?"":`${t.left}px`,right:this.localization.rtl?`${t.left}px`:"",top:`${t.top}px`,width:`${t.width}px`,height:`${t.height}px`,display:"block"})}ngOnInit(){this.dragHint||this.subs.add(this.slotService.slotsChange.subscribe(()=>{this.rect=null,this.setStyles({display:"none",width:0,left:0}),this.slotService.unregisterItem(this,this.resourceIndex,this.index),this.resourceIndex>=0&&this.slotService.registerItem(this)}))}ngOnChanges(t){if(!this.dragHint&&uf(["resourceIndex","index"],t)){const{resourceIndex:e,index:n}=t;this.slotService.unregisterItem(this,e?e.previousValue:this.resourceIndex,n?n.previousValue:this.index),this.resourceIndex>=0?(this.slotService.registerItem(this),this.toggle(!0)):this.toggle(!1)}}ngOnDestroy(){this.dragHint||(this.slotService.unregisterItem(this),this.subs.unsubscribe())}}class iW{constructor(t){this.changeDetector=t,this.changeDetector.detach()}detectChanges(){this.changeDetector.detectChanges()}}const lW=15,sW=60,rW=50,oW=10;class aW{constructor(t,e,n,i,l,s,r,o,a){this.viewContext=t,this.viewState=e,this.intl=n,this.slotService=i,this.zone=l,this.renderer=s,this.element=r,this.pdfService=o,this.localization=a,this.items=new ha(null),this.horizontalResources=[],this.verticalResources=[],this.dragHints=[],this.resizeHints=[],this.getField=Nj,this.changes=new ha(null),this.viewRangeChange=new ha(null),this.subs=new m,this.groupedResources=[],this.spans=[],this.domEvents=[],this.resourcesCache={},this.autoHeight=!1,this.rtl=!1,this.setSlotClass=this.setSlotClass.bind(this),this.setHintClass=this.setHintClass.bind(this)}get eventTemplateRef(){return this.\u0435ventTemplate||(this.schedulerEventTemplate||{}).templateRef}get groupHeaderTemplateRef(){return this.groupHeaderTemplate||(this.schedulerGroupHeaderTemplate||{}).templateRef}ngOnInit(){const t=this.updateView.bind(this);this.resourcesByIndex=this.resourcesByIndex.bind(this),this.subs.add(this.viewContext.selectedDate.subscribe(this.onSelectDate.bind(this))),this.subs.add(this.viewContext.action.subscribe(this.onAction.bind(this))),this.subs.add(this.viewContext.execute.subscribe(this.execute.bind(this))),this.subs.add(this.viewContext.resize.subscribe(()=>{this.toggleElement(!1),this.updateView()})),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this))),this.subs.add(this.changes.subscribe(()=>{this.toggleElement(!1)})),this.subs.add(Ju(this.viewContext.items,this.viewState.dateRange,this.viewRangeChange).pipe(U(([t,e])=>this.createTasks(t,e))).subscribe(t=>{this.tasks=t,this.assignResources(),this.onTasksChange()})),this.subs.add(Ju(this.items,this.changes,this.localization.changes).pipe(Ec(()=>this.onStable())).subscribe(t)),this.subs.add(this.pdfService.createElement.subscribe(this.createPDFElement.bind(this)))}ngOnChanges(t){uf(["selectedDateFormat","selectedShortDateFormat"],t)&&this.viewState.notifyDateRange(this.dateRange(this.selectedDate)),t.eventHeight&&this.changes.next(null)}ngAfterViewInit(){this.bindEvents(),this.subs.add(this.localization.changes.subscribe(({rtl:t})=>{this.rtl=t}))}ngOnDestroy(){this.subs.unsubscribe(),this.domEvents.forEach(t=>t()),this.domEvents=[],this.draggable&&(this.draggable.destroy(),this.draggable=null)}itemIndex(t,e){return t}resourcesByIndex(t){if(!this.resourcesCache[t]){const e=this.taskResources,n=[];let i=t;for(let t=0;t<e.length;t++){const l=e[t].data||[],s=Math.floor(i/this.spans[t]);n.push(l[s]),i-=s*this.spans[t]}this.resourcesCache[t]=n}return this.resourcesCache[t]}dragResourcesByIndex(t){const e=this.resources||[],n=[];if(this.groupedResources.length){const e=this.resourcesByIndex(t).slice(0),i=this.taskResources;for(let t=0;t<i.length;t++){const l=this.resources.indexOf(i[t]);l>=0&&(n[l]=e[t])}}for(let i=0;i<e.length;i++)n[i]||(n[i]=CH(this.dragging.task.event,e[i]));return n}getEventClasses(t,e,n){if(this.eventClass)return this.eventClass({event:t.event,resources:e,isAllDay:n})}getEventStyles(t,e,n){const i={backgroundColor:e.color,borderColor:e.color};return this.eventStyles&&Object.assign(i,this.eventStyles({event:t.event,resources:e.resources,isAllDay:n})),i}optionsChange(t){this.schedulerEventTemplate=t.eventTemplate,this.schedulerGroupHeaderTemplate=t.groupHeaderTemplate,this.min=t.min,this.max=t.max,this.editable=t.editable,this.timezone=t.timezone,t.changes&&!uf(["group","resources"],t.changes,!1)&&t.group===this.group&&t.resources===this.resources||(this.group=t.group,this.resources=t.resources,this.groupResources(),this.resourcesCache={},this.tasks&&this.tasks.length&&(this.assignResources(),this.onTasksChange()),this.changes.next(null))}toggleElement(t){this.element&&this.renderer.setStyle(this.element.nativeElement,"display",t?"block":"none")}onStable(){return this.zone.onStable.asObservable().pipe(Cc(1))}updateView(){this.slotService.invalidate(),this.toggleElement(!0),this.reflow(),this.viewState.notifyLayoutEnd()}assignResources(){!function(t,e){for(let n=0;n<t.length;n++){const i=t[n];i.resources=TH(i.event,e)}}(this.tasks,{taskResources:this.taskResources,hasGroups:this.groupedResources.length>0,allResources:this.resources,spans:this.spans})}bindEvents(){const t=this.content.nativeElement,e=this.element.nativeElement;this.zone.runOutsideAngular(()=>{this.times&&this.subs.add(tt(rf(this.times.nativeElement,"mousewheel"),rf(this.times.nativeElement,"DOMMouseScroll")).pipe(lc(t=>!t.ctrlKey),dc(sH(t)),U(lH)).subscribe(e=>t.scrollTop-=e)),this.subs.add(tt(jj(t),rf(t,"contextmenu")).subscribe(t=>this.onClick(t))),this.subs.add(Hj(t).subscribe(t=>this.onClick(t,"dblclick"))),this.subs.add(rf(e,"keydown").subscribe(t=>this.onKeydown(t))),this.domEvents.push(this.renderer.listen(t,"scroll",()=>{this.headerWrap&&(this.headerWrap.nativeElement.scrollLeft=t.scrollLeft),this.times&&(this.times.nativeElement.scrollTop=t.scrollTop)})),this.draggable=new Qg({press:this.onPress.bind(this),drag:this.onDrag.bind(this),release:this.onRelease.bind(this)}),this.draggable.bindTo(e)})}onPress(t){const e=this.editable&&!1!==this.editable.resize,n=this.editable&&!1!==this.editable.drag,i=t.originalEvent.target;if(eH(i,"k-resize-handle")){if(!e)return;this.initResize(t)}else if(n){const e=this.targetTask(i);e&&(t.isTouch||t.originalEvent.preventDefault(),this.pressLocation={x:t.pageX,y:t.pageY},this.pressTarget=e)}this.dragArgs=t}onDrag(t){this.resizing?(this.resize(t),this.scrollContainer(this.resize,t)):(this.initDrag(t),this.dragging&&(this.drag(t),t.originalEvent.preventDefault(),this.scrollContainer(this.drag,t))),this.dragArgs=t}onRelease(){clearInterval(this.scrollInterval);const{resizing:t,dragging:e}=this;t&&(this.emitEvent("resizeEnd",{event:t.task.event,dataItem:t.task.event.dataItem,start:this.convertDate(t.start),end:this.convertDate(t.end)}),this.resizeHints=[]),e&&(this.emitEvent("dragEnd",{event:e.task.event,dataItem:e.task.event.dataItem,start:e.start?this.convertDate(e.start):e.task.start.toLocalDate(),end:e.end?this.convertDate(e.end):e.task.end.toLocalDate(),resources:e.resources,isAllDay:this.draggedIsAllDay(e.task,e.slot)}),this.dragHints=[]),(t||e)&&(this.removeSlotClass(),this.updateHintContainer(),this.resizing=null,this.dragging=null),this.container=null,this.dragArgs=null,this.pressLocation=null,this.pressTarget=null}setHintClass(t){(this.dragging||this.resizing).hintClass=t}updateHintClass(){const t=this.dragging||this.resizing;let e=!1;this.hints.forEach(n=>{n.class!==t.hintClass&&(n.class=t.hintClass,e=!0)}),e&&this.updateHintContainer()}removeHintClass(){(this.dragging||this.resizing).hintClass=null}setSlotClass(t){const e=this.dragging||this.resizing;e.slotClass=t,this.renderer.addClass(e.slot.nativeElement,e.slotClass)}removeSlotClass(){const t=this.dragging||this.resizing;t.slotClass&&(this.renderer.removeClass(t.slot.nativeElement,t.slotClass),t.slotClass=null)}get hints(){return this.dragging?this.dragHints:this.resizeHints}initDrag(t){if(!this.dragging&&this.pressLocation&&IH(this.pressLocation.x,this.pressLocation.y,t.pageX,t.pageY)>=oW){const e=this.pressTarget,n=e.task;if(this.emitEvent("dragStart",{event:n.event,dataItem:n.event.dataItem}))return this.pressLocation=null,void(this.pressTarget=null);this.dragging=e,this.updateDragContainer(t);const{x:i,y:l}=this.coordinatesOffset(this.pressLocation.x,this.pressLocation.y),s=this.slotByPosition(i,l,this.container);this.dragging.offset={start:s.start.getTime()-n.start.toUTCDate().getTime(),end:n.end.toUTCDate().getTime()-s.start.getTime()},this.dragging.slot=s,this.dragging.startResources=this.dragging.resourceItems=this.dragResourcesByIndex(s.id.resourceIndex),this.dragging.resources=this.resourceValues(n,this.dragging.startResources)}}updateDragContainer(t){this.container||(this.container=this.content.nativeElement,this.containerOffset=EH(this.container))}drag(t){if(this.updateDragContainer(t),!this.container)return;const{x:e,y:n}=this.coordinatesOffset(t.pageX,t.pageY),i=this.slotByPosition(e,n,this.container);if(i&&(i!==this.dragging.slot||!this.dragHints.length)){const t=this.dragging,{slot:e,task:n}=t,{ranges:l,start:s,end:r,isAllDay:o}=this.dragRanges(i);let a,u;if(e.id.resourceIndex!==i.id.resourceIndex?(a=this.dragResourcesByIndex(i.id.resourceIndex),u=this.resourceValues(n,a)):(a=t.resourceItems,u=t.resources),this.removeSlotClass(),t.start=s,t.end=r,t.slot=i,t.resources=u,t.resourceItems=a,t.hintClass=null,this.emitEvent("drag",{event:n.event,dataItem:n.event.dataItem,start:this.convertDate(s),end:this.convertDate(r),resources:u,isAllDay:o,setHintClass:this.setHintClass,setSlotClass:this.setSlotClass}))return void this.updateHintClass();const c=this.dragResourceColor(n,a),h=this.dragHintClasses();this.dragHints=[];for(let i=0;i<l.length;i++){const t=l[i],e=t[0],n=this.dragHintSize(e,t[t.length-1]);let o=e.rect.left;const u={top:AH(e.rect.top),left:this.localization.rtl?"":AH(o),right:this.localization.rtl?AH(o):"",width:n.width,height:n.height,backgroundColor:c,borderColor:c};this.eventStyles&&Object.assign(u,this.eventStyles(this.dragHintEventStyleArgs())),this.dragHints.push({item:Object.assign({},this.dragging.task,{startTime:s,endTime:r}),resources:a,class:h,style:u})}this.updateHintContainer()}}dragHintClasses(){const t=this.dragging.hintClass;let e=[];if(t&&e.push(t),this.eventClass){const t=this.eventClass(this.dragHintEventStyleArgs());e=e.concat(FH(t))}return e}dragHintEventStyleArgs(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems}}draggedIsAllDay(t,e){return Boolean(t.event.isAllDay)}dragResourceColor(t,e){if(this.groupedResources.length){const t=this.resources.indexOf(this.groupedResources[0]);return Nj(e[t],this.groupedResources[0].colorField)}return this.resources&&this.resources.length?t.resources[0].color:""}resourceValues(t,e){const n={};for(let i=0;i<e.length;i++){const l=this.resources[i];let s;Array.isArray(e[i])?s=Nj(t.event,l.field):(s=Nj(e[i],l.valueField),l.multiple&&(s=Nj(this.dragging.startResources[i],l.valueField)!==s?[s]:Nj(t.event.dataItem,l.field))),Rj(n,l.field,s)}return n}initResize(t){t.originalEvent.preventDefault();const e=t.originalEvent.target,n=this.targetTask(e);if(this.emitEvent("resizeStart",{event:n.task.event,dataItem:n.task.event.dataItem}))return;this.resizing=n,n.start=n.task.start.toUTCDate(),n.end=n.task.end.toUTCDate(),n.direction=eH(e,"k-resize-n")?"n":eH(e,"k-resize-s")?"s":eH(e,"k-resize-w")?"w":"e",this.updateDragContainer(t);const{x:i,y:l}=this.coordinatesOffset(t.pageX,t.pageY);n.slot=this.slotByPosition(i,l,this.container),n.offset={start:n.task.start.toUTCDate().getTime()-n.slot.start.getTime(),end:n.task.end.toUTCDate().getTime()-n.slot.start.getTime()}}resize(t){const{x:e,y:n}=this.coordinatesOffset(t.pageX,t.pageY),i=this.resizing,{direction:l,task:s,offset:r}=i,o=this.slotService.groupSlotByPosition(i.slot,e,n);if(!o||o===i.slot)return;this.removeSlotClass();const{start:a,end:u,ranges:c}=this.slotService.resizeRanges(o,s,"w"===l||"n"===l,r);i.hintClass=null,i.start=a,i.end=u,i.slot=o,this.emitEvent("resize",{event:s.event,dataItem:s.event.dataItem,start:this.convertDate(a),end:this.convertDate(u),setHintClass:this.setHintClass,setSlotClass:this.setSlotClass})?this.updateHintClass():(this.updateResizeHints(c,a,u),this.updateHintContainer())}updateResizeHints(t,e,n){const i=this.resizing,l=i.direction,s="w"===l||"e"===l,r="w"===l||"n"===l;this.resizeHints=[];for(let o=0;o<t.length;o++){const e=t[o],n=e[0],l=e[e.length-1],a=0===o,u=o===t.length-1;this.resizeHints.push({first:a,last:u,rect:{left:n.rect.left,top:n.top,height:s?n.height:Math.abs(l.rect.top-n.rect.top)+l.rect.height,width:s?Math.abs(l.rect.left-n.rect.left)+l.rect.width:n.width},start:a&&!r?i.start:n.start,end:u&&r?i.end:l.end,class:i.hintClass})}}coordinatesOffset(t,e,n=this.container,i=this.containerOffset){const l=t-i.left+n.scrollLeft;return{x:this.localization.rtl?this.slotService.containerSize-l:l,y:e-i.top+n.scrollTop}}scrollContainer(t,e){clearInterval(this.scrollInterval);const n=this.container;if(!n)return;const i=e.pageY-this.containerOffset.top,l=Math.abs(n.offsetHeight-i),s=e.pageY-this.dragArgs.pageY,r=e.pageX-this.containerOffset.left,o=Math.abs(n.offsetWidth-r),a=e.pageX-this.dragArgs.pageX;let u=!1,c=0,h=0;l<sW&&n.scrollTop+n.offsetHeight<n.scrollHeight&&s>0?(u=!0,h=lW,this.container.scrollTop+=sW-l):i<sW&&n.scrollTop>0&&s<0&&(u=!0,h=-lW,this.container.scrollTop-=sW-i),o<sW&&n.scrollLeft+n.offsetWidth<n.scrollWidth&&a>0?(u=!0,c=lW,this.container.scrollLeft+=sW-o):r<sW&&n.scrollLeft>0&&s<0&&(u=!0,c=-lW,this.container.scrollLeft-=sW-r),u&&(this.scrollInterval=setInterval(()=>{this.container?(this.container.scrollLeft+=c,this.container.scrollTop+=h,t.call(this,e)):clearInterval(this.scrollInterval)},rW))}emitEvent(t,e){return this.viewState.emitEvent(t,e),e.prevented}targetTask(t){const e=iH(t,t=>t.hasAttribute("data-task-index"),this.element.nativeElement);if(e){const t=parseInt(e.getAttribute("data-task-index"),10);return{target:e,task:this.tasks.find(e=>e.index===t)}}}updateHintContainer(){this.hintContainer&&this.hintContainer.detectChanges()}convertDate(t){return Yk.fromUTCDate(t,this.timezone).toLocalDate()}onClick(t,e=t.type){this.emitSlotEvent(t,e),this.emitTaskEvent(t,e)}emitSlotEvent(t,e){const n=iH(t.target,t=>t.hasAttribute("data-slot-index"),this.element.nativeElement);if(n){const i=n.getAttribute("data-slot-index"),l="dblclick"===e?"slotDblClick":"slotClick",s=this.slotByIndex(i,t);this.viewState.emitEvent(l,{type:e,slot:s,start:this.convertDate(s.start),end:this.convertDate(s.end),isAllDay:s.isDaySlot,originalEvent:t,resources:this.resources&&this.resources.length?this.resourcesByIndex(s.id.resourceIndex):[]})}}emitTaskEvent(t,e){const n=this.targetTask(t.target);if(n){const i=n.task,l="dblclick"===e;"click"===e&&iH(t.target,t=>eH(t,"k-event-delete"),n.target)?(t.preventDefault(),this.viewState.emitEvent("remove",{event:i.event,dataItem:i.event.dataItem})):(this.viewState.emitEvent(l?"eventDblClick":"eventClick",{type:e,event:i.event,originalEvent:t}),n.target.focus())}}onKeydown(t){const e=this.targetTask(t.target);if(e){const n=e.task;this.viewState.emitEvent("eventKeydown",{event:n.event,dataItem:n.event.dataItem,originalEvent:t})}}syncTables(){if(this.timesTable&&this.renderer.setStyle(this.timesTable.nativeElement,"height",`${this.contentTable.nativeElement.offsetHeight}px`),this.header&&(this.renderer.setStyle(this.header.nativeElement,this.localization.rtl?"padding-left":"padding-right",`${aH(this.content.nativeElement,"vertical")?oH()-tW:0}px`),this.renderer.setStyle(this.header.nativeElement,this.localization.rtl?"padding-right":"padding-left","0px")),this.times){const t=this.times.nativeElement;this.timesHeader.nativeElement.style.width=`${t.offsetWidth}px`,this.renderer.setStyle(t,"height",`${("auto"===this.contentHeight?this.content.nativeElement.offsetHeight:this.contentHeight)-(aH(this.content.nativeElement,"horizontal")?oH():0)}px`),t.scrollTop=this.content.nativeElement.scrollTop}}updateContentHeight(){const t=this.element.nativeElement,e=t.parentNode,n=this.content.nativeElement,i=this.autoHeight||!e.style.height,l=n.scrollLeft,s=n.scrollTop;if(this.renderer.setStyle(n,"height",""),this.times&&this.renderer.setStyle(this.times.nativeElement,"height",""),i)return void(this.contentHeight="auto");let r=e.clientHeight;for(let o=0;o<e.children.length;o++){const n=e.children[o];n===t||DH(n)||(r-=n.offsetHeight)}this.renderer.setStyle(n,"height",`${r-=this.headerWrap?this.headerWrap.nativeElement.offsetHeight:0}px`),this.contentHeight=r,n.scrollLeft=l,n.scrollTop=s}groupResources(){const t=this.group||{};this.groupedResources=Fj(t,this.resources||[]),"vertical"!==t.orientation?(this.horizontalResources=this.groupedResources,this.verticalResources=[]):(this.verticalResources=this.groupedResources,this.horizontalResources=[]),this.spans=this.resourceSpans()}get taskResources(){return this.groupedResources.length?this.groupedResources:this.resources&&this.resources.length?[this.resources[0]]:[{}]}resourceSpans(){const t=[1],e=this.groupedResources;let n=1;for(let i=e.length-1;i>0;i--)t.unshift(n*=(e[i].data||[]).length||1);return t}isInRange(t){const e=this.dateRange(t);return(!this.min||this.min<e.end)&&(!this.max||e.start<=this.max)}createPDFElement(){const t=this.contentHeight,e=this.content.nativeElement.scrollTop;"auto"!==t&&(this.autoHeight=!0,this.updateView());const n=this.element.nativeElement.cloneNode(!0);n.style.width=`${this.pdfWidth()}px`,"auto"!==t&&(this.autoHeight=!1,this.updateView()),this.pdfService.elementReady.emit({element:n}),this.content.nativeElement.scrollTop=e}pdfWidth(){return this.element.nativeElement.offsetWidth}containerByPosition({x:t,y:e}){const n=this.content.nativeElement,i=EH(n);if(i.top<=e&&e<=i.top+i.height&&i.left<=t&&t<=i.left+i.width)return{element:n,offset:i}}execute(t){if("slotByPosition"===t.name){const e=this.containerByPosition(t.args);if(e){const n=this.coordinatesOffset(t.args.x,t.args.y,e.element,e.offset),i=this.slotByPosition(n.x,n.y,e.element);t.result(this.slotFields(i))}}else if("eventFromElement"===t.name){const e=this.targetTask(t.args.element);e&&t.result(e.task.event)}}slotFields(t){return{element:t.element,resources:this.groupedResources.length?this.resourcesByIndex(t.id.resourceIndex):[],start:this.convertDate(t.start),end:this.convertDate(t.end)}}}class uW{constructor(t,e,n){this.element=t,this.slotService=e,this.localization=n,this._rect=null}get slotIndex(){return this.key}get rect(){if(this._rect)return this._rect;const t=this.nativeElement;return this._rect={left:this.localization.rtl?this.slotService.containerSize-(t.offsetLeft+t.clientWidth):t.offsetLeft,top:t.offsetTop,width:t.clientWidth,height:t.clientHeight},this._rect}get top(){return this.element?this.nativeElement.offsetTop:0}get padding(){return this.element&&of()?2*parseInt(window.getComputedStyle(this.nativeElement).paddingTop,10):0}get height(){return this.element?this.nativeElement.offsetHeight:0}set height(t){this.element&&(this.nativeElement.style.height=`${t}px`),this._rect&&(this._rect.height=t)}get width(){return this.element?this.nativeElement.offsetWidth:0}get key(){return`${this.id.resourceIndex}:${this.id.rangeIndex}:${this.id.index}`}get nativeElement(){return this.element.nativeElement}ngOnInit(){this.slotService.registerSlot(this)}ngOnDestroy(){this.slotService.unregisterSlot(this)}invalidate(){this._rect=null}}class cW{constructor(){this.hostClasses=!0,this.itemClick=new os}onItemClick(t,e){t.preventDefault(),this.itemClick.emit(e)}}class hW{constructor(t,e){this.footer=t,this.localization=e,this.showWorkHours=!1,this.footerItems=[{cssClass:"k-scheduler-fullday",iconClass:"k-i-clock",text:""}]}ngOnInit(){this.toggleWorkHours(),this.footer.items=this.footerItems}ngOnChanges(){this.toggleWorkHours()}toggleWorkHours(){this.footerItems[0].text=this.localization.get(this.showWorkHours?"showFullDay":"showWorkDay")}}class dW{constructor(t,e=t.length-1){this.resources=t,this.lastIndex=e}*[Vj](){let t=this.resources;const e=Math.max(0,this.lastIndex);t&&t.length||(t=[{}]);const n=t[e].data||[],i=n.length;let l=1;for(let s=0;s<=e;s++)l*=(t[s].data||[]).length||1;for(let s=0;s<l;s++)yield n[s%i]}}class pW{transform(t=[],e){return new dW(t,e)}}class mW{constructor(){this.marqueeClasses=!0}get left(){return this.hint.rect.left}get top(){return this.hint.rect.top}get width(){return this.hint.rect.width}get height(){return this.hint.rect.height}get start(){return Rk(this.hint.start)}get end(){return Rk(this.hint.end)}}class gW{}class fW{}const bW="eventHeight",vW="showWorkHours",yW="startTime",wW="endTime",xW="workDayStart",kW="workDayEnd",_W="workWeekStart",CW="workWeekEnd",TW="slotDuration",SW="slotDivisions",MW="currentTimeMarker";class PW extends YH{constructor(t,e,n,i){super(t,e,n,i)}get viewEventHeight(){return this.optionValue(bW)||eW}get shouldShowWorkHours(){return this.optionValue(vW)}get viewStartTime(){return this.optionValue(yW)}get viewEndTime(){return this.optionValue(wW)}get viewWorkDayStart(){return this.optionValue(xW)}get viewWorkDayEnd(){return this.optionValue(kW)}get viewWorkWeekStart(){return this.optionValue(_W)}get viewWorkWeekEnd(){return this.optionValue(CW)}get viewSlotDuration(){return this.optionValue(TW)}get viewSlotDivisions(){return this.optionValue(SW)}get viewCurrentTimeMarker(){return this.optionValue(MW)}get viewScrollTime(){return this.optionValue("scrollTime")}optionValue(t){return Pj(this[t])?this[t]:this.schedulerOptions[t]}}const AW="slotFill";class EW extends PW{constructor(t,e,n,i){super(t,e,n,i)}get viewSlotFill(){return this.optionValue(AW)}}class IW extends EW{constructor(t,e,n,i){super(t,e,n,i),this.selectedDateFormat="{0:D}",this.selectedShortDateFormat="{0:d}",this.name="day"}get title(){return this.localization.get("dayViewTitle")}}class DW extends IW{constructor(t,e,n,i){super(t,e,n,i),this.numberOfDays=1,this.name="multiDay"}set selectedDateFormat(t){this.dateFormat=t}get selectedDateFormat(){return this.dateFormat||this.defaultDateFormat}set selectedShortDateFormat(t){this.shortDateFormat=t}get selectedShortDateFormat(){return this.shortDateFormat||this.defaultShortDateFormat}get title(){return this.localization.get("multiDayViewTitle")}get defaultDateFormat(){return 1===this.numberOfDays?"{0:D}":"{0:D} - {1:D}"}get defaultShortDateFormat(){return 1===this.numberOfDays?"{0:d}":"{0:d} - {1:d}"}}class OW extends EW{constructor(t,e,n,i,l){super(e,n,i,l),this.intl=t,this.selectedDateFormat="{0:D} - {1:D}",this.selectedShortDateFormat="{0:d} - {1:d}",this.name="week",this.getStartDate=this.getStartDate.bind(this)}get title(){return this.localization.get("weekViewTitle")}getStartDate(t){return Zk(wk(t),this.intl.firstDay())}}const FW=7;class NW extends OW{constructor(t,e,n,i,l){super(t,e,n,i,l),this.name="workWeek",this.getNextDate=this.getNextDate.bind(this)}get title(){return this.localization.get("workWeekViewTitle")}get numberOfDays(){return this.viewWorkWeekStart>this.viewWorkWeekEnd?FW-this.viewWorkWeekStart+this.viewWorkWeekEnd+1:this.viewWorkWeekEnd-this.viewWorkWeekStart+1}getStartDate(t){return Zk(wk(t),this.viewWorkWeekStart)}getNextDate(t,e,n){return wk(qk(t,FW*e))}}const RW=10,LW=(t,e)=>t<=e&&e<=t+25,BW=(t,e,n=!0)=>t.start.getTime()<=e.getTime()?(n?t.height:t.width)*((e.getTime()-t.start.getTime())/(t.end.getTime()-t.start.getTime())):0,VW=(t,e)=>{const n=Ej(t.columnIndex)?t.columnIndex:Number.MAX_VALUE,i=Ej(e.columnIndex)?e.columnIndex:Number.MAX_VALUE;return n===i?t.item.startTime.getTime()-e.item.startTime.getTime():n-i};function zW(t,e){if(void 0!==e.rowIndex)return e.rowIndex;for(let n=0;n<t.length;n++){const i=t[n];if(!i||!dH(e.item.startTime,e.item.endTime,i.item.startTime,i.item.endTime))return n}return t.length}function jW(t,e,n,i,l){const s=t[0].padding;if(!e.length)return{height:n-s};e.forEach(t=>{t.rowIndex=void 0,t.rect={height:i,width:0}});const r=YD(e,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]),o={};r.forEach(e=>t.filter(t=>dH(e.item.startTime,e.item.endTime,t.start,t.end)).forEach(t=>{const n=o[t.key]=o[t.key]||{rows:[],slot:t,events:[]};e.rowIndex=l(n.rows,e),n.rows[e.rowIndex]=e,n.events.push(e)}));const a=t[0].top;let u=0;return Object.keys(o).forEach(t=>{const e=o[t].events;let n=0;for(let i=0;i<e.length;i++){const t=e[i];t&&(t.rect.top=a+t.rowIndex*(RW+t.rect.height),n=Math.max(n,t.rect.top-a+t.rect.height))}u=Math.max(n,u)}),{height:u+=n-s,slotItems:o}}function HW(t,e,n){Object.keys(t).forEach(e=>{const{slot:i,events:l}=t[e],s=i.rect;for(let t=0;t<l.length;t++){const e=l[t];if(e){Ej(e.rect.left)||(e.rect.left=i.rect.left+(n?BW(i,e.item.startTime,!1):0));const t=n&&e.item.endTime.getTime()<i.end.getTime()?BW(i,e.item.endTime,!1):s.width;e.rect.width=i.rect.left+t-e.rect.left}}}),e.forEach(t=>{t.reflow()})}class WW{constructor(t){this.index=t,this.slotMap=new XH,this.itemMap=new XH}get slots(){return this.slotMap.toArray()}get firstSlot(){return this.slotMap.first}get lastSlot(){return this.slotMap.last}get items(){return this.itemMap.toArray()}get rect(){const t=this.firstSlot.rect,e=this.lastSlot.rect;return{left:t.left,top:t.top,width:e.left-t.left+e.width,height:e.top-t.top+e.height}}get start(){const t=this.slotMap.first;return t?t.start:null}get end(){const t=this.slotMap.last;return t?t.end:null}get hasSlots(){return this.slotMap.count>0}get hasItems(){return this.itemMap.count>0}registerItem(t){this.itemMap.addItem(t.item.index,t)}unregisterItem(t,e){this.itemMap.removeItem(e,t)}registerSlot(t){this.slotMap.addItem(t.id.index,t)}unregisterSlot(t){this.slotMap.removeItem(t.id.index,t)}layout(t){const e=this.items;if(!e.length)return;const n=Math.max(Math.min(t.fill||.9,1),.1),i=YD(e,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]);e.forEach((t,e)=>{t.rect=null,t.columnIndex=void 0});const l={},s=this.slots;i.forEach(t=>s.filter(e=>dH(t.item.startTime,t.item.endTime,e.start,e.end)).forEach(e=>{const n=l[e.key]=l[e.key]||{events:[]};n.slot=e,n.events.push(t)}));const r=Object.keys(l);!function(t,e){let n=0,i=[];t.forEach(t=>{const{slot:l,events:s}=e[t],r=s.length;let o=!0;s.sort(VW),n=Math.max(r,n),i.push(l);for(let e=0;e<r;e++){const t=s[e];if(o=o&&t.item.endTime.getTime()<=l.end.getTime(),!Ej(t.columnIndex)){t.rect={top:l.rect.top+BW(l,t.item.startTime)},t.columnIndex=e,t.lastColumn=!0;for(let n=0,i=-1;n<e;n++){const l=s[n];if(l.columnIndex>i+1){t.columnIndex=i+1,t.lastColumn=!1,s.splice(e,1),s.splice(t.columnIndex,0,t);break}if(!dH(t.item.startTime,t.item.endTime,l.item.startTime,l.item.endTime)&&!LW(l.rect.top,t.rect.top)){t.columnIndex=n,t.lastColumn=!s.some(e=>e.columnIndex&&n<e.columnIndex&&dH(t.item.startTime,t.item.endTime,e.item.startTime,e.item.endTime)),s.splice(e,1),s.splice(n,0,t);break}i=l.columnIndex,l.lastColumn=!1}}}o&&(i.forEach(t=>t.columns=n),i=[],n=0)}),i.forEach(t=>t.columns=n)}(r,l),r.forEach(t=>{const{slot:e,events:i}=l[t],s=e.rect,r=s.left,o=e.columns,a=s.width*n-2*(o-1)-2,u=r+2,c=a/o,h=u+a+2*(o-1);i.forEach(t=>{Ej(t.rect.left)||(t.rect.left=u+t.columnIndex*(c+2),t.rect.width=t.lastColumn?h-t.rect.left:c,t.origin={left:r,right:r+s.width});const n=e.end.getTime()<=t.item.endTime.getTime()?s.height:BW(e,t.item.endTime);t.rect.height=s.top+n-t.rect.top})}),i.forEach(t=>t.reflow())}initDaySlots(t,e){const n=this.slots;if(!n.length)return;const{height:i,slotItems:l}=jW(n,this.items,t,e,SH);this.setSlotsHeight(i),this.slotItems=l}setDayOffsets(){this.itemMap.count&&this.slotItems&&(HW(this.slotItems,this.items),this.slotItems=null)}setSlotsHeight(t){this.firstSlot.height=t}}class UW{constructor(t){this.index=t,this.dayRanges=[],this.timeRanges=[]}registerSlot(t){this.slotRange(t).registerSlot(t)}unregisterSlot(t){const e=this.slotRange(t);e.unregisterSlot(t),e.hasSlots||delete this.slotRanges(t)[t.id.rangeIndex]}registerItem(t){const e=this.itemRange(t);e?(e.registerItem(t),t.rangeIndex=e.index):(t.rangeIndex=void 0,t.toggle(!1))}unregisterItem(t,e){if(void 0!==t.rangeIndex){const n=t.item.isAllDay?this.dayRanges:this.timeRanges;n[t.rangeIndex]&&n[t.rangeIndex].unregisterItem(t,e),t.rangeIndex=void 0}}forEachDateRange(t){for(let e=0;e<this.dayRanges.length;e++)t(this.dayRanges[e])}forEachTimeRange(t){for(let e=0;e<this.timeRanges.length;e++)t(this.timeRanges[e])}slotRange(t){const e=this.slotRanges(t),n=t.id.rangeIndex;return e[n]||(e[n]=new WW(n)),e[n]}slotRanges(t){return t.isDaySlot?this.dayRanges:this.timeRanges}initTimeSlots(t,e,n){const i=this.slots;if(!i.length)return;const{height:l,slotItems:s}=jW(i,this.items,t,e,zW);this.setSlotsHeight(Math.max(l,n)),this.slotItems=s}setTimelineOffsets(){const t=this.items;this.slotItems&&t.length&&(HW(this.slotItems,t,!0),this.slotItems=null)}setSlotsHeight(t){this.timeRanges[0].setSlotsHeight(t)}get items(){return this.timeRanges.reduce((t,e)=>t.concat(e.items),[])}get slots(){return this.timeRanges.reduce((t,e)=>t.concat(e.slots),[])}get hasSlots(){return Boolean(this.dayRanges.find(t=>t&&t.hasSlots)||this.timeRanges.find(t=>t&&t.hasSlots))}cleanRanges(){this.dayRanges=this.dayRanges.filter(t=>Boolean(t)),this.timeRanges=this.timeRanges.filter(t=>Boolean(t))}itemRange(t){const e=t.item,n=e.isAllDay?this.dayRanges:this.timeRanges;return Ej(e.rangeIndex)?n[e.rangeIndex]:n.find(t=>dH(e.startTime,e.endTime,t.start,t.end))}}class $W extends KH{layoutDays(t=25){this.groups.forEach(t=>t.forEachDateRange(t=>t.slots.forEach(t=>{t.element.nativeElement.style.height=""})));const e=this.groups[0].dayRanges[0].slots[0].height;this.groups.forEach(n=>{n.forEachDateRange(n=>n.initDaySlots(e,t))}),this.groups.forEach(t=>{t.forEachDateRange(t=>t.setDayOffsets())})}layoutTimeline(t,e){this.groups.forEach(t=>t.forEachTimeRange(t=>t.slots.forEach(t=>{t.element.nativeElement.style.height=""})));const n=this.groups[0].timeRanges[0].slots[0].height;this.groups.forEach((i,l)=>{i.initTimeSlots(n,t,e&&e[l]?e[l].nativeElement.children[0].children[0].offsetHeight:0)}),this.groups.forEach(t=>t.setTimelineOffsets())}layoutTimes(t){this.groups.forEach(e=>e.forEachTimeRange(e=>e.layout(t)))}forEachDateRange(t){this.groups.forEach((e,n)=>{t(e.dayRanges[0],n)})}syncDateRanges(){let t=0;return this.groups.forEach(e=>{const n=e.dayRanges[0].firstSlot;n&&(t=Math.max(n.rect.height-n.padding,t))}),this.groups.forEach(e=>{e.dayRanges[0].setSlotsHeight(t)}),t}forEachGroup(t){this.groups.forEach(t)}forEachSlot(t){this.groups.forEach(e=>{e.dayRanges.forEach(e=>{e.slots.forEach(e=>t(e))}),e.timeRanges.forEach(e=>{e.slots.forEach(e=>t(e))})})}createGroup(t){return new UW(t)}slotByIndex(t,e=!1){const[n,i,l]=t.split(":").map(t=>parseInt(t,10));return this.groups[n][e?"dayRanges":"timeRanges"][i].slots[l]}slotByPosition(t,e,n,i){let l;if(n){if(this.groups.find(e=>l=e.dayRanges.find(e=>PH(e.rect,t))),l)return l.slots.find(e=>PH(e.rect,t))}else if(this.groups.find(n=>(i&&(l=n.dayRanges.find(n=>MH(n.rect,t,e))),l||(l=n.timeRanges.find(n=>MH(n.rect,t,e))),l)),l)return l.slots.find(n=>MH(n.rect,t,e))}groupSlotByPosition(t,e,n){const i=this.groups[t.id.resourceIndex];let l;if(l=t.isDaySlot?i.dayRanges.find(t=>MH(t.rect,e,n)):i.timeRanges.find(t=>MH(t.rect,e,n)))return l.slots.find(t=>MH(t.rect,e,n))}dragRanges(t,e,n){const i=new Date(t.start.getTime()-e.start),l=new Date(t.start.getTime()+e.end),s=this.groups[t.id.resourceIndex];let r;if(n){const t=[];s.timeRanges.forEach(e=>{const n=e.slots.filter(t=>dH(i,l,t.start,t.end));n.length&&t.push(n)});const e=t[t.length-1];r=[t[0][0],e[e.length-1]]}else r=s.slotRange(t).slots.filter(t=>dH(i,l,t.start,t.end));return{start:i,end:l,ranges:[r]}}resizeRanges(t,e,n,i){const l=this.groups[t.id.resourceIndex],s=e.isAllDay?l.dayRanges:l.timeRanges,r=[],o=e.start.toUTCDate(),a=e.end.toUTCDate();let u,c;if(n){const n=t.start.getTime()+i.start;c=o.getTime()===a.getTime()?this.findDateSlot(a,s,!0).end:a,u=n>=a.getTime()?e.isAllDay?new Date(Math.min(wH(a,o).getTime(),a.getTime())):this.findDateSlot(c,s).start:i.start&&e.isAllDay?new Date(n):new Date(t.start.getTime())}else u=o,c=t.start.getTime()<=u.getTime()?e.isAllDay?new Date(Math.max(wH(o,a).getTime(),o.getTime())):this.findDateSlot(u,s,!0).end:i.end&&e.isAllDay?new Date(t.start.getTime()+i.end):t.end;return s.forEach(t=>{const e=t.slots.filter(t=>dH(u,c,t.start,t.end));e.length&&r.push(e)}),{start:u,end:c,ranges:r}}timePosition(t,e,n){const i=this.groups[e].timeRanges.find(e=>pH(t,e.start,e.end));if(!i)return;const l=i.slots.find(e=>pH(t,e.start,e.end));if(l){const e=(n?l.height:l.width)*((t.getTime()-l.start.getTime())/(l.end.getTime()-l.start.getTime()));return n?l.rect.top+e:l.rect.left+e}}findDateSlot(t,e,n){let i;return e.forEach(e=>{const l=e.slots.filter(n?e=>dH(t,t,e.start,e.end):e=>pH(t,e.start,e.end));l.length&&(i=l[0])}),i}}const YW=({start:t,end:e})=>{const n=t.stripTime(),i=e.stripTime();return n.getTime()!==i.getTime()&&(i.getTime()!==e.getTime()||n.addDays(1).getTime()!==i.getTime())},qW=(t,e,n,i)=>{const l=[],s=vH(t),r=vH(e);for(let o=0;o<n.length;o++){const t=n[o],e=YW(t),a=e&&!t.event.isAllDay&&t.end.getTime()-t.start.getTime()<_k,u=t.event.isAllDay||e&&!a,c=(u?mH(t):t.end).toUTCDate(),h=(u?t.start.stripTime():t.start).toUTCDate();for(let n=0;n<i.length;n++)if(dH(h,c,i[n].start,i[n].end)){const e={index:o,isAllDay:u,startTime:h,endTime:c,rangeIndex:u?0:n,start:t.start,end:t.end,event:t.event};if(l.push(e),!a){e.head=r<c,e.tail=h<s;break}{const t=i[n+1],l=i[n-1];e.head=(t?t.start:r)<c,e.tail=h<(l?l.end:s)}}}return function(t){return t.sort((t,e)=>t.startTime-e.startTime||e.endTime-t.endTime),t}(l)},GW=t=>wk(t),XW=(t,e)=>wk(qk(t,e||1)),KW=(t,e,n)=>wk(qk(t,n*e));class ZW extends aW{constructor(t,e,n,i,l,s,r,o,a,u){super(e,n,i,l,s,r,o,a,u),this.changeDetector=t,this.numberOfDays=1,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.workWeekStart=1,this.workWeekEnd=5,this.slotDuration=60,this.slotDivisions=2,this.showWorkHours=!1,this.getStartDate=GW,this.getEndDate=XW,this.getNextDate=KW,this.daySlots=[],this.timeSlots=[],this.resizeHintFormat="t",this.showCurrentTime=!1,this.verticalTime=!0,this.initialUpdate=!0,this.updateCurrentTime=this.updateCurrentTime.bind(this)}get classNames(){return`k-scheduler-${this.name}view`}get timeSlotTemplateRef(){return this.timeSlotTemplate||(this.schedulerTimeSlotTemplate||{}).templateRef}get dateHeaderTemplateRef(){return this.dateHeaderTemplate||(this.schedulerDateHeaderTemplate||{}).templateRef}ngOnChanges(t){(t.startTime||t.endTime||t.showWorkHours||t.workDayStart||t.workDayEnd||t.workWeekStart||t.workWeekEnd||t.slotDivisions||t.slotDuration)&&(this.timeSlots=this.createTimeSlots(),this.initWorkDay(),this.changes.next(null)),af("currentTimeMarker",t)&&(this.showCurrentTime=this.enableCurrentTime()),super.ngOnChanges(t)}ngOnDestroy(){super.ngOnDestroy(),clearTimeout(this.currentTimeTimeout)}verticalItem(t,e){const n=this.verticalResources[e].data||[],i=this.verticalResources;let l=1;for(let s=e+1;s<i.length;s++)l*=(i[s].data||[]).length||1;return n[t/l%n.length]}timeSlotClass(t,e,n){if(this.slotClass)return this.slotClass({start:wH(e,t.start),end:wH(e,t.end),resources:this.resourcesByIndex(n),isAllDay:!1})}scrollToTime(t=this.scrollTime){const e=this.intl.parseDate(t);if(!e)return;const n=bH(this.daySlots[0].start,e),i=this.slotService.timePosition(n,0,this.verticalTime);if(Ej(i)){const t=this.content.nativeElement;t[this.verticalTime?"scrollTop":"scrollLeft"]=this.localization.rtl&&!this.verticalTime?function(t,e){const n=t.scrollLeft;let i=e;return t.scrollLeft=-1,t.scrollLeft<0?i=-e:n>0&&(i=t.scrollWidth-t.offsetWidth-e),i}(t,i):i}}optionsChange(t){this.schedulerTimeSlotTemplate=t.timeSlotTemplate,this.schedulerDateHeaderTemplate=t.dateHeaderTemplate,super.optionsChange(t)}updateView(){super.updateView(),this.updateCurrentTime(),this.initialUpdate&&(this.scrollToTime(),this.initialUpdate=!1)}enableCurrentTime(){if(!this.currentTimeMarker||!1===this.currentTimeMarker.enabled||!this.selectedDate)return!1;const t=this.dateRange();this.currentDate=Yk.fromLocalDate(this.currentTime(),!1!==this.currentTimeMarker.localTimezone?"":this.timezone);const e=this.currentDate.toLocalDate(),n=gH(e),i=this.timeSlots,l=pH(e,t.start,t.end),s=i.length&&pH(n,i[0].start,i[i.length-1].end);return l&&s}currentTime(){return new Date}updateCurrentTime(){if(!of())return;const t=this.enableCurrentTime();t!==this.showCurrentTime&&(this.showCurrentTime=t,this.changeDetector.detectChanges()),clearTimeout(this.currentTimeTimeout),t&&(this.zone.runOutsideAngular(()=>{this.currentTimeTimeout=setTimeout(this.updateCurrentTime,this.currentTimeMarker.updateInterval||JH)}),this.positionCurrentTime())}positionCurrentTime(){if(this.currentTimeElements&&this.currentTimeElements.length){const t=this.currentDate.toUTCDate(),e=this.currentTimeArrows?this.currentTimeArrows.toArray():[],n=e.length?this.currentTimeArrowOffset():0,i=e.length?e[0].nativeElement.offsetHeight/2:4,l=this.contentTable.nativeElement.clientWidth,s=this.contentTable.nativeElement.clientHeight,r=this.verticalTime;this.currentTimeElements.forEach((o,a)=>{const u=this.slotService.timePosition(t,a,r);if(void 0!==u){const t=o.nativeElement;if(e[a]){const t=r?n:u-i;OH(e[a].nativeElement,{top:r?u-i:n,left:t,right:t})}const c=r?0:u;OH(t,{top:r?u:0,left:c,right:c,width:r?l:1,height:r?1:s})}})}}bindEvents(){super.bindEvents(),this.zone.runOutsideAngular(()=>{this.subs.add(jj(this.headerWrap.nativeElement).subscribe(t=>this.onHeaderClick(t))),this.subs.add(rf(this.headerWrap.nativeElement,"contextmenu").subscribe(t=>this.onClick(t))),this.subs.add(Hj(this.headerWrap.nativeElement).subscribe(t=>this.onClick(t,"dblclick")))})}onHeaderClick(t){if(this.onClick(t),this.daySlots.length<=1)return;const e=t.target.getAttribute("data-dayslot-index");if(e){const t=this.daySlots[parseInt(e,10)];this.zone.run(()=>{this.viewState.navigateTo({viewName:"day",date:t.start})})}}slotByIndex(t,e){return this.slotService.slotByIndex(t,e.target.hasAttribute("data-day-slot"))}onSelectDate(t){this.selectedDate=t,this.daySlots=this.createDaySlots(),this.showCurrentTime=this.enableCurrentTime(),this.viewState.notifyDateRange(this.dateRange())}onAction(t){const e=wk(this.selectedDate);if("next"===t.type){const t=this.getNextDate(e,1,this.numberOfDays);this.isInRange(t)&&this.viewState.notifyNextDate(t)}if("prev"===t.type){const t=this.getNextDate(e,-1,this.numberOfDays);this.isInRange(t)&&this.viewState.notifyNextDate(t)}"scroll-time"===t.type&&this.scrollToTime(t.time)}dateRange(t=this.selectedDate){const e=this.getStartDate(t),n=this.getEndDate(e,this.numberOfDays),i=this.getEndDate(e,this.numberOfDays-1);return{start:e,end:n,text:this.intl.format(this.selectedDateFormat,e,i),shortText:this.intl.format(this.selectedShortDateFormat,e,i)}}createDaySlots(){let t=this.getStartDate(this.selectedDate);const e=this.getEndDate(t,this.numberOfDays),n=[];for(;t<e;){const e=qk(t,1);n.push({start:t,end:e}),t=e}return n}createTimeSlots(){return function(t,{showWorkHours:e,startTime:n,endTime:i,workDayStart:l,workDayEnd:s,slotDivisions:r,slotDuration:o}){const a=gH(t.parseDate(e?l:n)).getTime();let u=gH(t.parseDate(e?s:i)).getTime();u<=a&&(u=gH(ZH).getTime()+_k);const c=[],h=Math.round(o/r*JH);let d=a,p=0;for(;d<u;)c.push({start:new Date(d),end:new Date(d+h),isMajor:p%r==0}),p++,d+=h;return c}(this.intl,{showWorkHours:this.showWorkHours,startTime:this.startTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,slotDivisions:this.slotDivisions,slotDuration:this.slotDuration})}initWorkDay(){const t=this.intl.parseDate(this.workDayStart);this.workDayStartTime=gH(t);const e=this.intl.parseDate(this.workDayEnd);this.workDayEndTime=gH(e)}slotByPosition(t,e,n){const i=n?eH(n.parentNode,"k-scheduler-header-wrap"):e<0;return this.slotService.slotByPosition(t,e,i,Boolean(this.verticalResources.length))}slotFields(t){const e=super.slotFields(t);return t.isDaySlot?e.isAllDay=!0:(e.start=this.convertDate(t.start),e.end=this.convertDate(t.end)),e}}class QW extends ZW{constructor(t,e,n,i,l,s,r,o,a,u){super(a,e,n,i,l,s,r,o,u,t),this.name="day",this.dateFormat={skeleton:"MEd"},this.allDayResizeHintFormat={skeleton:"Md"},this.allDayItems=new ha(null)}get allDaySlotTemplateRef(){return this.allDaySlotTemplate||(this.schedulerAllDaySlotTemplate||{}).templateRef}get allDayEventTemplateRef(){return this.allDayEventTemplate||(this.schedulerAllDayEventTemplate||{}).templateRef}get minorTimeHeaderTemplateRef(){return this.minorTimeHeaderTemplate||(this.schedulerMinorTimeHeaderTemplate||{}).templateRef}get majorTimeHeaderTemplateRef(){return this.majorTimeHeaderTemplate||(this.schedulerMajorTimeHeaderTemplate||{}).templateRef}get allDayMessage(){return this.localization.get("allDay")}get allDayResizeHint(){return this.resizing&&this.resizing.task.isAllDay}get allDayDragHint(){return this.dragging&&this.dragging.slot.isDaySlot}optionsChange(t){this.schedulerAllDaySlotTemplate=t.allDaySlotTemplate,this.schedulerAllDayEventTemplate=t.allDayEventTemplate,this.schedulerMinorTimeHeaderTemplate=t.minorTimeHeaderTemplate,this.schedulerMajorTimeHeaderTemplate=t.majorTimeHeaderTemplate,super.optionsChange(t)}ngOnChanges(t){super.ngOnChanges(t),t.slotFill&&this.changes.next(null),(t.startTime||t.endTime||t.showWorkHours||t.workDayStart||t.workDayEnd||t.workWeekStart||t.workWeekEnd)&&this.viewRangeChange.next(null)}horizontalColspan(t){const e=this.horizontalResources;let n=this.daySlots.length;for(let i=t+1;i<e.length;i++)n*=(e[i].data||[]).length||1;return n}verticalRowspan(t){const e=this.verticalResources;let n=this.timeSlots.length+1;for(let i=t+1;i<e.length;i++)n*=(e[i].data||[]).length||1;return n}allDaySlotClass(t,e){if(this.slotClass)return this.slotClass({start:t.start,end:t.end,resources:this.resourcesByIndex(e),isAllDay:!0})}createTasks(t,e){const n=this.timeSlots[0],i=this.timeSlots[this.timeSlots.length-1].end,l=!(i.getHours()||i.getMinutes()),s=this.daySlots.map(t=>({start:bH(t.start,n.start),end:l?vH(t.end):bH(t.start,i)}));return qW(e.start,e.end,t,s)}onTasksChange(){this.items.next(this.tasks.filter(t=>!t.isAllDay)),this.allDayItems.next(this.tasks.filter(t=>t.isAllDay))}reflow(){const t=this.slotService;if(this.verticalResources.length||(this.updateContentHeight(),this.syncTables()),this.slotService.containerSize=this.content.nativeElement.clientWidth,t.layoutDays(this.eventHeight),this.updateContentHeight(),this.syncTables(),this.dayCells.length){const e=this.dayCells.toArray();if(this.verticalResources.length)t.forEachDateRange((t,n)=>{const i=t.firstSlot;e[n].nativeElement.style.height=`${i.rect.height-i.padding}px`});else{const n=t.syncDateRanges();e[0].nativeElement.style.height=`${n}px`}}t.layoutTimes({fill:this.slotFill}),this.syncTables()}dragHorizontal(t){return t.isDaySlot}updateHintContainer(){this.headerHintContainer&&this.headerHintContainer.detectChanges(),super.updateHintContainer()}onRelease(){super.onRelease(),this.dragContainers=null}updateDragContainer(t){this.dragContainers||(this.dragContainers=this.containers);const e=this.dragContainers.find(e=>{const n=e.offset;return n.top<=t.pageY&&t.pageY<=n.top+n.height})||{};this.container=e.element,this.containerOffset=e.offset}containerByPosition({x:t,y:e}){return this.containers.find(n=>{const i=n.offset;return i.top<=e&&e<=i.top+i.height&&i.left<=t&&t<=i.left+i.width})}get containers(){const t=this.headerWrap.nativeElement.children[1],e=this.content.nativeElement;return[{element:e,offset:EH(e)},{element:t,offset:EH(t)}]}scrollContainer(t,e){clearInterval(this.scrollInterval),this.container&&this.container===this.content.nativeElement&&super.scrollContainer(t,e)}dragRanges(t){const e=this.dragging.task;if(t.isDaySlot&&!e.isAllDay)return{ranges:[[t]],start:wH(t.start,e.start.toUTCDate()),end:wH(t.start,e.end.toUTCDate()),isAllDay:!0};const n=e.isAllDay&&!t.isDaySlot,i=this.slotService.dragRanges(t,n?{start:0,end:0}:this.dragging.offset);return n&&(i.end=t.end),i.isAllDay=this.draggedIsAllDay(e,t),i}dragHintEventStyleArgs(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems,isAllDay:Boolean(this.allDayDragHint)}}draggedIsAllDay(t,e){return Boolean(e.isDaySlot&&(t.event.isAllDay||!YW(t)))}dragHintSize(t,e){let n,i;return t.isDaySlot?(n=AH(e.rect.left-t.rect.left+e.rect.width),i=AH(t.height)):(n=AH(.9*t.rect.width),i=AH(this.dragging.task.isAllDay?t.rect.height:e.rect.top-t.rect.top+e.rect.height)),{width:n,height:i}}currentTimeArrowOffset(){if(this.verticalResources.length){const t=this.times.nativeElement.querySelector(".k-scheduler-times-all-day"),e=this.times.nativeElement;return this.localization.rtl?e.offsetWidth-t.offsetWidth:t.offsetLeft}return 0}}class JW extends uW{constructor(t,e,n){super(t,e,n),this.isDaySlot=!1}get nonWorkHour(){const t=this.date.getDay();return this.invariantStart<this.workDayStart||this.workDayEnd<this.invariantEnd||!RH(t,this.workWeekStart,this.workWeekEnd)}get startLocalTime(){return this.date&&this.invariantStart?wH(this.date,this.invariantStart):null}get endLocalTime(){return this.date&&this.invariantEnd?wH(this.date,this.invariantEnd):null}get start(){return this.date&&this.invariantStart?bH(this.date,this.invariantStart):null}get end(){if(!this.date||!this.invariantEnd)return null;const t=bH(this.date,this.invariantEnd);return QH.getTime()<=this.invariantEnd.getTime()?fH(t,1):t}}class tU extends uW{constructor(t,e,n){super(t,e,n),this.isDaySlot=!0}set start(t){this.startDate=t}get start(){return this.startDate?vH(this.startDate):null}set end(t){this.endDate=t}get end(){return this.endDate?vH(this.endDate):null}get daySlot(){return!0}}class eU extends nW{constructor(t,e,n,i,l,s){super(e,n,i,l,s),this.intlService=t}get eventTime(){return this.intlService.format("{0:t}\u2013{1:t}",Rk(this.item.startTime),Rk(this.item.endTime))}}class nU{}class iU{}class lU{}class sU{constructor(){this.valueChange=new os,this.getField=Nj,this.onTouchedCallback=t=>{},this.onChangeCallback=t=>{}}writeValue(t){this.resourceValue=t}getResourceStyle(t){return{"background-color":Nj(t,this.resource.colorField),"margin-right":Pj(Nj(t,this.resource.valueField))?"8px":"4px"}}onResourceValueChange(t){this.resourceValue=t,this.emitChange(this.resourceValue)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}emitChange(t){this.onChangeCallback(t),this.valueChange.emit(t)}}class rU extends sU{getTagStyle(t){return{"background-color":t[this.resource.colorField]}}focus(){this.resourceMultiSelect.focus()}}class oU extends sU{focus(){this.resourceDropDown.focus()}}var aU=function(t){return t[t.None=0]="None",t[t.AltKey=1]="AltKey",t[t.CtrlKey=2]="CtrlKey",t[t.ShiftKey=4]="ShiftKey",t[t.MetaKey=8]="MetaKey",t}({});function uU(t,e){return t.altKey===((e&aU.AltKey)===aU.AltKey)&&t.ctrlKey===((e&aU.CtrlKey)===aU.CtrlKey)&&t.shiftKey===((e&aU.ShiftKey)===aU.ShiftKey)&&t.metaKey===((e&aU.MetaKey)===aU.MetaKey)}function cU(t){return uU(t,aU.None)}class hU{constructor(t,e,n,i,l,s){this.ngZone=t,this.editService=e,this.localization=n,this.changeDetector=i,this.element=l,this.focusService=s,this.resources=[],this.timezone="Etc/UTC",this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.subs=this.editService.changed.subscribe(()=>{this.ngZone.run(()=>{this.onChange()})}),this.subs.add(rf(this.element.nativeElement,"keydown").pipe(lc(()=>this.isActive)).subscribe(t=>{t.keyCode===Pf.Escape&&this.reset(),t.keyCode===Pf.Enter&&(uU(t,aU.CtrlKey)||uU(t,aU.MetaKey))&&this.onSave(t),t.stopPropagation()}))}get autoFocusedElement(){return this.editTemplate?this.editTemplate.autoFocusedElement:".k-edit-field input"}get isEditingSeries(){return 2===this.editMode&&Boolean(this.formGroup.get(this.fields.recurrenceRule))}get eventTimezone(){return NH(this.formGroup,this.fields.startTimezone,this.timezone)}get endTimezone(){return NH(this.formGroup,this.fields.endTimezone,this.eventTimezone)}onChange(){if(this.changeDetector.markForCheck(),this.editService.hasNewEvent)this.editMode=2,this.formGroup=this.editService.context.formGroup,this.isNew=!0,this.applyLocalTimezone();else{if(!this.editService.isEditing())return void this.reset();{const{dataItem:t,mode:e}=this.editService.context;this.formGroup=this.editService.context.formGroup,this.isNew=!1,this.editedEvent=t,this.editMode=Pj(e)?e:2,this.applyLocalTimezone()}}this.editTemplate||(this.addTimeZoneCheckboxesToFormGroup(),this.subscribeToFormGroupChanges()),Pj(this.formGroup)&&(this.recurrenceStart=this.formGroup.get(this.fields.start).value),this.isActive=!0}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}onCancel(t){t.preventDefault(),this.onClose(),this.changeDetector.markForCheck()}onSave(t){t.preventDefault(),this.applyTimezone(),this.editService.save(),this.changeDetector.markForCheck()}onClose(){this.editService.endEdit(),this.changeDetector.markForCheck(),this.focusService.focus()}get hasAllDay(){return Boolean(this.formGroup.get(this.fields.isAllDay))}get hasStartTimeZone(){return Boolean(this.formGroup.get(this.fields.startTimezone))}get isStartTimeZoneVisible(){return this.formGroup&&this.formGroup.get("startTimezoneCheckbox").value}get hasEndTimeZone(){return Boolean(this.formGroup.get(this.fields.endTimezone))}get isEndTimeZoneVisible(){return this.formGroup&&this.formGroup.get("endTimezoneCheckbox").value}getFormValue(t){if(t)return this.formGroup.get(t)}textFor(t){return this.localization.get(t)}onResourceClick(t){const e=(t.multiple?this.multipleResourceEditors:this.singleResourceEditors).filter(e=>e.resource.field===t.field).pop();e&&e.focus()}reset(){this.isActive=!1,this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.removeTimeZoneCheckboxesFromFormGroup(),this.focusService.focus()}addTimeZoneCheckboxesToFormGroup(){if(Pj(this.formGroup)){const t=this.fields.startTimezone;this.formGroup.addControl("startTimezoneCheckbox",new Ow(this.formGroup.contains(t)&&this.formGroup.get(t).value));const e=this.fields.endTimezone;this.formGroup.addControl("endTimezoneCheckbox",new Ow(this.formGroup.contains(e)&&this.formGroup.get(e).value))}}removeTimeZoneCheckboxesFromFormGroup(){Pj(this.formGroup)&&(this.formGroup.removeControl("startTimezoneCheckbox"),this.formGroup.removeControl("endTimezoneCheckbox"))}subscribeToFormGroupChanges(){if(Pj(this.formGroup)){const t=this.fields;this.formGroup.get("startTimezoneCheckbox").valueChanges.subscribe(e=>{e||(this.formGroup.get(t.startTimezone).setValue(null,{emitEvent:!1}),this.formGroup.get(t.endTimezone).setValue(null,{emitEvent:!1}),this.formGroup.get("endTimezoneCheckbox").setValue(!1,{emitEvent:!1}))}),this.formGroup.get("endTimezoneCheckbox").valueChanges.subscribe(e=>{e||this.formGroup.get(t.endTimezone).setValue(null,{emitEvent:!1})}),this.formGroup.get(t.start).valueChanges.subscribe(t=>{this.recurrenceStart=t})}}applyLocalTimezone(){const t=this.fields,e=this.readDateAsLocal(t.start,this.eventTimezone),n=this.readDateAsLocal(t.end,this.endTimezone);this.formGroup.get(t.start).reset(e),this.formGroup.get(t.end).reset(n)}applyTimezone(){const t=this.fields,e=this.readDateWithTimezone(t.start,this.eventTimezone),n=this.readDateWithTimezone(t.end,this.endTimezone);this.formGroup.get(t.start).reset(e),this.formGroup.get(t.end).reset(n)}readDateWithTimezone(t,e){const n=this.formGroup.get(t).value;return Yk.fromUTCDate(yH(n),e).toLocalDate()}readDateAsLocal(t,e){const n=this.formGroup.get(t).value;return Rk(Yk.fromLocalDate(n,e).toUTCDate())}}class dU{constructor(){this.valueChange=new os,this.onTouchedCallback=t=>{},this.onChangeCallback=t=>{}}writeValue(t){t instanceof Date&&(this.date=t)}onValueChange(t){this.onChangeCallback(t),this.valueChange.emit(t)}focus(){this.datePicker.focus()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}}const pU=["first","second","third","fourth","last"],mU=["never","daily","weekly","monthly","yearly"],gU=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],fU=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],bU=[{day:0,offset:0},{day:6,offset:0}];class vU{constructor(t,e){this.intl=t,this.localization=e,this.change=new os,this.endRuleChange=new os,this.frequencyChange=new os,this.repeatOnRuleChange=new os}init(t="",e,n){this.rrule=tD({recurrenceRule:t,weekStart:this.intl.firstDay()}),this.start=e,this.timezone=n}get frequencies(){return mU.map(t=>({value:t,text:this.localization.get("frequencies"+Mj(t))}))}get frequency(){return Pj(this.rrule)&&!Aj(this.rrule.freq)?this.rrule.freq:"never"}setFrequency(t){this.rrule={},this.rrule.freq=t,this.rrule.interval=1,"weekly"===t&&(this.rrule.byWeekDay=[{day:this.start.getDay(),offset:0}]),"monthly"!==t&&"yearly"!==t||(this.rrule.byMonthDay=[this.start.getDate()]),"yearly"===t&&(this.rrule.byMonth=[this.start.getMonth()+1]),this.frequencyChange.emit(),this.onChange()}set interval(t){this.rrule.interval=t,this.onChange()}set count(t){this.rrule.count=t,this.onChange()}set until(t){this.rrule.until=Yk.fromLocalDate(t,this.timezone),this.onChange()}get until(){if(Pj(this.rrule.until))return Rk(this.rrule.until)}setWeekDays(t){this.rrule.byWeekDay=t,this.onChange()}set monthDays(t){this.rrule.byMonthDay=t,this.onChange()}set positions(t){this.rrule.bySetPosition=t,this.onChange()}setMonths(t){this.rrule.byMonth=t,this.onChange()}get months(){return this.intl.dateFormatNames({type:"months",nameType:"wide"}).map((t,e)=>({text:t,value:e+1}))}get weekDays(){const t=this.intl.firstDay(),e=this.intl.dateFormatNames({type:"days",nameType:"abbreviated"}).map((t,e)=>({text:t,value:e}));return e.slice(t).concat(e.slice(0,t))}get extendedWeekDays(){const t=this.intl.firstDay();let e=this.intl.dateFormatNames({type:"days",nameType:"wide"}).map((t,e)=>({text:t,value:e}));const n=e.slice(t).concat(e.slice(0,t));return[{text:this.localization.get("weekdaysDay"),value:"day"},{text:this.localization.get("weekdaysWeekday"),value:"weekday"},{text:this.localization.get("weekdaysWeekendday"),value:"weekend"}].concat(n)}get offsetPositions(){const t=[1,2,3,4,-1];return pU.map((e,n)=>({text:this.localization.get("offsetPositions"+Mj(e)),value:t[n]}))}get endRule(){return Pj(this.rrule.count)?"count":Pj(this.rrule.until)?"until":"never"}set endRule(t){"count"===t?this.rrule.until=null:"until"===t?this.rrule.count=null:(this.rrule.count=null,this.rrule.until=null),this.endRuleChange.emit(t),this.onChange()}get repeatOnRule(){return Pj(this.rrule.byWeekDay)?"weekday":Pj(this.rrule.byMonthDay)?"monthday":null}set repeatOnRule(t){"monthday"===t?(this.rrule.byWeekDay=null,this.rrule.bySetPosition=null):this.rrule.byMonthDay=null,this.repeatOnRuleChange.emit(t),this.onChange()}onChange(){this.change.emit("never"===this.frequency?null:nD(this.rrule,this.timezone))}}class yU extends Fb{constructor(t,e,n,i){super(t,e,n),this.schedulerLocalization=i}get(t){return this.schedulerLocalization?this.schedulerLocalization.get("recurrenceEditor"+Mj(t)):super.get(t)}}class wU{constructor(t){this.recurrenceService=t,this.cssClass=!0,this.timezone="Etc/UTC",this.valueChange=new os,this.onTouchedCallback=t=>{},this.onChangeCallback=t=>{},this.subscriptions=this.recurrenceService.change.subscribe(t=>{this.emitChange(t)})}set start(t){this._start=t}get start(){return Pj(this._start)?this._start:wk(new Date)}get currentFreq(){return this.recurrenceService.frequency}ngOnInit(){this.recurrenceService.init("",this.start,this.timezone)}ngOnChanges(t){af("start",t)&&(this.recurrenceService.start=this.start)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}writeValue(t){this.recurrenceService.init("string"==typeof t?t:"",this.start,this.timezone)}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}emitChange(t){this.onChangeCallback(t),this.valueChange.emit(t)}}class xU{constructor(t,e){this.recurrence=t,this.localization=e}ngOnInit(){this.frequencies=this.recurrence.frequencies}get selected(){return this.recurrence.frequency}onClick(t){t.value!==this.selected&&this.recurrence.setFrequency(t.value)}textFor(t){return this.localization.get(t)}onFrequencyClick(){const t=this.weekDayButtons.toArray().find(t=>t.selected);t&&t.focus()}}class kU{constructor(t,e,n,i){this.el=t,this.renderer=e,this.reccurence=n,this.changeDetector=i,this.type="radio",this.name="end",this.radioClass=!0,this.destroyChange=this.renderer.listen(this.elem,"change",this.onChange.bind(this))}ngOnInit(){this.endRule=this.endRuleId.split("-").pop(),this.renderer.setAttribute(this.elem,"id",this.endRuleId)}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyChange&&this.destroyChange()}onChange(){this.elem.checked&&(this.reccurence.endRule=this.endRule,this.changeDetector.markForCheck())}setCheckedState(){this.renderer.setProperty(this.elem,"checked",this.endRule===this.reccurence.endRule)}get elem(){return this.el.nativeElement}}class _U{constructor(t,e){this.recurrence=t,this.localization=e,this.setInitialValues(),this.subscribeChanges()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}setEndRule(t){"count"===t?this.recurrence.rrule.count=this.countValue:"until"===t&&(this.recurrence.until=this.untilValue)}get rrule(){return this.recurrence.rrule}get isCountDisabled(){return"count"!==this.recurrence.endRule}get isUntilDisabled(){return"until"!==this.recurrence.endRule}onCountChange(t){Pj(t)&&(this.recurrence.count=t)}onCountBlur(){Pj(this.countValue)||(this.recurrence.count=this.countValue=1)}onUntilChange(t){Pj(t)&&(this.recurrence.until=this.createUntil(t))}onUntilBlur(){Pj(this.untilValue)||(this.recurrence.until=this.untilValue=this.createUntil(this.recurrence.start))}textFor(t){return this.localization.get(t)}onEndLabelClick(){const t=this.endRuleRadioButtons.toArray().find(t=>t.elem.checked);t&&t.elem.focus()}setInitialValues(){this.countValue=this.rrule.count||1;const t=this.recurrence.until,e=this.recurrence.start;this.untilValue=Pj(t)?t:this.createUntil(e)}subscribeChanges(){this.subscriptions=this.recurrence.endRuleChange.subscribe(t=>{this.setEndRule(t)}),this.subscriptions.add(this.recurrence.frequencyChange.subscribe(()=>{this.setInitialValues()}))}createUntil(t){const e=vH(t);return e.setUTCDate(e.getUTCDate()+1),Yk.fromUTCDate(e,this.recurrence.timezone).toLocalDate()}}class CU{constructor(t,e){this.recurrence=t,this.localization=e,this.intervalValue=this.recurrence.rrule.interval||1}get currentFreq(){return this.recurrence.frequency}onIntervalChange(t){Pj(t)&&(this.recurrence.interval=t)}onIntervalBlur(){Pj(this.intervalValue)||(this.recurrence.interval=this.intervalValue=1)}textForRepeatEvery(){switch(this.currentFreq){case"daily":return this.textFor("dailyRepeatEvery");case"weekly":return this.textFor("weeklyRepeatEvery");case"monthly":return this.textFor("monthlyRepeatEvery");case"yearly":return this.textFor("yearlyRepeatEvery")}}textForFrequency(){switch(this.currentFreq){case"daily":return this.textFor("dailyInterval");case"weekly":return this.textFor("weeklyInterval");case"monthly":return this.textFor("monthlyInterval");case"yearly":return this.textFor("yearlyInterval")}}textFor(t){return this.localization.get(t)}}class TU{constructor(t,e,n,i){this.el=t,this.renderer=e,this.reccurence=n,this.changeDetector=i,this.type="radio",this.name="day",this.radioClass=!0,this.destroyChange=this.renderer.listen(this.elem,"change",this.onChange.bind(this))}ngOnInit(){this.renderer.setAttribute(this.elem,"id","k-repeaton-"+this.repeatOnRule)}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyChange&&this.destroyChange()}onChange(){this.elem.checked&&(this.reccurence.repeatOnRule=this.repeatOnRule,this.changeDetector.markForCheck())}setCheckedState(){this.renderer.setProperty(this.elem,"checked",this.repeatOnRule===this.reccurence.repeatOnRule)}get elem(){return this.el.nativeElement}}class SU{constructor(t,e){this.recurrence=t,this.localization=e,this.setInitialValues(),this.subscribeEventHandlers()}setInitialValues(){this.extendedWeekDays=this.recurrence.extendedWeekDays,this.offsetPositions=this.recurrence.offsetPositions,this.currentOffset=this.defaultOffset,this.currentWeekDay=this.defaultWeekDay,"yearly"===this.currentFreq&&(this.months=this.recurrence.months,this.currentMonthMonthDay=this.currentMonthWeekDay=this.recurrence.rrule.byMonth[0])}subscribeEventHandlers(){this.subs=this.recurrence.repeatOnRuleChange.subscribe(this.onRepeatOnRuleChange.bind(this)),this.subs.add(this.recurrence.frequencyChange.subscribe(this.onFrequencyChange.bind(this)))}onRepeatOnRuleChange(t){"monthday"===t?(this.recurrence.rrule.byMonthDay=[this.monthDay],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthMonthDay])):"weekday"===t&&("string"==typeof this.weekDay?(this.recurrence.rrule.bySetPosition=[this.offset],this.recurrence.rrule.byWeekDay=this.weekDayRuleFromString(this.weekDay)):this.recurrence.rrule.byWeekDay=[{day:this.weekDay,offset:this.offset}],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthWeekDay]))}onFrequencyChange(){this.setInitialValues()}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}get monthDay(){const t=this.recurrence.rrule;return Pj(t.byMonthDay)&&t.byMonthDay.length>0?t.byMonthDay[0]:Pj(this.currentMonthDay)?this.currentMonthDay:this.recurrence.start.getDate()}get weekDay(){const t=this.recurrence.rrule;if(Pj(t.byWeekDay))switch(t.byWeekDay.length){case 7:return"day";case 5:return"weekday";case 2:return"weekend";case 1:return t.byWeekDay[0].day}else if(Pj(this.currentWeekDay))return this.currentWeekDay;return this.defaultWeekDay}get offset(){const t=this.recurrence.rrule;if(Pj(t.byWeekDay))switch(t.byWeekDay.length){case 7:case 5:case 2:return t.bySetPosition[0];case 1:return t.byWeekDay[0].offset}else if(Pj(this.currentOffset))return this.currentOffset;return this.defaultOffset}onMonthChange(t,e){"monthday"===e?this.currentMonthMonthDay=t:this.currentMonthWeekDay=t,this.recurrence.setMonths([t])}onMonthDayChange(t){this.currentMonthDay=t,this.recurrence.monthDays=[t]}onOffsetPositionChange(t){const e=this.recurrence.rrule;if(Pj(e.byWeekDay))switch(e.byWeekDay.length){case 7:case 5:case 2:this.recurrence.positions=[t];break;case 1:e.byWeekDay[0].offset=t,this.recurrence.onChange()}this.currentOffset=t}onWeekDayChange(t){let e;"string"==typeof t?(e=this.weekDayRuleFromString(t),this.recurrence.positions=[this.offset]):e=[{day:t,offset:this.offset}],this.currentWeekDay=t,this.recurrence.setWeekDays(e)}isDisabled(t){return this.recurrence.repeatOnRule!==t}get currentFreq(){return this.recurrence.frequency}get defaultOffset(){return 1}get defaultWeekDay(){return this.recurrence.start.getDay()}weekDayRuleFromString(t){switch(t){case"day":return gU;case"weekday":return fU;case"weekend":return bU}return null}textForRepeatOn(){switch(this.currentFreq){case"monthly":return this.textFor("monthlyRepeatOn");case"yearly":return this.textFor("yearlyRepeatOn")}}textFor(t){return this.localization.get(t)}onRepeatOnLabelClick(){const t=this.repeatOnRadioButtons.toArray().find(t=>t.elem.checked);t&&t.elem.focus()}}class MU{constructor(t,e){this.recurrence=t,this.localization=e,this.selected=[],this.weekDays=this.recurrence.weekDays,this.setSelectedDays()}setSelectedDays(){for(let t=0;t<7;t++)this.selected[t]=!1;Pj(this.rrule.byWeekDay)&&this.rrule.byWeekDay.forEach(t=>{this.selected[t.day]=!0})}onSelectedChange(t,e){this.selected[e]=t,this.recurrence.setWeekDays(this.serializeToWeekDayRuleArray(this.selected))}isSelected(t){return this.selected[t.value]}serializeToWeekDayRuleArray(t){let e=[];return t.forEach((t,n)=>{t&&e.push({day:n,offset:0})}),e.length>0?e:null}get rrule(){return this.recurrence.rrule}capitalize(t){return Mj(t)}textFor(t){return this.localization.get(t)}onWeeklyRepeatOnClick(){const t=this.weekDayButtons.toArray().find(t=>t.selected);t&&t.focus()}}class PU extends Ib{}class AU extends PU{constructor(t){super(),this.service=t}}class EU{constructor(){this.width=260,this.valueChange=new os,this.onTouchedCallback=t=>{},this.onChangeCallback=t=>{},this.tzNames=Qk(),this.tzSource=this.tzNames.slice()}onTimeZoneChange(t){this.tz=t,this.onChangeCallback(this.tz),this.valueChange.emit(t)}onTimeZoneFilterChange(t){this.tzSource=this.tzNames.filter(e=>-1!==e.toLowerCase().indexOf(t.toLowerCase()))}writeValue(t){"string"==typeof t&&this.tzNames.indexOf(t)>=0&&(this.tz=t)}focus(){this.tzComboBox.focus()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}}const IU=t=>eH(t,"k-scheduler-content");class DU{constructor(t,e,n,i,l,s,r){this.scheduler=t,this.domEvents=e,this.focusService=n,this.zone=i,this.changeDetector=l,this.viewState=s,this.dialogsService=r,this.shortcuts=[{match:t=>t.keyCode===Pf.KeyC&&cU(t),action:t=>{const e=this.scheduler,n=(new Date).getHours(),i=e.selectedDate,l=new Date(i.getFullYear(),i.getMonth(),i.getDate(),n+1),s=new Date(i.getFullYear(),i.getMonth(),i.getDate(),n+2);let r;if(e.group){const t=Fj(e.group||{},e.resources||[]);t.length>0&&(r=t[0].data[0])}e.create.emit({start:Yk.fromLocalDate(l,e.timezone).toLocalDate(),end:Yk.fromLocalDate(s,e.timezone).toLocalDate(),isAllDay:!1,resources:[r],originalEvent:t,sender:e})}},{match:t=>t.keyCode>=Pf.Digit1&&t.keyCode<=Pf.Digit9&&uU(t,aU.AltKey),action:t=>{const e=this.scheduler,n=t.keyCode-Pf.Digit0-1,i=e.views.toArray()[n];i&&this.zone.run(()=>{e.onNavigationAction({type:"view-change",view:i})||(this.changeDetector.markForCheck(),this.focusWait())})}},{match:t=>t.keyCode===Pf.KeyT&&cU(t),action:()=>{this.zone.run(()=>{this.scheduler.onNavigationAction({type:"today"}),this.focusWait()})}},{match:t=>(t.keyCode===Pf.ArrowLeft||t.keyCode===Pf.ArrowRight)&&uU(t,aU.ShiftKey),action:t=>{const e=t.keyCode===Pf.ArrowLeft?"prev":"next";this.zone.run(()=>{this.scheduler.onNavigationAction({type:e}),this.focusWait()})}},{match:t=>(t.keyCode===Pf.ArrowUp||t.keyCode===Pf.ArrowLeft)&&cU(t)&&!IU(t.target),action:t=>{this.scheduler.onNavigationAction({type:"focus-prev"})||(this.focusService.focusNext({offset:-1}),t.preventDefault())}},{match:t=>(t.keyCode===Pf.ArrowDown||t.keyCode===Pf.ArrowRight)&&cU(t)&&!IU(t.target),action:t=>{this.scheduler.onNavigationAction({type:"focus-next"})||(this.focusService.focusNext({offset:1}),t.preventDefault())}}],this.taskShortcuts=[{match:t=>(t.keyCode===Pf.Delete||t.keyCode===Pf.Backspace)&&cU(t),action:(t,e)=>{this.viewState.emitEvent("remove",{event:e,dataItem:e.dataItem}),t.preventDefault()}},{match:t=>t.keyCode===Pf.Enter&&cU(t),action:(t,e)=>{this.viewState.emitEvent("eventDblClick",{type:"dblclick",event:e,originalEvent:t}),t.preventDefault()}}],this.subs=new m,this.subs.add(this.domEvents.keydown.subscribe(t=>this.onKeydown(t))),this.subs.add(this.scheduler.eventKeydown.subscribe(t=>this.onEventKeydown(t)))}onKeydown(t){const e=this.shortcuts.find(e=>e.match(t));e&&!this.dialogsService.isOpen&&e.action(t)}onEventKeydown(t){const e=this.taskShortcuts.find(e=>e.match(t.originalEvent));e&&!this.dialogsService.isOpen&&e.action(t.originalEvent,t.event)}focusWait(){this.viewState.layoutEnd.pipe(Cc(1)).subscribe(()=>this.focusService.focus())}}class OU{}var FU=Ti({encapsulation:2,styles:[],data:{}});function NU(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-calendar-navigation",[],[[2,"k-calendar-navigation",null]],[[null,"valueChange"],[null,"pageChange"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==l.handleNavigation(n)&&i),"pageChange"===e&&(i=!1!==l.onPageChange()&&i),i}),JU,XU)),Nl(1,13352960,[[1,4]],0,AP,[LM,cP,aS,He,Vn],{activeView:[0,"activeView"],min:[1,"min"],max:[2,"max"],focusedDate:[3,"focusedDate"],templateRef:[4,"templateRef"]},{valueChange:"valueChange",pageChange:"pageChange"})],(function(t,e){var n=e.component;t(e,1,0,n.activeViewEnum,n.min,n.max,n.focusedDate,null==n.navigationItemTemplate?null:n.navigationItemTemplate.templateRef)}),(function(t,e){t(e,0,0,kl(e,1).getComponentClass)}))}function RU(t){return to(2,[zr(671088640,1,{navigationView:0}),zr(402653184,2,{monthView:0}),(t()(),Nr(2,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,NA,null,[RA]),Nl(4,737280,null,0,RA,[Fb],{today:[0,"today"]},null),(t()(),Fr(16777216,null,null,1,null,NU)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(7,0,null,null,1,"kendo-calendar-viewlist",[],[[2,"k-calendar-view",null],[2,"k-calendar-monthview",null],[2,"k-calendar-yearview",null],[2,"k-calendar-decadeview",null],[2,"k-calendar-centuryview",null]],[[null,"valueChange"],[null,"activeDateChange"],[null,"pageChange"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==l.handleDateChange(n)&&i),"activeDateChange"===e&&(i=!1!==l.emitEvent(l.activeViewDateChange,n)&&i),"pageChange"===e&&(i=!1!==l.onPageChange()&&i),i}),o$,n$)),Nl(8,13352960,[[2,4]],0,DP,[LM,He,aS,cP,Vn],{cellTemplateRef:[0,"cellTemplateRef"],weekNumberTemplateRef:[1,"weekNumberTemplateRef"],headerTitleTemplateRef:[2,"headerTitleTemplateRef"],activeView:[3,"activeView"],cellUID:[4,"cellUID"],focusedDate:[5,"focusedDate"],isActive:[6,"isActive"],min:[7,"min"],max:[8,"max"],value:[9,"value"],weekNumber:[10,"weekNumber"]},{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"})],(function(t,e){var n,i=e.component;t(e,4,0,"TODAY"),t(e,6,0,i.navigation),t(e,8,1,[null==(n=i.activeCellTemplate())?null:n.templateRef,null==i.weekNumberTemplate?null:i.weekNumberTemplate.templateRef,null==i.headerTitleTemplate?null:i.headerTitleTemplate.templateRef,i.activeViewEnum,i.cellUID,i.focusedDate,i.isActive,i.min,i.max,i.value,i.weekNumber])}),(function(t,e){t(e,7,0,kl(e,8).getComponentClass,kl(e,8).getComponentMonthClass,kl(e,8).getComponentYearClass,kl(e,8).getComponentDecadeClass,kl(e,8).getComponentCenturyClass)}))}var LU=Ti({encapsulation:2,styles:[],data:{}});function BU(t){return to(0,[(t()(),Nr(0,0,null,null,4,"span",[["class","k-select"]],null,[[null,"mousedown"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==n.preventDefault()&&i),i}),null,null)),(t()(),Nr(1,0,null,null,1,"span",[["class","k-link k-link-increase"]],[[2,"k-state-active",null],[8,"title",0],[1,"aria-label",0]],[[null,"mousedown"],[null,"mouseleave"],[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"mousedown"===e&&(i=!1!==(l.arrowDirection=l.arrow.Up)&&i),"mouseleave"===e&&(i=!1!==(l.arrowDirection=l.arrow.None)&&i),"click"===e&&(i=!1!==l.handleButtonClick(1)&&i),i}),null,null)),(t()(),Nr(2,0,null,null,0,"span",[["class","k-icon k-i-arrow-n"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"span",[["class","k-link k-link-decrease"]],[[2,"k-state-active",null],[8,"title",0],[1,"aria-label",0]],[[null,"click"],[null,"mousedown"],[null,"mouseleave"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==l.handleButtonClick(-1)&&i),"mousedown"===e&&(i=!1!==(l.arrowDirection=l.arrow.Down)&&i),"mouseleave"===e&&(i=!1!==(l.arrowDirection=l.arrow.None)&&i),i}),null,null)),(t()(),Nr(4,0,null,null,0,"span",[["class","k-icon k-i-arrow-s"]],null,null,null,null,null))],null,(function(t,e){var n=e.component;t(e,1,0,n.arrowDirection===n.arrow.Up,n.localization.get("increment"),n.localization.get("increment")),t(e,3,0,n.arrowDirection===n.arrow.Down,n.localization.get("decrement"),n.localization.get("decrement"))}))}function VU(t){return to(2,[zr(402653184,1,{dateInput:0}),zr(402653184,2,{wrap:0}),(t()(),Nr(2,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,HA,null,[WA]),Nl(4,737280,null,0,WA,[Fb],{decrement:[0,"decrement"],increment:[1,"increment"]},null),(t()(),Nr(5,0,[[2,0],["wrap",1]],null,5,"span",[["class","k-dateinput-wrap"]],null,null,null,null,null)),(t()(),Nr(6,0,[[1,0],["dateInput",1]],null,2,"input",[["autocapitalize","off"],["autocomplete","off"],["autocorrect","off"],["class","k-input"],["role","spinbutton"],["spellcheck","false"]],[[8,"id",0],[8,"title",0],[8,"tabIndex",0],[8,"disabled",0],[8,"readOnly",0],[8,"placeholder",0],[1,"aria-expanded",0],[1,"aria-haspopup",0],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"aria-valuetext",0]],null,null,null,null)),Nl(7,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(8,{click:0,focus:1,mousedown:2,touchstart:3,dragstart:4,drop:5,blur:6}),(t()(),Fr(16777216,null,null,1,null,BU)),Nl(10,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,"Decrease value","Increase value");var i=t(e,8,0,n.handleClick,n.handleFocus,n.handleMousedown,n.handleMousedown,n.handleDragAndDrop,n.handleDragAndDrop,n.handleBlur);t(e,7,0,i,n),t(e,10,0,n.spinners)}),(function(t,e){var n=e.component;t(e,6,1,[n.focusableId,n.title,n.tabindex,n.disabled,n.readonly,n.placeholder,n.isPopupOpen,n.hasPopup,n.ariaValueMin,n.ariaValueMax,n.ariaValueNow,n.ariaValueText])}))}var zU=Ti({encapsulation:2,styles:[],data:{}});function jU(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function HU(t){return to(0,[(t()(),Nr(0,0,null,null,23,"kendo-calendar",[],[[2,"k-week-number",null],[1,"id",0],[1,"role",0],[1,"tabindex",0],[1,"aria-disabled",0],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==l.handleChange(l.mergeTime(n))&&i),i}),RU,FU)),Ll(5120,null,By,(function(t){return[t]}),[nA]),Ll(5120,null,Ky,(function(t){return[t]}),[nA]),Ll(6144,null,Mf,null,[nA]),Ll(512,null,LM,LM,[sn]),Ll(512,null,FP,FP,[LM]),Ll(512,null,LP,LP,[cP,qs]),Ll(512,null,XP,XP,[]),Nl(8,13352960,[["calendar",4]],8,nA,[LM,cP,Fn,FP,Vn,He,qs,sn,LP,XP,[2,BP]],{focusedDate:[0,"focusedDate"],min:[1,"min"],max:[2,"max"],value:[3,"value"],disabledDates:[4,"disabledDates"],navigation:[5,"navigation"],activeView:[6,"activeView"],bottomView:[7,"bottomView"],topView:[8,"topView"],weekNumber:[9,"weekNumber"],cellTemplateRef:[10,"cellTemplateRef"],monthCellTemplateRef:[11,"monthCellTemplateRef"],yearCellTemplateRef:[12,"yearCellTemplateRef"],decadeCellTemplateRef:[13,"decadeCellTemplateRef"],centuryCellTemplateRef:[14,"centuryCellTemplateRef"],weekNumberTemplateRef:[15,"weekNumberTemplateRef"],headerTitleTemplateRef:[16,"headerTitleTemplateRef"],navigationItemTemplateRef:[17,"navigationItemTemplateRef"]},{valueChange:"valueChange"}),zr(335544320,4,{cellTemplate:0}),zr(335544320,5,{monthCellTemplate:0}),zr(335544320,6,{yearCellTemplate:0}),zr(335544320,7,{decadeCellTemplate:0}),zr(335544320,8,{centuryCellTemplate:0}),zr(335544320,9,{weekNumberTemplate:0}),zr(335544320,10,{headerTitleTemplate:0}),zr(335544320,11,{navigationItemTemplate:0}),Nl(17,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(18,{keydown:0}),Ll(256,null,Ob,"kendo.calendar",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),(t()(),Nr(21,0,null,null,2,"kendo-calendar-messages",[],null,null,null,GU,qU)),Ll(6144,null,NA,null,[LA]),Nl(23,770048,null,0,LA,[Fb],{today:[0,"today"]},null),(t()(),Fr(0,null,null,0,null,jU))],(function(t,e){var n=e.component;t(e,8,1,[n.focusedDate,n.min,n.max,n.value,n.disabledDates,n.navigation,n.activeView,n.bottomView,n.topView,n.weekNumber,n.cellTemplate,n.monthCellTemplate,n.yearCellTemplate,n.decadeCellTemplate,n.centuryCellTemplate,n.weekNumberTemplate,n.headerTitleTemplate,n.navigationItemTemplate]);var i=t(e,18,0,n.handleKeydown);t(e,17,0,i,n),t(e,23,0,n.localization.get("today"))}),(function(t,e){t(e,0,0,kl(e,8).weekNumber,kl(e,8).widgetId,kl(e,8).widgetRole,kl(e,8).calendarTabIndex,kl(e,8).ariaDisabled,kl(e,8).ariaDisabled)}))}function WU(t){return to(2,[zr(402653184,1,{container:0}),zr(402653184,2,{popupTemplate:0}),zr(402653184,3,{wrapper:0}),(t()(),Nr(3,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,$A,null,[YA]),Nl(5,737280,null,0,YA,[Fb],{today:[0,"today"],toggle:[1,"toggle"]},null),(t()(),Nr(6,0,[[3,0],["wrapper",1]],null,11,"span",[["class","k-picker-wrap k-state-default"]],[[2,"k-state-disabled",null]],null,null,null,null)),(t()(),Nr(7,0,null,null,6,"kendo-dateinput",[],[[2,"k-widget",null],[2,"k-dateinput",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.handleInputChange(n)&&i),i}),VU,LU)),Ll(5120,null,By,(function(t){return[t]}),[gA]),Ll(5120,null,Ky,(function(t){return[t]}),[gA]),Ll(6144,null,Mf,null,[gA]),Ll(256,null,Ob,"kendo.dateinput",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(13,770048,[["input",4]],0,gA,[He,aS,Vn,Fn,qs,sn,Fb,[2,BP]],{focusableId:[0,"focusableId"],disabled:[1,"disabled"],readonly:[2,"readonly"],title:[3,"title"],tabindex:[4,"tabindex"],format:[5,"format"],formatPlaceholder:[6,"formatPlaceholder"],placeholder:[7,"placeholder"],max:[8,"max"],min:[9,"min"],value:[10,"value"],isPopupOpen:[11,"isPopupOpen"],hasPopup:[12,"hasPopup"]},{valueChange:"valueChange"}),(t()(),Nr(14,0,null,null,3,"span",[["class","k-select"],["role","button"]],[[1,"title",0],[1,"aria-label",0],[1,"aria-controls",0]],null,null,null,null)),Nl(15,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(16,{click:0,mousedown:1}),(t()(),Nr(17,0,null,null,0,"span",[["class","k-icon k-i-calendar"]],null,null,null,null,null)),(t()(),Nr(18,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null)),(t()(),Fr(0,[[2,2],["popupTemplate",2]],null,0,null,HU))],(function(t,e){var n=e.component;t(e,5,0,"TODAY","Toggle calendar"),t(e,13,1,[n.focusableId,n.disabled,n.readonly,n.title,n.tabindex,n.format,n.formatPlaceholder,n.placeholder,n.max,n.min,n.value,n.show,!0]);var i=t(e,16,0,n.handleIconClick,n.handleMousedown);t(e,15,0,i,n)}),(function(t,e){var n=e.component;t(e,6,0,n.disabled),t(e,7,0,kl(e,13).wrapperClass,kl(e,13).wrapperClass,kl(e,13).disabledClass),t(e,14,0,n.localization.get("toggle"),n.localization.get("toggle"),n.popupUID)}))}var UU=Ti({encapsulation:2,styles:[],data:{}});function $U(t){return to(0,[(t()(),Nr(0,0,null,null,8,"kendo-timeselector",[],[[2,"k-timeselector",null],[2,"k-state-disabled",null]],[[null,"valueChange"],[null,"valueReject"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==l.handleChange(n)&&i),"valueReject"===e&&(i=!1!==l.handleReject()&&i),i}),j$,O$)),Nl(1,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(2,{keydown:0,mousedown:1}),Ll(256,null,Ob,"kendo.timeselector",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(5,770048,[["timeSelector",4]],0,YE,[Fb,He,Fn,aS,nE,qs,Vn,[2,BP]],{format:[0,"format"],min:[1,"min"],max:[2,"max"],cancelButton:[3,"cancelButton"],nowButton:[4,"nowButton"],steps:[5,"steps"],value:[6,"value"]},{valueChange:"valueChange",valueReject:"valueReject"}),(t()(),Nr(6,0,null,null,2,"kendo-timeselector-messages",[],null,null,null,D$,I$)),Ll(6144,null,qE,null,[KE]),Nl(8,770048,null,0,KE,[Fb],{accept:[0,"accept"],acceptLabel:[1,"acceptLabel"],cancel:[2,"cancel"],cancelLabel:[3,"cancelLabel"],now:[4,"now"],nowLabel:[5,"nowLabel"]},null)],(function(t,e){var n=e.component,i=t(e,2,0,n.handleKeydown,n.handleMousedown);t(e,1,0,i,n),t(e,5,0,n.format,n.min,n.max,n.cancelButton,n.nowButton,n.steps,n.value),t(e,8,0,n.localization.get("accept"),n.localization.get("acceptLabel"),n.localization.get("cancel"),n.localization.get("cancelLabel"),n.localization.get("now"),n.localization.get("nowLabel"))}),(function(t,e){t(e,0,0,kl(e,5).componentClass,kl(e,5).disabledClass)}))}function YU(t){return to(2,[zr(402653184,1,{container:0}),zr(402653184,2,{popupTemplate:0}),zr(402653184,3,{wrapper:0}),(t()(),Nr(3,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,qE,null,[GE]),Nl(5,737280,null,0,GE,[Fb],{accept:[0,"accept"],acceptLabel:[1,"acceptLabel"],cancel:[2,"cancel"],cancelLabel:[3,"cancelLabel"],now:[4,"now"],nowLabel:[5,"nowLabel"],toggle:[6,"toggle"]},null),(t()(),Nr(6,0,[[3,0],["wrapper",1]],null,12,"span",[["class","k-picker-wrap k-state-default"]],[[2,"k-state-disabled",null]],null,null,null,null)),(t()(),Nr(7,0,null,null,6,"kendo-dateinput",[],[[2,"k-widget",null],[2,"k-dateinput",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.handleInputChange(n)&&i),i}),VU,LU)),Ll(5120,null,By,(function(t){return[t]}),[gA]),Ll(5120,null,Ky,(function(t){return[t]}),[gA]),Ll(6144,null,Mf,null,[gA]),Ll(256,null,Ob,"kendo.dateinput",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(13,770048,[["input",4]],0,gA,[He,aS,Vn,Fn,qs,sn,Fb,[2,BP]],{focusableId:[0,"focusableId"],disabled:[1,"disabled"],readonly:[2,"readonly"],title:[3,"title"],tabindex:[4,"tabindex"],format:[5,"format"],formatPlaceholder:[6,"formatPlaceholder"],placeholder:[7,"placeholder"],steps:[8,"steps"],max:[9,"max"],min:[10,"min"],value:[11,"value"],isPopupOpen:[12,"isPopupOpen"],hasPopup:[13,"hasPopup"]},{valueChange:"valueChange"}),(t()(),Nr(14,0,null,null,3,"span",[["class","k-select"],["role","button"]],[[1,"title",0],[1,"aria-label",0],[1,"aria-controls",0]],null,null,null,null)),Nl(15,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(16,{click:0,mousedown:1}),(t()(),Nr(17,0,null,null,0,"span",[["class","k-icon k-i-clock"]],null,null,null,null,null)),(t()(),Fr(0,[[2,2],["popupTemplate",2]],null,0,null,$U)),(t()(),Nr(19,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(t,e){var n=e.component;t(e,5,0,"Set","Set time","Cancel","Cancel changes","Now","Select now","Toggle time list"),t(e,13,1,[n.focusableId,n.disabled,n.readonly,n.title,n.show?-1:n.tabindex,n.format,n.formatPlaceholder,n.placeholder,n.steps,n.normalizeTime(n.max),n.normalizeTime(n.min),n.value,n.show,!0]);var i=t(e,16,0,n.handleIconClick,n.handleMousedown);t(e,15,0,i,n)}),(function(t,e){var n=e.component;t(e,6,0,n.disabled),t(e,7,0,kl(e,13).wrapperClass,kl(e,13).wrapperClass,kl(e,13).disabledClass),t(e,14,0,n.localization.get("toggle"),n.localization.get("toggle"),n.popupUID)}))}var qU=Ti({encapsulation:2,styles:[],data:{}});function GU(t){return to(0,[],null,null)}var XU=Ti({encapsulation:2,styles:[],data:{}});function KU(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.service.navigationTitle(e.parent.context.$implicit))}))}function ZU(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function QU(t){return to(0,[(t()(),Nr(0,0,null,null,7,"li",[],[[1,"data-date-index",0]],null,null,null,null)),(t()(),Nr(1,0,null,null,6,"span",[],[[2,"k-calendar-navigation-marker",null]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,KU)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,3,null,ZU)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(6,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(7,{$implicit:0,activeView:1,date:2})],(function(t,e){var n=e.component;t(e,3,0,!n.templateRef),t(e,5,0,n.templateRef);var i=t(e,7,0,n.service.navigationTitle(e.context.$implicit),n.activeViewValue,e.context.$implicit);t(e,6,0,i,n.templateRef)}),(function(t,e){var n=e.component;t(e,0,0,e.context.index),t(e,1,0,n.service.isRangeStart(e.context.$implicit))}))}function JU(t){return to(2,[zr(402653184,1,{virtualization:0}),zr(402653184,2,{list:0}),(t()(),Nr(2,0,null,null,0,"span",[["class","k-calendar-navigation-highlight"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,7,"kendo-virtualization",[],[[2,"k-content",null],[2,"k-scrollable",null],[2,"k-scrollable-horizontal",null]],[[null,"pageChange"],[null,"scrollChange"]],(function(t,e,n){var i=!0,l=t.component;return"pageChange"===e&&(i=!1!==l.onPageChange(n)&&i),"scrollChange"===e&&(i=!1!==l.scrollChange(n)&&i),i}),e$,t$)),Ll(256,null,bP,vP,[]),Nl(5,4964352,[[1,4]],0,TP,[bP,Fn,Vn,qs],{itemHeight:[0,"itemHeight"],topOffset:[1,"topOffset"],bottomOffset:[2,"bottomOffset"],maxScrollDifference:[3,"maxScrollDifference"],skip:[4,"skip"],take:[5,"take"],total:[6,"total"]},{pageChange:"pageChange",scrollChange:"scrollChange"}),(t()(),Nr(6,0,[[2,0],["list",1]],0,4,"ul",[["class","k-reset"]],null,null,null,null,null)),Nl(7,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(8,{click:0}),(t()(),Fr(16777216,null,null,1,null,QU)),Nl(10,802816,null,0,AA,[ri,li,Jn],{kForOf:[0,"kForOf"]},null)],(function(t,e){var n=e.component;t(e,5,0,n.itemHeight,n.topOffset,n.bottomOffset,n.maxViewHeight,n.skip,n.take,n.total);var i=t(e,8,0,n.handleDateChange);t(e,7,0,i,n),t(e,10,0,n.dates)}),(function(t,e){t(e,3,0,kl(e,5).wrapperClasses,kl(e,5).wrapperClasses,kl(e,5).horizontalClass)}))}var t$=Ti({encapsulation:2,styles:[],data:{}});function e$(t){return to(0,[$r(null,0),(t()(),Nr(1,0,null,null,2,"div",[["class","k-scrollable-placeholder"]],[[2,"k-scrollable-horizontal-placeholder",null]],null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(3,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null)],(function(t,e){t(e,3,0,e.component.totalVertexLength)}),(function(t,e){t(e,1,0,"horizontal"===e.component.direction)}))}var n$=Ti({encapsulation:2,styles:[],data:{}});function i$(t){return to(0,[(t()(),Nr(0,0,null,null,1,"th",[],[[4,"width","%"]],null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.colWidth),t(e,1,0,e.context.$implicit)}))}function l$(t){return to(0,[(t()(),Nr(0,0,null,null,4,"table",[["class","k-calendar-weekdays"],["style","table-layout: auto;"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,3,"thead",[],null,null,null,null,null)),(t()(),Nr(2,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,i$)),Nl(4,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,4,0,e.component.weekNames)}),null)}function s$(t){return to(0,[(t()(),Nr(0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function r$(t){return to(0,[(t()(),Nr(0,0,null,null,1,"tbody",[["kendoCalendarView",""],["role","rowgroup"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.handleDateChange(n)&&i),i}),M$,d$)),Nl(1,770048,null,0,DA,[LM,aS,He,IA,Fn,qs,Vn,XP],{isActive:[0,"isActive"],activeView:[1,"activeView"],cellUID:[2,"cellUID"],focusedDate:[3,"focusedDate"],selectedDate:[4,"selectedDate"],viewDate:[5,"viewDate"],min:[6,"min"],max:[7,"max"],weekNumber:[8,"weekNumber"],templateRef:[9,"templateRef"],weekNumberTemplateRef:[10,"weekNumberTemplateRef"]},{change:"change"})],(function(t,e){var n=e.component;t(e,1,1,[n.isActive,n.activeView,n.cellUID,n.focusedDate,n.value,e.context.$implicit,n.min,n.max,n.weekNumber,n.cellTemplateRef,n.weekNumberTemplateRef])}),null)}function o$(t){return to(2,[zr(402653184,1,{virtualization:0}),zr(402653184,2,{list:0}),(t()(),Nr(2,0,null,null,1,"kendo-calendar-header",[],[[2,"k-calendar-header",null]],[[null,"today"]],(function(t,e,n){var i=!0;return"today"===e&&(i=!1!==t.component.handleDateChange(n)&&i),i}),h$,a$)),Nl(3,770048,null,0,EA,[LM,He,Fb,aS,XP],{activeView:[0,"activeView"],currentDate:[1,"currentDate"],min:[2,"min"],max:[3,"max"],templateRef:[4,"templateRef"]},{today:"today"}),(t()(),Fr(16777216,null,null,1,null,l$)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(6,0,null,null,8,"kendo-virtualization",[],[[8,"tabIndex",0],[2,"k-content",null],[2,"k-scrollable",null],[2,"k-scrollable-horizontal",null]],[[null,"pageChange"],[null,"scrollChange"],[null,"activeIndexChange"]],(function(t,e,n){var i=!0,l=t.component;return"pageChange"===e&&(i=!1!==l.onPageChange(n)&&i),"scrollChange"===e&&(i=!1!==l.scrollChange(n)&&i),"activeIndexChange"===e&&(i=!1!==l.setActiveDate(n)&&i),i}),e$,t$)),Ll(256,null,bP,vP,[]),Nl(8,4964352,[[1,4]],0,TP,[bP,Fn,Vn,qs],{itemHeight:[0,"itemHeight"],topOffset:[1,"topOffset"],bottomOffset:[2,"bottomOffset"],maxScrollDifference:[3,"maxScrollDifference"],scrollOffsetSize:[4,"scrollOffsetSize"],skip:[5,"skip"],take:[6,"take"],total:[7,"total"]},{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"}),(t()(),Nr(9,0,[[2,0],["list",1]],0,5,"table",[],null,null,null,null,null)),(t()(),Nr(10,0,null,null,2,"colgroup",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,s$)),Nl(12,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(16777216,null,null,1,null,r$)),Nl(14,802816,null,0,AA,[ri,li,Jn],{kForOf:[0,"kForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.activeView,n.activeDate,n.min,n.max,n.headerTitleTemplateRef),t(e,5,0,n.isMonthView()),t(e,8,0,n.viewHeight,n.viewOffset,n.bottomOffset,n.viewHeight,n.viewOffset,n.skip,n.take,n.total),t(e,12,0,n.cols),t(e,14,0,n.dates)}),(function(t,e){t(e,2,0,kl(e,3).getComponentClass),t(e,6,0,-1,kl(e,8).wrapperClasses,kl(e,8).wrapperClasses,kl(e,8).horizontalClass)}))}var a$=Ti({encapsulation:2,styles:[],data:{}});function u$(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.title)}))}function c$(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function h$(t){return to(0,[(t()(),Nr(0,0,null,null,8,"span",[["class","k-button k-bare k-title"]],[[2,"k-state-disabled",null]],null,null,null,null)),Nl(1,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(2,{click:0}),(t()(),Fr(16777216,null,null,1,null,u$)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,3,null,c$)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(7,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(8,{$implicit:0,activeView:1,date:2}),(t()(),Nr(9,0,null,null,3,"span",[["class","k-today"]],[[2,"k-state-disabled",null]],null,null,null,null)),Nl(10,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(11,{click:0}),(t()(),Zr(12,null,[" "," "]))],(function(t,e){var n=e.component,i=t(e,2,0,n.handleNavigation);t(e,1,0,i,n),t(e,4,0,!n.templateRef),t(e,6,0,n.templateRef);var l=t(e,8,0,n.title,n.activeViewValue,n.currentDate);t(e,7,0,l,n.templateRef);var s=t(e,11,0,n.handleTodayClick);t(e,10,0,s,n)}),(function(t,e){var n=e.component;t(e,0,0,!n.navigate),t(e,9,0,!n.todayAvailable),t(e,12,0,n.todayMessage)}))}var d$=Ti({encapsulation:2,styles:[],data:{}});function p$(t){return to(0,[(t()(),Nr(0,0,null,null,1,"td",[["class","k-empty"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\xa0"]))],null,null)}function m$(t){return to(0,[(t()(),Nr(0,0,null,null,2,"tr",[["role","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"th",[["scope","col"]],[[8,"colSpan",0]],null,null,null,null)),(t()(),Zr(2,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.colSpan),t(e,2,0,n.title)}))}function g$(t){return to(0,[(t()(),Nr(0,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit)}))}function f$(t){return to(0,[(t()(),Nr(0,0,null,null,2,"tr",[["role","row"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,g$)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.weekNames)}),null)}function b$(t){return to(0,[(t()(),Zr(0,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,0,0,n.getWeekNumber(n.firstDate(e.parent.parent.parent.context.$implicit)))}))}function v$(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function y$(t){return to(0,[(t()(),Nr(0,0,null,null,6,"td",[["class","k-alt"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,b$)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,3,null,v$)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(5,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(6,{$implicit:0,cellContext:1})],(function(t,e){var n=e.component;t(e,2,0,!n.weekNumberTemplateRef),t(e,4,0,n.weekNumberTemplateRef);var i=t(e,6,0,n.firstDate(e.parent.parent.context.$implicit),n.getWeekNumberContext(e.parent.parent.context.$implicit));t(e,5,0,i,n.weekNumberTemplateRef)}),null)}function w$(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,y$)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.component.firstDate(e.parent.context.$implicit),kl(e.parent.parent,0))}),null)}function x$(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.parent.parent.context.$implicit.formattedValue)}))}function k$(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function _$(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,k$)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{$implicit:0,cellContext:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.parent.context.$implicit.value,e.parent.parent.context.$implicit);t(e,1,0,i,n.templateRef)}),null)}function C$(t){return to(0,[(t()(),Nr(0,0,null,null,7,"td",[["role","gridcell"]],[[1,"id",0],[1,"data-cell-index",0],[1,"aria-selected",0],[1,"aria-disabled",0],[8,"title",0]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),(t()(),Nr(3,0,null,null,4,"span",[["class","k-link"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,x$)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,_$)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.getStyles(e.parent.context.$implicit)),t(e,5,0,!n.templateRef),t(e,7,0,n.templateRef)}),(function(t,e){t(e,0,0,e.parent.context.$implicit.id,e.component.tableCellIndex(e.parent.parent.context.index,e.parent.context.index),e.parent.context.$implicit.isSelected||e.parent.context.$implicit.isRangeStart||e.parent.context.$implicit.isRangeMid||e.parent.context.$implicit.isRangeEnd,e.parent.context.$implicit.isDisabled,e.parent.context.$implicit.title)}))}function T$(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,C$)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit,kl(e.parent.parent,0))}),null)}function S$(t){return to(0,[(t()(),Nr(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,w$)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,T$)),Nl(4,802816,null,0,AA,[ri,li,Jn],{kForOf:[0,"kForOf"]},null)],(function(t,e){t(e,2,0,e.component.weekNumber),t(e,4,0,e.context.$implicit)}),null)}function M$(t){return to(0,[(t()(),Fr(0,[["emptyCell",2]],null,0,null,p$)),(t()(),Fr(16777216,null,null,1,null,m$)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,f$)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,S$)),Nl(6,802816,null,0,AA,[ri,li,Jn],{kForOf:[0,"kForOf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.isHorizontal()),t(e,4,0,n.isMonthView()&&n.isHorizontal()),t(e,6,0,n.data)}),null)}var P$=Ti({encapsulation:2,styles:[],data:{}});function A$(t){return to(0,[(t()(),Nr(0,0,null,null,2,"li",[["class","k-item"]],[[1,"data-timelist-item-index",0]],null,null,null,null)),(t()(),Nr(1,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Zr(2,null,["",""]))],null,(function(t,e){t(e,0,0,e.context.index),t(e,2,0,e.context.$implicit.text)}))}function E$(t){return to(0,[zr(402653184,1,{virtualization:0}),(t()(),Nr(1,0,null,null,9,"kendo-virtualization",[["class","k-time-container"],["role","presentation"],["tabindex","-1"]],[[2,"k-content",null],[2,"k-scrollable",null],[2,"k-scrollable-horizontal",null]],null,null,e$,t$)),Ll(256,null,bP,vP,[]),Nl(3,4964352,[[1,4]],0,TP,[bP,Fn,Vn,qs],{itemHeight:[0,"itemHeight"],topOffset:[1,"topOffset"],bottomOffset:[2,"bottomOffset"],maxScrollDifference:[3,"maxScrollDifference"],skip:[4,"skip"],take:[5,"take"],total:[6,"total"]},null),(t()(),Nr(4,0,null,0,6,"ul",[["class","k-reset"]],null,null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(6,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Nl(7,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(8,{click:0}),(t()(),Fr(16777216,null,null,1,null,A$)),Nl(10,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,3,0,n.itemHeight,n.topOffset,n.bottomOffset,n.listHeight,n.skip,n.total,n.total),t(e,6,0,n.style);var i=t(e,8,0,n.handleItemClick);t(e,7,0,i,n),t(e,10,0,n.data)}),(function(t,e){t(e,1,0,kl(e,3).wrapperClasses,kl(e,3).wrapperClasses,kl(e,3).horizontalClass)}))}var I$=Ti({encapsulation:2,styles:[],data:{}});function D$(t){return to(0,[],null,null)}var O$=Ti({encapsulation:2,styles:[],data:{}});function F$(t){return to(0,[(t()(),Nr(0,0,[[3,0],["now",1]],null,3,"button",[["class","k-button k-bare k-time-now"],["type","button"]],[[1,"title",0],[1,"aria-label",0],[8,"disabled",0]],null,null,null,null)),Nl(1,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(2,{click:0,focus:1,blur:2}),(t()(),Zr(3,null,["",""]))],(function(t,e){var n=e.component,i=t(e,2,0,n.handleNow,n.handleFocus,n.handleBlur);t(e,1,0,i,n)}),(function(t,e){var n=e.component;t(e,0,0,n.localization.get("nowLabel"),n.localization.get("nowLabel"),n.disabled),t(e,3,0,n.localization.get("now"))}))}function N$(t){return to(0,[(t()(),Nr(0,0,[[5,0],["listWrapper",1]],null,6,"div",[["class","k-time-list-wrapper"],["role","presentation"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"span",[["class","k-title"]],null,null,null,null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,3,"kendo-timelist",[],[[1,"data-timelist-index",0],[1,"tabindex",0],[2,"k-time-list",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==(t.component.current=n)&&i),i}),E$,P$)),Nl(4,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(5,{focus:0,blur:1}),Nl(6,13352960,[[4,4]],0,NE,[Fn,sn,nE,Vn,qs],{min:[0,"min"],max:[1,"max"],part:[2,"part"],step:[3,"step"],disabled:[4,"disabled"],value:[5,"value"]},{valueChange:"valueChange"})],(function(t,e){var n=e.component,i=t(e,5,0,n.handleListFocus,n.handleBlur);t(e,4,0,i,n),t(e,6,0,n.min,n.max,e.parent.context.$implicit,n.partStep(e.parent.context.$implicit),n.disabled,n.current)}),(function(t,e){t(e,2,0,e.component.intl.dateFieldName(e.parent.context.$implicit)),t(e,3,0,e.parent.context.index,kl(e,6).tabIndex,kl(e,6).componentClass)}))}function R$(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","k-time-separator"]],null,null,null,null,null)),(t()(),Zr(1,null,[" "," "]))],null,(function(t,e){t(e,1,0,e.parent.context.$implicit.pattern)}))}function L$(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,N$)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,R$)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,"literal"!==e.context.$implicit.type),t(e,3,0,"literal"===e.context.$implicit.type)}),null)}function B$(t){return to(0,[(t()(),Nr(0,0,[[2,0],["cancel",1]],null,3,"button",[["class","k-button k-time-cancel"],["type","button"]],[[1,"title",0],[1,"aria-label",0],[8,"disabled",0]],null,null,null,null)),Nl(1,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(2,{click:0,focus:1,blur:2}),(t()(),Zr(3,null,["",""]))],(function(t,e){var n=e.component,i=t(e,2,0,n.handleReject,n.handleFocus,n.handleBlur);t(e,1,0,i,n)}),(function(t,e){var n=e.component;t(e,0,0,n.localization.get("cancelLabel"),n.localization.get("cancelLabel"),n.disabled),t(e,3,0,n.localization.get("cancel"))}))}function V$(t){return to(0,[(t()(),Nr(0,0,[[1,0],["accept",1]],null,3,"button",[["class","k-time-accept k-button k-primary"],["type","button"]],[[1,"title",0],[1,"aria-label",0],[8,"disabled",0]],null,null,null,null)),Nl(1,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"],scope:[1,"scope"]},null),Xr(2,{click:0,focus:1,blur:2}),(t()(),Zr(3,null,["",""]))],(function(t,e){var n=e.component,i=t(e,2,0,n.handleAccept,n.handleFocus,n.handleBlur);t(e,1,0,i,n)}),(function(t,e){var n=e.component;t(e,0,0,n.localization.get("acceptLabel"),n.localization.get("acceptLabel"),n.disabled),t(e,3,0,n.localization.get("accept"))}))}function z$(t){return to(0,[(t()(),Nr(0,0,null,null,4,"div",[["class","k-time-footer k-action-buttons"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,B$)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,V$)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.cancelButton),t(e,4,0,n.setButton)}),null)}function j$(t){return to(2,[zr(671088640,1,{accept:0}),zr(671088640,2,{cancel:0}),zr(671088640,3,{now:0}),zr(671088640,4,{timeLists:1}),zr(671088640,5,{timeListWrappers:1}),(t()(),Nr(5,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,qE,null,[XE]),Nl(7,737280,null,0,XE,[Fb],{accept:[0,"accept"],acceptLabel:[1,"acceptLabel"],cancel:[2,"cancel"],cancelLabel:[3,"cancelLabel"],now:[4,"now"],nowLabel:[5,"nowLabel"]},null),(t()(),Nr(8,0,null,null,4,"div",[["class","k-time-header"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"span",[["class","k-title"]],null,null,null,null,null)),(t()(),Zr(10,null,[" "," "])),(t()(),Fr(16777216,null,null,1,null,F$)),Nl(12,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(13,0,null,null,3,"div",[["class","k-time-list-container"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,0,"span",[["class","k-time-highlight"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,L$)),Nl(16,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(16777216,null,null,1,null,z$)),Nl(18,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,7,0,"Set","Set time","Cancel","Cancel changes","Now","Select now"),t(e,12,0,n.showNowButton),t(e,16,0,n.dateFormatParts),t(e,18,0,n.setButton||n.cancelButton)}),(function(t,e){var n=e.component;t(e,10,0,n.intl.formatDate(n.current,n.format))}))}var H$=Ti({encapsulation:2,styles:[],data:{}});function W$(t){return to(0,[(t()(),Nr(0,0,null,null,10,"span",[["class","k-select"]],null,null,null,null,null)),Nl(1,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"]},null),Xr(2,{mouseup:0,mouseleave:1}),(t()(),Nr(3,0,null,null,3,"span",[["class","k-link k-link-increase"]],[[1,"aria-label",0],[8,"title",0],[2,"k-state-active",null]],null,null,null,null)),Nl(4,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"]},null),Xr(5,{mousedown:0}),(t()(),Nr(6,0,null,null,0,"span",[["class","k-icon k-i-arrow-n"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,3,"span",[["class","k-link k-link-decrease"]],[[1,"aria-label",0],[8,"title",0],[2,"k-state-active",null]],null,null,null,null)),Nl(8,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"]},null),Xr(9,{mousedown:0}),(t()(),Nr(10,0,null,null,0,"span",[["class","k-icon k-i-arrow-s"]],null,null,null,null,null))],(function(t,e){var n=e.component,i=t(e,2,0,n.releaseArrow,n.releaseArrow);t(e,1,0,i);var l=t(e,5,0,n.increasePress);t(e,4,0,l);var s=t(e,9,0,n.decreasePress);t(e,8,0,s)}),(function(t,e){var n=e.component;t(e,3,0,n.incrementTitle,n.incrementTitle,n.arrowDirection===n.ArrowDirection.Up),t(e,7,0,n.decrementTitle,n.decrementTitle,n.arrowDirection===n.ArrowDirection.Down)}))}function U$(t){return to(0,[zr(402653184,1,{numericInput:0}),zr(402653184,2,{numericWrap:0}),(t()(),Nr(2,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,oj,null,[aj]),Nl(4,737280,null,0,aj,[Fb],{decrement:[0,"decrement"],increment:[1,"increment"]},null),(t()(),Nr(5,0,[[2,0],["numericWrap",1]],null,7,"span",[["class","k-numeric-wrap"]],[[2,"k-state-disabled",null]],null,null,null,null)),Nl(6,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"]},null),Xr(7,{mousewheel:0,DOMMouseScroll:1}),(t()(),Nr(8,0,[[1,0],["numericInput",1]],null,2,"input",[["autocomplete","off"],["autocorrect","off"],["class","k-input k-formatted-value"],["role","spinbutton"]],[[8,"id",0],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"title",0],[1,"placeholder",0],[8,"tabIndex",0],[8,"disabled",0],[8,"readOnly",0]],null,null,null,null)),Nl(9,212992,null,0,df,[Fn,qs,Vn],{events:[0,"events"]},null),Xr(10,{mousedown:0,dragenter:1,keydown:2,input:3,focus:4,blur:5,paste:6}),(t()(),Fr(16777216,null,null,1,null,W$)),Nl(12,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,"Decrease value","Increase value");var i=t(e,7,0,n.handleWheel,n.handleWheel);t(e,6,0,i);var l=t(e,10,0,n.handleMouseDown,n.handleDragEnter,n.handleKeyDown,n.handleInput,n.handleFocus,n.handleBlur,n.handlePaste);t(e,9,0,l),t(e,12,0,n.spinners)}),(function(t,e){var n=e.component;t(e,5,0,n.disabled),t(e,8,0,n.focusableId,n.min,n.max,n.value,n.title,n.placeholder,n.tabIndex,n.disabled,n.readonly)}))}var $$=Ti({encapsulation:2,styles:[],data:{}});function Y$(t){return to(0,[$r(null,0)],null,null)}var q$=Ti({encapsulation:2,styles:[],data:{}});function G$(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-clear-value k-i-close"],["role","button"],["tabindex","-1"]],[[1,"title",0]],[[null,"click"],[null,"mousedown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.clearValue(n)&&i),"mousedown"===e&&(i=!1!==n.preventDefault()&&i),i}),null,null))],null,(function(t,e){t(e,0,0,e.component.clearTitle)}))}function X$(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function K$(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,X$)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.headerTemplate.templateRef);t(e,1,0,n)}),null)}function Z$(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function Q$(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.noDataText)}))}function J$(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["class","k-nodata"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,Z$)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(3,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(4,{templateRef:0}),(t()(),Fr(16777216,null,null,1,null,Q$)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.noDataTemplate);var i=t(e,4,0,n.noDataTemplate?n.noDataTemplate.templateRef:void 0);t(e,3,0,i),t(e,6,0,!n.noDataTemplate)}),null)}function tY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function eY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,tY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.footerTemplate.templateRef);t(e,1,0,n)}),null)}function nY(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,K$)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(2,0,null,null,1,"kendo-list",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.pageChange(n)&&i),i}),wq,JY)),Nl(3,13287424,[[4,4],["optionsList",4]],0,DO,[CO,Fn,kO,TO,He,qs,Vn],{textField:[0,"textField"],valueField:[1,"valueField"],height:[2,"height"],template:[3,"template"],groupTemplate:[4,"groupTemplate"],fixedGroupTemplate:[5,"fixedGroupTemplate"],show:[6,"show"],id:[7,"id"],optionPrefix:[8,"optionPrefix"],virtual:[9,"virtual"],data:[10,"data"]},{pageChange:"pageChange"}),(t()(),Fr(16777216,null,null,1,null,J$)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,eY)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.headerTemplate),t(e,3,1,[n.textField,n.valueField,n.listHeight,n.template,n.groupTemplate,n.fixedGroupTemplate,n.isOpen,n.listBoxId,n.optionPrefix,n.virtual,n.data]),t(e,5,0,0===n.data.length),t(e,7,0,n.footerTemplate)}),null)}function iY(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(t,e,n){var i=!0;return"resize"===e&&(i=!1!==t.component.onResize()&&i),i}),kb,xb)),Nl(1,8568832,null,0,Tf,[_f,Fn,qs],null,{resize:"resize"})],null,null)}function lY(t){return to(0,[zr(402653184,1,{container:0}),zr(402653184,2,{popupTemplate:0}),zr(402653184,3,{searchbar:0}),zr(671088640,4,{optionsList:0}),(t()(),Nr(4,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,qO,null,[GO]),Nl(6,737280,null,0,GO,[Fb],{noDataText:[0,"noDataText"],clearTitle:[1,"clearTitle"]},null),(t()(),Nr(7,0,[["wrapper",1]],null,12,"span",[["class","k-dropdown-wrap"],["unselectable","on"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(9,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(10,{"k-state-default":0,"k-state-disabled":1,"k-state-focused":2}),(t()(),Nr(11,0,null,null,1,"kendo-searchbar",[],[[2,"k-searchbar",null]],[[null,"onNavigate"],[null,"valueChange"],[null,"onBlur"],[null,"onFocus"]],(function(t,e,n){var i=!0,l=t.component;return"onNavigate"===e&&(i=!1!==l.handleNavigate(n)&&i),"valueChange"===e&&(i=!1!==l.searchBarChange(n)&&i),"onBlur"===e&&(i=!1!==l.handleBlur()&&i),"onFocus"===e&&(i=!1!==l.handleFocus()&&i),i}),kq,xq)),Nl(12,770048,[[3,4],["searchbar",4]],0,wO,[Fb,Vn],{id:[0,"id"],listId:[1,"listId"],activeDescendant:[2,"activeDescendant"],noDataLabel:[3,"noDataLabel"],disabled:[4,"disabled"],readonly:[5,"readonly"],tabIndex:[6,"tabIndex"],popupOpen:[7,"popupOpen"],role:[8,"role"],userInput:[9,"userInput"],suggestedText:[10,"suggestedText"],placeholder:[11,"placeholder"]},{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onNavigate:"onNavigate"}),(t()(),Fr(16777216,null,null,1,null,G$)),Nl(14,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(15,0,null,null,3,"span",[["class","k-select"],["unselectable","on"]],null,[[null,"click"],[null,"mousedown"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectClick()&&i),"mousedown"===e&&(i=!1!==n.preventDefault()&&i),i}),null,null)),(t()(),Nr(16,0,null,null,2,"span",[["class","k-icon"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(18,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Fr(0,[[2,2],["popupTemplate",2]],null,0,null,nY)),(t()(),Fr(16777216,null,null,1,null,iY)),Nl(21,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(22,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(t,e){var n=e.component;t(e,6,0,"NO DATA FOUND","clear");var i=t(e,10,0,!n.disabled,n.disabled,n.isFocused);t(e,9,0,"k-dropdown-wrap",i),t(e,12,1,[n.focusableId,n.listBoxId,n.activeDescendant,n.noDataLabel,n.disabled,n.readonly,n.tabIndex,n.isOpen,"combobox",n.text,n.getSuggestion(),n.placeholder]),t(e,14,0,!n.loading&&!n.readonly&&n.clearButton&&(null==n.text?null:n.text.length)),t(e,18,0,"k-icon",n.buttonClasses),t(e,21,0,n.isOpen)}),(function(t,e){t(e,11,0,kl(e,12).searchBarClass)}))}var sY=Ti({encapsulation:2,styles:[],data:{}});function rY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function oY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,rY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,n.valueTemplate.templateRef,n.dataItem);t(e,1,0,i)}),null)}function aY(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.getText())}))}function uY(t){return to(0,[(t()(),Nr(0,0,null,null,8,"span",[["class","k-list-filter"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==n.stopImmediatePropagation()&&i),i}),null,null)),(t()(),Nr(1,0,null,null,6,"input",[["class","k-textbox"],["tabindex","-1"]],[[1,"aria-owns",0],[1,"aria-activedescendant",0],[1,"aria-label",0],[8,"dir",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"focus"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0,l=t.component;return"input"===e&&(i=!1!==kl(t,2)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==kl(t,2).onTouched()&&i),"compositionstart"===e&&(i=!1!==kl(t,2)._compositionStart()&&i),"compositionend"===e&&(i=!1!==kl(t,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===e&&(i=!1!==(l.filterText=n)&&i),"keydown"===e&&(i=!1!==l.keydown(n)&&i),"input"===e&&(i=!1!==l.handleFilter(n)&&i),"focus"===e&&(i=!1!==l.onFilterFocus()&&i),"blur"===e&&(i=!1!==l.blurFilterInput()&&i),i}),null,null)),Nl(2,16384,null,0,jy,[Vn,Fn,[2,zy]],null,null),Ll(1024,null,By,(function(t){return[t]}),[jy]),Nl(4,671744,null,0,Ww,[[8,null],[8,null],[8,null],[6,By]],{model:[0,"model"]},{update:"ngModelChange"}),Ll(2048,null,$y,null,[Ww]),Nl(6,16384,null,0,qy,[[4,$y]],null,null),Nl(7,540672,null,0,pF,[Fn,qs],{focused:[0,"focused"]},null),(t()(),Nr(8,0,null,null,0,"span",[["class","k-icon k-i-search"],["unselectable","on"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,4,0,n.filterText),t(e,7,0,n.isFocused&&!n.touchEnabled)}),(function(t,e){var n=e.component;t(e,1,1,[n.ariaOwns,n.ariaActivedescendant,n.noDataLabel,n.direction,kl(e,6).ngClassUntouched,kl(e,6).ngClassTouched,kl(e,6).ngClassPristine,kl(e,6).ngClassDirty,kl(e,6).ngClassValid,kl(e,6).ngClassInvalid,kl(e,6).ngClassPending])}))}function cY(t){return to(0,[(t()(),Nr(0,0,null,null,5,"div",[["class","k-list-optionlabel"],["kendoDropDownsSelectable",""]],[[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,4).onClick(n)&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-state-disabled":0}),Nl(4,16384,null,0,YO,[kO],{index:[0,"index"]},null),(t()(),Zr(5,null,[" "," "]))],(function(t,e){var n=t(e,3,0,e.component.isDisabledDefaultItem);t(e,2,0,"k-list-optionlabel",n),t(e,4,0,-1)}),(function(t,e){var n=e.component;t(e,0,0,kl(e,4).index,kl(e,4).height,kl(e,4).height,kl(e,4).focusedClassName,kl(e,4).selectedClassName),t(e,5,0,n.getDefaultItemText())}))}function hY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function dY(t){return to(0,[(t()(),Nr(0,0,null,null,7,"div",[["class","k-list-optionlabel"],["kendoDropDownsSelectable",""]],[[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,4).onClick(n)&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-state-disabled":0}),Nl(4,16384,null,0,YO,[kO],{index:[0,"index"]},null),(t()(),Fr(16777216,null,null,2,null,hY)),Nl(6,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(7,{templateRef:0,$implicit:1})],(function(t,e){var n=e.component,i=t(e,3,0,n.isDisabledDefaultItem);t(e,2,0,"k-list-optionlabel",i),t(e,4,0,-1);var l=t(e,7,0,n.itemTemplate.templateRef,n.defaultItem);t(e,6,0,l)}),(function(t,e){t(e,0,0,kl(e,4).index,kl(e,4).height,kl(e,4).height,kl(e,4).focusedClassName,kl(e,4).selectedClassName)}))}function pY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function mY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,pY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.headerTemplate.templateRef);t(e,1,0,n)}),null)}function gY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function fY(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.noDataText)}))}function bY(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["class","k-nodata"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,gY)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(3,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(4,{templateRef:0}),(t()(),Fr(16777216,null,null,1,null,fY)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.noDataTemplate);var i=t(e,4,0,n.noDataTemplate?n.noDataTemplate.templateRef:void 0);t(e,3,0,i),t(e,6,0,!n.noDataTemplate)}),null)}function vY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function yY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,vY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.footerTemplate.templateRef);t(e,1,0,n)}),null)}function wY(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,uY)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,cY)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,dY)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,mY)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(8,0,null,null,1,"kendo-list",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.pageChange(n)&&i),i}),wq,JY)),Nl(9,13287424,[[4,4],["optionsList",4]],0,DO,[CO,Fn,kO,TO,He,qs,Vn],{textField:[0,"textField"],valueField:[1,"valueField"],height:[2,"height"],template:[3,"template"],groupTemplate:[4,"groupTemplate"],fixedGroupTemplate:[5,"fixedGroupTemplate"],show:[6,"show"],id:[7,"id"],optionPrefix:[8,"optionPrefix"],virtual:[9,"virtual"],data:[10,"data"]},{pageChange:"pageChange"}),(t()(),Fr(16777216,null,null,1,null,bY)),Nl(11,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,yY)),Nl(13,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.filterable),t(e,3,0,n.defaultItem&&!n.itemTemplate),t(e,5,0,n.defaultItem&&n.itemTemplate),t(e,7,0,n.headerTemplate),t(e,9,1,[n.textField,n.valueField,n.listHeight,n.itemTemplate,n.groupTemplate,n.fixedGroupTemplate,n.isOpen,n.listBoxId,n.optionPrefix,n.virtual,n.data]),t(e,11,0,0===n.data.length),t(e,13,0,n.footerTemplate)}),null)}function xY(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(t,e,n){var i=!0;return"resize"===e&&(i=!1!==t.component.onResize()&&i),i}),kb,xb)),Nl(1,8568832,null,0,Tf,[_f,Fn,qs],null,{resize:"resize"})],null,null)}function kY(t){return to(0,[zr(402653184,1,{container:0}),zr(402653184,2,{popupTemplate:0}),zr(402653184,3,{wrapper:0}),zr(671088640,4,{optionsList:0}),(t()(),Nr(4,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,qO,null,[GO]),Nl(6,737280,null,0,GO,[Fb],{noDataText:[0,"noDataText"]},null),(t()(),Nr(7,0,[[3,0],["wrapper",1]],null,13,"span",[["aria-haspopup","listbox"],["role","listbox"],["unselectable","on"]],[[8,"id",0],[1,"dir",0],[1,"readonly",0],[1,"tabindex",0],[1,"aria-disabled",0],[1,"aria-readonly",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-activedescendant",0],[1,"aria-describedby",0],[1,"aria-label",0]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keypress"],[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"focus"===e&&(i=!1!==l.focusComponent()&&i),"blur"===e&&(i=!1!==l.blurComponent()&&i),"keydown"===e&&(i=!1!==l.keydown(n)&&i),"keypress"===e&&(i=!1!==l.keypress(n)&&i),"click"===e&&(i=!1!==l.click()&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(9,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Xr(10,{"k-dropdown-wrap":0,"k-state-default":1,"k-state-disabled":2,"k-state-focused":3}),(t()(),Nr(11,0,null,null,4,"span",[["class","k-input"],["unselectable","on"]],[[8,"id",0]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,oY)),Nl(13,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,aY)),Nl(15,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(16,0,null,null,3,"span",[["class","k-select"],["unselectable","on"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,2,"span",[["class","k-icon"],["unselectable","on"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(19,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Fr(0,[[2,2],["popupTemplate",2]],null,0,null,wY)),(t()(),Fr(16777216,null,null,1,null,xY)),Nl(22,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(23,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(t,e){var n=e.component;t(e,6,0,"NO DATA FOUND");var i=t(e,10,0,!0,!n.disabled,n.disabled,n.isFocused);t(e,9,0,i),t(e,13,0,n.valueTemplate),t(e,15,0,!n.valueTemplate),t(e,19,0,"k-icon",n.buttonClasses),t(e,22,0,n.isOpen)}),(function(t,e){var n=e.component;t(e,7,1,[n.focusableId,n.direction,n.readonly,n.widgetTabIndex,n.disabled,n.readonly,n.ariaExpanded,n.ariaOwns,n.ariaActivedescendant,n.valueLabelId,n.noDataLabel]),t(e,11,0,n.valueLabelId)}))}var _Y=Ti({encapsulation:2,styles:[],data:{}});function CY(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-clear-value k-i-close"],["role","button"],["tabindex","-1"]],[[1,"title",0]],[[null,"mousedown"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==t.component.clearAll(n)&&i),i}),null,null))],null,(function(t,e){t(e,0,0,e.component.clearTitle)}))}function TY(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-i-loading"]],null,null,null,null,null))],null,null)}function SY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function MY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,SY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.headerTemplate.templateRef);t(e,1,0,n)}),null)}function PY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function AY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,PY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,n.customItemTemplate.templateRef,n.text);t(e,1,0,i)}),null)}function EY(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.text)}))}function IY(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["class","k-list"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,5,"div",[["class","k-item k-custom-item"],["kendoDropDownsSelectable",""]],[[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,2).onClick(n)&&i),i}),null,null)),Nl(2,16384,null,0,YO,[kO],{index:[0,"index"],multipleSelection:[1,"multipleSelection"]},null),(t()(),Fr(16777216,null,null,1,null,AY)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["default_custom_item_template",2]],null,0,null,EY)),(t()(),Nr(6,0,null,null,0,"span",[["class","k-icon k-i-plus"],["style","float: right"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,2,0,-1,!0),t(e,4,0,n.customItemTemplate,kl(e,5))}),(function(t,e){t(e,1,0,kl(e,2).index,kl(e,2).height,kl(e,2).height,kl(e,2).focusedClassName,kl(e,2).selectedClassName)}))}function DY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function OY(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.noDataText)}))}function FY(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["class","k-nodata"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,DY)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),Nl(3,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(4,{templateRef:0}),(t()(),Fr(16777216,null,null,1,null,OY)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.noDataTemplate);var i=t(e,4,0,n.noDataTemplate?n.noDataTemplate.templateRef:void 0);t(e,3,0,i),t(e,6,0,!n.noDataTemplate)}),null)}function NY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function RY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,NY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.footerTemplate.templateRef);t(e,1,0,n)}),null)}function LY(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,MY)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,IY)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(4,0,null,null,1,"kendo-list",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.pageChange(n)&&i),i}),wq,JY)),Nl(5,13287424,[[5,4],["optionsList",4]],0,DO,[CO,Fn,kO,TO,He,qs,Vn],{textField:[0,"textField"],valueField:[1,"valueField"],height:[2,"height"],template:[3,"template"],groupTemplate:[4,"groupTemplate"],fixedGroupTemplate:[5,"fixedGroupTemplate"],show:[6,"show"],id:[7,"id"],optionPrefix:[8,"optionPrefix"],multipleSelection:[9,"multipleSelection"],virtual:[10,"virtual"],data:[11,"data"]},{pageChange:"pageChange"}),(t()(),Fr(16777216,null,null,1,null,FY)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,RY)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.headerTemplate),t(e,3,0,n.allowCustom&&n.text),t(e,5,1,[n.textField,n.valueField,n.listHeight,n.template,n.groupTemplate,n.fixedGroupTemplate,n.isOpen,n.listBoxId,n.optionPrefix,!0,n.virtual,n.data]),t(e,7,0,0===n.data.length),t(e,9,0,n.footerTemplate)}),null)}function BY(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(t,e,n){var i=!0;return"resize"===e&&(i=!1!==t.component.onResize()&&i),i}),kb,xb)),Nl(1,8568832,null,0,Tf,[_f,Fn,qs],null,{resize:"resize"})],null,null)}function VY(t){return to(0,[zr(402653184,1,{container:0}),zr(402653184,2,{searchbar:0}),zr(402653184,3,{popupTemplate:0}),zr(402653184,4,{wrapper:0}),zr(671088640,5,{optionsList:0}),(t()(),Nr(5,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,qO,null,[GO]),Nl(7,737280,null,0,GO,[Fb],{noDataText:[0,"noDataText"],clearTitle:[1,"clearTitle"]},null),(t()(),Nr(8,0,[[4,0],["wrapper",1]],null,8,"div",[["class","k-multiselect-wrap k-floatwrap"]],null,[[null,"mousedown"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==t.component.wrapperMousedown(n)&&i),i}),null,null)),(t()(),Nr(9,0,null,null,1,"kendo-taglist",[],null,[[null,"removeTag"]],(function(t,e,n){var i=!0;return"removeTag"===e&&(i=!1!==t.component.handleRemoveTag(n)&&i),i}),QY,zY)),Nl(10,49152,null,0,UO,[],{tags:[0,"tags"],textField:[1,"textField"],valueField:[2,"valueField"],focused:[3,"focused"],template:[4,"template"],groupTemplate:[5,"groupTemplate"],disabled:[6,"disabled"],tagPrefix:[7,"tagPrefix"],id:[8,"id"]},{removeTag:"removeTag"}),(t()(),Nr(11,0,null,null,1,"kendo-searchbar",[],[[2,"k-searchbar",null]],[[null,"onNavigate"],[null,"valueChange"],[null,"onBlur"],[null,"onFocus"]],(function(t,e,n){var i=!0,l=t.component;return"onNavigate"===e&&(i=!1!==l.handleNavigate(n)&&i),"valueChange"===e&&(i=!1!==l.handleFilter(n)&&i),"onBlur"===e&&(i=!1!==l.onSearchBarBlur()&&i),"onFocus"===e&&(i=!1!==l.onSearchBarFocus()&&i),i}),kq,xq)),Nl(12,770048,[[2,4],["searchbar",4]],0,wO,[Fb,Vn],{id:[0,"id"],tagListId:[1,"tagListId"],activeDescendant:[2,"activeDescendant"],noDataLabel:[3,"noDataLabel"],disabled:[4,"disabled"],readonly:[5,"readonly"],tabIndex:[6,"tabIndex"],popupOpen:[7,"popupOpen"],role:[8,"role"],userInput:[9,"userInput"],placeholder:[10,"placeholder"]},{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onNavigate:"onNavigate"}),(t()(),Fr(16777216,null,null,1,null,CY)),Nl(14,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,TY)),Nl(16,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,[[3,2],["popupTemplate",2]],null,0,null,LY)),(t()(),Fr(16777216,null,null,1,null,BY)),Nl(19,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(20,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(t,e){var n=e.component;t(e,7,0,"NO DATA FOUND","clear"),t(e,10,0,n.tags,n.textField,n.valueField,n.focusedTagIndex,n.tagTemplate,n.groupTagTemplate,n.disabled,n.tagPrefix,n.tagListId),t(e,12,1,[n.focusableId,n.tagListId,n.activeDescendant,n.noDataLabel,n.disabled,n.readonly,n.tabIndex,n.isOpen,"listbox",n.text,n.placeholder]),t(e,14,0,!n.loading&&!n.readonly&&n.clearButton&&((null==n.tags?null:n.tags.length)||(null==n.text?null:n.text.length))),t(e,16,0,n.loading),t(e,19,0,n.isOpen)}),(function(t,e){t(e,11,0,kl(e,12).searchBarClass)}))}var zY=Ti({encapsulation:2,styles:[],data:{}});function jY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function HY(t){return to(0,[(t()(),Fr(0,null,null,0,null,jY))],null,null)}function WY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function UY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,WY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.groupTemplate.templateRef,e.parent.parent.context.$implicit);t(e,1,0,n)}),null)}function $Y(t){return to(0,[(t()(),Zr(0,null,[""," "," selected"]))],null,(function(t,e){t(e,0,0,e.parent.parent.context.$implicit.length,1===e.parent.parent.context.$implicit.length?"item":"items")}))}function YY(t){return to(0,[(t()(),Nr(0,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,UY)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,$Y)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.groupTemplate),t(e,4,0,!n.groupTemplate)}),null)}function qY(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function GY(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,qY)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.template.templateRef,e.parent.parent.context.$implicit);t(e,1,0,n)}),null)}function XY(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){var n=e.component;t(e,0,0,n.tagProp(e.parent.parent.context.$implicit,n.textField))}))}function KY(t){return to(0,[(t()(),Nr(0,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,GY)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,XY)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.template),t(e,4,0,!n.template)}),null)}function ZY(t){return to(0,[(t()(),Nr(0,0,null,null,10,"li",[["aria-selected","true"],["class","k-button"],["role","option"]],[[1,"aria-setsize",0],[1,"id",0]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-state-focused":0}),Nl(4,16384,null,0,IO,[Fn],null,null),(t()(),Fr(16777216,null,null,1,null,HY)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(t()(),Fr(0,[["groupTag",2]],null,0,null,YY)),(t()(),Fr(0,[["singleTag",2]],null,0,null,KY)),(t()(),Nr(9,0,null,null,1,"span",[["aria-label","delete"],["class","k-select"]],[[1,"aria-hidden",0]],null,null,null,null)),(t()(),Nr(10,0,null,null,0,"span",[["class","k-icon k-i-close"]],null,[[null,"mousedown"]],(function(t,e,n){var i=!0;return"mousedown"===e&&(i=!1!==t.component.deleteTag(n,t.context.$implicit)&&i),i}),null,null))],(function(t,e){var n=e.component,i=t(e,3,0,e.context.index===n.focused);t(e,2,0,"k-button",i),t(e,6,0,n.isGroupTag(e.context.$implicit),kl(e,7),kl(e,8))}),(function(t,e){var n=e.component;t(e,0,0,null==n.tags?null:n.tags.length,n.itemId(e.context.$implicit)),t(e,9,0,e.context.index!==n.focused)}))}function QY(t){return to(0,[(t()(),Nr(0,0,null,null,2,"ul",[["class","k-reset"]],[[1,"id",0]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,ZY)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.tags)}),(function(t,e){t(e,0,0,e.component.id)}))}var JY=Ti({encapsulation:2,styles:[],data:{}});function tq(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function eq(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,tq)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,n.fixedGroupTemplate.templateRef,n.currentGroup);t(e,1,0,i)}),null)}function nq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.currentGroup)}))}function iq(t){return to(0,[(t()(),Nr(0,0,null,null,10,"div",[["class","k-outer-group-header k-first"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-virtual-item":0}),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(5,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Xr(6,{"height.px":0,"minHeight.px":1,boxSizing:2}),(t()(),Fr(16777216,null,null,1,null,eq)),Nl(8,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,nq)),Nl(10,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,n.virtual);t(e,2,0,"k-outer-group-header k-first",i);var l=t(e,6,0,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit");t(e,5,0,l),t(e,8,0,n.fixedGroupTemplate),t(e,10,0,!n.fixedGroupTemplate)}),null)}function lq(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function sq(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,lq)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.template.templateRef,e.parent.context.$implicit);t(e,1,0,n)}),null)}function rq(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.getText(e.parent.context.$implicit))}))}function oq(t){return to(0,[(t()(),Nr(0,0,null,null,9,"li",[["class","k-item"],["kendoDropDownsSelectable",""],["role","option"]],[[1,"id",0],[1,"tabIndex",0],[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,5).onClick(n)&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-virtual-item":0,"k-state-disabled":1}),Nl(4,16384,[[1,4]],0,IO,[Fn],null,null),Nl(5,16384,null,0,YO,[kO],{index:[0,"index"],height:[1,"height"],multipleSelection:[2,"multipleSelection"]},null),(t()(),Fr(16777216,null,null,1,null,sq)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,rq)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,n.virtual,n.isDisabled(e.context.index));t(e,2,0,"k-item",i),t(e,5,0,e.context.index+n.startFrom,null==n.virtual?null:n.virtual.itemHeight,n.multipleSelection),t(e,7,0,n.template),t(e,9,0,!n.template)}),(function(t,e){var n=e.component;t(e,0,0,n.optionPrefix+"-"+n.getValue(e.context.$implicit),-1,kl(e,5).index,kl(e,5).height,kl(e,5).height,kl(e,5).focusedClassName,kl(e,5).selectedClassName)}))}function aq(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,oq)),Nl(1,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.component.data)}),null)}function uq(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function cq(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,uq)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.groupTemplate.templateRef,e.parent.parent.context.$implicit.value);t(e,1,0,n)}),null)}function hq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),Zr(1,null,[" ",""]))],null,(function(t,e){t(e,1,0,e.parent.parent.context.$implicit.value)}))}function dq(t){return to(0,[(t()(),Nr(0,0,null,null,11,"li",[["class","k-outer-group-header"],["role","group"]],[[1,"group-index",0],[1,"id",0],[1,"tabIndex",0]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-virtual-item":0}),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(5,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Xr(6,{"height.px":0,"minHeight.px":1,boxSizing:2}),Nl(7,16384,[[1,4]],0,IO,[Fn],null,null),(t()(),Fr(16777216,null,null,1,null,cq)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,hq)),Nl(11,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,n.virtual);t(e,2,0,"k-outer-group-header",i);var l=t(e,6,0,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit");t(e,5,0,l),t(e,9,0,n.groupTemplate),t(e,11,0,!n.groupTemplate)}),(function(t,e){var n=e.component;t(e,0,0,e.parent.context.$implicit.index,n.optionPrefix+"-"+n.getValue(e.parent.context.$implicit.value),-1)}))}function pq(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function mq(t){return to(0,[(t()(),Fr(16777216,null,null,2,null,pq)),Nl(1,16384,null,0,$O,[ri],{templateContext:[0,"templateContext"]},null),Xr(2,{templateRef:0,$implicit:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=t(e,2,0,e.component.template.templateRef,e.parent.parent.context.$implicit.value);t(e,1,0,n)}),null)}function gq(t){return to(0,[(t()(),Zr(0,null,["",""]))],null,(function(t,e){t(e,0,0,e.component.getText(e.parent.parent.context.$implicit.value))}))}function fq(t){return to(0,[(t()(),Nr(0,0,null,null,9,"li",[["class","k-item"],["kendoDropDownsSelectable",""],["role","option"]],[[1,"absolute-index",0],[1,"id",0],[1,"tabIndex",0],[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,5).onClick(n)&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(3,{"k-virtual-item":0,"k-state-disabled":1}),Nl(4,16384,[[1,4]],0,IO,[Fn],null,null),Nl(5,16384,null,0,YO,[kO],{index:[0,"index"],height:[1,"height"],multipleSelection:[2,"multipleSelection"]},null),(t()(),Fr(16777216,null,null,1,null,mq)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,gq)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,n.virtual,n.isDisabled(e.parent.context.$implicit.offsetIndex));t(e,2,0,"k-item",i),t(e,5,0,e.parent.context.$implicit.offsetIndex,null==n.virtual?null:n.virtual.itemHeight,n.multipleSelection),t(e,7,0,n.template),t(e,9,0,!n.template)}),(function(t,e){var n=e.component;t(e,0,0,e.parent.context.$implicit.index,n.optionPrefix+"-"+n.getValue(e.parent.context.$implicit.value),-1,kl(e,5).index,kl(e,5).height,kl(e,5).height,kl(e,5).focusedClassName,kl(e,5).selectedClassName)}))}function bq(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,dq)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,fq)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.context.$implicit.header&&e.context.$implicit.index>0),t(e,3,0,!e.context.$implicit.header)}),null)}function vq(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,bq)),Nl(1,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.component.data)}),null)}function yq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","k-height-container"],["role","presentation"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"div",[],[[4,"height","px"]],null,null,null,null))],null,(function(t,e){t(e,1,0,e.component.scrollHeight)}))}function wq(t){return to(0,[zr(671088640,1,{items:1}),zr(402653184,2,{content:0}),zr(402653184,3,{list:0}),(t()(),Fr(16777216,null,null,1,null,iq)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(5,0,[[2,0],["content",1]],null,13,"div",[["unselectable","on"]],[[4,"maxHeight","px"]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(7,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Xr(8,{"k-virtual-content":0,"k-list-scroller":1}),(t()(),Nr(9,0,[[3,0],["list",1]],null,7,"ul",[["class","k-list k-reset"],["role","listbox"]],[[1,"id",0],[1,"aria-hidden",0]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(11,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Xr(12,{"k-virtual-list":0}),(t()(),Fr(16777216,null,null,1,null,aq)),Nl(14,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,vq)),Nl(16,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,yq)),Nl(18,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.dataService.grouped);var i=t(e,8,0,n.virtual,!n.virtual);t(e,7,0,i);var l=t(e,12,0,n.virtual);t(e,11,0,"k-list k-reset",l),t(e,14,0,!n.dataService.grouped&&n.show),t(e,16,0,n.dataService.grouped),t(e,18,0,n.virtual)}),(function(t,e){var n=e.component;t(e,5,0,n.height),t(e,9,0,n.id,!n.show)}))}var xq=Ti({encapsulation:2,styles:[],data:{}});function kq(t){return to(0,[zr(402653184,1,{input:0}),(t()(),Nr(1,0,[[1,0],["input",1]],null,0,"input",[["aria-haspopup","listbox"],["autocomplete","off"]],[[8,"id",0],[8,"disabled",0],[8,"readOnly",0],[8,"placeholder",0],[8,"className",0],[1,"tabIndex",0],[1,"dir",0],[1,"role",0],[1,"aria-disabled",0],[1,"aria-readonly",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[1,"aria-label",0]],[[null,"input"],[null,"focus"],[null,"blur"],[null,"keydown"]],(function(t,e,n){var i=!0,l=t.component;return"input"===e&&(i=!1!==l.handleInput(n)&&i),"focus"===e&&(i=!1!==l.handleFocus(n)&&i),"blur"===e&&(i=!1!==l.handleBlur(n)&&i),"keydown"===e&&(i=!1!==l.handleKeydown(n)&&i),i}),null,null))],null,(function(t,e){var n=e.component;t(e,1,1,[n.id,n.disabled,n.readonly,n.placeholder,"k-input",n.tabIndex,n.direction,n.role,n.disabled,n.readonly,n.popupOpen,n.listId,n.tagListId,n.activeDescendant,n.noDataLabel])}))}var _q=Ti({encapsulation:2,styles:[".k-scheduler.k-state-focused { box-shadow: 0 0.5px 0.5px 0.5px rgba(0, 0, 0, .12); }"],data:{}});function Cq(t){return to(0,[(t()(),Nr(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function Tq(t){return to(2,[zr(402653184,1,{resizeSensor:0}),zr(402653184,2,{confirmationDialogContainerRef:0}),zr(402653184,3,{loadingComponent:0}),(t()(),Nr(3,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,VH,null,[zH]),Nl(5,737280,null,0,zH,[Fb],{allEvents:[0,"allEvents"],allDay:[1,"allDay"],dateHeader:[2,"dateHeader"],timeHeader:[3,"timeHeader"],eventHeader:[4,"eventHeader"],deleteTitle:[5,"deleteTitle"],nextTitle:[6,"nextTitle"],previousTitle:[7,"previousTitle"],today:[8,"today"],calendarToday:[9,"calendarToday"],showFullDay:[10,"showFullDay"],showWorkDay:[11,"showWorkDay"],dayViewTitle:[12,"dayViewTitle"],multiDayViewTitle:[13,"multiDayViewTitle"],weekViewTitle:[14,"weekViewTitle"],workWeekViewTitle:[15,"workWeekViewTitle"],monthViewTitle:[16,"monthViewTitle"],timelineViewTitle:[17,"timelineViewTitle"],timelineWeekViewTitle:[18,"timelineWeekViewTitle"],timelineMonthViewTitle:[19,"timelineMonthViewTitle"],agendaViewTitle:[20,"agendaViewTitle"],cancel:[21,"cancel"],save:[22,"save"],editorEventTitle:[23,"editorEventTitle"],editorEventStart:[24,"editorEventStart"],editorEventStartTimeZone:[25,"editorEventStartTimeZone"],editorEventEnd:[26,"editorEventEnd"],editorEventEndTimeZone:[27,"editorEventEndTimeZone"],editorEventAllDay:[28,"editorEventAllDay"],editorEventDescription:[29,"editorEventDescription"],editorEventSeparateTimeZones:[30,"editorEventSeparateTimeZones"],editorEventTimeZone:[31,"editorEventTimeZone"],recurrenceEditorRepeat:[32,"recurrenceEditorRepeat"],recurrenceEditorDailyInterval:[33,"recurrenceEditorDailyInterval"],recurrenceEditorDailyRepeatEvery:[34,"recurrenceEditorDailyRepeatEvery"],recurrenceEditorWeeklyInterval:[35,"recurrenceEditorWeeklyInterval"],recurrenceEditorWeeklyRepeatEvery:[36,"recurrenceEditorWeeklyRepeatEvery"],recurrenceEditorWeeklyRepeatOn:[37,"recurrenceEditorWeeklyRepeatOn"],recurrenceEditorMonthlyDay:[38,"recurrenceEditorMonthlyDay"],recurrenceEditorMonthlyInterval:[39,"recurrenceEditorMonthlyInterval"],recurrenceEditorMonthlyRepeatEvery:[40,"recurrenceEditorMonthlyRepeatEvery"],recurrenceEditorMonthlyRepeatOn:[41,"recurrenceEditorMonthlyRepeatOn"],recurrenceEditorYearlyOf:[42,"recurrenceEditorYearlyOf"],recurrenceEditorYearlyRepeatEvery:[43,"recurrenceEditorYearlyRepeatEvery"],recurrenceEditorYearlyRepeatOn:[44,"recurrenceEditorYearlyRepeatOn"],recurrenceEditorYearlyInterval:[45,"recurrenceEditorYearlyInterval"],recurrenceEditorFrequenciesDaily:[46,"recurrenceEditorFrequenciesDaily"],recurrenceEditorFrequenciesMonthly:[47,"recurrenceEditorFrequenciesMonthly"],recurrenceEditorFrequenciesNever:[48,"recurrenceEditorFrequenciesNever"],recurrenceEditorFrequenciesWeekly:[49,"recurrenceEditorFrequenciesWeekly"],recurrenceEditorFrequenciesYearly:[50,"recurrenceEditorFrequenciesYearly"],recurrenceEditorOffsetPositionsFirst:[51,"recurrenceEditorOffsetPositionsFirst"],recurrenceEditorOffsetPositionsSecond:[52,"recurrenceEditorOffsetPositionsSecond"],recurrenceEditorOffsetPositionsThird:[53,"recurrenceEditorOffsetPositionsThird"],recurrenceEditorOffsetPositionsFourth:[54,"recurrenceEditorOffsetPositionsFourth"],recurrenceEditorOffsetPositionsLast:[55,"recurrenceEditorOffsetPositionsLast"],recurrenceEditorWeekdaysDay:[56,"recurrenceEditorWeekdaysDay"],recurrenceEditorWeekdaysWeekday:[57,"recurrenceEditorWeekdaysWeekday"],recurrenceEditorWeekdaysWeekendday:[58,"recurrenceEditorWeekdaysWeekendday"],recurrenceEditorEndAfter:[59,"recurrenceEditorEndAfter"],recurrenceEditorEndOccurrence:[60,"recurrenceEditorEndOccurrence"],recurrenceEditorEndLabel:[61,"recurrenceEditorEndLabel"],recurrenceEditorEndNever:[62,"recurrenceEditorEndNever"],recurrenceEditorEndOn:[63,"recurrenceEditorEndOn"],editorTitle:[64,"editorTitle"],destroy:[65,"destroy"],deleteConfirmation:[66,"deleteConfirmation"],editRecurringConfirmation:[67,"editRecurringConfirmation"],editOccurrence:[68,"editOccurrence"],editSeries:[69,"editSeries"],deleteRecurringConfirmation:[70,"deleteRecurringConfirmation"],deleteOccurrence:[71,"deleteOccurrence"],deleteSeries:[72,"deleteSeries"],deleteDialogTitle:[73,"deleteDialogTitle"],deleteRecurringDialogTitle:[74,"deleteRecurringDialogTitle"],editRecurringDialogTitle:[75,"editRecurringDialogTitle"]},null),(t()(),Nr(6,0,null,null,1,"kendo-scheduler-toolbar",[],[[2,"k-scheduler-toolbar",null],[2,"k-header",null],[2,"k-floatwrap",null]],[[null,"navigate"]],(function(t,e,n){var i=!0;return"navigate"===e&&(i=!1!==t.component.onNavigationAction(n)&&i),i}),Uq,zq)),Nl(7,770048,null,0,HH,[bj],{selectedView:[0,"selectedView"],views:[1,"views"],dateRange:[2,"dateRange"],selectedDate:[3,"selectedDate"],template:[4,"template"],min:[5,"min"],max:[6,"max"]},{navigate:"navigate"}),(t()(),Fr(16777216,null,null,1,null,Cq)),Nl(9,540672,null,0,Du,[ri],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(t()(),Nr(10,16777216,[[2,3],["confirmationDialogContainer",1]],null,0,null,null,null,null,null,null,null)),(t()(),Nr(11,0,null,null,1,"kendo-scheduler-edit-dialog",[],null,null,null,wK,sK)),Nl(12,180224,null,0,hU,[qs,Wj,Fb,He,Fn,Yj],{resources:[0,"resources"],timezone:[1,"timezone"],fields:[2,"fields"],editTemplate:[3,"editTemplate"]},null),(t()(),Nr(13,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(t,e,n){var i=!0;return"resize"===e&&(i=!1!==t.component.onResize()&&i),i}),kb,xb)),Nl(14,8568832,[[1,4]],0,Tf,[_f,Fn,qs],null,{resize:"resize"}),(t()(),Nr(15,0,null,null,1,"div",[["kendoSchedulerLoading",""]],[[2,"k-loading-mask",null],[4,"display",null]],null,null,Vq,Bq)),Nl(16,49152,[[3,4]],0,Qj,[Fn,Vn],{loading:[0,"loading"]},null)],(function(t,e){var n=e.component;t(e,5,1,["All events","all day","Date","Time","Event","Delete","Next","Previous","Today","TODAY","Show full day","Show business hours","Day","Multi-Day","Week","Work Week","Month","Timeline","Timeline Week","Timeline Month","Agenda","Cancel","Save","Title","Start","Start Time Zone","End","End Time Zone","All Day Event","Description","End in different Time Zone","Specify Time Zone","Repeat","day(s)","Repeat every","week(s)","Repeat every","Repeat on","Day","month(s)","Repeat every","Repeat on","of","Repeat every","Repeat on","year(s)","Daily","Monthly","Never","Weekly","Yearly","First","Second","Third","Fourth","Last","Day","Weekday","Weekend Day","After","occurrence(s)","End","Never","On","Event","Delete","Are you sure you want to delete this event?","Do you want to edit only this event occurrence or the whole series?","Edit current occurrence","Edit the series","Do you want to delete only this event occurrence or the whole series?","Delete current occurrence","Delete the series","Delete Event","Delete Recurring Item","Edit Recurring Item"]),t(e,7,0,n.selectedView,n.views,n.dateRangeStream,n.selectedDateStream,n.toolbarTemplate,n.min,n.max),t(e,9,0,null==n.selectedView?null:n.selectedView.template),t(e,12,0,n.resources,n.timezone,n.modelFields,n.editDialogTemplate),t(e,16,0,n.loading)}),(function(t,e){t(e,6,0,kl(e,7).hostClasses,kl(e,7).hostClasses,kl(e,7).hostClasses),t(e,15,0,kl(e,16).hostClasses,kl(e,16).display)}))}var Sq=Ti({encapsulation:2,styles:[],data:{}});function Mq(t){return to(0,[(t()(),Nr(0,0,null,null,2,"multi-day-view",[],null,null,null,PX,AG)),Ll(512,null,$W,$W,[]),Nl(2,4964352,null,0,QW,[Fb,yj,xj,aS,$W,qs,Vn,Fn,He,Kj],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],scrollTime:[10,"scrollTime"],startTime:[11,"startTime"],endTime:[12,"endTime"],workDayStart:[13,"workDayStart"],workDayEnd:[14,"workDayEnd"],workWeekStart:[15,"workWeekStart"],workWeekEnd:[16,"workWeekEnd"],slotDuration:[17,"slotDuration"],slotDivisions:[18,"slotDivisions"],showWorkHours:[19,"showWorkHours"],currentTimeMarker:[20,"currentTimeMarker"],name:[21,"name"],slotFill:[22,"slotFill"],allDaySlotTemplate:[23,"allDaySlotTemplate"],allDayEventTemplate:[24,"allDayEventTemplate"],minorTimeHeaderTemplate:[25,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[26,"majorTimeHeaderTemplate"]},null),(t()(),Nr(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(t,e,n){var i=!0,l=t.component;return"itemClick"===e&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),tG,Qq)),Nl(4,49152,null,0,cW,[],null,{itemClick:"itemClick"}),Nl(5,606208,null,0,hW,[cW,Fb],{showWorkHours:[0,"showWorkHours"]},null)],(function(t,e){var n=e.component;t(e,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),t(e,5,0,n.shouldShowWorkHours)}),(function(t,e){t(e,3,0,kl(e,4).hostClasses,kl(e,4).hostClasses)}))}function Pq(t){return to(2,[zr(402653184,1,{template:0}),(t()(),Fr(0,[[1,2],["content",2]],null,0,null,Mq))],null,null)}var Aq=Ti({encapsulation:2,styles:[],data:{}});function Eq(t){return to(0,[(t()(),Nr(0,0,null,null,2,"multi-day-view",[],null,null,null,PX,AG)),Ll(512,null,$W,$W,[]),Nl(2,4964352,null,0,QW,[Fb,yj,xj,aS,$W,qs,Vn,Fn,He,Kj],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],numberOfDays:[10,"numberOfDays"],scrollTime:[11,"scrollTime"],startTime:[12,"startTime"],endTime:[13,"endTime"],workDayStart:[14,"workDayStart"],workDayEnd:[15,"workDayEnd"],workWeekStart:[16,"workWeekStart"],workWeekEnd:[17,"workWeekEnd"],slotDuration:[18,"slotDuration"],slotDivisions:[19,"slotDivisions"],showWorkHours:[20,"showWorkHours"],getStartDate:[21,"getStartDate"],currentTimeMarker:[22,"currentTimeMarker"],name:[23,"name"],slotFill:[24,"slotFill"],allDaySlotTemplate:[25,"allDaySlotTemplate"],allDayEventTemplate:[26,"allDayEventTemplate"],minorTimeHeaderTemplate:[27,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[28,"majorTimeHeaderTemplate"]},null),(t()(),Nr(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(t,e,n){var i=!0,l=t.component;return"itemClick"===e&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),tG,Qq)),Nl(4,49152,null,0,cW,[],null,{itemClick:"itemClick"}),Nl(5,606208,null,0,hW,[cW,Fb],{showWorkHours:[0,"showWorkHours"]},null)],(function(t,e){var n=e.component;t(e,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,7,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.getStartDate,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),t(e,5,0,n.shouldShowWorkHours)}),(function(t,e){t(e,3,0,kl(e,4).hostClasses,kl(e,4).hostClasses)}))}function Iq(t){return to(2,[zr(402653184,1,{template:0}),(t()(),Fr(0,[[1,2],["content",2]],null,0,null,Eq))],null,null)}var Dq=Ti({encapsulation:2,styles:[],data:{}});function Oq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-recurrence-interval-editor",[],null,null,null,BX,LX)),Nl(1,49152,null,0,CU,[vU,Fb],null,null)],null,null)}function Fq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-recurrence-weekday-rule-editor",[],null,null,null,YX,UX)),Nl(1,49152,null,0,MU,[vU,Fb],null,null)],null,null)}function Nq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-recurrence-monthly-yearly-editor",[],null,null,null,WX,VX)),Nl(1,180224,null,0,SU,[vU,Fb],null,null)],null,null)}function Rq(t){return to(0,[(t()(),Nr(0,0,null,null,1,"kendo-recurrence-end-rule-editor",[],null,null,null,OX,DX)),Nl(1,180224,null,0,_U,[vU,Fb],null,null)],null,null)}function Lq(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),Ll(6144,null,PU,null,[AU]),Nl(2,737280,null,0,AU,[Fb],{repeat:[0,"repeat"],dailyInterval:[1,"dailyInterval"],dailyRepeatEvery:[2,"dailyRepeatEvery"],weeklyInterval:[3,"weeklyInterval"],weeklyRepeatEvery:[4,"weeklyRepeatEvery"],weeklyRepeatOn:[5,"weeklyRepeatOn"],monthlyDay:[6,"monthlyDay"],monthlyInterval:[7,"monthlyInterval"],monthlyRepeatEvery:[8,"monthlyRepeatEvery"],monthlyRepeatOn:[9,"monthlyRepeatOn"],yearlyOf:[10,"yearlyOf"],yearlyRepeatEvery:[11,"yearlyRepeatEvery"],yearlyRepeatOn:[12,"yearlyRepeatOn"],yearlyInterval:[13,"yearlyInterval"],frequenciesDaily:[14,"frequenciesDaily"],frequenciesMonthly:[15,"frequenciesMonthly"],frequenciesNever:[16,"frequenciesNever"],frequenciesWeekly:[17,"frequenciesWeekly"],frequenciesYearly:[18,"frequenciesYearly"],offsetPositionsFirst:[19,"offsetPositionsFirst"],offsetPositionsSecond:[20,"offsetPositionsSecond"],offsetPositionsThird:[21,"offsetPositionsThird"],offsetPositionsFourth:[22,"offsetPositionsFourth"],offsetPositionsLast:[23,"offsetPositionsLast"],weekdaysDay:[24,"weekdaysDay"],weekdaysWeekday:[25,"weekdaysWeekday"],weekdaysWeekendday:[26,"weekdaysWeekendday"],endAfter:[27,"endAfter"],endOccurrence:[28,"endOccurrence"],endLabel:[29,"endLabel"],endNever:[30,"endNever"],endOn:[31,"endOn"]},null),(t()(),Nr(3,0,null,null,1,"kendo-recurrence-frequency-editor",[],null,null,null,RX,FX)),Nl(4,114688,null,0,xU,[vU,Fb],null,null),(t()(),Nr(5,0,null,null,8,"div",[["class","k-recur-view"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Oq)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Fq)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Nq)),Nl(11,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Rq)),Nl(13,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,1,["Repeat","day(s)","Repeat every","week(s)","Repeat every","Repeat on","Day","month(s)","Repeat every","Repeat on","of","Repeat every","Repeat on","year(s)","Daily","Monthly","Never","Weekly","Yearly","First","Second","Third","Fourth","Last","Day","Weekday","Weekend Day","After","occurrence(s)","End","Never","On"]),t(e,4,0),t(e,7,0,"never"!==n.currentFreq),t(e,9,0,"weekly"===n.currentFreq),t(e,11,0,"monthly"===n.currentFreq||"yearly"===n.currentFreq),t(e,13,0,"never"!==n.currentFreq)}),null)}var Bq=Ti({encapsulation:2,styles:[],data:{}});function Vq(t){return to(0,[(t()(),Nr(0,0,null,null,0,"div",[["class","k-loading-image"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"div",[["class","k-loading-color"]],null,null,null,null,null))],null,null)}var zq=Ti({encapsulation:2,styles:[],data:{}});function jq(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function Hq(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,jq)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.templateContext,n.template.templateRef)}),null)}function Wq(t){return to(0,[(t()(),Nr(0,0,null,null,2,"ul",[["kendoSchedulerToolbarNavigation",""]],[[2,"k-scheduler-navigation",null],[2,"k-reset",null]],null,null,qq,$q)),Ll(512,null,yb,yb,[pr,En,sn,[2,vb]]),Nl(2,180224,null,0,jH,[yb,bj,Fb,He],{min:[0,"min"],max:[1,"max"]},null),(t()(),Nr(3,0,null,null,1,"ul",[["kendoSchedulerToolbarViewSelector",""]],[[2,"k-scheduler-views",null],[2,"k-reset",null],[2,"k-state-expanded",null]],null,null,Zq,Gq)),Nl(4,49152,null,0,WH,[bj],null,null)],(function(t,e){var n=e.component;t(e,2,0,n.min,n.max)}),(function(t,e){t(e,0,0,kl(e,2).hostClasses,kl(e,2).hostClasses),t(e,3,0,kl(e,4).hostClasses,kl(e,4).hostClasses,kl(e,4).expanded)}))}function Uq(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,Hq)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["defaultTemplate",2]],null,0,null,Wq))],(function(t,e){t(e,1,0,e.component.template,kl(e,2))}),null)}var $q=Ti({encapsulation:2,styles:[],data:{}});function Yq(t){return to(0,[(t()(),Nr(0,0,null,null,22,"kendo-calendar",[],[[2,"k-week-number",null],[1,"id",0],[1,"role",0],[1,"tabindex",0],[1,"aria-disabled",0],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.selectDate(n)&&i),i}),RU,FU)),Ll(5120,null,By,(function(t){return[t]}),[nA]),Ll(5120,null,Ky,(function(t){return[t]}),[nA]),Ll(6144,null,Mf,null,[nA]),Ll(512,null,LM,LM,[sn]),Ll(512,null,FP,FP,[LM]),Ll(512,null,LP,LP,[cP,qs]),Ll(512,null,XP,XP,[]),Nl(8,13352960,null,8,nA,[LM,cP,Fn,FP,Vn,He,qs,sn,LP,XP,[2,BP]],{min:[0,"min"],max:[1,"max"],value:[2,"value"]},{valueChange:"valueChange"}),zr(335544320,1,{cellTemplate:0}),zr(335544320,2,{monthCellTemplate:0}),zr(335544320,3,{yearCellTemplate:0}),zr(335544320,4,{decadeCellTemplate:0}),zr(335544320,5,{centuryCellTemplate:0}),zr(335544320,6,{weekNumberTemplate:0}),zr(335544320,7,{headerTitleTemplate:0}),zr(335544320,8,{navigationItemTemplate:0}),Rl(131072,Bu,[He]),Ll(256,null,Ob,"kendo.calendar",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),(t()(),Nr(20,0,null,null,2,"kendo-calendar-messages",[],null,null,null,GU,qU)),Ll(6144,null,NA,null,[LA]),Nl(22,770048,null,0,LA,[Fb],{today:[0,"today"]},null)],(function(t,e){var n=e.component;t(e,8,0,n.min,n.max,ki(e,8,2,kl(e,17).transform(n.ctx.selectedDate))),t(e,22,0,n.calendarTodayText)}),(function(t,e){t(e,0,0,kl(e,8).weekNumber,kl(e,8).widgetId,kl(e,8).widgetRole,kl(e,8).calendarTabIndex,kl(e,8).ariaDisabled,kl(e,8).ariaDisabled)}))}function qq(t){return to(2,[(t()(),Nr(0,0,null,null,2,"li",[["class","k-state-default k-header k-nav-today"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],[[1,"title",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.todayClick()&&i),i}),null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,2,"li",[["class","k-state-default k-header k-nav-prev"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],[[1,"title",0],[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.prevClick()&&i),i}),null,null)),(t()(),Nr(5,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-left"],["style","pointer-events: none"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,2,"li",[["class","k-state-default k-header k-nav-next"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],[[1,"title",0],[1,"aria-label",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.nextClick()&&i),i}),null,null)),(t()(),Nr(8,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-right"],["style","pointer-events: none"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,8,"li",[["class","k-state-default k-nav-current"]],null,null,null,null,null)),(t()(),Nr(10,0,[["anchor",1]],null,7,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleSelectedDate(kl(t,10),kl(t,18))&&i),i}),null,null)),(t()(),Nr(11,0,null,null,0,"span",[["class","k-icon k-i-calendar"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,2,"span",[["class","k-sm-date-format"]],null,null,null,null,null)),(t()(),Zr(13,null,["",""])),Rl(131072,Bu,[He]),(t()(),Nr(15,0,null,null,2,"span",[["class","k-lg-date-format"]],null,null,null,null,null)),(t()(),Zr(16,null,["",""])),Rl(131072,Bu,[He]),(t()(),Fr(0,[["template",2]],null,0,null,Yq))],null,(function(t,e){var n,i,l=e.component;t(e,1,0,l.todayText),t(e,2,0,l.todayText),t(e,4,0,l.previousText,l.previousText),t(e,7,0,l.nextText,l.nextText),t(e,13,0,null==(n=ki(e,13,0,kl(e,14).transform(l.ctx.dateRange)))?null:n.shortText),t(e,16,0,null==(i=ki(e,16,0,kl(e,17).transform(l.ctx.dateRange)))?null:i.text)}))}var Gq=Ti({encapsulation:2,styles:[],data:{}});function Xq(t){return to(0,[(t()(),Nr(0,0,null,null,2,"li",[["class","k-current-view"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCurrentViewClick(n)&&i),i}),null,null)),(t()(),Zr(2,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,2,0,null==n.ctx.selectedView?null:n.ctx.selectedView.title)}))}function Kq(t){return to(0,[(t()(),Nr(0,0,null,null,5,"li",[],[[2,"k-state-selected",null]],null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(2,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Xr(3,{display:0}),(t()(),Nr(4,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onClick(t.context.$implicit)&&i),i}),null,null)),(t()(),Zr(5,null,[" "," "]))],(function(t,e){var n=t(e,3,0,e.component.itemDisplay);t(e,2,0,n)}),(function(t,e){t(e,0,0,e.component.isSelected(e.context.$implicit)),t(e,5,0,e.context.$implicit.title)}))}function Zq(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,Xq)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,Kq)),Nl(3,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,1,0,(null==n.ctx.views?null:n.ctx.views.length)>1),t(e,3,0,n.ctx.views)}),null)}var Qq=Ti({encapsulation:2,styles:[],data:{}});function Jq(t){return to(0,[(t()(),Nr(0,0,null,null,7,"li",[["class","k-state-default"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onItemClick(n,t.context.$implicit)&&i),i}),null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Nr(3,0,null,null,4,"a",[["class","k-link"],["href","#"],["tabindex","-1"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"span",[["class","k-icon"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(6,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Zr(7,null,[" "," "]))],(function(t,e){t(e,2,0,"k-state-default",e.context.$implicit.cssClass),t(e,6,0,"k-icon",e.context.$implicit.iconClass)}),(function(t,e){t(e,7,0,e.context.$implicit.text)}))}function tG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"ul",[["class","k-reset k-header"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,Jq)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.items)}),null)}var eG=Ti({encapsulation:2,styles:[],data:{}});function nG(t){return to(0,[(t()(),Nr(0,16777216,null,null,1,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(t,e){t(e,1,0,e.component.hintTemplate)}),null)}var iG=Ti({encapsulation:2,styles:[],data:{}});function lG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[["class","k-label-top"]],null,null,null,null,null)),(t()(),Zr(1,null,["",""])),qr(2,2)],null,(function(t,e){var n=e.component,i=ki(e,1,0,t(e,2,0,kl(e.parent,0),n.start,n.format));t(e,1,0,i)}))}function sG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[["class","k-label-bottom"]],null,null,null,null,null)),(t()(),Zr(1,null,["",""])),qr(2,2)],null,(function(t,e){var n=e.component,i=ki(e,1,0,t(e,2,0,kl(e.parent,0),n.end,n.format));t(e,1,0,i)}))}function rG(t){return to(0,[Rl(0,hS,[aS]),(t()(),Nr(1,0,null,null,0,"div",[["class","k-marquee-color"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,4,"div",[["class","k-marquee-text"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,lG)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,sG)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,n.hint.first),t(e,6,0,n.hint.last)}),null)}var oG=Ti({encapsulation:2,styles:[],data:{}});function aG(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-left"]],null,null,null,null,null))],null,null)}function uG(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-i-reload"]],null,null,null,null,null))],null,null)}function cG(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-i-non-recurrence"]],null,null,null,null,null))],null,null)}function hG(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{$implicit:0,event:1,resources:2}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,n.item.event,n.item.event,n.resources);t(e,1,0,i,n.eventTemplate)}),null)}function dG(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","k-event-template k-event-time"]],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.eventTime)}))}function pG(t){return to(0,[(t()(),Nr(0,0,null,null,4,"div",[],[[1,"title",0]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,dG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(3,0,null,null,1,"div",[["aria-hidden","true"],["class","k-event-template"]],null,null,null,null,null)),(t()(),Zr(4,null,["",""]))],(function(t,e){t(e,2,0,!e.component.isAllDay)}),(function(t,e){var n=e.component;t(e,0,0,n.eventTitle),t(e,4,0,n.item.event.title)}))}function mG(t){return to(0,[(t()(),Nr(0,0,null,null,1,"a",[["aria-hidden","true"],["class","k-link k-event-delete"],["href","#"],["tabindex","-1"]],[[1,"title",0],[1,"aria-label",0]],null,null,null,null)),(t()(),Nr(1,0,null,null,0,"span",[["class","k-icon k-i-close"]],null,null,null,null,null))],null,(function(t,e){var n=e.component;t(e,0,0,n.deleteMessage,n.deleteMessage)}))}function gG(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-right"]],null,null,null,null,null))],null,null)}function fG(t){return to(0,[(t()(),Nr(0,0,null,null,1,"span",[["class","k-event-top-actions"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-up"]],null,null,null,null,null))],null,null)}function bG(t){return to(0,[(t()(),Nr(0,0,null,null,1,"span",[["class","k-event-bottom-actions"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-down"]],null,null,null,null,null))],null,null)}function vG(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-resize-handle k-resize-n"]],null,null,null,null,null))],null,null)}function yG(t){return to(0,[(t()(),Nr(0,0,null,null,0,"span",[["class","k-resize-handle k-resize-s"]],null,null,null,null,null))],null,null)}function wG(t){return to(0,[(t()(),Nr(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,vG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,yG)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,!n.item.tail),t(e,4,0,!n.item.head)}),null)}function xG(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"span",[["class","k-resize-handle k-resize-w"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,0,"span",[["class","k-resize-handle k-resize-e"]],null,null,null,null,null))],null,null)}function kG(t){return to(0,[(t()(),Nr(0,0,null,null,6,"span",[["class","k-event-actions"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,aG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,uG)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,cG)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,hG)),Nl(8,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,pG)),Nl(10,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(11,0,null,null,4,"span",[["class","k-event-actions"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,mG)),Nl(13,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,gG)),Nl(15,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,fG)),Nl(17,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,bG)),Nl(19,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,wG)),Nl(21,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,xG)),Nl(23,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.item.tail&&!n.vertical),t(e,4,0,n.isRecurrence),t(e,6,0,n.isRecurrenceException),t(e,8,0,n.eventTemplate),t(e,10,0,!n.eventTemplate),t(e,13,0,n.removable),t(e,15,0,n.item.head&&!n.vertical),t(e,17,0,n.item.tail&&n.vertical),t(e,19,0,n.item.head&&n.vertical),t(e,21,0,n.resizable&&n.vertical),t(e,23,0,n.resizable&&!n.vertical)}),null)}var _G=Ti({encapsulation:2,styles:[],data:{}});function CG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"multi-day-view",[["viewName","day"]],null,null,null,PX,AG)),Ll(512,null,$W,$W,[]),Nl(2,4964352,null,0,QW,[Fb,yj,xj,aS,$W,qs,Vn,Fn,He,Kj],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],numberOfDays:[10,"numberOfDays"],scrollTime:[11,"scrollTime"],startTime:[12,"startTime"],endTime:[13,"endTime"],workDayStart:[14,"workDayStart"],workDayEnd:[15,"workDayEnd"],workWeekStart:[16,"workWeekStart"],workWeekEnd:[17,"workWeekEnd"],slotDuration:[18,"slotDuration"],slotDivisions:[19,"slotDivisions"],showWorkHours:[20,"showWorkHours"],currentTimeMarker:[21,"currentTimeMarker"],name:[22,"name"],slotFill:[23,"slotFill"],allDaySlotTemplate:[24,"allDaySlotTemplate"],allDayEventTemplate:[25,"allDayEventTemplate"],minorTimeHeaderTemplate:[26,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[27,"majorTimeHeaderTemplate"]},null),(t()(),Nr(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(t,e,n){var i=!0,l=t.component;return"itemClick"===e&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),tG,Qq)),Nl(4,49152,null,0,cW,[],null,{itemClick:"itemClick"}),Nl(5,606208,null,0,hW,[cW,Fb],{showWorkHours:[0,"showWorkHours"]},null)],(function(t,e){var n=e.component;t(e,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,n.numberOfDays,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),t(e,5,0,n.shouldShowWorkHours)}),(function(t,e){t(e,3,0,kl(e,4).hostClasses,kl(e,4).hostClasses)}))}function TG(t){return to(2,[zr(402653184,1,{template:0}),(t()(),Fr(0,[[1,2],["content",2]],null,0,null,CG))],null,null)}var SG=Ti({encapsulation:2,styles:[],data:{}});function MG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"multi-day-view",[["viewName","workWeekview"]],null,null,null,PX,AG)),Ll(512,null,$W,$W,[]),Nl(2,4964352,null,0,QW,[Fb,yj,xj,aS,$W,qs,Vn,Fn,He,Kj],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],numberOfDays:[10,"numberOfDays"],scrollTime:[11,"scrollTime"],startTime:[12,"startTime"],endTime:[13,"endTime"],workDayStart:[14,"workDayStart"],workDayEnd:[15,"workDayEnd"],workWeekStart:[16,"workWeekStart"],workWeekEnd:[17,"workWeekEnd"],slotDuration:[18,"slotDuration"],slotDivisions:[19,"slotDivisions"],showWorkHours:[20,"showWorkHours"],getStartDate:[21,"getStartDate"],getNextDate:[22,"getNextDate"],currentTimeMarker:[23,"currentTimeMarker"],name:[24,"name"],slotFill:[25,"slotFill"],allDaySlotTemplate:[26,"allDaySlotTemplate"],allDayEventTemplate:[27,"allDayEventTemplate"],minorTimeHeaderTemplate:[28,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[29,"majorTimeHeaderTemplate"]},null),(t()(),Nr(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(t,e,n){var i=!0,l=t.component;return"itemClick"===e&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),tG,Qq)),Nl(4,49152,null,0,cW,[],null,{itemClick:"itemClick"}),Nl(5,606208,null,0,hW,[cW,Fb],{showWorkHours:[0,"showWorkHours"]},null)],(function(t,e){var n=e.component;t(e,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,n.numberOfDays,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.getStartDate,n.getNextDate,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),t(e,5,0,n.shouldShowWorkHours)}),(function(t,e){t(e,3,0,kl(e,4).hostClasses,kl(e,4).hostClasses)}))}function PG(t){return to(2,[zr(402653184,1,{template:0}),(t()(),Fr(0,[[1,2],["content",2]],null,0,null,MG))],null,null)}var AG=Ti({encapsulation:2,styles:[],data:{}});function EG(t){return to(0,[(t()(),Nr(0,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"th",[],null,null,null,null,null))],null,null)}function IG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,[[11,0],["allDayCell",1]],null,1,"th",[["class","k-scheduler-times-all-day"]],null,null,null,null,null)),(t()(),Zr(2,null,["",""]))],null,(function(t,e){t(e,2,0,e.component.allDayMessage)}))}function DG(t){return to(0,[(t()(),Nr(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.getField(e.parent.context.$implicit,e.parent.parent.context.$implicit.textField))}))}function OG(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{resource:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.context.$implicit);t(e,1,0,i,n.groupHeaderTemplateRef)}),null)}function FG(t){return to(0,[(t()(),Nr(0,0,null,null,4,"th",[["class","k-slot-cell"]],[[1,"colspan",0]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,DG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,OG)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.groupHeaderTemplateRef),t(e,4,0,n.groupHeaderTemplateRef)}),(function(t,e){t(e,0,0,e.component.horizontalColspan(e.parent.context.index))}))}function NG(t){return to(0,[(t()(),Nr(0,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,FG)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(3,2)],(function(t,e){var n=e.component,i=ki(e,2,0,t(e,3,0,kl(e.parent,0),n.horizontalResources,e.context.index));t(e,2,0,i,n.itemIndex)}),null)}function RG(t){return to(0,[(t()(),Nr(0,0,null,null,2,"span",[["class","k-link k-nav-day"]],[[1,"data-dayslot-index",0]],null,null,null,null)),(t()(),Zr(1,null,["",""])),qr(2,2)],null,(function(t,e){var n=e.component;t(e,0,0,e.parent.context.index);var i=ki(e,1,0,t(e,2,0,kl(e.parent.parent.parent,1),e.parent.context.$implicit.start,n.dateFormat));t(e,1,0,i)}))}function LG(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{date:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.context.$implicit.start);t(e,1,0,i,n.dateHeaderTemplateRef)}),null)}function BG(t){return to(0,[(t()(),Nr(0,0,null,null,4,"th",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,RG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,LG)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.dateHeaderTemplateRef),t(e,4,0,n.dateHeaderTemplateRef)}),null)}function VG(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,BG)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.daySlots,n.itemIndex)}),null)}function zG(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{date:0,resources:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.context.$implicit.start,n.resourcesByIndex(e.parent.parent.context.index));t(e,1,0,i,n.allDaySlotTemplateRef)}),null)}function jG(t){return to(0,[(t()(),Nr(0,0,null,null,6,"td",[["daySlot",""]],[[1,"data-slot-index",0],[1,"data-day-slot",0]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Nl(3,212992,null,0,tU,[Fn,$W,Fb],{id:[0,"id"],start:[1,"start"],end:[2,"end"]},null),Xr(4,{resourceIndex:0,rangeIndex:1,index:2}),(t()(),Fr(16777216,null,null,1,null,zG)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.allDaySlotClass(e.context.$implicit,e.parent.context.index));var i=t(e,4,0,e.parent.context.index,0,e.context.index);t(e,3,0,i,e.context.$implicit.start,e.context.$implicit.end),t(e,6,0,n.allDaySlotTemplateRef)}),(function(t,e){t(e,0,0,kl(e,3).slotIndex,kl(e,3).daySlot)}))}function HG(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,jG)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.daySlots,n.itemIndex)}),null)}function WG(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,kG,oG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(4,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Nl(5,147456,null,0,Jj,[Fn,Vn,Yj],{focusIndex:[0,"focusIndex"]},null),Nl(6,770048,null,0,eU,[aS,$W,Fb,Yj,Fn,Vn],{item:[0,"item"],resourceIndex:[1,"resourceIndex"],index:[2,"index"],eventTemplate:[3,"eventTemplate"],editable:[4,"editable"],resources:[5,"resources"],isAllDay:[6,"isAllDay"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.getEventClasses(e.parent.context.$implicit,e.context.$implicit.resources,!0)),t(e,4,0,n.getEventStyles(e.parent.context.$implicit,e.context.$implicit,!0)),t(e,5,0,e.context.$implicit.leafIdx),t(e,6,0,e.parent.context.$implicit,e.context.$implicit.leafIdx,e.parent.context.$implicit.index,n.allDayEventTemplateRef,n.editable,e.context.$implicit.resources,!0)}),(function(t,e){t(e,0,0,kl(e,6).className,kl(e,6).taskIndex,kl(e,6).touchAction,kl(e,6).eventTitle)}))}function UG(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,WG)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit.resources,e.component.itemIndex)}),null)}function $G(t){return to(0,[(t()(),Nr(0,0,null,null,5,"div",[["class","k-event-drag-hint"],["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,kG,oG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(4,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Nl(5,770048,null,0,eU,[aS,$W,Fb,Yj,Fn,Vn],{item:[0,"item"],eventTemplate:[1,"eventTemplate"],dragHint:[2,"dragHint"],resources:[3,"resources"],isAllDay:[4,"isAllDay"]},null)],(function(t,e){var n=e.component;t(e,2,0,"k-event-drag-hint",n.dragHints[0].class),t(e,4,0,n.dragHints[0].style),t(e,5,0,n.dragHints[0].item,n.eventTemplateRef,!0,n.dragHints[0].resources,!0)}),(function(t,e){t(e,0,0,kl(e,5).className,kl(e,5).taskIndex,kl(e,5).touchAction,kl(e,5).eventTitle)}))}function YG(t){return to(0,[(t()(),Nr(0,0,null,null,3,"div",[["kendoResizeHint",""]],[[2,"k-marquee",null],[2,"k-scheduler-marquee",null],[2,"k-first",null],[2,"k-last",null],[4,"left","px"],[4,"right","px"],[4,"top","px"],[4,"width","px"],[4,"height","px"]],null,null,rG,iG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Nl(3,49152,null,0,mW,[],{hint:[0,"hint"],format:[1,"format"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.resizeHints[0].class),t(e,3,0,n.resizeHints[0],n.allDayResizeHintFormat)}),(function(t,e){t(e,0,0,kl(e,3).marqueeClasses,kl(e,3).marqueeClasses,kl(e,3).marqueeClasses,kl(e,3).marqueeClasses,kl(e,3).left,kl(e,3).left,kl(e,3).top,kl(e,3).width,kl(e,3).height)}))}function qG(t){return to(0,[(t()(),Fr(16777216,[[13,2]],null,1,null,$G)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,[[13,2]],null,1,null,YG)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.dragHints.length&&n.allDayDragHint),t(e,3,0,n.resizeHints.length&&n.allDayResizeHint)}),null)}function GG(t){return to(0,[(t()(),Nr(0,0,null,null,12,"div",[["style","position: relative;"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,4,"table",[["aria-hidden","true"],["class","k-scheduler-table k-scheduler-header-all-day"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,HG)),Nl(4,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(5,1),(t()(),Fr(16777216,null,null,2,null,UG)),Nl(7,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Rl(131072,Bu,[He]),(t()(),Nr(9,0,null,null,3,"kendo-hint-container",[],null,null,null,nG,eG)),Nl(10,49152,[[12,4],["headerHintContainer",4]],1,iW,[He],null,null),zr(603979776,13,{hintTemplate:0}),(t()(),Fr(0,[[13,2]],null,0,null,qG))],(function(t,e){var n=e.component,i=ki(e,4,0,t(e,5,0,kl(e.parent,0),n.horizontalResources));t(e,4,0,i,n.itemIndex),t(e,7,0,ki(e,7,0,kl(e,8).transform(n.allDayItems)),n.itemIndex)}),null)}function XG(t){return to(0,[(t()(),Nr(0,0,[[10,0],["currentTimeArrow",1]],null,0,"div",[["class","k-current-time k-current-time-arrow-right"]],null,null,null,null,null))],null,null)}function KG(t){return to(0,[(t()(),Nr(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,XG)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(3,1),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=ki(e,2,0,t(e,3,0,kl(e.parent,0),n.verticalResources));t(e,2,0,i,n.itemIndex)}),null)}function ZG(t){return to(0,[(t()(),Nr(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.getField(n.verticalItem(e.parent.parent.parent.parent.context.index,e.parent.parent.context.index),e.parent.parent.context.$implicit.textField))}))}function QG(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{resource:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,n.verticalItem(e.parent.parent.parent.parent.context.index,e.parent.parent.context.index));t(e,1,0,i,n.groupHeaderTemplateRef)}),null)}function JG(t){return to(0,[(t()(),Nr(0,0,null,null,4,"th",[["class","k-slot-cell"]],[[1,"rowspan",0]],null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,ZG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,QG)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,!n.groupHeaderTemplateRef),t(e,4,0,n.groupHeaderTemplateRef)}),(function(t,e){t(e,0,0,e.component.verticalRowspan(e.parent.context.index))}))}function tX(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,JG)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.component.verticalItem(e.parent.parent.context.index,e.context.index))}),null)}function eX(t){return to(0,[(t()(),Nr(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,tX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Nr(3,0,[[11,0],["allDayCell",1]],null,1,"th",[["class","k-scheduler-times-all-day"]],null,null,null,null,null)),(t()(),Zr(4,null,["",""]))],(function(t,e){var n=e.component;t(e,2,0,n.verticalResources,n.itemIndex)}),(function(t,e){t(e,4,0,e.component.allDayMessage)}))}function nX(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Zr(1,null,["",""])),qr(2,2)],null,(function(t,e){var n=ki(e,1,0,t(e,2,0,kl(e.parent.parent.parent.parent,1),e.parent.parent.context.$implicit.start,"t"));t(e,1,0,n)}))}function iX(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{date:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.parent.context.$implicit.start);t(e,1,0,i,n.majorTimeHeaderTemplateRef)}),null)}function lX(t){return to(0,[(t()(),Nr(0,0,null,null,7,"th",[],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Xr(3,{"k-slot-cell":0}),(t()(),Fr(16777216,null,null,1,null,nX)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,iX)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,1===n.slotDivisions);t(e,2,0,i),t(e,5,0,!n.majorTimeHeaderTemplateRef),t(e,7,0,n.majorTimeHeaderTemplateRef)}),null)}function sX(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{date:0}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.parent.context.$implicit.start);t(e,1,0,i,n.minorTimeHeaderTemplateRef)}),null)}function rX(t){return to(0,[(t()(),Nr(0,0,null,null,5,"th",[],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Xr(3,{"k-slot-cell":0}),(t()(),Fr(16777216,null,null,1,null,sX)),Nl(5,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,3,0,e.parent.context.index%n.slotDivisions==n.slotDivisions-1);t(e,2,0,i),t(e,5,0,n.minorTimeHeaderTemplateRef)}),null)}function oX(t){return to(0,[(t()(),Nr(0,0,null,null,4,"tr",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,lX)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,rX)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,2,0,e.context.$implicit.isMajor),t(e,4,0,!e.context.$implicit.isMajor)}),null)}function aX(t){return to(0,[(t()(),Nr(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,eX)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,oX)),Nl(4,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.verticalResources.length),t(e,4,0,n.timeSlots,n.itemIndex)}),null)}function uX(t){return to(0,[(t()(),Nr(0,0,[[9,0],["currentTimeMarker",1]],null,0,"div",[["class","k-current-time"]],null,null,null,null,null))],null,null)}function cX(t){return to(0,[(t()(),Nr(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,uX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(3,1),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=ki(e,2,0,t(e,3,0,kl(e.parent,0),n.verticalResources));t(e,2,0,i,n.itemIndex)}),null)}function hX(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{date:0,resources:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.context.$implicit.start,n.resourcesByIndex(e.parent.parent.parent.context.index));t(e,1,0,i,n.allDaySlotTemplateRef)}),null)}function dX(t){return to(0,[(t()(),Nr(0,0,null,null,4,"td",[["daySlot",""]],[[1,"data-slot-index",0],[1,"data-day-slot",0]],null,null,null,null)),Nl(1,212992,null,0,tU,[Fn,$W,Fb],{id:[0,"id"],start:[1,"start"],end:[2,"end"]},null),Xr(2,{resourceIndex:0,rangeIndex:1,index:2}),(t()(),Fr(16777216,null,null,1,null,hX)),Nl(4,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component,i=t(e,2,0,e.parent.parent.context.index,0,e.context.index);t(e,1,0,i,e.context.$implicit.start,e.context.$implicit.end),t(e,4,0,n.allDaySlotTemplateRef)}),(function(t,e){t(e,0,0,kl(e,1).slotIndex,kl(e,1).daySlot)}))}function pX(t){return to(0,[(t()(),Nr(0,0,null,null,2,"tr",[["class","k-scheduler-header-all-day"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,dX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.daySlots,n.itemIndex)}),null)}function mX(t){return to(0,[(t()(),Nr(0,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(1,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(2,{date:0,resources:1}),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component,i=t(e,2,0,kl(e.parent,3).startLocalTime,n.resourcesByIndex(kl(e.parent,3).id.resourceIndex));t(e,1,0,i,n.timeSlotTemplateRef)}),null)}function gX(t){return to(0,[(t()(),Nr(0,0,null,null,6,"td",[["timeSlot",""]],[[2,"k-nonwork-hour",null],[1,"data-slot-index",0],[2,"k-nonwork-hour",null]],null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Nl(3,212992,[["timeSlot",4]],0,JW,[Fn,$W,Fb],{id:[0,"id"],invariantStart:[1,"invariantStart"],invariantEnd:[2,"invariantEnd"],workDayStart:[3,"workDayStart"],workDayEnd:[4,"workDayEnd"],workWeekStart:[5,"workWeekStart"],workWeekEnd:[6,"workWeekEnd"],date:[7,"date"]},null),Xr(4,{resourceIndex:0,rangeIndex:1,index:2}),(t()(),Fr(16777216,null,null,1,null,mX)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.timeSlotClass(e.parent.parent.context.$implicit,e.context.$implicit.start,n.verticalResources.length?e.parent.parent.parent.context.index:e.parent.context.index));var i=t(e,4,0,n.verticalResources.length?e.parent.parent.parent.context.index:e.parent.context.index,e.context.index,e.parent.parent.context.index);t(e,3,0,i,e.parent.parent.context.$implicit.start,e.parent.parent.context.$implicit.end,n.workDayStartTime,n.workDayEndTime,n.workWeekStart,n.workWeekEnd,e.context.$implicit.start),t(e,6,0,n.timeSlotTemplateRef)}),(function(t,e){t(e,0,0,e.parent.parent.context.$implicit.isWorkHour,kl(e,3).slotIndex,kl(e,3).nonWorkHour)}))}function fX(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,gX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.daySlots,n.itemIndex)}),null)}function bX(t){return to(0,[(t()(),Nr(0,0,null,null,3,"tr",[],[[2,"k-middle-row",null]],null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,fX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(3,1)],(function(t,e){var n=e.component,i=ki(e,2,0,t(e,3,0,kl(e.parent.parent,0),n.horizontalResources));t(e,2,0,i,n.itemIndex)}),(function(t,e){t(e,0,0,e.context.$implicit.isMajor)}))}function vX(t){return to(0,[(t()(),Nr(0,0,null,null,4,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,pX)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,bX)),Nl(4,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.verticalResources.length),t(e,4,0,n.timeSlots,n.itemIndex)}),null)}function yX(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,kG,oG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(4,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Nl(5,147456,null,0,Jj,[Fn,Vn,Yj],{focusIndex:[0,"focusIndex"]},null),Nl(6,770048,null,0,eU,[aS,$W,Fb,Yj,Fn,Vn],{item:[0,"item"],resourceIndex:[1,"resourceIndex"],index:[2,"index"],eventTemplate:[3,"eventTemplate"],editable:[4,"editable"],resources:[5,"resources"],vertical:[6,"vertical"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.getEventClasses(e.parent.context.$implicit,e.context.$implicit.resources)),t(e,4,0,n.getEventStyles(e.parent.context.$implicit,e.context.$implicit)),t(e,5,0,e.context.$implicit.leafIdx),t(e,6,0,e.parent.context.$implicit,e.context.$implicit.leafIdx,e.parent.context.$implicit.index,n.eventTemplateRef,n.editable,e.context.$implicit.resources,!0)}),(function(t,e){t(e,0,0,kl(e,6).className,kl(e,6).taskIndex,kl(e,6).touchAction,kl(e,6).eventTitle)}))}function wX(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,yX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit.resources,e.component.itemIndex)}),null)}function xX(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,kG,oG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(4,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Nl(5,147456,null,0,Jj,[Fn,Vn,Yj],{focusIndex:[0,"focusIndex"]},null),Nl(6,770048,null,0,eU,[aS,$W,Fb,Yj,Fn,Vn],{item:[0,"item"],resourceIndex:[1,"resourceIndex"],index:[2,"index"],eventTemplate:[3,"eventTemplate"],editable:[4,"editable"],resources:[5,"resources"],isAllDay:[6,"isAllDay"]},null)],(function(t,e){var n=e.component;t(e,2,0,n.getEventClasses(e.parent.context.$implicit,e.context.$implicit.resources,!0)),t(e,4,0,n.getEventStyles(e.parent.context.$implicit,e.context.$implicit,!0)),t(e,5,0,e.context.$implicit.leafIdx),t(e,6,0,e.parent.context.$implicit,e.context.$implicit.leafIdx,e.parent.context.$implicit.index,n.allDayEventTemplateRef,n.editable,e.context.$implicit.resources,!0)}),(function(t,e){t(e,0,0,kl(e,6).className,kl(e,6).taskIndex,kl(e,6).touchAction,kl(e,6).eventTitle)}))}function kX(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,xX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.context.$implicit.resources,e.component.itemIndex)}),null)}function _X(t){return to(0,[(t()(),Nr(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,kX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Rl(131072,Bu,[He]),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,ki(e,2,0,kl(e,3).transform(n.allDayItems)),n.itemIndex)}),null)}function CX(t){return to(0,[(t()(),Nr(0,0,null,null,5,"div",[["class","k-event-drag-hint"],["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,kG,oG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(4,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null),Nl(5,770048,null,0,eU,[aS,$W,Fb,Yj,Fn,Vn],{item:[0,"item"],eventTemplate:[1,"eventTemplate"],dragHint:[2,"dragHint"],resources:[3,"resources"],isAllDay:[4,"isAllDay"]},null)],(function(t,e){var n=e.component;t(e,2,0,"k-event-drag-hint",n.dragHints[0].class),t(e,4,0,n.dragHints[0].style),t(e,5,0,n.dragHints[0].item,n.eventTemplateRef,!0,n.dragHints[0].resources,n.allDayDragHint)}),(function(t,e){t(e,0,0,kl(e,5).className,kl(e,5).taskIndex,kl(e,5).touchAction,kl(e,5).eventTitle)}))}function TX(t){return to(0,[(t()(),Nr(0,0,null,null,3,"div",[["kendoResizeHint",""]],[[2,"k-marquee",null],[2,"k-scheduler-marquee",null],[2,"k-first",null],[2,"k-last",null],[4,"left","px"],[4,"right","px"],[4,"top","px"],[4,"width","px"],[4,"height","px"]],null,null,rG,iG)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(2,278528,null,0,xu,[vu],{ngClass:[0,"ngClass"]},null),Nl(3,49152,null,0,mW,[],{hint:[0,"hint"],format:[1,"format"]},null)],(function(t,e){var n=e.component;t(e,2,0,e.context.$implicit.class),t(e,3,0,e.context.$implicit,n.allDayResizeHint?n.allDayResizeHintFormat:n.resizeHintFormat)}),(function(t,e){t(e,0,0,kl(e,3).marqueeClasses,kl(e,3).marqueeClasses,kl(e,3).marqueeClasses,kl(e,3).marqueeClasses,kl(e,3).left,kl(e,3).left,kl(e,3).top,kl(e,3).width,kl(e,3).height)}))}function SX(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,[[14,2]],null,1,null,TX)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,2,0,n.resizeHints,n.itemIndex)}),null)}function MX(t){return to(0,[(t()(),Fr(16777216,[[14,2]],null,1,null,CX)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,[[14,2]],null,1,null,SX)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){var n=e.component;t(e,1,0,n.dragHints.length&&(!n.allDayDragHint||n.verticalResources.length)),t(e,3,0,n.resizeHints.length&&(!n.allDayResizeHint||n.verticalResources.length))}),null)}function PX(t){return to(0,[Rl(0,pW,[]),Rl(0,hS,[aS]),zr(402653184,1,{content:0}),zr(402653184,2,{header:0}),zr(402653184,3,{contentTable:0}),zr(402653184,4,{times:0}),zr(402653184,5,{timesHeader:0}),zr(402653184,6,{timesTable:0}),zr(402653184,7,{headerWrap:0}),zr(402653184,8,{hintContainer:0}),zr(671088640,9,{currentTimeElements:1}),zr(671088640,10,{currentTimeArrows:1}),zr(671088640,11,{dayCells:1}),zr(671088640,12,{headerHintContainer:0}),(t()(),Nr(14,0,null,null,47,"div",[["class","k-scheduler-layout k-scheduler-flex-layout"]],null,null,null,null,null)),Ll(512,null,vu,yu,[Jn,ti,Fn,Vn]),Nl(16,278528,null,0,xu,[vu],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(t()(),Nr(17,0,null,null,20,"div",[["class","k-scheduler-pane"]],null,null,null,null,null)),(t()(),Nr(18,0,[[5,0],["timesHeader",1]],null,8,"div",[["class","k-scheduler-times"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,7,"table",[["aria-hidden","true"],["class","k-scheduler-table"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,EG)),Nl(21,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Nr(22,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u200b"])),(t()(),Fr(16777216,null,null,1,null,IG)),Nl(26,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(27,0,[[2,0],["header",1]],null,10,"div",[["class","k-scheduler-header k-state-default"]],null,null,null,null,null)),(t()(),Nr(28,0,[[7,0],["headerWrap",1]],null,9,"div",[["class","k-scheduler-header-wrap"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,6,"table",[["aria-hidden","true"],["class","k-scheduler-table"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,NG)),Nl(31,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(t()(),Nr(32,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,VG)),Nl(34,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(35,1),(t()(),Fr(16777216,null,null,1,null,GG)),Nl(37,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(38,0,null,null,23,"div",[["class","k-scheduler-pane"]],null,null,null,null,null)),(t()(),Nr(39,0,[[4,0],["times",1]],null,6,"div",[["class","k-scheduler-times"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,KG)),Nl(41,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(42,0,[[6,0],["timesTable",1]],null,3,"table",[["aria-hidden","true"],["class","k-scheduler-table"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,aX)),Nl(44,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(45,1),(t()(),Nr(46,0,[[1,0],["content",1]],null,15,"div",[["class","k-scheduler-content"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,cX)),Nl(48,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(49,0,[[3,0],["contentTable",1]],null,3,"table",[["class","k-scheduler-table"],["role","presentation"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,2,null,vX)),Nl(51,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),qr(52,1),(t()(),Fr(16777216,null,null,2,null,wX)),Nl(54,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Rl(131072,Bu,[He]),(t()(),Fr(16777216,null,null,1,null,_X)),Nl(57,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(58,0,null,null,3,"kendo-hint-container",[],null,null,null,nG,eG)),Nl(59,49152,[[8,4],["hintContainer",4]],1,iW,[He],null,null),zr(603979776,14,{hintTemplate:0}),(t()(),Fr(0,[[14,2]],null,0,null,MX))],(function(t,e){var n=e.component;t(e,16,0,"k-scheduler-layout k-scheduler-flex-layout",n.classNames),t(e,21,0,n.horizontalResources,n.itemIndex),t(e,26,0,!n.verticalResources.length),t(e,31,0,n.horizontalResources,n.itemIndex);var i=ki(e,34,0,t(e,35,0,kl(e,0),n.horizontalResources));t(e,34,0,i,n.itemIndex),t(e,37,0,!n.verticalResources.length),t(e,41,0,n.showCurrentTime);var l=ki(e,44,0,t(e,45,0,kl(e,0),n.verticalResources));t(e,44,0,l,n.itemIndex),t(e,48,0,n.showCurrentTime);var s=ki(e,51,0,t(e,52,0,kl(e,0),n.verticalResources));t(e,51,0,s,n.itemIndex),t(e,54,0,ki(e,54,0,kl(e,55).transform(n.items)),n.itemIndex),t(e,57,0,n.verticalResources.length)}),null)}var AX=Ti({encapsulation:2,styles:[],data:{}});function EX(t){return to(0,[(t()(),Nr(0,0,null,null,7,"kendo-timepicker",[],[[2,"k-widget",null],[2,"k-timepicker",null],[2,"k-header",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==(l.date=n)&&i),"valueChange"===e&&(i=!1!==l.onValueChange(n)&&i),i}),YU,UU)),Ll(5120,null,By,(function(t){return[t]}),[MA]),Ll(5120,null,Ky,(function(t){return[t]}),[MA]),Ll(6144,null,Mf,null,[MA]),Ll(256,null,Ob,"kendo.timepicker",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,BP,BP,[]),Nl(7,770048,null,0,MA,[qs,Fb,He,yb,Fn,Vn,sn,BP,aS,[2,bA]],{value:[0,"value"]},{valueChange:"valueChange"})],(function(t,e){t(e,7,0,e.component.date)}),(function(t,e){t(e,0,0,kl(e,7).wrapperClasses,kl(e,7).wrapperClasses,kl(e,7).wrapperClasses,kl(e,7).disabledClass)}))}function IX(t){return to(0,[zr(402653184,1,{datePicker:0}),(t()(),Nr(1,0,null,null,16,"kendo-datepicker",[],[[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-header",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==(l.date=n)&&i),"valueChange"===e&&(i=!1!==l.onValueChange(n)&&i),i}),WU,zU)),Ll(5120,null,By,(function(t){return[t]}),[kA]),Ll(5120,null,Ky,(function(t){return[t]}),[kA]),Ll(6144,null,Mf,null,[kA]),Ll(256,null,Ob,"kendo.datepicker",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,BP,BP,[]),Ll(512,null,XP,XP,[]),Nl(9,770048,[[1,4],["datepicker",4]],8,kA,[qs,Fb,He,yb,Fn,Vn,sn,BP,XP,[2,bA]],{value:[0,"value"]},{valueChange:"valueChange"}),zr(335544320,2,{cellTemplate:0}),zr(335544320,3,{monthCellTemplate:0}),zr(335544320,4,{yearCellTemplate:0}),zr(335544320,5,{decadeCellTemplate:0}),zr(335544320,6,{centuryCellTemplate:0}),zr(335544320,7,{weekNumberTemplate:0}),zr(335544320,8,{headerTitleTemplate:0}),zr(335544320,9,{navigationItemTemplate:0}),(t()(),Fr(16777216,null,null,1,null,EX)),Nl(19,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,9,0,n.date),t(e,19,0,!n.isAllDay)}),(function(t,e){t(e,1,0,kl(e,9).wrapperClasses,kl(e,9).wrapperClasses,kl(e,9).wrapperClasses,kl(e,9).disabledClass)}))}var DX=Ti({encapsulation:2,styles:[],data:{}});function OX(t){return to(0,[zr(671088640,1,{endRuleRadioButtons:1}),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onEndLabelClick()&&i),i}),null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,42,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,41,"ul",[["class","k-reset"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),Nl(8,2310144,[[1,4]],0,kU,[Fn,Vn,vU,He],{endRuleId:[0,"endRuleId"]},null),(t()(),Nr(9,0,null,null,1,"label",[["class","k-radio-label"],["for","k-endrule-never"]],null,null,null,null,null)),(t()(),Zr(10,null,["",""])),(t()(),Nr(11,0,null,null,13,"li",[],null,null,null,null,null)),(t()(),Nr(12,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),Nl(13,2310144,[[1,4]],0,kU,[Fn,Vn,vU,He],{endRuleId:[0,"endRuleId"]},null),(t()(),Nr(14,0,null,null,1,"label",[["class","k-radio-label"],["for","k-endrule-count"]],null,null,null,null,null)),(t()(),Zr(15,null,["",""])),(t()(),Nr(16,0,null,null,6,"kendo-numerictextbox",[],[[4,"width","px"],[1,"dir",0],[2,"k-widget",null],[2,"k-numerictextbox",null]],[[null,"valueChange"],[null,"blur"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==(l.countValue=n)&&i),"blur"===e&&(i=!1!==l.onCountBlur()&&i),"valueChange"===e&&(i=!1!==l.onCountChange(n)&&i),i}),U$,H$)),Ll(5120,null,By,(function(t){return[t]}),[rj]),Ll(5120,null,Ky,(function(t){return[t]}),[rj]),Ll(6144,null,Mf,null,[rj]),Ll(256,null,Ob,"kendo.numerictextbox",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(22,770048,null,0,rj,[aS,Vn,Fb,sn,qs,He,Fn],{disabled:[0,"disabled"],autoCorrect:[1,"autoCorrect"],format:[2,"format"],min:[3,"min"],decimals:[4,"decimals"],value:[5,"value"]},{valueChange:"valueChange",onBlur:"blur"}),(t()(),Nr(23,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Zr(24,null,["",""])),(t()(),Nr(25,0,null,null,21,"li",[],null,null,null,null,null)),(t()(),Nr(26,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),Nl(27,2310144,[[1,4]],0,kU,[Fn,Vn,vU,He],{endRuleId:[0,"endRuleId"]},null),(t()(),Nr(28,0,null,null,1,"label",[["class","k-radio-label"],["for","k-endrule-until"]],null,null,null,null,null)),(t()(),Zr(29,null,["",""])),(t()(),Nr(30,0,null,null,16,"kendo-datepicker",[],[[4,"width","px"],[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-header",null],[2,"k-state-disabled",null]],[[null,"valueChange"],[null,"blur"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==(l.untilValue=n)&&i),"blur"===e&&(i=!1!==l.onUntilBlur()&&i),"valueChange"===e&&(i=!1!==l.onUntilChange(n)&&i),i}),WU,zU)),Ll(5120,null,By,(function(t){return[t]}),[kA]),Ll(5120,null,Ky,(function(t){return[t]}),[kA]),Ll(6144,null,Mf,null,[kA]),Ll(256,null,Ob,"kendo.datepicker",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,BP,BP,[]),Ll(512,null,XP,XP,[]),Nl(38,770048,null,8,kA,[qs,Fb,He,yb,Fn,Vn,sn,BP,XP,[2,bA]],{disabled:[0,"disabled"],value:[1,"value"]},{valueChange:"valueChange",onBlur:"blur"}),zr(335544320,2,{cellTemplate:0}),zr(335544320,3,{monthCellTemplate:0}),zr(335544320,4,{yearCellTemplate:0}),zr(335544320,5,{decadeCellTemplate:0}),zr(335544320,6,{centuryCellTemplate:0}),zr(335544320,7,{weekNumberTemplate:0}),zr(335544320,8,{headerTitleTemplate:0}),zr(335544320,9,{navigationItemTemplate:0})],(function(t,e){var n=e.component;t(e,8,0,"k-endrule-never"),t(e,13,0,"k-endrule-count"),t(e,22,0,n.isCountDisabled,!0,"#",1,0,n.countValue),t(e,27,0,"k-endrule-until"),t(e,38,0,n.isUntilDisabled,n.untilValue)}),(function(t,e){var n=e.component;t(e,3,0,n.textFor("endLabel")),t(e,7,0,kl(e,8).type,kl(e,8).name,kl(e,8).radioClass),t(e,10,0,n.textFor("endNever")),t(e,12,0,kl(e,13).type,kl(e,13).name,kl(e,13).radioClass),t(e,15,0,n.textFor("endAfter")),t(e,16,0,70,kl(e,22).direction,kl(e,22).widgetClasses,kl(e,22).widgetClasses),t(e,24,0,n.textFor("endOccurrence")),t(e,26,0,kl(e,27).type,kl(e,27).name,kl(e,27).radioClass),t(e,29,0,n.textFor("endOn")),t(e,30,0,150,kl(e,38).wrapperClasses,kl(e,38).wrapperClasses,kl(e,38).wrapperClasses,kl(e,38).disabledClass)}))}var FX=Ti({encapsulation:2,styles:[],data:{}});function NX(t){return to(0,[(t()(),Nr(0,0,null,null,4,"button",[["kendoButton",""]],[[4,"width","px"],[2,"k-button",null],[2,"k-primary",null],[2,"k-flat",null],[2,"k-bare",null],[2,"k-outline",null],[1,"aria-disabled",0],[2,"k-state-disabled",null],[1,"aria-pressed",0],[2,"k-state-active",null],[1,"dir",0]],[[null,"click"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,l=t.component;return"focus"===e&&(i=!1!==kl(t,3).onFocus()&&i),"blur"===e&&(i=!1!==kl(t,3).onBlur()&&i),"click"===e&&(i=!1!==l.onClick(t.context.$implicit)&&i),i}),null,null)),Ll(256,null,Ob,"kendo.button",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(3,9125888,[[2,4],[1,4]],0,zb,[Fn,Vn,[2,Bb],Fb,qs],{togglable:[0,"togglable"],selected:[1,"selected"]},{click:"click"}),(t()(),Zr(4,null,["",""]))],(function(t,e){t(e,3,0,!0,e.context.$implicit.value===e.component.selected)}),(function(t,e){t(e,0,1,[100,kl(e,3).classButton,kl(e,3).classPrimary,kl(e,3).isFlat,kl(e,3).isBare,kl(e,3).isOutline,kl(e,3).classDisabled,kl(e,3).classDisabled,kl(e,3).classActive,kl(e,3).classActive,kl(e,3).getDirection]),t(e,4,0,e.context.$implicit.text)}))}function RX(t){return to(0,[zr(671088640,1,{weekDayButtons:1}),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onFrequencyClick()&&i),i}),null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,8,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,7,"kendo-buttongroup",[],[[2,"k-button-group",null],[2,"k-state-disabled",null],[2,"k-button-group-stretched",null],[2,"k-button-group-flat",null],[2,"k-button-group-bare",null],[2,"k-button-group-outline",null],[1,"role",0],[1,"dir",0],[1,"aria-disalbed",0],[4,"width",null],[1,"tabindex",0]],[[null,"keydown"],[null,"focus"],[null,"focusout"]],(function(t,e,n){var i=!0;return"keydown"===e&&(i=!1!==kl(t,9).keydown(n)&&i),"focus"===e&&(i=!1!==kl(t,9).onFocus()&&i),"focusout"===e&&(i=!1!==kl(t,9).focusout(n)&&i),i}),Y$,$$)),Ll(512,null,Bb,Bb,[]),Ll(256,null,Ob,"kendo.buttongroup",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(9,12304384,null,1,$b,[Bb,Fb,Fn],{selection:[0,"selection"]},null),zr(603979776,2,{buttons:1}),(t()(),Fr(16777216,null,0,1,null,NX)),Nl(12,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,9,0,"single"),t(e,12,0,n.frequencies)}),(function(t,e){t(e,3,0,e.component.textFor("repeat")),t(e,5,1,[kl(e,9).wrapperClass,kl(e,9).disabledClass,kl(e,9).stretchedClass,kl(e,9).isFlat,kl(e,9).isBare,kl(e,9).isOutline,kl(e,9).getRole,kl(e,9).dir,kl(e,9).ariaDisabled,kl(e,9).wrapperWidth,kl(e,9).wrapperTabIndex])}))}var LX=Ti({encapsulation:2,styles:[],data:{}});function BX(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,10).focus()&&i),i}),null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,9,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,6,"kendo-numerictextbox",[],[[4,"width","px"],[1,"dir",0],[2,"k-widget",null],[2,"k-numerictextbox",null]],[[null,"valueChange"],[null,"blur"]],(function(t,e,n){var i=!0,l=t.component;return"valueChange"===e&&(i=!1!==(l.intervalValue=n)&&i),"blur"===e&&(i=!1!==l.onIntervalBlur()&&i),"valueChange"===e&&(i=!1!==l.onIntervalChange(n)&&i),i}),U$,H$)),Ll(5120,null,By,(function(t){return[t]}),[rj]),Ll(5120,null,Ky,(function(t){return[t]}),[rj]),Ll(6144,null,Mf,null,[rj]),Ll(256,null,Ob,"kendo.numerictextbox",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(10,770048,[["intervalNumeric",4]],0,rj,[aS,Vn,Fb,sn,qs,He,Fn],{autoCorrect:[0,"autoCorrect"],format:[1,"format"],min:[2,"min"],decimals:[3,"decimals"],value:[4,"value"]},{valueChange:"valueChange",onBlur:"blur"}),(t()(),Nr(11,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Zr(12,null,["",""]))],(function(t,e){t(e,10,0,!0,"#",1,0,e.component.intervalValue)}),(function(t,e){var n=e.component;t(e,2,0,n.textForRepeatEvery()),t(e,4,0,70,kl(e,10).direction,kl(e,10).widgetClasses,kl(e,10).widgetClasses),t(e,12,0,n.textForFrequency())}))}var VX=Ti({encapsulation:2,styles:[],data:{}});function zX(t){return to(0,[(t()(),Zr(0,null,[" "," "]))],null,(function(t,e){t(e,0,0,e.component.textFor("monthlyDay"))}))}function jX(t){return to(0,[(t()(),Nr(0,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onMonthChange(n,"monthday")&&i),i}),kY,sY)),Ll(5120,null,By,(function(t){return[t]}),[zO]),Ll(6144,null,EO,null,[zO]),Ll(6144,null,Mf,null,[zO]),Ll(256,null,Ob,"kendo.dropdownlist",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,kO,kO,[]),Ll(512,null,CO,CO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(10,770048,null,7,zO,[Fb,yb,kO,PO,TO,CO,qs,Vn,Fn,He,[2,NO]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),zr(335544320,2,{itemTemplate:0}),zr(335544320,3,{groupTemplate:0}),zr(335544320,4,{fixedGroupTemplate:0}),zr(335544320,5,{valueTemplate:0}),zr(335544320,6,{headerTemplate:0}),zr(335544320,7,{footerTemplate:0}),zr(335544320,8,{noDataTemplate:0})],(function(t,e){var n=e.component;t(e,10,0,n.months,n.currentMonthMonthDay,"text","value",n.isDisabled("monthday"),!0)}),(function(t,e){t(e,0,0,kl(e,10).widgetClasses,kl(e,10).widgetClasses,kl(e,10).widgetClasses,kl(e,10).dir)}))}function HX(t){return to(0,[(t()(),Nr(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""])),(t()(),Nr(2,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onMonthChange(n,"weekday")&&i),i}),kY,sY)),Ll(5120,null,By,(function(t){return[t]}),[zO]),Ll(6144,null,EO,null,[zO]),Ll(6144,null,Mf,null,[zO]),Ll(256,null,Ob,"kendo.dropdownlist",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,kO,kO,[]),Ll(512,null,CO,CO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(12,770048,null,7,zO,[Fb,yb,kO,PO,TO,CO,qs,Vn,Fn,He,[2,NO]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),zr(335544320,23,{itemTemplate:0}),zr(335544320,24,{groupTemplate:0}),zr(335544320,25,{fixedGroupTemplate:0}),zr(335544320,26,{valueTemplate:0}),zr(335544320,27,{headerTemplate:0}),zr(335544320,28,{footerTemplate:0}),zr(335544320,29,{noDataTemplate:0})],(function(t,e){var n=e.component;t(e,12,0,n.months,n.currentMonthWeekDay,"text","value",n.isDisabled("weekday"),!0)}),(function(t,e){t(e,1,0,e.component.textFor("yearlyOf")),t(e,2,0,kl(e,12).widgetClasses,kl(e,12).widgetClasses,kl(e,12).widgetClasses,kl(e,12).dir)}))}function WX(t){return to(0,[zr(671088640,1,{repeatOnRadioButtons:1}),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onRepeatOnLabelClick()&&i),i}),null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,58,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,57,"ul",[["class","k-reset"]],[[4,"width","px"]],null,null,null,null)),(t()(),Nr(6,0,null,null,14,"li",[],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),Nl(8,2310144,[[1,4]],0,TU,[Fn,Vn,vU,He],{repeatOnRule:[0,"repeatOnRule"]},null),(t()(),Nr(9,0,null,null,2,"label",[["class","k-radio-label"],["for","k-repeaton-monthday"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,zX)),Nl(11,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,jX)),Nl(13,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(14,0,null,null,6,"kendo-numerictextbox",[],[[4,"width","px"],[1,"dir",0],[2,"k-widget",null],[2,"k-numerictextbox",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onMonthDayChange(n)&&i),i}),U$,H$)),Ll(5120,null,By,(function(t){return[t]}),[rj]),Ll(5120,null,Ky,(function(t){return[t]}),[rj]),Ll(6144,null,Mf,null,[rj]),Ll(256,null,Ob,"kendo.numerictextbox",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(20,770048,null,0,rj,[aS,Vn,Fb,sn,qs,He,Fn],{disabled:[0,"disabled"],autoCorrect:[1,"autoCorrect"],format:[2,"format"],max:[3,"max"],min:[4,"min"],decimals:[5,"decimals"],value:[6,"value"]},{valueChange:"valueChange"}),(t()(),Nr(21,0,null,null,41,"li",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),Nl(23,2310144,[[1,4]],0,TU,[Fn,Vn,vU,He],{repeatOnRule:[0,"repeatOnRule"]},null),(t()(),Nr(24,0,null,null,0,"label",[["class","k-radio-label"],["for","k-repeaton-weekday"]],null,null,null,null,null)),(t()(),Nr(25,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onOffsetPositionChange(n)&&i),i}),kY,sY)),Ll(5120,null,By,(function(t){return[t]}),[zO]),Ll(6144,null,EO,null,[zO]),Ll(6144,null,Mf,null,[zO]),Ll(256,null,Ob,"kendo.dropdownlist",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,kO,kO,[]),Ll(512,null,CO,CO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(35,770048,null,7,zO,[Fb,yb,kO,PO,TO,CO,qs,Vn,Fn,He,[2,NO]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),zr(335544320,9,{itemTemplate:0}),zr(335544320,10,{groupTemplate:0}),zr(335544320,11,{fixedGroupTemplate:0}),zr(335544320,12,{valueTemplate:0}),zr(335544320,13,{headerTemplate:0}),zr(335544320,14,{footerTemplate:0}),zr(335544320,15,{noDataTemplate:0}),(t()(),Nr(43,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onWeekDayChange(n)&&i),i}),kY,sY)),Ll(5120,null,By,(function(t){return[t]}),[zO]),Ll(6144,null,EO,null,[zO]),Ll(6144,null,Mf,null,[zO]),Ll(256,null,Ob,"kendo.dropdownlist",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,kO,kO,[]),Ll(512,null,CO,CO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(53,770048,null,7,zO,[Fb,yb,kO,PO,TO,CO,qs,Vn,Fn,He,[2,NO]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),zr(335544320,16,{itemTemplate:0}),zr(335544320,17,{groupTemplate:0}),zr(335544320,18,{fixedGroupTemplate:0}),zr(335544320,19,{valueTemplate:0}),zr(335544320,20,{headerTemplate:0}),zr(335544320,21,{footerTemplate:0}),zr(335544320,22,{noDataTemplate:0}),(t()(),Fr(16777216,null,null,1,null,HX)),Nl(62,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,8,0,"monthday"),t(e,11,0,"monthly"===n.currentFreq),t(e,13,0,"yearly"===n.currentFreq),t(e,20,0,n.isDisabled("monthday"),!0,"#",31,1,0,n.monthDay),t(e,23,0,"weekday"),t(e,35,0,n.offsetPositions,n.offset,"text","value",n.isDisabled("weekday"),!0),t(e,53,0,n.extendedWeekDays,n.weekDay,"text","value",n.isDisabled("weekday"),!0),t(e,62,0,"yearly"===n.currentFreq)}),(function(t,e){t(e,3,0,e.component.textForRepeatOn()),t(e,5,0,650),t(e,7,0,kl(e,8).type,kl(e,8).name,kl(e,8).radioClass),t(e,14,0,70,kl(e,20).direction,kl(e,20).widgetClasses,kl(e,20).widgetClasses),t(e,22,0,kl(e,23).type,kl(e,23).name,kl(e,23).radioClass),t(e,25,0,kl(e,35).widgetClasses,kl(e,35).widgetClasses,kl(e,35).widgetClasses,kl(e,35).dir),t(e,43,0,kl(e,53).widgetClasses,kl(e,53).widgetClasses,kl(e,53).widgetClasses,kl(e,53).dir)}))}var UX=Ti({encapsulation:2,styles:[],data:{}});function $X(t){return to(0,[(t()(),Nr(0,0,null,null,4,"button",[["kendoButton",""]],[[4,"width","px"],[2,"k-button",null],[2,"k-primary",null],[2,"k-flat",null],[2,"k-bare",null],[2,"k-outline",null],[1,"aria-disabled",0],[2,"k-state-disabled",null],[1,"aria-pressed",0],[2,"k-state-active",null],[1,"dir",0]],[[null,"selectedChange"],[null,"focus"],[null,"blur"]],(function(t,e,n){var i=!0,l=t.component;return"focus"===e&&(i=!1!==kl(t,3).onFocus()&&i),"blur"===e&&(i=!1!==kl(t,3).onBlur()&&i),"selectedChange"===e&&(i=!1!==l.onSelectedChange(n,t.context.$implicit.value)&&i),i}),null,null)),Ll(256,null,Ob,"kendo.button",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(3,9125888,[[2,4],[1,4]],0,zb,[Fn,Vn,[2,Bb],Fb,qs],{toggleable:[0,"toggleable"],selected:[1,"selected"]},{selectedChange:"selectedChange"}),(t()(),Zr(4,null,["",""]))],(function(t,e){t(e,3,0,!0,e.component.isSelected(e.context.$implicit))}),(function(t,e){var n=e.component;t(e,0,1,[75,kl(e,3).classButton,kl(e,3).classPrimary,kl(e,3).isFlat,kl(e,3).isBare,kl(e,3).isOutline,kl(e,3).classDisabled,kl(e,3).classDisabled,kl(e,3).classActive,kl(e,3).classActive,kl(e,3).getDirection]),t(e,4,0,n.capitalize(e.context.$implicit.text))}))}function YX(t){return to(0,[zr(671088640,1,{weekDayButtons:1}),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onWeeklyRepeatOnClick()&&i),i}),null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,8,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,7,"kendo-buttongroup",[],[[2,"k-button-group",null],[2,"k-state-disabled",null],[2,"k-button-group-stretched",null],[2,"k-button-group-flat",null],[2,"k-button-group-bare",null],[2,"k-button-group-outline",null],[1,"role",0],[1,"dir",0],[1,"aria-disalbed",0],[4,"width",null],[1,"tabindex",0]],[[null,"keydown"],[null,"focus"],[null,"focusout"]],(function(t,e,n){var i=!0;return"keydown"===e&&(i=!1!==kl(t,9).keydown(n)&&i),"focus"===e&&(i=!1!==kl(t,9).onFocus()&&i),"focusout"===e&&(i=!1!==kl(t,9).focusout(n)&&i),i}),Y$,$$)),Ll(512,null,Bb,Bb,[]),Ll(256,null,Ob,"kendo.buttongroup",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(9,12304384,null,1,$b,[Bb,Fb,Fn],{selection:[0,"selection"]},null),zr(603979776,2,{buttons:1}),(t()(),Fr(16777216,null,0,1,null,$X)),Nl(12,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,9,0,"multiple"),t(e,12,0,n.weekDays)}),(function(t,e){t(e,3,0,e.component.textFor("weeklyRepeatOn")),t(e,5,1,[kl(e,9).wrapperClass,kl(e,9).disabledClass,kl(e,9).stretchedClass,kl(e,9).isFlat,kl(e,9).isBare,kl(e,9).isOutline,kl(e,9).getRole,kl(e,9).dir,kl(e,9).ariaDisabled,kl(e,9).wrapperWidth,kl(e,9).wrapperTabIndex])}))}var qX=Ti({encapsulation:2,styles:[],data:{}});function GX(t){return to(0,[(t()(),Nr(0,0,null,null,2,"span",[["class","k-scheduler-mark"]],null,null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(2,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null)],(function(t,e){t(e,2,0,e.component.getResourceStyle(e.parent.context.$implicit))}),null)}function XX(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,GX)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Zr(2,null,[" "," "]))],(function(t,e){t(e,1,0,e.component.resource.colorField)}),(function(t,e){var n=e.component;t(e,2,0,n.getField(e.context.$implicit,n.resource.textField))}))}function KX(t){return to(0,[(t()(),Nr(0,0,null,null,2,"span",[["class","k-scheduler-mark"]],null,null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(2,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null)],(function(t,e){t(e,2,0,e.component.getTagStyle(e.parent.context.$implicit))}),null)}function ZX(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,KX)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Zr(2,null,[" "," "]))],(function(t,e){t(e,1,0,e.component.resource.colorField)}),(function(t,e){var n=e.component;t(e,2,0,n.getField(e.context.$implicit,n.resource.textField))}))}function QX(t){return to(0,[zr(402653184,1,{resourceMultiSelect:0}),(t()(),Nr(1,0,null,null,23,"kendo-multiselect",[],[[2,"k-widget",null],[2,"k-multiselect",null],[2,"k-header",null],[1,"dir",0],[2,"k-state-focused",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onResourceValueChange(n)&&i),i}),VY,_Y)),Ll(5120,null,By,(function(t){return[t]}),[WO]),Ll(6144,null,EO,null,[WO]),Ll(6144,null,Mf,null,[WO]),Ll(256,null,Ob,"kendo.multiselect",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,CO,CO,[]),Ll(512,null,kO,kO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(11,7323648,[[1,4],["resourceMultiSelect",4]],9,WO,[Fb,yb,CO,kO,PO,TO,He,ti,Vn,Fn,qs,[2,NO]],{data:[0,"data"],value:[1,"value"],valueField:[2,"valueField"],textField:[3,"textField"],valuePrimitive:[4,"valuePrimitive"]},{valueChange:"valueChange"}),zr(335544320,2,{template:0}),zr(335544320,3,{customItemTemplate:0}),zr(335544320,4,{groupTemplate:0}),zr(335544320,5,{fixedGroupTemplate:0}),zr(335544320,6,{headerTemplate:0}),zr(335544320,7,{footerTemplate:0}),zr(335544320,8,{tagTemplate:0}),zr(335544320,9,{groupTagTemplate:0}),zr(335544320,10,{noDataTemplate:0}),(t()(),Fr(0,null,null,1,null,XX)),Nl(22,16384,[[2,4]],0,xO,[li],null,null),(t()(),Fr(0,null,null,1,null,ZX)),Nl(24,16384,[[8,4]],0,jO,[li],null,null)],(function(t,e){var n=e.component;t(e,11,0,n.resource.data,n.resourceValue,n.resource.valueField,n.resource.textField,!0)}),(function(t,e){t(e,1,0,kl(e,11).widgetClasses,kl(e,11).widgetClasses,kl(e,11).widgetClasses,kl(e,11).dir,kl(e,11).focusedClass,kl(e,11).disabledClass)}))}var JX=Ti({encapsulation:2,styles:[],data:{}});function tK(t){return to(0,[(t()(),Nr(0,0,null,null,2,"span",[["class","k-scheduler-mark"]],null,null,null,null,null)),Ll(512,null,Pu,Au,[Fn,ti,Vn]),Nl(2,278528,null,0,Iu,[Pu],{ngStyle:[0,"ngStyle"]},null)],(function(t,e){t(e,2,0,e.component.getResourceStyle(e.parent.context.$implicit))}),null)}function eK(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,tK)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Zr(2,null,[" "," "]))],(function(t,e){t(e,1,0,e.component.resource.colorField)}),(function(t,e){var n=e.component;t(e,2,0,n.getField(e.context.$implicit,n.resource.textField))}))}function nK(t){return to(0,[zr(402653184,1,{resourceDropDown:0}),(t()(),Nr(1,0,null,null,19,"kendo-dropdownlist",[],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(t,e,n){var i=!0;return"valueChange"===e&&(i=!1!==t.component.onResourceValueChange(n)&&i),i}),kY,sY)),Ll(5120,null,By,(function(t){return[t]}),[zO]),Ll(6144,null,EO,null,[zO]),Ll(6144,null,Mf,null,[zO]),Ll(256,null,Ob,"kendo.dropdownlist",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,kO,kO,[]),Ll(512,null,CO,CO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(11,770048,[[1,4],["resourceDropDown",4]],7,zO,[Fb,yb,kO,PO,TO,CO,qs,Vn,Fn,He,[2,NO]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],valuePrimitive:[4,"valuePrimitive"]},{valueChange:"valueChange"}),zr(335544320,2,{itemTemplate:0}),zr(335544320,3,{groupTemplate:0}),zr(335544320,4,{fixedGroupTemplate:0}),zr(335544320,5,{valueTemplate:0}),zr(335544320,6,{headerTemplate:0}),zr(335544320,7,{footerTemplate:0}),zr(335544320,8,{noDataTemplate:0}),(t()(),Fr(0,null,null,1,null,eK)),Nl(20,16384,[[2,4]],0,xO,[li],null,null)],(function(t,e){var n=e.component;t(e,11,0,n.resource.data,n.resourceValue,n.resource.textField,n.resource.valueField,!0)}),(function(t,e){t(e,1,0,kl(e,11).widgetClasses,kl(e,11).widgetClasses,kl(e,11).widgetClasses,kl(e,11).dir)}))}var iK=Ti({encapsulation:2,styles:[],data:{}});function lK(t){return to(0,[zr(402653184,1,{tzComboBox:0}),(t()(),Nr(1,0,null,null,16,"kendo-combobox",[],[[4,"width","px"],[2,"k-widget",null],[2,"k-combobox",null],[2,"k-header",null],[2,"k-combobox-clearable",null],[1,"dir",0]],[[null,"filterChange"],[null,"valueChange"]],(function(t,e,n){var i=!0,l=t.component;return"filterChange"===e&&(i=!1!==l.onTimeZoneFilterChange(n)&&i),"valueChange"===e&&(i=!1!==l.onTimeZoneChange(n)&&i),i}),lY,q$)),Ll(5120,null,By,(function(t){return[t]}),[VO]),Ll(6144,null,EO,null,[VO]),Ll(6144,null,Mf,null,[VO]),Ll(256,null,Ob,"kendo.combobox",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Ll(512,null,kO,kO,[]),Ll(512,null,CO,CO,[]),Ll(512,null,TO,TO,[CO]),Ll(512,null,PO,PO,[TO,kO]),Nl(11,770048,[[1,4],["tzcombobox",4]],6,VO,[Fb,yb,kO,PO,TO,CO,qs,He,Vn,Fn,[2,NO]],{allowCustom:[0,"allowCustom"],data:[1,"data"],value:[2,"value"],suggest:[3,"suggest"],filterable:[4,"filterable"]},{valueChange:"valueChange",filterChange:"filterChange"}),zr(335544320,2,{template:0}),zr(335544320,3,{headerTemplate:0}),zr(335544320,4,{footerTemplate:0}),zr(335544320,5,{noDataTemplate:0}),zr(335544320,6,{groupTemplate:0}),zr(335544320,7,{fixedGroupTemplate:0})],(function(t,e){var n=e.component;t(e,11,0,!1,n.tzSource,n.tz,!0,!0)}),(function(t,e){t(e,1,0,e.component.width,kl(e,11).widgetClasses,kl(e,11).widgetClasses,kl(e,11).widgetClasses,kl(e,11).clearable,kl(e,11).dir)}))}var sK=Ti({encapsulation:2,styles:[],data:{}});function rK(t){return to(0,[(t()(),Nr(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,6).focus()&&i),i}),null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,5,"kendo-timezone-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,lK,iK)),Nl(6,49152,[["startTzPicker",4]],0,EU,[],null,null),Ll(1024,null,By,(function(t){return[t]}),[EU]),Nl(8,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(10,16384,null,0,qy,[[4,$y]],null,null)],(function(t,e){var n=e.component;t(e,8,0,n.formGroup.get(n.fields.startTimezone))}),(function(t,e){t(e,3,0,e.component.textFor("editorEventStartTimeZone")),t(e,5,0,kl(e,10).ngClassUntouched,kl(e,10).ngClassTouched,kl(e,10).ngClassPristine,kl(e,10).ngClassDirty,kl(e,10).ngClassValid,kl(e,10).ngClassInvalid,kl(e,10).ngClassPending)}))}function oK(t){return to(0,[(t()(),Nr(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,6).focus()&&i),i}),null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,5,"kendo-timezone-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,lK,iK)),Nl(6,49152,[["endTzPicker",4]],0,EU,[],null,null),Ll(1024,null,By,(function(t){return[t]}),[EU]),Nl(8,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(10,16384,null,0,qy,[[4,$y]],null,null)],(function(t,e){var n=e.component;t(e,8,0,n.formGroup.get(n.fields.endTimezone))}),(function(t,e){t(e,3,0,e.component.textFor("editorEventEndTimeZone")),t(e,5,0,kl(e,10).ngClassUntouched,kl(e,10).ngClassTouched,kl(e,10).ngClassPristine,kl(e,10).ngClassDirty,kl(e,10).ngClassValid,kl(e,10).ngClassInvalid,kl(e,10).ngClassPending)}))}function aK(t){return to(0,[(t()(),Nr(0,0,null,null,8,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,5,"input",[["class","k-checkbox"],["id","k-is-allday-chkbox"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==kl(t,2).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==kl(t,2).onTouched()&&i),i}),null,null)),Nl(2,16384,null,0,Vy,[Vn,Fn],null,null),Ll(1024,null,By,(function(t){return[t]}),[Vy]),Nl(4,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(6,16384,null,0,qy,[[4,$y]],null,null),(t()(),Nr(7,0,null,null,1,"label",[["class","k-checkbox-label"],["for","k-is-allday-chkbox"]],null,null,null,null,null)),(t()(),Zr(8,null,["",""]))],(function(t,e){var n=e.component;t(e,4,0,n.formGroup.get(n.fields.isAllDay))}),(function(t,e){var n=e.component;t(e,1,0,kl(e,6).ngClassUntouched,kl(e,6).ngClassTouched,kl(e,6).ngClassPristine,kl(e,6).ngClassDirty,kl(e,6).ngClassValid,kl(e,6).ngClassInvalid,kl(e,6).ngClassPending),t(e,8,0,n.textFor("editorEventAllDay"))}))}function uK(t){return to(0,[(t()(),Nr(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,5,"input",[["class","k-checkbox"],["formControlName","endTimezoneCheckbox"],["id","k-use-separate"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==kl(t,2).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==kl(t,2).onTouched()&&i),i}),null,null)),Nl(2,16384,null,0,Vy,[Vn,Fn],null,null),Ll(1024,null,By,(function(t){return[t]}),[Vy]),Nl(4,671744,null,0,Zw,[[3,Wy],[8,null],[8,null],[6,By],[2,$w]],{name:[0,"name"]},null),Ll(2048,null,$y,null,[Zw]),Nl(6,16384,null,0,qy,[[4,$y]],null,null),(t()(),Nr(7,0,null,null,1,"label",[["class","k-checkbox-label"],["for","k-use-separate"]],null,null,null,null,null)),(t()(),Zr(8,null,["",""]))],(function(t,e){t(e,4,0,"endTimezoneCheckbox")}),(function(t,e){var n=e.component;t(e,1,0,kl(e,6).ngClassUntouched,kl(e,6).ngClassTouched,kl(e,6).ngClassPristine,kl(e,6).ngClassDirty,kl(e,6).ngClassValid,kl(e,6).ngClassInvalid,kl(e,6).ngClassPending),t(e,8,0,n.textFor("editorEventSeparateTimeZones"))}))}function cK(t){return to(0,[(t()(),Nr(0,0,null,null,10,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,5,"input",[["class","k-checkbox"],["formControlName","startTimezoneCheckbox"],["id","k-set-timezone"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==kl(t,2).onChange(n.target.checked)&&i),"blur"===e&&(i=!1!==kl(t,2).onTouched()&&i),i}),null,null)),Nl(2,16384,null,0,Vy,[Vn,Fn],null,null),Ll(1024,null,By,(function(t){return[t]}),[Vy]),Nl(4,671744,null,0,Zw,[[3,Wy],[8,null],[8,null],[6,By],[2,$w]],{name:[0,"name"]},null),Ll(2048,null,$y,null,[Zw]),Nl(6,16384,null,0,qy,[[4,$y]],null,null),(t()(),Nr(7,0,null,null,1,"label",[["class","k-checkbox-label"],["for","k-set-timezone"]],null,null,null,null,null)),(t()(),Zr(8,null,["",""])),(t()(),Fr(16777216,null,null,1,null,uK)),Nl(10,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,4,0,"startTimezoneCheckbox"),t(e,10,0,n.isStartTimeZoneVisible&&n.hasEndTimeZone)}),(function(t,e){var n=e.component;t(e,1,0,kl(e,6).ngClassUntouched,kl(e,6).ngClassTouched,kl(e,6).ngClassPristine,kl(e,6).ngClassDirty,kl(e,6).ngClassValid,kl(e,6).ngClassInvalid,kl(e,6).ngClassPending),t(e,8,0,n.textFor("editorEventTimeZone"))}))}function hK(t){return to(0,[(t()(),Nr(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,9,"kendo-recurrence-editor",[],[[2,"k-recurrence-editor",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Lq,Dq)),Ll(256,null,Ob,"kendo.recurrenceeditor",[]),Ll(131584,null,yU,yU,[Ob,[2,Eb],[2,Db],[2,Gj]]),Ll(2048,null,Fb,null,[yU]),Ll(512,null,vU,vU,[aS,Fb]),Nl(6,770048,null,0,wU,[vU],{start:[0,"start"],timezone:[1,"timezone"]},null),Ll(1024,null,By,(function(t){return[t]}),[wU]),Nl(8,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(10,16384,null,0,qy,[[4,$y]],null,null)],(function(t,e){var n=e.component;t(e,6,0,n.recurrenceStart,n.eventTimezone),t(e,8,0,n.formGroup.get(n.fields.recurrenceRule))}),(function(t,e){t(e,1,0,kl(e,6).cssClass,kl(e,10).ngClassUntouched,kl(e,10).ngClassTouched,kl(e,10).ngClassPristine,kl(e,10).ngClassDirty,kl(e,10).ngClassValid,kl(e,10).ngClassInvalid,kl(e,10).ngClassPending)}))}function dK(t){return to(0,[(t()(),Nr(0,0,null,null,10,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[["for","k-event-description"]],null,null,null,null,null)),(t()(),Zr(3,null,["",""])),(t()(),Nr(4,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,5,"textarea",[["class","k-textbox"],["id","k-event-description"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==kl(t,6)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==kl(t,6).onTouched()&&i),"compositionstart"===e&&(i=!1!==kl(t,6)._compositionStart()&&i),"compositionend"===e&&(i=!1!==kl(t,6)._compositionEnd(n.target.value)&&i),i}),null,null)),Nl(6,16384,null,0,jy,[Vn,Fn,[2,zy]],null,null),Ll(1024,null,By,(function(t){return[t]}),[jy]),Nl(8,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(10,16384,null,0,qy,[[4,$y]],null,null)],(function(t,e){var n=e.component;t(e,8,0,n.formGroup.get(n.fields.description))}),(function(t,e){t(e,3,0,e.component.textFor("editorEventDescription")),t(e,5,0,kl(e,10).ngClassUntouched,kl(e,10).ngClassTouched,kl(e,10).ngClassPristine,kl(e,10).ngClassDirty,kl(e,10).ngClassValid,kl(e,10).ngClassInvalid,kl(e,10).ngClassPending)}))}function pK(t){return to(0,[(t()(),Nr(0,0,null,null,5,"kendo-multiple-resource-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,QX,qX)),Nl(1,49152,[[1,4]],0,rU,[],{resource:[0,"resource"]},null),Ll(1024,null,By,(function(t){return[t]}),[rU]),Nl(3,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(5,16384,null,0,qy,[[4,$y]],null,null)],(function(t,e){var n=e.component;t(e,1,0,e.parent.parent.context.$implicit),t(e,3,0,n.formGroup.get(e.parent.parent.context.$implicit.field))}),(function(t,e){t(e,0,0,kl(e,5).ngClassUntouched,kl(e,5).ngClassTouched,kl(e,5).ngClassPristine,kl(e,5).ngClassDirty,kl(e,5).ngClassValid,kl(e,5).ngClassInvalid,kl(e,5).ngClassPending)}))}function mK(t){return to(0,[(t()(),Nr(0,0,null,null,5,"kendo-single-resource-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,nK,JX)),Nl(1,49152,[[2,4]],0,oU,[],{resource:[0,"resource"]},null),Ll(1024,null,By,(function(t){return[t]}),[oU]),Nl(3,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(5,16384,null,0,qy,[[4,$y]],null,null)],(function(t,e){var n=e.component;t(e,1,0,e.parent.parent.context.$implicit),t(e,3,0,n.formGroup.get(e.parent.parent.context.$implicit.field))}),(function(t,e){t(e,0,0,kl(e,5).ngClassUntouched,kl(e,5).ngClassTouched,kl(e,5).ngClassPristine,kl(e,5).ngClassDirty,kl(e,5).ngClassValid,kl(e,5).ngClassInvalid,kl(e,5).ngClassPending)}))}function gK(t){return to(0,[(t()(),Nr(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onResourceClick(t.parent.context.$implicit)&&i),i}),null,null)),(t()(),Zr(3,null,[" "," "])),(t()(),Nr(4,0,null,null,4,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,pK)),Nl(6,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,mK)),Nl(8,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,6,0,e.parent.context.$implicit.multiple),t(e,8,0,!e.parent.context.$implicit.multiple)}),(function(t,e){t(e,3,0,e.parent.context.$implicit.name?e.parent.context.$implicit.name:e.parent.context.$implicit.field)}))}function fK(t){return to(0,[(t()(),Nr(0,0,null,null,2,null,null,null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,gK)),Nl(2,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,2,0,e.component.getFormValue(e.context.$implicit.field))}),null)}function bK(t){return to(0,[(t()(),Nr(0,0,null,null,51,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,50,"div",[["class","k-scheduler-edit-form"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,49,"div",[["class","k-edit-form-container"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,48,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==kl(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==kl(t,5).onReset()&&i),i}),null,null)),Nl(4,16384,null,0,Uw,[],null,null),Nl(5,540672,null,0,qw,[[8,null],[8,null]],{form:[0,"form"]},null),Ll(2048,null,Wy,null,[qw]),Nl(7,16384,null,0,Gy,[[4,Wy]],null,null),(t()(),Nr(8,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"label",[["for","k-event-title"]],null,null,null,null,null)),(t()(),Zr(10,null,["",""])),(t()(),Nr(11,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(12,0,[["title",1]],null,5,"input",[["class","k-textbox"],["id","k-event-title"],["placeholder","Title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==kl(t,13)._handleInput(n.target.value)&&i),"blur"===e&&(i=!1!==kl(t,13).onTouched()&&i),"compositionstart"===e&&(i=!1!==kl(t,13)._compositionStart()&&i),"compositionend"===e&&(i=!1!==kl(t,13)._compositionEnd(n.target.value)&&i),i}),null,null)),Nl(13,16384,null,0,jy,[Vn,Fn,[2,zy]],null,null),Ll(1024,null,By,(function(t){return[t]}),[jy]),Nl(15,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(17,16384,null,0,qy,[[4,$y]],null,null),(t()(),Nr(18,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,23).focus()&&i),i}),null,null)),(t()(),Zr(20,null,["",""])),(t()(),Nr(21,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(22,0,null,null,5,"kendo-scheduler-datetime-picker",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,IX,AX)),Nl(23,49152,[["startDateTimePicker",4]],0,dU,[],{isAllDay:[0,"isAllDay"]},null),Ll(1024,null,By,(function(t){return[t]}),[dU]),Nl(25,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(27,16384,null,0,qy,[[4,$y]],null,null),(t()(),Fr(16777216,null,null,1,null,rK)),Nl(29,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(30,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,1,"label",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,35).focus()&&i),i}),null,null)),(t()(),Zr(32,null,["",""])),(t()(),Nr(33,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,5,"kendo-scheduler-datetime-picker",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,IX,AX)),Nl(35,49152,[["endDateTimePicker",4]],0,dU,[],{isAllDay:[0,"isAllDay"]},null),Ll(1024,null,By,(function(t){return[t]}),[dU]),Nl(37,540672,null,0,Yw,[[8,null],[8,null],[6,By],[2,$w]],{form:[0,"form"]},null),Ll(2048,null,$y,null,[Yw]),Nl(39,16384,null,0,qy,[[4,$y]],null,null),(t()(),Fr(16777216,null,null,1,null,oK)),Nl(41,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,aK)),Nl(43,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,cK)),Nl(45,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,hK)),Nl(47,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,dK)),Nl(49,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,null,1,null,fK)),Nl(51,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n,i,l=e.component;t(e,5,0,l.formGroup),t(e,15,0,l.formGroup.get(l.fields.title)),t(e,23,0,null==(n=l.getFormValue(l.fields.isAllDay))?null:n.value),t(e,25,0,l.formGroup.get(l.fields.start)),t(e,29,0,l.isStartTimeZoneVisible),t(e,35,0,null==(i=l.getFormValue(l.fields.isAllDay))?null:i.value),t(e,37,0,l.formGroup.get(l.fields.end)),t(e,41,0,l.isEndTimeZoneVisible),t(e,43,0,l.hasAllDay),t(e,45,0,l.hasStartTimeZone),t(e,47,0,l.isEditingSeries),t(e,49,0,l.getFormValue(l.fields.description)),t(e,51,0,l.resources)}),(function(t,e){var n=e.component;t(e,3,0,kl(e,7).ngClassUntouched,kl(e,7).ngClassTouched,kl(e,7).ngClassPristine,kl(e,7).ngClassDirty,kl(e,7).ngClassValid,kl(e,7).ngClassInvalid,kl(e,7).ngClassPending),t(e,10,0,n.textFor("editorEventTitle")),t(e,12,0,kl(e,17).ngClassUntouched,kl(e,17).ngClassTouched,kl(e,17).ngClassPristine,kl(e,17).ngClassDirty,kl(e,17).ngClassValid,kl(e,17).ngClassInvalid,kl(e,17).ngClassPending),t(e,20,0,n.textFor("editorEventStart")),t(e,22,0,kl(e,27).ngClassUntouched,kl(e,27).ngClassTouched,kl(e,27).ngClassPristine,kl(e,27).ngClassDirty,kl(e,27).ngClassValid,kl(e,27).ngClassInvalid,kl(e,27).ngClassPending),t(e,32,0,n.textFor("editorEventEnd")),t(e,34,0,kl(e,39).ngClassUntouched,kl(e,39).ngClassTouched,kl(e,39).ngClassPristine,kl(e,39).ngClassDirty,kl(e,39).ngClassValid,kl(e,39).ngClassInvalid,kl(e,39).ngClassPending)}))}function vK(t){return to(0,[(t()(),Nr(0,0,null,null,8,null,null,null,null,null,null,null)),(t()(),Nr(1,0,null,null,7,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==kl(t,3).onSubmit(n)&&i),"reset"===e&&(i=!1!==kl(t,3).onReset()&&i),i}),null,null)),Nl(2,16384,null,0,Uw,[],null,null),Nl(3,540672,null,0,qw,[[8,null],[8,null]],{form:[0,"form"]},null),Ll(2048,null,Wy,null,[qw]),Nl(5,16384,null,0,Gy,[[4,Wy]],null,null),(t()(),Nr(6,16777216,null,null,2,null,null,null,null,null,null,null)),Nl(7,540672,null,0,Du,[ri],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Xr(8,{$implicit:0,formGroup:1,dataItem:2,editMode:3,isNew:4})],(function(t,e){var n=e.component;t(e,3,0,n.formGroup);var i=t(e,8,0,n.formGroup,n.formGroup,n.editedEvent,n.editMode,n.isNew);t(e,7,0,i,n.editTemplate.templateRef)}),(function(t,e){t(e,1,0,kl(e,5).ngClassUntouched,kl(e,5).ngClassTouched,kl(e,5).ngClassPristine,kl(e,5).ngClassDirty,kl(e,5).ngClassValid,kl(e,5).ngClassInvalid,kl(e,5).ngClassPending)}))}function yK(t){return to(0,[(t()(),Nr(0,0,null,null,15,"kendo-dialog",[["class","k-scheduler-edit-dialog"]],[[1,"dir",0],[1,"tabIndex",0],[2,"k-dialog-wrapper",null]],[[null,"close"],[null,"keydown"]],(function(t,e,n){var i=!0,l=t.component;return"keydown"===e&&(i=!1!==kl(t,4).onComponentKeydown(n)&&i),"close"===e&&(i=!1!==l.onClose()&&i),i}),Dv,Cv)),Ll(6144,null,tv,null,[Fb]),Ll(256,null,Ob,"kendo.dialog",[]),Ll(131584,null,Fb,Fb,[Ob,[2,Eb],[2,Db]]),Nl(4,5488640,null,1,pv,[Fn,Vn,Fb],{autoFocusedElement:[0,"autoFocusedElement"],title:[1,"title"],minWidth:[2,"minWidth"]},{close:"close"}),zr(335544320,3,{titlebarContent:0}),(t()(),Fr(16777216,null,1,1,null,bK)),Nl(7,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Fr(16777216,null,1,1,null,vK)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(10,0,null,2,5,"kendo-dialog-actions",[],[[2,"k-dialog-buttongroup",null],[2,"k-dialog-button-layout-stretched",null]],null,null,$v,Vv)),Nl(11,49152,null,0,Jb,[Fn],null,null),(t()(),Nr(12,0,null,0,1,"button",[["class","k-button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCancel(n)&&i),i}),null,null)),(t()(),Zr(13,null,["",""])),(t()(),Nr(14,0,null,0,1,"button",[["class","k-button k-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSave(n)&&i),i}),null,null)),(t()(),Zr(15,null,["",""]))],(function(t,e){var n=e.component;t(e,4,0,n.autoFocusedElement,Qi(1,"",n.textFor("editorTitle"),""),700),t(e,7,0,!n.editTemplate),t(e,9,0,n.editTemplate)}),(function(t,e){var n=e.component;t(e,0,0,kl(e,4).dir,kl(e,4).tabIndex,kl(e,4).wrapperClass),t(e,10,0,kl(e,11).buttonGroupClassName,kl(e,11).className),t(e,13,0,n.textFor("cancel")),t(e,14,0,!n.formGroup.valid),t(e,15,0,n.textFor("save"))}))}function wK(t){return to(0,[zr(671088640,1,{multipleResourceEditors:1}),zr(671088640,2,{singleResourceEditors:1}),(t()(),Fr(16777216,null,null,1,null,yK)),Nl(3,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,3,0,e.component.isActive)}),null)}const xK=(t,e,n,i)=>t<n&&e>i||n<=t&&t<i||n<e&&e<=i;class kK{constructor(t,e){this.staffService=t,this.formBuilder=e,this.selectedDate=new Date,this.events=[],this.StartComponent=!1,this.listSchedule=[],this.startEndValidator=t=>{const e=t.get("start").value,n=t.get("end").value;return null!==e&&null!==n&&e.getTime()<n.getTime()?null:{range:"End date must be greater than Start date"}},this.createFormGroup=this.createFormGroup.bind(this)}createFormGroup(t){const e=t.dataItem;return this.formGroup=this.formBuilder.group({id:t.isNew?this.getNextId():e.id,start:[e.start,Qy.required],end:[e.end,Qy.required],startTimezone:[e.startTimezone],endTimezone:[e.endTimezone],isAllDay:e.isAllDay,title:e.title,description:e.description,recurrenceRule:e.recurrenceRule,recurrenceId:e.recurrenceId,roomId:e.roomId,attendees:[e.attendees]},{validator:this.startEndValidator}),this.formGroup}getNextId(){return 0===this.events.length?1:this.events[this.events.length-1].id+1}ngOnInit(){this.loadSchedule()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadSchedule(){this.subscription=this.staffService.getScheduler().subscribe(t=>{this.listSchedule=t;let e=0;this.listSchedule.forEach(t=>{let n,i=t.time,l=Number(i.slice(0,2))+1,s="";i=(s=l<10?"0"+l.toString():l.toString())+i.slice(2),n=t.is_reexam?{id:e+1,title:t.pre_examination.patient.name+" - "+t.pre_examination.patient.phone+" - "+t.detail,description:t.detail,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+i),readonly:!0}:{id:e+1,title:t.name+" - "+t.phone+" - "+t.message,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+i)},e++,this.events.push(n)}),this.StartComponent=!0;const n=Ga(new Date,"yyyy-MM-dd","en","+0700");this.selectedDate=new Date(n)})}onRemove(t){this.preventReadonly(t)}onEdit(t){console.log("EDITTT"),this.preventReadonly(t)}onAdd(t){this.occupiedSlot(t.dataItem)&&(alert("This time period is occupied."),t.preventDefault())}preventReadonly(t){t.dataItem.readonly&&(alert("The event cannot be changed."),t.preventDefault())}occupiedSlot(t){let e=!1;return this.events.find(n=>{if(n!==t.dataItem&&xK(t.start,t.end,n.start,n.end))return e=!0,!0}),e}}var _K=Ti({encapsulation:0,styles:[[".cls-Scheduler[_ngcontent-%COMP%]{font-size:14px;color:coral!important}*[_ngcontent-%COMP%]{color:coral!important}"]],data:{}});function CK(t){return to(0,[(t()(),Nr(0,0,null,null,74,"div",[["class","cls-Scheduler"],["style","color: coral;"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;color: coral;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,Tq,_q)),Ll(4608,null,bj,bj,[]),Ll(512,null,yj,yj,[]),Ll(512,null,xj,xj,[]),Ll(512,null,Wj,Wj,[qs]),Ll(256,null,Ob,"kendo.scheduler",[]),Ll(131584,null,Gj,Gj,[Ob,[2,Eb],[2,Db]]),Ll(2048,null,Fb,null,[Gj]),Ll(512,null,$j,$j,[]),Ll(131584,null,Yj,Yj,[[2,Vn],[2,Fn],$j]),Ll(512,null,qj,qj,[yv,Fb,He,Yj,xj]),Ll(512,null,Kj,Kj,[]),Nl(13,1818624,null,14,hH,[Fn,yj,xj,Wj,qj,aS,He,qs,Kj,Fb,$j,Vn,Yj],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),zr(335544320,1,{editDialogTemplate:0}),zr(335544320,2,{toolbarTemplate:0}),zr(603979776,3,{views:1}),zr(603979776,4,{allDayEventTemplate:1}),zr(603979776,5,{eventTemplate:1}),zr(603979776,6,{timeSlotTemplate:1}),zr(603979776,7,{minorTimeHeaderTemplate:1}),zr(603979776,8,{majorTimeHeaderTemplate:1}),zr(603979776,9,{monthDaySlotTemplate:1}),zr(603979776,10,{dateHeaderTemplate:1}),zr(603979776,11,{allDaySlotTemplate:1}),zr(603979776,12,{groupHeaderTemplate:1}),zr(603979776,13,{agendaDateTemplate:1}),zr(603979776,14,{agendaTimeTemplate:1}),Ll(512,null,Uj,Uj,[]),Nl(29,212992,null,0,BH,[hH,He,aS,Uj],{data:[0,"data"]},null),Nl(30,16384,null,0,DU,[hH,$j,Yj,qs,He,xj,qj],null,null),(t()(),Nr(31,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,Iq,Aq)),Nl(32,704512,null,8,OW,[aS,Fb,He,yj,xj],null,null),zr(335544320,15,{eventTemplate:0}),zr(335544320,16,{groupHeaderTemplate:0}),zr(335544320,17,{timeSlotTemplate:0}),zr(335544320,18,{dateHeaderTemplate:0}),zr(335544320,19,{allDaySlotTemplate:0}),zr(335544320,20,{allDayEventTemplate:0}),zr(335544320,21,{minorTimeHeaderTemplate:0}),zr(335544320,22,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[OW]),(t()(),Nr(42,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,PG,SG)),Nl(43,704512,null,8,NW,[aS,Fb,He,yj,xj],null,null),zr(335544320,23,{eventTemplate:0}),zr(335544320,24,{groupHeaderTemplate:0}),zr(335544320,25,{timeSlotTemplate:0}),zr(335544320,26,{dateHeaderTemplate:0}),zr(335544320,27,{allDaySlotTemplate:0}),zr(335544320,28,{allDayEventTemplate:0}),zr(335544320,29,{minorTimeHeaderTemplate:0}),zr(335544320,30,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[NW]),(t()(),Nr(53,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,Pq,Sq)),Nl(54,704512,null,8,IW,[Fb,He,yj,xj],null,null),zr(335544320,31,{eventTemplate:0}),zr(335544320,32,{groupHeaderTemplate:0}),zr(335544320,33,{timeSlotTemplate:0}),zr(335544320,34,{dateHeaderTemplate:0}),zr(335544320,35,{allDaySlotTemplate:0}),zr(335544320,36,{allDayEventTemplate:0}),zr(335544320,37,{minorTimeHeaderTemplate:0}),zr(335544320,38,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[IW]),(t()(),Nr(64,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,TG,_G)),Nl(65,704512,null,8,DW,[Fb,He,yj,xj],{numberOfDays:[0,"numberOfDays"]},null),zr(335544320,39,{eventTemplate:0}),zr(335544320,40,{groupHeaderTemplate:0}),zr(335544320,41,{timeSlotTemplate:0}),zr(335544320,42,{dateHeaderTemplate:0}),zr(335544320,43,{allDaySlotTemplate:0}),zr(335544320,44,{allDayEventTemplate:0}),zr(335544320,45,{minorTimeHeaderTemplate:0}),zr(335544320,46,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[DW])],(function(t,e){var n=e.component;t(e,13,0,"07:00","19:00",n.selectedDate),t(e,29,0,n.events),t(e,65,0,3)}),(function(t,e){t(e,1,0,kl(e,13).hostClasses,kl(e,13).hostClasses,kl(e,13).hostClasses,kl(e,13).rtl,kl(e,13).dir)}))}function TK(t){return to(0,[(t()(),Nr(0,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,Tq,_q)),Ll(4608,null,bj,bj,[]),Ll(512,null,yj,yj,[]),Ll(512,null,xj,xj,[]),Ll(512,null,Wj,Wj,[qs]),Ll(256,null,Ob,"kendo.scheduler",[]),Ll(131584,null,Gj,Gj,[Ob,[2,Eb],[2,Db]]),Ll(2048,null,Fb,null,[Gj]),Ll(512,null,$j,$j,[]),Ll(131584,null,Yj,Yj,[[2,Vn],[2,Fn],$j]),Ll(512,null,qj,qj,[yv,Fb,He,Yj,xj]),Ll(512,null,Kj,Kj,[]),Nl(12,1818624,null,14,hH,[Fn,yj,xj,Wj,qj,aS,He,qs,Kj,Fb,$j,Vn,Yj],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),zr(335544320,47,{editDialogTemplate:0}),zr(335544320,48,{toolbarTemplate:0}),zr(603979776,49,{views:1}),zr(603979776,50,{allDayEventTemplate:1}),zr(603979776,51,{eventTemplate:1}),zr(603979776,52,{timeSlotTemplate:1}),zr(603979776,53,{minorTimeHeaderTemplate:1}),zr(603979776,54,{majorTimeHeaderTemplate:1}),zr(603979776,55,{monthDaySlotTemplate:1}),zr(603979776,56,{dateHeaderTemplate:1}),zr(603979776,57,{allDaySlotTemplate:1}),zr(603979776,58,{groupHeaderTemplate:1}),zr(603979776,59,{agendaDateTemplate:1}),zr(603979776,60,{agendaTimeTemplate:1}),Ll(512,null,Uj,Uj,[]),Nl(28,212992,null,0,BH,[hH,He,aS,Uj],{data:[0,"data"]},null),Nl(29,16384,null,0,DU,[hH,$j,Yj,qs,He,xj,qj],null,null),(t()(),Nr(30,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,Iq,Aq)),Nl(31,704512,null,8,OW,[aS,Fb,He,yj,xj],null,null),zr(335544320,61,{eventTemplate:0}),zr(335544320,62,{groupHeaderTemplate:0}),zr(335544320,63,{timeSlotTemplate:0}),zr(335544320,64,{dateHeaderTemplate:0}),zr(335544320,65,{allDaySlotTemplate:0}),zr(335544320,66,{allDayEventTemplate:0}),zr(335544320,67,{minorTimeHeaderTemplate:0}),zr(335544320,68,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[OW]),(t()(),Nr(41,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,PG,SG)),Nl(42,704512,null,8,NW,[aS,Fb,He,yj,xj],null,null),zr(335544320,69,{eventTemplate:0}),zr(335544320,70,{groupHeaderTemplate:0}),zr(335544320,71,{timeSlotTemplate:0}),zr(335544320,72,{dateHeaderTemplate:0}),zr(335544320,73,{allDaySlotTemplate:0}),zr(335544320,74,{allDayEventTemplate:0}),zr(335544320,75,{minorTimeHeaderTemplate:0}),zr(335544320,76,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[NW]),(t()(),Nr(52,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,Pq,Sq)),Nl(53,704512,null,8,IW,[Fb,He,yj,xj],null,null),zr(335544320,77,{eventTemplate:0}),zr(335544320,78,{groupHeaderTemplate:0}),zr(335544320,79,{timeSlotTemplate:0}),zr(335544320,80,{dateHeaderTemplate:0}),zr(335544320,81,{allDaySlotTemplate:0}),zr(335544320,82,{allDayEventTemplate:0}),zr(335544320,83,{minorTimeHeaderTemplate:0}),zr(335544320,84,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[IW]),(t()(),Nr(63,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,TG,_G)),Nl(64,704512,null,8,DW,[Fb,He,yj,xj],{numberOfDays:[0,"numberOfDays"]},null),zr(335544320,85,{eventTemplate:0}),zr(335544320,86,{groupHeaderTemplate:0}),zr(335544320,87,{timeSlotTemplate:0}),zr(335544320,88,{dateHeaderTemplate:0}),zr(335544320,89,{allDaySlotTemplate:0}),zr(335544320,90,{allDayEventTemplate:0}),zr(335544320,91,{minorTimeHeaderTemplate:0}),zr(335544320,92,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[DW])],(function(t,e){var n=e.component;t(e,12,0,"07:00","19:00",n.selectedDate),t(e,28,0,n.events),t(e,64,0,3)}),(function(t,e){t(e,0,0,kl(e,12).hostClasses,kl(e,12).hostClasses,kl(e,12).hostClasses,kl(e,12).rtl,kl(e,12).dir)}))}function SK(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,CK)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NotYet",2]],null,0,null,TK))],(function(t,e){t(e,1,0,e.component.StartComponent,kl(e,2))}),null)}function MK(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-scheduler",[],null,null,null,SK,_K)),Nl(1,245760,null,0,kK,[Ex,Jw],null,null)],(function(t,e){t(e,1,0)}),null)}var PK=hl("app-staff-scheduler",kK,MK,{},{},[]);class AK{constructor(t,e,n,i){this.staffService=t,this.userService=e,this.printService=n,this.routerService=i,this._p=1,this.Examination=[],this.detailExam={id:null,docter:{id:null,name:null},note:null},this.doctors=[],this.involve={cost:null,owe:null,voucher:null},this.diagnosis=[]}ngOnInit(){this.loadExamination()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadExamination(){this.subscription=this.staffService.getListExamination(this._p).subscribe(t=>{this.Examination=t.results,this._total=t.count,console.log(this.Examination)},t=>{console.log(t)})}onPayment(t){this.subscription=this.staffService.createInvolve(t).subscribe(t=>{if("string"==typeof t){var e=JSON.parse(t);this.involve=e}else this.involve=t},t=>{console.log(t)})}onPaid(t,e,n){this.staffService.updateInvolve(this.involve.id,t,e,n).subscribe(t=>{qv.a.fire({title:"Success",text:"Thanh to\xe1n th\xe0nh c\xf4ng",icon:"success"}),this.loadExamination(),localStorage.setItem("id_exam",this.involve.examination),localStorage.setItem("id_invoice",this.involve.id),window.open(window.location.href+"/print","_blank")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}changePage(t){this._p=t,this.subscription=this.staffService.getListExamination(this._p).subscribe(t=>{this.Examination=t.results},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}onPrint(){localStorage.setItem("id_exam","21"),localStorage.setItem("id_invoice","17"),window.open(window.location.href+"/print","_blank")}onDelete(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a phi\u1ebfu kh\xe1m n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&this.staffService.deleteExamination(t).subscribe(t=>{this.loadExamination(),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"OK"})})})}getDetail(t){this.userService.getListDoctor().subscribe(t=>{this.doctors=t}),this.staffService.getExaminationById(t).subscribe(t=>{this.detailExam=t})}onUpdate(t,e){this.subscription=this.staffService.updateExamination(this.detailExam.id,t,e).subscribe(t=>{qv.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"}),this.loadExamination()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}}let EK=(()=>{class t{constructor(t){this.router=t,this.isPrinting=!1}printDocument(t,e){this.isPrinting=!0,this.router.navigate(["./",{outlets:{print:["print",t,e.join()]}}])}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(ym))},token:t,providedIn:"root"}),t})();var IK=Ti({encapsulation:0,styles:[[""]],data:{}});function DK(t){return to(0,[(t()(),Nr(0,0,null,null,1,"button",[["class","btn btn-warning"],["data-target","#modalpayment"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPayment(t.parent.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["Thanh to\xe1n"]))],null,null)}function OK(t){return to(0,[(t()(),Nr(0,0,null,null,22,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(2,null,[" ",""])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(10,null,[" L\u1ea7n kh\xe1m th\u1ee9 ",""])),(t()(),Nr(11,0,null,null,2,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(12,null,[" ",""])),qr(13,2),(t()(),Nr(14,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(15,null,[" ",""])),(t()(),Nr(16,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#updateExam"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getDetail(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(19,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDelete(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"])),(t()(),Fr(16777216,null,null,1,null,DK)),Nl(22,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,22,0,0==e.context.$implicit.is_paid&&e.context.$implicit.is_done)}),(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.patient.name),t(e,6,0,e.context.$implicit.docter.name),t(e,8,0,e.context.$implicit.note),t(e,10,0,e.context.$implicit.visit);var n=ki(e,12,0,t(e,13,0,kl(e.parent,0),e.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));t(e,12,0,n),t(e,15,0,e.context.$implicit.is_paid?"\u0110\xe3 tr\u1ea3":"Ch\u01b0a")}))}function FK(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit.id,"")),t(e,2,0,Qi(1,"",e.context.$implicit.id,""))}),(function(t,e){t(e,3,0,e.context.$implicit.name)}))}function NK(t){return to(0,[Rl(0,Vu,[As]),(t()(),Nr(1,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,46,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,45,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(8,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(11,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(14,0,null,null,34,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"pagination-controls",[],null,null,null,Tx,mx)),Nl(18,49152,null,0,ux,[],null,null),(t()(),Nr(19,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Nr(21,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(24,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(26,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(t()(),Nr(28,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(30,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ea7n kh\xe1m"])),(t()(),Nr(32,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y t\u1ea1o"])),(t()(),Nr(34,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Thanh to\xe1n"])),(t()(),Nr(36,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Option"])),(t()(),Nr(38,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,OK)),Nl(40,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(41,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(43,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(44,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(46,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(47,0,null,null,0,"div",[["class","col-3"]],null,null,null,null,null)),(t()(),Nr(48,0,null,null,0,"div",[["class","col"]],null,null,null,null,null)),(t()(),Nr(49,0,null,null,53,"div",[["class","modal fade"],["id","modalpayment"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,52,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,51,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(54,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ea1m t\xednh"])),(t()(),Nr(57,0,null,null,42,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(58,0,null,null,41,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(59,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,39,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(62,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ph\xed"])),(t()(),Nr(64,0,[["cost",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(65,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(66,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u1ee3"])),(t()(),Nr(68,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(69,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1ea3m gi\xe1"])),(t()(),Nr(72,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(73,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(74,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xe0nh ti\u1ec1n"])),(t()(),Nr(76,0,[["total",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(77,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(78,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"])),(t()(),Nr(80,0,null,null,9,"div",[],null,null,null,null,null)),(t()(),Nr(81,0,[["payment",1]],null,8,"select",[["id",""],["name",""]],null,null,null,null,null)),(t()(),Nr(82,0,null,null,3,"option",[["value","ti\u1ec1n m\u1eb7t"]],null,null,null,null,null)),Nl(83,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(84,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(-1,null,["Ti\u1ec1n m\u1eb7t"])),(t()(),Nr(86,0,null,null,3,"option",[["value","th\u1ebb"]],null,null,null,null,null)),Nl(87,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(88,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(-1,null,["Th\u1ebb"])),(t()(),Nr(90,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(91,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 nh\u1eadn"])),(t()(),Nr(93,0,[["received",1]],null,0,"input",[["class","form-control"],["type","number"]],null,null,null,null,null)),(t()(),Nr(94,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(95,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 tr\u1ea3"])),(t()(),Nr(97,0,[["paid",1]],null,0,"input",[["class","form-control"],["type","number"]],null,null,null,null,null)),(t()(),Nr(98,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPaid(kl(t,81).value,kl(t,93).value,kl(t,97).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Thanh to\xe1n"])),(t()(),Nr(100,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(101,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"])),(t()(),Nr(103,0,null,null,30,"div",[["class","modal fade"],["id","updateExam"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(104,0,null,null,29,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(105,0,null,null,28,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(106,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(107,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(108,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" C\u1eadp nh\u1eadt "])),(t()(),Nr(110,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(111,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(112,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(113,0,null,null,17,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(114,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(115,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["B\xe1c s\u0129"])),(t()(),Nr(117,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),Nr(118,0,[["doctor",1]],null,6,"select",[["id",""],["name",""]],null,null,null,null,null)),(t()(),Nr(119,0,null,null,3,"option",[],null,null,null,null,null)),Nl(120,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(121,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(122,null,["",""])),(t()(),Fr(16777216,null,null,1,null,FK)),Nl(124,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(125,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(126,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(128,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(129,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onUpdate(kl(t,118).value,kl(t,128).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(131,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(132,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,40,0,kl(e,42).transform(n.Examination,t(e,41,0,10,n._p,n._total)));t(e,40,0,i),t(e,83,0,"ti\u1ec1n m\u1eb7t"),t(e,84,0,"ti\u1ec1n m\u1eb7t"),t(e,87,0,"th\u1ebb"),t(e,88,0,"th\u1ebb"),t(e,120,0,Qi(1,"",n.detailExam.docter.id,"")),t(e,121,0,Qi(1,"",n.detailExam.docter.id,"")),t(e,124,0,n.doctors)}),(function(t,e){var n=e.component;t(e,64,0,Qi(1,"",n.involve.cost,"")),t(e,68,0,n.involve.owe),t(e,72,0,n.involve.voucher?n.involve.voucher:0),t(e,76,0,n.involve.cost+n.involve.owe+(n.involve.voucher?n.involve.voucher:0)),t(e,122,0,n.detailExam.docter.name),t(e,128,0,Qi(1,"",n.detailExam.note,""))}))}function RK(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-examination",[],null,null,null,NK,IK)),Nl(1,245760,null,0,AK,[Ex,Ay,EK,ym],null,null)],(function(t,e){t(e,1,0)}),null)}var LK=hl("app-staff-examination",AK,RK,{},{},[]);class BK{constructor(){}ngOnInit(){}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}var VK=Ti({encapsulation:0,styles:[[""]],data:{}});function zK(t){return to(0,[(t()(),Nr(0,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,22,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,21,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,17,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,10,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,9,"nav",[],null,null,null,null,null)),(t()(),Nr(6,0,null,null,8,"div",[["class","nav nav-tabs"],["id","nav-tab"],["role","tablist"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,3,"a",[["aria-controls","nav-home"],["aria-selected","true"],["class","nav-item nav-link active"],["data-toggle","tab"],["id","nav-home-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(8,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(9,1),(t()(),Zr(-1,null,["H\xf3a \u0110\u01a1n"])),(t()(),Nr(11,0,null,null,3,"a",[["aria-controls","nav-profile"],["aria-selected","false"],["class","nav-item nav-link"],["data-toggle","tab"],["id","nav-profile-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(12,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(13,1),(t()(),Zr(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(t()(),Nr(15,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(18,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(21,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(22,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(23,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null)],(function(t,e){var n=t(e,9,0,"./");t(e,8,0,n);var i=t(e,13,0,"./examresult");t(e,12,0,i),t(e,23,0)}),(function(t,e){t(e,7,0,kl(e,8).target,kl(e,8).href),t(e,11,0,kl(e,12).target,kl(e,12).href)}))}function jK(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-invoice",[],null,null,null,zK,VK)),Nl(1,245760,null,0,BK,[],null,null)],(function(t,e){t(e,1,0)}),null)}var HK=hl("app-staff-invoice",BK,jK,{},{},[]);class WK{constructor(t,e,n,i){this.staffService=t,this.printService=e,this.renderer=n,this.router=i,this._p=1,this.Invoice=[],this.oneInvoice={id:0,voucher:null,owe:null,cost:null,payment:null,received:null,paid:null}}ngOnInit(){this.loadInvoice()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadInvoice(){this.subscription=this.staffService.getListInvoice(this._p).subscribe(t=>{this.Invoice=t.results,this._total=t.count},t=>{})}changePage(t){this._p=t,this.staffService.getListInvoice(this._p).subscribe(t=>{this.Invoice=t.results})}detailInvoice(t){this.subscription=this.staffService.getInvoice(t).subscribe(t=>{this.oneInvoice=t,console.log(this.oneInvoice)},t=>{qv.a.fire({title:"Error!",text:t.error,icon:"error",confirmButtonText:"Cool"})})}updateInvoice(t,e){this.subscription=this.staffService.editInvolve(this.oneInvoice.id,t,e).subscribe(t=>{this.loadInvoice(),this.oneInvoice=null},t=>{qv.a.fire({title:"Error!",text:t.error,icon:"error",confirmButtonText:"Cool"})})}onPrintInvoice(t,e){localStorage.setItem("id_exam",e),localStorage.setItem("id_invoice",t);const n=this.router.serializeUrl(this.router.createUrlTree(["/examination/print"]));window.open(n,"_blank")}}var UK=Ti({encapsulation:0,styles:[[""]],data:{}});function $K(t){return to(0,[(t()(),Nr(0,0,null,null,21,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(2,null,[" INV"," "])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(10,null,[" ",""])),(t()(),Nr(11,0,null,null,2,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(12,null,[" "," "])),qr(13,2),(t()(),Nr(14,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#modal-Invoice"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailInvoice(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(17,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Nr(18,0,null,null,3,"a",[["style","cursor: pointer;"],["target","_blank"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onPrintInvoice(t.context.$implicit.id,t.context.$implicit.examination.id)&&i),i}),null,null)),(t()(),Nr(19,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(t()(),Zr(-1,null,["In h\xf3a \u0111\u01a1n"])),(t()(),Nr(21,0,null,null,0,"i",[["class","fa fa-pencil-square"]],null,null,null,null,null))],null,(function(t,e){t(e,2,0,1e4+e.context.$implicit.id),t(e,4,0,e.context.$implicit.examination.patient.name),t(e,6,0,e.context.$implicit.cost),t(e,8,0,e.context.$implicit.payment),t(e,10,0,e.context.$implicit.paid);var n=ki(e,12,0,t(e,13,0,kl(e.parent,0),e.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));t(e,12,0,n)}))}function YK(t){return to(0,[Rl(0,Vu,[As]),(t()(),Nr(1,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(5,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(6,0,null,null,21,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,15,"thead",[],null,null,null,null,null)),(t()(),Nr(8,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ph\xed"])),(t()(),Nr(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["PT thanh to\xe1n"])),(t()(),Nr(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 thanh to\xe1n"])),(t()(),Nr(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y t\u1ea1o"])),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1c"])),(t()(),Nr(23,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,$K)),Nl(25,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(26,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(28,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(30,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(31,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(32,0,null,null,45,"div",[["class","modal fade"],["id","modal-Invoice"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(33,0,null,null,44,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,43,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(37,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft h\xf3a \u0111\u01a1n"])),(t()(),Nr(39,0,null,null,35,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,34,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,32,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(43,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(44,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Zr(45,null,["M\xe3 h\xf3a \u0111\u01a1n: INV",""])),(t()(),Nr(46,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ph\xed"])),(t()(),Nr(49,0,[["cost",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(50,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1ea3m gi\xe1"])),(t()(),Nr(53,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(54,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u1ee3"])),(t()(),Nr(57,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(58,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(59,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xe0nh ti\u1ec1n"])),(t()(),Nr(61,0,[["total",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(62,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(63,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(64,null,["Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n: ",""])),(t()(),Nr(65,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(66,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 nh\u1eadn"])),(t()(),Nr(68,0,[["received",1]],null,0,"input",[["class","form-control"],["type","number"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(69,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 tr\u1ea3"])),(t()(),Nr(72,0,[["paid",1]],null,0,"input",[["class","form-control"],["type","number"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(73,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateInvoice(kl(t,68).value,kl(t,72).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(75,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(76,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,25,0,kl(e,27).transform(n.Invoice,t(e,26,0,10,n._p,n._total)));t(e,25,0,i)}),(function(t,e){var n=e.component;t(e,45,0,1e4+n.oneInvoice.id),t(e,49,0,Qi(1,"",(n.oneInvoice.voucher?n.oneInvoice.voucher:0)+n.oneInvoice.cost,"")),t(e,53,0,n.oneInvoice.voucher?n.oneInvoice.voucher:0),t(e,57,0,n.oneInvoice.owe),t(e,61,0,n.oneInvoice.cost+n.oneInvoice.owe+(n.oneInvoice.voucher?n.oneInvoice.voucher:0)),t(e,64,0,n.oneInvoice.payment),t(e,68,0,n.oneInvoice.received),t(e,72,0,n.oneInvoice.paid)}))}function qK(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-staff-invoice-content",[],null,null,null,YK,UK)),Nl(1,245760,null,0,WK,[Ex,EK,Vn,ym],null,null)],(function(t,e){t(e,1,0)}),null)}var GK=hl("app-staff-invoice-content",WK,qK,{},{},[]);class XK{constructor(t){this.userService=t}ngOnInit(){this.checkToken()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}checkToken(){this.subscription=this.userService.checkToken().subscribe(t=>{},t=>{if(401==t.status)this.userService.refreshToken(localStorage.getItem("refresh")).subscribe(t=>{localStorage.setItem("bearToken",t.access),window.location.reload()},t=>{localStorage.removeItem("bearToken"),localStorage.removeItem("refresh"),qv.a.fire({title:"Error!",text:"H\u1ebft h\u1ea1n \u0111\u0103ng nh\u1eadp",icon:"error",confirmButtonText:"Cool"}),window.location.reload()});else{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})}})}onLogout(){this.subscription=this.userService.logoutUser().subscribe(t=>{localStorage.removeItem("bearToken"),window.location.reload()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"}),localStorage.removeItem("bearToken"),window.location.reload()})}}var KK=Ti({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{padding:0!important}.inline-display[_ngcontent-%COMP%]{display:inline}"]],data:{}});function ZK(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[["class","preloader"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,":svg:svg",[["class","circular"],["viewBox","25 25 50 50"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,0,":svg:circle",[["class","path"],["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,85,"div",[["id","wrapper"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,27,"nav",[["class","navbar navbar-default navbar-static-top m-b-0"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,26,"div",[["class","navbar-header"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,7,"div",[["class","top-left-part"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,6,"a",[["class","logo"],["href","/admin"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,2,"b",[],null,null,null,null,null)),(t()(),Nr(9,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/admin-logo.png"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["src","assets/plugins/images/admin-logo-dark.png"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,2,"span",[["class","hidden-xs"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/admin-text.png"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["height","24px"],["src","assets/plugins/images/gdental.png"],["width","139px"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,17,"ul",[["class","nav navbar-top-links navbar-right pull-right"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,1,"a",[["class","nav-toggler open-close waves-effect waves-light hidden-md hidden-lg"],["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,8,"li",[],null,null,null,null,null)),(t()(),Nr(19,0,null,null,7,"form",[["class","app-search hidden-sm hidden-xs m-r-10"],["novalidate",""],["role","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==kl(t,21).onSubmit(n)&&i),"reset"===e&&(i=!1!==kl(t,21).onReset()&&i),i}),null,null)),Nl(20,16384,null,0,Uw,[],null,null),Nl(21,4210688,null,0,Lw,[[8,null],[8,null]],null,null),Ll(2048,null,Wy,null,[Lw]),Nl(23,16384,null,0,Gy,[[4,Wy]],null,null),(t()(),Nr(24,0,null,null,0,"input",[["class","form-control"],["placeholder","Search..."],["type","text"]],null,null,null,null,null)),(t()(),Nr(25,0,null,null,1,"a",[["href",""]],null,null,null,null,null)),(t()(),Nr(26,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,4,"li",[],null,null,null,null,null)),(t()(),Nr(28,0,null,null,1,"a",[["class","profile-pic inline-display"],["href","./"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/img/admin.png"],["width","36"]],null,null,null,null,null)),(t()(),Nr(30,0,null,null,1,"button",[["class","btn btn-danger profile-pic inline-display"],["data-dismiss","modal"],["style","margin-right: 10px"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onLogout()&&i),i}),null,null)),(t()(),Zr(-1,null,["\u0110\u0103ng xu\u1ea5t"])),(t()(),Nr(32,0,null,null,44,"div",[["class","navbar-default sidebar"],["role","navigation"]],null,null,null,null,null)),(t()(),Nr(33,0,null,null,43,"div",[["class","sidebar-nav slimscrollsidebar"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,5,"div",[["class","sidebar-head"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,4,"h3",[],null,null,null,null,null)),(t()(),Nr(36,0,null,null,1,"span",[["class","fa-fw open-close"]],null,null,null,null,null)),(t()(),Nr(37,0,null,null,0,"i",[["class","ti-close ti-menu"]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,1,"span",[["class","hide-menu"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Navigation"])),(t()(),Nr(40,0,null,null,36,"ul",[["class","nav"],["id","side-menu"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,5,"li",[["style","padding: 70px 0 0;"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,43).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(43,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(44,1),(t()(),Nr(45,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clock-o fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Dashboard"])),(t()(),Nr(47,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(48,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,49).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(49,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(50,1),(t()(),Nr(51,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-users fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\u01b0\u1eddi d\xf9ng"])),(t()(),Nr(53,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(54,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,55).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(55,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(56,1),(t()(),Nr(57,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-cubes fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(t()(),Nr(59,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(60,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,61).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(61,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(62,1),(t()(),Nr(63,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-columns fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5"])),(t()(),Nr(65,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(66,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,67).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(67,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(68,1),(t()(),Nr(69,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-calendar fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch"])),(t()(),Nr(71,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(72,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,73).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(73,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(74,1),(t()(),Nr(75,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-calendar fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Khuy\u1ebfn m\xe3i"])),(t()(),Nr(77,0,null,null,11,"div",[["id","page-wrapper"]],null,null,null,null,null)),(t()(),Nr(78,0,null,null,8,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Nr(79,0,null,null,4,"div",[["class","row bg-title"]],null,null,null,null,null)),(t()(),Nr(80,0,null,null,2,"div",[["class","col-lg-3 col-md-4 col-sm-4 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(81,0,null,null,1,"h4",[["class","page-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Dashboard"])),(t()(),Nr(83,0,null,null,0,"div",[["class","col-lg-9 col-sm-8 col-md-8 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(84,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(85,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(86,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null),(t()(),Nr(87,0,null,null,1,"footer",[["class","footer text-center"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" 2020 \xa9 G-Dental AdminSite "]))],(function(t,e){var n=t(e,44,0,"./");t(e,43,0,n);var i=t(e,50,0,"./user");t(e,49,0,i);var l=t(e,56,0,"./treatment");t(e,55,0,l);var s=t(e,62,0,"./service");t(e,61,0,s);var r=t(e,68,0,"./schedule");t(e,67,0,r);var o=t(e,74,0,"./discount");t(e,73,0,o),t(e,86,0)}),(function(t,e){t(e,19,0,kl(e,23).ngClassUntouched,kl(e,23).ngClassTouched,kl(e,23).ngClassPristine,kl(e,23).ngClassDirty,kl(e,23).ngClassValid,kl(e,23).ngClassInvalid,kl(e,23).ngClassPending),t(e,42,0,kl(e,43).target,kl(e,43).href),t(e,48,0,kl(e,49).target,kl(e,49).href),t(e,54,0,kl(e,55).target,kl(e,55).href),t(e,60,0,kl(e,61).target,kl(e,61).href),t(e,66,0,kl(e,67).target,kl(e,67).href),t(e,72,0,kl(e,73).target,kl(e,73).href)}))}function QK(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-admin-home-page",[],null,null,null,ZK,KK)),Nl(1,245760,null,0,XK,[Ay],null,null)],(function(t,e){t(e,1,0)}),null)}var JK=hl("app-admin-home-page",XK,QK,{},{},[]);function tZ(t,e,n,i){return new(n||(n=Promise))((function(l,s){function r(t){try{a(i.next(t))}catch(e){s(e)}}function o(t){try{a(i.throw(t))}catch(e){s(e)}}function a(t){t.done?l(t.value):new n((function(e){e(t.value)})).then(r,o)}a((i=i.apply(t,e||[])).next())}))}var eZ=function(){return(eZ=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var l in e=arguments[n])Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t}).apply(this,arguments)},nZ=function(){function t(t,e,n){var i=this;this.target=t,this.endVal=e,this.options=n,this.version="2.0.4",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(t){i.startTime||(i.startTime=t);var e=t-i.startTime;i.remaining=i.duration-e,i.frameVal=i.useEasing?i.countDown?i.startVal-i.easingFn(e,0,i.startVal-i.endVal,i.duration):i.easingFn(e,i.startVal,i.endVal-i.startVal,i.duration):i.countDown?i.startVal-e/i.duration*(i.startVal-i.endVal):i.startVal+e/i.duration*(i.endVal-i.startVal),i.frameVal=i.countDown?i.frameVal<i.endVal?i.endVal:i.frameVal:i.frameVal>i.endVal?i.endVal:i.frameVal,i.frameVal=Math.round(i.frameVal*i.decimalMult)/i.decimalMult,i.printValue(i.frameVal),e<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(t){var e,n,l,s,r,o=t<0?"-":"";if(e=Math.abs(t).toFixed(i.options.decimalPlaces),l=(n=(e+="").split("."))[0],s=n.length>1?i.options.decimal+n[1]:"",i.options.useGrouping){r="";for(var a=0,u=l.length;a<u;++a)0!==a&&a%3==0&&(r=i.options.separator+r),r=l[u-a-1]+r;l=r}return i.options.numerals&&i.options.numerals.length&&(l=l.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]})),s=s.replace(/[0-9]/g,(function(t){return i.options.numerals[+t]}))),o+i.options.prefix+l+s+i.options.suffix},this.easeOutExpo=function(t,e,n,i){return n*(1-Math.pow(2,-10*t/i))*1024/1023+e},this.options=eZ({},this.defaults,n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(e),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof t?document.getElementById(t):t,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return t.prototype.determineDirectionAndSmartEasing=function(){var t=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>t,Math.abs(t-this.startVal)>this.options.smartEasingThreshold?(this.finalEndVal=t,this.endVal=t+(this.countDown?1:-1)*this.options.smartEasingAmount,this.duration=this.duration/2):(this.endVal=t,this.finalEndVal=null),this.useEasing=!this.finalEndVal&&this.options.useEasing},t.prototype.start=function(t){this.error||(this.callback=t,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},t.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},t.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},t.prototype.update=function(t){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(t),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},t.prototype.printValue=function(t){var e=this.formattingFn(t);"INPUT"===this.el.tagName?this.el.value=e:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=e:this.el.innerHTML=e},t.prototype.ensureNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.prototype.validateValue=function(t){var e=Number(t);return this.ensureNumber(e)?e:(this.error="[CountUp] invalid start or end value: "+t,null)},t.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},t}();let iZ=class{constructor(t,e,n){this.el=t,this.zone=e,this.platformId=n,this.options={},this.reanimateOnClick=!0,this.complete=new os}onClick(){this.reanimateOnClick&&this.animate()}ngOnChanges(t){"browser"===this.platformId&&t.endVal&&void 0!==t.endVal.currentValue&&(void 0!==this.previousEndVal&&(this.options=Object.assign({},this.options,{startVal:this.previousEndVal})),this.countUp=new nZ(this.el.nativeElement,this.endVal,this.options),this.animate(),this.previousEndVal=this.endVal)}animate(){this.zone.runOutsideAngular(()=>{this.countUp.reset(),this.countUp.start(()=>{this.zone.run(()=>{this.complete.emit()})})})}},lZ=class{};var sZ=n("DwXj");class rZ{constructor(t,e){this.adminService=t,this.renderer=e,this.datapoint=[],this.datapoint2=[],this.dataCategory=[],this.datapoint_lineChart=[],this.datapoint_lineChart2=[],this.option=!1,this.typeChart=!1,this.selectedYear=(new Date).getFullYear(),this.Statistic={num_of_staff:0,num_of_customer:0,total_money:0},this.d=new Date,this.m=(new Date).getMonth(),this.y=(new Date).getFullYear()}ngOnInit(){this.loadData(null),this.loadTotalStatistic(),this.statisticCategory()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadTotalStatistic(){this.subscription=this.adminService.getTotalStatistic().subscribe(t=>{this.Statistic=t},t=>{console.log(t)})}loadData(t){this.subscription=this.adminService.getRevenueByMonth(t).subscribe(e=>{this.Revenue=e.revenue,this.datapoint=[],this.Revenue.forEach(t=>{this.datapoint.push(t.money)}),this.drawChartRevenueByMonth(null==t?this.m+1:t)},t=>{console.log(t)})}drawChartRevenueByMonth(t){new sZ.Chart("chartContainer",{animationEnabled:!0,exportEnabled:!0,title:{text:"Doanh Thu Trong Th\xe1ng "+t},data:[{type:"column",dataPoints:[{y:this.datapoint[0]+this.datapoint[1]+this.datapoint[2]+this.datapoint[3]+this.datapoint[4],label:"Day 1-5"},{y:this.datapoint[5]+this.datapoint[6]+this.datapoint[7]+this.datapoint[8]+this.datapoint[9],label:"Day 6-10"},{y:this.datapoint[10]+this.datapoint[11]+this.datapoint[12]+this.datapoint[13]+this.datapoint[14],label:"Day 11-15"},{y:this.datapoint[15]+this.datapoint[16]+this.datapoint[17]+this.datapoint[18]+this.datapoint[19],label:"Day 16-20"},{y:this.datapoint[20]+this.datapoint[21]+this.datapoint[22]+this.datapoint[23]+this.datapoint[24],label:"Day 21-25"},{y:this.datapoint[25]+this.datapoint[26]+this.datapoint[27]+this.datapoint[28]+this.datapoint[29]+this.datapoint[30],label:"Day 26-End"}]}]}).render()}selectMonth(t){this.typeChart?this.loadLineChartDataMonthly(t):this.loadData(t)}selectOptions(t){this.option=t,t?this.typeChart?this.loadLineChartDataYearly(this.selectedYear):this.loadRevenueYearly(this.selectedYear):this.typeChart?this.loadLineChartDataMonthly(null):this.loadData(null)}loadRevenueYearly(t){this.subscription=this.adminService.getRevenueByYear(t).subscribe(e=>{this.Revenue=e.revenue,this.datapoint2=[],this.Revenue.forEach(t=>{this.datapoint2.push(t.money)}),this.drawChartRevenueByYear(null==t?this.y:t)},t=>{console.log(t)})}drawChartRevenueByYear(t){new sZ.Chart("chartContainer",{animationEnabled:!0,exportEnabled:!0,title:{text:"Doanh thu trong n\u0103m "+t},data:[{type:"column",dataPoints:[{y:this.datapoint2[0],label:"Th\xe1ng 1"},{y:this.datapoint2[1],label:"Th\xe1ng 2"},{y:this.datapoint2[2],label:"Th\xe1ng 3"},{y:this.datapoint2[3],label:"Th\xe1ng 4"},{y:this.datapoint2[4],label:"Th\xe1ng 5"},{y:this.datapoint2[5],label:"Th\xe1ng 6"},{y:this.datapoint2[6],label:"Th\xe1ng 7"},{y:this.datapoint2[7],label:"Th\xe1ng 8"},{y:this.datapoint2[8],label:"Th\xe1ng 9"},{y:this.datapoint2[9],label:"Th\xe1ng 10"},{y:this.datapoint2[10],label:"Th\xe1ng 11"},{y:this.datapoint2[11],label:"Th\xe1ng 12"}]}]}).render()}selectTypeChart(t){"true"==t?(this.loadLineChartDataMonthly(null),this.typeChart=!0):(this.loadData(null),this.typeChart=!1),this.option=!1,document.getElementById("optionChart").checked=!0}loadLineChartDataMonthly(t){this.subscription=this.adminService.getRevenueByMonth(t).subscribe(e=>{this.Revenue2=e.revenue,this.datapoint_lineChart=[],this.Revenue2.forEach(t=>{this.datapoint_lineChart.push({x:t.create_at__day,y:t.money})}),this.drawLineChartMonthly(null==t?this.m+1:t)},t=>{console.log(t)})}drawLineChartMonthly(t){let e=this.datapoint_lineChart,n=0,i=new sZ.Chart("lineChartContainer",{exportEnabled:!0,title:{text:"Doanh thu trong th\xe1ng "+t},data:[{type:"spline",dataPoints:e}]});n=e.length,i.render()}loadLineChartDataYearly(t){this.subscription=this.adminService.getRevenueByYear(t).subscribe(e=>{this.Revenue2=e.revenue,this.datapoint_lineChart2=[],this.Revenue2.forEach(t=>{this.datapoint_lineChart2.push({x:t.create_at__month,y:t.money})}),this.drawLineChartYearly(null==t?this.y:t)},t=>{console.log(t)})}drawLineChartYearly(t){let e=this.datapoint_lineChart2,n=0,i=new sZ.Chart("lineChartContainer",{exportEnabled:!0,title:{text:"Doanh thu trong n\u0103m "+t},data:[{type:"spline",dataPoints:e}]});n=e.length,i.render()}selectYear(t){this.selectedYear+=t,console.log(this.selectedYear),this.typeChart?(console.log("LineChart"),this.loadLineChartDataYearly(this.selectedYear)):(console.log("Column"),this.loadRevenueYearly(this.selectedYear))}statisticCategory(){this.adminService.getStatisticCategory().subscribe(t=>{console.log(t),t.service.forEach((t,e)=>{e<5?this.dataCategory.push({y:t.count,name:t.service__treatment__name}):5==e?this.dataCategory.push({y:t.count,name:"Kh\xe1c"}):this.dataCategory[5].y=this.dataCategory[5].y+t.count}),this.drawPieChartService()},t=>{console.log(t)})}drawPieChartService(){new sZ.Chart("chartContainerService",{theme:"light2",animationEnabled:!0,exportEnabled:!0,title:{text:"Th\u1ed1ng k\xea d\u1ecbch v\u1ee5"},data:[{type:"pie",showInLegend:!0,toolTipContent:"<b>{name}</b>: {y} \u0111\xe3 d\xf9ng (#percent%)",indexLabel:"{name} - #percent%",dataPoints:this.dataCategory}]}).render()}}const oZ={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})};let aZ=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getRevenueByYear(t){return this.http.get(`${this.API}/api/statistic/revenuebyyear/?year=${t}`,oZ)}getRevenueByMonth(t){return this.http.get(`${this.API}/api/statistic/revenuebymonth/?month=${t}`,oZ)}getTotalStatistic(){return this.http.get(`${this.API}/api/statistic/total/`,oZ)}getScheduleByTime(t){return this.http.get(`${this.API}/api/schedule/?page=${t}&ordering=-date,-time&is_active=true`,oZ)}getScheduleToday(t){return this.http.get(`${this.API}/api/schedule/?page=${t}&today=1&is_active=true`,oZ)}getFreeTimeList(t){return this.http.get(`${this.API}/api/schedule/freetime/?date=${t}`,oZ)}updateSchedule(t,e,n,i,l,s,r){const o=JSON.stringify({name:e,email:n,phone:i,date:l,time:s,note:r});return this.http.patch(`${this.API}/api/schedule/${t}/`,o,oZ)}getScheduler(){return this.http.get(`${this.API}/api/scheduler/?ordering=date,time&is_active=true`,oZ)}deleteSchedule(t){return this.http.delete(`${this.API}/api/schedule/${t}/`,oZ)}getStatisticCategory(){return this.http.get(`${this.API}/api/statistic/category/`,oZ)}getListDiscount(t){return this.http.get(`${this.API}/api/admin/discount/?page=${t}`,oZ)}sendPromotionToEmail(t,e){const n=JSON.stringify({servicename:t,id_discount:e});return this.http.post(`${this.API}/api/admin/discount/sendmail/`,n,oZ)}createDiscount(t,e,n,i,l){const s=JSON.stringify({amount:e,from_date:n,to_date:i,detail:l,id_service:t});return this.http.post(`${this.API}/api/admin/discount/`,s,oZ)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();var uZ=Ti({encapsulation:0,styles:[[".parent-element[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between}.element-5[_ngcontent-%COMP%]{width:8.33%}.col-lg-1[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col-xs-1[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.cls-linktext[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;cursor:pointer}.cls-linktext[_ngcontent-%COMP%]:hover{text-decoration:underline}#btnYear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;padding:8px 22px;font-size:20px}a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.previous[_ngcontent-%COMP%]{background-color:#ebe3e3;color:#000}.next[_ngcontent-%COMP%]{background-color:#ebe3e3;color:#fff}.round[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}"]],data:{}});function cZ(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","column-chart"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"div",[["id","chartContainer"],["style","height: 370px; width: 100%;"]],null,null,null,null,null))],null,null)}function hZ(t){return to(0,[(t()(),Nr(0,0,null,null,0,"div",[["id","lineChartContainer"],["style","height: 370px; width: 100%;"]],null,null,null,null,null))],null,null)}function dZ(t){return to(0,[(t()(),Nr(0,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"div",[["class","col-1"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,24,"div",[["class","col-lg-10 col-sm-10 col-md-10 col-xs-10 parent-element"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(1)&&i),i}),null,null)),(t()(),Zr(-1,null,["January"])),(t()(),Nr(5,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(2)&&i),i}),null,null)),(t()(),Zr(-1,null,["February"])),(t()(),Nr(7,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(3)&&i),i}),null,null)),(t()(),Zr(-1,null,["March"])),(t()(),Nr(9,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(4)&&i),i}),null,null)),(t()(),Zr(-1,null,["April"])),(t()(),Nr(11,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(5)&&i),i}),null,null)),(t()(),Zr(-1,null,["May"])),(t()(),Nr(13,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(6)&&i),i}),null,null)),(t()(),Zr(-1,null,["June"])),(t()(),Nr(15,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(7)&&i),i}),null,null)),(t()(),Zr(-1,null,["July"])),(t()(),Nr(17,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(8)&&i),i}),null,null)),(t()(),Zr(-1,null,["August"])),(t()(),Nr(19,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(9)&&i),i}),null,null)),(t()(),Zr(-1,null,["September"])),(t()(),Nr(21,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(10)&&i),i}),null,null)),(t()(),Zr(-1,null,["October"])),(t()(),Nr(23,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(11)&&i),i}),null,null)),(t()(),Zr(-1,null,["November"])),(t()(),Nr(25,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectMonth(12)&&i),i}),null,null)),(t()(),Zr(-1,null,["December"])),(t()(),Nr(27,0,null,null,0,"div",[["class","col-1"]],null,null,null,null,null))],null,null)}function pZ(t){return to(0,[(t()(),Nr(0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"div",[["class","col-lg-4 col-sm-2 col-md-4 col-xs-1"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,6,"div",[["class","col-lg-4 col-sm-8 col-md-4 col-xs-10 text-center"],["id","btnYear"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"a",[["class","previous round"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectYear(-1)&&i),i}),null,null)),(t()(),Zr(-1,null,["\u2039"])),(t()(),Nr(5,0,null,null,1,"a",[],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"a",[["class","next round"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectYear(1)&&i),i}),null,null)),(t()(),Zr(-1,null,["\u203a"])),(t()(),Nr(9,0,null,null,0,"div",[["class","col-lg-4 col-sm-2 col-md-4 col-xs-1"]],null,null,null,null,null))],null,(function(t,e){t(e,6,0,e.component.selectedYear)}))}function mZ(t){return to(0,[(t()(),Nr(0,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,11,"div",[["class","col-lg-4 col-sm-6 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,10,"div",[["class","white-box analytics-info"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ed5ng nh\xe2n vi\xean"])),(t()(),Nr(5,0,null,null,7,"ul",[["class","list-inline two-part"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Nr(7,0,null,null,0,"div",[["id","sparklinedash"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,4,"li",[["class","text-right"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,0,"i",[["class","ti-arrow-up text-success"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,2,"span",[["class","hvr-pop text-success"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,11).onClick()&&i),i}),null,null)),Nl(11,540672,null,0,iZ,[Fn,qs,Ss],{endVal:[0,"endVal"]},null),(t()(),Zr(-1,null,["0"])),(t()(),Nr(13,0,null,null,11,"div",[["class","col-lg-4 col-sm-6 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,10,"div",[["class","white-box analytics-info"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ed5ng kh\xe1ch h\xe0ng"])),(t()(),Nr(17,0,null,null,7,"ul",[["class","list-inline two-part"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Nr(19,0,null,null,0,"div",[["id","sparklinedash2"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,4,"li",[["class","text-right"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,0,"i",[["class","ti-arrow-up text-purple"]],null,null,null,null,null)),(t()(),Nr(22,0,null,null,2,"span",[["class","hvr-pop text-purple"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,23).onClick()&&i),i}),null,null)),Nl(23,540672,null,0,iZ,[Fn,qs,Ss],{endVal:[0,"endVal"]},null),(t()(),Zr(-1,null,["0"])),(t()(),Nr(25,0,null,null,11,"div",[["class","col-lg-4 col-sm-6 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(26,0,null,null,10,"div",[["class","white-box analytics-info"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ed5ng doanh thu"])),(t()(),Nr(29,0,null,null,7,"ul",[["class","list-inline two-part"]],null,null,null,null,null)),(t()(),Nr(30,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),Nr(31,0,null,null,0,"div",[["id","sparklinedash3"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,4,"li",[["class","text-right"]],null,null,null,null,null)),(t()(),Nr(33,0,null,null,0,"i",[["class","ti-arrow-up text-info"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,2,"span",[["class","hvr-pop text-info"],["id","totalmoney"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,35).onClick()&&i),i}),null,null)),Nl(35,540672,null,0,iZ,[Fn,qs,Ss],{endVal:[0,"endVal"]},null),(t()(),Zr(-1,null,["0"])),(t()(),Nr(37,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,39,"div",[["class","col-md-12 col-lg-12 col-sm-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,38,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,9,"div",[["class","col-1"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,8,"select",[["class","form-group"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.selectTypeChart(n.target.value)&&i),i}),null,null)),(t()(),Nr(43,0,null,null,3,"option",[["selected",""],["value","false"]],null,null,null,null,null)),Nl(44,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(45,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(-1,null,["C\u1ed9t"])),(t()(),Nr(47,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),Nl(48,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(49,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(-1,null,["\u0110\u01b0\u1eddng"])),(t()(),Nr(51,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,0,"input",[["class","form-group"],["id",""],["name","Date"],["type","radio"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectOptions(!0)&&i),i}),null,null)),(t()(),Zr(-1,null,["N\u0103m "])),(t()(),Nr(54,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,0,"input",[["checked",""],["class","form-group"],["id","optionChart"],["name","Date"],["type","radio"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.selectOptions(!1)&&i),i}),null,null)),(t()(),Zr(-1,null,["Th\xe1ng "])),(t()(),Nr(57,0,null,null,0,"div",[["class","col"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,cZ)),Nl(59,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["lineChart",2]],null,0,null,hZ)),(t()(),Fr(16777216,null,null,1,null,dZ)),Nl(62,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["byYear",2]],null,0,null,pZ)),(t()(),Nr(64,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(65,0,null,null,1,"div",[["class","column-chart"]],null,null,null,null,null)),(t()(),Nr(66,0,null,null,0,"div",[["id","chartContainerService"],["style","height: 370px; width: 100%;"]],null,null,null,null,null)),(t()(),Nr(67,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(68,0,null,null,8,"ul",[["class","list-inline text-right"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Nr(70,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),Nr(71,0,null,null,0,"i",[["class","fa fa-circle m-r-5 text-info"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Android"])),(t()(),Nr(73,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Nr(74,0,null,null,2,"h5",[],null,null,null,null,null)),(t()(),Nr(75,0,null,null,0,"i",[["class","fa fa-circle m-r-5 text-inverse"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Web"])),(t()(),Nr(77,0,null,null,0,"div",[["id","ct-visits"],["style","height: 405px;"]],null,null,null,null,null)),(t()(),Nr(78,0,null,null,125,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(79,0,null,null,124,"div",[["class","col-md-12 col-lg-12 col-sm-12"]],null,null,null,null,null)),(t()(),Nr(80,0,null,null,123,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(81,0,null,null,21,"div",[["class","col-md-3 col-sm-4 col-xs-6 pull-right"]],null,null,null,null,null)),(t()(),Nr(82,0,null,null,20,"select",[["class","form-control pull-right row b-none"]],null,null,null,null,null)),(t()(),Nr(83,0,null,null,3,"option",[],null,null,null,null,null)),Nl(84,147456,null,0,aw,[Fn,Vn,[8,null]],null,null),Nl(85,147456,null,0,cw,[Fn,Vn,[8,null]],null,null),(t()(),Zr(-1,null,["March 2017"])),(t()(),Nr(87,0,null,null,3,"option",[],null,null,null,null,null)),Nl(88,147456,null,0,aw,[Fn,Vn,[8,null]],null,null),Nl(89,147456,null,0,cw,[Fn,Vn,[8,null]],null,null),(t()(),Zr(-1,null,["April 2017"])),(t()(),Nr(91,0,null,null,3,"option",[],null,null,null,null,null)),Nl(92,147456,null,0,aw,[Fn,Vn,[8,null]],null,null),Nl(93,147456,null,0,cw,[Fn,Vn,[8,null]],null,null),(t()(),Zr(-1,null,["May 2017"])),(t()(),Nr(95,0,null,null,3,"option",[],null,null,null,null,null)),Nl(96,147456,null,0,aw,[Fn,Vn,[8,null]],null,null),Nl(97,147456,null,0,cw,[Fn,Vn,[8,null]],null,null),(t()(),Zr(-1,null,["June 2017"])),(t()(),Nr(99,0,null,null,3,"option",[],null,null,null,null,null)),Nl(100,147456,null,0,aw,[Fn,Vn,[8,null]],null,null),Nl(101,147456,null,0,cw,[Fn,Vn,[8,null]],null,null),(t()(),Zr(-1,null,["July 2017"])),(t()(),Nr(103,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Recent sales"])),(t()(),Nr(105,0,null,null,98,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(106,0,null,null,97,"table",[["class","table"]],null,null,null,null,null)),(t()(),Nr(107,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Nr(108,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Nr(109,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(111,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["NAME"])),(t()(),Nr(113,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["STATUS"])),(t()(),Nr(115,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["DATE"])),(t()(),Nr(117,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["PRICE"])),(t()(),Nr(119,0,null,null,84,"tbody",[],null,null,null,null,null)),(t()(),Nr(120,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(121,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["1"])),(t()(),Nr(123,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Elite admin"])),(t()(),Nr(125,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["SALE"])),(t()(),Nr(127,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 18, 2017"])),(t()(),Nr(129,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(130,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["$24"])),(t()(),Nr(132,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(133,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["2"])),(t()(),Nr(135,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Real Homes WP Theme"])),(t()(),Nr(137,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["EXTENDED"])),(t()(),Nr(139,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 19, 2017"])),(t()(),Nr(141,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(142,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(t()(),Zr(-1,null,["$1250"])),(t()(),Nr(144,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(145,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["3"])),(t()(),Nr(147,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ample Admin"])),(t()(),Nr(149,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["EXTENDED"])),(t()(),Nr(151,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 19, 2017"])),(t()(),Nr(153,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(154,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(t()(),Zr(-1,null,["$1250"])),(t()(),Nr(156,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(157,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["4"])),(t()(),Nr(159,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Medical Pro WP Theme"])),(t()(),Nr(161,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["TAX"])),(t()(),Nr(163,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 20, 2017"])),(t()(),Nr(165,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(166,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Zr(-1,null,["-$24"])),(t()(),Nr(168,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(169,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["5"])),(t()(),Nr(171,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Hosting press html"])),(t()(),Nr(173,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["SALE"])),(t()(),Nr(175,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 21, 2017"])),(t()(),Nr(177,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(178,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["$24"])),(t()(),Nr(180,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(181,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["6"])),(t()(),Nr(183,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Digital Agency PSD"])),(t()(),Nr(185,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["SALE"])),(t()(),Nr(187,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 23, 2017"])),(t()(),Nr(189,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(190,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(t()(),Zr(-1,null,["-$14"])),(t()(),Nr(192,0,null,null,11,"tr",[],null,null,null,null,null)),(t()(),Nr(193,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["7"])),(t()(),Nr(195,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Helping Hands WP Theme"])),(t()(),Nr(197,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["MEMBER"])),(t()(),Nr(199,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(t()(),Zr(-1,null,["April 22, 2017"])),(t()(),Nr(201,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(202,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["$64"])),(t()(),Nr(204,0,null,null,136,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(205,0,null,null,43,"div",[["class","col-md-12 col-lg-8 col-sm-12"]],null,null,null,null,null)),(t()(),Nr(206,0,null,null,42,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(207,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Recent Order"])),(t()(),Nr(209,0,null,null,39,"div",[["class","comment-center p-t-10"]],null,null,null,null,null)),(t()(),Nr(210,0,null,null,16,"div",[["class","comment-body"]],null,null,null,null,null)),(t()(),Nr(211,0,null,null,1,"div",[["class","user-img"]],null,null,null,null,null)),(t()(),Nr(212,0,null,null,0,"img",[["alt","user"],["class","img-circle"],["src","assets/plugins/images/users/pawandeep.jpg"]],null,null,null,null,null)),(t()(),Nr(213,0,null,null,13,"div",[["class","mail-contnet"]],null,null,null,null,null)),(t()(),Nr(214,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Pavan kumar"])),(t()(),Nr(216,0,null,null,1,"span",[["class","time"]],null,null,null,null,null)),(t()(),Zr(-1,null,["10:20 AM 20 may 2016"])),(t()(),Nr(218,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(219,0,null,null,1,"span",[["class","mail-desc"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Donec ac condimentum massa. Etiam pellentesque pretium lacus. Phasellus ultricies dictum suscipit. Aenean commodo dui pellentesque molestie feugiat. Aenean commodo dui pellentesque molestie feugiat"])),(t()(),Nr(221,0,null,null,2,"a",[["class","btn btn btn-rounded btn-default btn-outline m-r-5"],["href","javacript:void(0)"]],null,null,null,null,null)),(t()(),Nr(222,0,null,null,0,"i",[["class","ti-check text-success m-r-5"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Approve"])),(t()(),Nr(224,0,null,null,2,"a",[["class","btn-rounded btn btn-default btn-outline"],["href","javacript:void(0)"]],null,null,null,null,null)),(t()(),Nr(225,0,null,null,0,"i",[["class","ti-close text-danger m-r-5"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Reject"])),(t()(),Nr(227,0,null,null,10,"div",[["class","comment-body"]],null,null,null,null,null)),(t()(),Nr(228,0,null,null,1,"div",[["class","user-img"]],null,null,null,null,null)),(t()(),Nr(229,0,null,null,0,"img",[["alt","user"],["class","img-circle"],["src","assets/plugins/images/users/sonu.jpg"]],null,null,null,null,null)),(t()(),Nr(230,0,null,null,7,"div",[["class","mail-contnet"]],null,null,null,null,null)),(t()(),Nr(231,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Sonu Nigam"])),(t()(),Nr(233,0,null,null,1,"span",[["class","time"]],null,null,null,null,null)),(t()(),Zr(-1,null,["10:20 AM 20 may 2016"])),(t()(),Nr(235,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(236,0,null,null,1,"span",[["class","mail-desc"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Donec ac condimentum massa. Etiam pellentesque pretium lacus. Phasellus ultricies dictum suscipit. Aenean commodo dui pellentesque molestie feugiat. Aenean commodo dui pellentesque molestie feugiat"])),(t()(),Nr(238,0,null,null,10,"div",[["class","comment-body b-none"]],null,null,null,null,null)),(t()(),Nr(239,0,null,null,1,"div",[["class","user-img"]],null,null,null,null,null)),(t()(),Nr(240,0,null,null,0,"img",[["alt","user"],["class","img-circle"],["src","assets/plugins/images/users/arijit.jpg"]],null,null,null,null,null)),(t()(),Nr(241,0,null,null,7,"div",[["class","mail-contnet"]],null,null,null,null,null)),(t()(),Nr(242,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Arijit singh"])),(t()(),Nr(244,0,null,null,1,"span",[["class","time"]],null,null,null,null,null)),(t()(),Zr(-1,null,["10:20 AM 20 may 2016"])),(t()(),Nr(246,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(247,0,null,null,1,"span",[["class","mail-desc"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Donec ac condimentum massa. Etiam pellentesque pretium lacus. Phasellus ultricies dictum suscipit. Aenean commodo dui pellentesque molestie feugiat. Aenean commodo dui pellentesque molestie feugiat"])),(t()(),Nr(249,0,null,null,91,"div",[["class","col-lg-4 col-md-6 col-sm-12"]],null,null,null,null,null)),(t()(),Nr(250,0,null,null,90,"div",[["class","panel"]],null,null,null,null,null)),(t()(),Nr(251,0,null,null,89,"div",[["class","sk-chat-widgets"]],null,null,null,null,null)),(t()(),Nr(252,0,null,null,88,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),Nr(253,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" CHAT LISTING "])),(t()(),Nr(255,0,null,null,85,"div",[["class","panel-body"]],null,null,null,null,null)),(t()(),Nr(256,0,null,null,84,"ul",[["class","chatonline"]],null,null,null,null,null)),(t()(),Nr(257,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(258,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(259,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(260,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(261,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(262,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(263,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(264,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/varun.jpg"]],null,null,null,null,null)),(t()(),Nr(265,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Varun Dhavan "])),(t()(),Nr(267,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["online"])),(t()(),Nr(269,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(270,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(271,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(272,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(273,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(274,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(275,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(276,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/genu.jpg"]],null,null,null,null,null)),(t()(),Nr(277,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Genelia Deshmukh "])),(t()(),Nr(279,0,null,null,1,"small",[["class","text-warning"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Away"])),(t()(),Nr(281,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(282,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(283,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(284,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(285,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(286,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(287,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(288,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/ritesh.jpg"]],null,null,null,null,null)),(t()(),Nr(289,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ritesh Deshmukh "])),(t()(),Nr(291,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Busy"])),(t()(),Nr(293,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(294,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(295,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(296,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(297,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(298,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(299,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(300,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/arijit.jpg"]],null,null,null,null,null)),(t()(),Nr(301,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Arijit Sinh "])),(t()(),Nr(303,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Offline"])),(t()(),Nr(305,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(306,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(307,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(308,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(309,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(310,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(311,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(312,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/govinda.jpg"]],null,null,null,null,null)),(t()(),Nr(313,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Govinda Star "])),(t()(),Nr(315,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["online"])),(t()(),Nr(317,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(318,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(319,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(320,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(321,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(322,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(323,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(324,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/hritik.jpg"]],null,null,null,null,null)),(t()(),Nr(325,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["John Abraham"])),(t()(),Nr(327,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["online"])),(t()(),Nr(329,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Nr(330,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(t()(),Nr(331,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(332,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(t()(),Nr(333,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(t()(),Nr(334,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(t()(),Nr(335,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(336,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/varun.jpg"]],null,null,null,null,null)),(t()(),Nr(337,0,null,null,3,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Varun Dhavan "])),(t()(),Nr(339,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(t()(),Zr(-1,null,["online"]))],(function(t,e){var n=e.component;t(e,11,0,n.Statistic.num_of_staff),t(e,23,0,n.Statistic.num_of_customer),t(e,35,0,n.Statistic.total_money),t(e,44,0,"false"),t(e,45,0,"false"),t(e,48,0,"true"),t(e,49,0,"true"),t(e,59,0,0==n.typeChart,kl(e,60)),t(e,62,0,!n.option,kl(e,63))}),null)}function gZ(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-admin-dashboard",[],null,null,null,mZ,uZ)),Nl(1,245760,null,0,rZ,[aZ,Vn],null,null)],(function(t,e){t(e,1,0)}),null)}var fZ=hl("app-admin-dashboard",rZ,gZ,{},{},[]);class bZ{constructor(t){this.userService=t,this.is_doctor=!0,this.is_staff=!1,this._p=1}ngOnInit(){this.loadUser()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadUser(){this.subscription=this.userService.getListUser(this._p).subscribe(t=>{this.user=t.results,this._total=t.count})}changePage(t){this._p=t,this.userService.getListUser(this._p).subscribe(t=>{this.user=t.results})}onChangePosition(t){var e="true"==t;this.is_doctor=e,this.is_staff=!e}onCreateUser(t,e,n,i){console.log(t),console.log(n),console.log(this.is_doctor),console.log(this.is_staff),this.userService.createUser(t,e,n,i,this.is_doctor,this.is_staff).subscribe(t=>{this.ngOnInit()})}onDelete(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&this.userService.deleteUser(t).subscribe(t=>{this.loadUser(),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})})}}var vZ=Ti({encapsulation:0,styles:[[""]],data:{}});function yZ(t){return to(0,[(t()(),Nr(0,0,null,null,17,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,3,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,2).onClick()&&i),i}),null,null)),Nl(2,16384,null,0,wm,[ym,ap,[8,null],Vn,Fn],{routerLink:[0,"routerLink"]},null),Gr(3,2),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(8,null,["",""])),(t()(),Nr(9,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(t()(),Zr(10,null,["",""])),(t()(),Nr(11,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),Nr(12,0,null,null,3,"button",[["class","btn btn-primary"],["data-target","#adduser"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,13).onClick()&&i),i}),null,null)),Nl(13,16384,null,0,wm,[ym,ap,[8,null],Vn,Fn],{routerLink:[0,"routerLink"]},null),Gr(14,2),(t()(),Zr(-1,null,["H\u1ed3 s\u01a1"])),(t()(),Nr(16,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDelete(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],(function(t,e){var n=t(e,3,0,"./",e.context.$implicit.id);t(e,2,0,n);var i=t(e,14,0,"./",e.context.$implicit.id);t(e,13,0,i)}),(function(t,e){t(e,4,0,e.context.index+1),t(e,6,0,e.context.$implicit.name),t(e,8,0,e.context.$implicit.username),t(e,10,0,e.context.$implicit.phone)}))}function wZ(t){return to(0,[(t()(),Nr(0,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,34,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,33,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,7,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(6,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(7,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 50%;"],["type","search"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,24,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,17,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Nr(14,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean Ng\u01b0\u1eddi d\xf9ng"])),(t()(),Nr(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xe0i kho\u1ea3n"])),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Li\xean l\u1ea1c"])),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Option"])),(t()(),Nr(25,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,yZ)),Nl(27,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(28,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,0,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,2,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(t()(),Nr(33,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#adduser"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam ng\u01b0\u1eddi d\xf9ng"])),(t()(),Nr(35,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,42,"div",[["class","modal fade"],["id","adduser"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(37,0,null,null,41,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,40,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Add User"])),(t()(),Nr(44,0,null,null,31,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,28,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(48,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(49,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xe0i kho\u1ea3n"])),(t()(),Nr(51,0,[["username",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["M\u1eadt kh\u1ea9u"])),(t()(),Nr(55,0,[["password",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(56,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(57,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean nh\xe2n vi\xean"])),(t()(),Nr(59,0,[["fullname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"])),(t()(),Nr(63,0,[["phonenumber",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(64,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(65,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ch\u1ee9c v\u1ee5"])),(t()(),Nr(67,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(68,0,[["doctor",1]],null,0,"input",[["checked",""],["name","position"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangePosition(kl(t,68).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" B\xe1c s\u0129"])),(t()(),Nr(70,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(71,0,[["staff",1]],null,0,"input",[["name","position"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangePosition(kl(t,71).value)&&i),i}),null,null)),(t()(),Zr(-1,null,[" Nh\xe2n vi\xean"])),(t()(),Nr(73,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(74,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCreateUser(kl(t,51).value,kl(t,55).value,kl(t,59).value,kl(t,63).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["T\u1ea1o Ng\u01b0\u1eddi d\xf9ng"])),(t()(),Nr(76,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(77,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"]))],(function(t,e){var n=e.component,i=ki(e,27,0,kl(e,29).transform(n.user,t(e,28,0,10,n._p,n._total)));t(e,27,0,i)}),null)}function xZ(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-user-management",[],null,null,null,wZ,vZ)),Nl(1,245760,null,0,bZ,[Ay],null,null)],(function(t,e){t(e,1,0)}),null)}var kZ=hl("app-user-management",bZ,xZ,{},{},[]);class _Z{constructor(t,e,n){this.activatedRouterService=t,this.routerService=e,this.userService=n,this.UserDetail={id:0,username:"loading",name:"loading",phone:"loading",email:"loading",address:"loading",image:"loading",gender:!0,birthday:"loading",is_docter:!1,is_manager:!1,qualification:"loading",experience:0,specialisation:"loading",create_at:"loading",is_deleted:!1},this.enableReset=!1}ngOnInit(){this.loadData()}ngOnDestroy(){(this.subscription||this.subscriptionParams)&&(this.subscription.unsubscribe(),this.subscriptionParams.unsubscribe())}loadData(){this.subscriptionParams=this.activatedRouterService.params.subscribe(t=>{this.subscription=this.userService.getDetailUser(t.id).subscribe(t=>{this.UserDetail=t,console.log(this.UserDetail)})})}updateUser(t,e,n,i){this.userService.updateUser(t,e,n,i).subscribe(t=>{qv.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"}),this.ngOnInit()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}onShowReset(){this.enableReset=!0}onResetPass(t){this.subscription=this.userService.resetPassUser(this.UserDetail.id,t).subscribe(t=>{qv.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"})},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}}var CZ=Ti({encapsulation:0,styles:[[".cls-linktext[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;cursor:pointer}.cls-linktext[_ngcontent-%COMP%]:hover{text-decoration:underline}"]],data:{}});function TZ(t){return to(0,[(t()(),Nr(0,0,null,null,7,"div",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(t()(),Nr(4,0,[["password",1]],null,0,"input",[["class","form-control form-control-line"],["placeholder","nh\u1eadp m\u1eadt kh\u1ea9u"],["type","password"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,1,"button",[["class","btn btn-primary"],["style","height: 100%;"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onResetPass(kl(t,4).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xe1c nh\u1eadn"]))],null,null)}function SZ(t){return to(0,[(t()(),Nr(0,0,null,null,75,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,32,"div",[["class","col-md-4 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,31,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,9,"div",[["class","user-bg"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,0,"img",[["alt","user"],["src","assets/plugins/images/large/img1.jpg"],["width","100%"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,7,"div",[["class","overlay-box"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,6,"div",[["class","user-content"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,0,"img",[["alt","img"],["class","thumb-lg img-circle"],["src","assets/plugins/images/users/genu.jpg"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"h4",[["class","text-white"]],null,null,null,null,null)),(t()(),Zr(10,null,[""," "])),(t()(),Nr(11,0,null,null,1,"h5",[["class","text-white"]],null,null,null,null,null)),(t()(),Zr(-1,null,["info@myadmin.com"])),(t()(),Nr(13,0,null,null,15,"div",[["class","user-btm-box"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,4,"div",[["class","col-md-4 col-sm-4 text-center"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"p",[["class","text-purple"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,0,"i",[["class","ti-facebook"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Zr(-1,null,["258"])),(t()(),Nr(19,0,null,null,4,"div",[["class","col-md-4 col-sm-4 text-center"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,1,"p",[["class","text-blue"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,0,"i",[["class","ti-twitter"]],null,null,null,null,null)),(t()(),Nr(22,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Zr(-1,null,["125"])),(t()(),Nr(24,0,null,null,4,"div",[["class","col-md-4 col-sm-4 text-center"]],null,null,null,null,null)),(t()(),Nr(25,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(t()(),Nr(26,0,null,null,0,"i",[["class","ti-dribbble"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Zr(-1,null,["556"])),(t()(),Nr(29,0,null,null,4,"div",[["class","user-btm-box"]],null,null,null,null,null)),(t()(),Nr(30,0,null,null,1,"h4",[["class","cls-linktext"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onShowReset()&&i),i}),null,null)),(t()(),Zr(-1,null,["Reset password"])),(t()(),Fr(16777216,null,null,1,null,TZ)),Nl(33,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(34,0,null,null,41,"div",[["class","col-md-8 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,40,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,39,"form",[["class","form-horizontal form-material"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==kl(t,38).onSubmit(n)&&i),"reset"===e&&(i=!1!==kl(t,38).onReset()&&i),i}),null,null)),Nl(37,16384,null,0,Uw,[],null,null),Nl(38,4210688,null,0,Lw,[[8,null],[8,null]],null,null),Ll(2048,null,Wy,null,[Lw]),Nl(40,16384,null,0,Gy,[[4,Wy]],null,null),(t()(),Nr(41,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean Ng\u01b0\u1eddi d\xf9ng"])),(t()(),Nr(44,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(45,0,[["fullname",1]],null,0,"input",[["class","form-control form-control-line"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(46,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xe0i kho\u1ea3n"])),(t()(),Nr(49,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,1,"p",[["class","form-control form-control-line"]],null,null,null,null,null)),(t()(),Zr(51,null,["",""])),(t()(),Nr(52,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,1,"label",[["class","col-md-12"],["for","example-email"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(55,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(56,0,[["email",1]],null,0,"input",[["class","form-control form-control-line"],["id","example-email"],["name","example-email"],["placeholder","example-email@gdental.com"],["type","email"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(57,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(58,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Password"])),(t()(),Nr(60,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,0,"input",[["class","form-control form-control-line"],["type","password"],["value","password"]],null,null,null,null,null)),(t()(),Nr(62,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(63,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Phone No"])),(t()(),Nr(65,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(66,0,[["phone",1]],null,0,"input",[["class","form-control form-control-line"],["placeholder","123 456 7890"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(67,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(68,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Message"])),(t()(),Nr(70,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(71,0,null,null,0,"textarea",[["class","form-control form-control-line"],["rows","5"]],null,null,null,null,null)),(t()(),Nr(72,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(73,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(74,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==l.updateUser(l.UserDetail.id,kl(t,45).value,kl(t,56).value,kl(t,66).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"]))],(function(t,e){t(e,33,0,e.component.enableReset)}),(function(t,e){var n=e.component;t(e,10,0,n.UserDetail.is_docter?"B\xe1c s\u0129: "+n.UserDetail.name:n.UserDetail.name),t(e,36,0,kl(e,40).ngClassUntouched,kl(e,40).ngClassTouched,kl(e,40).ngClassPristine,kl(e,40).ngClassDirty,kl(e,40).ngClassValid,kl(e,40).ngClassInvalid,kl(e,40).ngClassPending),t(e,45,0,n.UserDetail.name),t(e,51,0,n.UserDetail.username),t(e,56,0,n.UserDetail.email),t(e,66,0,n.UserDetail.phone)}))}function MZ(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-user-detail",[],null,null,null,SZ,CZ)),Nl(1,245760,null,0,_Z,[ap,ym,Ay],null,null)],(function(t,e){t(e,1,0)}),null)}var PZ=hl("app-user-detail",_Z,MZ,{},{},[]),AZ=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},EZ=n("Ju5/"),IZ=function(){return EZ.a.Date.now()},DZ=EZ.a.Symbol,OZ=Object.prototype,FZ=OZ.hasOwnProperty,NZ=OZ.toString,RZ=DZ?DZ.toStringTag:void 0,LZ=Object.prototype.toString,BZ=DZ?DZ.toStringTag:void 0,VZ=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":BZ&&BZ in Object(t)?function(t){var e=FZ.call(t,RZ),n=t[RZ];try{t[RZ]=void 0;var i=!0}catch(s){}var l=NZ.call(t);return i&&(e?t[RZ]=n:delete t[RZ]),l}(t):function(t){return LZ.call(t)}(t)},zZ=function(t){return null!=t&&"object"==typeof t},jZ=/^\s+|\s+$/g,HZ=/^[-+]0x[0-9a-f]+$/i,WZ=/^0b[01]+$/i,UZ=/^0o[0-7]+$/i,$Z=parseInt,YZ=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||zZ(t)&&"[object Symbol]"==VZ(t)}(t))return NaN;if(AZ(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=AZ(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(jZ,"");var n=WZ.test(t);return n||UZ.test(t)?$Z(t.slice(2),n?2:8):HZ.test(t)?NaN:+t},qZ=Math.max,GZ=Math.min,XZ=function(t,e,n){var i=!0,l=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return AZ(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),function(t,e,n){var i,l,s,r,o,a,u=0,c=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=i,s=l;return i=l=void 0,u=e,r=t.apply(s,n)}function m(t){var n=t-a;return void 0===a||n>=e||n<0||h&&t-u>=s}function g(){var t=IZ();if(m(t))return f(t);o=setTimeout(g,function(t){var n=e-(t-a);return h?GZ(n,s-(t-u)):n}(t))}function f(t){return o=void 0,d&&i?p(t):(i=l=void 0,r)}function b(){var t=IZ(),n=m(t);if(i=arguments,l=this,a=t,n){if(void 0===o)return function(t){return u=t,o=setTimeout(g,e),c?p(t):r}(a);if(h)return clearTimeout(o),o=setTimeout(g,e),p(a)}return void 0===o&&(o=setTimeout(g,e)),r}return e=YZ(e)||0,AZ(n)&&(c=!!n.leading,s=(h="maxWait"in n)?qZ(YZ(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d),b.cancel=function(){void 0!==o&&clearTimeout(o),u=0,i=a=l=o=void 0},b.flush=function(){return void 0===o?r:f(IZ())},b}(t,e,{leading:i,maxWait:e,trailing:l})},KZ=function(t,e){return t===e||t!=t&&e!=e},ZZ=function(t,e){for(var n=t.length;n--;)if(KZ(t[n][0],e))return n;return-1},QZ=Array.prototype.splice;function JZ(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}JZ.prototype.clear=function(){this.__data__=[],this.size=0},JZ.prototype.delete=function(t){var e=this.__data__,n=ZZ(e,t);return!(n<0||(n==e.length-1?e.pop():QZ.call(e,n,1),--this.size,0))},JZ.prototype.get=function(t){var e=this.__data__,n=ZZ(e,t);return n<0?void 0:e[n][1]},JZ.prototype.has=function(t){return ZZ(this.__data__,t)>-1},JZ.prototype.set=function(t,e){var n=this.__data__,i=ZZ(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var tQ,eQ=JZ,nQ=function(t){if(!AZ(t))return!1;var e=VZ(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},iQ=EZ.a["__core-js_shared__"],lQ=(tQ=/[^.]+$/.exec(iQ&&iQ.keys&&iQ.keys.IE_PROTO||""))?"Symbol(src)_1."+tQ:"",sQ=Function.prototype.toString,rQ=function(t){if(null!=t){try{return sQ.call(t)}catch(e){}try{return t+""}catch(e){}}return""},oQ=/^\[object .+?Constructor\]$/,aQ=Function.prototype,uQ=Object.prototype,cQ=RegExp("^"+aQ.toString.call(uQ.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hQ=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!AZ(t)||(e=t,lQ&&lQ in e))&&(nQ(t)?cQ:oQ).test(rQ(t));var e}(n)?n:void 0},dQ=hQ(EZ.a,"Map"),pQ=hQ(Object,"create"),mQ=Object.prototype.hasOwnProperty,gQ=Object.prototype.hasOwnProperty;function fQ(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}fQ.prototype.clear=function(){this.__data__=pQ?pQ(null):{},this.size=0},fQ.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},fQ.prototype.get=function(t){var e=this.__data__;if(pQ){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return mQ.call(e,t)?e[t]:void 0},fQ.prototype.has=function(t){var e=this.__data__;return pQ?void 0!==e[t]:gQ.call(e,t)},fQ.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pQ&&void 0===e?"__lodash_hash_undefined__":e,this};var bQ=fQ,vQ=function(t,e){var n,i,l=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?l["string"==typeof e?"string":"hash"]:l.map};function yQ(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}yQ.prototype.clear=function(){this.size=0,this.__data__={hash:new bQ,map:new(dQ||eQ),string:new bQ}},yQ.prototype.delete=function(t){var e=vQ(this,t).delete(t);return this.size-=e?1:0,e},yQ.prototype.get=function(t){return vQ(this,t).get(t)},yQ.prototype.has=function(t){return vQ(this,t).has(t)},yQ.prototype.set=function(t,e){var n=vQ(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var wQ=yQ;function xQ(t){var e=this.__data__=new eQ(t);this.size=e.size}xQ.prototype.clear=function(){this.__data__=new eQ,this.size=0},xQ.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},xQ.prototype.get=function(t){return this.__data__.get(t)},xQ.prototype.has=function(t){return this.__data__.has(t)},xQ.prototype.set=function(t,e){var n=this.__data__;if(n instanceof eQ){var i=n.__data__;if(!dQ||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new wQ(i)}return n.set(t,e),this.size=n.size,this};var kQ=xQ,_Q=function(){try{var t=hQ(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),CQ=function(t,e,n){"__proto__"==e&&_Q?_Q(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},TQ=Object.prototype.hasOwnProperty,SQ=function(t,e,n){var i=t[e];TQ.call(t,e)&&KZ(i,n)&&(void 0!==n||e in t)||CQ(t,e,n)},MQ=function(t,e,n,i){var l=!n;n||(n={});for(var s=-1,r=e.length;++s<r;){var o=e[s],a=i?i(n[o],t[o],o,n,t):void 0;void 0===a&&(a=t[o]),l?CQ(n,o,a):SQ(n,o,a)}return n},PQ=function(t){return zZ(t)&&"[object Arguments]"==VZ(t)},AQ=Object.prototype,EQ=AQ.hasOwnProperty,IQ=AQ.propertyIsEnumerable,DQ=PQ(function(){return arguments}())?PQ:function(t){return zZ(t)&&EQ.call(t,"callee")&&!IQ.call(t,"callee")},OQ=Array.isArray,FQ=n("WOAq"),NQ=/^(?:0|[1-9]\d*)$/,RQ=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&NQ.test(t))&&t>-1&&t%1==0&&t<e},LQ=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},BQ={};BQ["[object Float32Array]"]=BQ["[object Float64Array]"]=BQ["[object Int8Array]"]=BQ["[object Int16Array]"]=BQ["[object Int32Array]"]=BQ["[object Uint8Array]"]=BQ["[object Uint8ClampedArray]"]=BQ["[object Uint16Array]"]=BQ["[object Uint32Array]"]=!0,BQ["[object Arguments]"]=BQ["[object Array]"]=BQ["[object ArrayBuffer]"]=BQ["[object Boolean]"]=BQ["[object DataView]"]=BQ["[object Date]"]=BQ["[object Error]"]=BQ["[object Function]"]=BQ["[object Map]"]=BQ["[object Number]"]=BQ["[object Object]"]=BQ["[object RegExp]"]=BQ["[object Set]"]=BQ["[object String]"]=BQ["[object WeakMap]"]=!1;var VQ=function(t){return function(e){return t(e)}},zQ=n("xutz"),jQ=zQ.a&&zQ.a.isTypedArray,HQ=jQ?VQ(jQ):function(t){return zZ(t)&&LQ(t.length)&&!!BQ[VZ(t)]},WQ=Object.prototype.hasOwnProperty,UQ=function(t,e){var n=OQ(t),i=!n&&DQ(t),l=!n&&!i&&Object(FQ.a)(t),s=!n&&!i&&!l&&HQ(t),r=n||i||l||s,o=r?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],a=o.length;for(var u in t)!e&&!WQ.call(t,u)||r&&("length"==u||l&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||RQ(u,a))||o.push(u);return o},$Q=Object.prototype,YQ=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$Q)},qQ=function(t,e){return function(n){return t(e(n))}},GQ=qQ(Object.keys,Object),XQ=Object.prototype.hasOwnProperty,KQ=function(t){return null!=t&&LQ(t.length)&&!nQ(t)},ZQ=function(t){return KQ(t)?UQ(t):function(t){if(!YQ(t))return GQ(t);var e=[];for(var n in Object(t))XQ.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)},QQ=Object.prototype.hasOwnProperty,JQ=function(t){return KQ(t)?UQ(t,!0):function(t){if(!AZ(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=YQ(t),n=[];for(var i in t)("constructor"!=i||!e&&QQ.call(t,i))&&n.push(i);return n}(t)},tJ=n("3/ER"),eJ=function(){return[]},nJ=Object.prototype.propertyIsEnumerable,iJ=Object.getOwnPropertySymbols,lJ=iJ?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var i=-1,l=null==e?0:e.length,s=0,r=[];++i<l;){var o=e[i];nJ.call(t,o)&&(r[s++]=o)}return r}(iJ(t)))}:eJ,sJ=function(t,e){for(var n=-1,i=e.length,l=t.length;++n<i;)t[l+n]=e[n];return t},rJ=qQ(Object.getPrototypeOf,Object),oJ=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)sJ(e,lJ(t)),t=rJ(t);return e}:eJ,aJ=function(t,e,n){var i=e(t);return OQ(t)?i:sJ(i,n(t))},uJ=function(t){return aJ(t,ZQ,lJ)},cJ=function(t){return aJ(t,JQ,oJ)},hJ=hQ(EZ.a,"DataView"),dJ=hQ(EZ.a,"Promise"),pJ=hQ(EZ.a,"Set"),mJ=hQ(EZ.a,"WeakMap"),gJ=rQ(hJ),fJ=rQ(dQ),bJ=rQ(dJ),vJ=rQ(pJ),yJ=rQ(mJ),wJ=VZ;(hJ&&"[object DataView]"!=wJ(new hJ(new ArrayBuffer(1)))||dQ&&"[object Map]"!=wJ(new dQ)||dJ&&"[object Promise]"!=wJ(dJ.resolve())||pJ&&"[object Set]"!=wJ(new pJ)||mJ&&"[object WeakMap]"!=wJ(new mJ))&&(wJ=function(t){var e=VZ(t),n="[object Object]"==e?t.constructor:void 0,i=n?rQ(n):"";if(i)switch(i){case gJ:return"[object DataView]";case fJ:return"[object Map]";case bJ:return"[object Promise]";case vJ:return"[object Set]";case yJ:return"[object WeakMap]"}return e});var xJ=wJ,kJ=Object.prototype.hasOwnProperty,_J=EZ.a.Uint8Array,CJ=function(t){var e=new t.constructor(t.byteLength);return new _J(e).set(new _J(t)),e},TJ=/\w*$/,SJ=DZ?DZ.prototype:void 0,MJ=SJ?SJ.valueOf:void 0,PJ=Object.create,AJ=function(){function t(){}return function(e){if(!AZ(e))return{};if(PJ)return PJ(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),EJ=zQ.a&&zQ.a.isMap,IJ=EJ?VQ(EJ):function(t){return zZ(t)&&"[object Map]"==xJ(t)},DJ=zQ.a&&zQ.a.isSet,OJ=DJ?VQ(DJ):function(t){return zZ(t)&&"[object Set]"==xJ(t)},FJ={};FJ["[object Arguments]"]=FJ["[object Array]"]=FJ["[object ArrayBuffer]"]=FJ["[object DataView]"]=FJ["[object Boolean]"]=FJ["[object Date]"]=FJ["[object Float32Array]"]=FJ["[object Float64Array]"]=FJ["[object Int8Array]"]=FJ["[object Int16Array]"]=FJ["[object Int32Array]"]=FJ["[object Map]"]=FJ["[object Number]"]=FJ["[object Object]"]=FJ["[object RegExp]"]=FJ["[object Set]"]=FJ["[object String]"]=FJ["[object Symbol]"]=FJ["[object Uint8Array]"]=FJ["[object Uint8ClampedArray]"]=FJ["[object Uint16Array]"]=FJ["[object Uint32Array]"]=!0,FJ["[object Error]"]=FJ["[object Function]"]=FJ["[object WeakMap]"]=!1;var NJ,RJ=function t(e,n,i,l,s,r){var o,a=1&n,u=2&n,c=4&n;if(i&&(o=s?i(e,l,s,r):i(e)),void 0!==o)return o;if(!AZ(e))return e;var h=OQ(e);if(h){if(o=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&kJ.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!a)return function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}(e,o)}else{var d=xJ(e),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(FQ.a)(e))return Object(tJ.a)(e,a);if("[object Object]"==d||"[object Arguments]"==d||p&&!s){if(o=u||p?{}:function(t){return"function"!=typeof t.constructor||YQ(t)?{}:AJ(rJ(t))}(e),!a)return u?function(t,e){return MQ(t,oJ(t),e)}(e,function(t,e){return t&&MQ(e,JQ(e),t)}(o,e)):function(t,e){return MQ(t,lJ(t),e)}(e,function(t,e){return t&&MQ(e,ZQ(e),t)}(o,e))}else{if(!FJ[d])return s?e:{};o=function(t,e,n){var i,l,s=t.constructor;switch(e){case"[object ArrayBuffer]":return CJ(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var n=e?CJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var n=e?CJ(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(l=new(i=t).constructor(i.source,TJ.exec(i))).lastIndex=i.lastIndex,l;case"[object Set]":return new s;case"[object Symbol]":return MJ?Object(MJ.call(t)):{}}}(e,d,a)}}r||(r=new kQ);var m=r.get(e);if(m)return m;r.set(e,o),OJ(e)?e.forEach((function(l){o.add(t(l,n,i,l,e,r))})):IJ(e)&&e.forEach((function(l,s){o.set(s,t(l,n,i,s,e,r))}));var g=c?u?cJ:uJ:u?keysIn:ZQ,f=h?void 0:g(e);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n););}(f||e,(function(l,s){f&&(l=e[s=l]),SQ(o,s,t(l,n,i,s,e,r))})),o},LJ=function(t,e){return RJ(t,5,e="function"==typeof e?e:void 0)},BJ=Function.prototype,VJ=Object.prototype,zJ=BJ.toString,jJ=VJ.hasOwnProperty,HJ=zJ.call(Object),WJ=function(t){return zZ(t)&&1===t.nodeType&&!function(t){if(!zZ(t)||"[object Object]"!=VZ(t))return!1;var e=rJ(t);if(null===e)return!0;var n=jJ.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&zJ.call(n)==HJ}(t)};function UJ(t,e=new Set){const n=[t],i=new Set;for(;n.length>0;){const t=n.shift();if(!(i.has(t)||$J(t)||e.has(t)))if(i.add(t),t[Symbol.iterator])try{for(const e of t)n.push(e)}catch(l){}else for(const e in t)"defaultValue"!==e&&n.push(t[e])}return i}function $J(t){const e=Object.prototype.toString.call(t),n=typeof t;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t instanceof EventTarget||t instanceof Event}class YJ{constructor(t){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const e=t.error||t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){const n=this._listeners[t]||[];for(const i of n)i.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e.filename,lineno:e.lineno,colno:e.colno,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&null!=t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class qJ extends YJ{constructor(t,e={}){super(e),this._editor=null,this._throttledSave=XZ(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),this._creator=(e,n)=>t.create(e,n),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,n){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(e)||{},this._config.context=n,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,this._destructor(t)})}_save(){const t=this._editor.model.document.version;if(t!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=t}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const e of this._editor.model.document.getRootNames())t[e]=this._editor.data.get({rootName:e});return t}_isErrorComingFromThisItem(t){return function(t,e,n=new Set){if(t===e&&"object"==typeof(i=t)&&null!==i)return!0;var i;const l=UJ(t,n),s=UJ(e,n);for(const r of l)if(s.has(r))return!0;return!1}(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return LJ(t,(t,e)=>WJ(t)?t:"context"===e?t:void 0)}}!function(t){t.EditorConstructor=function(){},t.Config=function(){},t.EventInfo=function(){},t.BaseEditor=function(){},t.DataApi=function(){},t.Editor=function(){},t.ContextWatchdog=function(){},t.EditorWatchdog=function(){},t.Watchdog=function(){}}(NJ||(NJ={}));const GJ=(t,e)=>("0"+e.toString(16)).slice(-2),XJ=new Array(256).fill(0).map(GJ);class KJ{constructor(t,e){this.config={},this.data="",this.tagName="div",this.ready=new os,this.change=new os,this.blur=new os,this.focus=new os,this.error=new os,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+XJ[t>>0&255]+XJ[t>>8&255]+XJ[t>>16&255]+XJ[t>>24&255]+XJ[e>>0&255]+XJ[e>>8&255]+XJ[e>>16&255]+XJ[e>>24&255]+XJ[n>>0&255]+XJ[n>>8&255]+XJ[n>>16&255]+XJ[n>>24&255]+XJ[i>>0&255]+XJ[i>>8&255]+XJ[i>>16&255]+XJ[i>>24&255]}(),this.ngZone=e,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return tZ(this,void 0,void 0,(function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)}))}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.editorElement&&(this.editorElement.innerHTML=this.data))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(t,e)=>tZ(this,void 0,void 0,(function*(){return this.ngZone.runOutsideAngular(()=>tZ(this,void 0,void 0,(function*(){this.elementRef.nativeElement.appendChild(t);const n=yield this.editor.create(t,e);return this.initiallyDisabled&&(n.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(n)}),this.setUpEditorEvents(n),n})))})),e=t=>tZ(this,void 0,void 0,(function*(){yield t.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)})),n=()=>{this.ngZone.run(()=>{this.error.emit()})},i=document.createElement(this.tagName),l=this.getConfig();if(this.editorElement=i,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:e,sourceElementOrData:i,config:l}),this.watchdog.on("itemError",(t,{itemId:e})=>{e===this.id&&n()});else{const s=new qJ(this.editor);s.setCreator(t),s.setDestructor(e),s.on("error",n),this.editorWatchdog=s,this.editorWatchdog.create(i,l)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");return Object.assign({},this.config,{initialData:this.config.initialData||this.data||""})}setUpEditorEvents(t){const e=t.editing.view.document;t.model.document.on("change:data",e=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const e=t.getData();this.cvaOnChange(e)}this.change.emit({event:e,editor:t})})}),e.on("focus",e=>{this.ngZone.run(()=>{this.focus.emit({event:e,editor:t})})}),e.on("blur",e=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:e,editor:t})})})}}class ZJ{}var QJ=Ti({encapsulation:2,styles:[],data:{}});function JJ(t){return to(0,[(t()(),Fr(0,null,null,0))],null,null)}function t0(t){return to(0,[(t()(),Fr(0,null,null,0,null,JJ))],null,null)}var e0=n("+z1p");class n0{constructor(t){this.treatmentService=t,this.Editor=e0,this.ImageFile=null,this._p=1,this._total=0}ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(){this.subscription=this.treatmentService.getListTreatment(this._p).subscribe(t=>{this.treatment=t.results,this._total=t.count})}onImageSelected(t){t.length>0&&(this.ImageFile=t.item(0))}onCreate(t){this.subscription=this.treatmentService.createTreatment(t,this.detail,this.ImageFile).subscribe(t=>{qv.a.fire({title:"Success",text:"T\u1ea1o m\u1edbi th\xe0nh c\xf4ng",icon:"success"}),this.loadData()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}onDelete(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a lo\u1ea1i n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&this.treatmentService.deleteTreatment(t).subscribe(t=>{this.loadData(),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})})}onChange({editor:t}){this.detail=t.getData()}changePage(t){this._p=t,this.subscription=this.treatmentService.getListTreatment(this._p).subscribe(t=>{this.treatment=t.results,this._total=t.count})}}const i0={headers:new Zv({Authorization:"Bearer "+aa.token})};let l0=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getListTreatment(t){return this.http.get(`${this.API}/api/treatment/?page=${t}`,i0)}getListTreatmentNonePage(){return this.http.get(`${this.API}/api/doctor_treatment/`,i0)}getDetailTreatment(t){return this.http.get(`${this.API}/api/treatment/${t}/`,i0)}updateTreatment(t,e,n,i){console.log(i);const l=new FormData;return l.append("image",i,i.name),JSON.stringify({image:i}),this.http.patch(`${this.API}/api/treatment/${t}/`,l,i0)}createTreatment(t,e,n){let i=new FormData;return null!=n?i.append("image",n,n.name):i.append("image",n),i.append("name",t),i.append("detail",e),this.http.post(`${this.API}/api/treatment/`,i,i0)}deleteTreatment(t){return this.http.delete(`${this.API}/api/treatment/${t}/`,i0)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();var s0=Ti({encapsulation:0,styles:[[""]],data:{}});function r0(t){return to(0,[(t()(),Nr(0,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,0,"img",[["alt",""],["width","100%"]],[[8,"src",4]],null,null,null,null)),(t()(),Nr(3,0,null,null,2,"div",[["class","col-xs-2 col-sm-2 col-md-2 col-lg-2"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Zr(5,null,[" "," "])),(t()(),Nr(6,0,null,null,1,"div",[["class","col-xs-5 col-sm-5 col-md-5 col-lg-5"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null)),(t()(),Nr(8,0,null,null,6,"div",[["class","col-xs-1 col-sm-1 col-md-1 col-lg-1"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,3,"button",[["class","btn btn-primary"],["style","width: 100%;"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,10).onClick()&&i),i}),null,null)),Nl(10,16384,null,0,wm,[ym,ap,[8,null],Vn,Fn],{routerLink:[0,"routerLink"]},null),Gr(11,2),(t()(),Zr(-1,null,["Chi ti\u1ebft"])),(t()(),Nr(13,0,null,null,1,"button",[["class","btn btn-danger"],["style","width: 100%;"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDelete(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],(function(t,e){var n=t(e,11,0,"./",e.context.$implicit.id);t(e,10,0,n)}),(function(t,e){t(e,2,0,Qi(1,"",e.context.$implicit.image,"")),t(e,5,0,e.context.$implicit.name),t(e,7,0,e.context.$implicit.detail)}))}function o0(t){return to(0,[(t()(),Nr(0,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,21,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,20,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(7,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(9,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(10,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,1,"button",[["class","btn btn-success"],["data-target","#addtreatment"],["data-toggle","modal"],["style","width: 20%;"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam"])),(t()(),Fr(16777216,null,null,3,null,r0)),Nl(14,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(15,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(17,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,0,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(21,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(22,0,null,null,0,"div",[["class","col-sm-4 text-right"]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,31,"div",[["class","modal fade"],["id","addtreatment"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(24,0,null,null,30,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(25,0,null,null,29,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(26,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(28,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam nh\xf3m d\u1ecbch v\u1ee5"])),(t()(),Nr(31,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(33,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,17,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(t()(),Nr(38,0,[["addname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\xecnh \u1ea3nh"])),(t()(),Nr(42,0,null,null,0,"input",[["class","form-control form-control-line"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onImageSelected(n.target.files)&&i),i}),null,null)),(t()(),Nr(43,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(44,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft"])),(t()(),Nr(46,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),Nr(47,0,null,null,2,"ckeditor",[],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChange(n)&&i),i}),t0,QJ)),Ll(5120,null,By,(function(t){return[t]}),[KJ]),Nl(49,4374528,null,0,KJ,[Fn,qs],{editor:[0,"editor"]},{change:"change"}),(t()(),Nr(50,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCreate(kl(t,38).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Ho\xe0n th\xe0nh"])),(t()(),Nr(52,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"]))],(function(t,e){var n=e.component,i=ki(e,14,0,kl(e,16).transform(n.treatment,t(e,15,0,10,n._p,n._total)));t(e,14,0,i),t(e,49,0,n.Editor)}),null)}function a0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-treatment",[],null,null,null,o0,s0)),Nl(1,245760,null,0,n0,[l0],null,null)],(function(t,e){t(e,1,0)}),null)}var u0=hl("app-treatment",n0,a0,{},{},[]);const c0={headers:new Zv({Authorization:"Bearer "+aa.token})};class h0{constructor(t,e,n,i){this.activatedRouterService=t,this.routerService=e,this.treatmentService=n,this.http=i,this.Editor=e0,this.content=".",this.TreatmentDetail={id:0,name:"loading",image:"loading",detail:"loading"},this.ImageFile=null,this.API=aa.urlApi}ngOnInit(){this.loadData()}loadData(){this.subscriptionParams=this.activatedRouterService.params.subscribe(t=>{this.subscription=this.treatmentService.getDetailTreatment(t.id).subscribe(t=>{this.TreatmentDetail=t,this.content=t.detail})})}onUpdate(t,e){let n=new FormData;null!=this.ImageFile&&n.append("image",this.ImageFile,this.ImageFile.name),n.append("name",e),n.append("detail",this.detail),this.http.patch(`${this.API}/api/treatment/${t}/`,n,c0).subscribe(t=>{qv.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"}),this.loadData()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}onChange({editor:t}){this.detail=t.getData()}onImageSelected(t){t.length>0&&(this.ImageFile=t.item(0))}}var d0=Ti({encapsulation:0,styles:[[""]],data:{}});function p0(t){return to(0,[(t()(),Nr(0,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,32,"div",[["class","col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,31,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,30,"form",[["class","form-horizontal form-material"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==kl(t,5).onSubmit(n)&&i),"reset"===e&&(i=!1!==kl(t,5).onReset()&&i),i}),null,null)),Nl(4,16384,null,0,Uw,[],null,null),Nl(5,4210688,null,0,Lw,[[8,null],[8,null]],null,null),Ll(2048,null,Wy,null,[Lw]),Nl(7,16384,null,0,Gy,[[4,Wy]],null,null),(t()(),Nr(8,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(t()(),Nr(11,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(12,0,[["nametreatment",1]],null,0,"input",[["class","form-control form-control-line"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(13,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,1,"label",[["class","col-md-12"],["for","example-email"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\xecnh \u1ea3nh"])),(t()(),Nr(16,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(17,0,[["image",1]],null,0,"img",[["alt",""],["height","100%"],["width","100%"]],[[8,"src",4]],null,null,null,null)),(t()(),Nr(18,0,null,null,0,"input",[["class","form-control form-control-line"],["type","file"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onImageSelected(n.target.files)&&i),i}),null,null)),(t()(),Nr(19,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft"])),(t()(),Nr(22,0,null,null,7,"div",[["class","col-md-12"]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,6,"ckeditor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"]],(function(t,e,n){var i=!0,l=t.component;return"change"===e&&(i=!1!==l.onChange(n)&&i),"ngModelChange"===e&&(i=!1!==(l.content=n)&&i),i}),t0,QJ)),Nl(24,4374528,null,0,KJ,[Fn,qs],{editor:[0,"editor"],data:[1,"data"]},{change:"change"}),Ll(1024,null,By,(function(t){return[t]}),[KJ]),Nl(26,671744,null,0,Ww,[[2,Wy],[8,null],[8,null],[6,By]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),Xr(27,{standalone:0}),Ll(2048,null,$y,null,[Ww]),Nl(29,16384,null,0,qy,[[4,$y]],null,null),(t()(),Nr(30,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==l.onUpdate(l.TreatmentDetail.id,kl(t,12).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"]))],(function(t,e){var n=e.component;t(e,24,0,n.Editor,Qi(1,"",n.TreatmentDetail.detail,""));var i=n.content,l=t(e,27,0,!0);t(e,26,0,i,l)}),(function(t,e){var n=e.component;t(e,3,0,kl(e,7).ngClassUntouched,kl(e,7).ngClassTouched,kl(e,7).ngClassPristine,kl(e,7).ngClassDirty,kl(e,7).ngClassValid,kl(e,7).ngClassInvalid,kl(e,7).ngClassPending),t(e,12,0,n.TreatmentDetail.name),t(e,17,0,Qi(1,"",n.TreatmentDetail.image,"")),t(e,23,0,kl(e,29).ngClassUntouched,kl(e,29).ngClassTouched,kl(e,29).ngClassPristine,kl(e,29).ngClassDirty,kl(e,29).ngClassValid,kl(e,29).ngClassInvalid,kl(e,29).ngClassPending)}))}function m0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-treatment-detail",[],null,null,null,p0,d0)),Nl(1,114688,null,0,h0,[ap,ym,l0,hy],null,null)],(function(t,e){t(e,1,0)}),null)}var g0=hl("app-treatment-detail",h0,m0,{},{},[]);class f0{constructor(t,e,n){this.serviceService=t,this.treatmentService=e,this.adminService=n,this.Editor=e0,this.id_service=0,this.name_service="",this.ServiceDetail={id:0,name:"loading...",cost:"loading...",unit:"loading...",guarantee:"loading..."},this.unit="r\u0103ng",this._p=1}ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(){this.subscription=this.serviceService.getListService(this._p).subscribe(t=>{this.service=t.results,this._total=t.count}),this.subscription=this.treatmentService.getListTreatmentNonePage().subscribe(t=>{this.treatment=t})}detailService(t){this.subscription=this.serviceService.getDetailService(t).subscribe(t=>{this.ServiceDetail=t,console.log(this.ServiceDetail)})}onUpdateService(t,e,n,i){try{i=parseInt(i)}catch(l){i=null}this.subscription=this.serviceService.updateService(t,e,n,i).subscribe(t=>{this.loadData(),this.ServiceDetail={id:0,name:"loading...",cost:null,unit:"loading...",guarantee:null}})}onChangeUnit(t){this.unit=t.target.value}onCreateService(t,e,n,i){this.subscription=this.serviceService.createService(t,e,this.unit,n,i).subscribe(t=>{this.loadData(),qv.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"}),document.getElementById("servicename").value="",document.getElementById("servicecost").value="",document.getElementById("serviceguarantee").value=""},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}onDeleteService(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a d\u1ecbch v\u1ee5 n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&(this.subscription=this.serviceService.deleteService(t).subscribe(t=>{this.loadData(),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}))})}changePage(t){this._p=t,this.serviceService.getListService(this._p).subscribe(t=>{this.service=t.results},t=>{console.log(t)})}updateCost(t,e){this.subscription=this.serviceService.updateCostService(t,e).subscribe(t=>{this.loadData(),this.ServiceDetail={id:0,name:"loading...",cost:null,unit:"loading...",guarantee:null}})}editHistory(t){this.serviceService.getServiceHistory(t).subscribe(t=>{this.serviceHistory=t.results},t=>{qv.a.fire({title:"Error!",text:"Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin",icon:"error",confirmButtonText:"Cool"})})}onChange({editor:t}){console.log(this.detail),this.detail=t.getData()}onAddDiscount(t,e){this.id_service=t,this.name_service=e}createDiscount(t,e,n){this.adminService.createDiscount(this.id_service,t,e,n,this.detail).subscribe(t=>{qv.a.fire("Th\xe0nh c\xf4ng!","\u0110\xe3 t\u1ea1o khuy\u1ebfn m\xe3i th\xe0nh c\xf4ng","success")},t=>{qv.a.fire({title:"Error!",text:"Kh\xf4ng th\u1ec3 t\u1ea1o khuy\u1ebfn m\xe3i",icon:"error",confirmButtonText:"Cool"})})}}const b0={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})};let v0=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getListService(t){return this.http.get(`${this.API}/api/service/?page=${t}`,b0)}getDetailService(t){return this.http.get(`${this.API}/api/service/${t}/`,b0)}updateService(t,e,n,i){const l=JSON.stringify({name:e,guarantee:i});return this.http.patch(`${this.API}/api/service/${t}/`,l,b0)}updateCostService(t,e){const n=JSON.stringify({cost:e});return this.http.patch(`${this.API}/api/service/${t}/`,n,b0)}createService(t,e,n,i,l){const s=JSON.stringify({name:t,cost:e,unit:n,treatment:l});return this.http.post(`${this.API}/api/service/`,s,b0)}deleteService(t){return this.http.delete(`${this.API}/api/service/${t}/`,b0)}getServiceHistory(t){return this.http.get(`${this.API}/api/service/history/?source_key=${t}`,b0)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();var y0=Ti({encapsulation:0,styles:[[".dp-inline[_ngcontent-%COMP%]{display:inline!important}"]],data:{}});function w0(t){return to(0,[(t()(),Nr(0,0,null,null,19,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(8,null,["",""])),(t()(),Nr(9,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(10,null,["",""])),(t()(),Nr(11,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.detailService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(12,null,["",""])),(t()(),Nr(13,0,null,null,6,"td",[],null,null,null,null,null)),(t()(),Nr(14,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#addDiscount"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onAddDiscount(t.context.$implicit.id,t.context.$implicit.name)&&i),i}),null,null)),(t()(),Zr(-1,null,["Khuy\u1ebfn m\xe3i"])),(t()(),Nr(16,0,null,null,1,"button",[["class","btn btn-warning"],["data-target","#servicehistory"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.editHistory(t.context.$implicit.source_key)&&i),i}),null,null)),(t()(),Zr(-1,null,["L\u1ecbch s\u1eed"])),(t()(),Nr(18,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDeleteService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],null,(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.cost),t(e,8,0,e.context.$implicit.unit),t(e,10,0,e.context.$implicit.guarantee),t(e,12,0,e.context.$implicit.treatment.name)}))}function x0(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit.id,"")),t(e,2,0,Qi(1,"",e.context.$implicit.id,""))}),(function(t,e){t(e,3,0,e.context.$implicit.name)}))}function k0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"td",[["class","text-danger"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 x\xf3a"]))],null,null)}function _0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"td",[["class","text-info"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Hi\u1ec7n t\u1ea1i"]))],null,null)}function C0(t){return to(0,[(t()(),Nr(0,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,["",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,["",""])),(t()(),Fr(16777216,null,null,1,null,k0)),Nl(12,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NoneDeleted",2]],null,0,null,_0))],(function(t,e){t(e,12,0,e.context.$implicit.is_deleted,kl(e,13))}),(function(t,e){t(e,2,0,e.context.$implicit.id),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.cost),t(e,8,0,e.context.$implicit.unit),t(e,10,0,e.context.$implicit.create_at)}))}function T0(t){return to(0,[(t()(),Nr(0,0,null,null,49,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,48,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,47,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(7,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(13,0,null,null,36,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,27,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,21,"thead",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,20,"tr",[],null,null,null,null,null)),(t()(),Nr(17,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["# "])),(t()(),Nr(19,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean d\u1ecbch v\u1ee5 "])),(t()(),Nr(22,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\xe1 "])),(t()(),Nr(25,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(t()(),Nr(26,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u01a1n v\u1ecb "])),(t()(),Nr(28,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["B\u1ea3o h\xe0nh "])),(t()(),Nr(31,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,2,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5 "])),(t()(),Nr(34,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(37,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,w0)),Nl(39,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(40,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(42,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(43,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(44,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(45,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(46,0,null,null,2,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#addservice"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam d\u1ecbch v\u1ee5"])),(t()(),Nr(49,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,34,"div",[["class","modal fade"],["id","detailservice"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,33,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,32,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(54,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(56,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ch\u1ec9nh s\u1eeda"])),(t()(),Nr(58,0,null,null,23,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(59,0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,20,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(62,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(63,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean d\u1ecbch v\u1ee5"])),(t()(),Nr(65,0,[["servicename",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(66,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(67,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\xe1"])),(t()(),Nr(69,0,[["price",1]],null,0,"input",[["class","form-control dp-inline"],["min","1000"],["placeholder","\u0110ang t\u1ea3i..."],["type","number"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(70,0,null,null,1,"button",[["class","btn btn-md btn-primary dp-inline"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==l.updateCost(l.ServiceDetail.id,kl(t,69).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt gi\xe1"])),(t()(),Nr(72,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(73,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u01a1n v\u1ecb"])),(t()(),Nr(75,0,[["unit",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(76,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(77,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["B\u1ea3o h\xe0nh"])),(t()(),Nr(79,0,[["guarantee",1]],null,0,"input",[["class","form-control"],["max","36"],["min","0"],["placeholder","Ch\u01b0a c\u1eadp nh\u1eadt"],["type","number"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(80,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0,l=t.component;return"click"===e&&(i=!1!==l.onUpdateService(l.ServiceDetail.id,kl(t,65).value,kl(t,69).value,kl(t,79).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(82,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(83,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"])),(t()(),Nr(85,0,null,null,45,"div",[["class","modal fade"],["id","addservice"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(86,0,null,null,44,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(87,0,null,null,43,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(88,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(89,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(90,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Nr(91,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ch\u1ec9nh s\u1eeda"])),(t()(),Nr(93,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(94,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(95,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(96,0,null,null,31,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(97,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(98,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean d\u1ecbch v\u1ee5"])),(t()(),Nr(100,0,[["addname",1]],null,0,"input",[["class","form-control"],["id","servicename"],["type","text"]],null,null,null,null,null)),(t()(),Nr(101,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(102,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\xe1"])),(t()(),Nr(104,0,[["addcost",1]],null,0,"input",[["class","form-control"],["id","servicecost"],["type","number"]],null,null,null,null,null)),(t()(),Nr(105,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(106,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u01a1n v\u1ecb"])),(t()(),Nr(108,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(109,0,null,null,0,"input",[["checked",""],["name","unit"],["type","radio"],["value","r\u0103ng"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeUnit(n)&&i),i}),null,null)),(t()(),Zr(-1,null,["R\u0103ng "])),(t()(),Nr(111,0,null,null,0,"input",[["name","unit"],["type","radio"],["value","tr\u1ee5"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeUnit(n)&&i),i}),null,null)),(t()(),Zr(-1,null,[" Tr\u1ee5 "])),(t()(),Nr(113,0,null,null,0,"input",[["name","unit"],["type","radio"],["value","h\xe0m"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChangeUnit(n)&&i),i}),null,null)),(t()(),Zr(-1,null,[" H\xe0m "])),(t()(),Nr(115,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(116,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["B\u1ea3o h\xe0nh"])),(t()(),Nr(118,0,[["addguarantee",1]],null,0,"input",[["class","form-control"],["id","serviceguarantee"],["type","number"]],null,null,null,null,null)),(t()(),Nr(119,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(120,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(t()(),Nr(122,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(123,0,[["selectgrp",1]],null,2,"select",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,x0)),Nl(125,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(126,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onCreateService(kl(t,100).value,kl(t,104).value,kl(t,118).value,kl(t,123).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Th\xeam d\u1ecbch v\u1ee5"])),(t()(),Nr(128,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(129,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"])),(t()(),Nr(131,0,null,null,32,"div",[["class","modal fade"],["id","servicehistory"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(132,0,null,null,31,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(133,0,null,null,30,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(134,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(135,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(136,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" L\u1ecbch s\u1eed ch\u1ec9nh s\u1eeda gi\xe1 d\u1ecbch v\u1ee5 "])),(t()(),Nr(138,0,null,null,22,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(139,0,null,null,21,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(140,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(141,0,null,null,19,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(142,0,null,null,18,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(143,0,null,null,17,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(144,0,null,null,13,"thead",[],null,null,null,null,null)),(t()(),Nr(145,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Nr(146,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["M\xe3 d\u1ecbch v\u1ee5"])),(t()(),Nr(148,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean d\u1ecbch v\u1ee5 "])),(t()(),Nr(150,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\xe1 "])),(t()(),Nr(152,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u01a1n v\u1ecb"])),(t()(),Nr(154,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y t\u1ea1o"])),(t()(),Nr(156,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xecnh tr\u1ea1ng"])),(t()(),Nr(158,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,C0)),Nl(160,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(161,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(162,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"])),(t()(),Nr(164,0,null,null,38,"div",[["class","modal fade"],["id","addDiscount"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(165,0,null,null,37,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(166,0,null,null,36,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(167,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(168,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Nr(169,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Th\xf4ng tin khuy\u1ebfn m\xe3i "])),(t()(),Nr(171,0,null,null,28,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(172,0,null,null,27,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(173,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(174,0,null,null,25,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(175,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(176,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5 khuy\u1ebfn m\xe3i"])),(t()(),Nr(178,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(179,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(180,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u1ed1 ti\u1ec1n"])),(t()(),Nr(182,0,[["amount",1]],null,0,"input",[["class","form-control"],["type","number"]],null,null,null,null,null)),(t()(),Nr(183,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(184,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y khuy\u1ebfn m\xe3i"])),(t()(),Nr(186,0,[["startdate",1]],null,0,"input",[["class","form-control"],["type","date"]],null,null,null,null,null)),(t()(),Nr(187,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(188,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y k\u1ebft th\xfac"])),(t()(),Nr(190,0,[["enddate",1]],null,0,"input",[["class","form-control"],["type","date"]],null,null,null,null,null)),(t()(),Nr(191,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(192,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft"])),(t()(),Nr(194,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),Nr(195,0,null,null,2,"ckeditor",[],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onChange(n)&&i),i}),t0,QJ)),Ll(5120,null,By,(function(t){return[t]}),[KJ]),Nl(197,4374528,null,0,KJ,[Fn,qs],{editor:[0,"editor"]},{change:"change"}),(t()(),Nr(198,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.createDiscount(kl(t,182).value,kl(t,186).value,kl(t,190).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Th\xeam khuy\u1ebfn m\xe3i"])),(t()(),Nr(200,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(201,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"]))],(function(t,e){var n=e.component,i=ki(e,39,0,kl(e,41).transform(n.service,t(e,40,0,10,n._p,n._total)));t(e,39,0,i),t(e,125,0,n.treatment),t(e,160,0,n.serviceHistory),t(e,197,0,n.Editor)}),(function(t,e){var n=e.component;t(e,65,0,n.ServiceDetail.name),t(e,69,0,n.ServiceDetail.cost),t(e,75,0,n.ServiceDetail.unit),t(e,79,0,n.ServiceDetail.guarantee),t(e,178,0,Qi(1,"",n.name_service,""))}))}function S0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-service",[],null,null,null,T0,y0)),Nl(1,245760,null,0,f0,[v0,l0,aZ],null,null)],(function(t,e){t(e,1,0)}),null)}var M0=hl("app-service",f0,S0,{},{},[]);class P0{constructor(t){this.adminService=t,this.Editor=e0,this._p=1,this.is_NoLoad=!0}ngOnInit(){this.loadData(1)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(t){this._p=t,this.subscription=this.adminService.getListDiscount(this._p).subscribe(t=>{this.Discount=t.results,this._total=t.count,console.log(t)},t=>{console.log(t)})}changePage(t){this.loadData(t)}onSelectDiscount(t){}onDeleteService(t){}onSendPromotion(t,e){this.is_NoLoad=!1,this.adminService.sendPromotionToEmail(t,e).subscribe(t=>{this.is_NoLoad=!0},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}}var A0=Ti({encapsulation:0,styles:[[".loader[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-radius:50%;border-top:4px solid #00f;width:20px;height:20px;-webkit-animation:1s linear infinite spin;animation:1s linear infinite spin}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]],data:{}});function E0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSendPromotion(t.parent.context.$implicit.discount_in_service[0].name,t.parent.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["Email th\xf4ng b\xe1o"]))],null,null)}function I0(t){return to(0,[(t()(),Nr(0,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null))],null,null)}function D0(t){return to(0,[(t()(),Nr(0,0,null,null,21,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,["",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,["",""])),(t()(),Nr(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Nr(12,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null)),(t()(),Nr(13,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,E0)),Nl(15,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NoneLoad",2]],null,0,null,I0)),(t()(),Nr(17,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Nr(18,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSelectDiscount(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["Ch\u1ec9nh s\u1eeda"])),(t()(),Nr(20,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDeleteService(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],(function(t,e){t(e,15,0,e.component.is_NoLoad,kl(e,16))}),(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.discount_in_service[0].name),t(e,6,0,e.context.$implicit.amount),t(e,8,0,e.context.$implicit.from_date),t(e,10,0,e.context.$implicit.to_date),t(e,12,0,e.context.$implicit.detail)}))}function O0(t){return to(0,[(t()(),Nr(0,0,null,null,43,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,42,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,41,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(7,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(13,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["# "])),(t()(),Nr(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean d\u1ecbch v\u1ee5 "])),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Khuy\u1ebfn m\xe3i "])),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1eeb ng\xe0y "])),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u1ebfn ng\xe0y "])),(t()(),Nr(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft "])),(t()(),Nr(29,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["G\u1eedi email"])),(t()(),Nr(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(33,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,D0)),Nl(35,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(36,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(38,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(41,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(42,0,null,null,0,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(t()(),Nr(43,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null))],(function(t,e){var n=e.component,i=ki(e,35,0,kl(e,37).transform(n.Discount,t(e,36,0,10,n._p,n._total)));t(e,35,0,i)}),null)}function F0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-discount",[],null,null,null,O0,A0)),Nl(1,245760,null,0,P0,[aZ],null,null)],(function(t,e){t(e,1,0)}),null)}var N0=hl("app-discount",P0,F0,{},{},[]);class R0{constructor(){}ngOnInit(){}}var L0=Ti({encapsulation:0,styles:[[""]],data:{}});function B0(t){return to(0,[(t()(),Nr(0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,18,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,17,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,13,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,10,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,9,"nav",[],null,null,null,null,null)),(t()(),Nr(6,0,null,null,8,"div",[["class","nav nav-tabs"],["id","nav-tab"],["role","tablist"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,3,"p",[["aria-controls","nav-home"],["aria-selected","true"],["class","nav-item nav-link cls-pointer active"],["data-toggle","tab"],["id","nav-home-tab"],["role","tab"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,8).onClick()&&i),i}),null,null)),Nl(8,16384,null,0,wm,[ym,ap,[8,null],Vn,Fn],{routerLink:[0,"routerLink"]},null),Gr(9,1),(t()(),Zr(-1,null,["B\u1ea3ng"])),(t()(),Nr(11,0,null,null,3,"p",[["aria-controls","nav-profile"],["aria-selected","false"],["class","nav-item nav-link cls-pointer"],["data-toggle","tab"],["id","nav-profile-tab"],["role","tab"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,12).onClick()&&i),i}),null,null)),Nl(12,16384,null,0,wm,[ym,ap,[8,null],Vn,Fn],{routerLink:[0,"routerLink"]},null),Gr(13,1),(t()(),Zr(-1,null,["L\u1ecbch"])),(t()(),Nr(15,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(18,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(19,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null)],(function(t,e){var n=t(e,9,0,"./");t(e,8,0,n);var i=t(e,13,0,"./scheduler");t(e,12,0,i),t(e,19,0)}),null)}function V0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-admin-schedule",[],null,null,null,B0,L0)),Nl(1,114688,null,0,R0,[],null,null)],(function(t,e){t(e,1,0)}),null)}var z0=hl("app-admin-schedule",R0,V0,{},{},[]);class j0{constructor(t){this.adminService=t,this.Schedule=[],this._p=1,this.ScheduleDetail={name:"loading",email:"loading",phone:"loading",date:"loading",time:"loading",note:"loading"},this.listFreeTime=["8:00","9:00","10:00","11:00","13:00","14:00","15:00","16:00"],this.options=!1}ngOnInit(){this.loadData(1)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(t){this._p=t,this.subscription=this.adminService.getScheduleByTime(this._p).subscribe(t=>{this.Schedule=t.results,this._total=t.count})}getScheduleDetail(t,e){this.ScheduleDetail=this.Schedule[e],this.subscription=this.adminService.getFreeTimeList(this.ScheduleDetail.date).subscribe(t=>{this.listFreeTime=t},t=>{console.log(t)})}onPickDate(t){this.subscription=this.adminService.getFreeTimeList(t).subscribe(t=>{this.listFreeTime=t},t=>{console.log(t)})}onUpdateSchedule(t,e,n,i,l,s){this.subscription=this.adminService.updateSchedule(this.ScheduleDetail.id,t,e,n,i,l,s).subscribe(t=>{this.loadData(1),qv.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"})},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}changeOption(t){this.options=t,t?this.loadToday(1):this.loadData(1)}loadToday(t){this._p=t,this.adminService.getScheduleToday(this._p).subscribe(t=>{this.Schedule=t.results,this._total=t.count},t=>{console.log(t)})}changePage(t){this._p=t,this.options?this.loadToday(this._p):this.loadData(this._p)}deleteSchedule(t){qv.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a \u0111\u0103ng k\xfd n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then(e=>{e.value&&this.adminService.deleteSchedule(t).subscribe(t=>{this.loadData(1),qv.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})})}}var H0=Ti({encapsulation:0,styles:[[""]],data:{}});function W0(t){return to(0,[(t()(),Nr(0,0,null,null,19,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,[" "," "])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,[" "," "," "])),(t()(),Nr(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(12,null,[" ",""])),(t()(),Nr(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(14,null,[" "," "])),(t()(),Nr(15,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#ModalSchedule"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getScheduleDetail(t.context.$implicit.id,t.context.index)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(18,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.deleteSchedule(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],null,(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.is_reexam?e.context.$implicit.pre_examination.patient.name:e.context.$implicit.name),t(e,6,0,e.context.$implicit.is_reexam?e.context.$implicit.pre_examination.patient.email:e.context.$implicit.email),t(e,8,0,e.context.$implicit.is_reexam?e.context.$implicit.pre_examination.patient.phone:e.context.$implicit.phone),t(e,10,0,e.context.$implicit.date,e.context.$implicit.time),t(e,12,0,e.context.$implicit.is_reexam?e.context.$implicit.detail:e.context.$implicit.message),t(e,14,0,e.context.$implicit.note)}))}function U0(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit,"")),t(e,2,0,Qi(1,"",e.context.$implicit,""))}),(function(t,e){t(e,3,0,e.context.$implicit)}))}function $0(t){return to(0,[(t()(),Nr(0,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,46,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,45,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,15,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-2 col-lg-2"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch kh\xe1m"])),(t()(),Nr(7,0,null,null,8,"div",[["class","col-xs-4 col-sm-4 col-md-6 col-lg-6"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,0,"input",[["class","form-check-input"],["id","inlineRadio1"],["name","inlineRadioOptions"],["type","radio"],["value","option1"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeOption(!0)&&i),i}),null,null)),(t()(),Nr(10,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio1"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\xf4m nay"])),(t()(),Nr(12,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,0,"input",[["checked",""],["class","form-check-input"],["id","inlineRadio2"],["name","inlineRadioOptions"],["type","radio"],["value","option2"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.changeOption(!1)&&i),i}),null,null)),(t()(),Nr(14,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio2"]],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ea5t c\u1ea3"])),(t()(),Nr(16,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"button",[["class","btn btn-success"],["data-target","#addtreatment"],["data-toggle","modal"],["style","width: 20%;"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xeam"])),(t()(),Nr(19,0,null,null,28,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(29,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u0110T"])),(t()(),Nr(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\u1eddi gian"])),(t()(),Nr(33,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Tin nh\u1eafn"])),(t()(),Nr(35,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(37,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(39,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,W0)),Nl(41,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(42,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(44,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(47,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(48,0,null,null,49,"div",[["class","modal fade"],["id","ModalSchedule"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(49,0,null,null,48,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,47,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Th\xf4ng tin "])),(t()(),Nr(55,0,null,null,39,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(56,0,null,null,38,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(57,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(58,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(59,0,null,null,34,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(63,0,[["name",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(64,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(65,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Email"])),(t()(),Nr(67,0,[["email",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(68,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u0110T"])),(t()(),Nr(71,0,[["phone",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(72,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(73,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(74,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(75,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y"])),(t()(),Nr(77,0,[["date",1]],null,0,"input",[["class","form-control"],["type","date"]],[[8,"value",0]],[[null,"input"]],(function(t,e,n){var i=!0;return"input"===e&&(i=!1!==t.component.onPickDate(n.target.value)&&i),i}),null,null)),(t()(),Nr(78,0,null,null,9,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(79,0,null,null,1,"label",[["class","font-weight-bold"],["for","email"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edd"])),(t()(),Nr(81,0,[["time",1]],null,6,"select",[["class","form-control"]],null,null,null,null,null)),(t()(),Nr(82,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),Nl(83,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(84,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(85,null,["",""])),(t()(),Fr(16777216,null,null,1,null,U0)),Nl(87,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(88,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(89,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(91,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(92,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onUpdateSchedule(kl(t,63).value,kl(t,67).value,kl(t,71).value,kl(t,77).value,kl(t,81).value,kl(t,91).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(94,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(95,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(96,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,41,0,kl(e,43).transform(n.Schedule,t(e,42,0,10,n._p,n._total)));t(e,41,0,i),t(e,83,0,n.ScheduleDetail.time),t(e,84,0,n.ScheduleDetail.time),t(e,87,0,n.listFreeTime)}),(function(t,e){var n=e.component;t(e,63,0,Qi(1,"",n.ScheduleDetail.name,"")),t(e,67,0,n.ScheduleDetail.email),t(e,71,0,n.ScheduleDetail.phone),t(e,77,0,n.ScheduleDetail.date),t(e,85,0,n.ScheduleDetail.time),t(e,91,0,n.ScheduleDetail.note)}))}function Y0(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-admin-schedule-table",[],null,null,null,$0,H0)),Nl(1,245760,null,0,j0,[aZ],null,null)],(function(t,e){t(e,1,0)}),null)}var q0=hl("app-admin-schedule-table",j0,Y0,{},{},[]);const G0=(t,e,n,i)=>t<n&&e>i||n<=t&&t<i||n<e&&e<=i;class X0{constructor(t,e){this.adminService=t,this.formBuilder=e,this.selectedDate=new Date,this.events=[],this.StartComponent=!1,this.listSchedule=[],this.startEndValidator=t=>{const e=t.get("start").value,n=t.get("end").value;return null!==e&&null!==n&&e.getTime()<n.getTime()?null:{range:"End date must be greater than Start date"}},this.createFormGroup=this.createFormGroup.bind(this)}createFormGroup(t){const e=t.dataItem;return this.formGroup=this.formBuilder.group({id:t.isNew?this.getNextId():e.id,start:[e.start,Qy.required],end:[e.end,Qy.required],startTimezone:[e.startTimezone],endTimezone:[e.endTimezone],isAllDay:e.isAllDay,title:e.title,description:e.description,recurrenceRule:e.recurrenceRule,recurrenceId:e.recurrenceId,roomId:e.roomId,attendees:[e.attendees]},{validator:this.startEndValidator}),this.formGroup}getNextId(){return 0===this.events.length?1:this.events[this.events.length-1].id+1}ngOnInit(){this.loadSchedule()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadSchedule(){this.subscription=this.adminService.getScheduler().subscribe(t=>{this.listSchedule=t;let e=0;this.listSchedule.forEach(t=>{let n,i=t.time,l=Number(i.slice(0,2))+1,s="";i=(s=l<10?"0"+l.toString():l.toString())+i.slice(2),n=t.is_reexam?{id:e+1,title:t.pre_examination.patient.name+" - "+t.pre_examination.patient.phone+" - "+t.detail,description:t.detail,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+i),readonly:!0}:{id:e+1,title:t.name+" - "+t.phone+" - "+t.message,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+i)},e++,this.events.push(n)}),this.StartComponent=!0;const n=Ga(new Date,"yyyy-MM-dd","en","+0700");this.selectedDate=new Date(n)})}onRemove(t){this.preventReadonly(t)}onEdit(t){console.log("EDITTT"),this.preventReadonly(t)}onAdd(t){this.occupiedSlot(t.dataItem)&&(alert("This time period is occupied."),t.preventDefault())}preventReadonly(t){t.dataItem.readonly&&(alert("The event cannot be changed."),t.preventDefault())}occupiedSlot(t){let e=!1;return this.events.find(n=>{if(n!==t.dataItem&&G0(t.start,t.end,n.start,n.end))return e=!0,!0}),e}}var K0=Ti({encapsulation:0,styles:[[""]],data:{}});function Z0(t){return to(0,[(t()(),Nr(0,0,null,null,74,"div",[["class","cls-Scheduler"],["style","color: coral;"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;color: coral;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,Tq,_q)),Ll(4608,null,bj,bj,[]),Ll(512,null,yj,yj,[]),Ll(512,null,xj,xj,[]),Ll(512,null,Wj,Wj,[qs]),Ll(256,null,Ob,"kendo.scheduler",[]),Ll(131584,null,Gj,Gj,[Ob,[2,Eb],[2,Db]]),Ll(2048,null,Fb,null,[Gj]),Ll(512,null,$j,$j,[]),Ll(131584,null,Yj,Yj,[[2,Vn],[2,Fn],$j]),Ll(512,null,qj,qj,[yv,Fb,He,Yj,xj]),Ll(512,null,Kj,Kj,[]),Nl(13,1818624,null,14,hH,[Fn,yj,xj,Wj,qj,aS,He,qs,Kj,Fb,$j,Vn,Yj],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),zr(335544320,1,{editDialogTemplate:0}),zr(335544320,2,{toolbarTemplate:0}),zr(603979776,3,{views:1}),zr(603979776,4,{allDayEventTemplate:1}),zr(603979776,5,{eventTemplate:1}),zr(603979776,6,{timeSlotTemplate:1}),zr(603979776,7,{minorTimeHeaderTemplate:1}),zr(603979776,8,{majorTimeHeaderTemplate:1}),zr(603979776,9,{monthDaySlotTemplate:1}),zr(603979776,10,{dateHeaderTemplate:1}),zr(603979776,11,{allDaySlotTemplate:1}),zr(603979776,12,{groupHeaderTemplate:1}),zr(603979776,13,{agendaDateTemplate:1}),zr(603979776,14,{agendaTimeTemplate:1}),Ll(512,null,Uj,Uj,[]),Nl(29,212992,null,0,BH,[hH,He,aS,Uj],{data:[0,"data"]},null),Nl(30,16384,null,0,DU,[hH,$j,Yj,qs,He,xj,qj],null,null),(t()(),Nr(31,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,Iq,Aq)),Nl(32,704512,null,8,OW,[aS,Fb,He,yj,xj],null,null),zr(335544320,15,{eventTemplate:0}),zr(335544320,16,{groupHeaderTemplate:0}),zr(335544320,17,{timeSlotTemplate:0}),zr(335544320,18,{dateHeaderTemplate:0}),zr(335544320,19,{allDaySlotTemplate:0}),zr(335544320,20,{allDayEventTemplate:0}),zr(335544320,21,{minorTimeHeaderTemplate:0}),zr(335544320,22,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[OW]),(t()(),Nr(42,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,PG,SG)),Nl(43,704512,null,8,NW,[aS,Fb,He,yj,xj],null,null),zr(335544320,23,{eventTemplate:0}),zr(335544320,24,{groupHeaderTemplate:0}),zr(335544320,25,{timeSlotTemplate:0}),zr(335544320,26,{dateHeaderTemplate:0}),zr(335544320,27,{allDaySlotTemplate:0}),zr(335544320,28,{allDayEventTemplate:0}),zr(335544320,29,{minorTimeHeaderTemplate:0}),zr(335544320,30,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[NW]),(t()(),Nr(53,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,Pq,Sq)),Nl(54,704512,null,8,IW,[Fb,He,yj,xj],null,null),zr(335544320,31,{eventTemplate:0}),zr(335544320,32,{groupHeaderTemplate:0}),zr(335544320,33,{timeSlotTemplate:0}),zr(335544320,34,{dateHeaderTemplate:0}),zr(335544320,35,{allDaySlotTemplate:0}),zr(335544320,36,{allDayEventTemplate:0}),zr(335544320,37,{minorTimeHeaderTemplate:0}),zr(335544320,38,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[IW]),(t()(),Nr(64,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,TG,_G)),Nl(65,704512,null,8,DW,[Fb,He,yj,xj],{numberOfDays:[0,"numberOfDays"]},null),zr(335544320,39,{eventTemplate:0}),zr(335544320,40,{groupHeaderTemplate:0}),zr(335544320,41,{timeSlotTemplate:0}),zr(335544320,42,{dateHeaderTemplate:0}),zr(335544320,43,{allDaySlotTemplate:0}),zr(335544320,44,{allDayEventTemplate:0}),zr(335544320,45,{minorTimeHeaderTemplate:0}),zr(335544320,46,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[DW])],(function(t,e){var n=e.component;t(e,13,0,"07:00","19:00",n.selectedDate),t(e,29,0,n.events),t(e,65,0,3)}),(function(t,e){t(e,1,0,kl(e,13).hostClasses,kl(e,13).hostClasses,kl(e,13).hostClasses,kl(e,13).rtl,kl(e,13).dir)}))}function Q0(t){return to(0,[(t()(),Nr(0,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,Tq,_q)),Ll(4608,null,bj,bj,[]),Ll(512,null,yj,yj,[]),Ll(512,null,xj,xj,[]),Ll(512,null,Wj,Wj,[qs]),Ll(256,null,Ob,"kendo.scheduler",[]),Ll(131584,null,Gj,Gj,[Ob,[2,Eb],[2,Db]]),Ll(2048,null,Fb,null,[Gj]),Ll(512,null,$j,$j,[]),Ll(131584,null,Yj,Yj,[[2,Vn],[2,Fn],$j]),Ll(512,null,qj,qj,[yv,Fb,He,Yj,xj]),Ll(512,null,Kj,Kj,[]),Nl(12,1818624,null,14,hH,[Fn,yj,xj,Wj,qj,aS,He,qs,Kj,Fb,$j,Vn,Yj],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),zr(335544320,47,{editDialogTemplate:0}),zr(335544320,48,{toolbarTemplate:0}),zr(603979776,49,{views:1}),zr(603979776,50,{allDayEventTemplate:1}),zr(603979776,51,{eventTemplate:1}),zr(603979776,52,{timeSlotTemplate:1}),zr(603979776,53,{minorTimeHeaderTemplate:1}),zr(603979776,54,{majorTimeHeaderTemplate:1}),zr(603979776,55,{monthDaySlotTemplate:1}),zr(603979776,56,{dateHeaderTemplate:1}),zr(603979776,57,{allDaySlotTemplate:1}),zr(603979776,58,{groupHeaderTemplate:1}),zr(603979776,59,{agendaDateTemplate:1}),zr(603979776,60,{agendaTimeTemplate:1}),Ll(512,null,Uj,Uj,[]),Nl(28,212992,null,0,BH,[hH,He,aS,Uj],{data:[0,"data"]},null),Nl(29,16384,null,0,DU,[hH,$j,Yj,qs,He,xj,qj],null,null),(t()(),Nr(30,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,Iq,Aq)),Nl(31,704512,null,8,OW,[aS,Fb,He,yj,xj],null,null),zr(335544320,61,{eventTemplate:0}),zr(335544320,62,{groupHeaderTemplate:0}),zr(335544320,63,{timeSlotTemplate:0}),zr(335544320,64,{dateHeaderTemplate:0}),zr(335544320,65,{allDaySlotTemplate:0}),zr(335544320,66,{allDayEventTemplate:0}),zr(335544320,67,{minorTimeHeaderTemplate:0}),zr(335544320,68,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[OW]),(t()(),Nr(41,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,PG,SG)),Nl(42,704512,null,8,NW,[aS,Fb,He,yj,xj],null,null),zr(335544320,69,{eventTemplate:0}),zr(335544320,70,{groupHeaderTemplate:0}),zr(335544320,71,{timeSlotTemplate:0}),zr(335544320,72,{dateHeaderTemplate:0}),zr(335544320,73,{allDaySlotTemplate:0}),zr(335544320,74,{allDayEventTemplate:0}),zr(335544320,75,{minorTimeHeaderTemplate:0}),zr(335544320,76,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[NW]),(t()(),Nr(52,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,Pq,Sq)),Nl(53,704512,null,8,IW,[Fb,He,yj,xj],null,null),zr(335544320,77,{eventTemplate:0}),zr(335544320,78,{groupHeaderTemplate:0}),zr(335544320,79,{timeSlotTemplate:0}),zr(335544320,80,{dateHeaderTemplate:0}),zr(335544320,81,{allDaySlotTemplate:0}),zr(335544320,82,{allDayEventTemplate:0}),zr(335544320,83,{minorTimeHeaderTemplate:0}),zr(335544320,84,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[IW]),(t()(),Nr(63,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,TG,_G)),Nl(64,704512,null,8,DW,[Fb,He,yj,xj],{numberOfDays:[0,"numberOfDays"]},null),zr(335544320,85,{eventTemplate:0}),zr(335544320,86,{groupHeaderTemplate:0}),zr(335544320,87,{timeSlotTemplate:0}),zr(335544320,88,{dateHeaderTemplate:0}),zr(335544320,89,{allDaySlotTemplate:0}),zr(335544320,90,{allDayEventTemplate:0}),zr(335544320,91,{minorTimeHeaderTemplate:0}),zr(335544320,92,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[DW])],(function(t,e){var n=e.component;t(e,12,0,"07:00","19:00",n.selectedDate),t(e,28,0,n.events),t(e,64,0,3)}),(function(t,e){t(e,0,0,kl(e,12).hostClasses,kl(e,12).hostClasses,kl(e,12).hostClasses,kl(e,12).rtl,kl(e,12).dir)}))}function J0(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,Z0)),Nl(1,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NotYet",2]],null,0,null,Q0))],(function(t,e){t(e,1,0,e.component.StartComponent,kl(e,2))}),null)}function t1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-admin-scheduler",[],null,null,null,J0,K0)),Nl(1,245760,null,0,X0,[aZ,Jw],null,null)],(function(t,e){t(e,1,0)}),null)}var e1=hl("app-admin-scheduler",X0,t1,{},{},[]);class n1{constructor(t,e){this.userService=t,this.doctorService=e,this.User={image:"loading"},this.StartComponent=!1,this.selectedDate=new Date,this.events=[],this.listSchedule=[]}ngOnInit(){this.loadProfile()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onLogout(){this.subscription=this.userService.logoutUser().subscribe(t=>{localStorage.removeItem("bearToken"),window.location.reload()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"}),localStorage.removeItem("bearToken"),window.location.reload()})}loadProfile(){this.subscription=this.userService.getUserProfile().subscribe(t=>{this.User=t.results[0]},t=>{if(401==t.status)this.userService.refreshToken(localStorage.getItem("refresh")).subscribe(t=>{localStorage.setItem("bearToken",t.access),window.location.reload()},t=>{localStorage.removeItem("bearToken"),localStorage.removeItem("refresh"),qv.a.fire({title:"Error!",text:"H\u1ebft h\u1ea1n \u0111\u0103ng nh\u1eadp",icon:"error",confirmButtonText:"Cool"}),window.location.reload()});else{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})}})}loadSchedule(){this.subscription=this.doctorService.getScheduler().subscribe(t=>{this.listSchedule=t;let e=0;this.listSchedule.forEach(t=>{let n,i=t.time,l=Number(i.slice(0,2))+1,s="";i=(s=l<10?"0"+l.toString():l.toString())+i.slice(2),n=t.is_reexam?{id:e+1,title:t.pre_examination.patient.name+" - "+t.pre_examination.patient.phone+" - "+t.detail,description:t.detail,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+i),readonly:!0}:{id:e+1,title:t.name+" - "+t.phone+" - "+t.message,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+i)},e++,this.events.push(n)}),this.StartComponent=!0;const n=Ga(new Date,"yyyy-MM-dd","en","+0700");this.selectedDate=new Date(n)})}}const i1={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})};let l1=(()=>{class t{constructor(t){this.http=t,this.API=aa.urlApi,this.load=!0}getListTooth(){return this.http.get(`${this.API}/api/tooth/`,i1)}getListWaitingPatient(){return this.http.get(`${this.API}/api/doctor_examination/`,i1)}getListCategory(){return this.http.get(`${this.API}/api/doctor_treatment/`,i1)}getListService(){return this.http.get(`${this.API}/api/doctor_service/`,i1)}filterListService(t){return this.http.get(`${this.API}/api/doctor_service/?treatment=${t}`,i1)}pickExamination(t){const e=JSON.stringify({is_examining:!0});return this.http.patch(`${this.API}/api/doctor_examination/${t}/`,e,i1)}getExaminationByID(t){return this.http.get(`${this.API}/api/doctor_examination/${t}/`,i1)}deleteExamination(t){return this.http.delete(`${this.API}/api/doctor_examination/${t}/`,i1)}getPublicExamination(t,e){return this.http.get(`${this.API}/api/public/examination/?page=${t}&search=${e}`,i1)}getPublicExaminationSearch(t,e){return this.http.get(`${this.API}/api/public/examination/?page=${t}&search=${e}`,i1)}reverseExamination(t){const e=JSON.stringify({is_deleted:!1});return this.http.patch(`${this.API}/api/doctor_examination/${t}/`,e,i1)}filterDiagnosisByExam(t){return this.http.get(`${this.API}/api/public/diagnosis/?examination=${t}`,i1)}getListDiagnosis(t){return this.http.get(`${this.API}/api/diagnosis/?page=${t}`,i1)}updateDiagnosis(t,e){const n=JSON.stringify({note:e});return this.http.patch(`${this.API}/api/diagnosis/${t}/`,n,i1)}deleteDiagnosis(t){return this.http.delete(`${this.API}/api/diagnosis/${t}/`,i1)}createDiagnosis(t,e,n,i){console.log("note: "+t,"service: "+e,"exam: "+n,"tooth:"+i);const l=JSON.stringify({note:t,service:e,examination:n,tooth:i});return this.http.post(`${this.API}/api/diagnosis/`,l,i1)}finishExamination(t){const e=JSON.stringify({is_done:!0,is_examining:!1});return this.http.patch(`${this.API}/api/doctor_examination/${t}/`,e,i1)}createShedule(t,e,n,i){const l=JSON.stringify({date:t,time:e,detail:n,pre_examination:i});return this.http.post(`${this.API}/api/schedule/re-exam/`,l,i1)}getScheduler(){return this.http.get(`${this.API}/api/scheduler/?ordering=date,time`,i1)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(hy))},token:t,providedIn:"root"}),t})();var s1=Ti({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{padding:0!important}.inline-display[_ngcontent-%COMP%]{display:inline}"]],data:{}});function r1(t){return to(0,[(t()(),Nr(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["width","36"]],[[8,"src",4]],null,null,null,null))],null,(function(t,e){t(e,0,0,Qi(1,"",e.component.User.image,""))}))}function o1(t){return to(0,[(t()(),Nr(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/img/logodoctor.png"],["width","36"]],null,null,null,null,null))],null,null)}function a1(t){return to(0,[(t()(),Nr(0,0,null,null,74,"div",[["class","cls-Scheduler"],["style","color: coral;"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;color: coral;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,Tq,_q)),Ll(4608,null,bj,bj,[]),Ll(512,null,yj,yj,[]),Ll(512,null,xj,xj,[]),Ll(512,null,Wj,Wj,[qs]),Ll(256,null,Ob,"kendo.scheduler",[]),Ll(131584,null,Gj,Gj,[Ob,[2,Eb],[2,Db]]),Ll(2048,null,Fb,null,[Gj]),Ll(512,null,$j,$j,[]),Ll(131584,null,Yj,Yj,[[2,Vn],[2,Fn],$j]),Ll(512,null,qj,qj,[yv,Fb,He,Yj,xj]),Ll(512,null,Kj,Kj,[]),Nl(13,1818624,null,14,hH,[Fn,yj,xj,Wj,qj,aS,He,qs,Kj,Fb,$j,Vn,Yj],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),zr(335544320,1,{editDialogTemplate:0}),zr(335544320,2,{toolbarTemplate:0}),zr(603979776,3,{views:1}),zr(603979776,4,{allDayEventTemplate:1}),zr(603979776,5,{eventTemplate:1}),zr(603979776,6,{timeSlotTemplate:1}),zr(603979776,7,{minorTimeHeaderTemplate:1}),zr(603979776,8,{majorTimeHeaderTemplate:1}),zr(603979776,9,{monthDaySlotTemplate:1}),zr(603979776,10,{dateHeaderTemplate:1}),zr(603979776,11,{allDaySlotTemplate:1}),zr(603979776,12,{groupHeaderTemplate:1}),zr(603979776,13,{agendaDateTemplate:1}),zr(603979776,14,{agendaTimeTemplate:1}),Ll(512,null,Uj,Uj,[]),Nl(29,212992,null,0,BH,[hH,He,aS,Uj],{data:[0,"data"]},null),Nl(30,16384,null,0,DU,[hH,$j,Yj,qs,He,xj,qj],null,null),(t()(),Nr(31,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,Iq,Aq)),Nl(32,704512,null,8,OW,[aS,Fb,He,yj,xj],null,null),zr(335544320,15,{eventTemplate:0}),zr(335544320,16,{groupHeaderTemplate:0}),zr(335544320,17,{timeSlotTemplate:0}),zr(335544320,18,{dateHeaderTemplate:0}),zr(335544320,19,{allDaySlotTemplate:0}),zr(335544320,20,{allDayEventTemplate:0}),zr(335544320,21,{minorTimeHeaderTemplate:0}),zr(335544320,22,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[OW]),(t()(),Nr(42,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,PG,SG)),Nl(43,704512,null,8,NW,[aS,Fb,He,yj,xj],null,null),zr(335544320,23,{eventTemplate:0}),zr(335544320,24,{groupHeaderTemplate:0}),zr(335544320,25,{timeSlotTemplate:0}),zr(335544320,26,{dateHeaderTemplate:0}),zr(335544320,27,{allDaySlotTemplate:0}),zr(335544320,28,{allDayEventTemplate:0}),zr(335544320,29,{minorTimeHeaderTemplate:0}),zr(335544320,30,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[NW]),(t()(),Nr(53,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,Pq,Sq)),Nl(54,704512,null,8,IW,[Fb,He,yj,xj],null,null),zr(335544320,31,{eventTemplate:0}),zr(335544320,32,{groupHeaderTemplate:0}),zr(335544320,33,{timeSlotTemplate:0}),zr(335544320,34,{dateHeaderTemplate:0}),zr(335544320,35,{allDaySlotTemplate:0}),zr(335544320,36,{allDayEventTemplate:0}),zr(335544320,37,{minorTimeHeaderTemplate:0}),zr(335544320,38,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[IW]),(t()(),Nr(64,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,TG,_G)),Nl(65,704512,null,8,DW,[Fb,He,yj,xj],{numberOfDays:[0,"numberOfDays"]},null),zr(335544320,39,{eventTemplate:0}),zr(335544320,40,{groupHeaderTemplate:0}),zr(335544320,41,{timeSlotTemplate:0}),zr(335544320,42,{dateHeaderTemplate:0}),zr(335544320,43,{allDaySlotTemplate:0}),zr(335544320,44,{allDayEventTemplate:0}),zr(335544320,45,{minorTimeHeaderTemplate:0}),zr(335544320,46,{majorTimeHeaderTemplate:0}),Ll(2048,[[3,4]],vj,null,[DW])],(function(t,e){var n=e.component;t(e,13,0,"07:00","19:00",n.selectedDate),t(e,29,0,n.events),t(e,65,0,3)}),(function(t,e){t(e,1,0,kl(e,13).hostClasses,kl(e,13).hostClasses,kl(e,13).hostClasses,kl(e,13).rtl,kl(e,13).dir)}))}function u1(t){return to(0,[(t()(),Nr(0,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,Tq,_q)),Ll(4608,null,bj,bj,[]),Ll(512,null,yj,yj,[]),Ll(512,null,xj,xj,[]),Ll(512,null,Wj,Wj,[qs]),Ll(256,null,Ob,"kendo.scheduler",[]),Ll(131584,null,Gj,Gj,[Ob,[2,Eb],[2,Db]]),Ll(2048,null,Fb,null,[Gj]),Ll(512,null,$j,$j,[]),Ll(131584,null,Yj,Yj,[[2,Vn],[2,Fn],$j]),Ll(512,null,qj,qj,[yv,Fb,He,Yj,xj]),Ll(512,null,Kj,Kj,[]),Nl(12,1818624,null,14,hH,[Fn,yj,xj,Wj,qj,aS,He,qs,Kj,Fb,$j,Vn,Yj],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),zr(335544320,47,{editDialogTemplate:0}),zr(335544320,48,{toolbarTemplate:0}),zr(603979776,49,{views:1}),zr(603979776,50,{allDayEventTemplate:1}),zr(603979776,51,{eventTemplate:1}),zr(603979776,52,{timeSlotTemplate:1}),zr(603979776,53,{minorTimeHeaderTemplate:1}),zr(603979776,54,{majorTimeHeaderTemplate:1}),zr(603979776,55,{monthDaySlotTemplate:1}),zr(603979776,56,{dateHeaderTemplate:1}),zr(603979776,57,{allDaySlotTemplate:1}),zr(603979776,58,{groupHeaderTemplate:1}),zr(603979776,59,{agendaDateTemplate:1}),zr(603979776,60,{agendaTimeTemplate:1}),Ll(512,null,Uj,Uj,[]),Nl(28,212992,null,0,BH,[hH,He,aS,Uj],{data:[0,"data"]},null),Nl(29,16384,null,0,DU,[hH,$j,Yj,qs,He,xj,qj],null,null),(t()(),Nr(30,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,Iq,Aq)),Nl(31,704512,null,8,OW,[aS,Fb,He,yj,xj],null,null),zr(335544320,61,{eventTemplate:0}),zr(335544320,62,{groupHeaderTemplate:0}),zr(335544320,63,{timeSlotTemplate:0}),zr(335544320,64,{dateHeaderTemplate:0}),zr(335544320,65,{allDaySlotTemplate:0}),zr(335544320,66,{allDayEventTemplate:0}),zr(335544320,67,{minorTimeHeaderTemplate:0}),zr(335544320,68,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[OW]),(t()(),Nr(41,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,PG,SG)),Nl(42,704512,null,8,NW,[aS,Fb,He,yj,xj],null,null),zr(335544320,69,{eventTemplate:0}),zr(335544320,70,{groupHeaderTemplate:0}),zr(335544320,71,{timeSlotTemplate:0}),zr(335544320,72,{dateHeaderTemplate:0}),zr(335544320,73,{allDaySlotTemplate:0}),zr(335544320,74,{allDayEventTemplate:0}),zr(335544320,75,{minorTimeHeaderTemplate:0}),zr(335544320,76,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[NW]),(t()(),Nr(52,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,Pq,Sq)),Nl(53,704512,null,8,IW,[Fb,He,yj,xj],null,null),zr(335544320,77,{eventTemplate:0}),zr(335544320,78,{groupHeaderTemplate:0}),zr(335544320,79,{timeSlotTemplate:0}),zr(335544320,80,{dateHeaderTemplate:0}),zr(335544320,81,{allDaySlotTemplate:0}),zr(335544320,82,{allDayEventTemplate:0}),zr(335544320,83,{minorTimeHeaderTemplate:0}),zr(335544320,84,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[IW]),(t()(),Nr(63,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,TG,_G)),Nl(64,704512,null,8,DW,[Fb,He,yj,xj],{numberOfDays:[0,"numberOfDays"]},null),zr(335544320,85,{eventTemplate:0}),zr(335544320,86,{groupHeaderTemplate:0}),zr(335544320,87,{timeSlotTemplate:0}),zr(335544320,88,{dateHeaderTemplate:0}),zr(335544320,89,{allDaySlotTemplate:0}),zr(335544320,90,{allDayEventTemplate:0}),zr(335544320,91,{minorTimeHeaderTemplate:0}),zr(335544320,92,{majorTimeHeaderTemplate:0}),Ll(2048,[[49,4]],vj,null,[DW])],(function(t,e){var n=e.component;t(e,12,0,"07:00","19:00",n.selectedDate),t(e,28,0,n.events),t(e,64,0,3)}),(function(t,e){t(e,0,0,kl(e,12).hostClasses,kl(e,12).hostClasses,kl(e,12).hostClasses,kl(e,12).rtl,kl(e,12).dir)}))}function c1(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[["class","preloader"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,":svg:svg",[["class","circular"],["viewBox","25 25 50 50"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,0,":svg:circle",[["class","path"],["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,62,"div",[["id","wrapper"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,20,"nav",[["class","navbar navbar-default navbar-static-top m-b-0"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,19,"div",[["class","navbar-header"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,7,"div",[["class","top-left-part"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,6,"a",[["class","logo"],["href","/admin"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,2,"b",[],null,null,null,null,null)),(t()(),Nr(9,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["src","assets/plugins/images/logo01.png"],["width","50px"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,2,"span",[["class","hidden-xs"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["height","24px"],["src","assets/plugins/images/gdental3.png"],["width","139px"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,10,"ul",[["class","nav navbar-top-links navbar-right pull-right"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,1,"a",[["class","nav-toggler open-close waves-effect waves-light hidden-md hidden-lg"],["href","javascript:void(0)"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,6,"li",[],null,null,null,null,null)),(t()(),Nr(19,0,null,null,3,"a",[["class","profile-pic inline-display"],["href","./"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,r1)),Nl(21,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NoAvatar",2]],null,0,null,o1)),(t()(),Nr(23,0,null,null,1,"button",[["class","btn btn-danger profile-pic inline-display"],["data-dismiss","modal"],["style","margin-right: 10px"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onLogout()&&i),i}),null,null)),(t()(),Zr(-1,null,["\u0110\u0103ng xu\u1ea5t"])),(t()(),Nr(25,0,null,null,34,"div",[["class","navbar-default sidebar"],["role","navigation"]],null,null,null,null,null)),(t()(),Nr(26,0,null,null,33,"div",[["class","sidebar-nav slimscrollsidebar"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,5,"div",[["class","sidebar-head"]],null,null,null,null,null)),(t()(),Nr(28,0,null,null,4,"h3",[],null,null,null,null,null)),(t()(),Nr(29,0,null,null,1,"span",[["class","fa-fw open-close"]],null,null,null,null,null)),(t()(),Nr(30,0,null,null,0,"i",[["class","ti-close ti-menu"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,1,"span",[["class","hide-menu"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Navigation"])),(t()(),Nr(33,0,null,null,26,"ul",[["class","nav"],["id","side-menu"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,3,"li",[["style","padding: 70px 0 0;"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,2,"a",[["class","waves-effect"],["href","/doctor"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clock-o fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Trang ch\xednh"])),(t()(),Nr(38,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(39,0,null,null,4,"a",[["class","waves-effect"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,40).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(40,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(41,1),(t()(),Nr(42,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-users fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(44,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(45,0,null,null,4,"a",[["class","waves-effect"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,46).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(46,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(47,1),(t()(),Nr(48,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-book fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(t()(),Nr(50,0,null,null,5,"li",[],null,null,null,null,null)),(t()(),Nr(51,0,null,null,4,"a",[["class","waves-effect"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,52).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(52,671744,null,0,xm,[ym,ap,ka],{routerLink:[0,"routerLink"]},null),Gr(53,1),(t()(),Nr(54,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-table fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ch\u1ea9n \u0111o\xe1n"])),(t()(),Nr(56,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Nr(57,0,null,null,2,"a",[["class","waves-effect"],["data-target","#scheduleViewModal"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.loadSchedule()&&i),i}),null,null)),(t()(),Nr(58,0,null,null,0,"i",[["class","fa fa-calendar-o fa-fw"]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch kh\xe1m"])),(t()(),Nr(60,0,null,null,5,"div",[["id","page-wrapper"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),Nr(62,0,null,null,0,"div",[["class","row bg-title"]],null,null,null,null,null)),(t()(),Nr(63,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(64,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(65,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null),(t()(),Nr(66,0,null,null,13,"div",[["class","modal fade"],["id","scheduleViewModal"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(67,0,null,null,12,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(68,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(71,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" L\u1ecbch kh\xe1m "])),(t()(),Nr(73,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,a1)),Nl(75,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NotYet",2]],null,0,null,u1)),(t()(),Nr(77,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(78,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"]))],(function(t,e){var n=e.component;t(e,21,0,n.User.image,kl(e,22));var i=t(e,41,0,"./customer");t(e,40,0,i);var l=t(e,47,0,"./examination");t(e,46,0,l);var s=t(e,53,0,"./diagnosis");t(e,52,0,s),t(e,65,0),t(e,75,0,n.StartComponent,kl(e,76))}),(function(t,e){t(e,39,0,kl(e,40).target,kl(e,40).href),t(e,45,0,kl(e,46).target,kl(e,46).href),t(e,51,0,kl(e,52).target,kl(e,52).href)}))}function h1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-docter-home-page",[],null,null,null,c1,s1)),Nl(1,245760,null,0,n1,[Ay,l1],null,null)],(function(t,e){t(e,1,0)}),null)}var d1=hl("app-docter-home-page",n1,h1,{},{},[]);class p1{constructor(t,e){this.doctorService=t,this.renderer=e,this.Patient=null,this.deletedPatient=-1,this.currentPatient={id_exam:0,patient_name:"loading",note:"loading"},this.Diagnosis=[],this.EnableReExam=!1,this.arr_tooth=[],this.eventList=[]}ngOnInit(){this.loadTooth(),this.loadPatient(),this.loadCategory()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadTooth(){this.subscription=this.doctorService.getListTooth().subscribe(t=>{this.tooth=t})}loadPatient(){this.subscription=this.doctorService.getListWaitingPatient().subscribe(t=>{this.Patient=t},t=>{console.log(t)})}onRefreshQueue(){this.loadPatient()}loadCategory(){this.subscription=this.doctorService.getListCategory().subscribe(t=>{this.Category=t,this.loadService(t[0].id)},t=>{console.log(t)})}loadService(t){this.subscription=this.doctorService.filterListService(t).subscribe(t=>{this.Service=t},t=>{console.log(t)})}filterService(t){this.subscription=this.doctorService.filterListService(t).subscribe(t=>{this.Service=t},t=>{console.log(t)})}toggleClass(t,e,n,i){const l=t.target.classList.contains(e);"h\xe0m"==this.unit&&n<33?qv.a.fire("C\u1ea3nh b\xe1o","Vui l\xf2ng ch\u1ecdn r\u0103ng h\xe0m!","question"):l?(this.renderer.removeClass(t.target,e),this.arr_tooth.splice(this.arr_tooth.indexOf(n),1)):("A1"==i?this.eventList.forEach(t=>{"1"==t.parentElement.innerText.substr(1,1)&&(this.arr_tooth.splice(this.arr_tooth.indexOf(parseInt(t.id)),1),this.renderer.removeClass(t,e))}):"A2"==i?this.eventList.forEach(t=>{"0"==t.parentElement.innerText.substr(1,1)&&(this.arr_tooth.splice(this.arr_tooth.indexOf(parseInt(t.id)),1),this.renderer.removeClass(t,e))}):"A3"==i&&(this.eventList.forEach(t=>{this.renderer.removeClass(t,e)}),this.arr_tooth=[]),console.log(t.target),this.renderer.addClass(t.target,e),this.arr_tooth.push(n),this.eventList.push(t.target))}onEnableReExam(){this.EnableReExam=!this.EnableReExam}getCurrentPatient(t,e,n){this.doctorService.pickExamination(t).subscribe(i=>{this.currentPatient.id_exam=t,this.currentPatient.patient_name=e,this.currentPatient.note=n,document.getElementById("btnsave").disabled=!1,this.getDiagnosis(t)},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"}),this.loadPatient()})}onNextPatient(t){this.doctorService.deleteExamination(t).subscribe(e=>{this.deletedPatient=t,this.loadPatient()},t=>{console.log(t)})}onReversePatient(){this.doctorService.reverseExamination(this.deletedPatient).subscribe(t=>{this.loadPatient()},t=>{console.log(t)})}onSelectedService(t){const e=t.indexOf(" ");this.id_service=t.substring(0,e),this.unit=t.substring(e+1),"h\xe0m"==t.substring(e+1)&&this.eventList.forEach(t=>{this.renderer.removeClass(t,"highlight")})}onDiganosis(t,e){const n=e.substring(0,e.indexOf(" "));this.arr_tooth.length<1?qv.a.fire("L\u01b0u \xfd","Vui l\xf2ng ch\u1ecdn v\u1ecb tr\xed r\u0103ng","question"):""!=t?this.doctorService.createDiagnosis(t,n,this.currentPatient.id_exam,this.arr_tooth).subscribe(t=>{this.eventList.forEach(t=>{this.renderer.removeClass(t,"highlight")}),this.eventList=[],this.arr_tooth=[],document.getElementById("doctor_note").value="",this.getDiagnosis(this.currentPatient.id_exam)},t=>{console.log(t)}):qv.a.fire("L\u01b0u \xfd","Vui l\xf2ng nh\u1eadp ch\u1ea9n \u0111o\xe1n","question")}getDiagnosis(t){this.subscription=this.doctorService.filterDiagnosisByExam(t).subscribe(t=>{this.Diagnosis=t},t=>{console.log(t)})}deleteDiagnosis(t){this.doctorService.deleteDiagnosis(t).subscribe(t=>{this.getDiagnosis(this.currentPatient.id_exam)},t=>{console.log(t)})}onFinish(){null!=this.currentPatient.id_exam?this.doctorService.finishExamination(this.currentPatient.id_exam).subscribe(t=>{qv.a.fire({title:"Success",text:"Qu\xe1 tr\xecnh kh\xe1m \u0111\xe3 ho\xe0n t\u1ea5t. H\xe3y ch\u1ecdn b\u1ec7nh nh\xe2n ti\u1ebfp theo!",icon:"success"}),this.loadPatient(),this.Diagnosis=[],this.EnableReExam=!1},t=>{console.log(t)}):qv.a.fire("L\u01b0u \xfd","B\u1ea1n ch\u01b0a kh\xe1m cho ai c\u1ea3!","question")}onShedule(t,e,n){this.doctorService.createShedule(t,e,n,this.currentPatient.id_exam).subscribe(t=>{qv.a.fire({title:"Success",text:"\u0110\xe3 th\xeam v\xe0o l\u1ecbch h\u1eb9n kh\xe1m",icon:"success"})},t=>{console.log(t)})}}var m1=Ti({encapsulation:0,styles:[[".inline-display[_ngcontent-%COMP%]{display:block}.testclass[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.element-5[_ngcontent-%COMP%]{width:6.25%;height:10%}.tooth[_ngcontent-%COMP%]:active, .tooth[_ngcontent-%COMP%]:focus{border:5px solid green}.range[_ngcontent-%COMP%]{border:5px solid #000}.highlight[_ngcontent-%COMP%]{border:2px solid #8a2be2;border-radius:50%}.parent-element[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between}.option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;right:0;bottom:0;left:0;height:20px;width:20px;-webkit-transition:.15s ease-out;transition:all .15s ease-out 0s;background:#cbd1d8;border:none;color:#fff;cursor:pointer;display:inline-block;outline:0;position:relative;z-index:1000}.option-input[_ngcontent-%COMP%]:checked, .option-input[_ngcontent-%COMP%]:hover{background:#8a8a8a}.option-input[_ngcontent-%COMP%]:checked::before{height:20px;width:20px;position:absolute;content:'\u2714';display:inline-block;font-size:14px;text-align:center;line-height:20px;z-index:10000}.option-input[_ngcontent-%COMP%]:checked::after{-webkit-animation:.65s click-wave;animation:.65s click-wave;background:#8a8a8a;content:'';display:block;position:relative;z-index:100;height:20px;width:20px}.option-input.radio[_ngcontent-%COMP%], .option-input.radio[_ngcontent-%COMP%]::after{border-radius:50%}.gray-box[_ngcontent-%COMP%]{padding:0;margin-bottom:30px;border-bottom:#000;width:100%}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-top:none}.tr-hover[_ngcontent-%COMP%]:hover{cursor:pointer}.cls-label[_ngcontent-%COMP%]{display:block;padding-left:15px;text-indent:-15px}.cls-input[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;margin:0;vertical-align:bottom;position:relative;top:-1px}.cls-hover[_ngcontent-%COMP%]:hover{cursor:pointer;color:brown}.shake[_ngcontent-%COMP%]:hover{-webkit-animation:.5s infinite shake;animation:.5s infinite shake}@-webkit-keyframes shake{0%{-webkit-transform:translate(1px,1px) rotate(0);transform:translate(1px,1px) rotate(0)}10%{-webkit-transform:translate(-1px,-2px) rotate(-1deg);transform:translate(-1px,-2px) rotate(-1deg)}20%{-webkit-transform:translate(-3px,0) rotate(1deg);transform:translate(-3px,0) rotate(1deg)}30%{-webkit-transform:translate(3px,2px) rotate(0);transform:translate(3px,2px) rotate(0)}40%{-webkit-transform:translate(1px,-1px) rotate(1deg);transform:translate(1px,-1px) rotate(1deg)}50%{-webkit-transform:translate(-1px,2px) rotate(-1deg);transform:translate(-1px,2px) rotate(-1deg)}60%{-webkit-transform:translate(-3px,1px) rotate(0);transform:translate(-3px,1px) rotate(0)}70%{-webkit-transform:translate(3px,1px) rotate(-1deg);transform:translate(3px,1px) rotate(-1deg)}80%{-webkit-transform:translate(-1px,-1px) rotate(1deg);transform:translate(-1px,-1px) rotate(1deg)}90%{-webkit-transform:translate(1px,2px) rotate(0);transform:translate(1px,2px) rotate(0)}100%{-webkit-transform:translate(1px,-2px) rotate(-1deg);transform:translate(1px,-2px) rotate(-1deg)}}@keyframes shake{0%{-webkit-transform:translate(1px,1px) rotate(0);transform:translate(1px,1px) rotate(0)}10%{-webkit-transform:translate(-1px,-2px) rotate(-1deg);transform:translate(-1px,-2px) rotate(-1deg)}20%{-webkit-transform:translate(-3px,0) rotate(1deg);transform:translate(-3px,0) rotate(1deg)}30%{-webkit-transform:translate(3px,2px) rotate(0);transform:translate(3px,2px) rotate(0)}40%{-webkit-transform:translate(1px,-1px) rotate(1deg);transform:translate(1px,-1px) rotate(1deg)}50%{-webkit-transform:translate(-1px,2px) rotate(-1deg);transform:translate(-1px,2px) rotate(-1deg)}60%{-webkit-transform:translate(-3px,1px) rotate(0);transform:translate(-3px,1px) rotate(0)}70%{-webkit-transform:translate(3px,1px) rotate(-1deg);transform:translate(3px,1px) rotate(-1deg)}80%{-webkit-transform:translate(-1px,-1px) rotate(1deg);transform:translate(-1px,-1px) rotate(1deg)}90%{-webkit-transform:translate(1px,2px) rotate(0);transform:translate(1px,2px) rotate(0)}100%{-webkit-transform:translate(1px,-2px) rotate(-1deg);transform:translate(1px,-2px) rotate(-1deg)}}.cls-padding[_ngcontent-%COMP%]{padding-top:7px;padding-bottom:auto}.cls-img[_ngcontent-%COMP%]{cursor:pointer}.scrollbar[_ngcontent-%COMP%]{float:left;height:62%;width:100%;background:#f5f5f5;overflow-y:scroll;margin-bottom:25px}.scrollbar2[_ngcontent-%COMP%]{float:left;height:30%;width:100%;background:#f5f5f5;overflow-y:scroll;margin-bottom:25px}.force-overflow[_ngcontent-%COMP%]{min-height:450px}#wrapper[_ngcontent-%COMP%]{text-align:center;width:500px;margin:auto}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar-track{border:1px solid #000;background-color:#f5f5f5}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#f5f5f5}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#d62929}"]],data:{}});function g1(t){return to(0,[(t()(),Nr(0,0,null,null,3,"div",[["class","element-5 mb-4"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"img",[["alt",""],["class","hvr-float"],["width","100%"]],[[8,"id",0],[8,"src",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggleClass(n,"highlight",t.context.$implicit.id,t.context.$implicit.name)&&i),i}),null,null)),(t()(),Nr(2,0,null,null,1,"p",[["class","text-center"],["style","margin: 0px;"]],null,null,null,null,null)),(t()(),Zr(3,null,[" "," "]))],null,(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit.id,""),Qi(1,"",e.context.$implicit.image,"")),t(e,3,0,"O"==e.context.$implicit.side?"H\xe0m tr\xean":"U"==e.context.$implicit.side?"H\xe0m d\u01b0\u1edbi":"B"==e.context.$implicit.side?"Hai h\xe0m":e.context.$implicit.side+e.context.$implicit.number)}))}function f1(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,["",""]))],(function(t,e){t(e,1,0,e.context.$implicit.id),t(e,2,0,e.context.$implicit.id)}),(function(t,e){t(e,3,0,e.context.$implicit.name)}))}function b1(t){return to(0,[(t()(),Nr(0,0,null,null,3,"option",[],null,null,null,null,null)),Nl(1,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(2,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(3,null,[" "," - ","/",""]))],(function(t,e){t(e,1,0,Qi(2,"",e.context.$implicit.id," ",e.context.$implicit.unit,"")),t(e,2,0,Qi(2,"",e.context.$implicit.id," ",e.context.$implicit.unit,""))}),(function(t,e){t(e,3,0,e.context.$implicit.name,e.context.$implicit.cost,e.context.$implicit.unit)}))}function v1(t){return to(0,[(t()(),Nr(0,0,null,null,19,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,4,"div",[["class","col-lg-4 col-sm-12 col-md-4 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y kh\xe1m"])),(t()(),Nr(5,0,[["date",1]],null,0,"input",[["style","width: 100%;"],["type","date"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,4,"div",[["class","col-lg-3 col-sm-12 col-md-3 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(8,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Gi\u1edd"])),(t()(),Nr(10,0,[["time",1]],null,0,"input",[["style","width: 100%;"],["type","time"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,4,"div",[["class","col-lg-5 col-sm-12 col-md-5 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(13,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u1ed9i dung"])),(t()(),Nr(15,0,[["message",1]],null,0,"input",[["style","width: 100%;"],["type","text"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,2,"div",[["class","col-12 mt-3 text-center"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onShedule(kl(t,5).value,kl(t,10).value,kl(t,15).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["L\u01b0u l\u1ecbch h\u1eb9n"]))],null,null)}function y1(t){return to(0,[(t()(),Nr(0,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"tr",[],null,null,null,null,null)),(t()(),Zr(-1,null,[" Kh\xf4ng c\xf3 kh\xe1ch h\xe0ng n\xe0o "]))],null,null)}function w1(t){return to(0,[(t()(),Nr(0,0,null,null,8,"tr",[["class","tr-hover"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-html","true"],["data-toggle","tooltip"]],[[8,"title",0]],null,null,null,null)),(t()(),Zr(2,null,["",". "," "])),(t()(),Nr(3,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(4,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getCurrentPatient(t.context.$implicit.id,t.context.$implicit.patient.name,t.context.$implicit.note)&&i),i}),null,null)),(t()(),Zr(-1,null,["Ti\u1ebfp nh\u1eadn"])),(t()(),Nr(6,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onNextPatient(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["B\u1ecf qua"]))],null,(function(t,e){t(e,1,0,Qi(1,"",e.context.$implicit.note,"")),t(e,2,0,e.context.index+1,e.context.$implicit.patient.name)}))}function x1(t){return to(0,[(t()(),Fr(16777216,null,null,1,null,w1)),Nl(1,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Fr(0,null,null,0))],(function(t,e){t(e,1,0,e.component.Patient)}),null)}function k1(t){return to(0,[(t()(),Nr(0,0,null,null,8,"tr",[["style","height: 20px;"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["class","cls-padding"]],null,null,null,null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,1,"td",[["class","cls-padding"]],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[["class","cls-padding"]],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[["class","cls-padding cls-img hvr-pop"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,0,"img",[["alt",""],["height","30px"],["src","assets/img/icons8-delete-64.png"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.deleteDiagnosis(t.context.$implicit.id)&&i),i}),null,null))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.service.name),t(e,6,0,e.context.$implicit.cost)}))}function _1(t){return to(0,[(t()(),Nr(0,0,null,null,72,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,71,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,70,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,3,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(6,null,["\u0110ang kh\xe1m: "," (",")"])),(t()(),Nr(7,0,null,null,65,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,40,"div",[["class","col-lg-9 col-sm-9 col-md-9 col-xs-9 `"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,2,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12 parent-element"]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,g1)),Nl(12,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(13,0,null,null,3,"div",[["class","row mt-5"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,2,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,1,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(16,0,[["note",1]],null,0,"textarea",[["id","doctor_note"],["name",""],["placeholder","Ch\u1ea9n \u0111o\xe1n..."],["rows","2"],["style","width: 100%;"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,19,"div",[["class","row mt-3"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,18,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,6,"div",[["class","col-lg-6 col-sm-6 col-md-6 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,1,"label",[["class","col-12"],["style","padding-left: 0px;"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110i\u1ec1u tr\u1ecb"])),(t()(),Nr(22,0,null,null,3,"div",[["class","col-12"],["style","padding: 0px;"]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,2,"select",[["style","width: 100%;"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.filterService(n.target.value)&&i),i}),null,null)),(t()(),Fr(16777216,null,null,1,null,f1)),Nl(25,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(26,0,null,null,6,"div",[["class","col-lg-6 col-sm-6 col-md-6 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,1,"label",[["class","col-12"],["style","padding-left: 0px;"]],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5"])),(t()(),Nr(29,0,null,null,3,"div",[["class","col-12"],["style","padding: 0px;"]],null,null,null,null,null)),(t()(),Nr(30,0,[["service",1]],null,2,"select",[["style","width: 100%;"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onSelectedService(n.target.value)&&i),i}),null,null)),(t()(),Fr(16777216,null,null,1,null,b1)),Nl(32,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(33,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,2,"div",[["class","col-12 mt-3 text-right pr-5"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,1,"button",[["class","btn btn-primary"],["disabled",""],["id","btnsave"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onDiganosis(kl(t,16).value,kl(t,30).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["L\u01b0u d\u1ecbch v\u1ee5"])),(t()(),Nr(37,0,null,null,11,"div",[["class","row mt-5"]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,4,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,3,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,2,"label",[["class","cls-label"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,0,"input",[["class","cls-input option-input checkbox"],["type","checkbox"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onEnableReExam()&&i),i}),null,null)),(t()(),Zr(-1,null,[" H\u1eb9n t\xe1i kh\xe1m"])),(t()(),Fr(16777216,null,null,1,null,v1)),Nl(44,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"]},null),(t()(),Nr(45,0,null,null,3,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,2,"div",[["class","col-12 mt-3 text-center"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onFinish()&&i),i}),null,null)),(t()(),Zr(-1,null,["Ho\xe0n t\u1ea5t h\u1ed3 s\u01a1 kh\xe1m"])),(t()(),Nr(49,0,null,null,23,"div",[["class","col-lg-3 col-sm-3 col-md-3 col-xs-3"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,3,"div",[["class","col-6 cls-hover hvr-grow"],["style","padding-left: 0px;"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onRefreshQueue()&&i),i}),null,null)),(t()(),Nr(54,0,null,null,2,"h4",[["class","font-weight-bold"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Danh s\xe1ch ch\u1edd"])),(t()(),Nr(56,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-history fa-fw ml-3"]],null,null,null,null,null)),(t()(),Nr(57,0,null,null,1,"div",[["class","col-6 cls-hover hvr-grow"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onReversePatient()&&i),i}),null,null)),(t()(),Zr(-1,null,[" Kh\xf4i ph\u1ee5c "])),(t()(),Nr(59,0,null,null,6,"div",[["class","row scrollbar"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,5,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12 gray-box"]],null,null,null,null,null)),(t()(),Nr(61,0,null,null,4,"table",[["class","table table-borderless table-hover"]],null,null,null,null,null)),(t()(),Nr(62,0,null,null,3,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,y1)),Nl(64,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["elseNULL",2]],null,0,null,x1)),(t()(),Nr(66,0,null,null,6,"div",[["class","row scrollbar2"]],null,null,null,null,null)),(t()(),Nr(67,0,null,null,5,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12 gray-box"]],null,null,null,null,null)),(t()(),Nr(68,0,null,null,4,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(69,0,null,null,3,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,k1)),Nl(72,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){var n=e.component;t(e,12,0,n.tooth),t(e,25,0,n.Category),t(e,32,0,n.Service),t(e,44,0,1==n.EnableReExam),t(e,64,0,0==n.Patient.length,kl(e,65)),t(e,72,0,n.Diagnosis)}),(function(t,e){var n=e.component;t(e,6,0,n.currentPatient.patient_name,n.currentPatient.note)}))}function C1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-docter-examination",[],null,null,null,_1,m1)),Nl(1,245760,null,0,p1,[l1,Vn],null,null)],(function(t,e){t(e,1,0)}),null)}var T1=hl("app-docter-examination",p1,C1,{},{},[]);class S1{constructor(t,e){this.docterService=t,this.customerService=e,this._p=1,this.Customer=[],this.isCheckExamined=!1}ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(){this.subscription=this.customerService.getPageCustomer(this._p).subscribe(t=>{this.Customer=t.results,this._total=t.count},t=>{})}filterCustomerByDoctor(){this.subscription=this.customerService.filterCustomerByDoctor(this._p).subscribe(t=>{this.Customer=t.results,this._total=t.count},t=>{})}changePage(t){this._p=t,this.customerService.getPageCustomer(this._p).subscribe(t=>{this.Customer=t.results})}onCheckExamined(){console.log("SOMETHING"),this.isCheckExamined=!this.isCheckExamined,this.isCheckExamined?(this._p=1,this.filterCustomerByDoctor()):(this._p=1,this.loadData())}onSearch(t){this.subscription.unsubscribe(),this.subscription=this.customerService.searchCustomer(t).subscribe(t=>{this.Customer=t.results})}}var M1=Ti({encapsulation:0,styles:[[".option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;right:0;bottom:0;left:0;height:20px;width:20px;-webkit-transition:.15s ease-out;transition:all .15s ease-out 0s;background:#cbd1d8;border:none;color:#fff;cursor:pointer;display:inline-block;outline:0;position:relative;z-index:1000}.option-input[_ngcontent-%COMP%]:checked, .option-input[_ngcontent-%COMP%]:hover{background:#8a8a8a}.option-input[_ngcontent-%COMP%]:checked::before{height:20px;width:20px;position:absolute;content:'\u2714';display:inline-block;font-size:14px;text-align:center;line-height:20px;z-index:10000}.option-input[_ngcontent-%COMP%]:checked::after{-webkit-animation:.65s click-wave;animation:.65s click-wave;background:#8a8a8a;content:'';display:block;position:relative;z-index:100;height:20px;width:20px}.option-input.radio[_ngcontent-%COMP%], .option-input.radio[_ngcontent-%COMP%]::after{border-radius:50%}"]],data:{}});function P1(t){return to(0,[(t()(),Nr(0,0,null,null,0,"img",[["alt"," "],["src","assets/img/icons8-male.png "],["width","15% "]],null,null,null,null,null))],null,null)}function A1(t){return to(0,[(t()(),Nr(0,0,null,null,0,"img",[["alt"," "],["src","assets/img/icons8-female.png "],["width","15% "]],null,null,null,null,null))],null,null)}function E1(t){return to(0,[(t()(),Nr(0,0,null,null,18,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(2,null,[" ",""])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,3,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,P1)),Nl(9,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["elseFemale",2]],null,0,null,A1)),(t()(),Nr(11,0,null,null,7,"td",[["style","cursor: pointer; "]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,6,"div",[["class","hvr-forward "]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,5,"a",[["target","_blank "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),Nl(14,671744,null,0,xm,[ym,ap,ka],{target:[0,"target"],routerLink:[1,"routerLink"]},null),Gr(15,2),(t()(),Nr(16,0,null,null,0,"i",[["class","fa fa-mail-forward "]],null,null,null,null,null)),(t()(),Zr(-1,null,["L\u1ecbch s\u1eed kh\xe1m"])),(t()(),Nr(18,0,null,null,0,"span",[["class","text-muted "]],null,null,null,null,null))],(function(t,e){t(e,9,0,e.context.$implicit.gender,kl(e,10));var n=t(e,15,0,"/comon/customer/",e.context.$implicit.id);t(e,14,0,"_blank ",n)}),(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.phone),t(e,13,0,kl(e,14).target,kl(e,14).href)}))}function I1(t){return to(0,[(t()(),Nr(0,0,null,null,45,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,44,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,43,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(7,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,[[null,"keyup"]],(function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.onSearch(kl(t,10).value)&&i),i}),null,null)),(t()(),Nr(11,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSearch(kl(t,10).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(13,0,null,null,32,"div",[["class","table-responsive "]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,7,"div",[["class","row "]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(17,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(18,0,null,null,3,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,2,"label",[["class","cls-label"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,0,"input",[["class","cls-input option-input checkbox"],["type","checkbox"]],null,[[null,"change"]],(function(t,e,n){var i=!0;return"change"===e&&(i=!1!==t.component.onCheckExamined()&&i),i}),null,null)),(t()(),Zr(-1,null,[" \u0110\xe3 kh\xe1m"])),(t()(),Nr(22,0,null,null,17,"table",[["class","table table-hover "]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Nr(24,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(27,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xean"])),(t()(),Nr(29,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["li\xean l\u1ea1c"])),(t()(),Nr(31,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["gi\u1edbi t\xednh"])),(t()(),Nr(33,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(35,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,E1)),Nl(37,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(38,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(40,0,null,null,5,"div",[["class","row "]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,2,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(43,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(44,0,null,null,0,"div",[["class","col-sm-5 text-right "]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,0,"div",[["class","col-sm-1 text-right "]],null,null,null,null,null))],(function(t,e){var n=e.component,i=ki(e,37,0,kl(e,39).transform(n.Customer,t(e,38,0,10,n._p,n._total)));t(e,37,0,i)}),null)}function D1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-doctor-customer",[],null,null,null,I1,M1)),Nl(1,245760,null,0,S1,[l1,Px],null,null)],(function(t,e){t(e,1,0)}),null)}var O1=hl("app-doctor-customer",S1,D1,{},{},[]);class F1{constructor(t){this.doctorService=t,this._p=1,this.detailDiagnosis={cost:null,create_at:null,discount:null,examination:null,id:null,is_deleted:null,note:null,service:{id:null,name:null},service_cost:null,tooth:null,treatment:null}}ngOnInit(){this.loadDiagnosis()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadDiagnosis(){this.subscription=this.doctorService.getListDiagnosis(this._p).subscribe(t=>{this.Diagnosis=t.results,this._total=t.count},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}changePage(t){this._p=t,this.subscription=this.doctorService.getListDiagnosis(this._p).subscribe(t=>{this.Diagnosis=t.results},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}getDiagnosisDetail(t){this.detailDiagnosis=this.Diagnosis.find(e=>e.id===t),this.subscription=this.doctorService.getListService().subscribe(t=>{this.Services=t},t=>{})}updateDiagnosis(t){this.doctorService.updateDiagnosis(this.detailDiagnosis.id,t).subscribe(t=>{this.loadDiagnosis(),qv.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"})},t=>{console.log(t);var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}}var N1=Ti({encapsulation:0,styles:[[""]],data:{}});function R1(t){return to(0,[(t()(),Nr(0,0,null,null,13,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(2,null,[" ",""])),(t()(),Nr(3,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(t()(),Zr(8,null,[" EXAM",""])),(t()(),Nr(9,0,null,null,4,"td",[],null,null,null,null,null)),(t()(),Nr(10,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#detailDiagnosis"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getDiagnosisDetail(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["C\u1eadp nh\u1eadt"])),(t()(),Nr(12,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["X\xf3a"]))],null,(function(t,e){t(e,2,0,10*(e.component._p-1)+e.context.index+1),t(e,4,0,e.context.$implicit.service.name),t(e,6,0,e.context.$implicit.note),t(e,8,0,1e4+e.context.$implicit.examination.id)}))}function L1(t){return to(0,[(t()(),Nr(0,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,36,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,35,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,7,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Basic Table"])),(t()(),Nr(7,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(9,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(10,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,26,"div",[["class","table-responsive "]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,1,"div",[["class","row "]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,0,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,17,"table",[["class","table table-hover "]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Nr(16,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["#"])),(t()(),Nr(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5"])),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["M\xe3 phi\u1ebfu kh\xe1m"])),(t()(),Nr(25,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(27,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,R1)),Nl(29,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(30,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(32,0,null,null,5,"div",[["class","row "]],null,null,null,null,null)),(t()(),Nr(33,0,null,null,2,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(t()(),Nr(34,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(35,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(36,0,null,null,0,"div",[["class","col-sm-5 text-right "]],null,null,null,null,null)),(t()(),Nr(37,0,null,null,0,"div",[["class","col-sm-1 text-right "]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,27,"div",[["class","modal fade"],["id","detailDiagnosis"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,26,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,25,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Nr(43,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" Chi ti\u1ebft ch\u1ea9n \u0111o\xe1n "])),(t()(),Nr(45,0,null,null,17,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(48,0,null,null,14,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(49,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,1,"label",[["style","display: block;"]],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5"])),(t()(),Nr(52,0,null,null,4,"select",[["class","form-group"],["style","width: 50%;"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,3,"option",[["class","form-control"]],null,null,null,null,null)),Nl(54,147456,null,0,aw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),Nl(55,147456,null,0,cw,[Fn,Vn,[8,null]],{value:[0,"value"]},null),(t()(),Zr(56,null,["",""])),(t()(),Nr(57,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(58,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(60,0,[["note",1]],null,0,"input",[["class","form-control"],["style","width: 50%;"],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(61,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.updateDiagnosis(kl(t,60).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["L\u01b0u th\xf4ng tin"])),(t()(),Nr(63,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(64,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,29,0,kl(e,31).transform(n.Diagnosis,t(e,30,0,10,n._p,n._total)));t(e,29,0,i),t(e,54,0,Qi(1,"",n.detailDiagnosis.service.id,"")),t(e,55,0,Qi(1,"",n.detailDiagnosis.service.id,""))}),(function(t,e){var n=e.component;t(e,56,0,n.detailDiagnosis.service.name),t(e,60,0,Qi(1,"",n.detailDiagnosis.note,""))}))}function B1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-doctor-diagnosis",[],null,null,null,L1,N1)),Nl(1,245760,null,0,F1,[l1],null,null)],(function(t,e){t(e,1,0)}),null)}var V1=hl("app-doctor-diagnosis",F1,B1,{},{},[]);class z1{constructor(t){this.doctorService=t,this._p=1,this.query="",this.docter={name:"loading"},this.patient={name:"loading"},this.detailExam={id:0,docter:null,patient:null,note:"loading"}}ngOnInit(){this.loadData(this._p,"")}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(t,e){this.subscription=this.doctorService.getPublicExamination(t,e).subscribe(t=>{this.Examination=t.results,this._total=t.count},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}changePage(t){this._p=t,this.loadData(this._p,this.query)}getDetailExam(t){this.doctorService.getExaminationByID(t).subscribe(t=>{this.detailExam=t,this.docter=t.docter,this.patient=t.patient},t=>{console.log(t)}),this.doctorService.filterDiagnosisByExam(t).subscribe(t=>{this.Diagnosis=t},t=>{console.log(t)})}onSearch(t){this.subscription.unsubscribe(),this.query=t,this.loadData(1,t)}}var j1=Ti({encapsulation:0,styles:[[""]],data:{}});function H1(t){return to(0,[(t()(),Nr(0,0,null,null,14,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,[" EXAM",""])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,[" ",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,[" ",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,[" ",""])),(t()(),Nr(9,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,[" ",""])),qr(11,2),(t()(),Nr(12,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(13,0,null,null,1,"button",[["class","btn btn-danger"],["data-target","#detailExamination"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getDetailExam(t.context.$implicit.id)&&i),i}),null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft"]))],null,(function(t,e){t(e,2,0,1e4+e.context.$implicit.id),t(e,4,0,e.context.$implicit.patient.name),t(e,6,0,e.context.$implicit.note),t(e,8,0,e.context.$implicit.docter.name);var n=ki(e,10,0,t(e,11,0,kl(e.parent,0),e.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));t(e,10,0,n)}))}function W1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Zr(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.context.$implicit.service.name)}))}function U1(t){return to(0,[Rl(0,Vu,[As]),(t()(),Nr(1,0,null,null,43,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,42,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,41,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,11,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(t()(),Nr(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(10,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(11,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(t()(),Nr(13,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,[[null,"keyup"]],(function(t,e,n){var i=!0;return"keyup"===e&&(i=!1!==t.component.onSearch(kl(t,13).value)&&i),i}),null,null)),(t()(),Nr(14,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.onSearch(kl(t,13).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["Search"])),(t()(),Nr(16,0,null,null,28,"div",[["class","table-responsive "]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"div",[["class","row "]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,0,"div",[["class","col-6 "]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,19,"table",[["class","table table-hover "]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,13,"thead",[],null,null,null,null,null)),(t()(),Nr(21,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["M\xe3 phi\u1ebfu kh\xe1m"])),(t()(),Nr(24,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(26,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(28,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(t()(),Nr(30,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y t\u1ea1o"])),(t()(),Nr(32,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\xf9y ch\u1ecdn"])),(t()(),Nr(34,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,H1)),Nl(36,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(37,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(39,0,null,null,5,"div",[["class","row "]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,2,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(42,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(43,0,null,null,0,"div",[["class","col-sm-5 text-right "]],null,null,null,null,null)),(t()(),Nr(44,0,null,null,0,"div",[["class","col-sm-1 text-right "]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,29,"div",[["class","modal fade"],["id","detailExamination"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,28,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,27,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(48,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(49,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(50,null,[" EXAM"," "])),(t()(),Nr(51,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(54,0,null,null,17,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(56,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Kh\xe1ch h\xe0ng"])),(t()(),Nr(58,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(59,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(60,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(t()(),Nr(62,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(63,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(64,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ghi ch\xfa"])),(t()(),Nr(66,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(t()(),Nr(67,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(68,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ch\u1ea9n \u0111o\xe1n"])),(t()(),Fr(16777216,null,null,1,null,W1)),Nl(71,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(72,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(73,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xf3ng"]))],(function(t,e){var n=e.component,i=ki(e,36,0,kl(e,38).transform(n.Examination,t(e,37,0,10,n._p,n._total)));t(e,36,0,i),t(e,71,0,n.Diagnosis)}),(function(t,e){var n=e.component;t(e,50,0,1e4+n.detailExam.id),t(e,58,0,Qi(1,"",n.patient.name,"")),t(e,62,0,Qi(1,"",n.docter.name,"")),t(e,66,0,Qi(1,"",n.detailExam.note,""))}))}function $1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-doctor-examinationhistory",[],null,null,null,U1,j1)),Nl(1,245760,null,0,z1,[l1],null,null)],(function(t,e){t(e,1,0)}),null)}var Y1=hl("app-doctor-examinationhistory",z1,$1,{},{},[]),q1=(new Ft("JWT_OPTIONS"),function(){function t(t){void 0===t&&(t=null),this.tokenGetter=t&&t.tokenGetter||function(){}}return t.prototype.urlBase64Decode=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}return this.b64DecodeUnicode(e)},t.prototype.b64decode=function(t){var e="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n=0,i=void 0,l=void 0,s=0;l=t.charAt(s++);~l&&(i=n%4?64*i+l:l,n++%4)?e+=String.fromCharCode(255&i>>(-2*n&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return e},t.prototype.b64DecodeUnicode=function(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},t.prototype.decodeToken=function(t){if(void 0===t&&(t=this.tokenGetter()),!t||""===t)return null;var e=t.split(".");if(3!==e.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");var n=this.urlBase64Decode(e[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)},t.prototype.getTokenExpirationDate=function(t){var e;if(void 0===t&&(t=this.tokenGetter()),!(e=this.decodeToken(t))||!e.hasOwnProperty("exp"))return null;var n=new Date(0);return n.setUTCSeconds(e.exp),n},t.prototype.isTokenExpired=function(t,e){if(void 0===t&&(t=this.tokenGetter()),!t||""===t)return!0;var n=this.getTokenExpirationDate(t);return e=e||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*e)},t}());n("CxY0");class G1{constructor(t,e){this.http=t,this.router=e,this.API=aa.urlApi}ngOnInit(){if(null!=localStorage.getItem("bearToken")){const t=(new q1).decodeToken(localStorage.getItem("bearToken"));this.router.navigate("admin"==t.type?["admin"]:"doctor"==t.type?["doctor"]:[""])}}login(t,e){this.http.post(`${this.API}/api/user/login/`,{username:t,password:e}).subscribe(t=>{localStorage.setItem("bearToken",t.access),localStorage.setItem("refresh",t.refresh),window.location.reload()},t=>{var e=JSON.stringify(t.error);qv.a.fire({title:"Error!",text:e,icon:"error",confirmButtonText:"Cool"})})}}var X1=Ti({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#17a2b8;height:100vh}#login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #login-row[_ngcontent-%COMP%]   #login-column[_ngcontent-%COMP%]   #login-box[_ngcontent-%COMP%]{margin-top:120px;max-width:600px;height:320px;border:1px solid #9c9c9c;background-color:#eaeaea}#login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #login-row[_ngcontent-%COMP%]   #login-column[_ngcontent-%COMP%]   #login-box[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]{padding:20px}#login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #login-row[_ngcontent-%COMP%]   #login-column[_ngcontent-%COMP%]   #login-box[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   #register-link[_ngcontent-%COMP%]{margin-top:-85px}"]],data:{}});function K1(t){return to(0,[(t()(),Nr(0,0,null,null,39,"div",[["id","login"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"h3",[["class","text-center text-white pt-5"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Login form"])),(t()(),Nr(3,0,null,null,36,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,35,"div",[["class","row justify-content-center align-items-center"],["id","login-row"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,34,"div",[["class","col-md-6"],["id","login-column"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,33,"div",[["class","col-md-12"],["id","login-box"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,32,"form",[["action",""],["class","form"],["id","login-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(t,e,n){var i=!0;return"submit"===e&&(i=!1!==kl(t,9).onSubmit(n)&&i),"reset"===e&&(i=!1!==kl(t,9).onReset()&&i),i}),null,null)),Nl(8,16384,null,0,Uw,[],null,null),Nl(9,4210688,null,0,Lw,[[8,null],[8,null]],null,null),Ll(2048,null,Wy,null,[Lw]),Nl(11,16384,null,0,Gy,[[4,Wy]],null,null),(t()(),Nr(12,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,1,"h3",[["class","text-center text-info"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Login"])),(t()(),Nr(15,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(16,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,1,"label",[["class","text-info"],["for","username"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Username:"])),(t()(),Nr(19,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(20,0,[["username",1]],null,0,"input",[["class","form-control"],["id","username"],["name","username"],["type","text"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(22,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,1,"label",[["class","text-info"],["for","password"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Password:"])),(t()(),Nr(25,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(26,0,[["password",1]],null,0,"input",[["class","form-control"],["id","password"],["name","password"],["type","password"]],null,null,null,null,null)),(t()(),Nr(27,0,null,null,9,"div",[["class","row ml-2 mr-2"]],null,null,null,null,null)),(t()(),Nr(28,0,null,null,7,"div",[["class","col-6"]],null,null,null,null,null)),(t()(),Nr(29,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),Nr(30,0,null,null,5,"label",[["class","text-info"],["for","remember-me"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Remember me"])),(t()(),Zr(-1,null,["\xa0"])),(t()(),Nr(34,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),Nr(35,0,null,null,0,"input",[["id","remember-me"],["name","remember-me"],["type","checkbox"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,0,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(t()(),Nr(37,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,1,"button",[["class","btn btn-info btn-md"],["name","submit"],["style","width: 25%; font-size: 14px; padding: auto 12px !important;"],["type","submit"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.login(kl(t,20).value,kl(t,26).value)&&i),i}),null,null)),(t()(),Zr(-1,null,["\u0110\u0103ng nh\u1eadp"]))],null,(function(t,e){t(e,7,0,kl(e,11).ngClassUntouched,kl(e,11).ngClassTouched,kl(e,11).ngClassPristine,kl(e,11).ngClassDirty,kl(e,11).ngClassValid,kl(e,11).ngClassInvalid,kl(e,11).ngClassPending)}))}function Z1(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-login-page",[],null,null,null,K1,X1)),Nl(1,114688,null,0,G1,[hy,ym],null,null)],(function(t,e){t(e,1,0)}),null)}var Q1=hl("app-login-page",G1,Z1,{},{},[]);class J1{constructor(t,e,n,i){this.activatedRouterService=t,this.routerService=e,this.doctorService=n,this.customerService=i,this.Customer={name:"loading"},this.Examination=[],this.Diagnosis=[],this.ExamDetail={id:0},this.Doctor={name:"loading"},this._p=1}ngOnInit(){this.loadData()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}loadData(){this.subscriptionParams=this.activatedRouterService.params.subscribe(t=>{this.subscription=this.customerService.filterExaminationByPatient(this._p,t.id).subscribe(t=>{this.Examination=t.results,this._total=t.count}),this.customerService.getDetailCustomer(t.id).subscribe(t=>{this.Customer=t})})}changePage(t){this._p=t,this.customerService.getPageCustomer(this._p).subscribe(t=>{this.Customer=t.results})}getDetail(t,e){this.subscription=this.customerService.filterDiagnosisByExam(t).subscribe(t=>{this.Diagnosis=t,this.ExamDetail=this.Examination[e],this.Doctor=this.ExamDetail.docter},t=>{})}}var t2=Ti({encapsulation:0,styles:[[".cls-bbcontent[_ngcontent-%COMP%]{border:1px solid #000}.container-photoview[_ngcontent-%COMP%]{height:95vh;overflow:hidden;padding:0}"]],data:{}});function e2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"img",[["height","50px"],["lightbox",""],["width","50px"]],[[8,"src",4],[2,"lightbox-single",null],[2,"lightbox-simple-mode",null]],[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==kl(t,1).onClick(n)&&i),i}),null,null)),Nl(1,540672,null,0,gg,[mg,ug,Fn],null,null)],null,(function(t,e){t(e,0,0,Qi(1,"",e.context.$implicit.image,""),kl(e,1).hostLightboxGroup,kl(e,1).hostSimpleMode)}))}function n2(t){return to(0,[(t()(),Nr(0,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,e2)),Nl(2,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.parent.context.$implicit.examination_in_photo)}),null)}function i2(t){return to(0,[(t()(),Nr(0,0,null,null,3,"td",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"p",[],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ch\u01b0a c\xf3 \u1ea3nh \u0111\u01b0\u1ee3c t\u1ea3i l\xean"]))],null,null)}function l2(t){return to(0,[(t()(),Nr(0,0,null,null,18,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,["EXAM",""])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Fr(16777216,null,null,1,null,n2)),Nl(8,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["noneImage",2]],null,0,null,i2)),(t()(),Nr(10,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Zr(11,null,["",""])),qr(12,2),(t()(),Nr(13,0,null,null,5,"td",[["style","cursor: pointer;"]],null,null,null,null,null)),(t()(),Nr(14,0,null,null,4,"div",[["class","hvr-forward"]],null,null,null,null,null)),(t()(),Nr(15,0,null,null,3,"a",[["data-target","#modalExamination"],["data-toggle","modal"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.getDetail(t.context.$implicit.id,t.context.index)&&i),i}),null,null)),(t()(),Nr(16,0,null,null,0,"i",[["class","fa fa-mail-forward"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Xem chi ti\u1ebft"])),(t()(),Nr(18,0,null,null,0,"span",[["class","text-muted"]],null,null,null,null,null))],(function(t,e){t(e,8,0,e.context.$implicit.examination_in_photo.length>0,kl(e,9))}),(function(t,e){t(e,2,0,1e4+e.context.$implicit.id),t(e,4,0,e.context.$implicit.note),t(e,6,0,e.context.$implicit.docter.name);var n=ki(e,11,0,t(e,12,0,kl(e.parent,0),e.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));t(e,11,0,n)}))}function s2(t){return to(0,[(t()(),Nr(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,["",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,["",""]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.service.name),t(e,6,0,e.context.$implicit.cost),t(e,8,0,e.context.$implicit.cost/e.context.$implicit.service_cost),t(e,10,0,e.context.$implicit.cost-e.context.$implicit.discount)}))}function r2(t){return to(0,[Rl(0,Vu,[As]),(t()(),Nr(1,0,null,null,34,"div",[],null,null,null,null,null)),(t()(),Nr(2,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,32,"div",[["class","col-sm-12"]],null,null,null,null,null)),(t()(),Nr(4,0,null,null,31,"div",[["class","white-box"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,3,"div",[["class","row menubar-3"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,1,"h4",[["class","box-title"]],null,null,null,null,null)),(t()(),Zr(8,null,["H\u1ed3 s\u01a1: ",""])),(t()(),Nr(9,0,null,null,26,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(10,0,null,null,19,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,13,"thead",[],null,null,null,null,null)),(t()(),Nr(12,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Nr(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["M\xe3 phi\u1ebfu kh\xe1m"])),(t()(),Nr(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u1ed9i dung kh\xe1m"])),(t()(),Nr(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(t()(),Nr(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u1ea2nh theo d\xf5i"])),(t()(),Nr(21,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ng\xe0y kh\xe1m"])),(t()(),Nr(23,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ti\u1ebft"])),(t()(),Nr(25,0,null,null,4,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,3,null,l2)),Nl(27,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),Xr(28,{itemsPerPage:0,currentPage:1,totalItems:2}),Rl(0,sx,[nx]),(t()(),Nr(30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(31,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(t()(),Nr(32,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(t,e,n){var i=!0;return"pageChange"===e&&(i=!1!==t.component.changePage(n)&&i),i}),Tx,mx)),Nl(33,49152,null,0,ux,[],null,{pageChange:"pageChange"}),(t()(),Nr(34,0,null,null,0,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(t()(),Nr(35,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null)),(t()(),Nr(36,0,null,null,35,"div",[["class","modal fade"],["id","modalExamination"],["role","dialog"]],null,null,null,null,null)),(t()(),Nr(37,0,null,null,34,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(t()(),Nr(38,0,null,null,33,"div",[["class","modal-content"]],null,null,null,null,null)),(t()(),Nr(39,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(t()(),Nr(40,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(t()(),Zr(41,null,[" M\xe3 phi\u1ebfu kh\xe1m: EXAM"," "])),(t()(),Nr(42,0,null,null,26,"div",[["class","modal-body"]],null,null,null,null,null)),(t()(),Nr(43,0,null,null,25,"div",[["class","container"]],null,null,null,null,null)),(t()(),Nr(44,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,23,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6"]],null,null,null,null,null)),(t()(),Zr(48,null,[" Kh\xe1ch h\xe0ng: "," "])),(t()(),Nr(49,0,null,null,1,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6"]],null,null,null,null,null)),(t()(),Zr(50,null,[" B\xe1c s\u0129 kh\xe1m: "," "])),(t()(),Nr(51,0,null,null,17,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),Nr(52,0,null,null,16,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(t()(),Nr(53,0,null,null,15,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(54,0,null,null,14,"table",[["class","table table-hover"]],null,null,null,null,null)),(t()(),Nr(55,0,null,null,10,"thead",[],null,null,null,null,null)),(t()(),Nr(56,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["STT"])),(t()(),Nr(58,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5"])),(t()(),Nr(60,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u01a1n gi\xe1"])),(t()(),Nr(62,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u1ed1 l\u01b0\u1ee3ng"])),(t()(),Nr(64,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xe0nh ti\u1ec1n"])),(t()(),Nr(66,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,s2)),Nl(68,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(69,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(t()(),Nr(70,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Close"]))],(function(t,e){var n=e.component,i=ki(e,27,0,kl(e,29).transform(n.Examination,t(e,28,0,10,n._p,n._total)));t(e,27,0,i),t(e,68,0,n.Diagnosis)}),(function(t,e){var n=e.component;t(e,8,0,n.Customer.name),t(e,41,0,1e4+n.ExamDetail.id),t(e,48,0,n.Customer.name),t(e,50,0,n.Doctor.name)}))}function o2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-doctor-customer-history",[],null,null,null,r2,t2)),Nl(1,245760,null,0,J1,[ap,ym,l1,Px],null,null)],(function(t,e){t(e,1,0)}),null)}var a2=hl("app-doctor-customer-history",J1,o2,{},{},[]);class u2{constructor(t,e,n){this.printerService=t,this.staffService=e,this.httpClient=n,this.httpOptions={headers:new Zv({"Content-Type":"application/json",Authorization:"Bearer "+aa.token})},this.invoice={voucher:null,cost:null,paid:null,owe:null},this.patient={name:null,phone:null,qrcoce:null},this.doctor={name:null},this.exam={note:null},this.reexam={time:null,date:null,detail:null},this.staff={name:null}}ngOnInit(){return tZ(this,void 0,void 0,(function*(){if(null==localStorage.getItem("id_exam"))qv.a.fire({title:"Error!",text:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",icon:"error",confirmButtonText:"Cool"});else{const t=yield this.printInvoice();this.invoice=t,this.patient=t.examination.patient,this.doctor=t.examination.docter,this.exam=t.examination;const e=yield this.getDiagnosis();this.diagnosis=e;const n=yield this.getAppointment();this.reexam=n;const i=yield this.getStaff();this.staff=i.results[0],console.log("STAFF",this.staff),this.printerService.printCurrentWindow()}}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}printInvoice(){return this.staffService.getInvoicetoPrint(Number(localStorage.getItem("id_invoice")))}getDiagnosis(){const t=localStorage.getItem("id_exam");return this.staffService.getDiagnosisByExamtoPrint(Number(t))}getAppointment(){const t=localStorage.getItem("id_exam");return this.staffService.getScheduleByExamtoPrint(Number(t))}getStaff(){return this.staffService.getUserProfiletoPrint()}_sleep(t){const e=Date.now();let n=null;do{n=Date.now()}while(n-e<t)}}var c2=Ti({encapsulation:0,styles:[[".container-lv2[_ngcontent-%COMP%]{margin:5rem}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border-top:none;border-bottom:none}"]],data:{}});function h2(t){return to(0,[(t()(),Nr(0,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Nr(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(2,null,["",""])),(t()(),Nr(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(4,null,["",""])),(t()(),Nr(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(6,null,["",""])),(t()(),Nr(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(8,null,["",""])),(t()(),Nr(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(10,null,["-",""])),(t()(),Nr(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(12,null,["",""]))],null,(function(t,e){t(e,2,0,e.context.index+1),t(e,4,0,e.context.$implicit.service.name),t(e,6,0,e.context.$implicit.service.cost),t(e,8,0,e.context.$implicit.cost/e.context.$implicit.service.cost),t(e,10,0,e.context.$implicit.discount),t(e,12,0,e.context.$implicit.cost-e.context.$implicit.discount)}))}function d2(t){return to(0,[(t()(),Nr(0,0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Zr(3,null,["T\xe1i kh\xe1m ng\xe0y: "," v\xe0o l\xfac ",""])),(t()(),Nr(4,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),Zr(6,null,["N\u1ed9i dung t\xe1i kh\xe1m: ",""]))],null,(function(t,e){var n=e.component;t(e,3,0,n.reexam.date,n.reexam.time),t(e,6,0,n.reexam.detail)}))}function p2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,0,"h4",[],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,0,"h4",[],null,null,null,null,null))],null,null)}function m2(t){return to(0,[(t()(),Nr(0,0,null,null,122,"div",[["class","container mt-5"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,0,"img",[["alt",""],["width","40%"]],[[8,"src",4]],null,null,null,null)),(t()(),Nr(4,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(t()(),Nr(5,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,0,"img",[["alt",""],["src","assets/plugins/images/gdental.png"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Ph\xf2ng Kh\xe1m Nha Khoa GDental"])),(t()(),Nr(10,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(11,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Zr(-1,null,["H\xf3a \u0110\u01a1n Thanh To\xe1n"])),(t()(),Nr(14,0,null,null,1,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" ---------oOo--------- "])),(t()(),Nr(16,0,null,null,94,"div",[["class","container-lv2"]],null,null,null,null,null)),(t()(),Nr(17,0,null,null,90,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,89,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,88,"table",[["class","table table-borderless"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,3,"thead",[],null,null,null,null,null)),(t()(),Nr(21,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(t()(),Nr(23,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(t()(),Nr(24,0,null,null,83,"tbody",[],null,null,null,null,null)),(t()(),Nr(25,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Nr(26,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(27,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(28,null,["B\u1ec7nh nh\xe2n: ",""])),(t()(),Nr(29,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(30,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(31,null,["B\xe1c s\u0129 kh\xe1m: ",""])),(t()(),Nr(32,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Nr(33,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(34,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(35,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: ",""])),(t()(),Nr(36,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(37,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Chuy\xean khoa: ..."])),(t()(),Nr(39,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),Nr(40,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(t()(),Nr(41,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(42,null,["Ghi ch\xfa: ",""])),(t()(),Nr(43,0,null,null,64,"tr",[],null,null,null,null,null)),(t()(),Nr(44,0,null,null,63,"td",[["class","text-center"],["colspan","2"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,62,"table",[["class","table table-bodered"],["style","width: 100%;font-size:large;"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,13,"thead",[],null,null,null,null,null)),(t()(),Nr(47,0,null,null,12,"tr",[],null,null,null,null,null)),(t()(),Nr(48,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["STT"])),(t()(),Nr(50,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["D\u1ecbch v\u1ee5 kh\xe1m"])),(t()(),Nr(52,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\u01a1n gi\xe1"])),(t()(),Nr(54,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["S\u1ed1 l\u01b0\u1ee3ng"])),(t()(),Nr(56,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Khuy\u1ebfn m\xe3i"])),(t()(),Nr(58,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Th\xe0nh ti\u1ec1n"])),(t()(),Nr(60,0,null,null,47,"tbody",[],null,null,null,null,null)),(t()(),Fr(16777216,null,null,1,null,h2)),Nl(62,278528,null,0,_u,[ri,li,Jn],{ngForOf:[0,"ngForOf"]},null),(t()(),Nr(63,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Nr(64,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(65,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(66,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(67,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(68,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Voucher: "])),(t()(),Nr(70,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(71,null,[" "," "])),(t()(),Nr(72,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Nr(73,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(74,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(75,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(76,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(77,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Chi ph\xed: "])),(t()(),Nr(79,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(80,null,["",""])),(t()(),Nr(81,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Nr(82,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(83,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(84,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(85,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(86,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["N\u1ee3: "])),(t()(),Nr(88,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(89,null,["",""])),(t()(),Nr(90,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Nr(91,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(92,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(93,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(94,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(95,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["T\u1ed5ng c\u1ed9ng: "])),(t()(),Nr(97,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(98,null,["",""])),(t()(),Nr(99,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Nr(100,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(101,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(102,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(103,0,null,null,0,"td",[],null,null,null,null,null)),(t()(),Nr(104,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(-1,null,["\u0110\xe3 tr\u1ea3: "])),(t()(),Nr(106,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Zr(107,null,["",""])),(t()(),Fr(16777216,null,null,1,null,d2)),Nl(109,16384,null,0,Tu,[ri,li],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Fr(0,[["NotReexam",2]],null,0,null,p2)),(t()(),Nr(111,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(112,0,null,null,0,"div",[["class","col-9 text-right"]],null,null,null,null,null)),(t()(),Nr(113,0,null,null,2,"div",[["class","col-3 text-center"]],null,null,null,null,null)),(t()(),Nr(114,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xe2n vi\xean thu ti\u1ec1n"])),(t()(),Nr(116,0,null,null,0,"div",[["class","col-9 text-right"]],null,null,null,null,null)),(t()(),Nr(117,0,null,null,2,"div",[["class","col-3 text-center"]],null,null,null,null,null)),(t()(),Nr(118,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zr(119,null,[""," "])),(t()(),Nr(120,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(121,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Nr(122,0,null,null,0,"br",[],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,62,0,n.diagnosis),t(e,109,0,null!=n.reexam,kl(e,110))}),(function(t,e){var n=e.component;t(e,3,0,Qi(1,"",n.patient.qrcoce,"")),t(e,28,0,n.patient.name),t(e,31,0,n.doctor.name),t(e,35,0,n.patient.phone),t(e,42,0,n.exam.note),t(e,71,0,n.invoice.voucher?n.invoice.voucher.amount:0),t(e,80,0,n.invoice.cost),t(e,89,0,n.invoice.owe),t(e,98,0,n.invoice.cost+n.invoice.owe),t(e,107,0,n.invoice.paid),t(e,119,0,n.staff.name)}))}function g2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-print-involve-layout",[],null,null,null,m2,c2)),Nl(1,245760,null,0,u2,[ma,Ex,hy],null,null)],(function(t,e){t(e,1,0)}),null)}var f2=hl("app-print-involve-layout",u2,g2,{},{},[]);class b2{constructor(t,e){this.staffService=t,this.printerService=e,this.Examination={id:0,patient:null,note:"loading"},this.patient={name:"loading",phone:"loading"},this.doctor={name:"loading"},this.staff={name:"loading"}}ngOnInit(){return tZ(this,void 0,void 0,(function*(){if(null==localStorage.getItem("id_exam"))qv.a.fire({title:"Error!",text:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",icon:"error",confirmButtonText:"Cool"});else{const t=yield this.printExamination();this.Examination=t,this.patient=t.patient,this.doctor=t.docter,this.staff=t.staff,this.printerService.printCurrentWindow()}}))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}printExamination(){return this.staffService.getExaminationByIdtoPrint(Number(localStorage.getItem("id_exam")))}}var v2=Ti({encapsulation:0,styles:[[""]],data:{}});function y2(t){return to(0,[(t()(),Nr(0,0,null,null,52,"div",[["class","container mt-5"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,2,"div",[["class","col-6 text-left pl-5 pt-5"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"h1",[["class","pl-2"],["style","font-size: 30px;"]],null,null,null,null,null)),(t()(),Zr(4,null,["STT: ",""])),(t()(),Nr(5,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(t()(),Nr(6,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(7,0,null,null,0,"img",[["alt",""],["src","assets/plugins/images/gdental.png"]],null,null,null,null,null)),(t()(),Nr(8,0,null,null,2,"div",[["class","col-12 pr-5"]],null,null,null,null,null)),(t()(),Nr(9,0,null,null,1,"p",[["style","font-weight: bold;"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Ph\xf2ng Kh\xe1m Nha Khoa GDental"])),(t()(),Nr(11,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(12,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Nr(13,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Phi\u1ebfu kh\xe1m"])),(t()(),Nr(15,0,null,null,1,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(t()(),Zr(-1,null,[" ---------oOo--------- "])),(t()(),Nr(17,0,null,null,26,"div",[["class","container-lv2"]],null,null,null,null,null)),(t()(),Nr(18,0,null,null,25,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),Nr(19,0,null,null,24,"div",[["class","table-responsive"]],null,null,null,null,null)),(t()(),Nr(20,0,null,null,23,"table",[["class","table table-borderless"]],null,null,null,null,null)),(t()(),Nr(21,0,null,null,3,"thead",[],null,null,null,null,null)),(t()(),Nr(22,0,null,null,2,"tr",[],null,null,null,null,null)),(t()(),Nr(23,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(t()(),Nr(24,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(t()(),Nr(25,0,null,null,18,"tbody",[],null,null,null,null,null)),(t()(),Nr(26,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Nr(27,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(28,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(29,null,["B\u1ec7nh nh\xe2n: ",""])),(t()(),Nr(30,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(31,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(32,null,["B\xe1c s\u0129 kh\xe1m: ",""])),(t()(),Nr(33,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Nr(34,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(35,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(36,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: ",""])),(t()(),Nr(37,0,null,null,2,"td",[],null,null,null,null,null)),(t()(),Nr(38,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Chuy\xean khoa: ..."])),(t()(),Nr(40,0,null,null,3,"tr",[],null,null,null,null,null)),(t()(),Nr(41,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(t()(),Nr(42,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),Zr(43,null,["Ghi ch\xfa: ",""])),(t()(),Nr(44,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(t()(),Nr(45,0,null,null,0,"div",[["class","col-7 text-right"]],null,null,null,null,null)),(t()(),Nr(46,0,null,null,2,"div",[["class","col-5 text-center"]],null,null,null,null,null)),(t()(),Nr(47,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zr(-1,null,["Nh\xe2n vi\xean ch\u1ecbu tr\xe1ch nhi\u1ec7m"])),(t()(),Nr(49,0,null,null,0,"div",[["class","col-7 text-right"]],null,null,null,null,null)),(t()(),Nr(50,0,null,null,2,"div",[["class","col-5 text-center"]],null,null,null,null,null)),(t()(),Nr(51,0,null,null,1,"h2",[],null,null,null,null,null)),(t()(),Zr(52,null,[" "," "]))],null,(function(t,e){var n=e.component;t(e,4,0,n.Examination.id),t(e,29,0,n.Examination.patient.name),t(e,32,0,n.doctor.name),t(e,36,0,n.patient.phone),t(e,43,0,n.Examination.note),t(e,52,0,n.staff.name)}))}function w2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-print-examination-layout",[],null,null,null,y2,v2)),Nl(1,245760,null,0,b2,[Ex,ma],null,null)],(function(t,e){t(e,1,0)}),null)}var x2=hl("app-print-examination-layout",b2,w2,{},{},[]);class k2{constructor(){}ngOnInit(){}}var _2=Ti({encapsulation:0,styles:[[""]],data:{}});function C2(t){return to(0,[],null,null)}function T2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-print-invoice",[],null,null,null,C2,_2)),Nl(1,114688,null,0,k2,[],null,null)],(function(t,e){t(e,1,0)}),null)}var S2=hl("app-print-invoice",k2,T2,{},{},[]);class M2{constructor(){}ngOnInit(){}}var P2=Ti({encapsulation:0,styles:[[""]],data:{}});function A2(t){return to(0,[(t()(),Nr(0,0,null,null,12,"section",[["class","error-page"],["id","wrapper"]],null,null,null,null,null)),(t()(),Nr(1,0,null,null,11,"div",[["class","error-box"]],null,null,null,null,null)),(t()(),Nr(2,0,null,null,8,"div",[["class","error-body text-center"]],null,null,null,null,null)),(t()(),Nr(3,0,null,null,1,"h1",[["class","text-danger"]],null,null,null,null,null)),(t()(),Zr(-1,null,["404"])),(t()(),Nr(5,0,null,null,1,"h3",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Page Not Found !"])),(t()(),Nr(7,0,null,null,1,"p",[["class","text-muted m-t-30 m-b-30"]],null,null,null,null,null)),(t()(),Zr(-1,null,["YOU SEEM TO BE TRYING TO FIND HIS WAY HOME"])),(t()(),Nr(9,0,null,null,1,"a",[["class","btn btn-danger btn-rounded waves-effect waves-light m-b-40"],["href","dashboard.html"]],null,null,null,null,null)),(t()(),Zr(-1,null,["Back to home"])),(t()(),Nr(11,0,null,null,1,"footer",[["class","footer text-center"]],null,null,null,null,null)),(t()(),Zr(-1,null,["2017 \xa9 Ample Admin."]))],null,null)}function E2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-page404",[],null,null,null,A2,P2)),Nl(1,114688,null,0,M2,[],null,null)],(function(t,e){t(e,1,0)}),null)}var I2=hl("app-page404",M2,E2,{},{},[]),D2=Ti({encapsulation:0,styles:[[""]],data:{}});function O2(t){return to(0,[(t()(),Nr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Nl(1,212992,null,0,Tm,[Cm,ri,En,[8,null],He],null,null)],(function(t,e){t(e,1,0)}),null)}function F2(t){return to(0,[(t()(),Nr(0,0,null,null,1,"app-root",[],null,null,null,O2,D2)),Nl(1,49152,null,0,ca,[],null,null)],null,null)}var N2=hl("app-root",ca,F2,{},{},[]);function R2(){return"undefined"!=typeof process}function L2(t){switch(t.length){case 0:return new Rf;case 1:return t[0];default:return new Lf(t)}}function B2(t,e,n,i,l={},s={}){const r=[],o=[];let a=-1,u=null;if(i.forEach(t=>{const n=t.offset,i=n==a,c=i&&u||{};Object.keys(t).forEach(n=>{let i=n,o=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,r),o){case Bf:o=l[n];break;case If:o=s[n];break;default:o=e.normalizeStyleValue(n,i,o,r)}c[i]=o}),i||o.push(c),u=c,a=n}),r.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${r.join(t)}`)}return o}function V2(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&z2(n,"start",t)));break;case"done":t.onDone(()=>i(n&&z2(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&z2(n,"destroy",t)))}}function z2(t,e,n){const i=n.totalTime,l=j2(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(l._data=s),l}function j2(t,e,n,i,l="",s=0,r){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:l,totalTime:s,disabled:!!r}}function H2(t,e,n){let i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function W2(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let U2=(t,e)=>!1,$2=(t,e)=>!1,Y2=(t,e,n)=>[];const q2=R2();(q2||"undefined"!=typeof Element)&&(U2=(t,e)=>t.contains(e),$2=(()=>{if(q2||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):$2}})(),Y2=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let G2=null,X2=!1;function K2(t){G2||(G2=("undefined"!=typeof document?document.body:null)||{},X2=!!G2.style&&"WebkitAppearance"in G2.style);let e=!0;return G2.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in G2.style)&&X2&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in G2.style),e}const Z2=$2,Q2=U2,J2=Y2;function t3(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}class e3{validateStyleProperty(t){return K2(t)}matchesElement(t,e){return Z2(t,e)}containsElement(t,e){return Q2(t,e)}query(t,e,n){return J2(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,l,s=[],r){return new Rf(n,i)}}let n3=(()=>{class t{}return t.NOOP=new e3,t})();const i3=1e3,l3="{{",s3="ng-enter",r3="ng-leave",o3="ng-trigger",a3=".ng-trigger",u3="ng-animating",c3=".ng-animating";function h3(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:d3(parseFloat(e[1]),e[2])}function d3(t,e){switch(e){case"s":return t*i3;default:return t}}function p3(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,l=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=d3(parseFloat(n[1]),n[2]);const r=n[3];null!=r&&(l=d3(parseFloat(r),n[4]));const o=n[5];o&&(s=o)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:l,easing:s}}(t,e,n)}function m3(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function g3(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else m3(t,n);return n}function f3(t,e,n){return n?e+":"+n+";":""}function b3(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=f3(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=f3(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function v3(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const l=S3(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[l]),t.style[l]=e[i]}),R2()&&b3(t))}function y3(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=S3(e);t.style[n]=""}),R2()&&b3(t))}function w3(t){return Array.isArray(t)?1==t.length?t[0]:Of(t):t}const x3=new RegExp(`${l3}\\s*(.+?)\\s*}}`,"g");function k3(t){let e=[];if("string"==typeof t){const n=t.toString();let i;for(;i=x3.exec(n);)e.push(i[1]);x3.lastIndex=0}return e}function _3(t,e,n){const i=t.toString(),l=i.replace(x3,(t,i)=>{let l=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),l=""),l.toString()});return l==i?t:l}function C3(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const T3=/-+([a-z0-9])/g;function S3(t){return t.replace(T3,(...t)=>t[1].toUpperCase())}function M3(t,e){return 0===t||0===e}function P3(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],r=[];if(i.forEach(t=>{s.hasOwnProperty(t)||r.push(t),s[t]=n[t]}),r.length)for(var l=1;l<e.length;l++){let n=e[l];r.forEach((function(e){n[e]=E3(t,e)}))}}return e}function A3(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function E3(t,e){return window.getComputedStyle(t)[e]}const I3="*";function D3(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const l=i[1],s=i[2],r=i[3];e.push(N3(l,r)),"<"!=s[0]||l==I3&&r==I3||e.push(N3(r,l))})(t,n,e)):n.push(t),n}const O3=new Set(["true","1"]),F3=new Set(["false","0"]);function N3(t,e){const n=O3.has(t)||F3.has(t),i=O3.has(e)||F3.has(e);return(l,s)=>{let r=t==I3||t==l,o=e==I3||e==s;return!r&&n&&"boolean"==typeof l&&(r=l?O3.has(t):F3.has(t)),!o&&i&&"boolean"==typeof s&&(o=s?O3.has(e):F3.has(e)),r&&o}}const R3=":self",L3=new RegExp(`s*${R3}s*,?`,"g");function B3(t,e,n){return new z3(t).build(e,n)}const V3="";class z3{constructor(t){this._driver=t}build(t,e){const n=new j3(e);return this._resetContextStyleTimingState(n),A3(this,w3(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=V3,t.collectedStyles={},t.collectedStyles[V3]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const l=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,l.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const l=this.visitTransition(t,e);n+=l.queryCount,i+=l.depCount,s.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:l,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const l=new Set,s=i||{};if(n.styles.forEach(t=>{if(H3(t)){const e=t;Object.keys(e).forEach(t=>{k3(e[t]).forEach(t=>{s.hasOwnProperty(t)||l.add(t)})})}}),l.size){const n=C3(l.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=A3(this,w3(t.animation),e);return{type:1,matchers:D3(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:W3(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>A3(this,t,e)),options:W3(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const l=t.steps.map(t=>{e.currentTime=n;const l=A3(this,t,e);return i=Math.max(i,e.currentTime),l});return e.currentTime=i,{type:3,steps:l,options:W3(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return U3(p3(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=U3(0,0,"");return t.dynamic=!0,t.strValue=i,t}return U3((n=n||p3(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let l=t.styles?t.styles:Ff({});if(5==l.type)i=this.visitKeyframes(l,e);else{let l=t.styles,s=!1;if(!l){s=!0;const t={};n.easing&&(t.easing=n.easing),l=Ff(t)}e.currentTime+=n.duration+n.delay;const r=this.visitStyle(l,e);r.isEmptyStep=s,i=r}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==If?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,l=null;return n.forEach(t=>{if(H3(t)){const e=t,n=e.easing;if(n&&(l=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf(l3)>=0){i=!0;break}}}),{type:6,styles:n,easing:l,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,l=e.currentTime;n&&l>0&&(l-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],r=s[n];let o=!0;r&&(l!=i&&l>=r.startTime&&i<=r.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${r.startTime}ms" and "${r.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${i}ms"`),o=!1),l=r.startTime),o&&(s[n]={startTime:l,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},l=k3(t);l.length&&l.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const l=[];let s=!1,r=!1,o=0;const a=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let a=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(H3(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(H3(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=a&&(i++,u=n.offset=a),r=r||u<0||u>1,s=s||u<o,o=u,l.push(u),n});r&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;i>0&&i<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,m=p.duration;return a.forEach((t,i)=>{const s=c>0?i==h?1:c*i:l[i],r=s*m;e.currentTime=d+p.delay+r,p.duration=r,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:A3(this,w3(t.animation),e),options:W3(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:W3(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:W3(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[l,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==R3);return e&&(t=t.replace(L3,"")),[t=t.replace(/@\*/g,a3).replace(/@\w+/g,t=>a3+"-"+t.substr(1)).replace(/:animating/g,c3),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+l:l,H2(e.collectedStyles,e.currentQuerySelector,{});const r=A3(this,w3(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:r,originalSelector:t.selector,options:W3(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:p3(t.timings,e.errors,!0);return{type:12,animation:A3(this,w3(t.animation),e),timings:n,options:null}}}class j3{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function H3(t){return!Array.isArray(t)&&"object"==typeof t}function W3(t){var e;return t?(t=m3(t)).params&&(t.params=(e=t.params)?m3(e):null):t={},t}function U3(t,e,n){return{duration:t,delay:e,easing:n}}function $3(t,e,n,i,l,s,r=null,o=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:l,delay:s,totalTime:l+s,easing:r,subTimeline:o}}class Y3{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const q3=1,G3=new RegExp(":enter","g"),X3=new RegExp(":leave","g");function K3(t,e,n,i,l,s={},r={},o,a,u=[]){return(new Z3).buildKeyframes(t,e,n,i,l,s,r,o,a,u)}class Z3{buildKeyframes(t,e,n,i,l,s,r,o,a,u=[]){a=a||new Y3;const c=new J3(t,e,a,i,l,u,[]);c.options=o,c.currentTimeline.setStyles([s],null,c.errors,o),A3(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(r).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([r],null,c.errors,o)}return h.length?h.map(t=>t.buildKeyframes()):[$3(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),l=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);l!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const l=null!=n.duration?h3(n.duration):null,s=null!=n.delay?h3(n.delay):null;return 0!==l&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,l,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),A3(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const l=t.options;if(l&&(l.params||l.delay)&&((i=e.createSubContext(l)).transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Q3);const t=h3(l.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>A3(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?h3(t.options.delay):0;t.steps.forEach(s=>{const r=e.createSubContext(t.options);l&&r.delayNextStep(l),A3(this,s,r),i=Math.max(i,r.currentTimeline.currentTime),n.push(r.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return p3(e.params?_3(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(n.duration),this.visitStyle(l,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const l=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(l):n.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,l=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*l),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+l),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},l=i.delay?h3(i.delay):0;l&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Q3);let s=n;const r=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=r.length;let o=null;r.forEach((n,i)=>{e.currentQueryIndex=i;const r=e.createSubContext(t.options,n);l&&r.delayNextStep(l),n===e.element&&(o=r.currentTimeline),A3(this,t.animation,r),r.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,r.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),o&&(e.currentTimeline.mergeTimelineCollectedStyles(o),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,l=t.timings,s=Math.abs(l.duration),r=s*(e.currentQueryTotal-1);let o=s*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":o=r-o;break;case"full":o=n.currentStaggerTime}const a=e.currentTimeline;o&&a.delayNextStep(o);const u=a.currentTime;A3(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}const Q3={};class J3{constructor(t,e,n,i,l,s,r,o){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=l,this.errors=s,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Q3,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=o||new t4(this._driver,e,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=h3(n.duration)),null!=n.delay&&(i.delay=h3(n.delay));const l=n.params;if(l){let t=i.params;t||(t=this.options.params={}),Object.keys(l).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=_3(l[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,l=new J3(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=Q3,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},l=new e4(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,l,s){let r=[];if(i&&r.push(this.element),t.length>0){t=(t=t.replace(G3,"."+this._enterClassName)).replace(X3,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),r.push(...e)}return l||0!=r.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),r}}class t4{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new t4(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=q3,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||If,this._currentKeyframe[t]=If}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const l=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e)).forEach(t=>{n[t]=If}):g3(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=_3(s[t],l,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:If),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((l,s)=>{const r=g3(l,!0);Object.keys(r).forEach(n=>{const i=r[n];i==Bf?t.add(n):i==If&&e.add(n)}),n||(r.offset=s/this.duration),i.push(r)});const l=t.size?C3(t.values()):[],s=e.size?C3(e.values()):[];if(n){const t=i[0],e=m3(t);t.offset=0,e.offset=1,i=[t,e]}return $3(this.element,i,l,s,this.duration,this.startTime,this.easing,!1)}}class e4 extends t4{constructor(t,e,n,i,l,s,r=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=r,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],s=n+e,r=e/s,o=g3(t[0],!1);o.offset=0,l.push(o);const a=g3(t[0],!1);a.offset=n4(r),l.push(a);const u=t.length-1;for(let i=1;i<=u;i++){let r=g3(t[i],!1);r.offset=n4((e+r.offset*n)/s),l.push(r)}n=s,e=0,i="",t=l}return $3(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function n4(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class i4{}class l4 extends i4{normalizePropertyName(t,e){return S3(t)}normalizeStyleValue(t,e,n,i){let l="";const s=n.toString().trim();if(s4[e]&&0!==n&&"0"!==n)if("number"==typeof n)l="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+l}}const s4=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function r4(t,e,n,i,l,s,r,o,a,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:l,fromState:n,fromStyles:s,toState:i,toStyles:r,timelines:o,queriedElements:a,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const o4={};class a4{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,l){return t.some(t=>t(e,n,i,l))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],l=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return l?l.buildStyles(e,n):s}build(t,e,n,i,l,s,r,o,a,u){const c=[],h=this.ast.options&&this.ast.options.params||o4,d=this.buildStyles(n,r&&r.params||o4,c),p=o&&o.params||o4,m=this.buildStyles(i,p,c),g=new Set,f=new Map,b=new Map,v="void"===i,y={params:Object.assign({},h,p)},w=u?[]:K3(t,e,this.ast.animation,l,s,d,m,y,a,c);let x=0;if(w.forEach(t=>{x=Math.max(t.duration+t.delay,x)}),c.length)return r4(e,this._triggerName,n,i,v,d,m,[],[],f,b,x,c);w.forEach(t=>{const n=t.element,i=H2(f,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const l=H2(b,n,{});t.postStyleProps.forEach(t=>l[t]=!0),n!==e&&g.add(n)});const k=C3(g.values());return r4(e,this._triggerName,n,i,v,d,m,w,k,f,b,x)}}class u4{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=m3(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const l=t;Object.keys(l).forEach(t=>{let s=l[t];s.length>1&&(s=_3(s,i,e)),n[t]=s})}}),n}}class c4{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new u4(t.style,t.options&&t.options.params||{})}),h4(this.states,"true","1"),h4(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new a4(t,e,this.states))}),this.fallbackTransition=new a4(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(l=>l.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function h4(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const d4=new Y3;class p4{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=B3(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,l=B2(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],l=this._animations[t];let s;const r=new Map;if(l?(s=K3(this._driver,e,l,s3,r3,{},{},n,d4,i)).forEach(t=>{const e=H2(r,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);r.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,If)})});const o=L2(s.map(t=>{const e=r.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=o,o.onDestroy(()=>this.destroy(t)),this.players.push(o),o}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const l=j2(e,"","","");return V2(this._getPlayer(t),n,l,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const l=this._getPlayer(t);switch(n){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const m4="ng-animate-queued",g4=".ng-animate-queued",f4="ng-animate-disabled",b4=".ng-animate-disabled",v4="ng-star-inserted",y4=".ng-star-inserted",w4=[],x4={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k4={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_4="__ng_removed";class C4{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=m3(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const T4="void",S4=new C4(T4);class M4{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,N4(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(l=n)&&"done"!=l)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var l;const s=H2(this._elementListeners,t,[]),r={name:e,phase:n,callback:i};s.push(r);const o=H2(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(N4(t,o3),N4(t,o3+"-"+e),o[e]=S4),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(r);t>=0&&s.splice(t,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const l=this._getTrigger(e),s=new A4(this.id,e,t);let r=this._engine.statesByElement.get(t);r||(N4(t,o3),N4(t,o3+"-"+e),this._engine.statesByElement.set(t,r={}));let o=r[e];const a=new C4(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&o&&a.absorbOptions(o.options),r[e]=a,o||(o=S4),a.value!==T4&&o.value===a.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let l=0;l<n.length;l++){const i=n[l];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(o.params,a.params)){const e=[],n=l.matchStyles(o.value,o.params,e),i=l.matchStyles(a.value,a.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{y3(t,n),v3(t,i)})}return}const u=H2(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=l.matchTransition(o.value,a.value,t,a.params),h=!1;if(!c){if(!i)return;c=l.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:o,toState:a,player:s,isFallbackTransition:h}),h||(N4(t,m4),s.onStart(()=>{R4(t,m4)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,a3,!0).forEach(t=>{if(t[_4])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,i){const l=this._engine.statesByElement.get(t);if(l){const s=[];if(Object.keys(l).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,T4,i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&L2(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const l=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||S4,r=new C4(T4),o=new A4(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:l,fromState:s,toState:r,player:o,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}this.prepareLeaveAnimationListeners(t),i?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){N4(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const l=n.element,s=this._elementListeners.get(l);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=j2(l,n.triggerName,n.fromState.value,n.toState.value);i._data=t,V2(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class P4{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new M4(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let l=n;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,e)){this._namespaceList.splice(l+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const l=n[t[i]].namespaceId;if(l){const t=this._fetchNamespace(l);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(E4(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!E4(e))return;const l=e[_4];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),N4(t,f4)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),R4(t,f4))}removeNode(t,e,n,i){if(E4(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e[_4]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,l){return E4(e)?this._fetchNamespace(t).listen(e,n,i,l):()=>{}}_buildInstruction(t,e,n,i,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,a3,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,c3,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return L2(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[_4];if(e&&e.setForRemoval){if(t[_4]=x4,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,b4)&&this.markElementAsDisabled(t,!1),this.driver.query(t,b4,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)N4(this.collectedEnterElements[n],v4);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?L2(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Y3,i=[],l=new Map,s=[],r=new Map,o=new Map,a=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,g4,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=O4(h,this.collectedEnterElements),p=new Map;let m=0;d.forEach((t,e)=>{const n=s3+m++;p.set(e,n),t.forEach(t=>N4(t,n))});const g=[],f=new Set,b=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const t=this.collectedLeaveElements[E],e=t[_4];e&&e.setForRemoval&&(g.push(t),f.add(t),e.hasAnimation?this.driver.query(t,y4,!0).forEach(t=>f.add(t)):b.add(t))}const v=new Map,y=O4(h,Array.from(f));y.forEach((t,e)=>{const n=r3+m++;v.set(e,n),t.forEach(t=>N4(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>R4(t,n))}),y.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>R4(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const w=[],x=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(e).forEach(t=>{const e=t.player,l=t.element;if(w.push(e),this.collectedEnterElements.length){const t=l[_4];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,l),h=v.get(l),d=p.get(l),m=this._buildInstruction(t,n,d,h,u);if(!m.errors||!m.errors.length)return u?(e.onStart(()=>y3(l,m.fromStyles)),e.onDestroy(()=>v3(l,m.toStyles)),void i.push(e)):t.isFallbackTransition?(e.onStart(()=>y3(l,m.fromStyles)),e.onDestroy(()=>v3(l,m.toStyles)),void i.push(e)):(m.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(l,m.timelines),s.push({instruction:m,player:e,element:l}),m.queriedElements.forEach(t=>H2(r,t,[]).push(e)),m.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=o.get(e);t||o.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void m.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=a.get(e);i||a.set(e,i=new Set),n.forEach(t=>i.add(t))}));x.push(m)});if(x.length){const t=[];x.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),w.forEach(t=>t.destroy()),this.reportError(t)}const k=new Map,_=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(_.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,k))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{H2(k,e,[]).push(t),t.destroy()})});const C=g.filter(t=>B4(t,o,a)),T=new Map;D4(T,this.driver,b,a,If).forEach(t=>{B4(t,o,a)&&C.push(t)});const S=new Map;d.forEach((t,e)=>{D4(S,this.driver,new Set(t),o,Bf)}),C.forEach(t=>{const e=T.get(t),n=S.get(t);T.set(t,Object.assign({},e,n))});const M=[],P=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:r}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>v3(e,r.toStyles)),s.disabled=!0,s.overrideTotalTime(r.totalTime),void i.push(s);let t=A;if(_.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=_.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>_.set(e,t))}const n=this._buildAnimation(s.namespaceId,r,k,l,S,T);if(s.setRealPlayer(n),t===A)M.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=L2(e)),i.push(s)}}else y3(e,r.fromStyles),s.onDestroy(()=>v3(e,r.toStyles)),P.push(s),u.has(e)&&i.push(s)}),P.forEach(t=>{const e=l.get(t.element);if(e&&e.length){const n=L2(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let E=0;E<g.length;E++){const t=g[E],e=t[_4];if(R4(t,r3),e&&e.hasAnimation)continue;let n=[];if(r.size){let e=r.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,c3,!0);for(let t=0;t<i.length;t++){let e=r.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?L4(this,t,i):this.processLeaveNode(t)}return g.length=0,M.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),M}elementContainsData(t,e){let n=!1;const i=e[_4];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,l){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!l||l==T4;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,l=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const r of e.timelines){const t=r.element,o=t!==i,a=H2(n,t,[]);this._getPreviousPlayers(t,o,l,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),a.push(t)})}y3(i,e.fromStyles)}_buildAnimation(t,e,n,i,l,s){const r=e.triggerName,o=e.element,a=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[_4];if(d&&d.removedBeforeQueried)return new Rf(e.duration,e.delay);const p=h!==o,m=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const l=e[i];l instanceof Lf?t(l.players,n):n.push(l)}}(t,e),e}((n.get(h)||w4).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=l.get(h),f=s.get(h),b=B2(0,this._normalizer,0,e.keyframes,g,f),v=this._buildPlayer(e,b,m);if(e.subTimeline&&i&&c.add(h),p){const e=new A4(t,r,h);e.setRealPlayer(v),a.push(e)}return v});a.forEach(t=>{H2(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e)){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>N4(t,u3));const d=L2(h);return d.onDestroy(()=>{u.forEach(t=>R4(t,u3)),v3(o,e.toStyles)}),c.forEach(t=>{H2(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Rf(t.duration,t.delay)}}class A4{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Rf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>V2(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){H2(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function E4(t){return t&&1===t.nodeType}function I4(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function D4(t,e,n,i,l){const s=[];n.forEach(t=>s.push(I4(t)));const r=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,l);n&&0!=n.length||(i[_4]=k4,r.push(i))}),t.set(i,s)});let o=0;return n.forEach(t=>I4(t,s[o++])),r}function O4(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),l=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=l.get(e);if(s)return s;const r=e.parentNode;return s=n.has(r)?r:i.has(r)?1:t(r),l.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}const F4="$$classes";function N4(t,e){if(t.classList)t.classList.add(e);else{let n=t[F4];n||(n=t[F4]={}),n[e]=!0}}function R4(t,e){if(t.classList)t.classList.remove(e);else{let n=t[F4];n&&delete n[e]}}function L4(t,e,n){L2(n).onDone(()=>t.processLeaveNode(e))}function B4(t,e,n){const i=n.get(t);if(!i)return!1;let l=e.get(t);return l?i.forEach(t=>l.add(t)):e.set(t,i),n.delete(t),!0}class V4{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new P4(t,e,n),this._timelineEngine=new p4(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,l){const s=t+"-"+i;let r=this._triggerCache[s];if(!r){const t=[],e=B3(this._driver,l,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);r=function(t,e){return new c4(t,e)}(i,e),this._triggerCache[s]=r}this._transitionEngine.registerTrigger(e,i,r)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,l]=W2(n);this._timelineEngine.command(t,e,l,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,l){if("@"==n.charAt(0)){const[t,i]=W2(n);return this._timelineEngine.listen(t,e,i,l)}return this._transitionEngine.listen(t,e,n,i,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function z4(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=H4(e[0]),e.length>1&&(i=H4(e[e.length-1]))):e&&(n=H4(e)),n||i?new j4(t,n,i):null}let j4=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let l=t.initialStylesByElement.get(e);l||t.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&v3(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(v3(this._element,this._initialStyles),this._endStyles&&(v3(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(y3(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(y3(this._element,this._endStyles),this._endStyles=null),v3(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function H4(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const l=n[i];W4(l)&&((e=e||{})[l]=t[l])}return e}function W4(t){return"display"===t||"position"===t}const U4=3,$4="animation",Y4="animationend",q4=1e3;class G4{constructor(t,e,n,i,l,s,r){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=l,this._fillMode=s,this._onDoneFn=r,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=t5(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),J4(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Q4(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){X4(this._element,this._name,"paused")}resume(){X4(this._element,this._name,"running")}setPosition(t){const e=K4(this._element,this._name);this._position=t*this._duration,J4(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(U4))*q4;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Q4(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=t5(t,"").split(","),i=Z4(n,e);i>=0&&(n.splice(i,1),J4(t,"",n.join(",")))}(this._element,this._name))}}function X4(t,e,n){J4(t,"PlayState",n,K4(t,e))}function K4(t,e){const n=t5(t,"");return n.indexOf(",")>0?Z4(n.split(","),e):Z4([n],e)}function Z4(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Q4(t,e,n){n?t.removeEventListener(Y4,e):t.addEventListener(Y4,e)}function J4(t,e,n,i){const l=$4+e;if(null!=i){const e=t.style[l];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[l]=n}function t5(t,e){return t.style[$4+e]}const e5="forwards",n5="linear";class i5{constructor(t,e,n,i,l,s,r,o){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=l,this._finalStyles=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||n5,this.totalTime=i+l,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new G4(this.element,this.animationName,this._duration,this._delay,this.easing,e5,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:E3(this.element,n))})}this.currentSnapshot=t}}class l5 extends Rf{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=t3(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const s5="gen_css_kf_",r5=" ";class o5{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return K2(t)}matchesElement(t,e){return Z2(t,e)}containsElement(t,e){return Q2(t,e)}query(t,e,n){return J2(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>t3(t));let i=`@keyframes ${e} {\n`,l="";n.forEach(t=>{l=r5;const e=parseFloat(t.offset);i+=`${l}${100*e}% {\n`,l+=r5,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${l}animation-timing-function: ${n};\n`));default:return void(i+=`${l}${e}: ${n};\n`)}}),i+=`${l}}\n`}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,l,s=[],r){r&&this._notifyFaultyScrubber();const o=s.filter(t=>t instanceof i5),a={};M3(n,i)&&o.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=P3(t,e,a));if(0==n)return new l5(t,u);const c=`${s5}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=z4(t,e),p=new i5(t,e,c,n,i,l,u,d);return p.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class a5{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:E3(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class u5{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(c5().toString()),this._cssKeyframesDriver=new o5}validateStyleProperty(t){return K2(t)}matchesElement(t,e){return Z2(t,e)}containsElement(t,e){return Q2(t,e)}query(t,e,n){return J2(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,l,s=[],r){if(!r&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,l,s);const o={duration:n,delay:i,fill:0==i?"both":"forwards"};l&&(o.easing=l);const a={},u=s.filter(t=>t instanceof a5);M3(n,i)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>a[t]=e[t])});const c=z4(t,e=P3(t,e=e.map(t=>g3(t,!1)),a));return new a5(t,e,o,c)}}function c5(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class h5 extends Af{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:ie.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Of(t):t;return m5(this._renderer,null,e,"register",[n]),new d5(e,this._renderer)}}class d5 extends Ef{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new p5(this._id,t,e||{},this._renderer)}}class p5{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return m5(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function m5(t,e,n,i,l){return t.setProperty(e,`@@${n}:${i}`,l)}const g5="@",f5="@.disabled";class b5{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new v5("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,l=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(l,t),e.data.animation.forEach(e=>this.engine.registerTrigger(i,l,t,e.name,e)),new y5(this,l,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class v5{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==g5&&e==f5?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class y5 extends v5{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==g5?"."==e.charAt(1)&&e==f5?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==g5){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let l=e.substr(1),s="";return l.charAt(0)!=g5&&([l,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class w5 extends V4{constructor(t,e,n){super(t.body,e,n)}}function x5(){return"function"==typeof c5()?new u5:new o5}function k5(){return new l4}function _5(t,e,n){return new b5(t,e,n)}const C5=new Ft("AnimationModuleType");class T5{}let S5=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){const n=(new q1).decodeToken(localStorage.getItem("bearToken"));return null==aa.token?(this.router.navigate(["login"]),!1):"staff"==n.type||("doctor"==n.type?this.router.navigate(["doctor"]):"admin"==n.type&&this.router.navigate(["admin"]),!1)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(ym))},token:t,providedIn:"root"}),t})(),M5=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){const n=(new q1).decodeToken(localStorage.getItem("bearToken"));return null==aa.token?(this.router.navigate(["login"]),!1):"admin"==n.type||("doctor"==n.type?this.router.navigate(["doctor"]):"staff"==n.type&&this.router.navigate([""]),!1)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(ym))},token:t,providedIn:"root"}),t})(),P5=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){const n=(new q1).decodeToken(localStorage.getItem("bearToken"));return null==aa.token?(this.router.navigate(["login"]),!1):"doctor"==n.type||("admin"==n.type?this.router.navigate(["admin"]):"staff"==n.type&&this.router.navigate([""]),!1)}}return t.ngInjectableDef=xt({factory:function(){return new t(qt(ym))},token:t,providedIn:"root"}),t})(),A5=(()=>{class t{constructor(){this.data={}}setOption(t,e){this.data[t]=e}getOption(){return this.data}}return t.ngInjectableDef=xt({factory:function(){return new t},token:t,providedIn:"root"}),t})();class E5{}var I5=ra(ua,[ca],(function(t){return function(t){const e={},n=[];let i=!1;for(let l=0;l<t.length;l++){const s=t[l];s.token===nn&&!0===s.value&&(i=!0),1073741824&s.flags&&n.push(s.token),s.index=l,e[xi(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:i}}([ll(512,En,In,[[8,[ya,Km,Tg,Mb,Fv,Bv,Ry,Hx,qx,ik,ak,fk,PK,LK,HK,GK,JK,fZ,kZ,PZ,u0,g0,M0,N0,z0,q0,e1,d1,T1,O1,V1,Y1,Q1,a2,f2,x2,S2,I2,N2]],[3,En],Qt]),ll(5120,As,Ir,[[3,As]]),ll(4608,gu,fu,[As,[2,mu]]),ll(5120,Ql,Dr,[qs]),ll(5120,ks,_s,[]),ll(5120,Jn,Ar,[]),ll(5120,ti,Er,[]),ll(4608,Wh,Uh,[Hu]),ll(6144,Le,null,[Wh]),ll(4608,Rh,Bh,[]),ll(5120,lh,(function(t,e,n,i,l,s,r,o){return[new Fh(t,e,n),new Hh(i),new Vh(l,s,r,o)]}),[Hu,qs,Ss,Hu,Hu,Rh,Ps,[2,Lh]]),ll(4608,sh,sh,[lh,qs]),ll(135680,ah,ah,[Hu]),ll(4608,gh,gh,[sh,ah,ks]),ll(5120,n3,x5,[]),ll(5120,i4,k5,[]),ll(4608,V4,w5,[Hu,n3,i4]),ll(5120,Ln,_5,[gh,V4,qs]),ll(6144,oh,null,[ah]),ll(4608,tr,tr,[qs]),ll(5120,ap,Hm,[ym]),ll(4608,Am,Am,[]),ll(6144,Mm,null,[Am]),ll(135680,Em,Em,[ym,gr,Rs,sn,Mm]),ll(4608,Pm,Pm,[]),ll(5120,Im,Lm,[ym,Uu,Dm]),ll(5120,Ym,$m,[Wm]),ll(5120,Ms,(function(t,e){return[t,e]}),[Ym,Ym]),ll(4608,lw,lw,[]),ll(4608,nx,nx,[]),ll(4608,mg,mg,[En,pr,sn]),ll(4608,ug,ug,[]),ll(4608,xy,ky,[Hu,Ss,yy]),ll(4608,_y,_y,[xy,wy]),ll(5120,py,(function(t){return[t]}),[_y]),ll(4608,by,by,[]),ll(6144,fy,null,[by]),ll(4608,vy,vy,[fy]),ll(6144,Kv,null,[vy]),ll(4608,Xv,Cy,[Kv,sn]),ll(4608,hy,hy,[Xv]),ll(4608,cP,cP,[]),ll(4608,vM,vM,[]),ll(4608,_M,_M,[]),ll(4608,aS,uS,[As]),ll(4608,PM,PM,[aS]),ll(4608,OM,OM,[aS]),ll(4608,IA,IA,[aS]),ll(135680,_f,_f,[qs]),ll(4608,yb,yb,[pr,En,sn,[2,vb]]),ll(4608,FP,FP,[LM]),ll(4608,nE,nE,[]),ll(4608,uE,uE,[aS]),ll(4608,fE,fE,[aS]),ll(4608,_E,_E,[aS]),ll(4608,AE,AE,[aS]),ll(4608,gv,gv,[]),ll(4608,yv,yv,[En,gv]),ll(4608,Jw,Jw,[]),ll(4608,Af,h5,[Ln,Hu]),ll(4608,S5,S5,[ym]),ll(4608,M5,M5,[ym]),ll(4608,P5,P5,[ym]),ll(4608,A5,A5,[]),ll(4608,Ey.PubNubAngular,Ey.PubNubAngular,[]),ll(1073742336,ju,ju,[]),ll(1024,he,Qh,[]),ll(1024,ar,(function(){return[Nm(),Nm()]}),[]),ll(512,Wm,Wm,[sn]),ll(1024,ws,(function(t,e,n){return[(i=t,eh("probe",ih),eh("coreTokens",Object.assign({},nh,(i||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>ih),Um(e),Um(n)];var i}),[[2,ar],Wm,Wm]),ll(512,xs,xs,[[2,ws]]),ll(131584,pr,pr,[qs,Ps,sn,he,En,xs]),ll(1073742336,Or,Or,[pr]),ll(1073742336,Jh,Jh,[[3,Jh]]),ll(1073742336,ga,ga,[]),ll(1024,Om,Vm,[[3,ym]]),ll(512,zd,jd,[]),ll(512,Cm,Cm,[]),ll(256,Dm,{},[]),ll(1024,ka,Bm,[wa,[2,_a],Dm]),ll(512,Ca,Ca,[ka,wa]),ll(512,Rs,Rs,[]),ll(512,gr,wr,[Rs,[2,vr]]),ll(1024,dm,(function(){return[[],[{path:"",component:Gv,canActivate:[S5],children:[{path:"",component:Sx},{path:"customer/:id",component:Wx},{path:"registration",component:Gx},{path:"schedule",component:lk,children:[{path:"",component:uk},{path:"scheduler",component:kK}]},{path:"examination",component:AK},{path:"invoice",component:BK,children:[{path:"",component:WK}]}]},{path:"admin",component:XK,canActivate:[M5],children:[{path:"",component:rZ},{path:"user",component:bZ},{path:"user/:id",component:_Z},{path:"treatment",component:n0},{path:"treatment/:id",component:h0},{path:"service",component:f0},{path:"discount",component:P0},{path:"schedule",component:R0,children:[{path:"",component:j0},{path:"scheduler",component:X0}]}]},{path:"doctor",component:n1,canActivate:[P5],children:[{path:"",component:p1},{path:"customer",component:S1},{path:"diagnosis",component:F1},{path:"examination",component:z1}]},{path:"login",component:G1},{path:"comon/customer/:id",component:J1},{path:"examination/print",component:u2},{path:"printer/printexamination",component:b2},{path:"common/print/invoice",component:k2},{path:"**",component:M2}]]}),[]),ll(1024,ym,jm,[pr,zd,Cm,Ca,sn,gr,Rs,dm,Dm,[2,mm],[2,cm]]),ll(1073742336,Rm,Rm,[[2,Om],[2,ym]]),ll(1073742336,E5,E5,[]),ll(1073742336,Qw,Qw,[]),ll(1073742336,tx,tx,[]),ll(1073742336,px,px,[]),ll(1073742336,fg,fg,[]),ll(1073742336,ZJ,ZJ,[]),ll(1073742336,lZ,lZ,[]),ll(1073742336,Ty,Ty,[]),ll(1073742336,Sy,Sy,[]),ll(1073742336,pf,pf,[]),ll(1073742336,OA,OA,[]),ll(1073742336,dS,dS,[]),ll(1073742336,FA,FA,[]),ll(1073742336,BA,BA,[]),ll(1073742336,VA,VA,[]),ll(1073742336,Sf,Sf,[]),ll(1073742336,wb,wb,[]),ll(1073742336,UH,UH,[]),ll(1073742336,qH,qH,[]),ll(1073742336,GH,GH,[]),ll(1073742336,gW,gW,[]),ll(1073742336,nU,nU,[]),ll(1073742336,iU,iU,[]),ll(1073742336,fW,fW,[]),ll(1073742336,lU,lU,[]),ll(1073742336,Yb,Yb,[]),ll(1073742336,qb,qb,[]),ll(1073742336,Gb,Gb,[]),ll(1073742336,Xb,Xb,[]),ll(1073742336,Kb,Kb,[]),ll(1073742336,Zb,Zb,[]),ll(1073742336,Qb,Qb,[]),ll(1073742336,zA,zA,[]),ll(1073742336,jA,jA,[]),ll(1073742336,UA,UA,[]),ll(1073742336,qA,qA,[]),ll(1073742336,ZE,ZE,[]),ll(1073742336,GA,GA,[]),ll(1073742336,QE,QE,[]),ll(1073742336,JE,JE,[]),ll(1073742336,kv,kv,[]),ll(1073742336,_v,_v,[]),ll(1073742336,uj,uj,[]),ll(1073742336,cj,cj,[]),ll(1073742336,XO,XO,[]),ll(1073742336,KO,KO,[]),ll(1073742336,ZO,ZO,[]),ll(1073742336,dF,dF,[]),ll(1073742336,mF,mF,[]),ll(1073742336,gF,gF,[]),ll(1073742336,fF,fF,[]),ll(1073742336,ex,ex,[]),ll(1073742336,OU,OU,[]),ll(1073742336,T5,T5,[]),ll(1073742336,ua,ua,[]),ll(256,nn,!0,[]),ll(256,yy,"XSRF-TOKEN",[]),ll(256,wy,"X-XSRF-TOKEN",[]),ll(256,bA,RS,[]),ll(256,NO,hF,[]),ll(256,C5,"BrowserAnimations",[]),ll(256,pa,{printOpenWindow:!0},[])])}));aa.production&&function(){if(pe)throw new Error("Cannot enable prod mode after platform setup.");de=!1}(),Zh().bootstrapModuleFactory(I5).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);