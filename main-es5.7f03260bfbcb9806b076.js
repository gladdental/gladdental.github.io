function _objectDestructuringEmpty(e){if(null==e)throw new TypeError("Cannot destructure undefined")}function _defineProperty2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _get2(e,t,n){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var l=Object.getOwnPropertyDescriptor(i,t);return l.get?l.get.call(n):l.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf2(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(s){l=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf2(e,t)}function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _construct2(e,arguments,_getPrototypeOf2(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf2(n,e)})(e)}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct2(e,t,n){return(_construct2=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var l=new(Function.bind.apply(e,i));return n&&_setPrototypeOf2(l,n.prototype),l}).apply(null,arguments)}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf2(e){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+z1p":function(e,t,n){var i;(i=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})).en=Object.assign(i.en||{},{a:"Cannot upload file:",b:"Image toolbar",c:"Table toolbar",d:"Bold",e:"Full size image",f:"Side image",g:"Left aligned image",h:"Centered image",i:"Right aligned image",j:"Block quote",k:"Insert image or file",l:"Insert image",m:"Insert table",n:"Header column",o:"Insert column left",p:"Insert column right",q:"Delete column",r:"Column",s:"Header row",t:"Insert row below",u:"Insert row above",v:"Delete row",w:"Row",x:"Merge cell up",y:"Merge cell right",z:"Merge cell down",aa:"Merge cell left",ab:"Split cell vertically",ac:"Split cell horizontally",ad:"Merge cells",ae:"Numbered List",af:"Bulleted List",ag:"Increase indent",ah:"Decrease indent",ai:"Italic",aj:"image widget",ak:"Choose heading",al:"Heading",am:"Upload failed",an:"Enter image caption",ao:"Insert media",ap:"The URL must not be empty.",aq:"This media URL is not supported.",ar:"media widget",as:"Link",at:"Widget toolbar",au:"Upload in progress",av:"Open in a new tab",aw:"Downloadable",ax:"Unlink",ay:"Edit link",az:"Open link in new tab",ba:"This link has no URL",bb:"Save",bc:"Cancel",bd:"Paste the media URL in the input.",be:"Tip: Paste the URL into the content to embed faster.",bf:"Media URL",bg:"Link URL",bh:"Undo",bi:"Redo",bj:"Rich Text Editor",bk:"Dropdown toolbar",bl:"%0 of %1",bm:"Previous",bn:"Next",bo:"Editor toolbar",bp:"Show more items",bq:"Paragraph",br:"Heading 1",bs:"Heading 2",bt:"Heading 3",bu:"Heading 4",bv:"Heading 5",bw:"Heading 6",bx:"Change image text alternative",by:"Rich Text Editor, %0",bz:"Could not obtain resized image URL.",ca:"Selecting resized image failed",cb:"Could not insert image at the current position.",cc:"Inserting image failed",cd:"Text alternative"}),window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var l=t[i]={i:i,l:!1,exports:{}};return e[i].call(l.exports,l,l.exports,n),l.l=!0,l.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)n.d(i,l,(function(t){return e[t]}).bind(null,l));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=92)}([function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return l}));var i=function(e){function t(e,n,i){var r;return _classCallCheck2(this,t),e=l(e),i&&(e+=" "+JSON.stringify(i)),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).name="CKEditorError",r.context=n,r.data=i,r}return _inherits(t,_wrapNativeSuper(Error)),_createClass2(t,[{key:"is",value:function(e){return"CKEditorError"===e}}],[{key:"rethrowUnexpectedError",value:function(e,n){if(e.is&&e.is("CKEditorError"))throw e;var i=new t(e.message,n);throw i.stack=e.stack,i}}]),t}();function l(e){var t=e.match(/^([^:]+):/);return t?e+" Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(t[1],"\n"):e}},function(e,t,n){"use strict";var i,l=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function a(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function o(e,t){for(var n={},i=[],l=0;l<e.length;l++){var o=e[l],s=t.base?o[0]+t.base:o[0],u=n[s]||0,c="".concat(s," ").concat(u);n[s]=u+1;var h=a(c),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==h?(r[h].references++,r[h].updater(d)):r.push({identifier:c,updater:v(d,t),references:1}),i.push(c)}return i}function s(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=l(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,i){var l=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=c(t,l);else{var r=document.createTextNode(l),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function d(e,t,n){var i=n.css,l=n.media,r=n.sourceMap;if(l?e.setAttribute("media",l):e.removeAttribute("media"),r&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,p=0;function v(e,t){var n,i,l;if(t.singleton){var r=p++;n=f||(f=s(t)),i=h.bind(null,n,r,!1),l=h.bind(null,n,r,!0)}else n=s(t),i=d.bind(null,n,t),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else l()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var l=a(n[i]);r[l].references--}for(var s=o(e,t),u=0;u<n.length;u++){var c=a(n[u]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}n=s}}}},,function(e,t,n){"use strict";var i=n(7),l="object"==typeof self&&self&&self.Object===Object&&self,r=i.a||l||Function("return this")();t.a=r},function(e,n,i){"use strict";(function(e){var l=i(3),r=i(12),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?l.a.Buffer:void 0;n.a=(s?s.isBuffer:void 0)||r.a}).call(this,i(9)(e))},function(e,n,i){"use strict";(function(e){var l=i(7),r=t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r&&l.a.process,s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();n.a=s}).call(this,i(9)(e))},function(e,t,n){"use strict";(function(e){var t=n(0),i="object"==typeof window?window:e;if(i.CKEDITOR_VERSION)throw new t.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);i.CKEDITOR_VERSION="18.0.0"}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(10))},function(e,n,i){"use strict";(function(e){var l=i(3),r=t&&!t.nodeType&&t,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r?l.a.Buffer:void 0,s=o?o.allocUnsafe:void 0;n.a=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,i(9)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(1),l=n(69);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){var i=n(1),l=n(14);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(e,t,n){var i=n(1),l=n(16);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(e,t,n){var i=n(1),l=n(18);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(e,t,n){var i=n(1),l=n(20);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(e,t,n){var i=n(1),l=n(22);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var i=n(1),l=n(24);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(e,t,n){var i=n(1),l=n(26);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(e,t,n){var i=n(1),l=n(28);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(e,t,n){var i=n(1),l=n(30);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(e,t,n){var i=n(1),l=n(32);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(e,t,n){var i=n(1),l=n(34);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:1.3846153847em}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(e,t,n){var i=n(1),l=n(36);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(e,t,n){var i=n(1),l=n(38);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(e,t,n){var i=n(1),l=n(40);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(e,t,n){var i=n(1),l=n(42);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(e,t,n){var i=n(1),l=n(44);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(e,t,n){var i=n(1),l=n(46);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(e,t,n){var i=n(1),l=n(48);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(e,t,n){var i=n(1),l=n(50);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(e,t,n){var i=n(1),l=n(52);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(e,t,n){var i=n(1),l=n(54);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),l=n(56);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(e,t,n){var i=n(1),l=n(58);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(e,t,n){var i=n(1),l=n(60);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(e,t,n){var i=n(1),l=n(62);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(e,t,n){var i=n(1),l=n(64);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(e,t,n){var i=n(1),l=n(66);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(e,t,n){var i=n(1),l=n(68);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(e,t){e.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(e,t,n){var i=n(1),l=n(71);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(e,t,n){var i=n(1),l=n(73);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(e,t,n){var i=n(1),l=n(75);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(e,t,n){var i=n(1),l=n(77);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),l=n(79);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(e,t,n){var i=n(1),l=n(81);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(e,t,n){var i=n(1),l=n(83);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(e,t,n){var i=n(1),l=n(85);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(e,t,n){var i=n(1),l=n(87);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(e,t,n){var i=n(1),l=n(89);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=":root{--ck-table-selected-cell-background:#cee5fd}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{background-color:var(--ck-table-selected-cell-background)!important;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}"},function(e,t,n){var i=n(1),l=n(91);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var r=(i(l,{injectType:"singletonStyleTag",insert:"head",singleton:!0}),l.locals?l.locals:{});e.exports=r},function(e,t){e.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}"},function(e,t,n){"use strict";var i=regeneratorRuntime.mark(na),l=regeneratorRuntime.mark(ia),r=regeneratorRuntime.mark(Os);n.r(t),n.d(t,"default",(function(){return Up}));var a=n(3),o=a.a.Symbol,s=Object.prototype,u=s.hasOwnProperty,c=s.toString,h=o?o.toStringTag:void 0,d=Object.prototype.toString,f=o?o.toStringTag:void 0,p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":f&&f in Object(e)?function(e){var t=u.call(e,h),n=e[h];try{e[h]=void 0;var i=!0}catch(e){}var l=c.call(e);return i&&(t?e[h]=n:delete e[h]),l}(e):function(e){return d.call(e)}(e)},v=function(e,t){return function(n){return e(t(n))}},g=v(Object.getPrototypeOf,Object),m=function(e){return null!=e&&"object"==typeof e},y=Function.prototype,b=Object.prototype,k=y.toString,_=b.hasOwnProperty,w=k.call(Object),x=function(e){if(!m(e)||"[object Object]"!=p(e))return!1;var t=g(e);if(null===t)return!0;var n=_.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==w},C=function(e,t){return e===t||e!=e&&t!=t},S=function(e,t){for(var n=e.length;n--;)if(C(e[n][0],t))return n;return-1},T=Array.prototype.splice;function P(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}P.prototype.clear=function(){this.__data__=[],this.size=0},P.prototype.delete=function(e){var t=this.__data__,n=S(t,e);return!(n<0||(n==t.length-1?t.pop():T.call(t,n,1),--this.size,0))},P.prototype.get=function(e){var t=this.__data__,n=S(t,e);return n<0?void 0:t[n][1]},P.prototype.has=function(e){return S(this.__data__,e)>-1},P.prototype.set=function(e,t){var n=this.__data__,i=S(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var M,A=P,I=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},E=function(e){if(!I(e))return!1;var t=p(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},D=a.a["__core-js_shared__"],O=(M=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+M:"",F=Function.prototype.toString,R=function(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""},N=/^\[object .+?Constructor\]$/,L=Function.prototype,B=Object.prototype,V=RegExp("^"+L.toString.call(B.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!I(e)||function(e){return!!O&&O in e}(e))&&(E(e)?V:N).test(R(e))}(n)?n:void 0},j=z(a.a,"Map"),H=z(Object,"create"),W=Object.prototype.hasOwnProperty,U=Object.prototype.hasOwnProperty;function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Y.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},Y.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Y.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return W.call(t,e)?t[e]:void 0},Y.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:U.call(t,e)},Y.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?"__lodash_hash_undefined__":t,this};var q=Y,G=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}X.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new(j||A),string:new q}},X.prototype.delete=function(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t},X.prototype.get=function(e){return G(this,e).get(e)},X.prototype.has=function(e){return G(this,e).has(e)},X.prototype.set=function(e,t){var n=G(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var K=X;function $(e){var t=this.__data__=new A(e);this.size=t.size}$.prototype.clear=function(){this.__data__=new A,this.size=0},$.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},$.prototype.get=function(e){return this.__data__.get(e)},$.prototype.has=function(e){return this.__data__.has(e)},$.prototype.set=function(e,t){var n=this.__data__;if(n instanceof A){var i=n.__data__;if(!j||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(i)}return n.set(e,t),this.size=n.size,this};var Z=$,Q=function(){try{var e=z(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=function(e,t,n){"__proto__"==t&&Q?Q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ee=Object.prototype.hasOwnProperty,te=function(e,t,n){var i=e[t];ee.call(e,t)&&C(i,n)&&(void 0!==n||t in e)||J(e,t,n)},ne=function(e,t,n,i){var l=!n;n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r],s=i?i(n[o],e[o],o,n,e):void 0;void 0===s&&(s=e[o]),l?J(n,o,s):te(n,o,s)}return n},ie=function(e){return m(e)&&"[object Arguments]"==p(e)},le=Object.prototype,re=le.hasOwnProperty,ae=le.propertyIsEnumerable,oe=ie(function(){return arguments}())?ie:function(e){return m(e)&&re.call(e,"callee")&&!ae.call(e,"callee")},se=Array.isArray,ue=n(4),ce=/^(?:0|[1-9]\d*)$/,he=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t},de=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},fe={};fe["[object Float32Array]"]=fe["[object Float64Array]"]=fe["[object Int8Array]"]=fe["[object Int16Array]"]=fe["[object Int32Array]"]=fe["[object Uint8Array]"]=fe["[object Uint8ClampedArray]"]=fe["[object Uint16Array]"]=fe["[object Uint32Array]"]=!0,fe["[object Arguments]"]=fe["[object Array]"]=fe["[object ArrayBuffer]"]=fe["[object Boolean]"]=fe["[object DataView]"]=fe["[object Date]"]=fe["[object Error]"]=fe["[object Function]"]=fe["[object Map]"]=fe["[object Number]"]=fe["[object Object]"]=fe["[object RegExp]"]=fe["[object Set]"]=fe["[object String]"]=fe["[object WeakMap]"]=!1;var pe=function(e){return function(t){return e(t)}},ve=n(5),ge=ve.a&&ve.a.isTypedArray,me=ge?pe(ge):function(e){return m(e)&&de(e.length)&&!!fe[p(e)]},ye=Object.prototype.hasOwnProperty,be=function(e,t){var n=se(e),i=!n&&oe(e),l=!n&&!i&&Object(ue.a)(e),r=!n&&!i&&!l&&me(e),a=n||i||l||r,o=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],s=o.length;for(var u in e)!t&&!ye.call(e,u)||a&&("length"==u||l&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||he(u,s))||o.push(u);return o},ke=Object.prototype,_e=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ke)},we=v(Object.keys,Object),xe=Object.prototype.hasOwnProperty,Ce=function(e){return null!=e&&de(e.length)&&!E(e)},Se=function(e){return Ce(e)?be(e):function(e){if(!_e(e))return we(e);var t=[];for(var n in Object(e))xe.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Te=Object.prototype.hasOwnProperty,Pe=function(e){return Ce(e)?be(e,!0):function(e){if(!I(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=_e(e),n=[];for(var i in e)("constructor"!=i||!t&&Te.call(e,i))&&n.push(i);return n}(e)},Me=n(8),Ae=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},Ie=function(){return[]},Ee=Object.prototype.propertyIsEnumerable,De=Object.getOwnPropertySymbols,Oe=De?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,l=0,r=[];++n<i;){var a=e[n];t(a)&&(r[l++]=a)}return r}(De(e),(function(t){return Ee.call(e,t)})))}:Ie,Fe=function(e,t){for(var n=-1,i=t.length,l=e.length;++n<i;)e[l+n]=t[n];return e},Re=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Fe(t,Oe(e)),e=g(e);return t}:Ie,Ne=function(e,t,n){var i=t(e);return se(e)?i:Fe(i,n(e))},Le=function(e){return Ne(e,Se,Oe)},Be=function(e){return Ne(e,Pe,Re)},Ve=z(a.a,"DataView"),ze=z(a.a,"Promise"),je=z(a.a,"Set"),He=z(a.a,"WeakMap"),We=R(Ve),Ue=R(j),Ye=R(ze),qe=R(je),Ge=R(He),Xe=p;(Ve&&"[object DataView]"!=Xe(new Ve(new ArrayBuffer(1)))||j&&"[object Map]"!=Xe(new j)||ze&&"[object Promise]"!=Xe(ze.resolve())||je&&"[object Set]"!=Xe(new je)||He&&"[object WeakMap]"!=Xe(new He))&&(Xe=function(e){var t=p(e),n="[object Object]"==t?e.constructor:void 0,i=n?R(n):"";if(i)switch(i){case We:return"[object DataView]";case Ue:return"[object Map]";case Ye:return"[object Promise]";case qe:return"[object Set]";case Ge:return"[object WeakMap]"}return t});var Ke=Xe,$e=Object.prototype.hasOwnProperty,Ze=a.a.Uint8Array,Qe=function(e){var t=new e.constructor(e.byteLength);return new Ze(t).set(new Ze(e)),t},Je=/\w*$/,et=o?o.prototype:void 0,tt=et?et.valueOf:void 0,nt=function(e,t){var n=t?Qe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},it=Object.create,lt=function(){function e(){}return function(t){if(!I(t))return{};if(it)return it(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),rt=function(e){return"function"!=typeof e.constructor||_e(e)?{}:lt(g(e))},at=ve.a&&ve.a.isMap,ot=at?pe(at):function(e){return m(e)&&"[object Map]"==Ke(e)},st=ve.a&&ve.a.isSet,ut=st?pe(st):function(e){return m(e)&&"[object Set]"==Ke(e)},ct={};ct["[object Arguments]"]=ct["[object Array]"]=ct["[object ArrayBuffer]"]=ct["[object DataView]"]=ct["[object Boolean]"]=ct["[object Date]"]=ct["[object Float32Array]"]=ct["[object Float64Array]"]=ct["[object Int8Array]"]=ct["[object Int16Array]"]=ct["[object Int32Array]"]=ct["[object Map]"]=ct["[object Number]"]=ct["[object Object]"]=ct["[object RegExp]"]=ct["[object Set]"]=ct["[object String]"]=ct["[object Symbol]"]=ct["[object Uint8Array]"]=ct["[object Uint8ClampedArray]"]=ct["[object Uint16Array]"]=ct["[object Uint32Array]"]=!0,ct["[object Error]"]=ct["[object Function]"]=ct["[object WeakMap]"]=!1;var ht=function e(t,n,i,l,r,a){var o,s=1&n,u=2&n,c=4&n;if(i&&(o=r?i(t,l,r,a):i(t)),void 0!==o)return o;if(!I(t))return t;var h=se(t);if(h){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return Ae(t,o)}else{var d=Ke(t),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(ue.a)(t))return Object(Me.a)(t,s);if("[object Object]"==d||"[object Arguments]"==d||f&&!r){if(o=u||f?{}:rt(t),!s)return u?function(e,t){return ne(e,Re(e),t)}(t,function(e,t){return e&&ne(t,Pe(t),e)}(o,t)):function(e,t){return ne(e,Oe(e),t)}(t,function(e,t){return e&&ne(t,Se(t),e)}(o,t))}else{if(!ct[d])return r?t:{};o=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return Qe(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?Qe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return nt(e,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,Je.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Set]":return new i;case"[object Symbol]":return function(e){return tt?Object(tt.call(e)):{}}(e)}}(t,d,s)}}a||(a=new Z);var p=a.get(t);if(p)return p;a.set(t,o),ut(t)?t.forEach((function(l){o.add(e(l,n,i,l,t,a))})):ot(t)&&t.forEach((function(l,r){o.set(r,e(l,n,i,r,t,a))}));var v=c?u?Be:Le:u?keysIn:Se,g=h?void 0:v(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n););}(g||t,(function(l,r){g&&(l=t[r=l]),te(o,r,e(l,n,i,r,t,a))})),o},dt=function(e,t){return ht(e,5,t="function"==typeof t?t:void 0)},ft=function(e){return m(e)&&1===e.nodeType&&!x(e)},pt=function(){function e(t,n){_classCallCheck2(this,e),this._config={},n&&this.define(vt(n)),t&&this._setObjectToTarget(this._config,t)}return _createClass2(e,[{key:"set",value:function(e,t){this._setToTarget(this._config,e,t)}},{key:"define",value:function(e,t){this._setToTarget(this._config,e,t,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=Object.keys(this._config);case 1:if(!(t<n.length)){e.next=8;break}return i=n[t],e.next=5,i;case 5:t++,e.next=1;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"_setToTarget",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(x(t))this._setObjectToTarget(e,t,i);else{var l=t.split(".");t=l.pop();var r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;x(e[c])||(e[c]={}),e=e[c]}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}if(x(n))return x(e[t])||(e[t]={}),void this._setObjectToTarget(e=e[t],n,i);i&&void 0!==e[t]||(e[t]=n)}}},{key:"_getFromSource",value:function(e,t){var n=t.split(".");t=n.pop();var i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(!x(e[s])){e=null;break}e=e[s]}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return e?vt(e[t]):void 0}},{key:"_setObjectToTarget",value:function(e,t,n){var i=this;Object.keys(t).forEach((function(l){i._setToTarget(e,l,t[l],n)}))}}]),e}();function vt(e){return dt(e,gt)}function gt(e){return ft(e)?e:void 0}var mt=function e(t,n){_classCallCheck2(this,e),this.source=t,this.name=n,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}},yt=new Array(256).fill().map((function(e,t){return("0"+t.toString(16)).slice(-2)}));function bt(){var e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+yt[e>>0&255]+yt[e>>8&255]+yt[e>>16&255]+yt[e>>24&255]+yt[t>>0&255]+yt[t>>8&255]+yt[t>>16&255]+yt[t>>24&255]+yt[n>>0&255]+yt[n>>8&255]+yt[n>>16&255]+yt[n>>24&255]+yt[i>>0&255]+yt[i>>8&255]+yt[i>>16&255]+yt[i>>24&255]}var kt={get:function(e){return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},_t=(n(6),n(0)),wt=Symbol("listeningTo"),xt=Symbol("emitterId"),Ct={on:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.listenTo(this,e,t,n)},once:function(e,t,n){var i=!1;this.listenTo(this,e,(function(e){for(var n=arguments.length,l=new Array(n>1?n-1:0),r=1;r<n;r++)l[r-1]=arguments[r];i||(i=!0,e.off(),t.call.apply(t,[this,e].concat(l)))}),n)},off:function(e,t){this.stopListening(this,e,t)},listenTo:function(e,t,n){var i,l,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[wt]||(this[wt]={});var a=this[wt];Tt(e)||St(e);var o=Tt(e);(i=a[o])||(i=a[o]={emitter:e,callbacks:{}}),(l=i.callbacks[t])||(l=i.callbacks[t]=[]),l.push(n),function(e,t){var n=Pt(e);if(!n[t]){for(var i=t,l=null,r=[];""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},r.push(n[i]),l&&n[i].childEvents.push(l),l=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){var a=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){u.value.callbacks=n[i].callbacks.slice()}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}n[i].childEvents.push(l)}}}(e,t);var s=Mt(e,t),u=kt.get(r.priority),c={callback:n,priority:u},h=!0,d=!1,f=void 0;try{for(var p,v=s[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){for(var g=p.value,m=!1,y=0;y<g.length;y++)if(g[y].priority<u){g.splice(y,0,c),m=!0;break}m||g.push(c)}}catch(b){d=!0,f=b}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}},stopListening:function(e,t,n){var i=this[wt],l=e&&Tt(e),r=i&&l&&i[l],a=r&&t&&r.callbacks[t];if(!(!i||e&&!r||t&&!a))if(n)It(e,t,n);else if(a){for(;n=a.pop();)It(e,t,n);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete i[l]}else{for(l in i)this.stopListening(i[l].emitter);delete this[wt]}},fire:function(e){try{for(var t=e instanceof mt?e:new mt(this,e),n=t.name,i=function e(t,n){var i;return t._events&&(i=t._events[n])&&i.callbacks.length?i.callbacks:n.indexOf(":")>-1?e(t,n.substr(0,n.lastIndexOf(":"))):null}(this,n),l=arguments.length,r=new Array(l>1?l-1:0),a=1;a<l;a++)r[a-1]=arguments[a];if(t.path.push(this),i){var o=[t].concat(r);i=Array.from(i);for(var s=0;s<i.length&&(i[s].callback.apply(this,o),t.off.called&&(delete t.off.called,It(this,n,i[s].callback)),!t.stop.called);s++);}if(this._delegations){var u=this._delegations.get(n),c=this._delegations.get("*");u&&At(u,t,r),c&&At(c,t,r)}return t.return}catch(e){_t.b.rethrowUnexpectedError(e,this)}},delegate:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return{to:function(t,i){e._delegations||(e._delegations=new Map),n.forEach((function(n){var l=e._delegations.get(n);l?l.set(t,i):e._delegations.set(n,new Map([[t,i]]))}))}}},stopDelegating:function(e,t){if(this._delegations)if(e)if(t){var n=this._delegations.get(e);n&&n.delete(t)}else this._delegations.delete(e);else this._delegations.clear()}};function St(e,t){e[xt]||(e[xt]=t||bt())}function Tt(e){return e[xt]}function Pt(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function Mt(e,t){var n=Pt(e)[t];if(!n)return[];for(var i=[n.callbacks],l=0;l<n.childEvents.length;l++){var r=Mt(e,n.childEvents[l]);i=i.concat(r)}return i}function At(e,t,n){var i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=_slicedToArray(a.value,2),u=s[0],c=s[1];c?"function"==typeof c&&(c=c(t.name)):c=t.name;var h=new mt(t.source,c);h.path=_toConsumableArray(t.path),u.fire.apply(u,[h].concat(_toConsumableArray(n)))}}catch(d){l=!0,r=d}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}function It(e,t,n){var i=Mt(e,t),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0)for(var u=o.value,c=0;c<u.length;c++)u[c].callback==n&&(u.splice(c,1),c--)}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}function Et(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach((function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach((function(n){if(!(n in e.prototype)){var i=Object.getOwnPropertyDescriptor(t,n);i.enumerable=!1,Object.defineProperty(e.prototype,n,i)}}))}))}var Dt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}return _createClass2(e,[{key:"add",value:function(e,t){var n,i=this._idProperty;if(i in e){if("string"!=typeof(n=e[i]))throw new _t.b("collection-add-invalid-id",this);if(this.get(n))throw new _t.b("collection-add-item-already-exists",this)}else e[i]=n=bt();if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new _t.b("collection-add-item-invalid-index",this);return this._items.splice(t,0,e),this._itemMap.set(n,e),this.fire("add",e,t),this}},{key:"get",value:function(e){var t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new _t.b("collection-get-invalid-arg: Index or id must be given.",this);t=this._items[e]}return t||null}},{key:"has",value:function(e){return this._itemMap.has("string"==typeof e?e:e[this._idProperty])}},{key:"getIndex",value:function(e){var t;return t="string"==typeof e?this._itemMap.get(e):e,this._items.indexOf(t)}},{key:"remove",value:function(e){var t,n,i,l=!1,r=this._idProperty;if("string"==typeof e?(l=!(i=this._itemMap.get(n=e)),i&&(t=this._items.indexOf(i))):"number"==typeof e?(l=!(i=this._items[t=e]),i&&(n=i[r])):(n=(i=e)[r],l=-1==(t=this._items.indexOf(i))||!this._itemMap.get(n)),l)throw new _t.b("collection-remove-404: Item not found.",this);this._items.splice(t,1),this._itemMap.delete(n);var a=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(a),this.fire("remove",i,t),i}},{key:"map",value:function(e,t){return this._items.map(e,t)}},{key:"find",value:function(e,t){return this._items.find(e,t)}},{key:"filter",value:function(e,t){return this._items.filter(e,t)}},{key:"clear",value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:"bindTo",value:function(e){var t=this;if(this._bindToCollection)throw new _t.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:function(e){t._setUpBindToBinding((function(t){return new e(t)}))},using:function(e){t._setUpBindToBinding("function"==typeof e?function(t){return e(t)}:function(t){return t[e]})}}}},{key:"_setUpBindToBinding",value:function(e){var t=this,n=this._bindToCollection,i=function(i,l,r){var a=n._bindToCollection==t,o=n._bindToInternalToExternalMap.get(l);if(a&&o)t._bindToExternalToInternalMap.set(l,o),t._bindToInternalToExternalMap.set(o,l);else{var s=e(l);if(!s)return void t._skippedIndexesFromExternal.push(r);var u=r,c=!0,h=!1,d=void 0;try{for(var f,p=t._skippedIndexesFromExternal[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){r>f.value&&u--}}catch(_){h=!0,d=_}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}var v=!0,g=!1,m=void 0;try{for(var y,b=n._skippedIndexesFromExternal[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){u>=y.value&&u++}}catch(_){g=!0,m=_}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}t._bindToExternalToInternalMap.set(l,s),t._bindToInternalToExternalMap.set(s,l),t.add(s,u);for(var k=0;k<n._skippedIndexesFromExternal.length;k++)u<=n._skippedIndexesFromExternal[k]&&n._skippedIndexesFromExternal[k]++}},l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;i(0,u,n.getIndex(u))}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}this.listenTo(n,"add",i),this.listenTo(n,"remove",(function(e,n,i){var l=t._bindToExternalToInternalMap.get(n);l&&t.remove(l),t._skippedIndexesFromExternal=t._skippedIndexesFromExternal.reduce((function(e,t){return i<t&&e.push(t-1),i>t&&e.push(t),e}),[])}))}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}}]),e}();Et(Dt,Ct);var Ot=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];_classCallCheck2(this,e),this._context=t,this._plugins=new Map,this._availablePlugins=new Map;var l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;u.pluginName&&this._availablePlugins.set(u.pluginName,u)}}catch(y){r=!0,a=y}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}this._contextPlugins=new Map;var c=!0,h=!1,d=void 0;try{for(var f,p=i[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=_slicedToArray(f.value,2),g=v[0],m=v[1];this._contextPlugins.set(g,m),this._contextPlugins.set(m,g),g.pluginName&&this._availablePlugins.set(g.pluginName,g)}}catch(y){h=!0,d=y}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}return _createClass2(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,i=void 0,e.prev=3,l=this._plugins[Symbol.iterator]();case 5:if(t=(r=l.next()).done){e.next=14;break}if(a=r.value,e.t0="function"==typeof a[0],!e.t0){e.next=11;break}return e.next=11,a;case 11:t=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(3),n=!0,i=e.t1;case 20:e.prev=20,e.prev=21,t||null==l.return||l.return();case 23:if(e.prev=23,!n){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[3,16,20,28],[21,,23,27]])}))},{key:"get",value:function(e){var t=this._plugins.get(e);if(!t){var n=e;throw"function"==typeof e&&(n=e.pluginName||e.name),new _t.b("plugincollection-plugin-not-loaded: The requested plugin is not loaded.",this._context,{plugin:n})}return t}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this,i=this._context,l=new Set,r=[],a=d(e),o=d(t),s=function(e){var t=[],n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;h(o)||t.push(o)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t.length?t:null}(e);if(s){var u="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(_t.a)(u),{plugins:s}),Promise.reject(new _t.b(u,i,{plugins:s}))}return Promise.all(a.map((function e(a){if(!o.includes(a)&&!n._plugins.has(a)&&!l.has(a))return function(a){return new Promise((function(o){l.add(a),a.requires&&a.requires.forEach((function(n){var l=h(n);if(a.isContextPlugin&&!l.isContextPlugin)throw new _t.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:l.name,requiredBy:a.name});if(t.includes(l))throw new _t.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:l.name,requiredBy:a.name});e(l)}));var s=n._contextPlugins.get(a)||new a(i);n._add(a,s),r.push(s),o()}))}(a).catch((function(e){throw console.error(Object(_t.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:a}),e}))}))).then((function(){return c(r,"init")})).then((function(){return c(r,"afterInit")})).then((function(){return r}));function c(e,t){return e.reduce((function(e,i){return i[t]?n._contextPlugins.has(i)?e:e.then(i[t].bind(i)):e}),Promise.resolve())}function h(e){return"function"==typeof e?e:n._availablePlugins.get(e)}function d(e){return e.map((function(e){return h(e)})).filter((function(e){return!!e}))}}},{key:"destroy",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var l,r=this[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=_slicedToArray(l.value,2)[1];"function"!=typeof a.destroy||this._contextPlugins.has(a)||e.push(a.destroy())}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return Promise.all(e)}},{key:"_add",value:function(e,t){this._plugins.set(e,t);var n=e.pluginName;if(n){if(this._plugins.has(n))throw new _t.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}]),e}();Et(Ot,Ct),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var Ft=["ar","fa","he","ku","ug"],Rt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,e),this.uiLanguage=n.uiLanguage||"en",this.contentLanguage=n.contentLanguage||this.uiLanguage,this.uiLanguageDirection=Nt(this.uiLanguage),this.contentLanguageDirection=Nt(this.contentLanguage),this.t=function(){return t._t.apply(t,arguments)}}return _createClass2(e,[{key:"_t",value:function(e,t){var n=function(e,t){var n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(e=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(e,t){return e in window.CKEDITOR_TRANSLATIONS&&t in window.CKEDITOR_TRANSLATIONS[e]}(e,t)?window.CKEDITOR_TRANSLATIONS[e][t].replace(/ \[context: [^\]]+\]$/,""):t.replace(/ \[context: [^\]]+\]$/,"")}(this.uiLanguage,e);return t&&(n=n.replace(/%(\d+)/g,(function(e,n){return n<t.length?t[n]:e}))),n}},{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}}]),e}();function Nt(e){return Ft.includes(e)?"rtl":"ltr"}var Lt=function(){function e(t){_classCallCheck2(this,e),this.config=new pt(t,this.constructor.defaultConfig);var n=this.constructor.builtinPlugins;this.config.define("plugins",n),this.plugins=new Ot(this,n);var i=this.config.get("language")||{};this.locale=new Rt({uiLanguage:"string"==typeof i?i:i.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Dt,this._contextOwner=null}return _createClass2(e,[{key:"initPlugins",value:function(){var e=this.config.get("plugins")||[],t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if("function"!=typeof a)throw new _t.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:a});if(!0!==a.isContextPlugin)throw new _t.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:a})}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return this.plugins.init(e)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,(function(e){return e.destroy()}))).then((function(){return e.plugins.destroy()}))}},{key:"_addEditor",value:function(e,t){if(this._contextOwner)throw new _t.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(e),t&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e={},t=!0,n=!1,i=void 0;try{for(var l,r=this.config.names()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;["plugins","removePlugins","extraPlugins"].includes(a)||(e[a]=this.config.get(a))}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}}],[{key:"create",value:function(e){var t=this;return new Promise((function(n){var i=new t(e);n(i.initPlugins().then((function(){return i})))}))}}]),e}();function Bt(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}var Vt=function(e){return ht(e,4)},zt=function(){function e(t){_classCallCheck2(this,e),this.document=t,this.parent=null}return _createClass2(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.index),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),l=0;n[l]==i[l]&&n[l];)l++;return 0===l?null:n[l-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=Bt(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t),this.parent&&this.parent._fireChange(e,t)}},{key:"toJSON",value:function(){var e=Vt(this);return delete e.parent,e}},{key:"is",value:function(e){return"node"==e||"view:node"==e}},{key:"index",get:function(){var e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new _t.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}();Et(zt,Ct);var jt=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._textData=n,i}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){return"text"==e||"view:text"==e||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"isSimilar",value:function(e){return e instanceof t&&(this===e||this.data===e.data)}},{key:"_clone",value:function(){return new t(this.document,this.data)}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(e){this._fireChange("text",this),this._textData=e}}]),t}(zt),Ht=function(){function e(t,n,i){if(_classCallCheck2(this,e),this.textNode=t,n<0||n>t.data.length)throw new _t.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(i<0||n+i>t.data.length)throw new _t.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(n,n+i),this.offsetInText=n}return _createClass2(e,[{key:"is",value:function(e){return"textProxy"==e||"view:textProxy"==e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this.textNode:this.parent;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}}]),e}();function Wt(e){return!(!e||!e[Symbol.iterator])}function Ut(e){return Wt(e)?new Map(e):function(e){var t=new Map;for(var n in e)t.set(n,e[n]);return t}(e)}var Yt=function(){function e(){_classCallCheck2(this,e),this._patterns=[],this.add.apply(this,arguments)}return _createClass2(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,l=t;i<l.length;i++){var r=l[i];("string"==typeof r||r instanceof RegExp)&&(r={name:r}),r.classes&&("string"==typeof r.classes||r.classes instanceof RegExp)&&(r.classes=[r.classes]),this._patterns.push(r)}}},{key:"match",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,l=t;i<l.length;i++){var r=l[i],a=!0,o=!1,s=void 0;try{for(var u,c=this._patterns[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value,d=qt(r,h);if(d)return{element:r,pattern:h,match:d}}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}return null}},{key:"matchAll",value:function(){for(var e=[],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var l=0,r=n;l<r.length;l++){var a=r[l],o=!0,s=!1,u=void 0;try{for(var c,h=this._patterns[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value,f=qt(a,d);f&&e.push({element:a,pattern:d,match:f})}}catch(p){s=!0,u=p}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(1!==this._patterns.length)return null;var e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}]),e}();function qt(e,t){if("function"==typeof t)return t(e);var n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?e.test(t):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){var n=[];for(var i in e){var l=e[i];if(!t.hasAttribute(i))return null;var r=t.getAttribute(i);if(!0===l)n.push(i);else if(l instanceof RegExp){if(!l.test(r))return null;n.push(i)}else{if(r!==l)return null;n.push(i)}}return n}(t.attributes,e),!n.attributes)?null:!(t.classes&&(n.classes=function(e,t){var n=[],i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(s instanceof RegExp){var u=t.getClassNames(),c=!0,h=!1,d=void 0;try{for(var f,p=u[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;s.test(v)&&n.push(v)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}if(0===n.length)return null}else{if(!t.hasClass(s))return null;n.push(s)}}}catch(g){l=!0,r=g}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}(t.classes,e),!n.classes))&&!(t.styles&&(n.styles=function(e,t){var n=[];for(var i in e){var l=e[i];if(!t.hasStyle(i))return null;var r=t.getStyle(i);if(l instanceof RegExp){if(!l.test(r))return null;n.push(i)}else{if(r!==l)return null;n.push(i)}}return n}(t.styles,e),!n.styles))&&n}var Gt=function(e){return"symbol"==typeof e||m(e)&&"[object Symbol]"==p(e)},Xt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kt=/^\w*$/;function $t(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,l=t?t.apply(this,i):i[0],r=n.cache;if(r.has(l))return r.get(l);var a=e.apply(this,i);return n.cache=r.set(l,a)||r,a};return n.cache=new($t.Cache||K),n}$t.Cache=K;var Zt=$t,Qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Jt=/\\(\\)?/g,en=function(e){var t=Zt((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Qt,(function(e,n,i,l){t.push(i?l.replace(Jt,"$1"):n||e)})),t}),(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}(),tn=o?o.prototype:void 0,nn=tn?tn.toString:void 0,ln=function(e){return null==e?"":function e(t){if("string"==typeof t)return t;if(se(t))return function(e,t){for(var n=-1,i=null==e?0:e.length,l=Array(i);++n<i;)l[n]=t(e[n],n,e);return l}(t,e)+"";if(Gt(t))return nn?nn.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}(e)},rn=function(e,t){return se(e)?e:function(e,t){if(se(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Gt(e))||Kt.test(e)||!Xt.test(e)||null!=t&&e in Object(t)}(e,t)?[e]:en(ln(e))},an=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},on=function(e){if("string"==typeof e||Gt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},sn=function(e,t){for(var n=0,i=(t=rn(t,e)).length;null!=e&&n<i;)e=e[on(t[n++])];return n&&n==i?e:void 0},un=function(e,t,n){var i=-1,l=e.length;t<0&&(t=-t>l?0:l+t),(n=n>l?l:n)<0&&(n+=l),l=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(l);++i<l;)r[i]=e[i+t];return r},cn=function(e,t,n){var i=null==e?void 0:sn(e,t);return void 0===i?n:i},hn=function(e,t,n){(void 0!==n&&!C(e[t],n)||void 0===n&&!(t in e))&&J(e,t,n)},dn=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},fn=function(e){return e},pn=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},vn=Math.max,gn=function(e){return function(){return e}},mn=Date.now,yn=function(e){var t=0,n=0;return function(){var i=mn(),l=16-(i-n);if(n=i,l>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Q?function(e,t){return Q(e,"toString",{configurable:!0,enumerable:!1,value:gn(t),writable:!0})}:fn),bn=function(e){return function(e,t){return yn(function(e,t,n){return t=vn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,l=-1,r=vn(i.length-t,0),a=Array(r);++l<r;)a[l]=i[t+l];l=-1;for(var o=Array(t+1);++l<t;)o[l]=i[l];return o[t]=n(a),pn(e,this,o)}}(e,void 0,fn),e+"")}((function(t,n){var i=-1,l=n.length,r=l>1?n[l-1]:void 0,a=l>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(l--,r):void 0,a&&function(e,t,n){if(!I(n))return!1;var i=typeof t;return!!("number"==i?Ce(n)&&he(t,n.length):"string"==i&&t in n)&&C(n[t],e)}(n[0],n[1],a)&&(r=l<3?void 0:r,l=1),t=Object(t);++i<l;){var o=n[i];o&&e(t,o,i,r)}return t}))},kn=bn((function(e,t,n){!function e(t,n,i,l,r){t!==n&&function(e,t,n){for(var i=-1,l=Object(e),r=n(e),a=r.length;a--;){var o=r[++i];if(!1===t(l[o],o))break}}(n,(function(a,o){if(r||(r=new Z),I(a))!function(e,t,n,i,l,r,a){var o=dn(e,n),s=dn(t,n),u=a.get(s);if(u)hn(e,n,u);else{var c=r?r(o,s,n+"",e,t,a):void 0,h=void 0===c;if(h){var d=se(s),f=!d&&Object(ue.a)(s),p=!d&&!f&&me(s);c=s,d||f||p?se(o)?c=o:function(e){return m(e)&&Ce(e)}(o)?c=Ae(o):f?(h=!1,c=Object(Me.a)(s,!0)):p?(h=!1,c=nt(s,!0)):c=[]:x(s)||oe(s)?(c=o,oe(o)?c=function(e){return ne(e,Pe(e))}(o):I(o)&&!E(o)||(c=rt(s))):h=!1}h&&(a.set(s,c),l(c,s,i,r,a),a.delete(s)),hn(e,n,c)}}(t,n,o,i,e,l,r);else{var s=l?l(dn(t,o),a,o+"",t,n,r):void 0;void 0===s&&(s=a),hn(t,o,s)}}),Pe)}(e,t,n)})),_n=function(e,t,n){return null==e?e:function(e,t,n,i){if(!I(e))return e;for(var l=-1,r=(t=rn(t,e)).length,a=r-1,o=e;null!=o&&++l<r;){var s=on(t[l]),u=n;if(l!=a){var c=o[s];void 0===(u=void 0)&&(u=I(c)?c:he(t[l+1])?[]:{})}te(o,s,u),o=o[s]}return e}(e,t,n)},wn=function(){function e(t){_classCallCheck2(this,e),this._styles={},this._styleProcessor=t}return _createClass2(e,[{key:"setTo",value:function(e){this.clear();for(var t=0,n=Array.from(function(e){var t=null,n=0,i=0,l=null,r=new Map;if(""===e)return r;";"!=e.charAt(e.length-1)&&(e+=";");for(var a=0;a<e.length;a++){var o=e.charAt(a);if(null===t)switch(o){case":":l||(l=e.substr(n,a-n),i=a+1);break;case'"':case"'":t=o;break;case";":var s=e.substr(i,a-i);l&&r.set(l.trim(),s.trim()),l=null,n=a+1}else o===t&&(t=null)}return r}(e).entries());t<n.length;t++){var i=_slicedToArray(n[t],2),l=i[0],r=i[1];this._styleProcessor.toNormalizedForm(l,r,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return _slicedToArray(t,1)[0]===e}));return Array.isArray(t)}},{key:"set",value:function(e,t){if(I(e))for(var n=0,i=Object.entries(e);n<i.length;n++){var l=_slicedToArray(i[n],2),r=l[0],a=l[1];this._styleProcessor.toNormalizedForm(r,a,this._styles)}else this._styleProcessor.toNormalizedForm(e,t,this._styles)}},{key:"remove",value:function(e){var t=Cn(e);(function(e,t){null==e||function(e,t){null==(e=function(e,t){return t.length<2?e:sn(e,un(t,0,-1))}(e,t=rn(t,e)))||delete e[on(an(t))]}(e,t)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map((function(e){return e.join(":")})).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!I(this._styles[e]))return this._styles[e];var t=this._styleProcessor.getReducedForm(e,this._styles).find((function(t){return _slicedToArray(t,1)[0]===e}));return Array.isArray(t)?t[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map((function(e){return _slicedToArray(e,1)[0]}))}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],t=0,n=Object.keys(this._styles);t<n.length;t++){var i=n[t];e.push.apply(e,_toConsumableArray(this._styleProcessor.getReducedForm(i,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var t=e.split(".");if(t.length>1){var n=t.splice(0,t.length-1).join("."),i=cn(this._styles,n);i&&!Array.from(Object.keys(i)).length&&this.remove(n)}}},{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}}]),e}(),xn=function(){function e(){_classCallCheck2(this,e),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return _createClass2(e,[{key:"toNormalizedForm",value:function(e,t,n){if(I(t))Sn(n,Cn(e),t);else if(this._normalizers.has(e)){var i=this._normalizers.get(e)(t);Sn(n,i.path,i.value)}else Sn(n,e,t)}},{key:"getNormalized",value:function(e,t){if(!e)return kn({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){var n=this._extractors.get(e);if("string"==typeof n)return cn(t,n);var i=n(e,t);if(i)return i}return cn(t,Cn(e))}},{key:"getReducedForm",value:function(e,t){var n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,t){this._normalizers.set(e,t)}},{key:"setExtractor",value:function(e,t){this._extractors.set(e,t)}},{key:"setReducer",value:function(e,t){this._reducers.set(e,t)}},{key:"setStyleRelation",value:function(e,t){this._mapStyleNames(e,t);var n=!0,i=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this._mapStyleNames(o,[e])}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}},{key:"_mapStyleNames",value:function(e,t){var n;this._consumables.has(e)||this._consumables.set(e,[]),(n=this._consumables.get(e)).push.apply(n,_toConsumableArray(t))}}]),e}();function Cn(e){return e.replace("-",".")}function Sn(e,t,n){var i=n;I(n)&&(i=kn({},cn(e,t),n)),_n(e,t,i)}var Tn=function(e){function t(e,n,i,l){var r;if(_classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).name=n,r._attrs=function(e){e=Ut(e);var t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=_slicedToArray(l.value,2),o=a[0],s=a[1];null===s?e.delete(o):"string"!=typeof s&&e.set(o,String(s))}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}(i),r._children=[],l&&r._insertChild(0,l),r._classes=new Set,r._attrs.has("class")){var a=r._attrs.get("class");Pn(r._classes,a),r._attrs.delete("class")}return r._styles=new wn(r.document.stylesProcessor),r._attrs.has("style")&&(r._styles.setTo(r._attrs.get("style")),r._attrs.delete("style")),r._customProperties=new Map,_possibleConstructorReturn(r)}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.replace(/^view:/,"");return n?"element"==i&&n==this.name:"element"==i||i==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this._classes.size>0,!e.t0){e.next=4;break}return e.next=4,"class";case 4:if(e.t1=this._styles.isEmpty,e.t1){e.next=8;break}return e.next=8,"style";case 8:return e.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttributes",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._attrs.entries(),"t0",1);case 1:if(e.t1=this._classes.size>0,!e.t1){e.next=5;break}return e.next=5,["class",this.getAttribute("class")];case 5:if(e.t2=this._styles.isEmpty,e.t2){e.next=9;break}return e.next=9,["style",this.getAttribute("style")];case 9:case"end":return e.stop()}}),e,this)}))},{key:"getAttribute",value:function(e){if("class"==e)return this._classes.size>0?_toConsumableArray(this._classes).join(" "):void 0;if("style"==e){var t=this._styles.toString();return""==t?void 0:t}return this._attrs.get(e)}},{key:"hasAttribute",value:function(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}},{key:"isSimilar",value:function(e){if(!(e instanceof t))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;var n=!0,i=!1,l=void 0;try{for(var r,a=this._attrs[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=_slicedToArray(r.value,2),s=o[0],u=o[1];if(!e._attrs.has(s)||e._attrs.get(s)!==u)return!1}}catch(w){i=!0,l=w}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}var c=!0,h=!1,d=void 0;try{for(var f,p=this._classes[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(!e._classes.has(v))return!1}}catch(w){h=!0,d=w}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}var g=!0,m=!1,y=void 0;try{for(var b,k=this._styles.getStyleNames()[Symbol.iterator]();!(g=(b=k.next()).done);g=!0){var _=b.value;if(!e._styles.has(_)||e._styles.getAsString(_)!==this._styles.getAsString(_))return!1}}catch(w){m=!0,y=w}finally{try{g||null==k.return||k.return()}finally{if(m)throw y}}return!0}},{key:"hasClass",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,l=t;i<l.length;i++){var r=l[i];if(!this._classes.has(r))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(e){return this._styles.getAsString(e)}},{key:"getNormalizedStyle",value:function(e){return this._styles.getNormalized(e)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=0,l=t;i<l.length;i++){var r=l[i];if(!this._styles.has(r))return!1}return!0}},{key:"findAncestor",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=_construct2(Yt,t),l=this.parent;l;){if(i.match(l))return l;l=l.parent}return null}},{key:"getCustomProperty",value:function(e){return this._customProperties.get(e)}},{key:"getCustomProperties",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getIdentity",value:function(){var e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((function(e){return"".concat(e[0],'="').concat(e[1],'"')})).sort().join(" ");return this.name+(""==e?"":' class="'.concat(e,'"'))+(t?' style="'.concat(t,'"'):"")+(""==n?"":" ".concat(n))}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];if(e){var n=!0,i=!1,l=void 0;try{for(var r,a=this.getChildren()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t.push(o._clone(e))}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}var s=new this.constructor(this.document,this.name,this._attrs,t);return s._classes=new Set(this._classes),s._styles.set(this._styles.getNormalized()),s._customProperties=new Map(this._customProperties),s.getFillerOffset=this.getFillerOffset,s}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n=0,i=function(e,t){return"string"==typeof t?[new jt(e,t)]:(Wt(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new jt(e,t):t instanceof Ht?new jt(e,t.data):t})))}(this.document,t),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;null!==u.parent&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(e,0,u),e++,n++}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return n}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_setAttribute",value:function(e,t){t=String(t),this._fireChange("attributes",this),"class"==e?Pn(this._classes,t):"style"==e?this._styles.setTo(t):this._attrs.set(e,t)}},{key:"_removeAttribute",value:function(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}},{key:"_addClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.add(e)}))}},{key:"_removeClass",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._classes.delete(e)}))}},{key:"_setStyle",value:function(e,t){this._fireChange("attributes",this),this._styles.set(e,t)}},{key:"_removeStyle",value:function(e){var t=this;this._fireChange("attributes",this),(e=Array.isArray(e)?e:[e]).forEach((function(e){return t._styles.remove(e)}))}},{key:"_setCustomProperty",value:function(e,t){this._customProperties.set(e,t)}},{key:"_removeCustomProperty",value:function(e){return this._customProperties.delete(e)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this._children.length}}]),t}(zt);function Pn(e,t){var n=t.split(/\s+/);e.clear(),n.forEach((function(t){return e.add(t)}))}var Mn=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).getFillerOffset=An,r}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e&&e.replace(/^view:/,"");return n?"containerElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"containerElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}}]),t}(Tn);function An(){var e=_toConsumableArray(this.getChildren()),t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){if(!r.value.is("uiElement"))return null}}catch(o){i=!0,l=o}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return this.childCount}var In=bn((function(e,t){ne(t,Pe(t),e)})),En=Symbol("observableProperties"),Dn=Symbol("boundObservables"),On=Symbol("boundProperties"),Fn={set:function(e,t){var n=this;if(I(e))Object.keys(e).forEach((function(t){n.set(t,e[t])}),this);else{Nn(this);var i=this[En];if(e in this&&!i.has(e))throw new _t.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:function(){return i.get(e)},set:function(t){var n=i.get(e),l=this.fire("set:"+e,e,t,n);void 0===l&&(l=t),n===l&&i.has(e)||(i.set(e,l),this.fire("change:"+e,e,l,n))}}),this[e]=t}},bind:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length||!Vn(n))throw new _t.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(n).size!==n.length)throw new _t.b("observable-bind-duplicate-properties: Properties must be unique.",this);Nn(this);var l=this[On];n.forEach((function(t){if(l.has(t))throw new _t.b("observable-bind-rebind: Cannot bind the same property more than once.",e)}));var r=new Map;return n.forEach((function(e){var t={property:e,to:[]};l.set(e,t),r.set(e,t)})),{to:Ln,toMany:Bn,_observable:this,_bindProperties:n,_to:[],_bindings:r}},unbind:function(){var e=this;if(En in this){for(var t=this[On],n=this[Dn],i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];if(l.length){if(!Vn(l))throw new _t.b("observable-unbind-wrong-properties: Properties must be strings.",this);l.forEach((function(i){var l,r,a,o,s=t.get(i);s&&(s.to.forEach((function(t){r=t[1],a=n.get(l=t[0]),(o=a[r]).delete(s),o.size||delete a[r],Object.keys(a).length||(n.delete(l),e.stopListening(l,"change"))})),t.delete(i))}))}else n.forEach((function(t,n){e.stopListening(n,"change")})),n.clear(),t.clear()}},decorate:function(e){var t=this,n=this[e];if(!n)throw new _t.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:e});this.on(e,(function(e,i){e.return=n.apply(t,i)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.fire(e,n)}}};In(Fn,Ct);var Rn=Fn;function Nn(e){En in e||(Object.defineProperty(e,En,{value:new Map}),Object.defineProperty(e,Dn,{value:new Map}),Object.defineProperty(e,On,{value:new Map}))}function Ln(){var e,t=this,n=(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new _t.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);var i,l={to:[]};return"function"==typeof t[t.length-1]&&(l.callback=t.pop()),t.forEach((function(e){if("string"==typeof e)i.properties.push(e);else{if("object"!=typeof e)throw new _t.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);l.to.push(i={observable:e,properties:[]})}})),l}).apply(void 0,arguments),i=Array.from(this._bindings.keys()),l=i.length;if(!n.callback&&n.to.length>1)throw new _t.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(l>1&&n.callback)throw new _t.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);n.to.forEach((function(e){if(e.properties.length&&e.properties.length!==l)throw new _t.b("observable-bind-to-properties-length: The number of properties must match.",t);e.properties.length||(e.properties=t._bindProperties)})),this._to=n.to,n.callback&&(this._bindings.get(i[0]).callback=n.callback),e=this._observable,this._to.forEach((function(t){var n,i=e[Dn];i.get(t.observable)||e.listenTo(t.observable,"change",(function(l,r){(n=i.get(t.observable)[r])&&n.forEach((function(t){zn(e,t.property)}))}))})),function(e){var t;e._bindings.forEach((function(n,i){e._to.forEach((function(l){t=l.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([l.observable,t]),function(e,t,n,i){var l=e[Dn],r=l.get(n),a=r||{};a[i]||(a[i]=new Set),a[i].add(t),r||l.set(n,a)}(e._observable,n,l.observable,t)}))}))}(this),this._bindProperties.forEach((function(e){zn(t._observable,e)}))}function Bn(e,t,n){if(this._bindings.size>1)throw new _t.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to.apply(this,_toConsumableArray(function(e,t){var n=e.map((function(e){return[e,t]}));return Array.prototype.concat.apply([],n)}(e,t)).concat([n]))}function Vn(e){return e.every((function(e){return"string"==typeof e}))}function zn(e,t){var n,i=e[On].get(t);n=i.callback?i.callback.apply(e,i.to.map((function(e){return e[0][e[1]]}))):(n=i.to[0])[0][n[1]],e.hasOwnProperty(t)?e[t]=n:e.set(t,n)}var jn=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).set("isReadOnly",!1),r.set("isFocused",!1),r.bind("isReadOnly").to(e),r.bind("isFocused").to(e,"isFocused",(function(t){return t&&e.selection.editableElement==_assertThisInitialized(r)})),r.listenTo(e.selection,"change",(function(){r.isFocused=e.isFocused&&e.selection.editableElement==_assertThisInitialized(r)})),r}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e&&e.replace(/^view:/,"");return n?"editableElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"editableElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"destroy",value:function(){this.stopListening()}}]),t}(Mn);Et(jn,Rn);var Hn=Symbol("rootName"),Wn=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).rootName="main",i}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.replace(/^view:/,"");return n?"rootElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"rootElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"rootName",get:function(){return this.getCustomProperty(Hn)},set:function(e){this._setCustomProperty(Hn,e)}},{key:"_name",set:function(e){this.name=e}}]),t}(jn),Un=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck2(this,e),!t.boundaries&&!t.startPosition)throw new _t.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new _t.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t.startPosition,{direction:t.direction});this.boundaries=t.boundaries||null,this.position=Yn._createAt(t.startPosition?t.startPosition:t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,i;do{var l;i=this.position,t=(l=this.next()).done,n=l.value}while(!t&&e(n));t||(this.position=i)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e,t=this.position.clone(),n=this.position,i=t.parent;if(null===i.parent&&t.offset===i.childCount)return{done:!0};if(i===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};if(i instanceof jt){if(t.isAtEnd)return this.position=Yn._createAfter(i),this._next();e=i.data[t.offset]}else e=i.getChild(t.offset);if(e instanceof Tn)return this.shallow?t.offset++:t=new Yn(e,0),this.position=t,this._formatReturnValue("elementStart",e,n,t,1);if(e instanceof jt){if(this.singleCharacters)return t=new Yn(e,0),this.position=t,this._next();var l,r=e.data.length;return e==this._boundaryEndParent?(l=new Ht(e,0,r=this.boundaries.end.offset),t=Yn._createAfter(l)):(l=new Ht(e,0,e.data.length),t.offset++),this.position=t,this._formatReturnValue("text",l,n,t,r)}if("string"==typeof e){var a,o=new Ht(i,t.offset,a=this.singleCharacters?1:(i===this._boundaryEndParent?this.boundaries.end.offset:i.data.length)-t.offset);return t.offset+=a,this.position=t,this._formatReturnValue("text",o,n,t,a)}return t=Yn._createAfter(i),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",i,n,t)}},{key:"_previous",value:function(){var e,t=this.position.clone(),n=this.position,i=t.parent;if(null===i.parent&&0===t.offset)return{done:!0};if(i==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};if(i instanceof jt){if(t.isAtStart)return this.position=Yn._createBefore(i),this._previous();e=i.data[t.offset-1]}else e=i.getChild(t.offset-1);if(e instanceof Tn)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",e,n,t,1)):(t=new Yn(e,e.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",e,n,t));if(e instanceof jt){if(this.singleCharacters)return t=new Yn(e,e.data.length),this.position=t,this._previous();var l,r=e.data.length;if(e==this._boundaryStartParent){var a=this.boundaries.start.offset;r=(l=new Ht(e,a,e.data.length-a)).data.length,t=Yn._createBefore(l)}else l=new Ht(e,0,e.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",l,n,t,r)}if("string"==typeof e){var o;t.offset-=o=this.singleCharacters?1:t.offset-(i===this._boundaryStartParent?this.boundaries.start.offset:0);var s=new Ht(i,t.offset,o);return this.position=t,this._formatReturnValue("text",s,n,t,o)}return t=Yn._createBefore(i),this.position=t,this._formatReturnValue("elementStart",i,n,t,1)}},{key:"_formatReturnValue",value:function(e,t,n,i,l){return t instanceof Ht&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Yn._createAfter(t.textNode):(i=Yn._createAfter(t.textNode),this.position=i)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Yn._createBefore(t.textNode):(i=Yn._createBefore(t.textNode),this.position=i))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:l}}}}]),e}(),Yn=function(){function e(t,n){_classCallCheck2(this,e),this.parent=t,this.offset=n}return _createClass2(e,[{key:"getShiftedBy",value:function(t){var n=e._createAt(this),i=n.offset+t;return n.offset=i<0?0:i,n}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new Un(t);return n.skip(e),n.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),i=0;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}},{key:"is",value:function(e){return"position"==e||"view:position"==e}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);var i=Bt(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new Un(e)}},{key:"clone",value:function(){return new e(this.parent,this.offset)}},{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){var e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof jn);){if(!e.parent)return null;e=e.parent}return e}}],[{key:"_createAt",value:function(t,n){if(t instanceof e)return new this(t.parent,t.offset);var i=t;if("end"==n)n=i.is("text")?i.data.length:i.childCount;else{if("before"==n)return this._createBefore(i);if("after"==n)return this._createAfter(i);if(0!==n&&!n)throw new _t.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",i)}return new e(i,n)}},{key:"_createAfter",value:function(t){if(t.is("textProxy"))return new e(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new _t.b("view-position-after-root: You can not make position after root.",t,{root:t});return new e(t.parent,t.index+1)}},{key:"_createBefore",value:function(t){if(t.is("textProxy"))return new e(t.textNode,t.offsetInText);if(!t.parent)throw new _t.b("view-position-before-root: You can not make position before root.",t,{root:t});return new e(t.parent,t.index)}}]),e}(),qn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck2(this,e),this.start=t.clone(),this.end=n?n.clone():t.clone()}return _createClass2(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new Un({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getEnlarged",value:function(){var t=this.start.getLastMatchingPosition(Gn,{direction:"backward"}),n=this.end.getLastMatchingPosition(Gn);return t.parent.is("text")&&t.isAtStart&&(t=Yn._createBefore(t.parent)),n.parent.is("text")&&n.isAtEnd&&(n=Yn._createAfter(n.parent)),new e(t,n)}},{key:"getTrimmed",value:function(){var t=this.start.getLastMatchingPosition(Gn);if(t.isAfter(this.end)||t.isEqual(this.end))return new e(t,t);var n=this.end.getLastMatchingPosition(Gn,{direction:"backward"}),i=t.nodeAfter,l=n.nodeBefore;return i&&i.is("text")&&(t=new Yn(i,0)),l&&l.is("text")&&(n=new Yn(l,l.data.length)),new e(t,n)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Un(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}},{key:"clone",value:function(){return new e(this.start,this.end)}},{key:"getItems",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=u.length>0&&void 0!==u[0]?u[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new Un(t),i=!0,l=!1,r=void 0,e.prev=6,a=n[Symbol.iterator]();case 8:if(i=(o=a.next()).done){e.next=15;break}return s=o.value,e.next=12,s.item;case 12:i=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),l=!0,r=e.t0;case 21:e.prev=21,e.prev=22,i||null==a.return||a.return();case 24:if(e.prev=24,!l){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,this,[[6,17,21,29],[22,,24,28]])}))},{key:"getPositions",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=u.length>0&&void 0!==u[0]?u[0]:{}).boundaries=this,n=new Un(t),e.next=5,n.position;case 5:i=!0,l=!1,r=void 0,e.prev=8,a=n[Symbol.iterator]();case 10:if(i=(o=a.next()).done){e.next=17;break}return s=o.value,e.next=14,s.nextPosition;case 14:i=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),l=!0,r=e.t0;case 23:e.prev=23,e.prev=24,i||null==a.return||a.return();case 26:if(e.prev=26,!l){e.next=29;break}throw r;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}}),e,this,[[8,19,23,31],[24,,26,30]])}))},{key:"is",value:function(e){return"range"==e||"view:range"==e}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromParentsAndOffsets",value:function(e,t,n,i){return new this(new Yn(e,t),new Yn(n,i))}},{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var t=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Yn._createBefore(e),t)}}]),e}();function Gn(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}function Xn(e){var t=0,n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){r.value;t++}}catch(o){i=!0,l=o}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}var Kn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck2(this,e),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,n,i)}return _createClass2(e,[{key:"getRanges",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,i=void 0,e.prev=3,l=this._ranges[Symbol.iterator]();case 5:if(t=(r=l.next()).done){e.next=12;break}return a=r.value,e.next=9,a.clone();case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,i=e.t0;case 18:e.prev=18,e.prev=19,t||null==l.return||l.return();case 21:if(e.prev=21,!n){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"getFirstRange",value:function(){var e=null,t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e&&!a.start.isBefore(e.start)||(e=a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e?e.clone():null}},{key:"getLastRange",value:function(){var e=null,t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e&&!a.end.isAfter(e.end)||(e=a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value,o=!1,s=!0,u=!1,c=void 0;try{for(var h,d=e._ranges[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;if(a.isEqual(f)){o=!0;break}}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}if(!o)return!1}}catch(p){n=!0,i=p}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var t=Xn(this.getRanges());if(t!=Xn(e.getRanges()))return!1;if(0==t)return!0;var n=!0,i=!1,l=void 0;try{for(var r,a=this.getRanges()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;o=o.getTrimmed();var s=!1,u=!0,c=!1,h=void 0;try{for(var d,f=e.getRanges()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;if(p=p.getTrimmed(),o.start.isEqual(p.start)&&o.end.isEqual(p.end)){s=!0;break}}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}if(!s)return!1}}catch(v){i=!0,l=v}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return!0}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]),this._setFakeOptions(n);else if(t instanceof e||t instanceof $n)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof qn)this._setRanges([t],n&&n.backward),this._setFakeOptions(n);else if(t instanceof Yn)this._setRanges([new qn(t)]),this._setFakeOptions(n);else if(t instanceof zt){var l,r=!!i&&!!i.backward;if(void 0===n)throw new _t.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);l="in"==n?qn._createIn(t):"on"==n?qn._createOn(t):new qn(Yn._createAt(t,n)),this._setRanges([l],r),this._setFakeOptions(i)}else{if(!Wt(t))throw new _t.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(t,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new _t.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);var n=Yn._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new qn(n,i),!0):this._addRange(new qn(i,n)),this.fire("change")}}},{key:"is",value:function(e){return"selection"==e||"view:selection"==e}},{key:"_setRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this._addRange(o)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}this._lastRangeBackward=!!t}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof qn))throw new _t.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!t}},{key:"_pushRange",value:function(e){var t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if(e.isIntersecting(a))throw new _t.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:a})}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}this._ranges.push(new qn(e.start,e.end))}},{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}}]),e}();Et(Kn,Ct);var $n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck2(this,e),this._selection=new Kn,this._selection.delegate("change").to(this),this._selection.setTo(t,n,i)}return _createClass2(e,[{key:"getRanges",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return"selection"==e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}}]),e}();Et($n,Ct);var Zn=function(){function e(t){_classCallCheck2(this,e),this.selection=new $n,this.roots=new Dt({idProperty:"rootName"}),this.stylesProcessor=t,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return _createClass2(e,[{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map((function(e){return e.destroy()})),this.stopListening()}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n=!0,i=!1,l=void 0;try{for(var r,a=this._postFixers[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){if(t=(0,r.value)(e))break}}catch(o){i=!0,l=o}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}while(t)}}]),e}();Et(Zn,Rn);var Qn=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).getFillerOffset=Jn,r._priority=10,r._id=null,r._clonesGroup=null,r}return _inherits(t,e),_createClass2(t,[{key:"getElementsWithSameId",value:function(){if(null===this.id)throw new _t.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}},{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e&&e.replace(/^view:/,"");return n?"attributeElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"attributeElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"isSimilar",value:function(e){return null!==this.id||null!==e.id?this.id===e.id:_get2(_getPrototypeOf2(t.prototype),"isSimilar",this).call(this,e)&&this.priority==e.priority}},{key:"_clone",value:function(e){var n=_get2(_getPrototypeOf2(t.prototype),"_clone",this).call(this,e);return n._priority=this._priority,n._id=this._id,n}},{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}}]),t}(Tn);function Jn(){if(ei(this))return null;for(var e=this.parent;e&&e.is("attributeElement");){if(ei(e)>1)return null;e=e.parent}return!e||ei(e)>1?null:this.childCount}function ei(e){return Array.from(e.getChildren()).filter((function(e){return!e.is("uiElement")})).length}Qn.DEFAULT_PRIORITY=10;var ti=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).getFillerOffset=ni,r}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.replace(/^view:/,"");return n?"emptyElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"emptyElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof zt||Array.from(t).length>0))throw new _t.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,t])}}]),t}(Tn);function ni(){return null}var ii=navigator.userAgent.toLowerCase(),li={isMac:function(e){return e.indexOf("macintosh")>-1}(ii),isEdge:function(e){return!!e.match(/edge\/(\d+.?\d*)/)}(ii),isGecko:function(e){return!!e.match(/gecko\/\d+/)}(ii),isSafari:function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(ii),isAndroid:function(e){return e.indexOf("android")>-1}(ii),features:{isRegExpUnicodePropertySupported:function(){var e=!1;try{e=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}()}},ri={"\u2318":"ctrl","\u21e7":"shift","\u2325":"alt"},ai={ctrl:"\u2318",shift:"\u21e7",alt:"\u2325"},oi=function(){for(var e={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(var n=48;n<=57;n++)e[n-48]=n;for(var i=112;i<=123;i++)e["f"+(i-111)]=i;return e}();function si(e){var t;if("string"==typeof e){if(!(t=oi[e.toLowerCase()]))throw new _t.b("keyboard-unknown-key: Unknown key name.",null,{key:e})}else t=e.keyCode+(e.altKey?oi.alt:0)+(e.ctrlKey?oi.ctrl:0)+(e.shiftKey?oi.shift:0);return t}function ui(e){return"string"==typeof e&&(e=hi(e)),e.map((function(e){return"string"==typeof e?si(e):e})).reduce((function(e,t){return t+e}),0)}function ci(e){return li.isMac?hi(e).map((function(e){return ai[e.toLowerCase()]||e})).reduce((function(e,t){return e.slice(-1)in ri?e+t:e+"+"+t})):e}function hi(e){return e.split(/\s*\+\s*/)}var di=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).getFillerOffset=fi,r}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.replace(/^view:/,"");return n?"uiElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"uiElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"_insertChild",value:function(e,t){if(t&&(t instanceof zt||Array.from(t).length>0))throw new _t.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}},{key:"render",value:function(e){return this.toDomElement(e)}},{key:"toDomElement",value:function(e){var t=e.createElement(this.name),n=!0,i=!1,l=void 0;try{for(var r,a=this.getAttributeKeys()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t.setAttribute(o,this.getAttribute(o))}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}}]),t}(Tn);function fi(){return null}var pi=function(){function e(t,n){_classCallCheck2(this,e),this.document=t,this._children=[],n&&this._insertChild(0,n)}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"is",value:function(e){return"documentFragment"==e||"view:documentFragment"==e}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,t){this._fireChange("children",this);var n=0,i=function(e,t){return"string"==typeof t?[new jt(e,t)]:(Wt(t)||(t=[t]),Array.from(t).map((function(t){return"string"==typeof t?new jt(e,t):t instanceof Ht?new jt(e,t.data):t})))}(this.document,t),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;null!==u.parent&&u._remove(),u.parent=this,this._children.splice(e,0,u),e++,n++}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return n}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(var n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}},{key:"_fireChange",value:function(e,t){this.fire("change:"+e,t)}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}]),e}();Et(pi,Ct);var vi=function(){function e(t){_classCallCheck2(this,e),this.document=t,this._cloneGroups=new Map}return _createClass2(e,[{key:"setSelection",value:function(e,t,n){this.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this.document.selection._setFocus(e,t)}},{key:"createText",value:function(e){return new jt(this.document,e)}},{key:"createAttributeElement",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Qn(this.document,e,t);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}},{key:"createContainerElement",value:function(e,t){return new Mn(this.document,e,t)}},{key:"createEditableElement",value:function(e,t){var n=new jn(this.document,e,t);return n._document=this.document,n}},{key:"createEmptyElement",value:function(e,t){return new ti(this.document,e,t)}},{key:"createUIElement",value:function(e,t,n){var i=new di(this.document,e,t);return n&&(i.render=n),i}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){x(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof Yn?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var t=e.parent;if(!t.is("containerElement"))throw new _t.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!t.parent)throw new _t.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return Yn._createBefore(t);if(!e.isAtEnd){var n=t._clone(!1);this.insert(Yn._createAfter(t),n);var i=new qn(e,Yn._createAt(t,"end")),l=new Yn(n,0);this.move(i,l)}return Yn._createAfter(t)}},{key:"mergeAttributes",value:function(e){var t=e.offset,n=e.parent;if(n.is("text"))return e;if(n.is("attributeElement")&&0===n.childCount){var i=n.parent,l=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Yn(i,l))}var r=n.getChild(t-1),a=n.getChild(t);if(!r||!a)return e;if(r.is("text")&&a.is("text"))return ki(r,a);if(r.is("attributeElement")&&a.is("attributeElement")&&r.isSimilar(a)){var o=r.childCount;return r._appendChild(a.getChildren()),a._remove(),this._removeFromClonedElementsGroup(a),this.mergeAttributes(new Yn(r,o))}return e}},{key:"mergeContainers",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new _t.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);var i=t.getChild(t.childCount-1),l=Yn._createAt(i instanceof jt?i:t,"end");return this.move(qn._createIn(n),Yn._createAt(t,"end")),this.remove(qn._createOn(n)),l}},{key:"insert",value:function(e,t){!function e(t,n){var i=!0,l=!1,r=void 0;try{for(var a,o=function(){var t=a.value;if(!_i.some((function(e){return t instanceof e})))throw new _t.b("view-writer-insert-invalid-node",n);t.is("text")||e(t.getChildren(),n)},s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)o()}catch(u){l=!0,r=u}finally{try{i||null==s.return||s.return()}finally{if(l)throw r}}}(t=Wt(t)?_toConsumableArray(t):[t],this.document);var n=gi(e);if(!n)throw new _t.b("view-writer-invalid-position-container",this.document);var i=this._breakAttributes(e,!0),l=n._insertChild(i.offset,t),r=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;this._addToClonedElementsGroup(c)}}catch(p){a=!0,o=p}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}var h=i.getShiftedBy(l),d=this.mergeAttributes(i);if(0===l)return new qn(d,d);d.isEqual(i)||h.offset--;var f=this.mergeAttributes(h);return new qn(d,f)}},{key:"remove",value:function(e){var t=e instanceof qn?e:qn._createOn(e);if(xi(t,this.document),t.isCollapsed)return new pi(this.document);var n=this._breakAttributesRange(t,!0),i=n.start,l=n.end,r=i.parent._removeChildren(i.offset,l.offset-i.offset),a=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;this._removeFromClonedElementsGroup(h)}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}var d=this.mergeAttributes(i);return t.start=d,t.end=d.clone(),new pi(this.document,r)}},{key:"clear",value:function(e,t){xi(e,this.document);var n=e.getWalker({direction:"backward",ignoreElementEnd:!0}),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u=s.item,c=void 0;if(u.is("element")&&t.isSimilar(u))c=qn._createOn(u);else if(!s.nextPosition.isAfter(e.start)&&u.is("textProxy")){var h=u.getAncestors().find((function(e){return e.is("element")&&t.isSimilar(e)}));h&&(c=qn._createIn(h))}c&&(c.end.isAfter(e.end)&&(c.end=e.end),c.start.isBefore(e.start)&&(c.start=e.start),this.remove(c))}}catch(d){l=!0,r=d}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}},{key:"move",value:function(e,t){var n;if(t.isAfter(e.end)){var i=(t=this._breakAttributes(t,!0)).parent,l=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-l}else n=this.remove(e);return this.insert(t,n)}},{key:"wrap",value:function(e,t){if(!(t instanceof Qn))throw new _t.b("view-writer-wrap-invalid-attribute",this.document);if(xi(e,this.document),e.isCollapsed){var n=e.start;n.parent.is("element")&&!Array.from(n.parent.getChildren()).some((function(e){return!e.is("uiElement")}))&&(n=n.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))),n=this._wrapPosition(n,t);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(n),new qn(n)}return this._wrapRange(e,t)}},{key:"unwrap",value:function(e,t){if(!(t instanceof Qn))throw new _t.b("view-writer-unwrap-invalid-attribute",this.document);if(xi(e,this.document),e.isCollapsed)return e;var n=this._breakAttributesRange(e,!0),i=n.start,l=n.end,r=this._unwrapChildren(i.parent,i.offset,l.offset,t),a=this.mergeAttributes(r.start);a.isEqual(r.start)||r.end.offset--;var o=this.mergeAttributes(r.end);return new qn(a,o)}},{key:"rename",value:function(e,t){var n=new Mn(this.document,e,t.getAttributes());return this.insert(Yn._createAfter(t),n),this.move(qn._createIn(t),Yn._createAt(n,0)),this.remove(qn._createOn(t)),n}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,t){return Yn._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Yn._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Yn._createBefore(e)}},{key:"createRange",value:function(e,t){return new qn(e,t)}},{key:"createRangeOn",value:function(e){return qn._createOn(e)}},{key:"createRangeIn",value:function(e){return qn._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new Kn(e,t,n)}},{key:"_wrapChildren",value:function(e,t,n,i){for(var l=t,r=[];l<n;){var a=e.getChild(l),o=a.is("text"),s=a.is("attributeElement"),u=a.is("emptyElement"),c=a.is("uiElement");if(s&&this._wrapAttributeElement(i,a))r.push(new Yn(e,l));else if(o||u||c||s&&mi(i,a)){var h=i._clone();a._remove(),h._appendChild(a),e._insertChild(l,h),this._addToClonedElementsGroup(h),r.push(new Yn(e,l))}else s&&this._wrapChildren(a,0,a.childCount,i);l++}for(var d=0,f=0,p=r;f<p.length;f++){var v=p[f];v.offset-=d,v.offset!=t&&(this.mergeAttributes(v).isEqual(v)||(d++,n--))}return qn._createFromParentsAndOffsets(e,t,e,n)}},{key:"_unwrapChildren",value:function(e,t,n,i){for(var l=t,r=[];l<n;){var a=e.getChild(l);if(a.is("attributeElement"))if(a.isSimilar(i)){var o=a.getChildren(),s=a.childCount;a._remove(),e._insertChild(l,o),this._removeFromClonedElementsGroup(a),r.push(new Yn(e,l),new Yn(e,l+s)),l+=s,n+=s-1}else this._unwrapAttributeElement(i,a)?(r.push(new Yn(e,l),new Yn(e,l+1)),l++):(this._unwrapChildren(a,0,a.childCount,i),l++);else l++}for(var u=0,c=0,h=r;c<h.length;c++){var d=h[c];d.offset-=u,d.offset!=t&&d.offset!=n&&(this.mergeAttributes(d).isEqual(d)||(u++,n--))}return qn._createFromParentsAndOffsets(e,t,e,n)}},{key:"_wrapRange",value:function(e,t){var n=this._breakAttributesRange(e,!0),i=n.start,l=n.end,r=this._wrapChildren(i.parent,i.offset,l.offset,t),a=this.mergeAttributes(r.start);a.isEqual(r.start)||r.end.offset--;var o=this.mergeAttributes(r.end);return new qn(a,o)}},{key:"_wrapPosition",value:function(e,t){if(t.isSimilar(e.parent))return yi(e.clone());e.parent.is("text")&&(e=bi(e));var n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=function(){return!1},e.parent._insertChild(e.offset,n);var i=new qn(e,e.getShiftedBy(1));this.wrap(i,t);var l=new Yn(n.parent,n.index);n._remove();var r=l.nodeBefore,a=l.nodeAfter;return r instanceof jt&&a instanceof jt?ki(r,a):yi(l)}},{key:"_wrapAttributeElement",value:function(e,t){if(!Ci(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n=!0,i=!1,l=void 0;try{for(var r,a=e.getAttributeKeys()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("class"!==o&&"style"!==o&&t.hasAttribute(o)&&t.getAttribute(o)!==e.getAttribute(o))return!1}}catch(D){i=!0,l=D}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}var s=!0,u=!1,c=void 0;try{for(var h,d=e.getStyleNames()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;if(t.hasStyle(f)&&t.getStyle(f)!==e.getStyle(f))return!1}}catch(D){u=!0,c=D}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}var p=!0,v=!1,g=void 0;try{for(var m,y=e.getAttributeKeys()[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;"class"!==b&&"style"!==b&&(t.hasAttribute(b)||this.setAttribute(b,e.getAttribute(b),t))}}catch(D){v=!0,g=D}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}var k=!0,_=!1,w=void 0;try{for(var x,C=e.getStyleNames()[Symbol.iterator]();!(k=(x=C.next()).done);k=!0){var S=x.value;t.hasStyle(S)||this.setStyle(S,e.getStyle(S),t)}}catch(D){_=!0,w=D}finally{try{k||null==C.return||C.return()}finally{if(_)throw w}}var T=!0,P=!1,M=void 0;try{for(var A,I=e.getClassNames()[Symbol.iterator]();!(T=(A=I.next()).done);T=!0){var E=A.value;t.hasClass(E)||this.addClass(E,t)}}catch(D){P=!0,M=D}finally{try{T||null==I.return||I.return()}finally{if(P)throw M}}return!0}},{key:"_unwrapAttributeElement",value:function(e,t){if(!Ci(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;var n=!0,i=!1,l=void 0;try{for(var r,a=e.getAttributeKeys()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("class"!==o&&"style"!==o&&(!t.hasAttribute(o)||t.getAttribute(o)!==e.getAttribute(o)))return!1}}catch(k){i=!0,l=k}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}if(!t.hasClass.apply(t,_toConsumableArray(e.getClassNames())))return!1;var s=!0,u=!1,c=void 0;try{for(var h,d=e.getStyleNames()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;if(!t.hasStyle(f)||t.getStyle(f)!==e.getStyle(f))return!1}}catch(k){u=!0,c=k}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}var p=!0,v=!1,g=void 0;try{for(var m,y=e.getAttributeKeys()[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;"class"!==b&&"style"!==b&&this.removeAttribute(b,t)}}catch(k){v=!0,g=k}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}},{key:"_breakAttributesRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.start,i=e.end;if(xi(e,this.document),e.isCollapsed){var l=this._breakAttributes(e.start,t);return new qn(l,l)}var r=this._breakAttributes(i,t),a=r.parent.childCount,o=this._breakAttributes(n,t);return r.offset+=r.parent.childCount-a,new qn(o,r)}},{key:"_breakAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new _t.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new _t.b("view-writer-cannot-break-ui-element",this.document);if(!t&&i.is("text")&&wi(i.parent))return e.clone();if(wi(i))return e.clone();if(i.is("text"))return this._breakAttributes(bi(e),t);if(n==i.childCount){var l=new Yn(i.parent,i.index+1);return this._breakAttributes(l,t)}if(0===n){var r=new Yn(i.parent,i.index);return this._breakAttributes(r,t)}var a=i.index+1,o=i._clone();i.parent._insertChild(a,o),this._addToClonedElementsGroup(o);var s=i._removeChildren(n,i.childCount-n);o._appendChild(s);var u=new Yn(i.parent,a);return this._breakAttributes(u,t)}},{key:"_addToClonedElementsGroup",value:function(e){if(e.root.is("rootElement")){if(e.is("element")){var t=!0,n=!1,i=void 0;try{for(var l,r=e.getChildren()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._addToClonedElementsGroup(a)}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}var o=e.id;if(o){var s=this._cloneGroups.get(o);s||(s=new Set,this._cloneGroups.set(o,s)),s.add(e),e._clonesGroup=s}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var t=!0,n=!1,i=void 0;try{for(var l,r=e.getChildren()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._removeFromClonedElementsGroup(a)}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}var o=e.id;if(o){var s=this._cloneGroups.get(o);s&&s.delete(e)}}}]),e}();function gi(e){for(var t=e.parent;!wi(t);){if(!t)return;t=t.parent}return t}function mi(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function yi(e){var t=e.nodeBefore;if(t&&t.is("text"))return new Yn(t,t.data.length);var n=e.nodeAfter;return n&&n.is("text")?new Yn(n,0):e}function bi(e){if(e.offset==e.parent.data.length)return new Yn(e.parent.parent,e.parent.index+1);if(0===e.offset)return new Yn(e.parent.parent,e.parent.index);var t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new jt(e.root.document,t)),new Yn(e.parent.parent,e.parent.index+1)}function ki(e,t){var n=e.data.length;return e._data+=t.data,t._remove(),new Yn(e,n)}var _i=[jt,Qn,Mn,ti,di];function wi(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function xi(e,t){var n=gi(e.start),i=gi(e.end);if(!n||!i||n!==i)throw new _t.b("view-writer-invalid-range-container",t)}function Ci(e,t){return null===e.id&&null===t.id}function Si(e){return"[object Text]"==Object.prototype.toString.call(e)}var Ti=function(e){return e.createTextNode("\xa0")},Pi=function(e){var t=e.createElement("br");return t.dataset.ckeFiller=!0,t},Mi=function(){for(var e="",t=0;t<7;t++)e+="\u200b";return e}();function Ai(e){return Si(e)&&e.data.substr(0,7)===Mi}function Ii(e){return 7==e.data.length&&Ai(e)}function Ei(e){return Ai(e)?e.data.slice(7):e.data}function Di(e,t){if(t.keyCode==oi.arrowleft){var n=t.domTarget.ownerDocument.defaultView.getSelection();if(1==n.rangeCount&&n.getRangeAt(0).collapsed){var i=n.getRangeAt(0).startContainer,l=n.getRangeAt(0).startOffset;Ai(i)&&l<=7&&n.collapse(i,0)}}}function Oi(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n=n||function(e,t){return e===t},Array.isArray(e)||(e=Array.from(e)),Array.isArray(t)||(t=Array.from(t));var l=function(e,t,n){var i=Fi(e,t,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var l=Fi(Ri(e,i),Ri(t,i),n);return{firstIndex:i,lastIndexOld:e.length-l,lastIndexNew:t.length-l}}(e,t,n);return i?function(e,t){var n=e.firstIndex,i=e.lastIndexOld,l=e.lastIndexNew;if(-1===n)return Array(t).fill("equal");var r=[];return n>0&&(r=r.concat(Array(n).fill("equal"))),l-n>0&&(r=r.concat(Array(l-n).fill("insert"))),i-n>0&&(r=r.concat(Array(i-n).fill("delete"))),l<t&&(r=r.concat(Array(t-l).fill("equal"))),r}(l,t.length):function(e,t){var n=[],i=t.firstIndex,l=t.lastIndexOld,r=t.lastIndexNew;return r-i>0&&n.push({index:i,type:"insert",values:e.slice(i,r)}),l-i>0&&n.push({index:i+(r-i),type:"delete",howMany:l-i}),n}(t,l)}function Fi(e,t,n){for(var i=0;i<Math.max(e.length,t.length);i++)if(void 0===e[i]||void 0===t[i]||!n(e[i],t[i]))return i;return-1}function Ri(e,t){return e.slice(t).reverse()}function Ni(e,t,n){n=n||function(e,t){return e===t};var i,l,r=e.length,a=t.length;if(r>200||a>200||r+a>300)return Ni.fastDiff(e,t,n,!0);if(a<r){var o=e;e=t,t=o,i="delete",l="insert"}else i="insert",l="delete";var s=e.length,u=t.length,c=u-s,h={},d={};function f(r){var a=(void 0!==d[r-1]?d[r-1]:-1)+1,o=void 0!==d[r+1]?d[r+1]:-1,c=a>o?-1:1;h[r+c]&&(h[r]=h[r+c].slice(0)),h[r]||(h[r]=[]),h[r].push(a>o?i:l);for(var f=Math.max(a,o),p=f-r;p<s&&f<u&&n(e[p],t[f]);)p++,f++,h[r].push("equal");return f}var p,v=0;do{for(p=-v;p<c;p++)d[p]=f(p);for(p=c+v;p>c;p--)d[p]=f(p);d[c]=f(c),v++}while(d[c]!==u);return h[c].slice(1)}function Li(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function Bi(e){var t=e.parentNode;t&&t.removeChild(e)}function Vi(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}Ni.fastDiff=Oi;var zi=function(){function e(t,n){_classCallCheck2(this,e),this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=n,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return _createClass2(e,[{key:"markToSync",value:function(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new _t.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(t)}}}},{key:"render",value:function(){var e,t=!0,n=!1,i=void 0;try{for(var l,r=this.markedChildren[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._updateChildrenMappings(a)}}catch(P){n=!0,i=P}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var o=!0,s=!1,u=void 0;try{for(var c,h=this.markedAttributes[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;this._updateAttrs(d)}}catch(P){s=!0,u=P}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}var f=!0,p=!1,v=void 0;try{for(var g,m=this.markedChildren[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value;this._updateChildren(y,{inlineFillerPosition:e})}}catch(P){p=!0,v=P}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}var b=!0,k=!1,_=void 0;try{for(var w,x=this.markedTexts[Symbol.iterator]();!(b=(w=x.next()).done);b=!0){var C=w.value;!this.markedChildren.has(C.parent)&&this.domConverter.mapViewToDom(C.parent)&&this._updateText(C,{inlineFillerPosition:e})}}catch(P){k=!0,_=P}finally{try{b||null==x.return||x.return()}finally{if(k)throw _}}if(e){var S=this.domConverter.viewPositionToDom(e),T=S.parent.ownerDocument;this._inlineFiller=Ai(S.parent)?S.parent:ji(T,S.parent,S.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{withChildren:!1})),l=this._diffNodeLists(n,i),r=this._findReplaceActions(l,n,i);if(-1!==r.indexOf("replace")){var a={equal:0,insert:0,delete:0},o=!0,s=!1,u=void 0;try{for(var c,h=r[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;if("replace"===d){var f=a.equal+a.insert,p=a.equal+a.delete,v=e.getChild(f);v&&!v.is("uiElement")&&this._updateElementMappings(v,n[p]),Bi(i[f]),a.equal++}else a[d]++}}catch(g){s=!0,u=g}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}}}}},{key:"_updateElementMappings",value:function(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("text")?Yn._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&Si(t.parent)&&Ai(t.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!Ai(e))throw new _t.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);Ii(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;return!(!this.domConverter.mapViewToDom(t.root)||!t.is("element")||!function(e){if("false"==e.getAttribute("contenteditable"))return!1;var t=e.findAncestor((function(e){return e.hasAttribute("contenteditable")}));return!t||"true"==t.getAttribute("contenteditable")}(t)||n===t.getFillerOffset()||e.nodeBefore instanceof jt||e.nodeAfter instanceof jt)}},{key:"_updateText",value:function(e,t){var n=this.domConverter.findCorrespondingDomText(e),i=this.domConverter.viewToDom(e,n.ownerDocument),l=n.data,r=i.data,a=t.inlineFillerPosition;if(a&&a.parent==e.parent&&a.offset==e.index&&(r=Mi+r),l!=r){var o=Oi(l,r),s=!0,u=!1,c=void 0;try{for(var h,d=o[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;"insert"===f.type?n.insertData(f.index,f.values.join("")):n.deleteData(f.index,f.howMany)}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}}},{key:"_updateAttrs",value:function(e){var t=this.domConverter.mapViewToDom(e);if(t){var n=Array.from(t.attributes).map((function(e){return e.name})),i=e.getAttributeKeys(),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;t.setAttribute(u,e.getAttribute(u))}}catch(g){r=!0,a=g}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}var c=!0,h=!1,d=void 0;try{for(var f,p=n[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;e.hasAttribute(v)||t.removeAttribute(v)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}},{key:"_updateChildren",value:function(e,t){var n=this.domConverter.mapViewToDom(e);if(n){var i=t.inlineFillerPosition,l=this.domConverter.mapViewToDom(e).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===e&&ji(n.ownerDocument,r,i.offset);var a=this._diffNodeLists(l,r),o=0,s=new Set,u=!0,c=!1,h=void 0;try{for(var d,f=a[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;"delete"===p?(s.add(l[o]),Bi(l[o])):"equal"===p&&o++}}catch(P){c=!0,h=P}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}o=0;var v=!0,g=!1,m=void 0;try{for(var y,b=a[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var k=y.value;"insert"===k?(Li(n,o,r[o]),o++):"equal"===k&&(this._markDescendantTextToSync(this.domConverter.domToView(r[o])),o++)}}catch(P){g=!0,m=P}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}var _=!0,w=!1,x=void 0;try{for(var C,S=s[Symbol.iterator]();!(_=(C=S.next()).done);_=!0){var T=C.value;T.parentNode||this.domConverter.unbindDomElement(T)}}catch(P){w=!0,x=P}finally{try{_||null==S.return||S.return()}finally{if(w)throw x}}}}},{key:"_diffNodeLists",value:function(e,t){return Ni(e=function(e,t){var n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),t,Wi.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,t,n){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;var i=[],l=[],r=[],a={equal:0,insert:0,delete:0},o=!0,s=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;"insert"===d?r.push(n[a.equal+a.insert]):"delete"===d?l.push(t[a.equal+a.delete]):((i=i.concat(Ni(l,r,Hi).map((function(e){return"equal"===e?"replace":e})))).push("equal"),l=[],r=[]),a[d]++}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return i.concat(Ni(l,r,Hi).map((function(e){return"equal"===e?"replace":e})))}},{key:"_markDescendantTextToSync",value:function(e){if(e)if(e.is("text"))this.markedTexts.add(e);else if(e.is("element")){var t=!0,n=!1,i=void 0;try{for(var l,r=e.getChildren()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._markDescendantTextToSync(a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}},{key:"_updateSelection",value:function(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){var t=e.createElement("div");return Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));var n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),this._fakeSelectionNeedsUpdate(e)){n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";var i=t.getSelection(),l=t.createRange();i.removeAllRanges(),l.selectNodeContents(n),i.addRange(l)}}},{key:"_updateDomSelection",value:function(e){var t=e.ownerDocument.defaultView.getSelection();if(this._domSelectionNeedsUpdate(t)){var n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),t.collapse(n.parent,n.offset),t.extend(i.parent,i.offset),li.isGecko&&function(e,t){var n=e.parent;if(n.nodeType==Node.ELEMENT_NODE&&e.offset==n.childNodes.length-1){var i=n.childNodes[e.offset];i&&"BR"==i.tagName&&t.addRange(t.getRangeAt(0))}}(i,t)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var t=e&&this.domConverter.domSelectionToView(e);return!(t&&this.selection.isEqual(t)||!this.selection.isCollapsed&&this.selection.isSimilar(t))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this.domDocuments[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=i.value;if(r.getSelection().rangeCount){var a=r.activeElement,o=this.domConverter.mapDomToView(a);a&&o&&r.getSelection().removeAllRanges()}}}catch(s){t=!0,n=s}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),e}();function ji(e,t,n){var i=t instanceof Array?t:t.childNodes,l=i[n];if(Si(l))return l.data=Mi+l.data,l;var r=e.createTextNode(Mi);return Array.isArray(t)?i.splice(n,0,r):Li(t,n,r),r}function Hi(e,t){return Vi(e)&&Vi(t)&&!Si(e)&&!Si(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function Wi(e,t,n){return t===n||(Si(t)&&Si(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}Et(zi,Rn);var Ui={window:window,document:document};function Yi(e){for(var t=0;e.previousSibling;)e=e.previousSibling,t++;return t}function qi(e){for(var t=[];e&&e.nodeType!=Node.DOCUMENT_NODE;)t.unshift(e),e=e.parentNode;return t}var Gi=Pi(document),Xi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck2(this,e),this.document=t,this.blockFillerMode=n.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller="br"==this.blockFillerMode?Pi:Ti,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return _createClass2(e,[{key:"bindFakeSelection",value:function(e,t){this._fakeSelectionMapping.set(e,new Kn(t))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"unbindDomElement",value:function(e){var t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(var n=0,i=Array.from(e.childNodes);n<i.length;n++){var l=i[n];this.unbindDomElement(l)}}}},{key:"bindDocumentFragments",value:function(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}},{key:"viewToDom",value:function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.is("text")){var l=this._processDataFromViewText(e);return t.createTextNode(l)}if(this.mapViewToDom(e))return this.mapViewToDom(e);if(e.is("documentFragment"))n=t.createDocumentFragment(),i.bind&&this.bindDocumentFragments(n,e);else{if(e.is("uiElement"))return n=e.render(t),i.bind&&this.bindElements(n,e),n;n=e.hasAttribute("xmlns")?t.createElementNS(e.getAttribute("xmlns"),e.name):t.createElement(e.name),i.bind&&this.bindElements(n,e);var r=!0,a=!1,o=void 0;try{for(var s,u=e.getAttributeKeys()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;n.setAttribute(c,e.getAttribute(c))}}catch(m){a=!0,o=m}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}if(i.withChildren||void 0===i.withChildren){var h=!0,d=!1,f=void 0;try{for(var p,v=this.viewChildrenToDom(e,t,i)[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value;n.appendChild(g)}}catch(m){d=!0,f=m}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}return n}},{key:"viewChildrenToDom",value:regeneratorRuntime.mark((function e(t,n){var i,l,r,a,o,s,u,c,h,d=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=d.length>2&&void 0!==d[2]?d[2]:{},l=t.getFillerOffset&&t.getFillerOffset(),r=0,a=!0,o=!1,s=void 0,e.prev=6,u=t.getChildren()[Symbol.iterator]();case 8:if(a=(c=u.next()).done){e.next=20;break}if(h=c.value,e.t0=l===r,!e.t0){e.next=14;break}return e.next=14,this._blockFiller(n);case 14:return e.next=16,this.viewToDom(h,n,i);case 16:r++;case 17:a=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),o=!0,s=e.t1;case 26:e.prev=26,e.prev=27,a||null==u.return||u.return();case 29:if(e.prev=29,!o){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:if(e.t2=l===r,!e.t2){e.next=38;break}return e.next=38,this._blockFiller(n);case 38:case"end":return e.stop()}}),e,this,[[6,22,26,34],[27,,29,33]])}))},{key:"viewRangeToDom",value:function(e){var t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=document.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}},{key:"viewPositionToDom",value:function(e){var t,n,i,l=e.parent;if(l.is("text")){var r=this.findCorrespondingDomText(l);if(!r)return null;var a=e.offset;return Ai(r)&&(a+=7),{parent:r,offset:a}}if(0===e.offset){if(!(t=this.mapViewToDom(l)))return null;i=t.childNodes[0]}else{var o=e.nodeBefore;if(!(n=o.is("text")?this.findCorrespondingDomText(o):this.mapViewToDom(e.nodeBefore)))return null;t=n.parentNode,i=n.nextSibling}return Si(i)&&Ai(i)?{parent:i,offset:7}:{parent:t,offset:n?Yi(n)+1:0}}},{key:"domToView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var n,i=this.getParentUIElement(e,this._domToViewMapping);if(i)return i;if(Si(e)){if(Ii(e))return null;var l=this._processDataFromDomText(e);return""===l?null:new jt(this.document,l)}if(this.isComment(e))return null;if(this.mapDomToView(e))return this.mapDomToView(e);if(this.isDocumentFragment(e))n=new pi(this.document),t.bind&&this.bindDocumentFragments(e,n);else{var r=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();n=new Tn(this.document,r),t.bind&&this.bindElements(e,n);for(var a=e.attributes,o=a.length-1;o>=0;o--)n._setAttribute(a[o].name,a[o].value)}if(t.withChildren||void 0===t.withChildren){var s=!0,u=!1,c=void 0;try{for(var h,d=this.domChildrenToView(e,t)[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;n._appendChild(f)}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}return n}},{key:"domChildrenToView",value:regeneratorRuntime.mark((function e(t){var n,i,l,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.length>1&&void 0!==r[1]?r[1]:{},i=0;case 2:if(!(i<t.childNodes.length)){e.next=11;break}if(l=this.domToView(t.childNodes[i],n),e.t0=null!==l,!e.t0){e.next=8;break}return e.next=8,l;case 8:i++,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"domSelectionToView",value:function(e){if(1===e.rangeCount){var t=e.getRangeAt(0).startContainer;Si(t)&&(t=t.parentNode);var n=this.fakeSelectionToView(t);if(n)return n}for(var i=this.isDomSelectionBackward(e),l=[],r=0;r<e.rangeCount;r++){var a=e.getRangeAt(r),o=this.domRangeToView(a);o&&l.push(o)}return new Kn(l,{backward:i})}},{key:"domRangeToView",value:function(e){var t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new qn(t,n):null}},{key:"domPositionToView",value:function(e,t){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,Yi(e));var n=this.mapDomToView(e);if(n&&n.is("uiElement"))return Yn._createBefore(n);if(Si(e)){if(Ii(e))return this.domPositionToView(e.parentNode,Yi(e));var i=this.findCorrespondingViewText(e),l=t;return i?(Ai(e)&&(l=(l-=7)<0?0:l),new Yn(i,l)):null}if(0===t){var r=this.mapDomToView(e);if(r)return new Yn(r,0)}else{var a=e.childNodes[t-1],o=Si(a)?this.findCorrespondingViewText(a):this.mapDomToView(a);if(o&&o.parent)return new Yn(o.parent,o.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(Ii(e))return null;var t=this.getParentUIElement(e);if(t)return t;var n=e.previousSibling;if(n){if(!this.isElement(n))return null;var i=this.mapDomToView(n);if(i)return i.nextSibling instanceof jt?i.nextSibling:null}else{var l=this.mapDomToView(e.parentNode);if(l){var r=l.getChild(0);return r instanceof jt?r:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){var n=Ui.window,i=n.scrollX,l=n.scrollY,r=[];$i(t,(function(e){var t=e.scrollLeft,n=e.scrollTop;r.push([t,n])})),t.focus(),$i(t,(function(e){var t=_slicedToArray(r.shift(),2),n=t[0],i=t[1];e.scrollLeft=n,e.scrollTop=i})),Ui.window.scrollTo(i,l)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return"br"==this.blockFillerMode?e.isEqualNode(Gi):!("BR"!==e.tagName||!Zi(e,this.blockElements)||1!==e.parentNode.childNodes.length)||function(e,t){return Si(e)&&"\xa0"==e.data&&Zi(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var t=document.createRange();t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset);var n=t.collapsed;return t.detach(),n}},{key:"getParentUIElement",value:function(e){var t=qi(e);for(t.pop();t.length;){var n=t.pop(),i=this._domToViewMapping.get(n);if(i&&i.is("uiElement"))return i}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,t){if(Si(e)&&Ai(e)&&t<7)return!1;if(this.isElement(e)&&Ai(e.childNodes[t]))return!1;var n=this.mapDomToView(e);return!n||!n.is("uiElement")}},{key:"_processDataFromViewText",value:function(e){var t=this,n=e.data;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return n;if(" "==n.charAt(0)){var i=this._getTouchingViewTextNode(e,!1);(!i||!this._nodeEndsWithSpace(i))&&i||(n="\xa0"+n.substr(1))}if(" "==n.charAt(n.length-1)){var l=this._getTouchingViewTextNode(e,!0);" "!=n.charAt(n.length-2)&&l&&" "!=l.data.charAt(0)||(n=n.substr(0,n.length-1)+"\xa0")}return n.replace(/ {2}/g," \xa0")}},{key:"_nodeEndsWithSpace",value:function(e){var t=this;if(e.getAncestors().some((function(e){return t.preElements.includes(e.name)})))return!1;var n=this._processDataFromViewText(e);return" "==n.charAt(n.length-1)}},{key:"_processDataFromDomText",value:function(e){var t=e.data;if(Ki(e,this.preElements))return Ei(e);t=t.replace(/[ \n\t\r]{1,}/g," ");var n=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),l=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(e,i);return l&&(t=t.replace(/^ /,"")),r&&(t=t.replace(/ $/,"")),t=(t=Ei(new Text(t))).replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(t)||!i||i.data&&" "==i.data.charAt(0))&&(t=t.replace(/\u00A0$/," ")),l&&(t=t.replace(/^\u00A0/," ")),t}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!ft(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,t){return!t&&!Ai(e)}},{key:"_getTouchingViewTextNode",value:function(e,t){var n=new Un({startPosition:t?Yn._createAfter(e):Yn._createBefore(e),direction:t?"forward":"backward"}),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(s.item.is("containerElement"))return null;if(s.item.is("br"))return null;if(s.item.is("textProxy"))return s.item}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return null}},{key:"_getTouchingInlineDomNode",value:function(e,t){if(!e.parentNode)return null;var n=t?"nextNode":"previousNode",i=e.ownerDocument,l=qi(e)[0],r=i.createTreeWalker(l,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return Si(e)||"BR"==e.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});r.currentNode=e;var a=r[n]();if(null!==a){var o=function(e,t){for(var n=qi(e),i=qi(t),l=0;n[l]==i[l]&&n[l];)l++;return 0===l?null:n[l-1]}(e,a);if(o&&!Ki(e,this.blockElements,o)&&!Ki(a,this.blockElements,o))return a}return null}}]),e}();function Ki(e,t,n){var i=qi(e);return n&&(i=i.slice(i.indexOf(n)+1)),i.some((function(e){return e.tagName&&t.includes(e.tagName.toLowerCase())}))}function $i(e,t){for(;e&&e!=Ui.document;)t(e),e=e.parentNode}function Zi(e,t){var n=e.parentNode;return n&&n.tagName&&t.includes(n.tagName.toLowerCase())}function Qi(e){var t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}var Ji=In({},Ct,{listenTo:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];if(Vi(e)||Qi(e)){var r=this._getProxyEmitter(e)||new el(e);r.attach.apply(r,i),e=r}(t=Ct.listenTo).call.apply(t,[this,e].concat(i))},stopListening:function(e,t,n){if(Vi(e)||Qi(e)){var i=this._getProxyEmitter(e);if(!i)return;e=i}Ct.stopListening.call(this,e,t,n),e instanceof el&&e.detach(t)},_getProxyEmitter:function(e){return t=this,n=tl(e),t[wt]&&t[wt][n]?t[wt][n].emitter:null;var t,n}}),el=function e(t){_classCallCheck2(this,e),St(this,tl(t)),this._domNode=t};function tl(e){return e["data-ck-expando"]||(e["data-ck-expando"]=bt())}In(el.prototype,Ct,{attach:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this._domListeners||!this._domListeners[e]){var i=this._createDomListener(e,!!n.useCapture);this._domNode.addEventListener(e,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}},detach:function(e){var t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()},_createDomListener:function(e,t){var n=this,i=function(t){n.fire(e,t)};return i.removeListener=function(){n._domNode.removeEventListener(e,i,t),delete n._domListeners[e]},i}});var nl=function(){function e(t){_classCallCheck2(this,e),this.view=t,this.document=t.document,this.isEnabled=!1}return _createClass2(e,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),e}();function il(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new K;++t<n;)this.add(e[t])}Et(nl,Ji),il.prototype.add=il.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},il.prototype.has=function(e){return this.__data__.has(e)};var ll=il,rl=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},al=function(e,t){return e.has(t)},ol=function(e,t,n,i,l,r){var a=1&n,o=e.length,s=t.length;if(o!=s&&!(a&&s>o))return!1;var u=r.get(e);if(u&&r.get(t))return u==t;var c=-1,h=!0,d=2&n?new ll:void 0;for(r.set(e,t),r.set(t,e);++c<o;){var f=e[c],p=t[c];if(i)var v=a?i(p,f,c,t,e,r):i(f,p,c,e,t,r);if(void 0!==v){if(v)continue;h=!1;break}if(d){if(!rl(t,(function(e,t){if(!al(d,t)&&(f===e||l(f,e,n,i,r)))return d.push(t)}))){h=!1;break}}else if(f!==p&&!l(f,p,n,i,r)){h=!1;break}}return r.delete(e),r.delete(t),h},sl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},ul=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},cl=o?o.prototype:void 0,hl=cl?cl.valueOf:void 0,dl=Object.prototype.hasOwnProperty,fl=Object.prototype.hasOwnProperty,pl=function e(t,n,i,l,r){return t===n||(null==t||null==n||!m(t)&&!m(n)?t!=t&&n!=n:function(e,t,n,i,l,r){var a=se(e),o=se(t),s=a?"[object Array]":Ke(e),u=o?"[object Array]":Ke(t),c="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),h="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u),d=s==u;if(d&&Object(ue.a)(e)){if(!Object(ue.a)(t))return!1;a=!0,c=!1}if(d&&!c)return r||(r=new Z),a||me(e)?ol(e,t,n,i,l,r):function(e,t,n,i,l,r,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new Ze(e),new Ze(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return C(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var o=sl;case"[object Set]":if(o||(o=ul),e.size!=t.size&&!(1&i))return!1;var s=a.get(e);if(s)return s==t;i|=2,a.set(e,t);var u=ol(o(e),o(t),i,l,r,a);return a.delete(e),u;case"[object Symbol]":if(hl)return hl.call(e)==hl.call(t)}return!1}(e,t,s,n,i,l,r);if(!(1&n)){var f=c&&fl.call(e,"__wrapped__"),p=h&&fl.call(t,"__wrapped__");if(f||p){var v=f?e.value():e,g=p?t.value():t;return r||(r=new Z),l(v,g,n,i,r)}}return!!d&&(r||(r=new Z),function(e,t,n,i,l,r){var a=1&n,o=Le(e),s=o.length;if(s!=Le(t).length&&!a)return!1;for(var u=s;u--;){var c=o[u];if(!(a?c in t:dl.call(t,c)))return!1}var h=r.get(e);if(h&&r.get(t))return h==t;var d=!0;r.set(e,t),r.set(t,e);for(var f=a;++u<s;){var p=e[c=o[u]],v=t[c];if(i)var g=a?i(v,p,c,t,e,r):i(p,v,c,e,t,r);if(!(void 0===g?p===v||l(p,v,n,i,r):g)){d=!1;break}f||(f="constructor"==c)}if(d&&!f){var m=e.constructor,y=t.constructor;m==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(d=!1)}return r.delete(e),r.delete(t),d}(e,t,n,i,l,r))}(t,n,i,l,e,r))},vl=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?pl(e,t,void 0,n):!!i},gl=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},n.domConverter=e.domConverter,n.renderer=e._renderer,n._domElements=[],n._mutationObserver=new window.MutationObserver(n._onMutations.bind(_assertThisInitialized(n))),n}return _inherits(t,e),_createClass2(t,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}},{key:"enable",value:function(){_get2(_getPrototypeOf2(t.prototype),"enable",this).call(this);var e=!0,n=!1,i=void 0;try{for(var l,r=this._domElements[Symbol.iterator]();!(e=(l=r.next()).done);e=!0){var a=l.value;this._mutationObserver.observe(a,this._config)}}catch(o){n=!0,i=o}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"disable",value:function(){_get2(_getPrototypeOf2(t.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(e){if(0!==e.length){var t=this.domConverter,n=new Map,i=new Set,l=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("childList"===u.type){var c=t.mapDomToView(u.target);if(c&&c.is("uiElement"))continue;c&&!this._isBogusBrMutation(u)&&i.add(c)}}}catch(z){r=!0,a=z}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}var h=!0,d=!1,f=void 0;try{for(var p,v=e[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value,m=t.mapDomToView(g.target);if(!(m&&m.is("uiElement")||"characterData"!==g.type)){var y=t.findCorrespondingViewText(g.target);y&&!i.has(y.parent)?n.set(y,{type:"text",oldText:y.data,newText:Ei(g.target),node:y}):!y&&Ai(g.target)&&i.add(t.mapDomToView(g.target.parentNode))}}}catch(z){d=!0,f=z}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}var b=[],k=!0,_=!1,w=void 0;try{for(var x,C=n.values()[Symbol.iterator]();!(k=(x=C.next()).done);k=!0){var S=x.value;this.renderer.markToSync("text",S.node),b.push(S)}}catch(z){_=!0,w=z}finally{try{k||null==C.return||C.return()}finally{if(_)throw w}}var T=!0,P=!1,M=void 0;try{for(var A,I=i[Symbol.iterator]();!(T=(A=I.next()).done);T=!0){var E=A.value,D=t.mapViewToDom(E),O=Array.from(E.getChildren()),F=Array.from(t.domChildrenToView(D,{withChildren:!1}));vl(O,F,V)||(this.renderer.markToSync("children",E),b.push({type:"children",oldChildren:O,newChildren:F,node:E}))}}catch(z){P=!0,M=z}finally{try{T||null==I.return||I.return()}finally{if(P)throw M}}var R=e[0].target.ownerDocument.getSelection(),N=null;if(R&&R.anchorNode){var L=t.domPositionToView(R.anchorNode,R.anchorOffset),B=t.domPositionToView(R.focusNode,R.focusOffset);L&&B&&(N=new Kn(L)).setFocus(B)}b.length&&(this.document.fire("mutations",b,N),this.view.forceRender())}function V(e,t){if(!Array.isArray(e))return e===t||!(!e.is("text")||!t.is("text"))&&e.data===t.data}}},{key:"_isBogusBrMutation",value:function(e){var t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}]),t}(nl),ml=function(){function e(t,n,i){_classCallCheck2(this,e),this.view=t,this.document=t.document,this.domEvent=n,this.domTarget=n.target,In(this,i)}return _createClass2(e,[{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}},{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}}]),e}(),yl=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).useCapture=!1,n}return _inherits(t,e),_createClass2(t,[{key:"observe",value:function(e){var t=this;("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((function(n){t.listenTo(e,n,(function(e,n){t.isEnabled&&t.onDomEvent(n)}),{useCapture:t.useCapture})}))}},{key:"fire",value:function(e,t,n){this.isEnabled&&this.document.fire(e,new ml(this.view,t,n))}}]),t}(nl),bl=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType=["keydown","keyup"],n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e,{keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,get keystroke(){return si(this)}})}}]),t}(yl),kl=function(){return a.a.Date.now()},_l=/^\s+|\s+$/g,wl=/^[-+]0x[0-9a-f]+$/i,xl=/^0b[01]+$/i,Cl=/^0o[0-7]+$/i,Sl=parseInt,Tl=function(e){if("number"==typeof e)return e;if(Gt(e))return NaN;if(I(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=I(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(_l,"");var n=xl.test(e);return n||Cl.test(e)?Sl(e.slice(2),n?2:8):wl.test(e)?NaN:+e},Pl=Math.max,Ml=Math.min,Al=function(e,t,n){var i,l,r,a,o,s,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,r=l;return i=l=void 0,u=t,a=e.apply(r,n)}function p(e){var n=e-s;return void 0===s||n>=t||n<0||h&&e-u>=r}function v(){var e=kl();if(p(e))return g(e);o=setTimeout(v,function(e){var n=t-(e-s);return h?Ml(n,r-(e-u)):n}(e))}function g(e){return o=void 0,d&&i?f(e):(i=l=void 0,a)}function m(){var e=kl(),n=p(e);if(i=arguments,l=this,s=e,n){if(void 0===o)return function(e){return u=e,o=setTimeout(v,t),c?f(e):a}(s);if(h)return clearTimeout(o),o=setTimeout(v,t),f(s)}return void 0===o&&(o=setTimeout(v,t)),a}return t=Tl(t)||0,I(n)&&(c=!!n.leading,r=(h="maxWait"in n)?Pl(Tl(n.maxWait)||0,t):r,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==o&&clearTimeout(o),u=0,i=s=l=o=void 0},m.flush=function(){return void 0===o?a:g(kl())},m},Il=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._fireSelectionChangeDoneDebounced=Al((function(e){return n.document.fire("selectionChangeDone",e)}),200),n}return _inherits(t,e),_createClass2(t,[{key:"observe",value:function(){var e=this,t=this.document;t.on("keydown",(function(n,i){var l;t.selection.isFake&&((l=i.keyCode)==oi.arrowright||l==oi.arrowleft||l==oi.arrowup||l==oi.arrowdown)&&e.isEnabled&&(i.preventDefault(),e._handleSelectionMove(i.keyCode))}),{priority:"lowest"})}},{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(e){var t=this.document.selection,n=new Kn(t.getRanges(),{backward:t.isBackward,fake:!1});e!=oi.arrowleft&&e!=oi.arrowup||n.setTo(n.getFirstPosition()),e!=oi.arrowright&&e!=oi.arrowdown||n.setTo(n.getLastPosition());var i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}]),t}(nl),El=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).mutationObserver=e.getObserver(gl),n.selection=n.document.selection,n.domConverter=e.domConverter,n._documents=new WeakSet,n._fireSelectionChangeDoneDebounced=Al((function(e){return n.document.fire("selectionChangeDone",e)}),200),n._clearInfiniteLoopInterval=setInterval((function(){return n._clearInfiniteLoop()}),1e3),n._loopbackCounter=0,n}return _inherits(t,e),_createClass2(t,[{key:"observe",value:function(e){var t=this,n=e.ownerDocument;this._documents.has(n)||(this.listenTo(n,"selectionchange",(function(){t._handleSelectionChange(n)})),this._documents.add(n))}},{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(e){if(this.isEnabled){this.mutationObserver.flush();var t=e.defaultView.getSelection(),n=this.domConverter.domSelectionToView(t);if(0!=n.rangeCount&&!(this.selection.isEqual(n)&&this.domConverter.isDomSelectionCorrect(t)||++this._loopbackCounter>60))if(this.selection.isSimilar(n))this.view.forceRender();else{var i={oldSelection:this.selection,newSelection:n,domSelection:t};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),t}(nl),Dl=function(e){function t(e){var n;_classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType=["focus","blur"],n.useCapture=!0;var i=n.document;return i.on("focus",(function(){i.isFocused=!0,n._renderTimeoutId=setTimeout((function(){return e.forceRender()}),50)})),i.on("blur",(function(t,n){var l=i.selection.editableElement;null!==l&&l!==n.target||(i.isFocused=!1,e.forceRender())})),n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}}]),t}(yl),Ol=function(e){function t(e){var n;_classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType=["compositionstart","compositionupdate","compositionend"];var i=n.document;return i.on("compositionstart",(function(){i.isComposing=!0})),i.on("compositionend",(function(){i.isComposing=!1})),n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(yl),Fl=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType=["beforeinput"],n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(yl);function Rl(e){return"[object Range]"==Object.prototype.toString.apply(e)}function Nl(e){var t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}var Ll=["top","right","bottom","left","width","height"],Bl=function(){function e(t){_classCallCheck2(this,e);var n=Rl(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),ft(t)||n)Vl(this,n?e.getDomRangeRects(t)[0]:t.getBoundingClientRect());else if(Qi(t)){var i=t.innerWidth,l=t.innerHeight;Vl(this,{top:0,right:i,bottom:l,left:0,width:i,height:l})}else Vl(this,t)}return _createClass2(e,[{key:"clone",value:function(){return new e(this)}},{key:"moveTo",value:function(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}},{key:"moveBy",value:function(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}},{key:"getIntersection",value:function(t){var n={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new e(n)}},{key:"getIntersectionArea",value:function(e){var t=this.getIntersection(e);return t?t.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var t=this._source,n=this.clone();if(!zl(t))for(var i=t.parentNode||t.commonAncestorContainer;i&&!zl(i);){var l=new e(i),r=n.getIntersection(l);if(!r)return null;r.getArea()<n.getArea()&&(n=r),i=i.parentNode}return n}},{key:"isEqual",value:function(e){var t=!0,n=!1,i=void 0;try{for(var l,r=Ll[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if(this[a]!==e[a])return!1}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!0}},{key:"contains",value:function(e){var t=this.getIntersection(e);return!(!t||!t.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e,t,n,i=this._source;if(Qi(i))e=i.innerWidth-i.document.documentElement.clientWidth,t=i.innerHeight-i.document.documentElement.clientHeight,n=i.getComputedStyle(i.document.documentElement).direction;else{var l=Nl(this._source);e=i.offsetWidth-i.clientWidth-l.left-l.right,t=i.offsetHeight-i.clientHeight-l.top-l.bottom,n=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=l.left,this.top+=l.top,this.right-=l.right,this.bottom-=l.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=e,"ltr"===n?this.right-=e:this.left+=e,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(t){var n=[],i=Array.from(t.getClientRects());if(i.length){var l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;n.push(new e(u))}}catch(d){r=!0,a=d}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}else{var c=t.startContainer;Si(c)&&(c=c.parentNode);var h=new e(c.getBoundingClientRect());h.right=h.left,h.width=0,n.push(h)}return n}}]),e}();function Vl(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=Ll[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;e[o]=t[o]}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}function zl(e){return!!ft(e)&&e===e.ownerDocument.body}function jl(e){for(var t=e.target,n=e.viewportOffset,i=void 0===n?0:n,l=Xl(t),r=l,a=null;r;){Wl(Kl(r==l?t:a),(function(){return $l(t,r)}));var o=$l(t,r);if(Hl(r,o,i),r.parent!=r){if(a=r.frameElement,r=r.parent,!a)return}else r=null}}function Hl(e,t,n){var i=t.clone().moveBy(0,n),l=t.clone().moveBy(0,-n),r=new Bl(e).excludeScrollbarsAndBorders();if(![l,i].every((function(e){return r.contains(e)}))){var a=e.scrollX,o=e.scrollY;Yl(l,r)?o-=r.top-t.top+n:Ul(i,r)&&(o+=t.bottom-r.bottom+n),ql(t,r)?a-=r.left-t.left+n:Gl(t,r)&&(a+=t.right-r.right+n),e.scrollTo(a,o)}}function Wl(e,t){for(var n,i,l=Xl(e);e!=l.document.body;)i=t(),(n=new Bl(e).excludeScrollbarsAndBorders()).contains(i)||(Yl(i,n)?e.scrollTop-=n.top-i.top:Ul(i,n)&&(e.scrollTop+=i.bottom-n.bottom),ql(i,n)?e.scrollLeft-=n.left-i.left:Gl(i,n)&&(e.scrollLeft+=i.right-n.right)),e=e.parentNode}function Ul(e,t){return e.bottom>t.bottom}function Yl(e,t){return e.top<t.top}function ql(e,t){return e.left<t.left}function Gl(e,t){return e.right>t.right}function Xl(e){return Rl(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function Kl(e){if(Rl(e)){var t=e.commonAncestorContainer;return Si(t)&&(t=t.parentNode),t}return e.parentNode}function $l(e,t){var n=Xl(e),i=new Bl(e);if(n===t)return i;for(var l=n;l!=t;){var r=new Bl(l.frameElement).excludeScrollbarsAndBorders();i.moveBy(r.left,r.top),l=l.parent}return i}Object.assign({},{scrollViewportToShowTarget:jl,scrollAncestorsToShowTarget:function(e){Wl(Kl(e),(function(){return new Bl(e)}))}});var Zl=function(){function e(t){var n=this;_classCallCheck2(this,e),this.document=new Zn(t),this.domConverter=new Xi(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new zi(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new vi(this.document),this.addObserver(gl),this.addObserver(El),this.addObserver(Dl),this.addObserver(bl),this.addObserver(Il),this.addObserver(Ol),li.isAndroid&&this.addObserver(Fl),this.document.on("keydown",Di),function(e){e.document.on("keydown",(function(t,n){return function(e,t,n){if(t.keyCode==oi.arrowright){var i=t.domTarget.ownerDocument.defaultView.getSelection(),l=1==i.rangeCount&&i.getRangeAt(0).collapsed;if(l||t.shiftKey){var r=n.domPositionToView(i.focusNode,i.focusOffset);if(null===r)return;var a=!1,o=r.getLastMatchingPosition((function(e){return e.item.is("uiElement")&&(a=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement"))}));if(a){var s=n.viewPositionToDom(o);l?i.collapse(s.parent,s.offset):i.extend(s.parent,s.offset)}}}}(0,n,e.domConverter)}))}(this),this.on("render",(function(){n._render(),n.document.fire("layoutChanged"),n._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(function(){n._hasChangedSinceTheLastRendering=!0}))}return _createClass2(e,[{key:"attachDomRoot",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i=this.document.getRoot(n);i._name=e.tagName.toLowerCase();for(var l={},r=0,a=Array.from(e.attributes);r<a.length;r++){var o=a[r],s=o.name,u=o.value;l[s]=u,"class"===s?this._writer.addClass(u.split(" "),i):this._writer.setAttribute(s,u,i)}this._initialDomRootAttributes.set(e,l);var c=function(){t._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?t._writer.addClass("ck-read-only",i):t._writer.removeClass("ck-read-only",i)};c(),this.domRoots.set(n,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",(function(e,n){return t._renderer.markToSync("children",n)})),i.on("change:attributes",(function(e,n){return t._renderer.markToSync("attributes",n)})),i.on("change:text",(function(e,n){return t._renderer.markToSync("text",n)})),i.on("change:isReadOnly",(function(){return t.change(c)})),i.on("change",(function(){t._hasChangedSinceTheLastRendering=!0}));var h=!0,d=!1,f=void 0;try{for(var p,v=this._observers.values()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value;g.observe(e,n)}}catch(m){d=!0,f=m}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}},{key:"detachDomRoot",value:function(e){var t=this.domRoots.get(e);Array.from(t.attributes).forEach((function(e){var n=e.name;return t.removeAttribute(n)}));var n=this._initialDomRootAttributes.get(t);for(var i in n)t.setAttribute(i,n[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);var n=!0,i=!1,l=void 0;try{for(var r,a=this.domRoots[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=_slicedToArray(r.value,2),s=o[0],u=o[1];t.observe(u,s)}}catch(c){i=!0,l=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t.enable(),t}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this._observers.values()[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){i.value.disable()}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}},{key:"enableObservers",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this._observers.values()[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){i.value.enable()}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&jl({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new _t.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){_t.b.rethrowUnexpectedError(e,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change((function(){}))}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this._observers.values()[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){i.value.destroy()}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,t){return Yn._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Yn._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Yn._createBefore(e)}},{key:"createRange",value:function(e,t){return new qn(e,t)}},{key:"createRangeOn",value:function(e){return qn._createOn(e)}},{key:"createRangeIn",value:function(e){return qn._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new Kn(e,t,n)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,0==e&&this.change((function(){}))}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),e}();Et(Zl,Rn);var Ql=function(){function e(t){_classCallCheck2(this,e),this.parent=null,this._attrs=Ut(t)}return _createClass2(e,[{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],t=this;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"getCommonAncestor",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAncestors(t),i=e.getAncestors(t),l=0;n[l]==i[l]&&n[l];)l++;return 0===l?null:n[l-1]}},{key:"isBefore",value:function(e){if(this==e)return!1;if(this.root!==e.root)return!1;var t=this.getPath(),n=e.getPath(),i=Bt(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((function(e,t){return e[t[0]]=t[1],e}),{})),e}},{key:"is",value:function(e){return"node"==e||"model:node"==e}},{key:"_clone",value:function(){return new e(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,t){this._attrs.set(e,t)}},{key:"_setAttributesTo",value:function(e){this._attrs=Ut(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}},{key:"index",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new _t.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new _t.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return null!==e&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}}]),e}(),Jl=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n)))._data=e||"",i}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){return"text"==e||"model:text"==e||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.data=this.data,e}},{key:"_clone",value:function(){return new t(this.data,this.getAttributes())}},{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}}],[{key:"fromJSON",value:function(e){return new t(e.data,e.attributes)}}]),t}(Ql),er=function(){function e(t,n,i){if(_classCallCheck2(this,e),this.textNode=t,n<0||n>t.offsetSize)throw new _t.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(i<0||n+i>t.offsetSize)throw new _t.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=t.data.substring(n,n+i),this.offsetInText=n}return _createClass2(e,[{key:"is",value:function(e){return"textProxy"==e||"model:textProxy"==e}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeSelf:!1,parentFirst:!1},t=[],n=e.includeSelf?this:this.parent;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}},{key:"startOffset",get:function(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}}]),e}(),tr=function(){function e(t){_classCallCheck2(this,e),this._nodes=[],t&&this._insertNodes(0,t)}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var t=this._nodes.indexOf(e);return-1==t?null:t}},{key:"getNodeStartOffset",value:function(e){var t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce((function(e,t){return e+t.offsetSize}),0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var t=this._nodes[e];if(!t)throw new _t.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(e){var t=0,n=!0,i=!1,l=void 0;try{for(var r,a=this._nodes[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(e>=t&&e<t+o.offsetSize)return this.getNodeIndex(o);t+=o.offsetSize}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}if(t!=e)throw new _t.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,t){var n,i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){if(!(a.value instanceof Ql))throw new _t.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}catch(s){l=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}(n=this._nodes).splice.apply(n,[e,0].concat(_toConsumableArray(t)))}},{key:"_removeNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}},{key:"toJSON",value:function(){return this._nodes.map((function(e){return e.toJSON()}))}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce((function(e,t){return e+t.offsetSize}),0)}}]),e}(),nr=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n))).name=e,l._children=new tr,i&&l._insertChild(0,i),l}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.replace(/^model:/,"");return n?"element"==i&&n==this.name:"element"==i||i==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"getNodeByPath",value:function(e){var t=this,n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t=t.getChild(t.offsetToIndex(o))}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);if(e.name=this.name,this._children.length>0){e.children=[];var n=!0,i=!1,l=void 0;try{for(var r,a=this._children[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;e.children.push(o.toJSON())}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}return e}},{key:"_clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e?Array.from(this._children).map((function(e){return e._clone(!0)})):null;return new t(this.name,this.getAttributes(),n)}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n=function(e){return"string"==typeof e?[new Jl(e)]:(Wt(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Jl(e):e instanceof er?new Jl(e.data,e.getAttributes()):e})))}(t),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;null!==s.parent&&s._remove(),s.parent=this}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}this._children._insertNodes(e,n)}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._children._removeNodes(e,t),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;s.parent=null}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}}],[{key:"fromJSON",value:function(e){var n=null;if(e.children){n=[];var i=!0,l=!1,r=void 0;try{for(var a,o=e.children[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;n.push(s.name?t.fromJSON(s):Jl.fromJSON(s))}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}return new t(e.name,e.attributes,n)}}]),t}(Ql),ir=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck2(this,e),!t.boundaries&&!t.startPosition)throw new _t.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);var n=t.direction||"forward";if("forward"!=n&&"backward"!=n)throw new _t.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",t,{direction:n});this.direction=n,this.boundaries=t.boundaries||null,this.position=t.startPosition?t.startPosition.clone():rr._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var t,n,i,l;do{var r;i=this.position,l=this._visitedParent,t=(r=this.next()).done,n=r.value}while(!t&&e(n));t||(this.position=i,this._visitedParent=l)}},{key:"next",value:function(){return"forward"==this.direction?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};var i=t.textNode?t.textNode:t.nodeAfter;if(i instanceof nr)return this.shallow?t.offset++:(t.path.push(0),this._visitedParent=i),this.position=t,lr("elementStart",i,e,t,1);if(i instanceof Jl){var l;if(this.singleCharacters)l=1;else{var r=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<r&&(r=this.boundaries.end.offset),l=r-t.offset}var a=new er(i,t.offset-i.startOffset,l);return t.offset+=l,this.position=t,lr("text",a,e,t,l)}return t.path.pop(),t.offset++,this.position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():lr("elementEnd",n,e,t)}},{key:"_previous",value:function(){var e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};var i=t.textNode?t.textNode:t.nodeBefore;if(i instanceof nr)return t.offset--,this.shallow?(this.position=t,lr("elementStart",i,e,t,1)):(t.path.push(i.maxOffset),this.position=t,this._visitedParent=i,this.ignoreElementEnd?this._previous():lr("elementEnd",i,e,t));if(i instanceof Jl){var l;if(this.singleCharacters)l=1;else{var r=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>r&&(r=this.boundaries.start.offset),l=t.offset-r}var a=new er(i,t.offset-i.startOffset-l,l);return t.offset-=l,this.position=t,lr("text",a,e,t,l)}return t.path.pop(),this.position=t,this._visitedParent=n.parent,lr("elementStart",n,e,t,1)}}]),e}();function lr(e,t,n,i,l){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:l}}}var rr=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(_classCallCheck2(this,e),!t.is("element")&&!t.is("documentFragment"))throw new _t.b("model-position-root-invalid: Position root invalid.",t);if(!(n instanceof Array)||0===n.length)throw new _t.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",t,{path:n});n=t.getPath().concat(n),this.root=t=t.root,this.path=n,this.stickiness=i}return _createClass2(e,[{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var t=Bt(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;var n=new ir(t);return n.skip(e),n.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var t=Bt(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}},{key:"getCommonAncestor",value:function(e){for(var t=this.getAncestors(),n=e.getAncestors(),i=0;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}},{key:"getShiftedBy",value:function(e){var t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}},{key:"isAfter",value:function(e){return"after"==this.compareWith(e)}},{key:"isBefore",value:function(e){return"before"==this.compareWith(e)}},{key:"isEqual",value:function(e){return"same"==this.compareWith(e)}},{key:"isTouching",value:function(t){var n=null,i=null;switch(this.compareWith(t)){case"same":return!0;case"before":n=e._createAt(this),i=e._createAt(t);break;case"after":n=e._createAt(t),i=e._createAt(this);break;default:return!1}for(var l=n.parent;n.path.length+i.path.length;){if(n.isEqual(i))return!0;if(n.path.length>i.path.length){if(n.offset!==l.maxOffset)return!1;n.path=n.path.slice(0,-1),l=l.parent,n.offset++}else{if(0!==i.offset)return!1;i.path=i.path.slice(0,-1)}}}},{key:"is",value:function(e){return"position"==e||"model:position"==e}},{key:"hasSameParentAs",value:function(e){return this.root===e.root&&"same"==Bt(this.getParentPath(),e.getParentPath())}},{key:"getTransformedByOperation",value:function(t){var n;switch(t.type){case"insert":n=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(t);break;case"split":n=this._getTransformedBySplitOperation(t);break;case"merge":n=this._getTransformedByMergeOperation(t);break;default:n=e._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(t){var n,i=t.movedRange;return i.containsPosition(this)||i.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?e._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}},{key:"_getTransformedByDeletion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==Bt(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+n>this.offset)return null;i.offset-=n}}else if("prefix"==Bt(t.getParentPath(),this.getParentPath())){var l=t.path.length-1;if(t.offset<=this.path[l]){if(t.offset+n>this.path[l])return null;i.path[l]-=n}}return i}},{key:"_getTransformedByInsertion",value:function(t,n){var i=e._createAt(this);if(this.root!=t.root)return i;if("same"==Bt(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(i.offset+=n);else if("prefix"==Bt(t.getParentPath(),this.getParentPath())){var l=t.path.length-1;t.offset<=this.path[l]&&(i.path[l]+=n)}return i}},{key:"_getTransformedByMove",value:function(t,n,i){if(n=n._getTransformedByDeletion(t,i),t.isEqual(n))return e._createAt(this);var l=this._getTransformedByDeletion(t,i);return null===l||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(i).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,n):l._getTransformedByInsertion(n,i)}},{key:"_getCombined",value:function(t,n){var i=t.path.length-1,l=e._createAt(n);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[i]-t.offset,l.path=l.path.concat(this.path.slice(i+1)),l}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}},{key:"offset",get:function(){return an(this.path)},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,t=0;t<this.path.length-1;t++)if(!(e=e.getChild(e.offsetToIndex(this.path[t]))))throw new _t.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new _t.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){var e=this.parent.getChild(this.index);return e instanceof Jl&&e.startOffset<this.offset?e:null}},{key:"nodeAfter",get:function(){return null===this.textNode?this.parent.getChild(this.index):null}},{key:"nodeBefore",get:function(){return null===this.textNode?this.parent.getChild(this.index-1):null}},{key:"isAtStart",get:function(){return 0===this.offset}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}}],[{key:"_createAt",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(t instanceof e)return new e(t.root,t.path,t.stickiness);var l=t;if("end"==n)n=l.maxOffset;else{if("before"==n)return this._createBefore(l,i);if("after"==n)return this._createAfter(l,i);if(0!==n&&!n)throw new _t.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,t])}if(!l.is("element")&&!l.is("documentFragment"))throw new _t.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,t]);var r=l.getPath();return r.push(n),new this(l.root,r,i)}},{key:"_createAfter",value:function(e,t){if(!e.parent)throw new _t.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}},{key:"_createBefore",value:function(e,t){if(!e.parent)throw new _t.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}},{key:"fromJSON",value:function(t,n){if("$graveyard"===t.root){var i=new e(n.graveyard,t.path);return i.stickiness=t.stickiness,i}if(!n.getRoot(t.root))throw new _t.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",n,{rootName:t.root});return new e(n.getRoot(t.root),t.path,t.stickiness)}}]),e}(),ar=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck2(this,e),this.start=rr._createAt(t),this.end=rr._createAt(n||t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return _createClass2(e,[{key:Symbol.iterator,value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(new ir({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);var n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}},{key:"containsItem",value:function(e){var t=rr._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}},{key:"is",value:function(e){return"range"==e||"model:range"==e}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(t){var n=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&n.push(new e(this.start,t.start)),this.containsPosition(t.end)&&n.push(new e(t.end,this.end))):n.push(new e(this.start,this.end)),n}},{key:"getIntersection",value:function(t){if(this.isIntersecting(t)){var n=this.start,i=this.end;return this.containsPosition(t.start)&&(n=t.start),this.containsPosition(t.end)&&(i=t.end),new e(n,i)}return null}},{key:"getMinimalFlatRanges",value:function(){for(var t=[],n=this.start.getCommonPath(this.end).length,i=rr._createAt(this.start),l=i.parent;i.path.length>n+1;){var r=l.maxOffset-i.offset;0!==r&&t.push(new e(i,i.getShiftedBy(r))),i.path=i.path.slice(0,-1),i.offset++,l=l.parent}for(;i.path.length<=this.end.path.length;){var a=this.end.path[i.path.length-1],o=a-i.offset;0!==o&&t.push(new e(i,i.getShiftedBy(o))),i.offset=a,i.path.push(0)}return t}},{key:"getWalker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new ir(e)}},{key:"getItems",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=u.length>0&&void 0!==u[0]?u[0]:{}).boundaries=this,t.ignoreElementEnd=!0,n=new ir(t),i=!0,l=!1,r=void 0,e.prev=6,a=n[Symbol.iterator]();case 8:if(i=(o=a.next()).done){e.next=15;break}return s=o.value,e.next=12,s.item;case 12:i=!0,e.next=8;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),l=!0,r=e.t0;case 21:e.prev=21,e.prev=22,i||null==a.return||a.return();case 24:if(e.prev=24,!l){e.next=27;break}throw r;case 27:return e.finish(24);case 28:return e.finish(21);case 29:case"end":return e.stop()}}),e,this,[[6,17,21,29],[22,,24,28]])}))},{key:"getPositions",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=u.length>0&&void 0!==u[0]?u[0]:{}).boundaries=this,n=new ir(t),e.next=5,n.position;case 5:i=!0,l=!1,r=void 0,e.prev=8,a=n[Symbol.iterator]();case 10:if(i=(o=a.next()).done){e.next=17;break}return s=o.value,e.next=14,s.nextPosition;case 14:i=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),l=!0,r=e.t0;case 23:e.prev=23,e.prev=24,i||null==a.return||a.return();case 26:if(e.prev=26,!l){e.next=29;break}throw r;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}}),e,this,[[8,19,23,31],[24,,26,30]])}))},{key:"getTransformedByOperation",value:function(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new e(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(t){var n=[new e(this.start,this.end)],i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0)for(var s=a.value,u=0;u<n.length;u++){var c=n[u].getTransformedByOperation(s);n.splice.apply(n,[u,1].concat(_toConsumableArray(c))),u+=c.length-1}}catch(v){l=!0,r=v}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}for(var h=0;h<n.length;h++)for(var d=n[h],f=h+1;f<n.length;f++){var p=n[f];(d.containsRange(p)||p.containsRange(d)||d.isEqual(p))&&n.splice(f,1)}return n}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}},{key:"_getTransformedByMoveOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,t)}},{key:"_getTransformedBySplitOperation",value:function(t){var n=this.start._getTransformedBySplitOperation(t),i=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(i=this.end.getShiftedBy(1)),n.root!=i.root&&(i=this.end.getShiftedBy(-1)),new e(n,i)}},{key:"_getTransformedByMergeOperation",value:function(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new e(this.start);var n=this.start._getTransformedByMergeOperation(t),i=this.end._getTransformedByMergeOperation(t);return n.root!=i.root&&(i=this.end.getShiftedBy(-1)),n.isAfter(i)?(t.sourcePosition.isBefore(t.targetPosition)?(n=rr._createAt(i)).offset=0:(t.deletionPosition.isEqual(n)||(i=t.deletionPosition),n=t.targetPosition),new e(n,i)):new e(n,i)}},{key:"_getTransformedByInsertion",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&this.containsPosition(t))return[new e(this.start,t),new e(t.getShiftedBy(n),this.end._getTransformedByInsertion(t,n))];var l=new e(this.start,this.end);return l.start=l.start._getTransformedByInsertion(t,n),l.end=l.end._getTransformedByInsertion(t,n),[l]}},{key:"_getTransformedByMove",value:function(t,n,i){var l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){var r=this.start._getTransformedByMove(t,n,i);return[new e(r)]}var a,o=e._createFromPositionAndShift(t,i),s=n._getTransformedByDeletion(t,i);if(this.containsPosition(n)&&!l&&(o.containsPosition(this.start)||o.containsPosition(this.end))){var u=this.start._getTransformedByMove(t,n,i),c=this.end._getTransformedByMove(t,n,i);return[new e(u,c)]}var h=this.getDifference(o),d=null,f=this.getIntersection(o);if(1==h.length?d=new e(h[0].start._getTransformedByDeletion(t,i),h[0].end._getTransformedByDeletion(t,i)):2==h.length&&(d=new e(this.start,this.end._getTransformedByDeletion(t,i))),a=d?d._getTransformedByInsertion(s,i,null!==f||l):[],f){var p=new e(f.start._getCombined(o.start,s),f.end._getCombined(o.start,s));2==a.length?a.splice(1,0,p):a.push(p)}return a}},{key:"_getTransformedByDeletion",value:function(t,n){var i=this.start._getTransformedByDeletion(t,n),l=this.end._getTransformedByDeletion(t,n);return null==i&&null==l?null:(null==i&&(i=t),null==l&&(l=t),new e(i,l))}},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return"same"==Bt(this.start.getParentPath(),this.end.getParentPath())}},{key:"root",get:function(){return this.start.root}}],[{key:"_createFromPositionAndShift",value:function(e,t){var n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}},{key:"_createIn",value:function(e){return new this(rr._createAt(e,0),rr._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(rr._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(0===e.length)throw new _t.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(1==e.length)return e[0].clone();var t=e[0];e.sort((function(e,t){return e.start.isAfter(t.start)?1:-1}));var n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(var l=n-1;e[l].end.isEqual(i.start);l++)i.start=rr._createAt(e[l].start);for(var r=n+1;r<e.length&&e[r].start.isEqual(i.end);r++)i.end=rr._createAt(e[r].end);return i}},{key:"fromJSON",value:function(e,t){return new this(rr.fromJSON(e.start,t),rr.fromJSON(e.end,t))}}]),e}(),or=function(){function e(){var t=this;_classCallCheck2(this,e),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(function(e,n){if(!n.viewPosition){var i=t._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=t._findPositionIn(i,n.modelPosition.offset)}}),{priority:"low"}),this.on("viewToModelPosition",(function(e,n){if(!n.modelPosition){var i=t.findMappedViewAncestor(n.viewPosition),l=t._viewToModelMapping.get(i),r=t._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,i);n.modelPosition=rr._createAt(l,r)}}),{priority:"low"})}return _createClass2(e,[{key:"bindElements",value:function(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}},{key:"unbindViewElement",value:function(e){var t=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var n=!0,i=!1,l=void 0;try{for(var r,a=this._elementToMarkerNames.get(e)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this._unboundMarkerNames.add(o)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}this._modelToViewMapping.get(t)==e&&this._modelToViewMapping.delete(t)}},{key:"unbindModelElement",value:function(e){var t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}},{key:"bindElementToMarker",value:function(e,t){var n=this._markerNameToElements.get(t)||new Set;n.add(e);var i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}},{key:"unbindElementFromMarkerName",value:function(e,t){var n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));var i=this._elementToMarkerNames.get(e);i&&(i.delete(t),0==i.size&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new ar(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new qn(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}},{key:"toViewPosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{isPhantom:!1},n={modelPosition:e,mapper:this,isPhantom:t.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}},{key:"markerNameToElements",value:function(e){var t=this._markerNameToElements.get(e);if(!t)return null;var n=new Set,i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(s.is("attributeElement")){var u=!0,c=!1,h=void 0;try{for(var d,f=s.getElementsWithSameId()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;n.add(p)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}else n.add(s)}}catch(v){l=!0,r=v}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}},{key:"registerViewToModelLength",value:function(e,t){this._viewToModelLengthCallbacks.set(e,t)}},{key:"findMappedViewAncestor",value:function(e){for(var t=e.parent;!this._viewToModelMapping.has(t);)t=t.parent;return t}},{key:"_toModelOffset",value:function(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("text"))return t;for(var i=0,l=0;l<t;l++)i+=this.getModelLength(e.getChild(l));return i}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;var t=0,n=!0,i=!1,l=void 0;try{for(var r,a=e.getChildren()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t+=this.getModelLength(o)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}},{key:"_findPositionIn",value:function(e,t){var n,i=0,l=0,r=0;if(e.is("text"))return new Yn(e,t);for(;l<t;)n=e.getChild(r),l+=i=this.getModelLength(n),r++;return l==t?this._moveViewPositionToTextNode(new Yn(e,r)):this._findPositionIn(n,t-(l-i))}},{key:"_moveViewPositionToTextNode",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;return t instanceof jt?new Yn(t,t.data.length):n instanceof jt?new Yn(n,0):e}}]),e}();Et(or,Ct);var sr=function(){function e(){_classCallCheck2(this,e),this._consumable=new Map,this._textProxyRegistry=new Map}return _createClass2(e,[{key:"add",value:function(e,t){t=ur(t),e instanceof er&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}},{key:"consume",value:function(e,t){return t=ur(t),e instanceof er&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}},{key:"test",value:function(e,t){t=ur(t),e instanceof er&&(e=this._getSymbolForTextProxy(e));var n=this._consumable.get(e);if(void 0===n)return null;var i=n.get(t);return void 0===i?null:i}},{key:"revert",value:function(e,t){t=ur(t),e instanceof er&&(e=this._getSymbolForTextProxy(e));var n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}},{key:"_getSymbolForTextProxy",value:function(e){var t=null,n=this._textProxyRegistry.get(e.startOffset);if(n){var i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),t}},{key:"_addSymbolForTextProxy",value:function(e,t,n){var i,l,r=Symbol("textProxySymbol");return(i=this._textProxyRegistry.get(e))||(i=new Map,this._textProxyRegistry.set(e,i)),(l=i.get(t))||(l=new Map,i.set(t,l)),l.set(n,r),r}}]),e}();function ur(e){var t=e.split(":");return t.length>1?t[0]+":"+t[1]:t[0]}var cr=function(){function e(t){_classCallCheck2(this,e),this.conversionApi=In({dispatcher:this},t)}return _createClass2(e,[{key:"convertChanges",value:function(e,t,n){var i=!0,l=!1,r=void 0;try{for(var a,o=e.getMarkersToRemove()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;this.convertMarkerRemove(s.name,s.range,n)}}catch(M){l=!0,r=M}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}var u=!0,c=!1,h=void 0;try{for(var d,f=e.getChanges()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;"insert"==p.type?this.convertInsert(ar._createFromPositionAndShift(p.position,p.length),n):"remove"==p.type?this.convertRemove(p.position,p.length,p.name,n):this.convertAttribute(p.range,p.attributeKey,p.attributeOldValue,p.attributeNewValue,n)}}catch(M){c=!0,h=M}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}var v=!0,g=!1,m=void 0;try{for(var y,b=this.conversionApi.mapper.flushUnboundMarkerNames()[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var k=y.value,_=t.get(k).getRange();this.convertMarkerRemove(k,_,n),this.convertMarkerAdd(k,_,n)}}catch(M){g=!0,m=M}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}var w=!0,x=!1,C=void 0;try{for(var S,T=e.getMarkersToAdd()[Symbol.iterator]();!(w=(S=T.next()).done);w=!0){var P=S.value;this.convertMarkerAdd(P.name,P.range,n)}}catch(M){x=!0,C=M}finally{try{w||null==T.return||T.return()}finally{if(x)throw C}}}},{key:"convertInsert",value:function(e,t){this.conversionApi.writer=t,this.conversionApi.consumable=this._createInsertConsumable(e);var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=o.item,u={item:s,range:ar._createFromPositionAndShift(o.previousPosition,o.length)};this._testAndFire("insert",u);var c=!0,h=!1,d=void 0;try{for(var f,p=s.getAttributeKeys()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;u.attributeKey=v,u.attributeOldValue=null,u.attributeNewValue=s.getAttribute(v),this._testAndFire("attribute:".concat(v),u)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}catch(g){i=!0,l=g}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}this._clearConversionApi()}},{key:"convertRemove",value:function(e,t,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:e,length:t},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,t,n,i,l){this.conversionApi.writer=l,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:".concat(t));var r=!0,a=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h={item:c.item,range:ar._createFromPositionAndShift(c.previousPosition,c.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire("attribute:".concat(t),h)}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}this._clearConversionApi()}},{key:"convertSelection",value:function(e,t,n){var i=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(e,i),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=u.getRange();if(hr(e.getFirstPosition(),u,this.conversionApi.mapper)){var h={item:e,markerName:u.name,markerRange:c};this.conversionApi.consumable.test(e,"addMarker:"+u.name)&&this.fire("addMarker:"+u.name,h,this.conversionApi)}}}catch(b){r=!0,a=b}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}var d=!0,f=!1,p=void 0;try{for(var v,g=e.getAttributeKeys()[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,y={item:e,range:e.getFirstRange(),attributeKey:m,attributeOldValue:null,attributeNewValue:e.getAttribute(m)};this.conversionApi.consumable.test(e,"attribute:"+y.attributeKey)&&this.fire("attribute:"+y.attributeKey+":$text",y,this.conversionApi)}}catch(b){f=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(f)throw p}}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,t,n){if(t.root.document&&"$graveyard"!=t.root.rootName){this.conversionApi.writer=n;var i="addMarker:"+e,l=new sr;if(l.add(t,i),this.conversionApi.consumable=l,this.fire(i,{markerName:e,markerRange:t},this.conversionApi),l.test(t,i)){this.conversionApi.consumable=this._createConsumableForRange(t,i);var r=!0,a=!1,o=void 0;try{for(var s,u=t.getItems()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(this.conversionApi.consumable.test(c,i)){var h={item:c,range:ar._createOn(c),markerName:e,markerRange:t};this.fire(i,h,this.conversionApi)}}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,t,n){t.root.document&&"$graveyard"!=t.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+e,{markerName:e,markerRange:t},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(e){var t=new sr,n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value.item;t.add(o,"insert");var s=!0,u=!1,c=void 0;try{for(var h,d=o.getAttributeKeys()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;t.add(o,"attribute:"+f)}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}}catch(p){i=!0,l=p}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}},{key:"_createConsumableForRange",value:function(e,t){var n=new sr,i=!0,l=!1,r=void 0;try{for(var a,o=e.getItems()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;n.add(s,t)}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}},{key:"_createSelectionConsumable",value:function(e,t){var n=new sr;n.add(e,"selection");var i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;n.add(e,"addMarker:"+s.name)}}catch(v){l=!0,r=v}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}var u=!0,c=!1,h=void 0;try{for(var d,f=e.getAttributeKeys()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;n.add(e,"attribute:"+p)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}return n}},{key:"_testAndFire",value:function(e,t){this.conversionApi.consumable.test(t.item,e)&&this.fire(e+":"+(t.item.name||"$text"),t,this.conversionApi)}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),e}();function hr(e,t,n){var i=t.getRange(),l=Array.from(e.getAncestors());return l.shift(),l.reverse(),!l.some((function(e){if(i.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}Et(cr,Ct);var dr=function(){function e(t,n,i){_classCallCheck2(this,e),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,n,i)}return _createClass2(e,[{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value,o=!1,s=!0,u=!1,c=void 0;try{for(var h,d=e._ranges[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;if(a.isEqual(f)){o=!0;break}}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}if(!o)return!1}}catch(p){n=!0,i=p}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!0}},{key:"getRanges",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,i=void 0,e.prev=3,l=this._ranges[Symbol.iterator]();case 5:if(t=(r=l.next()).done){e.next=12;break}return a=r.value,e.next=9,new ar(a.start,a.end);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,i=e.t0;case 18:e.prev=18,e.prev=19,t||null==l.return||l.return();case 21:if(e.prev=21,!n){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"getFirstRange",value:function(){var e=null,t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e&&!a.start.isBefore(e.start)||(e=a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e?new ar(e.start,e.end):null}},{key:"getLastRange",value:function(){var e=null,t=!0,n=!1,i=void 0;try{for(var l,r=this._ranges[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e&&!a.end.isAfter(e.end)||(e=a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e?new ar(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(t,n,i){if(null===t)this._setRanges([]);else if(t instanceof e)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof ar)this._setRanges([t],!!n&&!!n.backward);else if(t instanceof rr)this._setRanges([new ar(t)]);else if(t instanceof Ql){var l,r=!!i&&!!i.backward;if("in"==n)l=ar._createIn(t);else if("on"==n)l=ar._createOn(t);else{if(void 0===n)throw new _t.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,t]);l=new ar(rr._createAt(t,n))}this._setRanges([l],r)}else{if(!Wt(t))throw new _t.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,t]);this._setRanges(t,n&&!!n.backward)}}},{key:"_setRanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(e=Array.from(e)).some((function(n){if(!(n instanceof ar))throw new _t.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[t,e]);return t._ranges.every((function(e){return!e.isEqual(n)}))}));if(e.length!==this._ranges.length||i){this._removeAllRanges();var l=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;this._pushRange(u)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}this._lastRangeBackward=!!n,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,t){if(null===this.anchor)throw new _t.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);var n=rr._createAt(e,t);if("same"!=n.compareWith(this.focus)){var i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new ar(n,i)),this._lastRangeBackward=!0):(this._pushRange(new ar(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return"selection"==e||"model:selection"==e}},{key:"getSelectedBlocks",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o,s,u,c,h,d,f,p,v,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new WeakSet,n=!0,i=!1,l=void 0,e.prev=4,r=this.getRanges()[Symbol.iterator]();case 6:if(n=(a=r.next()).done){e.next=50;break}if(o=a.value,s=vr(o.start,t),e.t0=s&&gr(s,o),!e.t0){e.next=13;break}return e.next=13,s;case 13:u=!0,c=!1,h=void 0,e.prev=16,d=o.getWalker()[Symbol.iterator]();case 18:if(u=(f=d.next()).done){e.next=28;break}if(p=f.value,v=p.item,e.t1="elementEnd"==p.type&&pr(v,t,o),!e.t1){e.next=25;break}return e.next=25,v;case 25:u=!0,e.next=18;break;case 28:e.next=34;break;case 30:e.prev=30,e.t2=e.catch(16),c=!0,h=e.t2;case 34:e.prev=34,e.prev=35,u||null==d.return||d.return();case 37:if(e.prev=37,!c){e.next=40;break}throw h;case 40:return e.finish(37);case 41:return e.finish(34);case 42:if(g=vr(o.end,t),e.t3=g&&!o.end.isTouching(rr._createAt(g,0))&&gr(g,o),!e.t3){e.next=47;break}return e.next=47,g;case 47:n=!0,e.next=6;break;case 50:e.next=56;break;case 52:e.prev=52,e.t4=e.catch(4),i=!0,l=e.t4;case 56:e.prev=56,e.prev=57,n||null==r.return||r.return();case 59:if(e.prev=59,!i){e.next=62;break}throw l;case 62:return e.finish(59);case 63:return e.finish(56);case 64:case"end":return e.stop()}}),e,this,[[4,52,56,64],[16,30,34,42],[35,,37,41],[57,,59,63]])}))},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root,t=rr._createAt(e,0),n=rr._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new ar(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new _t.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}},{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}}]),e}();function fr(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&e.parent)}function pr(e,t,n){return fr(e,t)&&gr(e,n)}function vr(e,t){var n=e.parent.root.document.model.schema,i=e.parent.getAncestors({parentFirst:!0,includeSelf:!0}),l=!1,r=i.find((function(e){return!l&&(!(l=n.isLimit(e))&&fr(e,t))}));return i.forEach((function(e){return t.add(e)})),r}function gr(e,t){var n=function(e){for(var t=e.root.document.model.schema,n=e.parent;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(ar._createOn(n),!0)}Et(dr,Ct);var mr=function(e){function t(e,n){var i;return _classCallCheck2(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n)),yr.call(_assertThisInitialized(i)),i}return _inherits(t,e),_createClass2(t,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"liveRange"==e||"model:liveRange"==e||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"toRange",value:function(){return new ar(this.start,this.end)}}],[{key:"fromRange",value:function(e){return new t(e.start,e.end)}}]),t}(ar);function yr(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var i=n[0];i.isDocumentOperation&&br.call(e,i)}),{priority:"low"})}function br(e){var t=this.getTransformedByOperation(e),n=ar._createFromRanges(t),i=!n.isEqual(this),l=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e),r=null;if(i){"$graveyard"==n.root.rootName&&(r="remove"==e.type?e.sourcePosition:e.deletionPosition);var a=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",a,{deletionPosition:r})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:r})}Et(mr,Ct);var kr=function(){function e(t){_classCallCheck2(this,e),this._selection=new _r(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return _createClass2(e,[{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return"selection"==e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e}},{key:"_setFocus",value:function(e,t){this._selection.setFocus(e,t)}},{key:"_setTo",value:function(e,t,n){this._selection.setTo(e,t,n)}},{key:"_setAttribute",value:function(e,t){this._selection.setAttribute(e,t)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),e}();Et(kr,Ct);var _r=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).markers=new Dt({idProperty:"name"}),n._model=e.model,n._document=e,n._attributePriority=new Map,n._fixGraveyardRangesData=[],n._hasChangedRange=!1,n._overriddenGravityRegister=new Set,n.listenTo(n._model,"applyOperation",(function(e,t){var i=t[0];if(i.isDocumentOperation&&"marker"!=i.type&&"rename"!=i.type&&"noop"!=i.type){for(;n._fixGraveyardRangesData.length;){var l=n._fixGraveyardRangesData.shift(),r=l.liveRange,a=l.sourcePosition;n._fixGraveyardSelection(r,a)}n._hasChangedRange&&(n._hasChangedRange=!1,n.fire("change:range",{directChange:!1}))}}),{priority:"lowest"}),n.on("change:range",(function(){var e=!0,t=!1,i=void 0;try{for(var l,r=n.getRanges()[Symbol.iterator]();!(e=(l=r.next()).done);e=!0){var a=l.value;if(!n._document._validateSelectionRange(a))throw new _t.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",_assertThisInitialized(n),{range:a})}}catch(o){t=!0,i=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}})),n.listenTo(n._model.markers,"update",(function(){return n._updateMarkers()})),n.listenTo(n._document,"change",(function(e,t){!function(e,t){var n=e.document.differ,i=!0,l=!1,r=void 0;try{for(var a,o=function(){var n=a.value;if("insert"!=n.type)return"continue";var i=n.position.parent;n.length===i.maxOffset&&e.enqueueChange(t,(function(e){var t=Array.from(i.getAttributeKeys()).filter((function(e){return e.startsWith("selection:")})),n=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;e.removeAttribute(s,i)}}catch(u){l=!0,r=u}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}}))},s=n.getChanges()[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)o()}catch(u){l=!0,r=u}finally{try{i||null==s.return||s.return()}finally{if(l)throw r}}}(n._model,t)})),n}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){for(var e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}},{key:"getRanges",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._ranges.length){e.next=4;break}return e.delegateYield(_get2(_getPrototypeOf2(t.prototype),"getRanges",this).call(this),"t0",2);case 2:e.next=6;break;case 4:return e.next=6,this._document._getDefaultRange();case 6:case"end":return e.stop()}}),e,this)}))},{key:"getFirstRange",value:function(){return _get2(_getPrototypeOf2(t.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return _get2(_getPrototypeOf2(t.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(e,n,i){_get2(_getPrototypeOf2(t.prototype),"setTo",this).call(this,e,n,i),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(e,n){_get2(_getPrototypeOf2(t.prototype),"setFocus",this).call(this,e,n),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(e,t){this._setAttribute(e,t)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"removeAttribute",value:function(e){this._removeAttribute(e)&&this.fire("change:attribute",{attributeKeys:[e],directChange:!0})}},{key:"overrideGravity",value:function(){var e=bt();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}},{key:"restoreGravity",value:function(e){if(!this._overriddenGravityRegister.has(e))throw new _t.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(e){var t=this._prepareRange(e);t&&this._ranges.push(t)}},{key:"_prepareRange",value:function(e){var t=this;if(this._checkRange(e),e.root!=this._document.graveyard){var n=mr.fromRange(e);return n.on("change:range",(function(e,i,l){t._hasChangedRange=!0,n.root==t._document.graveyard&&t._fixGraveyardRangesData.push({liveRange:n,sourcePosition:l.deletionPosition})})),n}}},{key:"_updateMarkers",value:function(){var e=[],t=!1,n=!0,i=!1,l=void 0;try{for(var r,a=this._model.markers[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=o.getRange(),u=!0,c=!1,h=void 0;try{for(var d,f=this.getRanges()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;s.containsRange(p,!p.isCollapsed)&&e.push(o)}}catch(w){c=!0,h=w}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}catch(w){i=!0,l=w}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}for(var v=Array.from(this.markers),g=0,m=e;g<m.length;g++){var y=m[g];this.markers.has(y)||(this.markers.add(y),t=!0)}for(var b=0,k=Array.from(this.markers);b<k.length;b++){var _=k[b];e.includes(_)||(this.markers.remove(_),t=!0)}t&&this.fire("change:marker",{oldMarkers:v,directChange:!1})}},{key:"_updateAttributes",value:function(e){var t=Ut(this._getSurroundingAttributes()),n=Ut(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else{var i=!0,l=!1,r=void 0;try{for(var a,o=this._attributePriority[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=_slicedToArray(a.value,2),u=s[0];"low"==s[1]&&(this._attrs.delete(u),this._attributePriority.delete(u))}}catch(S){l=!0,r=S}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}this._setAttributesTo(t);var c=[],h=!0,d=!1,f=void 0;try{for(var p,v=this.getAttributes()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=_slicedToArray(p.value,2),m=g[0],y=g[1];n.has(m)&&n.get(m)===y||c.push(m)}}catch(S){d=!0,f=S}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}var b=!0,k=!1,_=void 0;try{for(var w,x=n[Symbol.iterator]();!(b=(w=x.next()).done);b=!0){var C=_slicedToArray(w.value,1)[0];this.hasAttribute(C)||c.push(C)}}catch(S){k=!0,_=S}finally{try{b||null==x.return||x.return()}finally{if(k)throw _}}c.length>0&&this.fire("change:attribute",{attributeKeys:c,directChange:!1})}},{key:"_setAttribute",value:function(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=i?"normal":"low";return("low"!=l||"normal"!=this._attributePriority.get(e))&&_get2(_getPrototypeOf2(t.prototype),"getAttribute",this).call(this,e)!==n&&(this._attrs.set(e,n),this._attributePriority.set(e,l),!0)}},{key:"_removeAttribute",value:function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=n?"normal":"low";return!("low"==i&&"normal"==this._attributePriority.get(e)||(this._attributePriority.set(e,i),!_get2(_getPrototypeOf2(t.prototype),"hasAttribute",this).call(this,e)||(this._attrs.delete(e),0)))}},{key:"_setAttributesTo",value:function(e){var t=new Set,n=!0,i=!1,l=void 0;try{for(var r,a=this.getAttributes()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=_slicedToArray(r.value,2),s=o[0],u=o[1];e.get(s)!==u&&this._removeAttribute(s,!1)}}catch(y){i=!0,l=y}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}var c=!0,h=!1,d=void 0;try{for(var f,p=e[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=_slicedToArray(f.value,2),g=v[0],m=v[1];this._setAttribute(g,m,!1)&&t.add(g)}}catch(y){h=!0,d=y}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}return t}},{key:"_getStoredAttributes",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getFirstPosition().parent,!this.isCollapsed||!t.isEmpty){e.next=30;break}n=!0,i=!1,l=void 0,e.prev=5,r=t.getAttributeKeys()[Symbol.iterator]();case 7:if(n=(a=r.next()).done){e.next=16;break}if(!(o=a.value).startsWith("selection:")){e.next=13;break}return s=o.substr("selection:".length),e.next=13,[s,t.getAttribute(o)];case 13:n=!0,e.next=7;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(5),i=!0,l=e.t0;case 22:e.prev=22,e.prev=23,n||null==r.return||r.return();case 25:if(e.prev=25,!i){e.next=28;break}throw l;case 28:return e.finish(25);case 29:return e.finish(22);case 30:case"end":return e.stop()}}),e,this,[[5,18,22,30],[23,,25,29]])}))},{key:"_getSurroundingAttributes",value:function(){var e=this.getFirstPosition(),t=this._model.schema,n=null;if(this.isCollapsed){var i=e.textNode?e.textNode:e.nodeBefore,l=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=wr(i)),n||(n=wr(l)),!this.isGravityOverridden&&!n)for(var r=i;r&&!n;)n=wr(r=r.previousSibling);if(!n)for(var a=l;a&&!n;)n=wr(a=a.nextSibling);n||(n=this._getStoredAttributes())}else{var o=this.getFirstRange(),s=!0,u=!1,c=void 0;try{for(var h,d=o[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;if(f.item.is("element")&&t.isObject(f.item))break;if("text"==f.type){n=f.item.getAttributes();break}}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}return n}},{key:"_fixGraveyardSelection",value:function(e,t){var n=t.clone(),i=this._model.schema.getNearestSelectionRange(n),l=this._ranges.indexOf(e);if(this._ranges.splice(l,1),e.detach(),i){var r=this._prepareRange(i);this._ranges.splice(l,0,r)}}},{key:"isCollapsed",get:function(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:_get2(_getPrototypeOf2(t.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return _get2(_getPrototypeOf2(t.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return _get2(_getPrototypeOf2(t.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}}]),t}(dr);function wr(e){return e instanceof er||e instanceof Jl?e.getAttributes():null}var xr=function(){function e(t){_classCallCheck2(this,e),this._dispatchers=t}return _createClass2(e,[{key:"add",value:function(e){var t=!0,n=!1,i=void 0;try{for(var l,r=this._dispatchers[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){e(l.value)}}catch(a){n=!0,i=a}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return this}}]),e}(),Cr=function(e){return ht(e,5)},Sr=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"elementToElement",value:function(e){return this.add(function(e){return(e=Cr(e)).view=Pr(e.view,"container"),function(t){var n;t.on("insert:"+e.model,(n=e.view,function(e,t,i){var l=n(t.item,i.writer);if(l&&i.consumable.consume(t.item,"insert")){var r=i.mapper.toViewPosition(t.range.start);i.mapper.bindElements(t.item,l),i.writer.insert(r,l)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToElement",value:function(e){return this.add(function(e){var t="attribute:"+((e=Cr(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n=!0,i=!1,l=void 0;try{for(var r,a=e.model.values[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;e.view[o]=Pr(e.view[o],"attribute")}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}else e.view=Pr(e.view,"attribute");var s=Mr(e);return function(n){n.on(t,function(e){return function(t,n,i){var l=e(n.attributeOldValue,i.writer),r=e(n.attributeNewValue,i.writer);if((l||r)&&i.consumable.consume(n.item,t.name)){var a=i.writer;if(n.item instanceof dr||n.item instanceof kr)a.wrap(a.document.selection.getFirstRange(),r);else{var o=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&l&&(o=a.unwrap(o,l)),null!==n.attributeNewValue&&r&&a.wrap(o,r)}}}}(s),{priority:e.converterPriority||"normal"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t="attribute:"+((e=Cr(e)).model.key?e.model.key:e.model);if(e.model.name&&(t+=":"+e.model.name),e.model.values){var n=!0,i=!1,l=void 0;try{for(var r,a=e.model.values[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;e.view[o]=Ar(e.view[o])}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}else e.view=Ar(e.view);var s=Mr(e);return function(n){var i;n.on(t,(i=s,function(e,t,n){var l=i(t.attributeOldValue,t),r=i(t.attributeNewValue,t);if((l||r)&&n.consumable.consume(t.item,e.name)){var a=n.mapper.toViewElement(t.item),o=n.writer;if(!a)throw new _t.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[t,n]);if(null!==t.attributeOldValue&&l)if("class"==l.key){var s=Array.isArray(l.value)?l.value:[l.value],c=!0,h=!1,d=void 0;try{for(var f,p=s[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;o.removeClass(v,a)}}catch(u){h=!0,d=u}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}else if("style"==l.key)for(var g=0,m=Object.keys(l.value);g<m.length;g++){var y=m[g];o.removeStyle(y,a)}else o.removeAttribute(l.key,a);if(null!==t.attributeNewValue&&r)if("class"==r.key){var b=Array.isArray(r.value)?r.value:[r.value],k=!0,_=!1,w=void 0;try{for(var x,C=b[Symbol.iterator]();!(k=(x=C.next()).done);k=!0){var S=x.value;o.addClass(S,a)}}catch(u){_=!0,w=u}finally{try{k||null==C.return||C.return()}finally{if(_)throw w}}}else if("style"==r.key)for(var T=0,P=Object.keys(r.value);T<P.length;T++){var M=P[T];o.setStyle(M,r.value[M],a)}else o.setAttribute(r.key,r.value,a)}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToElement",value:function(e){return this.add(function(e){return(e=Cr(e)).view=Pr(e.view,"ui"),function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,i){t.isOpening=!0;var l=n(t,i.writer);t.isOpening=!1;var r=n(t,i.writer);if(l&&r){var a=t.markerRange;if(!a.isCollapsed||i.consumable.consume(a,e.name)){var o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;if(!i.consumable.consume(d.item,e.name))return}}catch(v){s=!0,u=v}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}var f=i.mapper,p=i.writer;p.insert(f.toViewPosition(a.start),l),i.mapper.bindElementToMarker(l,t.markerName),a.isCollapsed||(p.insert(f.toViewPosition(a.end),r),i.mapper.bindElementToMarker(r,t.markerName)),e.stop()}}}),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,(function(e,t,n){var i=n.mapper.markerNameToElements(t.markerName);if(i){var l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;n.mapper.unbindElementFromMarkerName(u,t.markerName),n.writer.clear(n.writer.createRangeOn(u),u)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}},{key:"markerToHighlight",value:function(e){return this.add(function(e){return function(t){var n;t.on("addMarker:"+e.model,(n=e.view,function(e,t,i){if(t.item&&(t.item instanceof dr||t.item instanceof kr||t.item.is("textProxy"))){var l=Ir(n,t,i);if(l&&i.consumable.consume(t.item,e.name)){var r=i.writer,a=Tr(r,l),o=r.document.selection;if(t.item instanceof dr||t.item instanceof kr)r.wrap(o.getFirstRange(),a,o);else{var s=i.mapper.toViewRange(t.range),u=r.wrap(s,a),c=!0,h=!1,d=void 0;try{for(var f,p=u.getItems()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(v.is("attributeElement")&&v.isSimilar(a)){i.mapper.bindElementToMarker(v,t.markerName);break}}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}}}),{priority:e.converterPriority||"normal"}),t.on("addMarker:"+e.model,function(e){return function(t,n,i){if(n.item&&n.item instanceof nr){var l=Ir(e,n,i);if(l&&i.consumable.test(n.item,t.name)){var r=i.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(n.item,t.name);var a=!0,o=!1,s=void 0;try{for(var u,c=ar._createIn(n.item)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;i.consumable.consume(h.item,t.name)}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}r.getCustomProperty("addHighlight")(r,l,i.writer),i.mapper.bindElementToMarker(r,n.markerName)}}}}}(e.view),{priority:e.converterPriority||"normal"}),t.on("removeMarker:"+e.model,function(e){return function(t,n,i){if(!n.markerRange.isCollapsed){var l=Ir(e,n,i);if(l){var r=Tr(i.writer,l),a=i.mapper.markerNameToElements(n.markerName);if(a){var o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;i.mapper.unbindElementFromMarkerName(d,n.markerName),d.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(d),r):d.getCustomProperty("removeHighlight")(d,l.id,i.writer)}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}i.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}}]),t}(xr);function Tr(e,t){var n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),t.priority&&(n._priority=t.priority),n._id=t.id,n}function Pr(e,t){return"function"==typeof e?e:function(n,i){return function(e,t,n){var i;"string"==typeof e&&(e={name:e});var l=Object.assign({},e.attributes);if(i="container"==n?t.createContainerElement(e.name,l):"attribute"==n?t.createAttributeElement(e.name,l,{priority:e.priority||Qn.DEFAULT_PRIORITY}):t.createUIElement(e.name,l),e.styles)for(var r=0,a=Object.keys(e.styles);r<a.length;r++){var o=a[r];t.setStyle(o,e.styles[o],i)}if(e.classes){var s=e.classes;if("string"==typeof s)t.addClass(s,i);else{var u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;t.addClass(p,i)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}return i}(e,i,t)}}function Mr(e){return e.model.values?function(t,n){var i=e.view[t];return i?i(t,n):null}:e.view}function Ar(e){return"string"==typeof e?function(t){return{key:e,value:t}}:"object"==typeof e?e.value?function(){return e}:function(t){return{key:e.key,value:t}}:e}function Ir(e,t,n){var i="function"==typeof e?e(t,n):e;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}var Er=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"elementToElement",value:function(e){return this.add(Dr(e))}},{key:"elementToAttribute",value:function(e){return this.add(function(e){Fr(e=Cr(e));var t=Rr(e,!1),n=Or(e.view),i=n?"element:"+n:"element";return function(n){n.on(i,t,{priority:e.converterPriority||"low"})}}(e))}},{key:"attributeToAttribute",value:function(e){return this.add(function(e){var t=null;("string"==typeof(e=Cr(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});var t,n=e.view.key;return t="class"==n||"style"==n?_defineProperty2({},"class"==n?"classes":"styles",e.view.value):{attributes:_defineProperty2({},n,void 0===e.view.value?/[\s\S]*/:e.view.value)},e.view.name&&(t.name=e.view.name),e.view=t,n}(e)),Fr(e,t);var n=Rr(e,!0);return function(t){t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}},{key:"elementToMarker",value:function(e){return this.add(function(e){return function(e){var t=e.model;e.model=function(e,n){var i="string"==typeof t?t:t(e);return n.createElement("$marker",{"data-name":i})}}(e=Cr(e)),Dr(e)}(e))}}]),t}(xr);function Dr(e){var t=function(e){var t=e.view?new Yt(e.view):null;return function(n,i,l){var r={};if(t){var a=t.match(i.viewItem);if(!a)return;r=a.match}r.name=!0;var o,s,u=(s=l.writer,(o=e.model)instanceof Function?o(i.viewItem,s):s.createElement(o));if(u&&l.consumable.test(i.viewItem,r)){var c=l.splitToAllowedParent(u,i.modelCursor);if(c){l.writer.insert(u,c.position),l.convertChildren(i.viewItem,l.writer.createPositionAt(u,0)),l.consumable.consume(i.viewItem,r);var h=l.getSplitParts(u);i.modelRange=new ar(l.writer.createPositionBefore(u),l.writer.createPositionAfter(h[h.length-1])),i.modelCursor=c.cursorParent?l.writer.createPositionAt(c.cursorParent,0):i.modelRange.end}}}}(e=Cr(e)),n=Or(e.view),i=n?"element:"+n:"element";return function(n){n.on(i,t,{priority:e.converterPriority||"normal"})}}function Or(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function Fr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null===t||function(e){return e.getAttribute(t)};e.model={key:"object"!=typeof e.model?e.model:e.model.key,value:"object"!=typeof e.model||void 0===e.model.value?n:e.model.value}}function Rr(e,t){var n=new Yt(e.view);return function(i,l,r){var a=n.match(l.viewItem);if(a){var o=e.model.key,s="function"==typeof e.model.value?e.model.value(l.viewItem):e.model.value;null!==s&&(function(e,t){var n="function"==typeof e?e(t):e;return!("object"==typeof n&&!Or(n)||n.classes||n.attributes||n.styles)}(e.view,l.viewItem)?a.match.name=!0:delete a.match.name,r.consumable.test(l.viewItem,a.match)&&(l.modelRange||(l=Object.assign(l,r.convertChildren(l.viewItem,l.modelCursor))),function(e,t,n,i){for(var l=!1,r=0,a=Array.from(e.getItems({shallow:n}));r<a.length;r++){var o=a[r];i.schema.checkAttribute(o,t.key)&&(i.writer.setAttribute(t.key,t.value,o),l=!0)}return l}(l.modelRange,{key:o,value:s},t,r)&&r.consumable.consume(l.viewItem,a.match)))}}}var Nr=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.model=t,this.view=new Zl(n),this.mapper=new or,this.downcastDispatcher=new cr({mapper:this.mapper});var l=this.model.document,r=l.selection,a=this.model.markers;this.listenTo(this.model,"_beforeChanges",(function(){i.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(function(){i.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(l,"change",(function(){i.view.change((function(e){i.downcastDispatcher.convertChanges(l.differ,a,e),i.downcastDispatcher.convertSelection(r,a,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return function(n,i){var l=i.newSelection,r=new dr,a=[],o=!0,s=!1,u=void 0;try{for(var c,h=l.getRanges()[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;a.push(t.toModelRange(d))}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}r.setTo(a,{backward:l.isBackward}),r.isEqual(e.document.selection)||e.change((function(e){e.setSelection(r)}))}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var i=n.writer,l=n.mapper.toViewPosition(t.range.start),r=i.createText(t.item.data);i.insert(l,r)}}),{priority:"lowest"}),this.downcastDispatcher.on("remove",(function(e,t,n){var i=n.mapper.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),r=n.mapper.toViewPosition(l,{isPhantom:!0}),a=n.writer.createRange(i,r),o=n.writer.remove(a.getTrimmed()),s=!0,u=!1,c=void 0;try{for(var h,d=n.writer.createRangeIn(o).getItems()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;n.mapper.unbindViewElement(f)}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=n.writer,l=i.document.selection,r=!0,a=!1,o=void 0;try{for(var s,u=l.getRanges()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;c.isCollapsed&&c.end.parent.isAttached()&&n.writer.mergeAttributes(c.start)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}i.setSelection(null)}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=t.selection;if(!i.isCollapsed&&n.consumable.consume(i,"selection")){var l=[],r=!0,a=!1,o=void 0;try{for(var s,u=i.getRanges()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=n.mapper.toViewRange(c);l.push(h)}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}n.writer.setSelection(l,{backward:i.isBackward})}}),{priority:"low"}),this.downcastDispatcher.on("selection",(function(e,t,n){var i=t.selection;if(i.isCollapsed&&n.consumable.consume(i,"selection")){var l=n.writer,r=i.getFirstPosition(),a=n.mapper.toViewPosition(r),o=l.breakAttributes(a);l.setSelection(o)}}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((function(e){if("$graveyard"==e.rootName)return null;var t=new Wn(i.view.document,e.name);return t.rootName=e.rootName,i.mapper.bindElements(e,t),t}))}return _createClass2(e,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),e}();Et(Nr,Rn);var Lr=function(){function e(){_classCallCheck2(this,e),this._commands=new Map}return _createClass2(e,[{key:"add",value:function(e,t){this._commands.set(e,t)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var t=this.get(e);if(!t)throw new _t.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});for(var n=arguments.length,i=new Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];t.execute.apply(t,i)}},{key:"names",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"commands",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this.commands()[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){i.value.destroy()}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}}]),e}(),Br=function(){function e(){_classCallCheck2(this,e),this._consumables=new Map}return _createClass2(e,[{key:"add",value:function(e,t){var n;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new Vr(e),this._consumables.set(e,n)),n.add(t))}},{key:"test",value:function(e,t){var n=this._consumables.get(e);return void 0===n?null:e.is("text")||e.is("documentFragment")?n:n.test(t)}},{key:"consume",value:function(e,t){return!!this.test(e,t)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}},{key:"revert",value:function(e,t){var n=this._consumables.get(e);void 0!==n&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}}],[{key:"consumablesFromElement",value:function(e){var t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys(),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;"style"!=s&&"class"!=s&&t.attributes.push(s)}}catch(x){l=!0,r=x}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}var u=e.getClassNames(),c=!0,h=!1,d=void 0;try{for(var f,p=u[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;t.classes.push(v)}}catch(x){h=!0,d=x}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}var g=e.getStyleNames(),m=!0,y=!1,b=void 0;try{for(var k,_=g[Symbol.iterator]();!(m=(k=_.next()).done);m=!0){var w=k.value;t.styles.push(w)}}catch(x){y=!0,b=x}finally{try{m||null==_.return||_.return()}finally{if(y)throw b}}return t}},{key:"createFrom",value:function(t,n){if(n||(n=new e(t)),t.is("text"))return n.add(t),n;t.is("element")&&n.add(t,e.consumablesFromElement(t)),t.is("documentFragment")&&n.add(t);var i=!0,l=!1,r=void 0;try{for(var a,o=t.getChildren()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;n=e.createFrom(s,n)}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}}]),e}(),Vr=function(){function e(t){_classCallCheck2(this,e),this.element=t,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return _createClass2(e,[{key:"add",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._add(t,e[t])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var t in this._consumables)if(t in e){var n=this._test(t,e[t]);if(!0!==n)return n}return!0}},{key:"consume",value:function(e){for(var t in e.name&&(this._canConsumeName=!1),this._consumables)t in e&&this._consume(t,e[t])}},{key:"revert",value:function(e){for(var t in e.name&&(this._canConsumeName=!0),this._consumables)t in e&&this._revert(t,e[t])}},{key:"_add",value:function(e,t){var n=se(t)?t:[t],i=this._consumables[e],l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("attributes"===e&&("class"===u||"style"===u))throw new _t.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(i.set(u,!0),"styles"===e){var c=!0,h=!1,d=void 0;try{for(var f,p=this.element.document.stylesProcessor.getRelatedStyles(u)[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;i.set(v,!0)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}}catch(g){r=!0,a=g}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}},{key:"_test",value:function(e,t){var n=se(t)?t:[t],i=this._consumables[e],l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("attributes"!==e||"class"!==u&&"style"!==u){var c=i.get(u);if(void 0===c)return null;if(!c)return!1}else{var h="class"==u?"classes":"styles",d=this._test(h,_toConsumableArray(this._consumables[h].keys()));if(!0!==d)return d}}}catch(f){r=!0,a=f}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return!0}},{key:"_consume",value:function(e,t){var n=se(t)?t:[t],i=this._consumables[e],l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("attributes"!==e||"class"!==u&&"style"!==u){if(i.set(u,!1),"styles"==e){var c=!0,h=!1,d=void 0;try{for(var f,p=this.element.document.stylesProcessor.getRelatedStyles(u)[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;i.set(v,!1)}}catch(m){h=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}else{var g="class"==u?"classes":"styles";this._consume(g,_toConsumableArray(this._consumables[g].keys()))}}}catch(m){r=!0,a=m}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}},{key:"_revert",value:function(e,t){var n=se(t)?t:[t],i=this._consumables[e],l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("attributes"!==e||"class"!==u&&"style"!==u)!1===i.get(u)&&i.set(u,!0);else{var c="class"==u?"classes":"styles";this._revert(c,_toConsumableArray(this._consumables[c].keys()))}}}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}}]),e}(),zr=function(){function e(){var t=this;_classCallCheck2(this,e),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(function(e,t){t[0]=new jr(t[0])}),{priority:"highest"}),this.on("checkChild",(function(e,n){n[0]=new jr(n[0]),n[1]=t.getDefinition(n[1])}),{priority:"highest"})}return _createClass2(e,[{key:"register",value:function(e,t){if(this._sourceDefinitions[e])throw new _t.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}},{key:"extend",value:function(e,t){if(!this._sourceDefinitions[e])throw new _t.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var t;return t="string"==typeof e?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[t]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isBlock)}},{key:"isLimit",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isLimit&&!t.isObject)}},{key:"isObject",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isObject)}},{key:"isInline",value:function(e){var t=this.getDefinition(e);return!(!t||!t.isInline)}},{key:"checkChild",value:function(e,t){return!!t&&this._checkContextMatch(t,e)}},{key:"checkAttribute",value:function(e,t){var n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}},{key:"checkMerge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e instanceof rr){var n=e.nodeBefore,i=e.nodeAfter;if(!(n instanceof nr))throw new _t.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(i instanceof nr))throw new _t.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(n,i)}var l=!0,r=!1,a=void 0;try{for(var o,s=t.getChildren()[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if(!this.checkChild(e,u))return!1}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",(function(t,n){var i=_slicedToArray(n,2),l=i[0],r=i[1];if(r){var a=e(l,r);"boolean"==typeof a&&(t.stop(),t.return=a)}}),{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",(function(t,n){var i=_slicedToArray(n,2),l=i[0],r=i[1],a=e(l,r);"boolean"==typeof a&&(t.stop(),t.return=a)}),{priority:"high"})}},{key:"setAttributeProperties",value:function(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var t;for(t=e instanceof rr?e.parent:(e instanceof ar?[e]:Array.from(e.getRanges())).reduce((function(e,t){var n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}},{key:"checkAttributeInSelection",value:function(e,t){if(e.isCollapsed){var n=[].concat(_toConsumableArray(e.getFirstPosition().getAncestors()),[new Jl("",e.getAttributes())]);return this.checkAttribute(n,t)}var i=e.getRanges(),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=!0,h=!1,d=void 0;try{for(var f,p=u[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(this.checkAttribute(v.item,t))return!0}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}catch(g){r=!0,a=g}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return!1}},{key:"getValidRanges",value:regeneratorRuntime.mark((function e(t,n){var i,l,r,a,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=regeneratorRuntime.mark((function e(t){var n,i,l,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,l=void 0,e.prev=3,r=t[Symbol.iterator]();case 5:if(n=(a=r.next()).done){e.next=11;break}return o=a.value,e.delegateYield(o.getMinimalFlatRanges(),"t0",8);case 8:n=!0,e.next=5;break;case 11:e.next=17;break;case 13:e.prev=13,e.t1=e.catch(3),i=!0,l=e.t1;case 17:e.prev=17,e.prev=18,n||null==r.return||r.return();case 20:if(e.prev=20,!i){e.next=23;break}throw l;case 23:return e.finish(20);case 24:return e.finish(17);case 25:case"end":return e.stop()}}),e,null,[[3,13,17,25],[18,,20,24]])}))(t),i=!0,l=!1,r=void 0,e.prev=4,a=t[Symbol.iterator]();case 6:if(i=(o=a.next()).done){e.next=12;break}return s=o.value,e.delegateYield(this._getValidRangesForRange(s,n),"t0",9);case 9:i=!0,e.next=6;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(4),l=!0,r=e.t1;case 18:e.prev=18,e.prev=19,i||null==a.return||a.return();case 21:if(e.prev=21,!l){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[4,14,18,26],[19,,21,25]])}))},{key:"getNearestSelectionRange",value:function(e){var t,n,i=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if(this.checkChild(e,"$text"))return new ar(e);var r=e.getAncestors().reverse().find((function(e){return i.isLimit(e)}))||e.root;"both"!=l&&"backward"!=l||(t=new ir({boundaries:ar._createIn(r),startPosition:e,direction:"backward"})),"both"!=l&&"forward"!=l||(n=new ir({boundaries:ar._createIn(r),startPosition:e}));var a=!0,o=!1,s=void 0;try{for(var u,c=regeneratorRuntime.mark((function e(t,n){var i,l,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1;case 1:if(i){e.next=18;break}if(i=!0,!t){e.next=9;break}if(l=t.next(),e.t0=l.done,e.t0){e.next=9;break}return i=!1,e.next=9,{walker:t,value:l.value};case 9:if(!n){e.next=16;break}if(r=n.next(),e.t1=r.done,e.t1){e.next=16;break}return i=!1,e.next=16,{walker:n,value:r.value};case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e)}))(t,n)[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value,d=h.value;if(d.type==(h.walker==t?"elementEnd":"elementStart")&&this.isObject(d.item))return ar._createOn(d.item);if(this.checkChild(d.nextPosition,"$text"))return new ar(d.nextPosition)}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return null}},{key:"findAllowedParent",value:function(e,t){for(var n=e.parent;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.is("text"))Qr(this,o,t);else{var s=ar._createIn(o).getPositions(),u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;Qr(this,p.nodeBefore||p.parent,t)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}}catch(v){i=!0,l=v}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}},{key:"createContext",value:function(e){return new jr(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},t=this._sourceDefinitions,n=Object.keys(t),i=0,l=n;i<l.length;i++){var r=l[i];e[r]=Hr(t[r],r)}for(var a=0,o=n;a<o.length;a++){Wr(e,o[a])}for(var s=0,u=n;s<u.length;s++){Ur(e,u[s])}for(var c=0,h=n;c<h.length;c++){var d=h[c];Yr(e,d),qr(e,d)}for(var f=0,p=n;f<p.length;f++){var v=p[f];Gr(e,v),Xr(e,v)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,i=t.getItem(n);if(e.allowIn.includes(i.name)){if(0==n)return!0;var l=this.getDefinition(i);return this._checkContextMatch(l,t,n-1)}return!1}},{key:"_getValidRangesForRange",value:regeneratorRuntime.mark((function e(t,n){var i,l,r,a,o,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=t.start,l=t.start,r=!0,a=!1,o=void 0,e.prev=4,s=t.getItems({shallow:!0})[Symbol.iterator]();case 6:if(r=(u=s.next()).done){e.next=22;break}if(c=u.value,e.t0=c.is("element"),!e.t0){e.next=11;break}return e.delegateYield(this._getValidRangesForRange(ar._createIn(c),n),"t1",11);case 11:if(e.t2=this.checkAttribute(c,n),e.t2){e.next=18;break}if(e.t3=i.isEqual(l),e.t3){e.next=17;break}return e.next=17,new ar(i,l);case 17:i=rr._createAfter(c);case 18:l=rr._createAfter(c);case 19:r=!0,e.next=6;break;case 22:e.next=28;break;case 24:e.prev=24,e.t4=e.catch(4),a=!0,o=e.t4;case 28:e.prev=28,e.prev=29,r||null==s.return||s.return();case 31:if(e.prev=31,!a){e.next=34;break}throw o;case 34:return e.finish(31);case 35:return e.finish(28);case 36:if(e.t5=i.isEqual(l),e.t5){e.next=40;break}return e.next=40,new ar(i,l);case 40:case"end":return e.stop()}}),e,this,[[4,24,28,36],[29,,31,35]])}))}]),e}();Et(zr,Rn);var jr=function(){function e(t){if(_classCallCheck2(this,e),t instanceof e)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Zr)}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(t){var n=new e([t]);return n._items=[].concat(_toConsumableArray(this._items),_toConsumableArray(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._items.map((function(e){return e.name})),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}},{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}}]),e}();function Hr(e,t){var n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=Object.keys(o).filter((function(e){return e.startsWith("is")})),u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;t[p]=o[p]}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}catch(v){i=!0,l=v}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}(e,n),Kr(e,n,"allowIn"),Kr(e,n,"allowContentOf"),Kr(e,n,"allowWhere"),Kr(e,n,"allowAttributes"),Kr(e,n,"allowAttributesOf"),Kr(e,n,"inheritTypesFrom"),function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value.inheritAllFrom;o&&(t.allowContentOf.push(o),t.allowWhere.push(o),t.allowAttributesOf.push(o),t.inheritTypesFrom.push(o))}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}(e,n),n}function Wr(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[t].allowContentOf[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;e[o]&&$r(e,o).forEach((function(e){e.allowIn.push(t)}))}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}delete e[t].allowContentOf}function Ur(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[t].allowWhere[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o,s=e[r.value];s&&(o=e[t].allowIn).push.apply(o,_toConsumableArray(s.allowIn))}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}delete e[t].allowWhere}function Yr(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[t].allowAttributesOf[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o,s=e[r.value];s&&(o=e[t].allowAttributes).push.apply(o,_toConsumableArray(s.allowAttributes))}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}delete e[t].allowAttributesOf}function qr(e,t){var n=e[t],i=!0,l=!1,r=void 0;try{for(var a,o=n.inheritTypesFrom[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=e[a.value];if(s){var u=Object.keys(s).filter((function(e){return e.startsWith("is")})),c=!0,h=!1,d=void 0;try{for(var f,p=u[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;v in n||(n[v]=s[v])}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}}catch(g){l=!0,r=g}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}delete n.inheritTypesFrom}function Gr(e,t){var n=e[t],i=n.allowIn.filter((function(t){return e[t]}));n.allowIn=Array.from(new Set(i))}function Xr(e,t){var n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Kr(e,t,n){var i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s,u=a.value;"string"==typeof u[n]?t[n].push(u[n]):Array.isArray(u[n])&&(s=t[n]).push.apply(s,_toConsumableArray(u[n]))}}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}function $r(e,t){var n,i=e[t];return(n=e,Object.keys(n).map((function(e){return n[e]}))).filter((function(e){return e.allowIn.includes(i.name)}))}function Zr(e){return"string"==typeof e?{name:e,getAttributeKeys:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})),getAttribute:function(){}}:{name:e.is("element")?e.name:"$text",getAttributeKeys:regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(e.getAttributeKeys(),"t0",1);case 1:case"end":return t.stop()}}),t)})),getAttribute:function(t){return e.getAttribute(t)}}}function Qr(e,t,n){var i=!0,l=!1,r=void 0;try{for(var a,o=t.getAttributeKeys()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;e.checkAttribute(t,s)||n.removeAttribute(s,t)}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}var Jr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,e),this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return _createClass2(e,[{key:"convert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){var n,i=!0,l=!1,r=void 0;try{for(var a,o=new jr(e)[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u={},c=!0,h=!1,d=void 0;try{for(var f,p=s.getAttributeKeys()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;u[v]=s.getAttribute(v)}}catch(m){h=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}var g=t.createElement(s.name,u);n&&t.append(g,n),n=rr._createAt(g,0)}}catch(m){l=!0,r=m}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=Br.createFrom(e),this.conversionApi.store={};var i=this._convertItem(e,this._modelCursor),l=i.modelRange,r=t.createDocumentFragment();if(l){this._removeEmptyElements();for(var a=0,o=Array.from(this._modelCursor.parent.getChildren());a<o.length;a++){var s=o[a];t.append(s,r)}r.markers=function(e,t){var n=new Set,i=new Map,l=ar._createIn(e).getItems(),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;"$marker"==c.name&&n.add(c)}}catch(b){a=!0,o=b}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}var h=!0,d=!1,f=void 0;try{for(var p,v=n[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value,m=g.getAttribute("data-name"),y=t.createPositionBefore(g);i.has(m)?i.get(m).end=y.clone():i.set(m,new ar(y.clone())),t.remove(g)}}catch(b){d=!0,f=b}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}return i}(r,t)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,r}},{key:"_convertItem",value:function(e,t){var n=Object.assign({viewItem:e,modelCursor:t,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,n,this.conversionApi):e.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof ar))throw new _t.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}},{key:"_convertChildren",value:function(e,t){for(var n=new ar(t),i=t,l=0,r=Array.from(e.getChildren());l<r.length;l++){var a=r[l],o=this._convertItem(a,i);o.modelRange instanceof ar&&(n.end=o.modelRange.end,i=o.modelCursor)}return{modelRange:n,modelCursor:i}}},{key:"_splitToAllowedParent",value:function(e,t){var n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===t.parent)return{position:t};if(this._modelCursor.parent.getAncestors().includes(n))return null;var i=this.conversionApi.writer.split(t,n),l=[],r=!0,a=!1,o=void 0;try{for(var s,u=i.range.getWalker()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if("elementEnd"==c.type)l.push(c.item);else{var h=l.pop();this._registerSplitPair(h,c.item)}}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return{position:i.position,cursorParent:i.range.end.parent}}},{key:"_registerSplitPair",value:function(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);var n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}},{key:"_getSplitParts",value:function(e){return this._splitParts.has(e)?this._splitParts.get(e):[e]}},{key:"_removeEmptyElements",value:function(){var e=!1,t=!0,n=!1,i=void 0;try{for(var l,r=this._splitParts.keys()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;a.isEmpty&&(this.conversionApi.writer.remove(a),this._splitParts.delete(a),e=!0)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}e&&this._removeEmptyElements()}}]),e}();Et(Jr,Ct);var ea=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.model=t,this.stylesProcessor=n,this.mapper=new or,this.downcastDispatcher=new cr({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(function(e,t,n){if(n.consumable.consume(t.item,"insert")){var i=n.writer,l=n.mapper.toViewPosition(t.range.start),r=i.createText(t.item.data);i.insert(l,r)}}),{priority:"lowest"}),this.upcastDispatcher=new Jr({schema:t.schema}),this.viewDocument=new Zn(n),this._viewWriter=new vi(this.viewDocument),this.upcastDispatcher.on("text",(function(e,t,n){if(n.schema.checkChild(t.modelCursor,"$text")&&n.consumable.consume(t.viewItem)){var i=n.writer.createText(t.viewItem.data);n.writer.insert(i,t.modelCursor),t.modelRange=ar._createFromPositionAndShift(t.modelCursor,i.offsetSize),t.modelCursor=t.modelRange.end}}),{priority:"lowest"}),this.upcastDispatcher.on("element",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var i=n.convertChildren(t.viewItem,t.modelCursor),l=i.modelRange,r=i.modelCursor;t.modelRange=l,t.modelCursor=r}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(function(e,t,n){if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){var i=n.convertChildren(t.viewItem,t.modelCursor),l=i.modelRange,r=i.modelCursor;t.modelRange=l,t.modelCursor=r}}),{priority:"lowest"}),this.decorate("init"),this.on("init",(function(){i.fire("ready")}),{priority:"lowest"})}return _createClass2(e,[{key:"get",value:function(e){var t=e||{},n=t.rootName,i=void 0===n?"main":n,l=t.trim,r=void 0===l?"empty":l;if(!this._checkIfRootsExists([i]))throw new _t.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);var a=this.model.document.getRoot(i);return"empty"!==r||this.model.hasContent(a,{ignoreWhitespaces:!0})?this.stringify(a):""}},{key:"stringify",value:function(e){var t=this.toView(e);return this.processor.toData(t)}},{key:"toView",value:function(e){var t=this.viewDocument,n=this._viewWriter;this.mapper.clearBindings();var i=ar._createIn(e),l=new pi(t);if(this.mapper.bindElements(e,l),this.downcastDispatcher.convertInsert(i,n),!e.is("documentFragment")){var r=function(e){var t=[],n=e.root.document;if(!n)return[];var i=ar._createIn(e),l=!0,r=!1,a=void 0;try{for(var o,s=n.model.markers[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=i.getIntersection(u.getRange());c&&t.push([u.name,c])}}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return t}(e),a=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=_slicedToArray(u.value,2),d=h[0],f=h[1];this.downcastDispatcher.convertMarkerAdd(d,f,n)}}catch(p){o=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}return l}},{key:"init",value:function(e){var t=this;if(this.model.document.version)throw new _t.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);var n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new _t.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",(function(e){for(var i=0,l=Object.keys(n);i<l.length;i++){var r=l[i],a=t.model.document.getRoot(r);e.insert(t.parse(n[r],a),a,0)}})),Promise.resolve()}},{key:"set",value:function(e){var t=this,n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new _t.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",(function(e){e.setSelection(null),e.removeSelectionAttribute(t.model.document.selection.getAttributeKeys());for(var i=0,l=Object.keys(n);i<l.length;i++){var r=l[i],a=t.model.document.getRoot(r);e.remove(e.createRangeIn(a)),e.insert(t.parse(n[r],a),a,0)}}))}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root",n=this.processor.toView(e);return this.toModel(n,t)}},{key:"toModel",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((function(i){return t.upcastDispatcher.convert(e,i,n)}))}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if(!this.model.document.getRootNames().includes(a))return!1}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!0}}]),e}();Et(ea,Rn);var ta=function(){function e(t,n){_classCallCheck2(this,e),this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(n)?n:[n],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return _createClass2(e,[{key:"addAlias",value:function(e,t){var n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new _t.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new _t.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var t=!0,n=!1,i=void 0;try{for(var l,r=na(e)[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value,o=a.model,s=a.view;this.for("upcast").elementToElement({model:o,view:s,converterPriority:e.converterPriority})}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var t=!0,n=!1,i=void 0;try{for(var l,r=na(e)[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value,o=a.model,s=a.view;this.for("upcast").elementToAttribute({view:s,model:o,converterPriority:e.converterPriority})}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var t=!0,n=!1,i=void 0;try{for(var l,r=na(e)[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value,o=a.model,s=a.view;this.for("upcast").attributeToAttribute({view:s,model:o})}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"_createConversionHelpers",value:function(e){var t=e.name,n=e.dispatchers,i=e.isDowncast;if(this._helpers.has(t))throw new _t.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);var l=i?new Sr(n):new Er(n);this._helpers.set(t,l)}}]),e}();function na(e){var t,n,l,r,a,o,s,u,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.model.values){i.next=29;break}t=!0,n=!1,l=void 0,i.prev=4,r=e.model.values[Symbol.iterator]();case 6:if(t=(a=r.next()).done){i.next=13;break}return o=a.value,s={key:e.model.key,value:o},u=e.view[o],c=e.upcastAlso?e.upcastAlso[o]:void 0,i.delegateYield(ia(s,u,c),"t0",10);case 10:t=!0,i.next=6;break;case 13:i.next=19;break;case 15:i.prev=15,i.t1=i.catch(4),n=!0,l=i.t1;case 19:i.prev=19,i.prev=20,t||null==r.return||r.return();case 22:if(i.prev=22,!n){i.next=25;break}throw l;case 25:return i.finish(22);case 26:return i.finish(19);case 27:i.next=30;break;case 29:return i.delegateYield(ia(e.model,e.view,e.upcastAlso),"t2",30);case 30:case"end":return i.stop()}}),i,null,[[4,15,19,27],[20,,22,26]])}function ia(e,t,n){var i,r,a,o,s,u;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,{model:e,view:t};case 2:if(!n){l.next=30;break}n=Array.isArray(n)?n:[n],i=!0,r=!1,a=void 0,l.prev=7,o=n[Symbol.iterator]();case 9:if(i=(s=o.next()).done){l.next=16;break}return u=s.value,l.next=13,{model:e,view:u};case 13:i=!0,l.next=9;break;case 16:l.next=22;break;case 18:l.prev=18,l.t0=l.catch(7),r=!0,a=l.t0;case 22:l.prev=22,l.prev=23,i||null==o.return||o.return();case 25:if(l.prev=25,!r){l.next=28;break}throw a;case 28:return l.finish(25);case 29:return l.finish(22);case 30:case"end":return l.stop()}}),l,null,[[7,18,22,30],[23,,25,29]])}var la=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";_classCallCheck2(this,e),this.operations=[],this.type=t}return _createClass2(e,[{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}},{key:"baseVersion",get:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this.operations[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=i.value;if(null!==r.baseVersion)return r.baseVersion}}catch(a){t=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}return null}}]),e}(),ra=function(){function e(t){_classCallCheck2(this,e),this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}return _createClass2(e,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"fromJSON",value:function(e){return new this(e.baseVersion)}},{key:"className",get:function(){return"Operation"}}]),e}(),aa=function(){function e(t){_classCallCheck2(this,e),this.markers=new Map,this._children=new tr,t&&this._insertChild(0,t)}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"is",value:function(e){return"documentFragment"==e||"model:documentFragment"==e}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var t=this,n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t=t.getChild(t.offsetToIndex(o))}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var l,r=this._children[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e.push(a.toJSON())}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,t){var n=function(e){return"string"==typeof e?[new Jl(e)]:(Wt(e)||(e=[e]),Array.from(e).map((function(e){return"string"==typeof e?new Jl(e):e instanceof er?new Jl(e.data,e.getAttributes()):e})))}(t),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;null!==s.parent&&s._remove(),s.parent=this}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}this._children._insertNodes(e,n)}},{key:"_removeChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._children._removeNodes(e,t),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;s.parent=null}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return 0===this.childCount}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}}],[{key:"fromJSON",value:function(t){var n=[],i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;n.push(s.name?nr.fromJSON(s):Jl.fromJSON(s))}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return new e(n)}}]),e}();function oa(e,t){var n=(t=ca(t)).reduce((function(e,t){return e+t.offsetSize}),0),i=e.parent;da(e);var l=e.index;return i._insertChild(l,t),ha(i,l+t.length),ha(i,l),new ar(e,e.getShiftedBy(n))}function sa(e){if(!e.isFlat)throw new _t.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);var t=e.start.parent;da(e.start),da(e.end);var n=t._removeChildren(e.start.index,e.end.index-e.start.index);return ha(t,e.start.index),n}function ua(e,t){if(!e.isFlat)throw new _t.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);var n=sa(e);return oa(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function ca(e){var t=[];e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++)if("string"==typeof e[n])t.push(new Jl(e[n]));else if(e[n]instanceof er)t.push(new Jl(e[n].data,e[n].getAttributes()));else if(e[n]instanceof aa||e[n]instanceof tr){var i=!0,l=!1,r=void 0;try{for(var a,o=e[n][Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;t.push(s)}}catch(d){l=!0,r=d}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}else e[n]instanceof Ql&&t.push(e[n]);for(var u=1;u<t.length;u++){var c=t[u],h=t[u-1];c instanceof Jl&&h instanceof Jl&&fa(c,h)&&(t.splice(u-1,2,new Jl(h.data+c.data,h.getAttributes())),u--)}return t}function ha(e,t){var n=e.getChild(t-1),i=e.getChild(t);if(n&&i&&n.is("text")&&i.is("text")&&fa(n,i)){var l=new Jl(n.data+i.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,l)}}function da(e){var t=e.textNode,n=e.parent;if(t){var i=e.offset-t.startOffset,l=t.index;n._removeChildren(l,1);var r=new Jl(t.data.substr(0,i),t.getAttributes()),a=new Jl(t.data.substr(i),t.getAttributes());n._insertChild(l,[r,a])}}function fa(e,t){var n=e.getAttributes(),i=t.getAttributes(),l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if(u[1]!==t.getAttribute(u[0]))return!1;i.next()}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return i.next().done}var pa=function(e,t){return pl(e,t)},va=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,r))).range=e.clone(),a.key=n,a.oldValue=void 0===i?null:i,a.newValue=void 0===l?null:l,a}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.range=this.range.toJSON(),e}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new _t.b("attribute-operation-range-not-flat: The range to change is not flat.",this);var e=!0,t=!1,n=void 0;try{for(var i,l=this.range.getItems({shallow:!0})[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=i.value;if(null!==this.oldValue&&!pa(r.getAttribute(this.key),this.oldValue))throw new _t.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:r,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&r.hasAttribute(this.key))throw new _t.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:r,key:this.key})}}catch(a){t=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}},{key:"_execute",value:function(){pa(this.oldValue,this.newValue)||function(e,t,n){da(e.start),da(e.end);var i=!0,l=!1,r=void 0;try{for(var a,o=e.getItems({shallow:!0})[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u=s.is("textProxy")?s.textNode:s;null!==n?u._setAttribute(t,n):u._removeAttribute(t),ha(u.parent,u.index)}}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}ha(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}},{key:"type",get:function(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}}],[{key:"fromJSON",value:function(e,n){return new t(ar.fromJSON(e.range,n),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"AttributeOperation"}}]),t}(ra),ga=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,null))).sourcePosition=e.clone(),i.howMany=n,i}return _inherits(t,e),_createClass2(t,[{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new _t.b("detach-operation-on-document-node: Cannot detach document node.",this)}},{key:"_execute",value:function(){sa(ar._createFromPositionAndShift(this.sourcePosition,this.howMany))}},{key:"type",get:function(){return"detach"}}],[{key:"className",get:function(){return"DetachOperation"}}]),t}(ra),ma=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,l))).sourcePosition=e.clone(),r.sourcePosition.stickiness="toNext",r.howMany=n,r.targetPosition=i.clone(),r.targetPosition.stickiness="toNone",r}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new _t.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(e===t&&n<i&&i<n+this.howMany)throw new _t.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==Bt(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){var l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=n&&this.targetPosition.path[l]<n+this.howMany)throw new _t.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}},{key:"_execute",value:function(){ua(ar._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}},{key:"type",get:function(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}}],[{key:"fromJSON",value:function(e,t){var n=rr.fromJSON(e.sourcePosition,t),i=rr.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}},{key:"className",get:function(){return"MoveOperation"}}]),t}(ra),ya=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,i))).position=e.clone(),l.position.stickiness="toNone",l.nodes=new tr(ca(n)),l.shouldReceiveAttributes=!1,l}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){var e=new tr(_toConsumableArray(this.nodes).map((function(e){return e._clone(!0)}))),n=new t(this.position,e,this.baseVersion);return n.shouldReceiveAttributes=this.shouldReceiveAttributes,n}},{key:"getReversed",value:function(){var e=new rr(this.position.root.document.graveyard,[0]);return new ma(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new _t.b("insert-operation-position-invalid: Insertion position is invalid.",this)}},{key:"_execute",value:function(){var e=this.nodes;this.nodes=new tr(_toConsumableArray(e).map((function(e){return e._clone(!0)}))),oa(this.position,e)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}},{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}}],[{key:"fromJSON",value:function(e,n){var i=[],l=!0,r=!1,a=void 0;try{for(var o,s=e.nodes[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;i.push(u.name?nr.fromJSON(u):Jl.fromJSON(u))}}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}var c=new t(rr.fromJSON(e.position,n),i,e.baseVersion);return c.shouldReceiveAttributes=e.shouldReceiveAttributes,c}},{key:"className",get:function(){return"InsertOperation"}}]),t}(ra),ba=function(e){function t(e,n,i,l,r,a){var o;return _classCallCheck2(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,a))).name=e,o.oldRange=n?n.clone():null,o.newRange=i?i.clone():null,o.affectsData=r,o._markers=l,o}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}},{key:"type",get:function(){return"marker"}}],[{key:"fromJSON",value:function(e,n){return new t(e.name,e.oldRange?ar.fromJSON(e.oldRange,n):null,e.newRange?ar.fromJSON(e.newRange,n):null,n.model.markers,e.affectsData,e.baseVersion)}},{key:"className",get:function(){return"MarkerOperation"}}]),t}(ra),ka=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,l))).position=e,r.position.stickiness="toNext",r.oldName=n,r.newName=i,r}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.position.nodeAfter;if(!(e instanceof nr))throw new _t.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(e.name!==this.oldName)throw new _t.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.position=this.position.toJSON(),e}},{key:"type",get:function(){return"rename"}}],[{key:"fromJSON",value:function(e,n){return new t(rr.fromJSON(e.position,n),e.oldName,e.newName,e.baseVersion)}},{key:"className",get:function(){return"RenameOperation"}}]),t}(ra),_a=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,r))).root=e,a.key=n,a.oldValue=i,a.newValue=l,a}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new _t.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new _t.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new _t.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.root=this.root.toJSON(),e}},{key:"type",get:function(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}}],[{key:"fromJSON",value:function(e,n){if(!n.getRoot(e.root))throw new _t.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:e.root});return new t(n.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}},{key:"className",get:function(){return"RootAttributeOperation"}}]),t}(ra),wa=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,r))).sourcePosition=e.clone(),a.sourcePosition.stickiness="toPrevious",a.howMany=n,a.targetPosition=i.clone(),a.targetPosition.stickiness="toNext",a.graveyardPosition=l.clone(),a}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new rr(this.sourcePosition.root,t)._getTransformedByMergeOperation(this),i=new xa(e,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}},{key:"_validate",value:function(){var e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new _t.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!t.parent)throw new _t.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=e.maxOffset)throw new _t.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}},{key:"_execute",value:function(){var e=this.sourcePosition.parent;ua(ar._createIn(e),this.targetPosition),ua(ar._createOn(e),this.graveyardPosition)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}},{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new rr(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ar(this.sourcePosition,e)}}],[{key:"fromJSON",value:function(e,t){var n=rr.fromJSON(e.sourcePosition,t),i=rr.fromJSON(e.targetPosition,t),l=rr.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,l,e.baseVersion)}},{key:"className",get:function(){return"MergeOperation"}}]),t}(ra),xa=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,l))).splitPosition=e.clone(),r.splitPosition.stickiness="toNext",r.howMany=n,r.insertionPosition=t.getInsertionPosition(e),r.insertionPosition.stickiness="toNone",r.graveyardPosition=i?i.clone():null,r.graveyardPosition&&(r.graveyardPosition.stickiness="toNext"),r}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){var e=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return e.insertionPosition=this.insertionPosition,e}},{key:"getReversed",value:function(){var e=new rr(this.splitPosition.root.document.graveyard,[0]);return new wa(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}},{key:"_validate",value:function(){var e=this.splitPosition.parent;if(!e||e.maxOffset<this.splitPosition.offset)throw new _t.b("split-operation-position-invalid: Split position is invalid.",this);if(!e.parent)throw new _t.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new _t.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new _t.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}},{key:"_execute",value:function(){var e=this.splitPosition.parent;if(this.graveyardPosition)ua(ar._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var t=e._clone();oa(this.insertionPosition,t)}ua(new ar(rr._createAt(e,this.splitPosition.offset),rr._createAt(e,e.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var e=_get2(_getPrototypeOf2(t.prototype),"toJSON",this).call(this);return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}},{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var e=this.insertionPosition.path.slice();return e.push(0),new rr(this.insertionPosition.root,e)}},{key:"movedRange",get:function(){var e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new ar(this.splitPosition,e)}}],[{key:"getInsertionPosition",value:function(e){var t=e.path.slice(0,-1);return t[t.length-1]++,new rr(e.root,t)}},{key:"fromJSON",value:function(e,t){var n=rr.fromJSON(e.splitPosition,t),i=rr.fromJSON(e.insertionPosition,t),l=e.graveyardPosition?rr.fromJSON(e.graveyardPosition,t):null,r=new this(n,e.howMany,l,e.baseVersion);return r.insertionPosition=i,r}},{key:"className",get:function(){return"SplitOperation"}}]),t}(ra),Ca=function(e){function t(e,n){var i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n)))._document=e,i.rootName=l,i}return _inherits(t,e),_createClass2(t,[{key:"is",value:function(e,n){var i=e.replace("model:","");return n?"rootElement"==i&&n==this.name||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e,n):"rootElement"==i||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"toJSON",value:function(){return this.rootName}},{key:"document",get:function(){return this._document}}]),t}(nr),Sa=function(){function e(t,n){_classCallCheck2(this,e),this.model=t,this.batch=n}return _createClass2(e,[{key:"createText",value:function(e,t){return new Jl(e,t)}},{key:"createElement",value:function(e,t){return new nr(e,t)}},{key:"createDocumentFragment",value:function(){return new aa}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof Jl&&""==e.data)){var i=rr._createAt(t,n);if(e.parent){if(Ia(e.root,i.root))return void this.move(ar._createOn(e),i);if(e.root.document)throw new _t.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}var l=new ya(i,e,i.root.document?i.root.document.version:null);if(e instanceof Jl&&(l.shouldReceiveAttributes=!0),this.batch.addOperation(l),this.model.applyOperation(l),e instanceof aa){var r=!0,a=!1,o=void 0;try{for(var s,u=e.markers[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=_slicedToArray(s.value,2),h=c[0],d=c[1],f=rr._createAt(d.root,0),p={range:new ar(d.start._getCombined(f,i),d.end._getCombined(f,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,p):this.addMarker(h,p)}}catch(v){a=!0,o=v}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}}}},{key:"insertText",value:function(e,t,n,i){t instanceof aa||t instanceof nr||t instanceof rr?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}},{key:"insertElement",value:function(e,t,n,i){t instanceof aa||t instanceof nr||t instanceof rr?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}},{key:"append",value:function(e,t){this.insert(e,t,"end")}},{key:"appendText",value:function(e,t,n){t instanceof aa||t instanceof nr?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}},{key:"appendElement",value:function(e,t,n){t instanceof aa||t instanceof nr?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}},{key:"setAttribute",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof ar){var i=n.getMinimalFlatRanges(),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){Ta(this,e,t,o.value)}}catch(u){r=!0,a=u}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}else Pa(this,e,t,n)}},{key:"setAttributes",value:function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=Ut(e)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=_slicedToArray(r.value,2),s=o[0],u=o[1];this.setAttribute(s,u,t)}}catch(c){i=!0,l=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}},{key:"removeAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),t instanceof ar){var n=t.getMinimalFlatRanges(),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){Ta(this,e,null,a.value)}}catch(s){l=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}else Pa(this,e,null,t)}},{key:"clearAttributes",value:function(e){var t=this;this._assertWriterUsedCorrectly();var n=function(e){var n=!0,i=!1,l=void 0;try{for(var r,a=e.getAttributeKeys()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t.removeAttribute(o,e)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}};if(e instanceof ar){var i=!0,l=!1,r=void 0;try{for(var a,o=e.getItems()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){n(a.value)}}catch(s){l=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}else n(e)}},{key:"move",value:function(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof ar))throw new _t.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new _t.b("writer-move-range-not-flat: Range to move is not flat.",this);var i=rr._createAt(t,n);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!Ia(e.root,i.root))throw new _t.b("writer-move-different-document: Range is going to be moved between different documents.",this);var l=new ma(e.start,e.end.offset-e.start.offset,i,e.root.document?e.root.document.version:null);this.batch.addOperation(l),this.model.applyOperation(l)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var t=(e instanceof ar?e:ar._createOn(e)).getMinimalFlatRanges().reverse(),n=!0,i=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this._addOperationForAffectedMarkers("move",o),Aa(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof nr))throw new _t.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(n instanceof nr))throw new _t.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,t,n){return this.model.createPositionFromPath(e,t,n)}},{key:"createPositionAt",value:function(e,t){return this.model.createPositionAt(e,t)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,t){return this.model.createRange(e,t)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,t,n){return this.model.createSelection(e,t,n)}},{key:"_mergeDetached",value:function(e){var t=e.nodeBefore,n=e.nodeAfter;this.move(ar._createIn(n),rr._createAt(t,"end")),this.remove(n)}},{key:"_merge",value:function(e){var t=rr._createAt(e.nodeBefore,"end"),n=rr._createAt(e.nodeAfter,0),i=new rr(e.root.document.graveyard,[0]),l=new wa(n,e.nodeAfter.maxOffset,t,i,e.root.document.version);this.batch.addOperation(l),this.model.applyOperation(l)}},{key:"rename",value:function(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof nr))throw new _t.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);var n=e.root.document?e.root.document.version:null,i=new ka(rr._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,t){this._assertWriterUsedCorrectly();var n,i,l=e.parent;if(!l.parent)throw new _t.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(t||(t=l.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new _t.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{var r=new xa(e,l.maxOffset-e.offset,null,l.root.document?l.root.document.version:null);this.batch.addOperation(r),this.model.applyOperation(r),n||i||(n=l,i=e.parent.nextSibling),l=(e=this.createPositionAfter(e.parent)).parent}while(l!==t);return{position:e,range:new ar(rr._createAt(n,"end"),rr._createAt(i,0))}}},{key:"wrap",value:function(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new _t.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);var n=t instanceof nr?t:new nr(t);if(n.childCount>0)throw new _t.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(null!==n.parent)throw new _t.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(n,e.start);var i=new ar(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,rr._createAt(n,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new _t.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(ar._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new _t.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);var n=t.usingOperation,i=t.range,l=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new _t.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new _t.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return n?(Ma(this,e,null,i,l),this.model.markers.get(e)):this.model.markers._set(e,i,n,l)}},{key:"updateMarker",value:function(e,t){this._assertWriterUsedCorrectly();var n="string"==typeof e?e:e.name,i=this.model.markers.get(n);if(!i)throw new _t.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(t){var l="boolean"==typeof t.usingOperation,r="boolean"==typeof t.affectsData,a=r?t.affectsData:i.affectsData;if(!l&&!t.range&&!r)throw new _t.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);var o=i.getRange(),s=t.range?t.range:o;l&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?Ma(this,n,null,s,a):(Ma(this,n,o,null,a),this.model.markers._set(n,s,void 0,a)):i.managedUsingOperations?Ma(this,n,o,s,a):this.model.markers._set(n,s,void 0,a)}else this.model.markers._refresh(i)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new _t.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);var n=this.model.markers.get(t);n.managedUsingOperations?Ma(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}},{key:"setSelection",value:function(e,t,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,t,n)}},{key:"setSelectionFocus",value:function(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}},{key:"setSelectionAttribute",value:function(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else{var n=!0,i=!1,l=void 0;try{for(var r,a=Ut(e)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=_slicedToArray(r.value,2),s=o[0],u=o[1];this._setSelectionAttribute(s,u)}}catch(c){i=!0,l=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else{var t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._removeSelectionAttribute(a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,t){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var i=kr._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}},{key:"_removeSelectionAttribute",value:function(e){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var n=kr._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new _t.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=this.model.markers[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.managedUsingOperations){var s=o.getRange(),u=!1;if("move"==e)u=t.containsPosition(s.start)||t.start.isEqual(s.start)||t.containsPosition(s.end)||t.end.isEqual(s.end);else{var c=t.nodeAfter,h=s.end.parent==c&&0==s.end.offset,d=s.end.nodeAfter==c,f=s.start.nodeAfter==c;u=s.start.parent==t.nodeBefore&&s.start.isAtEnd||h||d||f}u&&this.updateMarker(o.name,{range:s})}}}catch(p){i=!0,l=p}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}}]),e}();function Ta(e,t,n,i){var l,r,a,o=e.model,s=o.document,u=i.start,c=!0,h=!1,d=void 0;try{for(var f,p=i.getWalker({shallow:!0})[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;a=v.item.getAttribute(t),l&&r!=a&&(r!=n&&g(),u=l),l=v.nextPosition,r=a}}catch(m){h=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}function g(){var i=new ar(u,l),a=new va(i,t,r,n,i.root.document?s.version:null);e.batch.addOperation(a),o.applyOperation(a)}l instanceof rr&&l!=u&&r!=n&&g()}function Pa(e,t,n,i){var l,r,a=e.model,o=a.document,s=i.getAttribute(t);s!=n&&(i.root===i?r=new _a(i,t,s,n,i.document?o.version:null):(l=new ar(rr._createBefore(i),e.createPositionAfter(i)),r=new va(l,t,s,n,l.root.document?o.version:null)),e.batch.addOperation(r),a.applyOperation(r))}function Ma(e,t,n,i,l){var r=e.model,a=new ba(t,n,i,r.markers,l,r.document.version);e.batch.addOperation(a),r.applyOperation(a)}function Aa(e,t,n,i){var l;if(e.root.document){var r=i.document,a=new rr(r.graveyard,[0]);l=new ma(e,t,a,r.version)}else l=new ga(e,t);n.addOperation(l),i.applyOperation(l)}function Ia(e,t){return e===t||e instanceof Ca&&t instanceof Ca}var Ea=function(){function e(t){_classCallCheck2(this,e),this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return _createClass2(e,[{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var t=ar._createOn(e),n=!0,i=!1,l=void 0;try{for(var r,a=this._markerCollection.getMarkersIntersectingRange(t)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=o.getRange();this.bufferMarkerChange(o.name,s,s,o.affectsData)}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var t=!0,n=!1,i=void 0;try{for(var l,r=e.range.getItems({shallow:!0})[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._isInInsertedElement(a.parent)||this._markAttribute(a)}}catch(k){n=!0,i=k}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}break;case"remove":case"move":case"reinsert":if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var o=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);o||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break;case"rename":if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var u=ar._createFromPositionAndShift(e.position,1),c=!0,h=!1,d=void 0;try{for(var f,p=this._markerCollection.getMarkersIntersectingRange(u)[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value,g=v.getRange();this.bufferMarkerChange(v.name,g,g,v.affectsData)}}catch(k){h=!0,d=k}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}break;case"split":var m=e.splitPosition.parent;this._isInInsertedElement(m)||this._markRemove(m,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break;case"merge":var y=e.sourcePosition.parent;this._isInInsertedElement(y.parent)||this._markRemove(y.parent,y.startOffset,1),this._markInsert(e.graveyardPosition.parent,e.graveyardPosition.offset,1);var b=e.targetPosition.parent;this._isInInsertedElement(b)||this._markInsert(b,e.targetPosition.offset,y.maxOffset)}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,t,n,i){var l=this._changedMarkers.get(e);l?(l.newRange=n,l.affectsData=i,null==l.oldRange&&null==l.newRange&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:t,newRange:n,affectsData:i})}},{key:"getMarkersToRemove",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var l,r=this._changedMarkers[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=_slicedToArray(l.value,2),o=a[0],s=a[1];null!=s.oldRange&&e.push({name:o,range:s.oldRange})}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}},{key:"getMarkersToAdd",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var l,r=this._changedMarkers[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=_slicedToArray(l.value,2),o=a[0],s=a[1];null!=s.newRange&&e.push({name:o,range:s.newRange})}}catch(u){n=!0,i=u}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map((function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}}))}},{key:"hasDataChanges",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this._changedMarkers[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){if(_slicedToArray(i.value,2)[1].affectsData)return!0}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var t=[],n=!0,i=!1,l=void 0;try{for(var r,a=this._changesInElement.keys()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=this._changesInElement.get(o).sort((function(e,t){return e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1})),u=this._elementSnapshots.get(o),c=Da(o.getChildren()),h=Oa(u.length,s),d=0,f=0,p=!0,v=!1,g=void 0;try{for(var m,y=h[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;if("i"===b)t.push(this._getInsertDiff(o,d,c[d].name)),d++;else if("r"===b)t.push(this._getRemoveDiff(o,d,u[f].name)),f++;else if("a"===b){var k=c[d].attributes,_=u[f].attributes,w=void 0;if("$text"==c[d].name)w=new ar(rr._createAt(o,d),rr._createAt(o,d+1));else{var x=o.offsetToIndex(d);w=new ar(rr._createAt(o,d),rr._createAt(o.getChild(x),0))}t.push.apply(t,_toConsumableArray(this._getAttributesDiff(w,_,k))),d++,f++}else d++,f++}}catch(O){v=!0,g=O}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}}}catch(O){i=!0,l=O}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}t.sort((function(e,t){return e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1}));for(var C=1;C<t.length;C++){var S=t[C-1],T=t[C],P="remove"==S.type&&"remove"==T.type&&"$text"==S.name&&"$text"==T.name&&S.position.isEqual(T.position),M="insert"==S.type&&"insert"==T.type&&"$text"==S.name&&"$text"==T.name&&S.position.parent==T.position.parent&&S.position.offset+S.length==T.position.offset,A="attribute"==S.type&&"attribute"==T.type&&S.position.parent==T.position.parent&&S.range.isFlat&&T.range.isFlat&&S.position.offset+S.length==T.position.offset&&S.attributeKey==T.attributeKey&&S.attributeOldValue==T.attributeOldValue&&S.attributeNewValue==T.attributeNewValue;(P||M||A)&&(t[C-1].length++,A&&(t[C-1].range.end=t[C-1].range.end.getShiftedBy(1)),t.splice(C,1),C--)}for(var I=0,E=t;I<E.length;I++){var D=E[I];delete D.changeCount,"attribute"==D.type&&(delete D.position,delete D.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=t.slice(),this._cachedChanges=t.slice().filter(Fa),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,t,n){var i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}},{key:"_markRemove",value:function(e,t,n){var i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}},{key:"_markAttribute",value:function(e){var t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}},{key:"_markChange",value:function(e,t){this._makeSnapshot(e);var n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(var i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}},{key:"_getChangesForElement",value:function(e){var t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):this._changesInElement.set(e,t=[]),t}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Da(e.getChildren()))}},{key:"_handleChange",value:function(e,t){e.nodesToHandle=e.howMany;var n=!0,i=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=e.offset+e.howMany,u=o.offset+o.howMany;if("insert"==e.type&&("insert"==o.type&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<u&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==o.type&&e.offset<o.offset&&(o.offset+=e.howMany),"attribute"==o.type))if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<u){var c=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:s,howMany:c-o.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==o.type)if(s<=o.offset)o.offset-=e.howMany;else if(s<=u)if(e.offset<o.offset){var h=s-o.offset;o.offset=e.offset,o.howMany-=h,e.nodesToHandle-=h}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<u){var d=u-e.offset;o.howMany-=d,e.nodesToHandle-=d}if("remove"==o.type&&(s<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),"attribute"==o.type)if(s<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){var f=s-o.offset;o.offset=e.offset,o.howMany-=f}else if(e.offset<u)if(s<=u){var p=o.howMany;o.howMany=e.offset-o.offset,t.unshift({type:"attribute",offset:e.offset,howMany:p-o.howMany-e.nodesToHandle,count:this._changeCount++})}else o.howMany-=u-e.offset}if("attribute"==e.type){if("insert"==o.type)if(e.offset<o.offset&&s>o.offset){if(s>u){var v={type:"attribute",offset:u,howMany:s-u,count:this._changeCount++};this._handleChange(v,t),t.push(v)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<u&&(s>u?(e.nodesToHandle=s-u,e.offset=u):e.nodesToHandle=0);if("remove"==o.type&&e.offset<o.offset&&s>o.offset){var g={type:"attribute",offset:o.offset,howMany:s-o.offset,count:this._changeCount++};this._handleChange(g,t),t.push(g),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==o.type&&(e.offset>=o.offset&&s<=u?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&s>=u&&(o.howMany=0))}}}catch(m){i=!0,l=m}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,t,n){return{type:"insert",position:rr._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,t,n){return{type:"remove",position:rr._createAt(e,t),name:n,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,t,n){var i=[];n=new Map(n);var l=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=_slicedToArray(o.value,2),c=u[0],h=u[1],d=n.has(c)?n.get(c):null;d!==h&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:h,attributeNewValue:d,changeCount:this._changeCount++}),n.delete(c)}}catch(_){r=!0,a=_}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}var f=!0,p=!1,v=void 0;try{for(var g,m=n[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=_slicedToArray(g.value,2),b=y[0],k=y[1];i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:b,attributeOldValue:null,attributeNewValue:k,changeCount:this._changeCount++})}}catch(_){p=!0,v=_}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}return i}},{key:"_isInInsertedElement",value:function(e){var t=e.parent;if(!t)return!1;var n=this._changesInElement.get(t),i=e.startOffset;if(n){var l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("insert"==u.type&&i>=u.offset&&i<u.offset+u.howMany)return!0}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}return this._isInInsertedElement(t)}},{key:"_removeAllNestedChanges",value:function(e,t,n){var i=new ar(rr._createAt(e,t),rr._createAt(e,t+n)),l=!0,r=!1,a=void 0;try{for(var o,s=i.getItems({shallow:!0})[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;u.is("element")&&(this._elementSnapshots.delete(u),this._changesInElement.delete(u),this._removeAllNestedChanges(u,0,u.maxOffset))}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}},{key:"isEmpty",get:function(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}}]),e}();function Da(e){var t=[],n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.is("text"))for(var s=0;s<o.data.length;s++)t.push({name:"$text",attributes:new Map(o.getAttributes())});else t.push({name:o.name,attributes:new Map(o.getAttributes())})}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}function Oa(e,t){var n=[],i=0,l=0,r=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(c.offset>i){for(var h=0;h<c.offset-i;h++)n.push("e");l+=c.offset-i}if("insert"==c.type){for(var d=0;d<c.howMany;d++)n.push("i");i=c.offset+c.howMany}else if("remove"==c.type){for(var f=0;f<c.howMany;f++)n.push("r");i=c.offset,l+=c.howMany}else n.push.apply(n,_toConsumableArray("a".repeat(c.howMany).split(""))),i=c.offset+c.howMany,l+=c.howMany}}catch(v){a=!0,o=v}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}if(l<e)for(var p=0;p<e-l-i;p++)n.push("e");return n}function Fa(e){return!(e.position&&"$graveyard"==e.position.root.rootName||e.range&&"$graveyard"==e.range.root.rootName)}var Ra=function(){function e(){_classCallCheck2(this,e),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return _createClass2(e,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;return e<0?[]:this._operations.slice(e,t)}},{key:"getOperation",value:function(e){return this._operations[e]}},{key:"setOperationAsUndone",value:function(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),e}();function Na(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function La(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}var Ba=function(){function e(t){var n=this;_classCallCheck2(this,e),this.model=t,this.version=0,this.history=new Ra(this),this.selection=new kr(this),this.roots=new Dt({idProperty:"rootName"}),this.differ=new Ea(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];if(i.isDocumentOperation&&i.baseVersion!==n.version)throw new _t.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",n,{operation:i})}),{priority:"highest"}),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];i.isDocumentOperation&&n.differ.bufferOperation(i)}),{priority:"high"}),this.listenTo(t,"applyOperation",(function(e,t){var i=t[0];i.isDocumentOperation&&(n.version++,n.history.addOperation(i))}),{priority:"low"}),this.listenTo(this.selection,"change",(function(){n._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(t.markers,"update",(function(e,t,i,l){n.differ.bufferMarkerChange(t.name,i,l,t.affectsData),null===i&&t.on("change",(function(e,i){n.differ.bufferMarkerChange(t.name,i,t.getRange(),t.affectsData)}))}))}return _createClass2(e,[{key:"createRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new _t.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:t});var n=new Ca(this,e,t);return this.roots.add(n),n}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,(function(e){return e.rootName})).filter((function(e){return"$graveyard"!=e}))}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=Vt(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this.roots[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=i.value;if(r!==this.graveyard)return r}}catch(a){t=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}},{key:"_validateSelectionRange",value:function(e){return Va(e.start)&&Va(e.end)}},{key:"_callPostFixers",value:function(e){var t=!1;do{var n=!0,i=!1,l=void 0;try{for(var r,a=this._postFixers[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(this.selection.refresh(),t=o(e))break}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}while(t)}},{key:"graveyard",get:function(){return this.getRoot("$graveyard")}}]),e}();function Va(e){var t=e.textNode;if(t){var n=t.data,i=e.offset-t.startOffset;return!Na(n,i)&&!La(n,i)}return!0}Et(Ba,Ct);var za=function(){function e(){_classCallCheck2(this,e),this._markers=new Map}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=e instanceof ja?e.name:e,r=this._markers.get(l);if(r){var a=r.getRange(),o=!1;return a.isEqual(t)||(r._attachLiveRange(mr.fromRange(t)),o=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,o=!0),"boolean"==typeof i&&i!=r.affectsData&&(r._affectsData=i,o=!0),o&&this.fire("update:"+l,r,a,t),r}var s=mr.fromRange(t),u=new ja(l,s,n,i);return this._markers.set(l,u),this.fire("update:"+l,u,null,t),u}},{key:"_remove",value:function(e){var t=e instanceof ja?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire("update:"+t,n,n.getRange(),null),this._destroyMarker(n),!0)}},{key:"_refresh",value:function(e){var t=e instanceof ja?e.name:e,n=this._markers.get(t);if(!n)throw new _t.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);var i=n.getRange();this.fire("update:"+t,n,i,i,n.managedUsingOperations,n.affectsData)}},{key:"getMarkersAtPosition",value:regeneratorRuntime.mark((function e(t){var n,i,l,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,l=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(n=(a=r.next()).done){e.next=14;break}if(o=a.value,e.t0=o.getRange().containsPosition(t),!e.t0){e.next=11;break}return e.next=11,o;case 11:n=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(3),i=!0,l=e.t1;case 20:e.prev=20,e.prev=21,n||null==r.return||r.return();case 23:if(e.prev=23,!i){e.next=26;break}throw l;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[3,16,20,28],[21,,23,27]])}))},{key:"getMarkersIntersectingRange",value:regeneratorRuntime.mark((function e(t){var n,i,l,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,l=void 0,e.prev=3,r=this[Symbol.iterator]();case 5:if(n=(a=r.next()).done){e.next=14;break}if(o=a.value,e.t0=null!==o.getRange().getIntersection(t),!e.t0){e.next=11;break}return e.next=11,o;case 11:n=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(3),i=!0,l=e.t1;case 20:e.prev=20,e.prev=21,n||null==r.return||r.return();case 23:if(e.prev=23,!i){e.next=26;break}throw l;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[3,16,20,28],[21,,23,27]])}))},{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this._markers.values()[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=i.value;this._destroyMarker(r)}}catch(a){t=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:regeneratorRuntime.mark((function e(t){var n,i,l,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!0,i=!1,l=void 0,e.prev=3,r=this._markers.values()[Symbol.iterator]();case 5:if(n=(a=r.next()).done){e.next=14;break}if(o=a.value,e.t0=o.name.startsWith(t+":"),!e.t0){e.next=11;break}return e.next=11,o;case 11:n=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(3),i=!0,l=e.t1;case 20:e.prev=20,e.prev=21,n||null==r.return||r.return();case 23:if(e.prev=23,!i){e.next=26;break}throw l;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,this,[[3,16,20,28],[21,,23,27]])}))},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),e}();Et(za,Ct);var ja=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.name=t,this._liveRange=this._attachLiveRange(n),this._managedUsingOperations=i,this._affectsData=l}return _createClass2(e,[{key:"getStart",value:function(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return"marker"==e||"model:marker"==e}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}},{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new _t.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}}]),e}();Et(ja,Ct);var Ha=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.baseVersion)}},{key:"getReversed",value:function(){return new t(this.baseVersion+1)}},{key:"_execute",value:function(){}},{key:"type",get:function(){return"noop"}}],[{key:"className",get:function(){return"NoOperation"}}]),t}(ra),Wa={};Wa[va.className]=va,Wa[ya.className]=ya,Wa[ba.className]=ba,Wa[ma.className]=ma,Wa[Ha.className]=Ha,Wa[ra.className]=ra,Wa[ka.className]=ka,Wa[_a.className]=_a,Wa[xa.className]=xa,Wa[wa.className]=wa;var Ua=function(e){function t(e,n){var i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(_classCallCheck2(this,t),!(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,l))).root.is("rootElement"))throw new _t.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",e);return Ya.call(_assertThisInitialized(i)),_possibleConstructorReturn(i)}return _inherits(t,e),_createClass2(t,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(e){return"livePosition"==e||"model:livePosition"==e||_get2(_getPrototypeOf2(t.prototype),"is",this).call(this,e)}},{key:"toPosition",value:function(){return new rr(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}]),t}(rr);function Ya(){var e=this;this.listenTo(this.root.document.model,"applyOperation",(function(t,n){var i=n[0];i.isDocumentOperation&&qa.call(e,i)}),{priority:"low"})}function qa(e){var t=this.getTransformedByOperation(e);if(!this.isEqual(t)){var n=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",n)}}Et(Ua,Ct);var Ga=function(){function e(t,n,i){_classCallCheck2(this,e),this.model=t,this.writer=n,this.position=i,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return _createClass2(e,[{key:"handleNodes",value:function(e,t){e=Array.from(e);for(var n=0;n<e.length;n++)this._handleNode(e[n],{isFirst:0===n&&t.isFirst,isLast:n===e.length-1&&t.isLast});this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?ar._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new ar(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,t){this.schema.isObject(e)?this._handleObject(e,t):this._checkAndSplitToAllowedPosition(e,t)?(this._insert(e),this._mergeSiblingsOf(e,t)):this._handleDisallowedNode(e,t)}},{key:"_handleObject",value:function(e,t){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,t)}},{key:"_handleDisallowedNode",value:function(e,t){e.is("element")?this.handleNodes(e.getChildren(),t):this._tryAutoparagraphing(e,t)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new _t.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});var t=Ua.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=t.toPosition(),t.detach(),this.nodeToSelect=this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?e:null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Ua.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ua.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,t){if(e instanceof nr){var n=this._canMergeLeft(e,t),i=this._canMergeRight(e,t),l=Ua._createBefore(e);l.stickiness="toNext";var r=Ua._createAfter(e);if(r.stickiness="toNext",n){var a=Ua.fromPosition(this.position);a.stickiness="toNext",this._affectedStart.isEqual(l)&&(this._affectedStart.detach(),this._affectedStart=Ua._createAt(l.nodeBefore,"end","toPrevious")),this.writer.merge(l),l.isEqual(this._affectedEnd)&&t.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Ua._createAt(l.nodeBefore,"end","toNext")),this.position=a.toPosition(),a.detach()}if(i){if(!this.position.isEqual(r))throw new _t.b("insertcontent-invalid-insertion-position",this);this.position=rr._createAt(r.nodeBefore,"end");var o=Ua.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=Ua._createAt(r.nodeBefore,"end","toNext")),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&t.isFirst&&(this._affectedStart.detach(),this._affectedStart=Ua._createAt(r.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),l.detach(),r.detach()}}},{key:"_canMergeLeft",value:function(e,t){var n=e.previousSibling;return t.isFirst&&n instanceof nr&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,e)}},{key:"_canMergeRight",value:function(e,t){var n=e.nextSibling;return t.isLast&&n instanceof nr&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(e,n)}},{key:"_tryAutoparagraphing",value:function(e,t){var n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,e)&&(n._appendChild(e),this._handleNode(n,t))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var t=this._getAllowedIn(e,this.position.parent);if(!t)return!1;for(;t!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var n=this.position.parent;this.position=this.writer.createPositionBefore(n),n.isEmpty&&n.parent===t&&this.writer.remove(n)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,t){return this.schema.checkChild(t,e)?t:t.parent?this._getAllowedIn(e,t.parent):null}}]),e}();function Xa(e,t,n){var i=e.createElement("paragraph");e.insert(i,t),Ka(e,n,e.createPositionAt(i,0))}function Ka(e,t,n){t instanceof kr?e.setSelection(n):t.setTo(n)}function $a(e,t){if("text"==t.type)return"word"===e.unit?function(e,t){var n=e.position.textNode;if(n)for(var i=e.position.offset-n.startOffset;!Qa(n.data,i,t)&&!Ja(n,i,t);){e.next();var l=t?e.position.nodeAfter:e.position.nodeBefore;if(l&&l.is("text")){var r=l.data.charAt(t?0:l.data.length-1);' ,.?!:;"-()'.includes(r)||(e.next(),n=e.position.textNode)}i=e.position.offset-n.startOffset}return e.position}(e.walker,e.isForward):function(e,t){var n=e.position.textNode;if(n)for(var i=n.data,l=e.position.offset-n.startOffset;Na(i,l)||"character"==t&&La(i,l);)e.next(),l=e.position.offset-n.startOffset;return e.position}(e.walker,e.unit);if(t.type==(e.isForward?"elementStart":"elementEnd")){if(e.schema.isObject(t.item))return rr._createAt(t.item,e.isForward?"after":"before");if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}else{if(e.schema.isLimit(t.item))return void e.walker.skip((function(){return!0}));if(e.schema.checkChild(t.nextPosition,"$text"))return t.nextPosition}}function Za(e,t){var n=rr._createAt(e.root,t?"end":0);return t?new ar(e,n):new ar(n,e)}function Qa(e,t,n){return' ,.?!:;"-()'.includes(e.charAt(t+(n?0:-1)))}function Ja(e,t,n){return t===(n?e.endOffset:0)}function eo(e,t){var n=[];Array.from(e.getItems({direction:"backward"})).map((function(e){return t.createRangeOn(e)})).filter((function(t){return(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end))})).forEach((function(e){n.push(e.start.parent),t.remove(e)})),n.forEach((function(e){for(var n=e;n.parent&&n.isEmpty;){var i=t.createRangeOn(n);n=n.parent,t.remove(i)}}))}function to(e,t){return e.isCollapsed?function(e,t){var n=e.start,i=t.getNearestSelectionRange(n);if(!i)return null;if(!i.isCollapsed)return i;var l=i.start;return n.isEqual(l)?null:new ar(l)}(e,t):function(e,t){var n=e.start,i=e.end,l=t.checkChild(n,"$text"),r=t.checkChild(i,"$text"),a=t.getLimitElement(n),o=t.getLimitElement(i);if(a===o){if(l&&r)return null;if(function(e,t,n){var i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),l=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||l}(n,i,t)){var s=n.nodeAfter&&t.isObject(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),u=i.nodeBefore&&t.isObject(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward");return new ar(s?s.start:n,u?u.start:i)}}var c=a&&!a.is("rootElement"),h=o&&!o.is("rootElement");if(c||h){var d=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,f=c&&(!d||!io(n.nodeAfter,t)),p=h&&(!d||!io(i.nodeBefore,t)),v=n,g=i;return f&&(v=rr._createBefore(no(a,t))),p&&(g=rr._createAfter(no(o,t))),new ar(v,g)}return null}(e,t)}function no(e,t){for(var n=e,i=n;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function io(e,t){return e&&t.isObject(e)}var lo=function(){function e(){var t=this;_classCallCheck2(this,e),this.markers=new za,this.document=new Ba(this),this.schema=new zr,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((function(e){return t.decorate(e)})),this.on("applyOperation",(function(e,t){t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((function(e,t){if("$marker"===t.name)return!0})),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n=t.document.selection,i=t.schema,l=[],r=!1,a=!0,o=!1,s=void 0;try{for(var u,c=n.getRanges()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value,d=to(h,i);d?(l.push(d),r=!0):l.push(h)}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}r&&e.setSelection(function(e){var t=[];t.push(e.shift());var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=t.pop();if(o.isIntersecting(s)){var u=s.start.isAfter(o.start)?o.start:s.start,c=s.end.isAfter(o.end)?s.end:o.end,h=new ar(u,c);t.push(h)}else t.push(s),t.push(o)}}catch(f){i=!0,l=f}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}(l),{backward:n.isBackward})}(t,e)}))}(this)}return _createClass2(e,[{key:"change",value:function(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new la,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){_t.b.rethrowUnexpectedError(e,this)}}},{key:"enqueueChange",value:function(e,t){try{"string"==typeof e?e=new la(e):"function"==typeof e&&(t=e,e=new la),this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){_t.b.rethrowUnexpectedError(e,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,t,n){return function(e,t,n,i){return e.change((function(l){var r;(r=n?n instanceof dr||n instanceof kr?n:l.createSelection(n,i):e.document.selection).isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0});var a,o=new Ga(e,l,r.anchor);a=t.is("documentFragment")?t.getChildren():[t],o.handleNodes(a,{isFirst:!0,isLast:!0});var s=o.getSelectionRange();s&&(r instanceof kr?l.setSelection(s):r.setTo(s));var u=o.getAffectedRange()||e.createRange(r.anchor);return o.destroy(),u}))}(this,e,t,n)}},{key:"deleteContent",value:function(e,t){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.isCollapsed){var i=t.getFirstRange();if("$graveyard"!=i.root.rootName){var l=e.schema;e.change((function(e){if(n.doNotResetEntireContent||!function(e,t){var n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;var i=t.getFirstRange();return i.start.parent!=i.end.parent&&e.checkChild(n,"paragraph")}(l,t)){var r=i.start,a=Ua.fromPosition(i.end,"toNext");i.start.isTouching(i.end)||e.remove(i),n.leaveUnmerged||(function e(t,n,i){var l=n.parent,r=i.parent;if(l!=r&&!t.model.schema.isLimit(l)&&!t.model.schema.isLimit(r)&&function(e,t,n){var i=new ar(e,t),l=!0,r=!1,a=void 0;try{for(var o,s=i.getWalker()[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if(n.isLimit(u.item))return!1}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return!0}(n,i,t.model.schema)){for(n=t.createPositionAfter(l),(i=t.createPositionBefore(r)).isEqual(n)||t.insert(r,n),t.merge(n);i.parent.isEmpty;){var a=i.parent;i=t.createPositionBefore(a),t.remove(a)}e(t,n,i)}}(e,r,a),l.removeDisallowedAttributes(r.parent.getChildren(),e)),Ka(e,t,r),!n.doNotAutoparagraph&&function(e,t){var n=e.checkChild(t,"$text"),i=e.checkChild(t,"paragraph");return!n&&i}(l,r)&&Xa(e,r,t),a.detach()}else!function(e,t){var n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),Xa(e,e.createPositionAt(n,0),t)}(e,t)}))}}}(this,e,t)}},{key:"modifySelection",value:function(e,t){!function(e,t){for(var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=e.schema,r="backward"!=i.direction,a=i.unit?i.unit:"character",o=new ir({boundaries:Za(t.focus,r),singleCharacters:!0,direction:r?"forward":"backward"}),s={walker:o,schema:l,isForward:r,unit:a},u=function(){if(n.done)return{v:void 0};var i=$a(s,n.value);return i?{v:void(t instanceof kr?e.change((function(e){e.setSelectionFocus(i)})):t.setFocus(i))}:void 0};n=o.next();){var c=u();if("object"==typeof c)return c.v}}(this,e,t)}},{key:"getSelectedContent",value:function(e){return function(e,t){return e.change((function(e){var n=e.createDocumentFragment(),i=t.getFirstRange();if(!i||i.isCollapsed)return n;var l,r=i.start.root,a=i.start.getCommonPath(i.end),o=r.getNodeByPath(a),s=(l=i.start.parent==i.end.parent?i:e.createRange(e.createPositionAt(o,i.start.path[a.length]),e.createPositionAt(o,i.end.path[a.length]+1))).end.offset-l.start.offset,u=!0,c=!1,h=void 0;try{for(var d,f=l.getItems({shallow:!0})[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;p.is("textProxy")?e.appendText(p.data,p.getAttributes(),n):e.append(p._clone(!0),n)}}catch(m){c=!0,h=m}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}if(l!=i){var v=i._getTransformedByMove(l.start,e.createPositionAt(n,0),s)[0],g=e.createRange(e.createPositionAt(n,0),v.start);eo(e.createRange(v.end,e.createPositionAt(n,"end")),e),eo(g,e)}return n}))}(this,e)}},{key:"hasContent",value:function(e,t){var n=e instanceof nr?ar._createIn(e):e;if(n.isCollapsed)return!1;var i=!0,l=!1,r=void 0;try{for(var a,o=this.markers.getMarkersIntersectingRange(n)[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){if(a.value.affectsData)return!0}}catch(g){l=!0,r=g}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}var s=(t||{}).ignoreWhitespaces,u=void 0!==s&&s,c=!0,h=!1,d=void 0;try{for(var f,p=n.getItems()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(v.is("textProxy")){if(!u)return!0;if(-1!==v.data.search(/\S/))return!0}else if(this.schema.isObject(v))return!0}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}return!1}},{key:"createPositionFromPath",value:function(e,t,n){return new rr(e,t,n)}},{key:"createPositionAt",value:function(e,t){return rr._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return rr._createAfter(e)}},{key:"createPositionBefore",value:function(e){return rr._createBefore(e)}},{key:"createRange",value:function(e,t){return new ar(e,t)}},{key:"createRangeIn",value:function(e){return ar._createIn(e)}},{key:"createRangeOn",value:function(e){return ar._createOn(e)}},{key:"createSelection",value:function(e,t,n){return new dr(e,t,n)}},{key:"createBatch",value:function(e){return new la(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"fromJSON",value:function(e,t){return Wa[e.__className].fromJSON(e,t)}}]),e}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new Sa(this,this._pendingChanges[0].batch);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),e}();Et(lo,Rn);var ro=function(){function e(){_classCallCheck2(this,e),this._listener=Object.create(Ji)}return _createClass2(e,[{key:"listenTo",value:function(e){var t=this;this._listener.listenTo(e,"keydown",(function(e,n){t._listener.fire("_keydown:"+si(n),n)}))}},{key:"set",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ui(e);this._listener.listenTo(this._listener,"_keydown:"+i,(function(e,n){t(n,(function(){n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:n.priority})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+si(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),e}(),ao=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).editor=e,n}return _inherits(t,e),_createClass2(t,[{key:"set",value:function(e,n){var i=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n){var r=n;n=function(e,t){i.editor.execute(r),t()}}_get2(_getPrototypeOf2(t.prototype),"set",this).call(this,e,n,l)}}]),t}(ro),oo=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck2(this,t),this._context=n.context||new Lt({language:n.language}),this._context._addEditor(this,!n.context);var i=Array.from(this.constructor.builtinPlugins||[]);this.config=new pt(n,this.constructor.defaultConfig),this.config.define("plugins",i),this.config.define(this._context._getEditorConfig()),this.plugins=new Ot(this,i,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Lr,this.set("state","initializing"),this.once("ready",(function(){return e.state="ready"}),{priority:"high"}),this.once("destroy",(function(){return e.state="destroyed"}),{priority:"high"}),this.set("isReadOnly",!1),this.model=new lo;var l=new xn;this.data=new ea(this.model,l),this.editing=new Nr(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new ta([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ao(this),this.keystrokes.listenTo(this.editing.view.document)}return _createClass2(t,[{key:"initPlugins",value:function(){var e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[];return this.plugins.init(t.concat(i),n)}},{key:"destroy",value:function(){var e=this,t=Promise.resolve();return"initializing"==this.state&&(t=new Promise((function(t){return e.once("ready",t)}))),t.then((function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()})).then((function(){return e.plugins.destroy()})).then((function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()})).then((function(){return e._context._removeEditor(e)}))}},{key:"execute",value:function(){try{var t;(t=this.commands).execute.apply(t,arguments)}catch(e){_t.b.rethrowUnexpectedError(e,this)}}}]),t}();Et(oo,Rn);var so={updateSourceElement:function(){if(!this.sourceElement)throw new _t.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var e,t;e=this.sourceElement,t=this.data.get(),e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}},uo=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"getHtml",value:function(e){var t=document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}]),e}(),co=function(){function e(t){_classCallCheck2(this,e),this._domParser=new DOMParser,this._domConverter=new Xi(t,{blockFillerMode:"nbsp"}),this._htmlWriter=new uo}return _createClass2(e,[{key:"toData",value:function(e){var t=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(t)}},{key:"toView",value:function(e){var t=this._toDom(e);return this._domConverter.domToView(t)}},{key:"_toDom",value:function(e){for(var t=this._domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;i.length>0;)n.appendChild(i[0]);return n}}]),e}(),ho=function(){function e(t){_classCallCheck2(this,e),this.editor=t,this._components=new Map}return _createClass2(e,[{key:"names",value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,n=!1,i=void 0,e.prev=3,l=this._components.values()[Symbol.iterator]();case 5:if(t=(r=l.next()).done){e.next=12;break}return a=r.value,e.next=9,a.originalName;case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),n=!0,i=e.t0;case 18:e.prev=18,e.prev=19,t||null==l.return||l.return();case 21:if(e.prev=21,!n){e.next=24;break}throw i;case 24:return e.finish(21);case 25:return e.finish(18);case 26:case"end":return e.stop()}}),e,this,[[3,14,18,26],[19,,21,25]])}))},{key:"add",value:function(e,t){if(this.has(e))throw new _t.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set(fo(e),{callback:t,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new _t.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get(fo(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(fo(e))}}]),e}();function fo(e){return String(e).toLowerCase()}var po=function(){function e(){_classCallCheck2(this,e),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return _createClass2(e,[{key:"add",value:function(e){var t=this;if(this._elements.has(e))throw new _t.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",(function(){return t._focus(e)}),{useCapture:!0}),this.listenTo(e,"blur",(function(){return t._blur()}),{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((function(){e.focusedElement=null,e.isFocused=!1}),0)}}]),e}();Et(po,Ji),Et(po,Rn);var vo=function(){function e(t){var n=this;_classCallCheck2(this,e),this.editor=t,this.componentFactory=new ho(t),this.focusTracker=new po,this._editableElementsMap=new Map,this.listenTo(t.editing.view.document,"layoutChanged",(function(){return n.update()}))}return _createClass2(e,[{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e=!0,t=!1,n=void 0;try{for(var i,l=this._editableElementsMap.values()[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){i.value.ckeditorInstance=null}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"element",get:function(){return null}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),e}();Et(vo,Ct),n(13);var go=new WeakMap;function mo(e){var t=e.view,n=e.element,i=e.text,l=e.isDirectHost,r=void 0===l||l,a=t.document;go.has(a)||(go.set(a,new Map),a.registerPostFixer((function(e){return yo(a,e)}))),go.get(a).set(n,{text:i,isDirectHost:r}),t.change((function(e){return yo(a,e)}))}function yo(e,t){var n=go.get(e),i=!1,l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=_slicedToArray(o.value,2);bo(t,u[0],u[1])&&(i=!0)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return i}function bo(e,t,n){var i=n.text,l=n.isDirectHost?t:function(e){if(1===e.childCount){var t=e.getChild(0);if(t.is("element")&&!t.is("uiElement"))return t}return null}(t),r=!1;return!!l&&(n.hostElement=l,l.getAttribute("data-placeholder")!==i&&(e.setAttribute("data-placeholder",i,l),r=!0),function(e){if(!e.isAttached())return!1;var t=!Array.from(e.getChildren()).some((function(e){return!e.is("uiElement")})),n=e.document;if(!n.isFocused&&t)return!0;var i=n.selection.anchor;return!(!t||!i||i.parent===e)}(l)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,l)&&(r=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,l)&&(r=!0),r)}var ko=function(){function e(){_classCallCheck2(this,e),this._replacedElements=[]}return _createClass2(e,[{key:"replace",value:function(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach((function(e){var t=e.element,n=e.newElement;t.style.display="",n&&n.remove()})),this._replacedElements=[]}}]),e}(),_o=function(e){function t(e,n){var i,l;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).view=n,i._toolbarConfig=(l=e.config.get("toolbar"),Array.isArray(l)?{items:l}:l?Object.assign({items:[]},l):{items:[]}),i._elementReplacer=new ko,i}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(e){var t=this.view,n=this.editor.editing.view,i=t.editable,l=n.document.getRoot();i.name=l.rootName,t.render();var r=i.element;this.setEditableElement(i.name,r),this.focusTracker.add(r),t.editable.bind("isFocused").to(this.focusTracker),n.attachDomRoot(r),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var e=this.view,n=this.editor.editing.view;this._elementReplacer.restore(),n.detachDomRoot(e.editable.name),e.destroy(),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var e=this.editor,t=this.view,n=e.editing.view;t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),t.stickyPanel.limiterElement=t.element,this._toolbarConfig.viewportTopOffset&&(t.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),t.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(e){var t=e.origin,n=e.originKeystrokeHandler,i=e.originFocusTracker,l=e.toolbar,r=e.beforeFocus,a=e.afterBlur;i.add(l.element),n.set("Alt+F10",(function(e,t){i.isFocused&&!l.focusTracker.isFocused&&(r&&r(),l.focus(),t())})),l.keystrokes.set("Esc",(function(e,n){l.focusTracker.isFocused&&(t.focus(),a&&a(),n())}))}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:e.keystrokes,toolbar:t.toolbar})}},{key:"_initPlaceholder",value:function(){var e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement,l=e.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");l&&mo({view:t,element:n,text:l,isDirectHost:!1})}},{key:"element",get:function(){return this.view.element}}]),t}(vo),wo=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,{idProperty:"viewUid"}))).on("add",(function(e,t,i){t.isRendered||t.render(),t.element&&n._parentElement&&n._parentElement.insertBefore(t.element,n._parentElement.children[i])})),n.on("remove",(function(e,t){t.element&&n._parentElement&&t.element.remove()})),n.locale=e,n._parentElement=null,n}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){this.map((function(e){return e.destroy()}))}},{key:"setParent",value:function(e){this._parentElement=e}},{key:"delegate",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(!n.length||!n.every((function(e){return"string"==typeof e})))throw new _t.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:function(t){var i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u=!0,c=!1,h=void 0;try{for(var d,f=n[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;s.delegate(p).to(t)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}catch(v){l=!0,r=v}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}e.on("add",(function(e,i){var l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;i.delegate(u).to(t)}}catch(v){r=!0,a=v}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}})),e.on("remove",(function(e,i){var l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;i.stopDelegating(u,t)}}catch(v){r=!0,a=v}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}))}}}}]),t}(Dt),xo=function(){function e(t){_classCallCheck2(this,e),Object.assign(this,Oo(Do(t))),this._isRendered=!1,this._revertData=null}return _createClass2(e,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new _t.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(regeneratorRuntime.mark((function e(t){var n,i,l,r,a,o;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t.children){s.next=33;break}n=!0,i=!1,l=void 0,s.prev=4,r=t.children[Symbol.iterator]();case 6:if(n=(a=r.next()).done){s.next=19;break}if(!Bo(o=a.value)){s.next=13;break}return s.next=11,o;case 11:s.next=16;break;case 13:if(s.t0=Vo(o),!s.t0){s.next=16;break}return s.delegateYield(e(o),"t1",16);case 16:n=!0,s.next=6;break;case 19:s.next=25;break;case 21:s.prev=21,s.t2=s.catch(4),i=!0,l=s.t2;case 25:s.prev=25,s.prev=26,n||null==r.return||r.return();case 28:if(s.prev=28,!i){s.next=31;break}throw l;case 31:return s.finish(28);case 32:return s.finish(25);case 33:case"end":return s.stop()}}),e,null,[[4,21,25,33],[26,,28,32]])}))(this),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_renderNode",value:function(e){if(e.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new _t.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}},{key:"_renderText",value:function(e){var t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),Po(this.text)?this._bindToObservable({schema:this.text,updater:Ao(t),data:e}):t.textContent=this.text.join(""),t}},{key:"_renderAttributes",value:function(e){var t,n,i,l;if(this.attributes){var r=e.node,a=e.revertData;for(t in this.attributes)if(i=r.getAttribute(t),n=this.attributes[t],a&&(a.attributes[t]=i),l=I(n[0])&&n[0].ns?n[0].ns:null,Po(n)){var o=l?n[0].value:n;a&&jo(t)&&o.unshift(i),this._bindToObservable({schema:o,updater:Io(r,t,l),data:e})}else"style"==t&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],e):(a&&i&&jo(t)&&n.unshift(i),Lo(n=n.map((function(e){return e&&e.value||e})).reduce((function(e,t){return e.concat(t)}),[]).reduce(Ro,""))||r.setAttributeNS(l,t,n))}}},{key:"_renderStyleAttribute",value:function(e,t){var n=t.node;for(var i in e){var l=e[i];Po(l)?this._bindToObservable({schema:[l],updater:Eo(n,i),data:t}):n.style[i]=l}}},{key:"_renderElementChildren",value:function(e){var t=e.node,n=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying,l=0,r=!0,a=!1,o=void 0;try{for(var s,u=this.children[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(zo(c)){if(!i){c.setParent(t);var h=!0,d=!1,f=void 0;try{for(var p,v=c[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value;n.appendChild(g.element)}}catch(y){d=!0,f=y}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}}else if(Bo(c))i||(c.isRendered||c.render(),n.appendChild(c.element));else if(Vi(c))n.appendChild(c);else if(i){var m={children:[],bindings:[],attributes:{}};e.revertData.children.push(m),c._renderNode({node:n.childNodes[l++],isApplying:!0,revertData:m})}else n.appendChild(c.render())}}catch(y){a=!0,o=y}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}e.intoFragment&&t.appendChild(n)}},{key:"_setUpListeners",value:function(e){var t=this;if(this.eventListeners){var n=function(n){var i=t.eventListeners[n].map((function(t){var i=_slicedToArray(n.split("@"),2),l=i[0],r=i[1];return t.activateDomEventListener(l,r,e)}));e.revertData&&e.revertData.bindings.push(i)};for(var i in this.eventListeners)n(i)}}},{key:"_bindToObservable",value:function(e){var t=e.schema,n=e.updater,i=e.data,l=i.revertData;Mo(t,n,i);var r=t.filter((function(e){return!Lo(e)})).filter((function(e){return e.observable})).map((function(e){return e.activateAttributeListener(t,n,i)}));l&&l.bindings.push(r)}},{key:"_revertTemplateFromNode",value:function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=t.bindings[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=!0,u=!1,c=void 0;try{for(var h,d=o[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){(0,h.value)()}}catch(g){u=!0,c=g}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}}catch(g){i=!0,l=g}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}if(t.text)e.textContent=t.text;else{for(var f in t.attributes){var p=t.attributes[f];null===p?e.removeAttribute(f):e.setAttribute(f,p)}for(var v=0;v<t.children.length;++v)this._revertTemplateFromNode(e.childNodes[v],t.children[v])}}}],[{key:"bind",value:function(e,t){return{to:function(n,i){return new So({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i})},if:function(n,i,l){return new To({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:l})}}}},{key:"extend",value:function(e,t){if(e._isRendered)throw new _t.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);!function e(t,n){var i;if(n.attributes&&(t.attributes||(t.attributes={}),No(t.attributes,n.attributes)),n.eventListeners&&(t.eventListeners||(t.eventListeners={}),No(t.eventListeners,n.eventListeners)),n.text&&(i=t.text).push.apply(i,_toConsumableArray(n.text)),n.children&&n.children.length){if(t.children.length!=n.children.length)throw new _t.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",t);var l=0,r=!0,a=!1,o=void 0;try{for(var s,u=n.children[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;e(t.children[l++],c)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}}(e,Oo(Do(t)))}}]),e}();Et(xo,Ct);var Co=function(){function e(t){_classCallCheck2(this,e),Object.assign(this,t)}return _createClass2(e,[{key:"getValue",value:function(e){var t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}},{key:"activateAttributeListener",value:function(e,t,n){var i=this,l=function(){return Mo(e,t,n)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,l),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,l)}}}]),e}(),So=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"activateDomEventListener",value:function(e,t,n){var i=this,l=function(e,n){t&&!n.target.matches(t)||("function"==typeof i.eventNameOrFunction?i.eventNameOrFunction(n):i.observable.fire(i.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,l),function(){i.emitter.stopListening(n.node,e,l)}}}]),t}(Co),To=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getValue",value:function(e){return!Lo(_get2(_getPrototypeOf2(t.prototype),"getValue",this).call(this,e))&&(this.valueIfTrue||!0)}}]),t}(Co);function Po(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(Po):e instanceof Co)}function Mo(e,t,n){var i=function(e,t){return e.map((function(e){return e instanceof Co?e.getValue(t):e}))}(e,n.node);Lo(i=1==e.length&&e[0]instanceof To?i[0]:i.reduce(Ro,""))?t.remove():t.set(i)}function Ao(e){return{set:function(t){e.textContent=t},remove:function(){e.textContent=""}}}function Io(e,t,n){return{set:function(i){e.setAttributeNS(n,t,i)},remove:function(){e.removeAttributeNS(n,t)}}}function Eo(e,t){return{set:function(n){e.style[t]=n},remove:function(){e.style[t]=null}}}function Do(e){return dt(e,(function(e){if(e&&(e instanceof Co||Vo(e)||Bo(e)||zo(e)))return e}))}function Oo(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){Array.isArray(e.text)||(e.text=[e.text])}(e),e.on&&(e.eventListeners=function(e){for(var t in e)Fo(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(var t in e)e[t].value&&(e[t].value=[].concat(e[t].value)),Fo(e,t)}(e.attributes);var t=[];if(e.children)if(zo(e.children))t.push(e.children);else{var n=!0,i=!1,l=void 0;try{for(var r,a=e.children[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;Vo(o)||Bo(o)||Vi(o)?t.push(o):t.push(new xo(o))}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}e.children=t}return e}function Fo(e,t){Array.isArray(e[t])||(e[t]=[e[t]])}function Ro(e,t){return Lo(t)?e:Lo(e)?t:"".concat(e," ").concat(t)}function No(e,t){for(var n in t){var i;e[n]?(i=e[n]).push.apply(i,_toConsumableArray(t[n])):e[n]=t[n]}}function Lo(e){return!e&&0!==e}function Bo(e){return e instanceof Ho}function Vo(e){return e instanceof xo}function zo(e){return e instanceof wo}function jo(e){return"class"==e||"style"==e}n(15);var Ho=function(){function e(t){_classCallCheck2(this,e),this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new Dt,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(function(e,n){n.locale=t})),this.decorate("render")}return _createClass2(e,[{key:"createCollection",value:function(){var e=new wo;return this._viewCollections.add(e),e}},{key:"registerChild",value:function(e){Wt(e)||(e=[e]);var t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._unboundChildren.add(a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"deregisterChild",value:function(e){Wt(e)||(e=[e]);var t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._unboundChildren.remove(a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"setTemplate",value:function(e){this.template=new xo(e)}},{key:"extendTemplate",value:function(e){xo.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new _t.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map((function(e){return e.destroy()})),this.template&&this.template._revertData&&this.template.revert(this.element)}},{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=xo.bind(this,this)}}]),e}();Et(Ho,Ji),Et(Ho,Rn);var Wo=function(e){return"string"==typeof e||!se(e)&&m(e)&&"[object String]"==p(e)},Uo=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new xo({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var e=document.querySelector(".ck-body-wrapper");e||(e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=n&&n.xmlns,r=l?e.createElementNS(l,t):e.createElement(t);for(var a in n)r.setAttribute(a,n[a]);!Wo(i)&&Wt(i)||(i=[i]);var o=!0,s=!1,u=void 0;try{for(var c,h=i[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;Wo(d)&&(d=e.createTextNode(d)),r.appendChild(d)}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return r}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}]),t}(wo);n(17);var Yo=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).body=new Uo(e),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}}]),t}(Ho);n(19);var qo=function(e){function t(e){var n;_classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).set("text"),n.set("for"),n.id="ck-editor__label_".concat(bt());var i=n.bindTemplate;return n.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:n.id,for:i.to("for")},children:[{text:i.to("text")}]}),n}return _inherits(t,e),t}(Ho),Go=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).top=n.createCollection(),n.main=n.createCollection(),n._voiceLabelView=n._createVoiceLabel(),n.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":n._voiceLabelView.id},children:[n._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:n.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:n.main}]}),n}return _inherits(t,e),_createClass2(t,[{key:"_createVoiceLabel",value:function(){var e=this.t,t=new qo;return t.text=e("bj"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}]),t}(Yo),Xo=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))).extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),l}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this);var n=this._editingView,i=this.t;n.change((function(t){var l=n.document.getRoot(e.name);t.setAttribute("aria-label",i("by",[e.name]),l)}))}}]),t}(function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),l.name=null,l.set("isFocused",!1),l._editableElement=i,l._hasExternalElement=!!l._editableElement,l._editingView=n,l}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(function(){return e._updateIsFocusedClasses()})),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var e=this._editingView;function t(t){e.change((function(n){var i=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",i)}))}e.isRenderingInProgress?function n(i){e.once("change:isRenderingInProgress",(function(e,l,r){r?n(i):t(i)}))}(this):t(this)}}]),t}(Ho));function Ko(e){return function(t){return t+e}}n(21);var $o=Ko("px"),Zo=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;return n.set("isActive",!1),n.set("isSticky",!1),n.set("limiterElement",null),n.set("limiterBottomOffset",50),n.set("viewportTopOffset",0),n.set("_marginLeft",null),n.set("_isStickyToTheLimiter",!1),n.set("_hasViewportTopOffset",!1),n.content=n.createCollection(),n._contentPanelPlaceholder=new xo({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",(function(e){return e?"block":"none"})),height:i.to("isSticky",(function(e){return e?$o(n._panelRect.height):null}))}}}).render(),n._contentPanel=new xo({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",(function(e){return e?$o(n._contentPanelPlaceholder.getBoundingClientRect().width):null})),top:i.to("_hasViewportTopOffset",(function(e){return e?$o(n.viewportTopOffset):null})),bottom:i.to("_isStickyToTheLimiter",(function(e){return e?$o(n.limiterBottomOffset):null})),marginLeft:i.to("_marginLeft")}},children:n.content}).render(),n.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[n._contentPanelPlaceholder,n._contentPanel]}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(Ui.window,"scroll",(function(){e._checkIfShouldBeSticky()})),this.listenTo(this,"change:isActive",(function(){e._checkIfShouldBeSticky()}))}},{key:"_checkIfShouldBeSticky",value:function(){var e,t=this._panelRect=this._contentPanel.getBoundingClientRect();this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:$o(-Ui.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),t}(Ho),Qo=function(){function e(t){var n=this;if(_classCallCheck2(this,e),Object.assign(this,t),t.actions&&t.keystrokeHandler){var i=function(e){var i=t.actions[e];"string"==typeof i&&(i=[i]);var l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;t.keystrokeHandler.set(u,(function(t,i){n[e](),i()}))}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}};for(var l in t.actions)i(l)}}return _createClass2(e,[{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var t=this.current,n=this.focusables.length;if(!n)return null;if(null===t)return this[1===e?"first":"last"];var i=(t+n+e)%n;do{var l=this.focusables.get(i);if(Jo(l))return l;i=(i+n+e)%n}while(i!==t);return null}},{key:"first",get:function(){return this.focusables.find(Jo)||null}},{key:"last",get:function(){return this.focusables.filter(Jo).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((function(n,i){var l=n.element===e.focusTracker.focusedElement;return l&&(t=i),l})),t)}}]),e}();function Jo(e){return!(!e.focus||"none"==Ui.window.getComputedStyle(e.element).display)}var es=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),n}return _inherits(t,e),t}(Ho),ts=function(){function e(t,n){_classCallCheck2(this,e),e._observerInstance||e._createObserver(),this._element=t,this._callback=n,e._addElementCallback(t,n),e._observerInstance.observe(t)}return _createClass2(e,[{key:"destroy",value:function(){e._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(t,n){e._elementCallbacks||(e._elementCallbacks=new Map);var i=e._elementCallbacks.get(t);i||(i=new Set,e._elementCallbacks.set(t,i)),i.add(n)}},{key:"_deleteElementCallback",value:function(t,n){var i=e._getElementCallbacks(t);i&&(i.delete(n),i.size||(e._elementCallbacks.delete(t),e._observerInstance.unobserve(t))),e._elementCallbacks&&!e._elementCallbacks.size&&(e._observerInstance=null,e._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(t){return e._elementCallbacks?e._elementCallbacks.get(t):null}},{key:"_createObserver",value:function(){e._observerInstance=new("function"==typeof Ui.window.ResizeObserver?Ui.window.ResizeObserver:ns)((function(t){var n=!0,i=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=e._getElementCallbacks(o.target);if(s){var u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){(0,d.value)(o)}}catch(p){c=!0,h=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}}catch(p){i=!0,l=p}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}))}}]),e}();ts._observerInstance=null,ts._elementCallbacks=null;var ns=function(){function e(t){_classCallCheck2(this,e),this._callback=t,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return _createClass2(e,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this;this.listenTo(Ui.window,"resize",(function(){e._checkElementRectsAndExecuteCallback()})),this._periodicCheckTimeout=setTimeout((function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)}),100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var l,r=this._elements[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._hasRectChanged(a)&&e.push({target:a,contentRect:this._previousRects.get(a)})}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var t=new Bl(e),n=this._previousRects.get(e),i=!n||!n.isEqual(t);return this._previousRects.set(e,t),i}}]),e}();Et(ns,Ji);var is=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;return n.set("isVisible",!1),n.set("position","se"),n.children=n.createCollection(),n.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",(function(e){return"ck-dropdown__panel_".concat(e)})),i.if("isVisible","ck-dropdown__panel-visible")]},children:n.children,on:{selectstart:i.to((function(e){return e.preventDefault()}))}}),n}return _inherits(t,e),_createClass2(t,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}]),t}(Ho);function ls(e){var t=e.element,n=e.target,i=e.positions,l=e.limiter,r=e.fitInViewport;E(n)&&(n=n()),E(l)&&(l=l());var a,o,s=function(e){for(;e&&"html"!=e.tagName.toLowerCase();){if("static"!=Ui.window.getComputedStyle(e).position)return e;e=e.parentElement}return null}(t.parentElement),u=new Bl(t),c=new Bl(n);if(l||r){var h=function(e,t,n,i,l){var r,a,o=0,s=0,u=n.getArea();return e.some((function(e){var c,h,d=_slicedToArray(rs(e,t,n),2),f=d[0],p=d[1];if(i)if(l){var v=i.getIntersection(l);c=v?v.getIntersectionArea(p):0}else c=i.getIntersectionArea(p);function g(){s=h,o=c,r=p,a=f}return l&&(h=l.getIntersectionArea(p)),l&&!i?h>s&&g():!l&&i?c>o&&g():(h>s&&c>=o||h>=s&&c>o)&&g(),c===u})),r?[a,r]:null}(i,c,u,l&&new Bl(l).getVisible(),r&&new Bl(Ui.window))||rs(i[0],c,u),d=_slicedToArray(h,2);o=d[0],a=d[1]}else{var f=_slicedToArray(rs(i[0],c,u),2);o=f[0],a=f[1]}var p=as(a),v=p.left,g=p.top;if(s){var m=as(new Bl(s)),y=Nl(s);v-=m.left,g-=m.top,v+=s.scrollLeft,g+=s.scrollTop,v-=y.left,g-=y.top}return{left:v,top:g,name:o}}function rs(e,t,n){var i=e(t,n),l=i.left,r=i.top;return[i.name,n.clone().moveTo(l,r)]}function as(e){var t=e.left,n=e.top,i=Ui.window;return{left:t+i.scrollX,top:n+i.scrollY}}n(23);var os=function(e){function t(e,n,i){var l;_classCallCheck2(this,t);var r=(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;return l.buttonView=n,l.panelView=i,l.set("isOpen",!1),l.set("isEnabled",!0),l.set("class"),l.set("id"),l.set("panelPosition","auto"),l.focusTracker=new po,l.keystrokes=new ro,l.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",r.to("class"),r.if("isEnabled","ck-disabled",(function(e){return!e}))],id:r.to("id"),"aria-describedby":r.to("ariaDescribedById")},children:[n,i]}),n.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),l}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",(function(){e.isOpen=!e.isOpen})),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(function(){e.isOpen&&(e.panelView.position="auto"===e.panelPosition?t._getOptimalPosition({element:e.panelView.element,target:e.buttonView.element,fitInViewport:!0,positions:e._panelPositions}).name:e.panelPosition)})),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);var n=function(t,n){e.isOpen&&(e.buttonView.focus(),e.isOpen=!1,n())};this.keystrokes.set("arrowdown",(function(t,n){e.buttonView.isEnabled&&!e.isOpen&&(e.isOpen=!0,n())})),this.keystrokes.set("arrowright",(function(t,n){e.isOpen&&n()})),this.keystrokes.set("arrowleft",n),this.keystrokes.set("esc",n)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var e=t.defaultPanelPositions,n=e.southEast,i=e.southWest,l=e.northEast,r=e.northWest;return"ltr"===this.locale.uiLanguageDirection?[n,i,l,r]:[i,n,r,l]}}]),t}(Ho);os.defaultPanelPositions={southEast:function(e){return{top:e.bottom,left:e.left,name:"se"}},southWest:function(e,t){return{top:e.bottom,left:e.left-t.width+e.width,name:"sw"}},northEast:function(e,t){return{top:e.top-t.height,left:e.left,name:"ne"}},northWest:function(e,t){return{top:e.bottom-t.height,left:e.left-t.width+e.width,name:"nw"}}},os._getOptimalPosition=ls,n(25);var ss=function(e){function t(){var e;_classCallCheck2(this,t);var n=(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).bindTemplate;return e.set("content",""),e.set("viewBox","0 0 20 20"),e.set("fillColor",""),e.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:n.to("viewBox")}}),e}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(function(){e._updateXMLContent(),e._colorFillPaths()})),this.on("change:fillColor",(function(){e._colorFillPaths()}))}},{key:"_updateXMLContent",value:function(){if(this.content){var e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");for(t&&(this.viewBox=t),this.element.innerHTML="";e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var e=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((function(t){t.style.fill=e.fillColor}))}}]),t}(Ho);n(27);var us=function(e){function t(e){var n;_classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).set("text",""),n.set("position","s");var i=n.bindTemplate;return n.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",i.to("position",(function(e){return"ck-tooltip_"+e})),i.if("text","ck-hidden",(function(e){return!e.trim()}))]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:i.to("text")}]}]}),n}return _inherits(t,e),t}(Ho);n(29);var cs=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate,l=bt();return n.set("class"),n.set("labelStyle"),n.set("icon"),n.set("isEnabled",!0),n.set("isOn",!1),n.set("isVisible",!0),n.set("isToggleable",!1),n.set("keystroke"),n.set("label"),n.set("tabindex",-1),n.set("tooltip"),n.set("tooltipPosition","s"),n.set("type","button"),n.set("withText",!1),n.set("withKeystroke",!1),n.children=n.createCollection(),n.tooltipView=n._createTooltipView(),n.labelView=n._createLabelView(l),n.iconView=new ss,n.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),n.keystrokeView=n._createKeystrokeView(),n.bind("_tooltipString").to(_assertThisInitialized(n),"tooltip",_assertThisInitialized(n),"label",_assertThisInitialized(n),"keystroke",n._getTooltipString.bind(_assertThisInitialized(n))),n.setTemplate({tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",(function(e){return!e})),i.if("isVisible","ck-hidden",(function(e){return!e})),i.to("isOn",(function(e){return e?"ck-on":"ck-off"})),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",(function(e){return e||"button"})),tabindex:i.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_".concat(l),"aria-disabled":i.if("isEnabled",!0,(function(e){return!e})),"aria-pressed":i.to("isOn",(function(e){return!!n.isToggleable&&String(e)}))},children:n.children,on:{mousedown:i.to((function(e){e.preventDefault()})),click:i.to((function(e){n.isEnabled?n.fire("execute"):e.preventDefault()}))}}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var e=new us;return e.bind("text").to(this,"_tooltipString"),e.bind("position").to(this,"tooltipPosition"),e}},{key:"_createLabelView",value:function(e){var t=new Ho;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_".concat(e)},children:[{text:this.bindTemplate.to("label")}]}),t}},{key:"_createKeystrokeView",value:function(){var e=new Ho;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(function(e){return ci(e)}))}]}),e}},{key:"_getTooltipString",value:function(e,t,n){return e?"string"==typeof e?e:(n&&(n=ci(n)),e instanceof Function?e(t,n):"".concat(t).concat(n?" (".concat(n,")"):"")):""}}]),t}(Ho),hs=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).arrowView=n._createArrowView(),n.extendTemplate({attributes:{"aria-haspopup":!0}}),n.delegate("execute").to(_assertThisInitialized(n),"open"),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var e=new ss;return e.content='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}]),t}(cs);n(31);var ds=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).items=e.createCollection(),e.focusTracker=new po,e.keystrokes=new ro,e._focusCycler=new Qo({focusables:e.items,focusTracker:e.focusTracker,keystrokeHandler:e.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),e.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:e.items}),e}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this);var n=!0,i=!1,l=void 0;try{for(var r,a=this.items[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this.focusTracker.add(o.element)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),t}(Ho),fs=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).children=n.createCollection(),n.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:n.children}),n}return _inherits(t,e),_createClass2(t,[{key:"focus",value:function(){this.children.first.focus()}}]),t}(Ho),ps=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),n}return _inherits(t,e),t}(Ho);n(33);var vs=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).isToggleable=!0,n.toggleSwitchView=n._createToggleView(),n.extendTemplate({attributes:{class:"ck-switchbutton"}}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var e=new Ho;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}]),t}(cs);function gs(e){var t=e.emitter,n=e.activator,i=e.callback,l=e.contextElements;t.listenTo(document,"mousedown",(function(e,t){var r=t.target;if(n()){var a=!0,o=!1,s=void 0;try{for(var u,c=l[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){if(u.value.contains(r))return}}catch(h){o=!0,s=h}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}i()}}))}function ms(e){var t=new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:hs)(e),n=new is(e),i=new os(e,t,n);return t.bind("isEnabled").to(i),t instanceof hs?t.bind("isOn").to(i,"isOpen"):t.arrowView.bind("isOn").to(i,"isOpen"),function(e){(function(e){e.on("render",(function(){gs({emitter:e,activator:function(){return e.isOpen},callback:function(){e.isOpen=!1},contextElements:[e.element]})}))})(e),function(e){e.on("execute",(function(t){t.source instanceof vs||(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",(function(t,n){e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",(function(t,n){e.isOpen&&(e.panelView.focusLast(),n())}))}(e)}(i),i}function ys(e,t){var n=e.locale,i=e.listView=new ds(n);i.items.bindTo(t).using((function(e){var t=e.type,i=e.model;if("separator"===t)return new ps(n);if("button"===t||"switchbutton"===t){var l,r,a=new fs(n);return(l=r="button"===t?new cs(n):new vs(n)).bind.apply(l,_toConsumableArray(Object.keys(i))).to(i),r.delegate("execute").to(a),a.children.add(r),a}})),e.panelView.children.add(i),i.items.delegate("execute").to(e)}n(35),n(37),n(39);var bs=function(e){function t(e,n){var i;_classCallCheck2(this,t);var l,r=(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate,a=i.t;return i.options=n||{},i.set("ariaLabel",a("bo")),i.set("maxWidth","auto"),i.items=i.createCollection(),i.focusTracker=new po,i.keystrokes=new ro,i.set("class"),i.set("isCompact",!1),i.itemsView=new ks(e),i.children=i.createCollection(),i.children.add(i.itemsView),i.focusables=i.createCollection(),i._focusCycler=new Qo({focusables:i.focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",r.to("class"),r.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":r.to("ariaLabel"),style:{maxWidth:r.to("maxWidth")}},children:i.children,on:{mousedown:(l=_assertThisInitialized(i),l.bindTemplate.to((function(e){e.target===l.element&&e.preventDefault()})))}}),i._behavior=i.options.shouldGroupWhenFull?new ws(_assertThisInitialized(i)):new _s(_assertThisInitialized(i)),i}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this);var n=!0,i=!1,l=void 0;try{for(var r,a=this.items[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this.focusTracker.add(o.element)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}this.items.on("add",(function(t,n){e.focusTracker.add(n.element)})),this.items.on("remove",(function(t,n){e.focusTracker.remove(n.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(e,t){var n=this;e.map((function(e){"|"==e?n.items.add(new es):t.has(e)?n.items.add(t.create(e)):console.warn(Object(_t.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:e})}))}}]),t}(Ho),ks=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).children=n.createCollection(),n.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:n.children}),n}return _inherits(t,e),t}(Ho),_s=function(){function e(t){_classCallCheck2(this,e);var n=t.bindTemplate;t.set("isVertical",!1),t.itemsView.children.bindTo(t.items).using((function(e){return e})),t.focusables.bindTo(t.items).using((function(e){return e})),t.extendTemplate({attributes:{class:[n.if("isVertical","ck-toolbar_vertical")]}})}return _createClass2(e,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),e}(),ws=function(){function e(t){var n=this;_classCallCheck2(this,e),this.viewChildren=t.children,this.viewFocusables=t.focusables,this.viewItemsView=t.itemsView,this.viewFocusTracker=t.focusTracker,this.viewLocale=t.locale,this.ungroupedItems=t.createCollection(),this.groupedItems=t.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,t.itemsView.children.bindTo(this.ungroupedItems).using((function(e){return e})),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),t.children.on("add",this._updateFocusCycleableItems.bind(this)),t.children.on("remove",this._updateFocusCycleableItems.bind(this)),t.items.on("add",(function(e,t,i){i>n.ungroupedItems.length?n.groupedItems.add(t,i-n.ungroupedItems.length):n.ungroupedItems.add(t,i),n._updateGrouping()})),t.items.on("remove",(function(e,t,i){i>n.ungroupedItems.length?n.groupedItems.remove(t):n.ungroupedItems.remove(t),n._updateGrouping()})),t.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return _createClass2(e,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(this.viewElement.ownerDocument.body.contains(this.viewElement)){for(var e;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}}},{key:"_enableGroupingOnResize",value:function(){var e,t=this;this.resizeObserver=new ts(this.viewElement,(function(n){e&&e===n.contentRect.width||(t._updateGrouping(),e=n.contentRect.width)})),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var t=this;e.on("change:maxWidth",(function(){t._updateGrouping()}))}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new es),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,t=e.t,n=ms(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",function(e,t){var n=e.locale,i=n.t,l=e.toolbarView=new bs(n);l.set("ariaLabel",i("bk")),e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),[].map((function(e){return l.items.add(e)})),e.panelView.children.add(l),l.items.delegate("execute").to(e)}(n),n.buttonView.set({label:t("bp"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),n.toolbarView.items.bindTo(this.groupedItems).using((function(e){return e})),n}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map((function(t){e.viewFocusables.add(t)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Bl(e.lastChild),i=new Bl(e);if(!this.cachedPadding){var l=Ui.window.getComputedStyle(e);this.cachedPadding=Number.parseInt(l["ltr"===t?"paddingRight":"paddingLeft"])}return"ltr"===t?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}}]),e}();n(41);var xs=function(e){function t(e,n){var i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).stickyPanel=new Zo(e),i.toolbar=new bs(e,{shouldGroupWhenFull:l.shouldToolbarGroupWhenFull}),i.editable=new Xo(e,n),i}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),t}(Go),Cs=function(e){function t(e,n){var i;_classCallCheck2(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n)),ft(e)&&(i.sourceElement=e),i.data.processor=new co(i.data.viewDocument),i.model.document.createRoot();var l=!i.config.get("toolbar.shouldNotGroupWhenFull"),r=new xs(i.locale,i.editing.view,{shouldToolbarGroupWhenFull:l});return i.ui=new _o(_assertThisInitialized(i),r),function(e){if(!E(e.updateSourceElement))throw new _t.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",e);var t=e.sourceElement;if(t&&"textarea"===t.tagName.toLowerCase()&&t.form){var n,i=t.form,l=function(){return e.updateSourceElement()};E(i.submit)&&(n=i.submit,i.submit=function(){l(),n.apply(i)}),i.addEventListener("submit",l),e.on("destroy",(function(){i.removeEventListener("submit",l),n&&(i.submit=n)}))}}(_assertThisInitialized(i)),i}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(i){var l=new t(e,n);i(l.initPlugins().then((function(){return l.ui.init(ft(e)?e:null)})).then((function(){if(!ft(e)&&n.initialData)throw new _t.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);var t=n.initialData||function(e){return ft(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e);return l.data.init(t)})).then((function(){return l.fire("ready")})).then((function(){return l})))}))}}]),t}(oo);Et(Cs,{setData:function(e){this.data.set(e)},getData:function(e){return this.data.get(e)}}),Et(Cs,so);var Ss=function(){function e(t){_classCallCheck2(this,e),this.editor=t,this.set("isEnabled",!0),this._disableStack=new Set}return _createClass2(e,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Ts,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Ts),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),e}();function Ts(e){e.return=!1,e.stop()}Et(Ss,Rn);var Ps=function(){function e(t){_classCallCheck2(this,e),this.files=function(e){var t=e.files?Array.from(e.files):[],n=e.items?Array.from(e.items):[];return t.length?t:n.filter((function(e){return"file"===e.kind})).map((function(e){return e.getAsFile()}))}(t),this._native=t}return _createClass2(e,[{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,t){this._native.setData(e,t)}},{key:"types",get:function(){return this._native.types}}]),e}(),Ms=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).document;function l(e,t){t.preventDefault();var n=t.dropRange?[t.dropRange]:Array.from(i.selection.getRanges()),l=new mt(i,"clipboardInput");i.fire(l,{dataTransfer:t.dataTransfer,targetRanges:n}),l.stop.called&&t.stopPropagation()}return n.domEventType=["paste","copy","cut","drop","dragover"],n.listenTo(i,"paste",l,{priority:"low"}),n.listenTo(i,"drop",l,{priority:"low"}),n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){var t={dataTransfer:new Ps(e.clipboardData?e.clipboardData:e.dataTransfer)};"drop"==e.type&&(t.dropRange=function(e,t){var n,i=t.target.ownerDocument,l=t.clientX,r=t.clientY;return i.caretRangeFromPoint&&i.caretRangeFromPoint(l,r)?n=i.caretRangeFromPoint(l,r):t.rangeParent&&((n=i.createRange()).setStart(t.rangeParent,t.rangeOffset),n.collapse(!0)),n?e.domConverter.domRangeToView(n):e.document.selection.getFirstRange()}(this.view,e)),this.fire(e.type,e,t)}}]),t}(yl),As=["figcaption","li"],Is=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,i=t.editing.view,l=i.document;function r(e,i){var r=i.dataTransfer;i.preventDefault();var a=t.data.toView(t.model.getSelectedContent(n.selection));l.fire("clipboardOutput",{dataTransfer:r,content:a,method:e.name})}this._htmlDataProcessor=new co(l),i.addObserver(Ms),this.listenTo(l,"clipboardInput",(function(e){t.isReadOnly&&e.stop()}),{priority:"highest"}),this.listenTo(l,"clipboardInput",(function(t,n){var l,r=n.dataTransfer,a="";r.getData("text/html")?a=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1==t.length?" ":t}))}(r.getData("text/html")):r.getData("text/plain")&&((l=(l=r.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(l="<p>".concat(l,"</p>")),a=l),a=e._htmlDataProcessor.toView(a),e.fire("inputTransformation",{content:a,dataTransfer:r}),i.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",(function(t,n){if(!n.content.isEmpty){var i=e.editor.model,l=e.editor.data.toModel(n.content,"$clipboardHolder");if(0==l.childCount)return;i.insertContent(l)}}),{priority:"low"}),this.listenTo(l,"copy",r,{priority:"low"}),this.listenTo(l,"cut",(function(e,n){t.isReadOnly?n.preventDefault():r(e,n)}),{priority:"low"}),this.listenTo(l,"clipboardOutput",(function(i,l){l.content.isEmpty||(l.dataTransfer.setData("text/html",e._htmlDataProcessor.toData(l.content)),l.dataTransfer.setData("text/plain",function e(t){var n="";if(t.is("text")||t.is("textProxy"))n=t.data;else if(t.is("img")&&t.hasAttribute("alt"))n=t.getAttribute("alt");else{var i=null,l=!0,r=!1,a=void 0;try{for(var o,s=t.getChildren()[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=e(u);i&&(i.is("containerElement")||u.is("containerElement"))&&(As.includes(i.name)||As.includes(u.name)?n+="\n":n+="\n\n"),n+=c,i=u}}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}return n}(l.content))),"cut"==l.method&&t.model.deleteContent(n.selection)}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}}]),t}(Ss),Es=function(){function e(t){var n=this;_classCallCheck2(this,e),this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(function(){n.refresh()})),this.on("execute",(function(e){n.isEnabled||e.stop()}),{priority:"high"}),this.listenTo(t,"change:isReadOnly",(function(e,t,i){i?n.forceDisabled("readOnlyMode"):n.clearForceDisabled("readOnlyMode")}))}return _createClass2(e,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",Ds,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",Ds),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),e}();function Ds(e){e.return=!1,e.stop()}function Os(e,t){var n,i,l,a,o,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=!0,i=!1,l=void 0,r.prev=3,a=t[Symbol.iterator]();case 5:if(n=(o=a.next()).done){r.next=14;break}if(s=o.value,r.t0=s&&e.getAttributeProperties(s[0]).copyOnEnter,!r.t0){r.next=11;break}return r.next=11,s;case 11:n=!0,r.next=5;break;case 14:r.next=20;break;case 16:r.prev=16,r.t1=r.catch(3),i=!0,l=r.t1;case 20:r.prev=20,r.prev=21,n||null==a.return||a.return();case 23:if(r.prev=23,!i){r.next=26;break}throw l;case 26:return r.finish(23);case 27:return r.finish(20);case 28:case"end":return r.stop()}}),r,null,[[3,16,20,28],[21,,23,27]])}Et(Es,Rn);var Fs=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(i){!function(e,t,n,i){var l=n.isCollapsed,r=n.getFirstRange(),a=r.start.parent,o=r.end.parent;if(i.isLimit(a)||i.isLimit(o))l||a!=o||e.deleteContent(n);else if(l){var s=Os(t.model.schema,n.getAttributes());Rs(t,r.start),t.setSelectionAttribute(s)}else{var u=!(r.start.isAtStart&&r.end.isAtEnd),c=a==o;e.deleteContent(n,{leaveUnmerged:u}),u&&(c?Rs(t,n.focus):t.setSelection(o,0))}}(e.editor.model,i,n.selection,t.schema),e.fire("afterExecute",{writer:i})}))}}]),t}(Es);function Rs(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}var Ns=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).document;return i.on("keydown",(function(e,t){var l;n.isEnabled&&t.keyCode==oi.enter&&(i.once("enter",(function(e){return l=e}),{priority:"highest"}),i.fire("enter",new ml(i,t.domEvent,{isSoft:t.shiftKey})),l&&l.stop.called&&e.stop())})),n}return _inherits(t,e),_createClass2(t,[{key:"observe",value:function(){}}]),t}(nl),Ls=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;t.addObserver(Ns),e.commands.add("enter",new Fs(e)),this.listenTo(n,"enter",(function(n,i){i.preventDefault(),i.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),t}(Ss),Bs=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"execute",value:function(){var e=this,t=this.editor.model,n=t.document;t.change((function(i){!function(e,t,n){var i=n.isCollapsed,l=n.getFirstRange(),r=l.end.parent,a=l.start.parent==r;if(i){var o=Os(e.schema,n.getAttributes());Vs(e,t,l.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(o)}else{var s=!(l.start.isAtStart&&l.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:s}),a?Vs(e,t,n.focus):s&&t.setSelection(r,0)}}(t,i,n.selection),e.fire("afterExecute",{writer:i})}))}},{key:"refresh",value:function(){var e=this.editor.model;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;var n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;var i=t.getFirstRange(),l=i.start.parent,r=i.end.parent;return!zs(l,e)&&!zs(r,e)||l===r}(e.schema,e.document.selection)}}]),t}(Es);function Vs(e,t,n){var i=t.createElement("softBreak");e.insertContent(i,n),t.setSelection(i,"after")}function zs(e,t){return!e.is("rootElement")&&(t.isLimit(e)||zs(e.parent,t))}for(var js=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.conversion,n=e.editing.view,i=n.document;e.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),t.for("upcast").elementToElement({model:"softBreak",view:"br"}),t.for("downcast").elementToElement({model:"softBreak",view:function(e,t){return t.createEmptyElement("br")}}),n.addObserver(Ns),e.commands.add("shiftEnter",new Bs(e)),this.listenTo(i,"enter",(function(t,i){i.preventDefault(),i.isSoft&&(e.execute("shiftEnter"),n.scrollToTheSelection())}),{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),t}(Ss),Hs=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;_classCallCheck2(this,e),this.model=t,this.size=0,this.limit=i,this.isLocked=!1,this._changeCallback=function(e,t){"transparent"!=t.type&&t!==n._batch&&n._reset(!0)},this._selectionChangeCallback=function(){n._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return _createClass2(e,[{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}},{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}}]),e}(),Ws=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._buffer=new Hs(e.model,n),i._batches=new WeakSet,i}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document,l=t.text||"",r=l.length,a=t.range?n.createSelection(t.range):i.selection,o=t.resultRange;n.enqueueChange(this._buffer.batch,(function(t){e._buffer.lock(),n.deleteContent(a),l&&n.insertContent(t.createText(l,i.selection.getAttributes()),a),o?t.setSelection(o):a.is("documentSelection")||t.setSelection(a),e._buffer.unlock(),e._buffer.input(r),e._batches.add(e._buffer.batch)}))}},{key:"buffer",get:function(){return this._buffer}}]),t}(Es),Us=[si("arrowUp"),si("arrowRight"),si("arrowDown"),si("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],Ys=112;Ys<=135;Ys++)Us.push(Ys);function qs(e){if(e.newChildren.length-e.oldChildren.length==1){var t=function(e,t){var n,i=[],l=0;return e.forEach((function(e){"equal"==e?(r(),l++):"insert"==e?(a("insert")?n.values.push(t[l]):(r(),n={type:"insert",index:l,values:[t[l]]}),l++):a("delete")?n.howMany++:(r(),n={type:"delete",index:l,howMany:1})})),r(),i;function r(){n&&(i.push(n),n=null)}function a(e){return n&&n.type==e}}(Ni(e.oldChildren,e.newChildren,Gs),e.newChildren);if(!(t.length>1)){var n=t[0];return n.values[0]&&n.values[0].is("text")?n:void 0}}}function Gs(e,t){return e&&e.is("text")&&t&&t.is("text")?e.data===t.data:e===t}var Xs=function(){function e(t){_classCallCheck2(this,e),this.editor=t,this.editing=this.editor.editing}return _createClass2(e,[{key:"handle",value:function(e,t){if(function(e){if(0==e.length)return!1;var t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if("children"===a.type&&!qs(a))return!0}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return!1}(e))this._handleContainerChildrenMutations(e,t);else{var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;this._handleTextMutation(o,t),this._handleTextNodeInsertion(o)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}}},{key:"_handleContainerChildrenMutations",value:function(e,t){var n=function(e){var t=e.map((function(e){return e.node})).reduce((function(e,t){return e.getCommonAncestor(t,{includeSelf:!0})}));if(t)return t.getAncestors({includeSelf:!0,parentFirst:!0}).find((function(e){return e.is("containerElement")||e.is("rootElement")}))}(e);if(n){var i=this.editor.editing.view.domConverter.mapViewToDom(n),l=new Xi(this.editor.editing.view.document),r=this.editor.data.toModel(l.domToView(i)).getChild(0),a=this.editor.editing.mapper.toModelElement(n);if(a){var o=Array.from(r.getChildren()),s=Array.from(a.getChildren()),u=o[o.length-1],c=s[s.length-1];u&&u.is("softBreak")&&c&&!c.is("softBreak")&&o.pop();var h=this.editor.model.schema;if(Ks(o,h)&&Ks(s,h)){var d=o.map((function(e){return e.is("text")?e.data:"@"})).join("").replace(/\u00A0/g," "),f=s.map((function(e){return e.is("text")?e.data:"@"})).join("").replace(/\u00A0/g," ");if(f!==d){var p=$s(Ni(f,d)),v=p.firstChangeAt,g=p.insertions,m=p.deletions,y=null;t&&(y=this.editing.mapper.toModelRange(t.getFirstRange()));var b=d.substr(v,g),k=this.editor.model.createRange(this.editor.model.createPositionAt(a,v),this.editor.model.createPositionAt(a,v+m));this.editor.execute("input",{text:b,range:k,resultRange:y})}}}}}},{key:"_handleTextMutation",value:function(e,t){if("text"==e.type){var n=e.newText.replace(/\u00A0/g," "),i=e.oldText.replace(/\u00A0/g," ");if(i!==n){var l=$s(Ni(i,n)),r=l.firstChangeAt,a=l.insertions,o=l.deletions,s=null;t&&(s=this.editing.mapper.toModelRange(t.getFirstRange()));var u=this.editing.view.createPositionAt(e.node,r),c=this.editing.mapper.toModelPosition(u),h=this.editor.model.createRange(c,c.getShiftedBy(o)),d=n.substr(r,a);this.editor.execute("input",{text:d,range:h,resultRange:s})}}}},{key:"_handleTextNodeInsertion",value:function(e){if("children"==e.type){var t=qs(e),n=this.editing.view.createPositionAt(e.node,t.index),i=this.editing.mapper.toModelPosition(n);this.editor.execute("input",{text:t.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}}]),e}();function Ks(e,t){return e.every((function(e){return t.isInline(e)}))}function $s(e){for(var t=null,n=null,i=0;i<e.length;i++)"equal"!=e[i]&&(t=null===t?i:t,n=i);for(var l=0,r=0,a=t;a<=n;a++)"insert"!=e[a]&&l++,"delete"!=e[a]&&r++;return{insertions:r,deletions:l,firstChangeAt:t}}var Zs=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=new Ws(e,e.config.get("typing.undoStep")||20);e.commands.add("input",t),function(e){var t=null,n=e.model,i=e.editing.view,l=e.commands.get("input");function r(e){var r=n.document,o=i.document.isComposing,s=t&&t.isEqual(r.selection);t=null,l.isEnabled&&(function(e){return!!e.ctrlKey||Us.includes(e.keyCode)}(e)||r.selection.isCollapsed||o&&229===e.keyCode||!o&&229===e.keyCode&&s||a())}function a(){var e=l.buffer;e.lock(),n.enqueueChange(e.batch,(function(){n.deleteContent(n.document.selection)})),e.unlock()}i.document.on(li.isAndroid?"beforeinput":"keydown",(function(e,t){return r(t)}),{priority:"lowest"}),i.document.on("compositionstart",(function(){var e=n.document,t=1!==e.selection.rangeCount||e.selection.getFirstRange().isFlat;e.selection.isCollapsed||t||a()}),{priority:"lowest"}),i.document.on("compositionend",(function(){t=n.createSelection(n.document.selection)}),{priority:"lowest"})}(e),function(e){e.editing.view.document.on("mutations",(function(t,n,i){new Xs(e).handle(n,i)}))}(e)}},{key:"isInput",value:function(e){return this.editor.commands.get("input")._batches.has(e)}}],[{key:"pluginName",get:function(){return"Input"}}]),t}(Ss),Qs=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).direction=n,i._buffer=new Hs(e.model,e.config.get("typing.undoStep")),i}return _inherits(t,e),_createClass2(t,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document;n.enqueueChange(this._buffer.batch,(function(l){e._buffer.lock();var r=l.createSelection(t.selection||i.selection),a=r.isCollapsed;if(r.isCollapsed&&n.modifySelection(r,{direction:e.direction,unit:t.unit}),e._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))e._replaceEntireContentWithParagraph(l);else if(!r.isCollapsed){var o=0;r.getFirstRange().getMinimalFlatRanges().forEach((function(e){o+=Xn(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),n.deleteContent(r,{doNotResetEntireContent:a,direction:e.direction}),e._buffer.input(o),l.setSelection(r),e._buffer.unlock()}}))}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(e){if(e>1)return!1;var t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!t.schema.checkChild(i,"paragraph"))return!1;var l=i.getChild(0);return!l||"paragraph"!==l.name}},{key:"_replaceEntireContentWithParagraph",value:function(e){var t=this.editor.model,n=t.schema.getLimitElement(t.document.selection),i=e.createElement("paragraph");e.remove(e.createRangeIn(n)),e.insert(i,n),e.setSelection(i,0)}},{key:"buffer",get:function(){return this._buffer}}]),t}(Es),Js=function(e){function t(e){var n;_classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e));var i=e.document,l=0;function r(e,t,n){var l;i.once("delete",(function(e){return l=e}),{priority:Number.POSITIVE_INFINITY}),i.fire("delete",new ml(i,t,n)),l&&l.stop.called&&e.stop()}return i.on("keyup",(function(e,t){t.keyCode!=oi.delete&&t.keyCode!=oi.backspace||(l=0)})),i.on("keydown",(function(e,t){var n={};if(t.keyCode==oi.delete)n.direction="forward",n.unit="character";else{if(t.keyCode!=oi.backspace)return;n.direction="backward",n.unit="codePoint"}n.unit=(li.isMac?t.altKey:t.ctrlKey)?"word":n.unit,n.sequence=++l,r(e,t.domEvent,n)})),li.isAndroid&&i.on("beforeinput",(function(t,n){if("deleteContentBackward"==n.domEvent.inputType){var i={unit:"codepoint",direction:"backward",sequence:1},l=n.domTarget.ownerDocument.defaultView.getSelection();l.anchorNode==l.focusNode&&l.anchorOffset+1!=l.focusOffset&&(i.selectionToRemove=e.domConverter.domSelectionToView(l)),r(t,n.domEvent,i)}})),n}return _inherits(t,e),_createClass2(t,[{key:"observe",value:function(){}}]),t}(nl),eu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.editing.view,n=t.document;if(t.addObserver(Js),e.commands.add("forwardDelete",new Qs(e,"forward")),e.commands.add("delete",new Qs(e,"backward")),this.listenTo(n,"delete",(function(n,i){var l={unit:i.unit,sequence:i.sequence};if(i.selectionToRemove){var r=e.model.createSelection(),a=[],o=!0,s=!1,u=void 0;try{for(var c,h=i.selectionToRemove.getRanges()[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;a.push(e.editing.mapper.toModelRange(d))}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}r.setTo(a),l.selection=r}e.execute("forward"==i.direction?"forwardDelete":"delete",l),i.preventDefault(),t.scrollToTheSelection()})),li.isAndroid){var i=null;this.listenTo(n,"delete",(function(e,t){var n=t.domTarget.ownerDocument.defaultView.getSelection();i={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}}),{priority:"lowest"}),this.listenTo(n,"keyup",(function(e,t){if(i){var n=t.domTarget.ownerDocument.defaultView.getSelection();n.collapse(i.anchorNode,i.anchorOffset),n.extend(i.focusNode,i.focusOffset),i=null}}))}}}],[{key:"pluginName",get:function(){return"Delete"}}]),t}(Ss),tu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Zs,eu]}},{key:"pluginName",get:function(){return"Typing"}}]),t}(Ss),nu=new Map;function iu(e,t,n){var i=nu.get(e);i||(i=new Map,nu.set(e,i)),i.set(t,n)}function lu(e){return[e]}function ru(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=function(e,t){var n=nu.get(e);return n&&n.has(t)?n.get(t):lu}(e.constructor,t.constructor);try{return i(e=e.clone(),t,n)}catch(e){throw e}}function au(e,t,n){e=e.slice(),t=t.slice();var i=new ou(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e),i.setOriginalOperations(t);var l=i.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:l};var r=new WeakMap,a=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;r.set(h,0)}}catch(A){o=!0,s=A}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}for(var d={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length},f=0;f<e.length;){var p,v,g=e[f],m=r.get(g);if(m!=t.length){var y=t[m],b=ru(g,y,i.getContext(g,y,!0)),k=ru(y,g,i.getContext(y,g,!1));i.updateRelation(g,y),i.setOriginalOperations(b,g),i.setOriginalOperations(k,y);var _=!0,w=!1,x=void 0;try{for(var C,S=b[Symbol.iterator]();!(_=(C=S.next()).done);_=!0){var T=C.value;r.set(T,m+k.length)}}catch(A){w=!0,x=A}finally{try{_||null==S.return||S.return()}finally{if(w)throw x}}(p=e).splice.apply(p,[f,1].concat(_toConsumableArray(b))),(v=t).splice.apply(v,[m,1].concat(_toConsumableArray(k)))}else f++}if(n.padWithNoOps){var P=e.length-d.originalOperationsACount,M=t.length-d.originalOperationsBCount;uu(e,M-P),uu(t,P-M)}return su(e,d.nextBaseVersionB),su(t,d.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:l}}var ou=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck2(this,e),this.originalOperations=new Map,this._history=t.history,this._useRelations=n,this._forceWeakRemove=!!i,this._relations=new Map}return _createClass2(e,[{key:"setOriginalOperations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t?this.originalOperations.get(t):null,i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;this.originalOperations.set(s,n||s)}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}}},{key:"updateRelation",value:function(e,t){switch(e.constructor){case ma:switch(t.constructor){case wa:e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter");break;case ma:e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter")}break;case xa:switch(t.constructor){case wa:e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");break;case ma:(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))&&this._setRelation(e,t,"splitBefore")}break;case wa:switch(t.constructor){case wa:e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement");break;case xa:e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource")}break;case ba:var n=e.newRange;if(!n)return;switch(t.constructor){case ma:var i=ar._createFromPositionAndShift(t.sourcePosition,t.howMany),l=i.containsPosition(n.start)||i.start.isEqual(n.start),r=i.containsPosition(n.end)||i.end.isEqual(n.end);!l&&!r||i.containsRange(n)||this._setRelation(e,t,{side:l?"left":"right",path:l?n.start.path.slice():n.end.path.slice()});break;case wa:var a=n.start.isEqual(t.targetPosition),o=n.start.isEqual(t.deletionPosition),s=n.end.isEqual(t.deletionPosition),u=n.end.isEqual(t.sourcePosition);(a||o||s||u)&&this._setRelation(e,t,{wasInLeftElement:a,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:s,wasInRightElement:u})}}}},{key:"getContext",value:function(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}},{key:"_getRelation",value:function(e,t){var n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;var l=this.originalOperations.get(e),r=this._relations.get(l);return r&&r.get(i)||null}},{key:"_setRelation",value:function(e,t,n){var i=this.originalOperations.get(e),l=this.originalOperations.get(t),r=this._relations.get(i);r||(r=new Map,this._relations.set(i,r)),r.set(l,n)}}]),e}();function su(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){r.value.baseVersion=t++}}catch(o){i=!0,l=o}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}function uu(e,t){for(var n=0;n<t;n++)e.push(new Ha(0))}function cu(e,t,n){var i=e.nodes.getNode(0).getAttribute(t);if(i==n)return null;var l=new ar(e.position,e.position.getShiftedBy(e.howMany));return new va(l,t,i,n,0)}function hu(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function du(e,t){for(var n=[],i=0;i<e.length;i++){var l=e[i],r=new ma(l.start,l.end.offset-l.start.offset,t,0);n.push(r);for(var a=i+1;a<e.length;a++)e[a]=e[a]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}iu(va,va,(function(e,t,n){if(e.key===t.key){var i=e.range.getDifference(t.range).map((function(t){return new va(t,e.key,e.oldValue,e.newValue,0)})),l=e.range.getIntersection(t.range);return l&&n.aIsStrong&&i.push(new va(l,t.key,t.newValue,e.newValue,0)),0==i.length?[new Ha(0)]:i}return[e]})),iu(va,ya,(function(e,t){if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){var n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((function(t){return new va(t,e.key,e.oldValue,e.newValue,e.baseVersion)}));if(t.shouldReceiveAttributes){var i=cu(t,e.key,e.oldValue);i&&n.unshift(i)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),iu(va,wa,(function(e,t){var n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(ar._createFromPositionAndShift(t.graveyardPosition,1));var i=e.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map((function(t){return new va(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),iu(va,ma,(function(e,t){return function(e,t){var n=ar._createFromPositionAndShift(t.sourcePosition,t.howMany),i=null,l=[];n.containsRange(e,!0)?i=e:e.start.hasSameParentAs(n.start)?(l=e.getDifference(n),i=e.getIntersection(n)):l=[e];var r=[],a=!0,o=!1,s=void 0;try{for(var u,c=l[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;h=h._getTransformedByDeletion(t.sourcePosition,t.howMany);var d=t.getMovedRangeStart(),f=h.start.hasSameParentAs(d);h=h._getTransformedByInsertion(d,t.howMany,f),r.push.apply(r,_toConsumableArray(h))}}catch(p){o=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i&&r.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}(e.range,t).map((function(t){return new va(t,e.key,e.oldValue,e.newValue,e.baseVersion)}))})),iu(va,xa,(function(e,t){if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){var n=e.clone();return n.range=new ar(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),iu(ya,va,(function(e,t){var n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){var i=cu(e,t.key,t.newValue);i&&n.push(i)}return n})),iu(ya,ya,(function(e,t,n){return e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]})),iu(ya,ma,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),iu(ya,xa,(function(e,t){return e.position=e.position._getTransformedBySplitOperation(t),[e]})),iu(ya,wa,(function(e,t){return e.position=e.position._getTransformedByMergeOperation(t),[e]})),iu(ba,ya,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]})),iu(ba,ba,(function(e,t,n){if(e.name==t.name){if(!n.aIsStrong)return[new Ha(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),iu(ba,wa,(function(e,t){return e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]})),iu(ba,ma,(function(e,t,n){if(e.oldRange&&(e.oldRange=ar._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){var i=ar._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.start.path=n.abRelation.path,e.newRange.end=i.end,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=i.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=ar._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),iu(ba,xa,(function(e,t,n){if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){var i=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=rr._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=rr._createAt(t.moveTargetPosition)),e.newRange.end=e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?rr._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?rr._createAt(t.insertionPosition):i.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),iu(wa,ya,(function(e,t){return e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]})),iu(wa,wa,(function(e,t,n){if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){var i=t.graveyardPosition.path.slice();return i.push(0),e.sourcePosition=new rr(t.graveyardPosition.root,i),e.howMany=0,[e]}return[new Ha(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){var l="$graveyard"==e.targetPosition.root.rootName,r="$graveyard"==t.targetPosition.root.rootName;if(r&&!l||!(l&&!r)&&n.aIsStrong){var a=t.targetPosition._getTransformedByMergeOperation(t),o=e.targetPosition._getTransformedByMergeOperation(t);return[new ma(a,e.howMany,o,0)]}return[new Ha(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),iu(wa,ma,(function(e,t,n){var i=ar._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)?[new Ha(0)]:(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),iu(wa,xa,(function(e,t,n){if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){var i=0!=t.howMany,l=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||l||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),iu(ma,ya,(function(e,t){var n=ar._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),iu(ma,ma,(function(e,t,n){var i,l=ar._createFromPositionAndShift(e.sourcePosition,e.howMany),r=ar._createFromPositionAndShift(t.sourcePosition,t.howMany),a=n.aIsStrong,o=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?o=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(o=!1),i=e.targetPosition.isEqual(t.targetPosition)&&o?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),hu(e,t)&&hu(t,e))return[t.getReversed()];if(l.containsPosition(t.targetPosition)&&l.containsRange(r,!0))return l.start=l.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),l.end=l.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),du([l],i);if(r.containsPosition(e.targetPosition)&&r.containsRange(l,!0))return l.start=l.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),l.end=l.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),du([l],i);var s=Bt(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==s||"extension"==s)return l.start=l.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),l.end=l.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),du([l],i);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(a=!1):a=!0;var u=[],c=l.getDifference(r),h=!0,d=!1,f=void 0;try{for(var p,v=c[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value;g.start=g.start._getTransformedByDeletion(t.sourcePosition,t.howMany),g.end=g.end._getTransformedByDeletion(t.sourcePosition,t.howMany);var m="same"==Bt(g.start.getParentPath(),t.getMovedRangeStart().getParentPath()),y=g._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,m);u.push.apply(u,_toConsumableArray(y))}}catch(k){d=!0,f=k}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}var b=l.getIntersection(r);return null!==b&&a&&(b.start=b.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),b.end=b.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===u.length?u.push(b):1==u.length?r.start.isBefore(l.start)||r.start.isEqual(l.start)?u.unshift(b):u.push(b):u.splice(1,0,b)),0===u.length?[new Ha(e.baseVersion)]:du(u,i)})),iu(ma,xa,(function(e,t,n){var i=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=e.targetPosition._getTransformedBySplitOperation(t));var l=ar._createFromPositionAndShift(e.sourcePosition,e.howMany);if(l.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=i,[e];if(l.start.hasSameParentAs(t.splitPosition)&&l.containsPosition(t.splitPosition)){var r=new ar(t.splitPosition,l.end);return r=r._getTransformedBySplitOperation(t),du([new ar(l.start,t.splitPosition),r],i)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(i=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(i=e.targetPosition);var a=[l._getTransformedBySplitOperation(t)];if(t.graveyardPosition){var o=l.start.isEqual(t.graveyardPosition)||l.containsPosition(t.graveyardPosition);e.howMany>1&&o&&!n.aWasUndone&&a.push(ar._createFromPositionAndShift(t.insertionPosition,1))}return du(a,i)})),iu(ma,wa,(function(e,t,n){var i=ar._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new Ha(0)]}else if(!n.aWasUndone){var l=[],r=t.graveyardPosition.clone(),a=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(l.push(new ma(e.sourcePosition,e.howMany-1,e.targetPosition,0)),r=r._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),a=a._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));var o=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),s=new ma(r,1,o,0),u=s.getMovedRangeStart().path.slice();u.push(0);var c=new rr(s.targetPosition.root,u);a=a._getTransformedByMove(r,o,1);var h=new ma(a,t.howMany,c,0);return l.push(s),l.push(h),l}var d=ar._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=d.start,e.howMany=d.end.offset-d.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),iu(ka,ya,(function(e,t){return e.position=e.position._getTransformedByInsertOperation(t),[e]})),iu(ka,wa,(function(e,t){return e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e])})),iu(ka,ma,(function(e,t){return e.position=e.position._getTransformedByMoveOperation(t),[e]})),iu(ka,ka,(function(e,t,n){if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new Ha(0)];e.oldName=t.newName}return[e]})),iu(ka,xa,(function(e,t){if("same"==Bt(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){var n=new ka(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,n]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),iu(_a,_a,(function(e,t,n){if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new Ha(0)];e.oldValue=t.newValue}return[e]})),iu(xa,ya,(function(e,t){return e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=xa.getInsertionPosition(e.splitPosition),[e]})),iu(xa,wa,(function(e,t,n){if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){var i=t.graveyardPosition.path.slice();i.push(0);var l=new rr(t.graveyardPosition.root,i),r=xa.getInsertionPosition(new rr(t.graveyardPosition.root,i)),a=new xa(l,0,null,0);return a.insertionPosition=r,e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=xa.getInsertionPosition(e.splitPosition),e.graveyardPosition=a.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[a,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=xa.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),iu(xa,ma,(function(e,t,n){var i=ar._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){var l=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&l){var r=e.splitPosition._getTransformedByMoveOperation(t),a=e.graveyardPosition._getTransformedByMoveOperation(t),o=a.path.slice();o.push(0);var s=new rr(a.root,o);return[new ma(r,e.howMany,s,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}return e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)?(e.howMany-=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=xa.getInsertionPosition(e.splitPosition),[e]):!e.splitPosition.isEqual(t.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.insertionPosition=e.graveyardPosition?e.insertionPosition._getTransformedByMoveOperation(t):xa.getInsertionPosition(e.splitPosition),[e]):(e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=xa.getInsertionPosition(e.splitPosition),[e])})),iu(xa,xa,(function(e,t,n){if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new Ha(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new Ha(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){var i="$graveyard"==e.splitPosition.root.rootName,l="$graveyard"==t.splitPosition.root.rootName;if(l&&!i||!(i&&!l)&&n.aIsStrong){var r=[];return t.howMany&&r.push(new ma(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&r.push(new ma(e.splitPosition,e.howMany,e.moveTargetPosition,0)),r}return[new Ha(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){var a=t.insertionPosition.path.slice();a.push(0);var o=new rr(t.insertionPosition.root,a);return[e,new ma(e.insertionPosition,1,o,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=xa.getInsertionPosition(e.splitPosition),[e]}));var fu=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._stack=[],n._createdBatches=new WeakSet,n.refresh(),n}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(e){var t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(e,t,n){var i=this.editor.model,l=i.document,r=[],a=!0,o=!1,s=void 0;try{for(var u,c=e[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=pu(u.value,n).find((function(e){return e.start.root!=l.graveyard}));h&&r.push(h)}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}r.length&&i.change((function(e){e.setSelection(r,{backward:t})}))}},{key:"_undo",value:function(e,t){var n=this.editor.model,i=n.document;this._createdBatches.add(t);var l=e.operations.slice().filter((function(e){return e.isDocumentOperation}));l.reverse();var r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=Array.from(i.history.getOperations(c.baseVersion+1)),d=au([c.getReversed()],h,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,f=!0,p=!1,v=void 0;try{for(var g,m=d[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value;t.addOperation(y),n.applyOperation(y),i.history.setOperationAsUndone(c,y)}}catch(b){p=!0,v=b}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}}}catch(b){a=!0,o=b}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}}]),t}(Es);function pu(e,t){var n=e.getTransformedByOperations(t);n.sort((function(e,t){return e.start.isBefore(t.start)?-1:1}));for(var i=1;i<n.length;i++){var l=n[i-1],r=n[i];l.end.isTouching(r.start)&&(l.end=r.end,n.splice(i,1),i--)}return n}var vu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t?this._stack.findIndex((function(e){return e.batch==t})):this._stack.length-1,i=this._stack.splice(n,1)[0],l=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(l,(function(){e._undo(i.batch,l);var t=e.editor.model.document.history.getOperations(i.batch.baseVersion);e._restoreSelection(i.selection.ranges,i.selection.isBackward,t),e.fire("revert",i.batch,l)})),this.refresh()}}]),t}(fu),gu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"execute",value:function(){var e=this,t=this._stack.pop(),n=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(n,(function(){var i=e.editor.model.document.history.getOperations(t.batch.operations[t.batch.operations.length-1].baseVersion+1);e._restoreSelection(t.selection.ranges,t.selection.isBackward,i),e._undo(t.batch,n)})),this.refresh()}}]),t}(fu),mu=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._batchRegistry=new WeakSet,n}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"UndoEditing"}}]),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor;this._undoCommand=new vu(t),this._redoCommand=new gu(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(function(t,n){var i=n[0];if(i.isDocumentOperation){var l=i.batch,r=e._redoCommand._createdBatches.has(l),a=e._undoCommand._createdBatches.has(l);e._batchRegistry.has(l)||"transparent"==l.type&&!r&&!a||(r?e._undoCommand.addBatch(l):a||(e._undoCommand.addBatch(l),e._redoCommand.clearStack()),e._batchRegistry.add(l))}}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(function(t,n,i){e._redoCommand.addBatch(i)})),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}]),t}(Ss),yu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',ku=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?yu:bu,l="ltr"==t.uiLanguageDirection?bu:yu;this._addButton("undo",n("bh"),"CTRL+Z",i),this._addButton("redo",n("bi"),"CTRL+Y",l)}},{key:"_addButton",value:function(e,t,n,i){var l=this,r=this.editor;r.ui.componentFactory.add(e,(function(a){var o=r.commands.get(e),s=new cs(a);return s.set({label:t,icon:i,keystroke:n,tooltip:!0}),s.bind("isEnabled").to(o,"isEnabled"),l.listenTo(s,"execute",(function(){r.execute(e),r.editing.view.focus()})),s}))}}]),t}(Ss),_u=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[mu,ku]}},{key:"pluginName",get:function(){return"Undo"}}]),t}(Ss),wu=function(){function e(t){_classCallCheck2(this,e),this.context=t}return _createClass2(e,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),e}();Et(wu,Rn);var xu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Dt({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(e){if("string"!=typeof e)throw new _t.b("pendingactions-add-invalid-message: The message must be a string.",this);var t=Object.create(Rn);return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}},{key:"remove",value:function(e){this._actions.remove(e),this.hasAny=!!this._actions.length}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}},{key:"first",get:function(){return this._actions.get(0)}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),t}(wu),Cu=function(){function e(){var t=this;_classCallCheck2(this,e);var n=new window.FileReader;this._reader=n,this._data=void 0,this.set("loaded",0),n.onprogress=function(e){t.loaded=e.loaded}}return _createClass2(e,[{key:"read",value:function(e){var t=this,n=this._reader;return this.total=e.size,new Promise((function(i,l){n.onload=function(){var e=n.result;t._data=e,i(e)},n.onerror=function(){l("error")},n.onabort=function(){l("aborted")},t._reader.readAsDataURL(e)}))}},{key:"abort",value:function(){this._reader.abort()}},{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}}]),e}();Et(Cu,Rn);var Su=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this;this.loaders=new Dt,this.loaders.on("add",(function(){return e._updatePendingAction()})),this.loaders.on("remove",(function(){return e._updatePendingAction()})),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0}))}},{key:"getLoader",value:function(e){return this._loadersMap.get(e)||null}},{key:"createLoader",value:function(e){var t=this;if(!this.createUploadAdapter)return console.warn(Object(_t.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;var n=new Tu(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(n),this._loadersMap.set(e,n),e instanceof Promise&&n.file.then((function(e){t._loadersMap.set(e,n)})).catch((function(){})),n.on("change:uploaded",(function(){var e=0,n=!0,i=!1,l=void 0;try{for(var r,a=t.loaders[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){e+=r.value.uploaded}}catch(o){i=!0,l=o}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}t.uploaded=e})),n.on("change:uploadTotal",(function(){var e=0,n=!0,i=!1,l=void 0;try{for(var r,a=t.loaders[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;o.uploadTotal&&(e+=o.uploadTotal)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}t.uploadTotal=e})),n}},{key:"destroyLoader",value:function(e){var t=this,n=e instanceof Tu?e:this.getLoader(e);n._destroy(),this.loaders.remove(n),this._loadersMap.forEach((function(e,i){e===n&&t._loadersMap.delete(i)}))}},{key:"_updatePendingAction",value:function(){var e=this.editor.plugins.get(xu);if(this.loaders.length){if(!this._pendingAction){var t=this.editor.t,n=function(e){return"".concat(t("au")," ").concat(parseInt(e),"%.")};this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[xu]}}]),t}(Ss);Et(Su,Rn);var Tu=function(){function e(t,n){_classCallCheck2(this,e),this.id=bt(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=n(this),this._reader=new Cu,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(function(e,t){return t?e/t*100:0})),this.set("uploadResponse",null)}return _createClass2(e,[{key:"read",value:function(){var e=this;if("idle"!=this.status)throw new _t.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then((function(t){return e._reader.read(t)})).then((function(t){return e.status="idle",t})).catch((function(t){if("aborted"===t)throw e.status="aborted","aborted";throw e.status="error",e._reader.error?e._reader.error:t}))}},{key:"upload",value:function(){var e=this;if("idle"!=this.status)throw new _t.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then((function(){return e._adapter.upload()})).then((function(t){return e.uploadResponse=t,e.status="idle",t})).catch((function(t){if("aborted"===e.status)throw"aborted";throw e.status="error",t}))}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((function(){})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var t={};return t.promise=new Promise((function(n,i){t.rejecter=i,t.isFulfilled=!1,e.then((function(e){t.isFulfilled=!0,n(e)})).catch((function(e){t.isFulfilled=!0,i(e)}))})),t}},{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((function(t){return e._filePromiseWrapper?t:null})):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}}]),e}();Et(Tu,Rn);var Pu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(Su).createUploadAdapter=function(n){return new Mu(n,t,e.editor.t)})}}],[{key:"requires",get:function(){return[Su]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),t}(Ss),Mu=function(){function e(t,n,i){_classCallCheck2(this,e),this.loader=t,this.url=n,this.t=i}return _createClass2(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return new Promise((function(n,i){e._initRequest(),e._initListeners(n,i,t),e._sendRequest(t)}))}))}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,t,n){var i=this.xhr,l=this.loader,r=(0,this.t)("a")+" ".concat(n.name,".");i.addEventListener("error",(function(){return t(r)})),i.addEventListener("abort",(function(){return t()})),i.addEventListener("load",(function(){var n=i.response;if(!n||!n.uploaded)return t(n&&n.error&&n.error.message?n.error.message:r);e({default:n.url})})),i.upload&&i.upload.addEventListener("progress",(function(e){e.lengthComputable&&(l.uploadTotal=e.total,l.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(e){var t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){var e,t=function(e){e=e.toLowerCase();var t=document.cookie.split(";"),n=!0,i=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value.split("=");if(decodeURIComponent(o[0].trim().toLowerCase())===e)return decodeURIComponent(o[1])}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return null}("ckCsrfToken");return t&&40==t.length||(e=t=function(e){var t="",n=new Uint8Array(40);window.crypto.getRandomValues(n);for(var i=0;i<n.length;i++){var l="abcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?l.toUpperCase():l}return t}(),document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(e)+";path=/"),t}()),this.xhr.send(t)}}]),e}(),Au=function(){function e(t,n,i){_classCallCheck2(this,e);var l,r=null;"function"==typeof i?l=i:(r=t.commands.get(i),l=function(){t.execute(i)}),t.model.document.on("change",(function(e,i){if((!r||r.isEnabled)&&"transparent"!=i.type){var a=Array.from(t.model.document.differ.getChanges()),o=a[0];if(1==a.length&&"insert"===o.type&&"$text"==o.name&&1==o.length){var s=o.position.parent;if(s.is("paragraph")&&1===s.childCount){var u=n.exec(s.getChild(0).data);u&&t.model.enqueueChange((function(e){var t=e.createPositionAt(s,0),n=e.createPositionAt(s,u[0].length),i=new mr(t,n);!1!==l({match:u})&&e.remove(i),i.detach()}))}}}}))}return _createClass2(e,null,[{key:"pluginName",get:function(){return"BlockAutoformatEditing"}}]),e}();function Iu(e,t){var n=e.start;return{text:Array.from(e.getItems()).reduce((function(e,i){return i.is("text")||i.is("textProxy")?e+i.data:(n=t.createPositionAfter(i),"")}),""),range:t.createRange(n,e.end)}}var Eu=function(){function e(t,n,i){var l,r,a,o;_classCallCheck2(this,e),n instanceof RegExp?l=n:a=n,"string"==typeof i?r=i:o=i,a=a||function(e){for(var t,n=[],i=[];null!==(t=l.exec(e))&&!(t&&t.length<4);){var r=t,a=r.index,o=r[1],s=r[2],u=r[3],c=[(a+=t[0].length-(o+s+u).length)+o.length+s.length,a+o.length+s.length+u.length];n.push([a,a+o.length]),n.push(c),i.push([a+o.length,a+o.length+s.length])}return{remove:n,format:i}},o=o||function(e,n){var i=t.model.schema.getValidRanges(n,r),l=!0,a=!1,o=void 0;try{for(var s,u=i[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var c=s.value;e.setAttribute(r,!0,c)}}catch(h){a=!0,o=h}finally{try{l||null==u.return||u.return()}finally{if(a)throw o}}e.removeSelectionAttribute(r)},t.model.document.on("change",(function(e,n){if("transparent"!=n.type){var i=t.model,l=i.document.selection;if(l.isCollapsed){var r=Array.from(i.document.differ.getChanges()),s=r[0];if(1==r.length&&"insert"===s.type&&"$text"==s.name&&1==s.length){var u=l.focus,c=u.parent,h=Iu(i.createRange(i.createPositionAt(c,0),u),i),d=h.text,f=h.range,p=a(d),v=Du(f.start,p.format,i),g=Du(f.start,p.remove,i);v.length&&g.length&&i.enqueueChange((function(e){if(!1!==o(e,v)){var t=!0,n=!1,i=void 0;try{for(var l,r=g.reverse()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e.remove(a)}}catch(s){n=!0,i=s}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}}))}}}}))}return _createClass2(e,null,[{key:"pluginName",get:function(){return"InlineAutoformatEditing"}}]),e}();function Du(e,t,n){return t.filter((function(e){return void 0!==e[0]&&void 0!==e[1]})).map((function(t){return n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))}))}function Ou(e,t){return function(n,i){if(!e.commands.get(t).isEnabled)return!1;var l=e.model.schema.getValidRanges(i,t),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;n.setAttribute(t,!0,c)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}n.removeSelectionAttribute(t)}}var Fu=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).attributeKey=n,i}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.document.selection,l=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(i.isCollapsed)l?t.setSelectionAttribute(e.attributeKey,!0):t.removeSelectionAttribute(e.attributeKey);else{var r=n.schema.getValidRanges(i.getRanges(),e.attributeKey),a=!0,o=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;l?t.setAttribute(e.attributeKey,l,h):t.removeAttribute(e.attributeKey,h)}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}))}},{key:"_getValueFromFirstAllowedNode",value:function(){var e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);var i=!0,l=!1,r=void 0;try{for(var a,o=n.getRanges()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u=!0,c=!1,h=void 0;try{for(var d,f=s.getItems()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;if(t.checkAttribute(p,this.attributeKey))return p.hasAttribute(this.attributeKey)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}catch(v){l=!0,r=v}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return!1}}]),t}(Es),Ru=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"bold"}),e.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(e){var t=e.getStyle("font-weight");return t?"bold"==t||Number(t)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),e.commands.add("bold",new Fu(e,"bold")),e.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),t}(Ss),Nu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("bold",(function(i){var l=t.commands.get("bold"),r=new cs(i);return r.set({label:n("d"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(l,"value","isEnabled"),e.listenTo(r,"execute",(function(){t.execute("bold"),t.editing.view.focus()})),r}))}}]),t}(Ss),Lu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor;e.model.schema.extend("$text",{allowAttributes:"italic"}),e.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add("italic",new Fu(e,"italic")),e.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),t}(Ss),Bu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("italic",(function(i){var l=t.commands.get("italic"),r=new cs(i);return r.set({label:n("ai"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(l,"value","isEnabled"),e.listenTo(r,"execute",(function(){t.execute("italic"),t.editing.view.focus()})),r}))}}]),t}(Ss);function Vu(e){var t=e.next();return t.done?null:t.value}var zu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.editor.model,i=n.schema,l=Array.from(n.document.selection.getSelectedBlocks()),r=void 0===t.forceValue?!this.value:t.forceValue;n.change((function(t){if(r){var n=l.filter((function(e){return ju(e)||Wu(i,e)}));e._applyQuote(t,n)}else e._removeQuote(t,l.filter(ju))}))}},{key:"_getValue",value:function(){var e=Vu(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!ju(e))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=Vu(this.editor.model.document.selection.getSelectedBlocks());return!!t&&Wu(e,t)}},{key:"_removeQuote",value:function(e,t){Hu(e,t).reverse().forEach((function(t){if(t.start.isAtStart&&t.end.isAtEnd)e.unwrap(t.start.parent);else if(t.start.isAtStart){var n=e.createPositionBefore(t.start.parent);e.move(t,n)}else{t.end.isAtEnd||e.split(t.end);var i=e.createPositionAfter(t.end.parent);e.move(t,i)}}))}},{key:"_applyQuote",value:function(e,t){var n=[];Hu(e,t).reverse().forEach((function(t){var i=ju(t.start);i||(i=e.createElement("blockQuote"),e.wrap(t,i)),n.push(i)})),n.reverse().reduce((function(t,n){return t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n}))}}]),t}(Es);function ju(e){return"blockQuote"==e.parent.name?e.parent:null}function Hu(e,t){for(var n,i=0,l=[];i<t.length;){var r=t[i],a=t[i+1];n||(n=e.createPositionBefore(r)),a&&r.nextSibling==a||(l.push(e.createRange(n,e.createPositionAfter(r))),n=null),i++}return l}function Wu(e,t){var n=e.checkChild(t.parent,"blockQuote"),i=e.checkChild(["$root","blockQuote"],t);return n&&i}var Uu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new zu(e)),t.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),t.addChildCheck((function(e,t){if(e.endsWith("blockQuote")&&"blockQuote"==t.name)return!1})),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((function(n){var i=e.model.document.differ.getChanges(),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("insert"==u.type){var c=u.position.nodeAfter;if(!c)continue;if(c.is("blockQuote")&&c.isEmpty)return n.remove(c),!0;if(c.is("blockQuote")&&!t.checkChild(u.position,c))return n.unwrap(c),!0;if(c.is("element")){var h=n.createRangeIn(c),d=!0,f=!1,p=void 0;try{for(var v,g=h.getItems()[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value;if(m.is("blockQuote")&&!t.checkChild(n.createPositionBefore(m),m))return n.unwrap(m),!0}}catch(b){f=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(f)throw p}}}}else if("remove"==u.type){var y=u.position.parent;if(y.is("blockQuote")&&y.isEmpty)return n.remove(y),!0}}}catch(b){r=!0,a=b}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return!1}))}},{key:"afterInit",value:function(){var e=this,t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(function(n,i){var l=e.editor.model.document,r=l.selection.getLastPosition().parent;l.selection.isCollapsed&&r.isEmpty&&t.value&&(e.editor.execute("blockQuote"),e.editor.editing.view.scrollToTheSelection(),i.preventDefault(),n.stop())}))}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}}]),t}(Ss);n(43);var Yu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("blockQuote",(function(i){var l=t.commands.get("blockQuote"),r=new cs(i);return r.set({label:n("j"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),r.bind("isOn","isEnabled").to(l,"value","isEnabled"),e.listenTo(r,"execute",(function(){t.execute("blockQuote"),t.editing.view.focus()})),r}))}}]),t}(Ss),qu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.t;e.ui.componentFactory.add("ckfinder",(function(n){var i=e.commands.get("ckfinder"),l=new cs(n);return l.set({label:t("k"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),l.bind("isEnabled").to(i),l.on("execute",(function(){e.execute("ckfinder"),e.editing.view.focus()})),l}))}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),t}(Ss),Gu=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"observe",value:function(e){var t=this;this.listenTo(e,"load",(function(e,n){"IMG"==n.target.tagName&&t._fireEvents(n)}),{useCapture:!0})}},{key:"_fireEvents",value:function(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}]),t}(nl),Xu=function(){function e(){_classCallCheck2(this,e),this._stack=[]}return _createClass2(e,[{key:"add",value:function(e,t){var n=this._stack,i=n[0];this._insertDescriptor(e);var l=n[0];i===l||Ku(i,l)||this.fire("change:top",{oldDescriptor:i,newDescriptor:l,writer:t})}},{key:"remove",value:function(e,t){var n=this._stack,i=n[0];this._removeDescriptor(e);var l=n[0];i===l||Ku(i,l)||this.fire("change:top",{oldDescriptor:i,newDescriptor:l,writer:t})}},{key:"_insertDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e.id}));if(!Ku(e,t[n])){n>-1&&t.splice(n,1);for(var i=0;t[i]&&$u(t[i],e);)i++;t.splice(i,0,e)}}},{key:"_removeDescriptor",value:function(e){var t=this._stack,n=t.findIndex((function(t){return t.id===e}));n>-1&&t.splice(n,1)}}]),e}();function Ku(e,t){return e&&t&&e.priority==t.priority&&Zu(e.classes)==Zu(t.classes)}function $u(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&Zu(e.classes)>Zu(t.classes)}function Zu(e){return Array.isArray(e)?e.sort().join(","):e}function Qu(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function Ju(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return li.isEdge||t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=ic,n.label&&function(e,t,n){n.setCustomProperty("widgetLabel",t,e)}(e,n.label,t),n.hasSelectionHandle&&function(e,t){var n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){var t=this.toDomElement(e),n=new ss;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),function(e,t,n,i){var l=new Xu;l.on("change:top",(function(t,l){l.oldDescriptor&&i(e,l.oldDescriptor,l.writer),l.newDescriptor&&n(e,l.newDescriptor,l.writer)})),t.setCustomProperty("addHighlight",(function(e,t,n){return l.add(t,n)}),e),t.setCustomProperty("removeHighlight",(function(e,t,n){return l.remove(t,n)}),e)}(e,t,(function(e,t,n){return n.addClass(i(t.classes),e)}),(function(e,t,n){return n.removeClass(i(t.classes),e)})),e;function i(e){return Array.isArray(e)?e:[e]}}function ec(e){var t=e.getCustomProperty("widgetLabel");return t?"function"==typeof t?t():t:""}function tc(e,t){return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),li.isEdge||(t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",(function(n,i,l){t.setAttribute("contenteditable",l?"false":"true",e)}))),e.on("change:isFocused",(function(n,i,l){l?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),e}function nc(e,t){var n=e.getSelectedElement();if(n&&t.schema.isBlock(n))return t.createPositionAfter(n);var i=e.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return t.createPositionAt(i,0);var l=t.createPositionAfter(i);return e.focus.isTouching(l)?l:t.createPositionBefore(i)}return e.focus}function ic(){return null}function lc(e){var t=e.getSelectedElement();return t&&function(e){return!!e.getCustomProperty("image")&&Qu(e)}(t)?t:null}function rc(e){return!!e&&e.is("image")}function ac(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.createElement("image",n),l=nc(t.document.selection,t);t.insertContent(i,l),i.parent&&e.setSelection(i,"on")}function oc(e){var t=e.schema,n=e.document.selection;return function(e,t,n){var i=function(e,t){var n=nc(e,t).parent;return n.isEmpty&&!n.is("$root")?n.parent:n}(e,n);return t.checkChild(i,"image")}(n,t,e)&&!function(e,t){var n=e.getSelectedElement();return n&&t.isObject(n)}(n,t)&&function(e){return _toConsumableArray(e.focus.getAncestors()).every((function(e){return!e.is("image")}))}(n)}function sc(e){return Array.from(e.getChildren()).find((function(e){return e.is("img")}))}function uc(e){return function(n){n.on("attribute:".concat(e,":image"),t)};function t(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,l=sc(n.mapper.toViewElement(t.item));null!==t.attributeNewValue?i.setAttribute(t.attributeKey,t.attributeNewValue,l):i.removeAttribute(t.attributeKey,l)}}}Et(Xu,Ct);var cc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.isEnabled=oc(this.editor.model)}},{key:"execute",value:function(e){var t=this.editor.model;t.change((function(n){var i=Array.isArray(e.source)?e.source:[e.source],l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;ac(n,t,{src:u})}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}))}}]),t}(Es),hc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion;e.editing.view.addObserver(Gu),t.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:function(e,t){return dc(t)}}),i.for("editingDowncast").elementToElement({model:"image",view:function(e,t){return i=dc(t),l=t,r=n("aj"),l.setCustomProperty("image",!0,i),Ju(i,l,{label:function(){var e=sc(i).getAttribute("alt");return e?"".concat(e," ").concat(r):r}});var i,l,r}}),i.for("downcast").add(uc("src")).add(uc("alt")).add(function(){return function(t){t.on("attribute:srcset:image",e)};function e(e,t,n){if(n.consumable.consume(t.item,e.name)){var i=n.writer,l=sc(n.mapper.toViewElement(t.item));if(null===t.attributeNewValue){var r=t.attributeOldValue;r.data&&(i.removeAttribute("srcset",l),i.removeAttribute("sizes",l),r.width&&i.removeAttribute("width",l))}else{var a=t.attributeNewValue;a.data&&(i.setAttribute("srcset",a.data,l),i.setAttribute("sizes","100vw",l),a.width&&i.setAttribute("width",a.width,l))}}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(e,t){return t.createElement("image",{src:e.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(e){var t={data:e.getAttribute("srcset")};return e.hasAttribute("width")&&(t.width=e.getAttribute("width")),t}}}).add(function(){return function(t){t.on("element:figure",e)};function e(e,t,n){if(n.consumable.test(t.viewItem,{name:!0,classes:"image"})){var i=sc(t.viewItem);if(i&&i.hasAttribute("src")&&n.consumable.test(i,{name:!0})){var l=n.convertItem(i,t.modelCursor),r=Vu(l.modelRange.getItems());r&&(n.convertChildren(t.viewItem,n.writer.createPositionAt(r,0)),t.modelRange=l.modelRange,t.modelCursor=l.modelCursor)}}}}()),e.commands.add("imageInsert",new cc(e))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),t}(Ss);function dc(e){var t=e.createEmptyElement("img"),n=e.createContainerElement("figure",{class:"image"});return e.insert(e.createPositionAt(n,0),t),n}function fc(e,t,n){return n.createRange(pc(e,t,!0,n),pc(e,t,!1,n))}function pc(e,t,n,i){for(var l=e.textNode||(n?e.nodeBefore:e.nodeAfter),r=null;l&&l.getAttribute("linkHref")==t;)r=l,l=n?l.previousSibling:l.nextSibling;return r?i.createPositionAt(r,n?"before":"after"):e}var vc=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).manualDecorators=new Dt,n}return _inherits(t,e),_createClass2(t,[{key:"restoreManualDecoratorStates",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this.manualDecorators[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=i.value;r.value=this._getDecoratorStateFromModel(r.id)}}catch(a){t=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}}},{key:"refresh",value:function(){var e=this.editor.model,t=e.document;this.value=t.selection.getAttribute("linkHref");var n=!0,i=!1,l=void 0;try{for(var r,a=this.manualDecorators[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}this.isEnabled=e.schema.checkAttributeInSelection(t.selection,"linkHref")}},{key:"execute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.editor.model,i=n.document.selection,l=[],r=[];for(var a in t)t[a]?l.push(a):r.push(a);n.change((function(t){if(i.isCollapsed){var a=i.getFirstPosition();if(i.hasAttribute("linkHref")){var o=fc(a,i.getAttribute("linkHref"),n);t.setAttribute("linkHref",e,o),l.forEach((function(e){t.setAttribute(e,!0,o)})),r.forEach((function(e){t.removeAttribute(e,o)})),t.setSelection(o)}else if(""!==e){var s=Ut(i.getAttributes());s.set("linkHref",e),l.forEach((function(e){s.set(e,!0)}));var u=t.createText(e,s);n.insertContent(u,a),t.setSelection(t.createRangeOn(u))}}else{var c=n.schema.getValidRanges(i.getRanges(),"linkHref"),h=!0,d=!1,f=void 0;try{for(var p,v=function(){var n=p.value;t.setAttribute("linkHref",e,n),l.forEach((function(e){t.setAttribute(e,!0,n)})),r.forEach((function(e){t.removeAttribute(e,n)}))},g=c[Symbol.iterator]();!(h=(p=g.next()).done);h=!0)v()}catch(m){d=!0,f=m}finally{try{h||null==g.return||g.return()}finally{if(d)throw f}}}}))}},{key:"_getDecoratorStateFromModel",value:function(e){return this.editor.model.document.selection.getAttribute(e)||!1}}]),t}(Es),gc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}},{key:"execute",value:function(){var e=this.editor.model,t=e.document.selection,n=this.editor.commands.get("link");e.change((function(i){var l=t.isCollapsed?[fc(t.getFirstPosition(),t.getAttribute("linkHref"),e)]:t.getRanges(),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(i.removeAttribute("linkHref",c),n){var h=!0,d=!1,f=void 0;try{for(var p,v=n.manualDecorators[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value;i.removeAttribute(g.id,c)}}catch(m){d=!0,f=m}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}}}catch(m){a=!0,o=m}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}))}}]),t}(Es),mc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),yc=function(e){return mc.test(e)},bc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",kc="\\ud83c[\\udffb-\\udfff]",_c="[^\\ud800-\\udfff]",wc="(?:\\ud83c[\\udde6-\\uddff]){2}",xc="[\\ud800-\\udbff][\\udc00-\\udfff]",Cc="(?:"+bc+"|"+kc+")?",Sc="[\\ufe0e\\ufe0f]?"+Cc+"(?:\\u200d(?:"+[_c,wc,xc].join("|")+")[\\ufe0e\\ufe0f]?"+Cc+")*",Tc="(?:"+[_c+bc+"?",bc,wc,xc,"[\\ud800-\\udfff]"].join("|")+")",Pc=RegExp(kc+"(?="+kc+")|"+Tc+Sc,"g"),Mc=function(e){e=ln(e);var t=yc(e)?function(e){return yc(e)?function(e){return e.match(Pc)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,n=t?t[0]:e.charAt(0),i=t?function(e,t,n){return un(e,1,n=void 0===n?e.length:n)}(t).join(""):e.slice(1);return n.toUpperCase()+i},Ac=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Ic=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Ec(e,t){var n=t.createAttributeElement("a",{href:e},{priority:5});return t.setCustomProperty("link",!0,n),n}function Dc(e){return function(e){return e.replace(Ac,"").match(Ic)}(e=String(e))?e:"#"}var Oc=function(){function e(){_classCallCheck2(this,e),this._definitions=new Set}return _createClass2(e,[{key:"add",value:function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t._definitions.add(e)})):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(t){t.on("attribute:linkHref",(function(t,n,i){if(i.consumable.test(n.item,"attribute:linkHref")){var l=i.writer,r=l.document.selection,a=!0,o=!1,s=void 0;try{for(var u,c=e._definitions[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value,d=l.createAttributeElement("a",h.attributes,{priority:5});l.setCustomProperty("link",!0,d),h.callback(n.attributeNewValue)?n.item.is("selection")?l.wrap(r.getFirstRange(),d):l.wrap(i.mapper.toViewRange(n.range),d):l.unwrap(i.mapper.toViewRange(n.range),d)}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}),{priority:"high"})}}},{key:"length",get:function(){return this._definitions.size}}]),e}(),Fc=function e(t){var n=t.id,i=t.label,l=t.attributes;_classCallCheck2(this,e),this.id=n,this.set("value"),this.label=i,this.attributes=l};Et(Fc,Rn);var Rc=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.model=t,this.attribute=i,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,n.listenTo(this._modelSelection,"change:range",(function(e,t){l._isNextGravityRestorationSkipped?l._isNextGravityRestorationSkipped=!1:l._isGravityOverridden&&(!t.directChange&&Nc(l._modelSelection.getFirstPosition(),i)||l._restoreGravity())}))}return _createClass2(e,[{key:"handleForwardMovement",value:function(e,t){var n=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return Vc(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._removeSelectionAttribute(),!0):Lc(e,n)||Bc(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._overrideGravity(),!0):void 0}},{key:"handleBackwardMovement",value:function(e,t){var n=this.attribute;return this._isGravityOverridden?Vc(e,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(t),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(t),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):Vc(e,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&Bc(e,n)?this._hasSelectionAttribute?void(zc(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(t),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(t),!0):void 0:void(zc(e,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:"_overrideGravity",value:function(){this._overrideUid=this.model.change((function(e){return e.overrideSelectionGravity()}))}},{key:"_restoreGravity",value:function(){var e=this;this.model.change((function(t){t.restoreSelectionGravity(e._overrideUid),e._overrideUid=null}))}},{key:"_preventCaretMovement",value:function(e){e.preventDefault()}},{key:"_removeSelectionAttribute",value:function(){var e=this;this.model.change((function(t){t.removeSelectionAttribute(e.attribute)}))}},{key:"_setSelectionAttributeFromTheNodeBefore",value:function(e){var t=this,n=this.attribute;this.model.change((function(i){i.setSelectionAttribute(t.attribute,e.nodeBefore.getAttribute(n))}))}},{key:"_skipNextAutomaticGravityRestoration",value:function(){this._isNextGravityRestorationSkipped=!0}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_hasSelectionAttribute",get:function(){return this._modelSelection.hasAttribute(this.attribute)}}]),e}();function Nc(e,t){return Lc(e,t)||Bc(e,t)}function Lc(e,t){var n=e.nodeBefore,i=e.nodeAfter,l=!!n&&n.hasAttribute(t);return!!i&&i.hasAttribute(t)&&(!l||n.getAttribute(t)!==i.getAttribute(t))}function Bc(e,t){var n=e.nodeBefore,i=e.nodeAfter,l=!!n&&n.hasAttribute(t),r=!!i&&i.hasAttribute(t);return l&&(!r||n.getAttribute(t)!==i.getAttribute(t))}function Vc(e,t){var n=e.nodeBefore,i=e.nodeAfter,l=!!n&&n.hasAttribute(t);if(i&&i.hasAttribute(t)&&l)return i.getAttribute(t)!==n.getAttribute(t)}function zc(e,t){return Nc(e.getShiftedBy(-1),t)}n(45);var jc=/^(https?:)?\/\//,Hc=function(e){function t(e){var n;return _classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)),e.config.define("link",{addTargetToExternalLinks:!1}),n}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"LinkEditing"}}]),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.locale;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Ec}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(e,t){return Ec(Dc(e),t)}}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(e){return e.getAttribute("href")}}}),e.commands.add("link",new vc(e)),e.commands.add("unlink",new gc(e));var n=function(e,t){var n={"Open in a new tab":e("av"),Downloadable:e("aw")};return t.forEach((function(e){return e.label&&n[e.label]&&(e.label=n[e.label]),e})),t}(e.t,function(e){var t=[];if(e)for(var n=0,i=Object.entries(e);n<i.length;n++){var l=_slicedToArray(i[n],2),r=l[0],a=l[1],o=Object.assign({},a,{id:"link".concat(Mc(r))});t.push(o)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((function(e){return"automatic"===e.mode}))),this._enableManualDecorators(n.filter((function(e){return"manual"===e.mode}))),function(e){var t=e.view,n=e.model,i=e.emitter,l=e.locale,r=new Rc(n,i,e.attribute),a=n.document.selection;i.listenTo(t.document,"keydown",(function(e,t){if(a.isCollapsed&&!(t.shiftKey||t.altKey||t.ctrlKey)){var n=t.keyCode==oi.arrowright,i=t.keyCode==oi.arrowleft;if(n||i){var o=a.getFirstPosition(),s=l.contentLanguageDirection;("ltr"===s&&n||"rtl"===s&&i?r.handleForwardMovement(o,t):r.handleBackwardMovement(o,t))&&e.stop()}}}),{priority:kt.get("high")+1})}({view:e.editing.view,model:e.model,emitter:this,attribute:"linkHref",locale:t}),this._setupLinkHighlight()}},{key:"_enableAutomaticDecorators",value:function(e){var t=this.editor,n=new Oc;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:"automatic",callback:function(e){return jc.test(e)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}},{key:"_enableManualDecorators",value:function(e){if(e.length){var t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((function(e){t.model.schema.extend("$text",{allowAttributes:e.id}),n.add(new Fc(e)),t.conversion.for("downcast").attributeToElement({model:e.id,view:function(t,i){if(t){var l=n.get(e.id).attributes,r=i.createAttributeElement("a",l,{priority:5});return i.setCustomProperty("link",!0,r),r}}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:n.get(e.id).attributes},model:{key:e.id}})}))}}},{key:"_setupLinkHighlight",value:function(){var e=this.editor,t=e.editing.view,n=new Set;t.document.registerPostFixer((function(t){var i=e.model.document.selection,l=!1;if(i.hasAttribute("linkHref")){var r=fc(i.getFirstPosition(),i.getAttribute("linkHref"),e.model),a=e.editing.mapper.toViewRange(r),o=!0,s=!1,u=void 0;try{for(var c,h=a.getItems()[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;d.is("a")&&!d.hasClass("ck-link_selected")&&(t.addClass("ck-link_selected",d),n.add(d),l=!0)}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}}return l})),e.conversion.for("editingDowncast").add((function(e){function i(){t.change((function(e){var t=!0,i=!1,l=void 0;try{for(var r,a=n.values()[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;e.removeClass("ck-link_selected",o),n.delete(o)}}catch(s){i=!0,l=s}finally{try{t||null==a.return||a.return()}finally{if(i)throw l}}}))}e.on("insert",i,{priority:"highest"}),e.on("remove",i,{priority:"highest"}),e.on("attribute",i,{priority:"highest"}),e.on("selection",i,{priority:"highest"})}))}}]),t}(Ss),Wc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){this.on("show:warning",(function(e,t){window.alert(t.message)}),{priority:"lowest"})}},{key:"showSuccess",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}},{key:"showInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}},{key:"showWarning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}},{key:"_showNotification",value:function(e){this.fire("show:".concat(e.type)+(e.namespace?":".concat(e.namespace):""),{message:e.message,type:e.type,title:e.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),t}(wu),Uc=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).stopListening(n.editor.model.document,"change"),n.listenTo(n.editor.model.document,"change",(function(){return n.refresh()}),{priority:"low"}),n}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.commands.get("imageInsert"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}},{key:"execute",value:function(){var e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new _t.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',e);var n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;var i=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=function(t){i&&i(t),t.on("files:choose",(function(n){var i=n.data.files.toArray(),l=i.filter((function(e){return!e.isImage()})),r=i.filter((function(e){return e.isImage()})),a=!0,o=!1,s=void 0;try{for(var u,c=l[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;e.execute("link",h.getUrl())}}catch(k){o=!0,s=k}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}var d=[],f=!0,p=!1,v=void 0;try{for(var g,m=r[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value,b=y.getUrl();d.push(b||t.request("file:getProxyUrl",{file:y}))}}catch(k){p=!0,v=k}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}d.length&&Yc(e,d)})),t.on("file:choose:resizedImage",(function(t){var n=t.data.resizedUrl;if(n)Yc(e,[n]);else{var i=e.plugins.get("Notification"),l=e.locale.t;i.showWarning(l("bz"),{title:l("ca"),namespace:"ckfinder"})}}))},window.CKFinder[t](n)}}]),t}(Es);function Yc(e,t){if(e.commands.get("imageInsert").isEnabled)e.execute("imageInsert",{source:t});else{var n=e.plugins.get("Notification"),i=e.locale.t;n.showWarning(i("cb"),{title:i("cc"),namespace:"ckfinder"})}}var qc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor;e.commands.add("ckfinder",new Uc(e))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Wc,hc,Hc]}}]),t}(Ss),Gc=/^data:(\S*?);base64,/,Xc=function(){function e(t,n,i){if(_classCallCheck2(this,e),!t)throw new _t.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!n)throw new _t.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!i)throw new _t.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(e){if("string"!=typeof e)return!1;var t=e.match(Gc);return!(!t||!t.length)}(t)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{for(var n=e.match(Gc)[1],i=atob(e.replace(Gc,"")),l=[],r=0;r<i.length;r+=t){for(var a=i.slice(r,r+t),o=new Array(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);l.push(new Uint8Array(o))}return new Blob(l,{type:n})}catch(e){throw new _t.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(t):t,this._token=n,this._apiAddress=i}return _createClass2(e,[{key:"onProgress",value:function(e){return this.on("progress",(function(t,n){return e(n)})),this}},{key:"onError",value:function(e){return this.once("error",(function(t,n){return e(n)})),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,t=this,n=this.xhr;function i(e){return function(){return t.fire("error",e)}}n.addEventListener("error",i("Network Error")),n.addEventListener("abort",i("Abort")),n.upload&&n.upload.addEventListener("progress",(function(t){t.lengthComputable&&e.fire("progress",{total:t.total,uploaded:t.loaded})})),n.addEventListener("load",(function(){var t=n.status,i=n.response;if(t<200||t>299)return e.fire("error",i.message||i.error)}))}},{key:"_sendRequest",value:function(){var e=this,t=new FormData,n=this.xhr;return t.append("file",this.file),new Promise((function(i,l){n.addEventListener("load",(function(){var t=n.status,r=n.response;return t<200||t>299?l(r.message?new _t.b("fileuploader-uploading-data-failed: Uploading file failed.",e,{message:r.message}):r.error):i(r)})),n.addEventListener("error",(function(){return l(new Error("Network Error"))})),n.addEventListener("abort",(function(){return l(new Error("Abort"))})),n.send(t)}))}}]),e}();Et(Xc,Ct);var Kc={refreshInterval:36e5,autoRefresh:!0},$c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kc;if(_classCallCheck2(this,e),!t)throw new _t.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",n.initValue),this._refresh="function"==typeof t?t:function(){return e=t,new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e),i.addEventListener("load",(function(){var e=i.status,l=i.response;return e<200||e>299?n(new _t.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(l)})),i.addEventListener("error",(function(){return n(new Error("Network Error"))})),i.addEventListener("abort",(function(){return n(new Error("Abort"))})),i.send()}));var e},this._options=Object.assign({},Kc,n)}return _createClass2(e,[{key:"init",value:function(){var e=this;return new Promise((function(t,n){e._options.autoRefresh&&e._startRefreshing(),e.value?t(e):e._refreshToken().then(t).catch(n)}))}},{key:"_refreshToken",value:function(){var e=this;return this._refresh().then((function(t){return e.set("value",t)})).then((function(){return e}))}},{key:"destroy",value:function(){this._stopRefreshing()}},{key:"_startRefreshing",value:function(){var e=this;this._refreshInterval=setInterval((function(){return e._refreshToken()}),this._options.refreshInterval)}},{key:"_stopRefreshing",value:function(){clearInterval(this._refreshInterval)}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kc;return new e(t,n).init()}}]),e}();Et($c,Rn);var Zc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.context.config.get("cloudServices")||{};for(var n in e)this[n]=e[n];if(this.tokenUrl)return this.token=new t.Token(this.tokenUrl),this.token.init();this.token=null}}],[{key:"pluginName",get:function(){return"CloudServices"}}]),t}(wu);Zc.Token=$c;var Qc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,n=this.editor,i=n.plugins.get(Zc),l=i.token;l&&(this._uploadGateway=new t._UploadGateway(l,i.uploadUrl),n.plugins.get(Su).createUploadAdapter=function(t){return new Jc(e._uploadGateway,t)})}}],[{key:"requires",get:function(){return[Su,Zc]}}]),t}(Ss),Jc=function(){function e(t,n){_classCallCheck2(this,e),this.uploadGateway=t,this.loader=n}return _createClass2(e,[{key:"upload",value:function(){var e=this;return this.loader.file.then((function(t){return e.fileUploader=e.uploadGateway.upload(t),e.fileUploader.on("progress",(function(t,n){e.loader.uploadTotal=n.total,e.loader.uploaded=n.uploaded})),e.fileUploader.send()}))}},{key:"abort",value:function(){this.fileUploader.abort()}}]),e}();Qc._UploadGateway=function(){function e(t,n){if(_classCallCheck2(this,e),!t)throw new _t.b("uploadgateway-missing-token: Token must be provided.",null);if(!n)throw new _t.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=t,this._apiAddress=n}return _createClass2(e,[{key:"upload",value:function(e){return new Xc(e,this._token,this._apiAddress)}}]),e}();var eh=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType="mousedown",n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(yl);n(47);var th=ui("Ctrl+A"),nh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor.editing.view,n=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(function(t,n,i){e._clearPreviouslySelectedWidgets(i.writer);var l=i.writer,r=l.document.selection,a=r.getSelectedElement(),o=null,s=!0,u=!1,c=void 0;try{for(var h,d=r.getRanges()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value,p=!0,v=!1,g=void 0;try{for(var m,y=f[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value.item;Qu(b)&&!ih(b,o)&&(l.addClass("ck-widget_selected",b),e._previouslySelected.add(b),o=b,b==a&&l.setSelection(r.getRanges(),{fake:!0,label:ec(a)}))}}catch(k){v=!0,g=k}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}}}catch(k){u=!0,c=k}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}),{priority:"low"}),t.addObserver(eh),this.listenTo(n,"mousedown",(function(){return e._onMousedown.apply(e,arguments)})),this.listenTo(n,"keydown",(function(){return e._onKeydown.apply(e,arguments)}),{priority:"high"}),this.listenTo(n,"delete",(function(t,n){e._handleDelete("forward"==n.direction)&&(n.preventDefault(),t.stop())}),{priority:"high"})}},{key:"_onMousedown",value:function(e,t){var n=this.editor,i=n.editing.view,l=i.document,r=t.target;if(function(e){for(;e;){if(e.is("editableElement")&&!e.is("rootElement"))return!0;if(Qu(e))return!1;e=e.parent}return!1}(r)){if(li.isSafari&&t.domEvent.detail>=3){var a=n.editing.mapper.toModelElement(r);this.editor.model.change((function(e){t.preventDefault(),e.setSelection(a,"in")}))}}else if(Qu(r)||(r=r.findAncestor(Qu))){t.preventDefault(),l.isFocused||i.focus();var o=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(o)}}},{key:"_onKeydown",value:function(e,t){var n=t.keyCode,i=n==oi.arrowdown||n==oi["ltr"===this.editor.locale.contentLanguageDirection?"arrowright":"arrowleft"],l=!1;!function(e){return e==oi.arrowright||e==oi.arrowleft||e==oi.arrowup||e==oi.arrowdown}(n)?function(e){return si(e)==th}(t)?l=this._selectAllNestedEditableContent()||this._selectAllContent():n===oi.enter&&(l=this._handleEnterKey(t.shiftKey)):l=this._handleArrowKeys(i),l&&(t.preventDefault(),e.stop())}},{key:"_handleDelete",value:function(e){var t=this;if(!this.editor.isReadOnly){var n=this.editor.model.document.selection;if(n.isCollapsed){var i=this._getObjectElementNextToSelection(e);return i?(this.editor.model.change((function(e){for(var l=n.anchor.parent;l.isEmpty;){var r=l;l=r.parent,e.remove(r)}t._setSelectionOverElement(i)})),!0):void 0}}}},{key:"_handleArrowKeys",value:function(e){var t=this.editor.model,n=t.schema,i=t.document.selection,l=i.getSelectedElement();if(l&&n.isObject(l)){var r=e?i.getLastPosition():i.getFirstPosition(),a=n.getNearestSelectionRange(r,e?"forward":"backward");return a&&t.change((function(e){e.setSelection(a)})),!0}if(i.isCollapsed){var o=this._getObjectElementNextToSelection(e);return o&&n.isObject(o)?(this._setSelectionOverElement(o),!0):void 0}}},{key:"_handleEnterKey",value:function(e){var t,n,i=this.editor.model,l=i.document.selection.getSelectedElement();if(n=i.schema,(t=l)&&n.isObject(t)&&!n.isInline(t))return i.change((function(t){var n=t.createPositionAt(l,e?"before":"after"),r=t.createElement("paragraph");if(i.schema.isBlock(l.parent)){var a=i.schema.findAllowedParent(n,r);n=t.split(n,a).position}t.insert(r,n),t.setSelection(r,"in")})),!0}},{key:"_selectAllNestedEditableContent",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema.getLimitElement(t);return t.getFirstRange().root!=n&&(e.change((function(e){e.setSelection(e.createRangeIn(n))})),!0)}},{key:"_selectAllContent",value:function(){var e=this.editor.model,t=this.editor.editing,n=t.view.document.selection.getSelectedElement();if(n&&Qu(n)){var i=t.mapper.toModelElement(n.parent);return e.change((function(e){e.setSelection(e.createRangeIn(i))})),!0}return!1}},{key:"_setSelectionOverElement",value:function(e){this.editor.model.change((function(t){t.setSelection(t.createRangeOn(e))}))}},{key:"_getObjectElementNextToSelection",value:function(e){var t=this.editor.model,n=t.schema,i=t.createSelection(t.document.selection);t.modifySelection(i,{direction:e?"forward":"backward"});var l=e?i.focus.nodeBefore:i.focus.nodeAfter;return l&&n.isObject(l)?l:null}},{key:"_clearPreviouslySelectedWidgets",value:function(e){var t=!0,n=!1,i=void 0;try{for(var l,r=this._previouslySelected[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e.removeClass("ck-widget_selected",a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}}]),t}(Ss);function ih(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}var lh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();this.isEnabled=rc(e),this.value=!(!rc(e)||!e.hasAttribute("alt"))&&e.getAttribute("alt")}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection.getSelectedElement();t.change((function(t){t.setAttribute("alt",e.newValue,n)}))}}]),t}(Es),rh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new lh(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),t}(Ss);n(49);var ah=function(e){function t(e,n){var i;_classCallCheck2(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e));var l="ck-input-".concat(bt()),r="ck-status-".concat(bt());return i.set("label"),i.set("value"),i.set("isReadOnly",!1),i.set("errorText",null),i.set("infoText",null),i.labelView=i._createLabelView(l),i.inputView=i._createInputView(n,l,r),i.statusView=i._createStatusView(r),i.bind("_statusText").to(_assertThisInitialized(i),"errorText",_assertThisInitialized(i),"infoText",(function(e,t){return e||t})),i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",i.bindTemplate.if("isReadOnly","ck-disabled")]},children:[i.labelView,i.inputView,i.statusView]}),i}return _inherits(t,e),_createClass2(t,[{key:"_createLabelView",value:function(e){var t=new qo(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}},{key:"_createInputView",value:function(e,t,n){var i=this,l=new e(this.locale,n);return l.id=t,l.ariaDescribedById=n,l.bind("value").to(this),l.bind("isReadOnly").to(this),l.bind("hasError").to(this,"errorText",(function(e){return!!e})),l.on("input",(function(){i.errorText=null})),l}},{key:"_createStatusView",value:function(e){var t=new Ho(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",(function(e){return!e}))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}},{key:"select",value:function(){this.inputView.select()}},{key:"focus",value:function(){this.inputView.focus()}}]),t}(Ho);n(51);var oh=function(e){function t(e){var n;_classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).set("value"),n.set("id"),n.set("placeholder"),n.set("isReadOnly",!1),n.set("hasError",!1),n.set("ariaDescribedById");var i=n.bindTemplate;return n.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to("input")}}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this);var n=function(t){e.element.value=t||0===t?t:""};n(this.value),this.on("change:value",(function(e,t,i){n(i)}))}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),t}(Ho);function sh(e){var t=e.view;t.listenTo(t.element,"submit",(function(e,n){n.preventDefault(),t.fire("submit")}),{useCapture:!0})}var uh='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',ch='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';n(53);var hh=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).locale.t;return n.focusTracker=new po,n.keystrokes=new ro,n.labeledInput=n._createLabeledInputView(),n.saveButtonView=n._createButton(i("bb"),uh,"ck-button-save"),n.saveButtonView.type="submit",n.cancelButtonView=n._createButton(i("bc"),ch,"ck-button-cancel","cancel"),n._focusables=new wo,n._focusCycler=new Qo({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),n.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[n.labeledInput,n.saveButtonView,n.cancelButtonView]}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),sh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)}))}},{key:"_createButton",value:function(e,t,n,i){var l=new cs(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),i&&l.delegate("execute").to(this,i),l}},{key:"_createLabeledInputView",value:function(){var e=this.locale.t,t=new ah(this.locale,oh);return t.label=e("cd"),t.inputView.placeholder=e("cd"),t}}]),t}(Ho);n(55);var dh=Ko("px"),fh=Ui.document.body,ph=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;return n.set("top",0),n.set("left",0),n.set("position","arrow_nw"),n.set("isVisible",!1),n.set("withArrow",!0),n.set("class"),n.content=n.createCollection(),n.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",(function(e){return"ck-balloon-panel_".concat(e)})),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",dh),left:i.to("left",dh)}},children:n.content}),n}return _inherits(t,e),_createClass2(t,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(e){this.show();var n=t.defaultPositions,i=Object.assign({},{element:this.element,positions:[n.southArrowNorth,n.southArrowNorthMiddleWest,n.southArrowNorthMiddleEast,n.southArrowNorthWest,n.southArrowNorthEast,n.northArrowSouth,n.northArrowSouthMiddleWest,n.northArrowSouthMiddleEast,n.northArrowSouthWest,n.northArrowSouthEast],limiter:fh,fitInViewport:!0},e),l=t._getOptimalPosition(i),r=parseInt(l.left),a=parseInt(l.top);Object.assign(this,{top:a,left:r,position:l.name})}},{key:"pin",value:function(e){var t=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){t.isVisible?t._startPinning(e):t._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(e){var t=this;this.attachTo(e);var n=vh(e.target),i=e.limiter?vh(e.limiter):fh;this.listenTo(Ui.document,"scroll",(function(l,r){var a=r.target,o=n&&a.contains(n),s=i&&a.contains(i);!o&&!s&&n&&i||t.attachTo(e)}),{useCapture:!0}),this.listenTo(Ui.window,"resize",(function(){t.attachTo(e)}))}},{key:"_stopPinning",value:function(){this.stopListening(Ui.document,"scroll"),this.stopListening(Ui.window,"resize")}}]),t}(Ho);function vh(e){return ft(e)?e:Rl(e)?e.commonAncestorContainer:"function"==typeof e?vh(e()):null}function gh(e,t){return e.top-t.height-ph.arrowVerticalOffset}function mh(e){return e.bottom+ph.arrowVerticalOffset}ph.arrowHorizontalOffset=25,ph.arrowVerticalOffset=10,ph._getOptimalPosition=ls,ph.defaultPositions={northWestArrowSouthWest:function(e,t){return{top:gh(e,t),left:e.left-ph.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(e,t){return{top:gh(e,t),left:e.left-.25*t.width-ph.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(e,t){return{top:gh(e,t),left:e.left-t.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(e,t){return{top:gh(e,t),left:e.left-.75*t.width+ph.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(e,t){return{top:gh(e,t),left:e.left-t.width+ph.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(e,t){return{top:gh(e,t),left:e.left+e.width/2-ph.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(e,t){return{top:gh(e,t),left:e.left+e.width/2-.25*t.width-ph.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(e,t){return{top:gh(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(e,t){return{top:gh(e,t),left:e.left+e.width/2-.75*t.width+ph.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(e,t){return{top:gh(e,t),left:e.left+e.width/2-t.width+ph.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(e,t){return{top:gh(e,t),left:e.right-ph.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(e,t){return{top:gh(e,t),left:e.right-.25*t.width-ph.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(e,t){return{top:gh(e,t),left:e.right-t.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(e,t){return{top:gh(e,t),left:e.right-.75*t.width+ph.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(e,t){return{top:gh(e,t),left:e.right-t.width+ph.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(e,t){return{top:mh(e),left:e.left-ph.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(e,t){return{top:mh(e),left:e.left-.25*t.width-ph.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(e,t){return{top:mh(e),left:e.left-t.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(e,t){return{top:mh(e),left:e.left-.75*t.width+ph.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(e,t){return{top:mh(e),left:e.left-t.width+ph.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(e,t){return{top:mh(e),left:e.left+e.width/2-ph.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(e,t){return{top:mh(e),left:e.left+e.width/2-.25*t.width-ph.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(e,t){return{top:mh(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(e,t){return{top:mh(e),left:e.left+e.width/2-.75*t.width+ph.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(e,t){return{top:mh(e),left:e.left+e.width/2-t.width+ph.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(e,t){return{top:mh(e),left:e.right-ph.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(e,t){return{top:mh(e),left:e.right-.25*t.width-ph.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(e,t){return{top:mh(e),left:e.right-t.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(e,t){return{top:mh(e),left:e.right-.75*t.width+ph.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(e,t){return{top:mh(e),left:e.right-t.width+ph.arrowHorizontalOffset,name:"arrow_ne"}}},n(57),n(59);var yh=Ko("px"),bh=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).positionLimiter=function(){var e=n.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},n.set("visibleView",null),n.view=new ph(e.locale),e.ui.view.body.add(n.view),e.ui.focusTracker.add(n.view.element),n._viewToStack=new Map,n._idToStack=new Map,n.set("_numberOfStacks",0),n.set("_singleViewMode",!1),n._rotatorView=n._createRotatorView(),n._fakePanelsView=n._createFakePanelsView(),n}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),_createClass2(t,[{key:"hasView",value:function(e){return Array.from(this._viewToStack.keys()).includes(e)}},{key:"add",value:function(e){if(this.hasView(e.view))throw new _t.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,e]);var t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));var n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}},{key:"remove",value:function(e){if(!this.hasView(e))throw new _t.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,e]);var t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}},{key:"updatePosition",value:function(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(e){this.visibleStack=e;var t=this._idToStack.get(e);if(!t)throw new _t.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}},{key:"_getStackId",value:function(e){return Array.from(this._idToStack.entries()).find((function(t){return t[1]===e}))[0]}},{key:"_showNextStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}},{key:"_showPrevStack",value:function(){var e=Array.from(this._idToStack.values()),t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}},{key:"_createRotatorView",value:function(){var e=this,t=new kh(this.editor.locale),n=this.editor.locale.t;return this.view.content.add(t),t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>1})),t.on("change:isNavigationVisible",(function(){return e.updatePosition()}),{priority:"low"}),t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(function(t,i){if(i<2)return"";var l=Array.from(e._idToStack.values()).indexOf(e._visibleStack)+1;return n("bl",[l,i])})),t.buttonNextView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showNextStack()})),t.buttonPrevView.on("execute",(function(){t.focusTracker.isFocused&&e.editor.editing.view.focus(),e._showPrevStack()})),t}},{key:"_createFakePanelsView",value:function(){var e=new _h(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(function(e,t){return!t&&e>=2?Math.min(e-1,2):0})),e.listenTo(this.view,"change:top",(function(){return e.updatePosition()})),e.listenTo(this.view,"change:left",(function(){return e.updatePosition()})),this.editor.ui.view.body.add(e),e}},{key:"_showView",value:function(e){var t=e.view,n=e.balloonClassName,i=void 0===n?"":n,l=e.withArrow,r=void 0===l||l,a=e.singleViewMode,o=void 0!==a&&a;this.view.class=i,this.view.withArrow=r,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var e=Array.from(this._visibleStack.values()).pop().position;return e&&!e.limiter&&(e=Object.assign({},e,{limiter:this.positionLimiter})),e}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}}]),t}(Ss),kh=function(e){function t(e){var n;_classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e));var i=e.t,l=n.bindTemplate;return n.set("isNavigationVisible",!0),n.focusTracker=new po,n.buttonPrevView=n._createButtonView(i("bm"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),n.buttonNextView=n._createButtonView(i("bn"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),n.content=n.createCollection(),n.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",l.to("isNavigationVisible",(function(e){return e?"":"ck-hidden"}))]},children:[n.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:l.to("counter")}]},n.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:n.content}]}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(e){this.hideView(),this.content.add(e)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(e,t){var n=new cs(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}]),t}(Ho),_h=function(e){function t(e,n){var i;_classCallCheck2(this,t);var l=(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=n,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",l.to("numberOfPanels",(function(e){return e?"":"ck-hidden"}))],style:{top:l.to("top",yh),left:l.to("left",yh),width:l.to("width",yh),height:l.to("height",yh)}},children:i.content}),i.on("change:numberOfPanels",(function(e,t,n,l){n>l?i._addPanels(n-l):i._removePanels(l-n),i.updatePosition()})),i}return _inherits(t,e),_createClass2(t,[{key:"_addPanels",value:function(e){for(;e--;){var t=new Ho;t.setTemplate({tag:"div"}),this.content.add(t),this.registerChild(t)}}},{key:"_removePanels",value:function(e){for(;e--;){var t=this.content.last;this.content.remove(t),this.deregisterChild(t),t.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var e=this._balloonPanelView,t=e.top,n=e.left,i=new Bl(this._balloonPanelView.element),l=i.width,r=i.height;Object.assign(this,{top:t,left:n,width:l,height:r})}}}]),t}(Ho);function wh(e){var t=e.editing.view,n=ph.defaultPositions;return{target:t.domConverter.viewToDom(t.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}var xh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var e=this,t=this.editor,n=t.t;t.ui.componentFactory.add("imageTextAlternative",(function(i){var l=t.commands.get("imageTextAlternative"),r=new cs(i);return r.set({label:n("bx"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),r.bind("isEnabled").to(l,"isEnabled"),e.listenTo(r,"execute",(function(){e._showForm()})),r}))}},{key:"_createForm",value:function(){var e=this,t=this.editor,n=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new hh(t.locale),this._form.render(),this.listenTo(this._form,"submit",(function(){t.execute("imageTextAlternative",{newValue:e._form.labeledInput.inputView.element.value}),e._hideForm(!0)})),this.listenTo(this._form,"cancel",(function(){e._hideForm(!0)})),this._form.keystrokes.set("Esc",(function(t,n){e._hideForm(!0),n()})),this.listenTo(t.ui,"update",(function(){lc(n.selection)?e._isVisible&&function(e){var t=e.plugins.get("ContextualBalloon");if(lc(e.editing.view.document.selection)){var n=wh(e);t.updatePosition(n)}}(t):e._hideForm(!0)})),gs({emitter:this._form,activator:function(){return e._isVisible},contextElements:[this._balloon.view.element],callback:function(){return e._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:wh(e)}),n.value=n.inputView.element.value=t.value||"",this._form.labeledInput.select()}}},{key:"_hideForm",value:function(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[bh]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),t}(Ss),Ch=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[rh,xh]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),t}(Ss);n(61);var Sh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[hc,nh,Ch]}},{key:"pluginName",get:function(){return"Image"}}]),t}(Ss),Th=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).buttonView=new cs(e),n._fileInputView=new Ph(e),n._fileInputView.bind("acceptedType").to(_assertThisInitialized(n)),n._fileInputView.bind("allowMultipleFiles").to(_assertThisInitialized(n)),n._fileInputView.delegate("done").to(_assertThisInitialized(n)),n.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[n.buttonView,n._fileInputView]}),n.buttonView.on("execute",(function(){n._fileInputView.open()})),n}return _inherits(t,e),_createClass2(t,[{key:"focus",value:function(){this.buttonView.focus()}}]),t}(Ho),Ph=function(e){function t(e){var n;_classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).set("acceptedType"),n.set("allowMultipleFiles",!1);var i=n.bindTemplate;return n.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to((function(){n.element&&n.element.files&&n.element.files.length&&n.fire("done",n.element.files),n.element.value=""}))}}),n}return _inherits(t,e),_createClass2(t,[{key:"open",value:function(){this.element.click()}}]),t}(Ho);function Mh(e){var t=e.map((function(e){return e.replace("+","\\+")}));return new RegExp("^image\\/(".concat(t.join("|"),")$"))}function Ah(e){return new Promise((function(t,n){var i=e.getAttribute("src");fetch(i).then((function(e){return e.blob()})).then((function(e){var l=function(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(e,i),r=function(e,t,n){try{return new File([e],t,{type:n})}catch(e){return null}}(e,"image.".concat(l.replace("image/","")),l);r?t(r):n()})).catch(n)}))}var Ih=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.t;e.ui.componentFactory.add("imageUpload",(function(n){var i=new Th(n),l=e.commands.get("imageUpload"),r=e.config.get("image.upload.types"),a=Mh(r);return i.set({acceptedType:r.map((function(e){return"image/".concat(e)})).join(","),allowMultipleFiles:!0}),i.buttonView.set({label:t("l"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),i.buttonView.bind("isEnabled").to(l),i.on("done",(function(t,n){var i=Array.from(n).filter((function(e){return a.test(e.type)}));i.length&&e.execute("imageUpload",{file:i})})),i}))}}]),t}(Ss);n(63),n(65),n(67);var Eh=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),n}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(function(){return e.uploadStatusChange.apply(e,arguments)}))}},{key:"uploadStatusChange",value:function(e,t,n){var i=this.editor,l=t.item,r=l.getAttribute("uploadId");if(n.consumable.consume(t.item,e.name)){var a=i.plugins.get(Su),o=r?t.attributeNewValue:null,s=this.placeholder,u=i.editing.mapper.toViewElement(l),c=n.writer;if("reading"==o)return Dh(u,c),void Oh(s,u,c);if("uploading"==o){var h=a.loaders.get(r);return Dh(u,c),void(h?(Fh(u,c),function(e,t,n,i){var l=function(e){var t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),l),n.on("change:uploadedPercent",(function(e,t,n){i.change((function(e){e.setStyle("width",n+"%",l)}))}))}(u,c,h,i.editing.view),function(e,t,n){if(n.data){var i=sc(e);t.setAttribute("src",n.data,i)}}(u,c,h)):Oh(s,u,c))}"complete"==o&&a.loaders.get(r)&&!li.isEdge&&function(e,t,n){var i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),i),setTimeout((function(){n.change((function(e){return e.remove(e.createRangeOn(i))}))}),3e3)}(u,c,i.editing.view),function(e,t){Nh(e,t,"progressBar")}(u,c),Fh(u,c),function(e,t){t.removeClass("ck-appear",e)}(u,c)}}}]),t}(Ss);function Dh(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function Oh(e,t,n){t.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",t);var i=sc(t);i.getAttribute("src")!==e&&n.setAttribute("src",e,i),Rh(t,"placeholder")||n.insert(n.createPositionAfter(i),function(e){var t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(n))}function Fh(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),Nh(e,t,"placeholder")}function Rh(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e.getChildren()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.getCustomProperty(t))return o}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}function Nh(e,t,n){var i=Rh(e,n);i&&t.remove(t.createRangeOn(i))}var Lh=function(){function e(t){_classCallCheck2(this,e),this.document=t}return _createClass2(e,[{key:"createDocumentFragment",value:function(e){return new pi(this.document,e)}},{key:"createElement",value:function(e,t,n){return new Tn(this.document,e,t,n)}},{key:"createText",value:function(e){return new jt(this.document,e)}},{key:"clone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}},{key:"appendChild",value:function(e,t){return t._appendChild(e)}},{key:"insertChild",value:function(e,t,n){return n._insertChild(e,t)}},{key:"removeChildren",value:function(e,t,n){return n._removeChildren(e,t)}},{key:"remove",value:function(e){var t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}},{key:"replace",value:function(e,t){var n=e.parent;if(n){var i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}},{key:"unwrapElement",value:function(e){var t=e.parent;if(t){var n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}},{key:"rename",value:function(e,t){var n=new Tn(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}},{key:"setAttribute",value:function(e,t,n){n._setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){t._removeAttribute(e)}},{key:"addClass",value:function(e,t){t._addClass(e)}},{key:"removeClass",value:function(e,t){t._removeClass(e)}},{key:"setStyle",value:function(e,t,n){x(e)&&void 0===n&&(n=t),n._setStyle(e,t)}},{key:"removeStyle",value:function(e,t){t._removeStyle(e)}},{key:"setCustomProperty",value:function(e,t,n){n._setCustomProperty(e,t)}},{key:"removeCustomProperty",value:function(e,t){return t._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,t){return Yn._createAt(e,t)}},{key:"createPositionAfter",value:function(e){return Yn._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Yn._createBefore(e)}},{key:"createRange",value:function(e,t){return new qn(e,t)}},{key:"createRangeOn",value:function(e){return qn._createOn(e)}},{key:"createRangeIn",value:function(e){return qn._createIn(e)}},{key:"createSelection",value:function(e,t,n){return new Kn(e,t,n)}}]),e}(),Bh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.isEnabled=oc(this.editor.model)}},{key:"execute",value:function(e){var t=this.editor,n=t.model,i=t.plugins.get(Su);n.change((function(t){var l=Array.isArray(e.file)?e.file:[e.file],r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;Vh(t,n,i,c)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}))}}]),t}(Es);function Vh(e,t,n,i){var l=n.createLoader(i);l&&ac(e,t,{uploadId:l.id})}var zh=function(e){function t(e){var n;return _classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),n}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Su,Wc,Is]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document,i=t.model.schema,l=t.conversion,r=t.plugins.get(Su),a=Mh(t.config.get("image.upload.types"));i.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new Bh(t)),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(function(e,n){if(i=n.dataTransfer,!Array.from(i.types).includes("text/html")||""===i.getData("text/html")){var i,l=Array.from(n.dataTransfer.files).filter((function(e){return!!e&&a.test(e.type)})),r=n.targetRanges.map((function(e){return t.editing.mapper.toModelRange(e)}));t.model.change((function(n){n.setSelection(r),l.length&&(e.stop(),t.model.enqueueChange("default",(function(){t.execute("imageUpload",{file:l})})))}))}})),this.listenTo(t.plugins.get(Is),"inputTransformation",(function(e,n){var i=Array.from(t.editing.view.createRangeIn(n.content)).filter((function(e){return!(!(t=e.item).is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))&&!e.item.getAttribute("uploadProcessed");var t})).map((function(e){return{promise:Ah(e.item),imageElement:e.item}}));if(i.length){var l=new Lh(t.editing.view.document),a=!0,o=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;l.setAttribute("uploadProcessed",!0,h.imageElement);var d=r.createLoader(h.promise);d&&(l.setAttribute("src","",h.imageElement),l.setAttribute("uploadId",d.id,h.imageElement))}}catch(f){o=!0,s=f}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}})),t.editing.view.document.on("dragover",(function(e,t){t.preventDefault()})),n.on("change",(function(){var i=n.differ.getChanges({includeChangesInGraveyard:!0}),l=!0,a=!1,o=void 0;try{for(var s,u=i[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var c=s.value;if("insert"==c.type&&"$text"!=c.name){var h=c.position.nodeAfter,d="$graveyard"==c.position.root.rootName,f=!0,p=!1,v=void 0;try{for(var g,m=jh(t,h)[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value,b=y.getAttribute("uploadId");if(b){var k=r.loaders.get(b);k&&(d?k.abort():"idle"==k.status&&e._readAndUpload(k,y))}}}catch(_){p=!0,v=_}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}}}}catch(_){a=!0,o=_}finally{try{l||null==u.return||u.return()}finally{if(a)throw o}}}))}},{key:"_readAndUpload",value:function(e,t){var n=this,i=this.editor,l=i.model,r=i.locale.t,a=i.plugins.get(Su),o=i.plugins.get(Wc);return l.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","reading",t)})),e.read().then((function(){var n=e.upload();if(li.isSafari){var r=sc(i.editing.mapper.toViewElement(t));i.editing.view.once("render",(function(){if(r.parent){var e=i.editing.view.domConverter.mapViewToDom(r.parent);if(e){var t=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=t}}}))}return l.enqueueChange("transparent",(function(e){e.setAttribute("uploadStatus","uploading",t)})),n})).then((function(e){l.enqueueChange("transparent",(function(i){i.setAttributes({uploadStatus:"complete",src:e.default},t),n._parseAndSetSrcsetAttributeOnImage(e,t,i)})),s()})).catch((function(n){if("error"!==e.status&&"aborted"!==e.status)throw n;"error"==e.status&&n&&o.showWarning(n,{title:r("am"),namespace:"upload"}),s(),l.enqueueChange("transparent",(function(e){e.remove(t)}))}));function s(){l.enqueueChange("transparent",(function(e){e.removeAttribute("uploadId",t),e.removeAttribute("uploadStatus",t)})),a.destroyLoader(e)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(e,t,n){var i=0,l=Object.keys(e).filter((function(e){var t=parseInt(e,10);if(!isNaN(t))return i=Math.max(i,t),!0})).map((function(t){return"".concat(e[t]," ").concat(t,"w")})).join(", ");""!=l&&n.setAttribute("srcset",{data:l,width:i},t)}}]),t}(Ss);function jh(e,t){return Array.from(e.model.createRangeOn(t)).filter((function(e){return e.item.is("image")})).map((function(e){return e.item}))}var Hh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[zh,Ih,Eh]}}]),t}(Ss),Wh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.model,t=Vu(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("paragraph"),this.isEnabled=!!t&&Uh(t,e.schema)}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document;t.change((function(i){var l=(e.selection||n.selection).getSelectedBlocks(),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;!c.is("paragraph")&&Uh(c,t.schema)&&i.rename(c,"paragraph")}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}))}}]),t}(Es);function Uh(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}var Yh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,n=this.editor,i=n.model,l=n.data;n.commands.add("paragraph",new Wh(n)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),n.conversion.elementToElement({model:"paragraph",view:"p"}),n.conversion.for("upcast").elementToElement({model:function(e,n){return t.paragraphLikeElements.has(e.name)?e.isEmpty?null:n.createElement("paragraph"):null},converterPriority:"low"}),l.upcastDispatcher.on("element",(function(e,t,n){n.consumable.test(t.viewItem,{name:t.viewItem.name})&&Gh(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,qh(t.viewItem,t.modelCursor,n))}),{priority:"low"}),l.upcastDispatcher.on("text",(function(e,t,n){t.modelRange||Gh(t.viewItem,t.modelCursor,n.schema)&&Object.assign(t,qh(t.viewItem,t.modelCursor,n))}),{priority:"lowest"}),i.document.registerPostFixer((function(t){return e._autoparagraphEmptyRoots(t)})),n.data.on("ready",(function(){i.enqueueChange("transparent",(function(t){return e._autoparagraphEmptyRoots(t)}))}),{priority:"lowest"})}},{key:"_autoparagraphEmptyRoots",value:function(e){var t=this.editor.model,n=!0,i=!1,l=void 0;try{for(var r,a=t.document.getRootNames()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=t.document.getRoot(o);if(s.isEmpty&&"$graveyard"!=s.rootName&&t.schema.checkChild(s,"paragraph"))return e.insertElement("paragraph",s),!0}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),t}(Ss);function qh(e,t,n){var i=n.writer.createElement("paragraph");return n.writer.insert(i,t),n.convertItem(e,n.writer.createPositionAt(i,0))}function Gh(e,t,n){var i=n.createContext(t);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),e)}Yh.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);var Xh=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).modelElements=n,i}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this,t=Vu(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some((function(n){return Kh(t,n,e.editor.model.schema)}))}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document,i=e.value;t.change((function(e){var l=Array.from(n.selection.getSelectedBlocks()).filter((function(e){return Kh(e,i,t.schema)})),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;c.is(i)||e.rename(c,i)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}))}}]),t}(Es);function Kh(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}var $h=function(e){function t(e){var n;return _classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),n}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"HeadingEditing"}}]),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.config.get("heading.options"),n=[],i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;"paragraph"!==s.model&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),n.push(s.model))}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}this._addDefaultH1Conversion(e),e.commands.add("heading",new Xh(e,n))}},{key:"afterInit",value:function(){var e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",(function(t,i){var l=e.model.document.selection.getFirstPosition().parent;n.some((function(e){return l.is(e.model)}))&&!l.is("paragraph")&&0===l.childCount&&i.writer.rename(l,"paragraph")}))}},{key:"_addDefaultH1Conversion",value:function(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:kt.get("low")+1})}}],[{key:"requires",get:function(){return[Yh]}}]),t}(Ss),Zh=function e(t,n){_classCallCheck2(this,e),n&&In(this,n),t&&this.set(t)};Et(Zh,Rn),n(11);var Qh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.t,i=function(e){var t=e.t,n={Paragraph:t("bq"),"Heading 1":t("br"),"Heading 2":t("bs"),"Heading 3":t("bt"),"Heading 4":t("bu"),"Heading 5":t("bv"),"Heading 6":t("bw")};return e.config.get("heading.options").map((function(e){var t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(t),l=n("ak"),r=n("al");t.ui.componentFactory.add("heading",(function(n){var a={},o=new Dt,s=t.commands.get("heading"),u=t.commands.get("paragraph"),c=[s],h=!0,d=!1,f=void 0;try{for(var p,v=function(){var e=p.value,t={type:"button",model:new Zh({label:e.title,class:e.class,withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(u,"value"),t.model.set("commandName","paragraph"),c.push(u)):(t.model.bind("isOn").to(s,"value",(function(t){return t===e.model})),t.model.set({commandName:"heading",commandValue:e.model})),o.add(t),a[e.model]=e.title},g=i[Symbol.iterator]();!(h=(p=g.next()).done);h=!0)v()}catch(y){d=!0,f=y}finally{try{h||null==g.return||g.return()}finally{if(d)throw f}}var m=ms(n);return ys(m,o),m.buttonView.set({isOn:!1,withText:!0,tooltip:r}),m.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),m.bind("isEnabled").toMany(c,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),m.buttonView.bind("label").to(s,"value",u,"value",(function(e,t){var n=e||t&&"paragraph";return a[n]?a[n]:l})),e.listenTo(m,"execute",(function(e){t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()})),m}))}}]),t}(Ss);function Jh(e){var t=!0,n=!1,i=void 0;try{for(var l,r=e.getChildren()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if(a&&a.is("caption"))return a}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return null}function ed(e){var t=e.parent;return"figcaption"==e.name&&t&&"figure"==t.name&&t.hasClass("image")?{name:!0}:null}var td=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.editing.view,i=t.data,l=t.editing,r=t.t;t.model.schema.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer((function(t){return e._insertMissingModelCaptionElement(t)})),t.conversion.for("upcast").elementToElement({view:ed,model:"caption"}),i.downcastDispatcher.on("insert:caption",nd((function(e){return e.createContainerElement("figcaption")}),!1));var a=function(e,t){return function(n){var i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),mo({view:e,element:i,text:t}),tc(i,n)}}(n,r("an"));l.downcastDispatcher.on("insert:caption",nd(a)),l.downcastDispatcher.on("insert",this._fixCaptionVisibility((function(e){return e.item})),{priority:"high"}),l.downcastDispatcher.on("remove",this._fixCaptionVisibility((function(e){return e.position.parent})),{priority:"high"}),n.document.registerPostFixer((function(t){return e._updateCaptionVisibility(t)}))}},{key:"_updateCaptionVisibility",value:function(e){var t,n=this.editor.editing.mapper,i=this._lastSelectedCaption,l=this.editor.model.document.selection,r=l.getSelectedElement();if(r&&r.is("image")){var a=Jh(r);t=n.toViewElement(a)}var o=id(l.getFirstPosition().parent);if(o&&(t=n.toViewElement(o)),t)return i?(i===t||(ld(i,e),this._lastSelectedCaption=t),rd(t,e)):(this._lastSelectedCaption=t,rd(t,e));if(i){var s=ld(i,e);return this._lastSelectedCaption=null,s}return!1}},{key:"_fixCaptionVisibility",value:function(e){var t=this;return function(n,i,l){var r=id(e(i)),a=l.writer;if(r){var o=t.editor.editing.mapper.toViewElement(r);o&&(r.childCount?a.removeClass("ck-hidden",o):a.addClass("ck-hidden",o))}}}},{key:"_insertMissingModelCaptionElement",value:function(e){var t=this.editor.model,n=t.document.differ.getChanges(),i=[],l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if("insert"==u.type&&"$text"!=u.name){var c=u.position.nodeAfter;if(c.is("image")&&!Jh(c)&&i.push(c),!c.is("image")&&c.childCount){var h=!0,d=!1,f=void 0;try{for(var p,v=t.createRangeIn(c).getItems()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value;g.is("image")&&!Jh(g)&&i.push(g)}}catch(k){d=!0,f=k}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}}}}catch(k){r=!0,a=k}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}for(var m=0,y=i;m<y.length;m++){var b=y[m];e.appendElement("caption",b)}return!!i.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),t}(Ss);function nd(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,i,l){var r=i.item;if((r.childCount||t)&&rc(r.parent)){if(!l.consumable.consume(i.item,"insert"))return;var a=l.mapper.toViewElement(i.range.start.parent),o=e(l.writer),s=l.writer;r.childCount||s.addClass("ck-hidden",o),function(e,t,n,i){var l=i.writer.createPositionAt(n,"end");i.writer.insert(l,e),i.mapper.bindElements(t,e)}(o,i.item,a,l)}}}function id(e){var t=e.getAncestors({includeSelf:!0}).find((function(e){return"caption"==e.name}));return t&&t.parent&&"image"==t.parent.name?t:null}function ld(e,t){return!e.childCount&&!e.hasClass("ck-hidden")&&(t.addClass("ck-hidden",e),!0)}function rd(e,t){return!!e.hasClass("ck-hidden")&&(t.removeClass("ck-hidden",e),!0)}n(70);var ad=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).defaultStyle=!1,i.styles=n.reduce((function(e,t){return e[t.name]=t,t.isDefault&&(i.defaultStyle=t.name),e}),{}),i}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=rc(e),e)if(e.hasAttribute("imageStyle")){var t=e.getAttribute("imageStyle");this.value=!!this.styles[t]&&t}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(e){var t=this,n=e.value,i=this.editor.model,l=i.document.selection.getSelectedElement();i.change((function(e){t.styles[n].isDefault?e.removeAttribute("imageStyle",l):e.setAttribute("imageStyle",n,l)}))}}]),t}(Es);function od(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.name===e)return o}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}var sd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',ud='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',cd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',hd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',dd={full:{name:"full",title:"Full size image",icon:sd,isDefault:!0},side:{name:"side",title:"Side image",icon:hd,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:ud,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:cd,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:hd,className:"image-style-align-right"}},fd={full:sd,left:ud,right:hd,center:cd};function pd(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(vd)}function vd(e){if("string"==typeof e){var t=e;dd[t]?e=Object.assign({},dd[t]):(console.warn(Object(_t.a)("image-style-not-found: There is no such image style of given name."),{name:t}),e={name:t})}else if(dd[e.name]){var n=dd[e.name],i=Object.assign({},e);for(var l in n)e.hasOwnProperty(l)||(i[l]=n[l]);e=i}return"string"==typeof e.icon&&fd[e.icon]&&(e.icon=fd[e.icon]),e}var gd=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.data,i=e.editing;e.config.define("image.styles",["full","side"]);var l=pd(e.config.get("image.styles"));t.extend("image",{allowAttributes:"imageStyle"});var r=function(e){return function(t,n,i){if(i.consumable.consume(n.item,t.name)){var l=od(n.attributeNewValue,e),r=od(n.attributeOldValue,e),a=i.mapper.toViewElement(n.item),o=i.writer;r&&o.removeClass(r.className,a),l&&o.addClass(l.className,a)}}}(l);i.downcastDispatcher.on("attribute:imageStyle:image",r),n.downcastDispatcher.on("attribute:imageStyle:image",r),n.upcastDispatcher.on("element:figure",function(e){var t=e.filter((function(e){return!e.isDefault}));return function(e,n,i){if(n.modelRange){var l=n.viewItem,r=Vu(n.modelRange.getItems());if(i.schema.checkAttribute(r,"imageStyle")){var a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;i.consumable.consume(l,{classes:h.className})&&i.writer.setAttribute("imageStyle",h.name,r)}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}}}(l),{priority:"low"}),e.commands.add("imageStyle",new ad(e,l))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),t}(Ss);n(72);var md=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;t[o.title]&&(o.title=t[o.title])}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return e}(pd(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),t=!0,n=!1,i=void 0;try{for(var l,r=e[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;this._createButton(a)}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"_createButton",value:function(e){var t=this,n=this.editor;n.ui.componentFactory.add("imageStyle:".concat(e.name),(function(i){var l=n.commands.get("imageStyle"),r=new cs(i);return r.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),r.bind("isEnabled").to(l,"isEnabled"),r.bind("isOn").to(l,"value",(function(t){return t===e.name})),t.listenTo(r,"execute",(function(){n.execute("imageStyle",{value:e.name}),n.editing.view.focus()})),r}))}},{key:"localizedDefaultStylesTitles",get:function(){var e=this.editor.t;return{"Full size image":e("e"),"Side image":e("f"),"Left aligned image":e("g"),"Centered image":e("h"),"Right aligned image":e("i")}}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),t}(Ss),yd=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor;if(t.plugins.has("BalloonToolbar")){var n=t.plugins.get("BalloonToolbar");this.listenTo(n,"show",(function(e){(function(e){var t=e.getSelectedElement();return!(!t||!Qu(t))})(t.editing.view.document.selection)&&e.stop()}),{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui,"update",(function(){e._updateToolbarsVisibility()})),this.listenTo(t.ui.focusTracker,"change:isFocused",(function(){e._updateToolbarsVisibility()}),{priority:"low"})}},{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this);var e=!0,n=!1,i=void 0;try{for(var l,r=this._toolbarDefinitions.values()[Symbol.iterator]();!(e=(l=r.next()).done);e=!0){l.value.view.destroy()}}catch(a){n=!0,i=a}finally{try{e||null==r.return||r.return()}finally{if(n)throw i}}}},{key:"register",value:function(e,t){var n=t.ariaLabel,i=t.items,l=t.getRelatedElement,r=t.balloonClassName,a=void 0===r?"ck-toolbar-container":r,o=this.editor,s=o.t,u=new bs(o.locale);if(u.ariaLabel=n||s("at"),this._toolbarDefinitions.has(e))throw new _t.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:e});u.fillFromConfig(i,o.ui.componentFactory),this._toolbarDefinitions.set(e,{view:u,getRelatedElement:l,balloonClassName:a})}},{key:"_updateToolbarsVisibility",value:function(){var e=0,t=null,n=null,i=!0,l=!1,r=void 0;try{for(var a,o=this._toolbarDefinitions.values()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u=s.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){var c=u.getAncestors().length;c>e&&(e=c,t=u,n=s)}else this._isToolbarVisible(s)&&this._hideToolbar(s);else this._isToolbarInBalloon(s)&&this._hideToolbar(s)}}catch(h){l=!0,r=h}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}n&&this._showToolbar(n,t)}},{key:"_hideToolbar",value:function(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(e,t){var n=this;this._isToolbarVisible(e)?bd(this.editor,t):this._isToolbarInBalloon(e)||(this._balloon.add({view:e.view,position:kd(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(function(){var e=!0,t=!1,i=void 0;try{for(var l,r=n._toolbarDefinitions.values()[Symbol.iterator]();!(e=(l=r.next()).done);e=!0){var a=l.value;if(n._isToolbarVisible(a)){var o=a.getRelatedElement(n.editor.editing.view.document.selection);bd(n.editor,o)}}}catch(s){t=!0,i=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw i}}})))}},{key:"_isToolbarVisible",value:function(e){return this._balloon.visibleView===e.view}},{key:"_isToolbarInBalloon",value:function(e){return this._balloon.hasView(e.view)}}],[{key:"requires",get:function(){return[bh]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),t}(Ss);function bd(e,t){var n=e.plugins.get("ContextualBalloon"),i=kd(e,t);n.updatePosition(i)}function kd(e,t){var n=ph.defaultPositions;return{target:e.editing.view.domConverter.mapViewToDom(t),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}var _d=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._childCommands=[],n}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._getFirstEnabledCommand().execute(t)}},{key:"registerChildCommand",value:function(e){var t=this;this._childCommands.push(e),e.on("change:isEnabled",(function(){return t._checkEnabled()})),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find((function(e){return e.isEnabled}))}}]),t}(Es),wd=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor;e.commands.add("indent",new _d(e)),e.commands.add("outdent",new _d(e))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),t}(Ss),xd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',Cd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',Sd=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?xd:Cd,l="ltr"==t.uiLanguageDirection?Cd:xd;this._defineButton("indent",n("ag"),i),this._defineButton("outdent",n("ah"),l)}},{key:"_defineButton",value:function(e,t,n){var i=this,l=this.editor;l.ui.componentFactory.add(e,(function(r){var a=l.commands.get(e),o=new cs(r);return o.set({label:t,icon:n,tooltip:!0}),o.bind("isOn","isEnabled").to(a,"value","isEnabled"),i.listenTo(o,"execute",(function(){l.execute(e),l.editing.view.focus()})),o}))}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),t}(Ss),Td=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType="click",n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(yl);n(74);var Pd=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e));var l=e.t;n.focusTracker=new po,n.keystrokes=new ro,n.urlInputView=n._createUrlInput(),n.saveButtonView=n._createButton(l("bb"),uh,"ck-button-save"),n.saveButtonView.type="submit",n.cancelButtonView=n._createButton(l("bc"),ch,"ck-button-cancel","cancel"),n._manualDecoratorSwitches=n._createManualDecoratorSwitches(i),n.children=n._createFormChildren(i),n._focusables=new wo,n._focusCycler=new Qo({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var r=["ck","ck-link-form"];return i.length&&r.push("ck-link-form_layout-vertical"),n.setTemplate({tag:"form",attributes:{class:r,tabindex:"-1"},children:n.children}),n}return _inherits(t,e),_createClass2(t,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce((function(e,t){return e[t.name]=t.isOn,e}),{})}},{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),sh({view:this}),[this.urlInputView].concat(_toConsumableArray(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var e=this.locale.t,t=new ah(this.locale,oh);return t.label=e("bg"),t.inputView.placeholder="https://example.com",t}},{key:"_createButton",value:function(e,t,n,i){var l=new cs(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),i&&l.delegate("execute").to(this,i),l}},{key:"_createManualDecoratorSwitches",value:function(e){var t=this,n=this.createCollection(),i=!0,l=!1,r=void 0;try{for(var a,o=function(){var e=a.value,i=new vs(t.locale);i.set({name:e.id,label:e.label,withText:!0}),i.bind("isOn").to(e,"value"),i.on("execute",(function(){e.set("value",!i.isOn)})),n.add(i)},s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0)o()}catch(u){l=!0,r=u}finally{try{i||null==s.return||s.return()}finally{if(l)throw r}}return n}},{key:"_createFormChildren",value:function(e){var t=this.createCollection();if(t.add(this.urlInputView),e.length){var n=new Ho;n.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((function(e){return{tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}})),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(n)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}}]),t}(Ho);n(76);var Md=function(e){function t(e){var n;_classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e));var i=e.t;return n.focusTracker=new po,n.keystrokes=new ro,n.previewButtonView=n._createPreviewButton(),n.unlinkButtonView=n._createButton(i("ax"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),n.editButtonView=n._createButton(i("ay"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),n.set("href"),n._focusables=new wo,n._focusCycler=new Qo({focusables:n._focusables,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),n.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[n.previewButtonView,n.editButtonView,n.unlinkButtonView]}),n}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(e,t,n){var i=new cs(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}},{key:"_createPreviewButton",value:function(){var e=new cs(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("az")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(function(e){return e&&Dc(e)})),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(function(e){return e||n("ba")})),e.bind("isEnabled").to(this,"href",(function(e){return!!e})),e.template.tag="a",e.template.eventListeners={},e}}]),t}(Ho),Ad=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor;e.editing.view.addObserver(Td),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=e.plugins.get(bh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}},{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var e=this,t=this.editor,n=new Md(t.locale),i=t.commands.get("link"),l=t.commands.get("unlink");return n.bind("href").to(i,"value"),n.editButtonView.bind("isEnabled").to(i),n.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(n,"edit",(function(){e._addFormView()})),this.listenTo(n,"unlink",(function(){t.execute("unlink"),e._hideUI()})),n.keystrokes.set("Esc",(function(t,n){e._hideUI(),n()})),n.keystrokes.set("Ctrl+K",(function(t,n){e._addFormView(),n()})),n}},{key:"_createFormView",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=new Pd(t.locale,n.manualDecorators);return i.urlInputView.bind("value").to(n,"value"),i.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),i.saveButtonView.bind("isEnabled").to(n),this.listenTo(i,"submit",(function(){t.execute("link",i.urlInputView.inputView.element.value,i.getDecoratorSwitchesState()),e._closeFormView()})),this.listenTo(i,"cancel",(function(){e._closeFormView()})),i.keystrokes.set("Esc",(function(t,n){e._closeFormView(),n()})),i}},{key:"_createToolbarLinkButton",value:function(){var e=this,t=this.editor,n=t.commands.get("link"),i=t.t;t.keystrokes.set("Ctrl+K",(function(t,n){n(),e._showUI(!0)})),t.ui.componentFactory.add("link",(function(t){var l=new cs(t);return l.isEnabled=!0,l.label=i("as"),l.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',l.keystroke="Ctrl+K",l.tooltip=!0,l.isToggleable=!0,l.bind("isEnabled").to(n,"isEnabled"),l.bind("isOn").to(n,"value",(function(e){return!!e})),e.listenTo(l,"execute",(function(){return e._showUI(!0)})),l}))}},{key:"_enableUserBalloonInteractions",value:function(){var e=this;this.listenTo(this.editor.editing.view.document,"click",(function(){e._getSelectedLinkElement()&&e._showUI()})),this.editor.keystrokes.set("Tab",(function(t,n){e._areActionsVisible&&!e.actionsView.focusTracker.isFocused&&(e.actionsView.focus(),n())}),{priority:"high"}),this.editor.keystrokes.set("Esc",(function(t,n){e._isUIVisible&&(e._hideUI(),n())})),gs({emitter:this.formView,activator:function(){return e._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return e._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var e=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=e.value||""}}},{key:"_closeFormView",value:function(){var e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}},{key:"_showUI",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(this._isUIInPanel){var e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}}},{key:"_startUpdatingUI",value:function(){var e=this,t=this.editor,n=t.editing.view.document,i=this._getSelectedLinkElement(),l=a(),r=function(){var t=e._getSelectedLinkElement(),n=a();i&&!t||!i&&n!==l?e._hideUI():e._isUIVisible&&e._balloon.updatePosition(e._getBalloonPositionData()),i=t,l=n};function a(){return n.selection.focus.getAncestors().reverse().find((function(e){return e.is("element")}))}this.listenTo(t.ui,"update",r),this.listenTo(this._balloon,"change:visibleView",r)}},{key:"_getBalloonPositionData",value:function(){var e=this.editor.editing.view,t=e.document,n=this._getSelectedLinkElement();return{target:n?e.domConverter.mapViewToDom(n):e.domConverter.viewRangeToDom(t.selection.getFirstRange())}}},{key:"_getSelectedLinkElement",value:function(){var e=this.editor.editing.view,t=e.document.selection;if(t.isCollapsed)return Id(t.getFirstPosition());var n=t.getFirstRange().getTrimmed(),i=Id(n.start),l=Id(n.end);return i&&i==l&&e.createRangeIn(i).getTrimmed().isEqual(n)?i:null}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}}],[{key:"requires",get:function(){return[bh]}},{key:"pluginName",get:function(){return"LinkUI"}}]),t}(Ss);function Id(e){return e.getAncestors().find((function(e){return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))}var Ed=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).type=n,i}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=Array.from(t.document.selection.getSelectedBlocks()).filter((function(e){return Od(e,t.schema)})),i=!0===this.value;t.change((function(t){if(i){for(var l=n[n.length-1].nextSibling,r=Number.POSITIVE_INFINITY,a=[];l&&"listItem"==l.name&&0!==l.getAttribute("listIndent");){var o=l.getAttribute("listIndent");o<r&&(r=o),a.push({element:l,listIndent:o-r}),l=l.nextSibling}a=a.reverse();var s=!0,u=!1,c=void 0;try{for(var h,d=a[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;t.setAttribute("listIndent",f.listIndent,f.element)}}catch(P){u=!0,c=P}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}if(!i){var p=Number.POSITIVE_INFINITY,v=!0,g=!1,m=void 0;try{for(var y,b=n[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var k=y.value;k.is("listItem")&&k.getAttribute("listIndent")<p&&(p=k.getAttribute("listIndent"))}}catch(P){g=!0,m=P}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}Dd(n,!0,p=0===p?1:p),Dd(n,!1,p)}var _=!0,w=!1,x=void 0;try{for(var C,S=n.reverse()[Symbol.iterator]();!(_=(C=S.next()).done);_=!0){var T=C.value;i&&"listItem"==T.name?t.rename(T,"paragraph"):i||"listItem"==T.name?i||"listItem"!=T.name||T.getAttribute("listType")==e.type||t.setAttribute("listType",e.type,T):(t.setAttributes({listType:e.type,listIndent:0},T),t.rename(T,"listItem"))}}catch(P){w=!0,x=P}finally{try{_||null==S.return||S.return()}finally{if(w)throw x}}}))}},{key:"_getValue",value:function(){var e=Vu(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("listItem")&&e.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var e=this.editor.model.schema,t=Vu(this.editor.model.document.selection.getSelectedBlocks());return!!t&&Od(t,e)}}]),t}(Es);function Dd(e,t,n){var i=t?e[0]:e[e.length-1];if(i.is("listItem"))for(var l=i[t?"previousSibling":"nextSibling"],r=i.getAttribute("listIndent");l&&l.is("listItem")&&l.getAttribute("listIndent")>=n;)r>l.getAttribute("listIndent")&&(r=l.getAttribute("listIndent")),l.getAttribute("listIndent")==r&&e[t?"unshift":"push"](l),l=l[t?"previousSibling":"nextSibling"]}function Od(e,t){return t.checkChild(e.parent,"listItem")&&!t.isObject(e)}var Fd=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._indentBy="forward"==n?1:-1,i}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=Array.from(t.document.selection.getSelectedBlocks());t.change((function(t){for(var i=n[n.length-1],l=i.nextSibling;l&&"listItem"==l.name&&l.getAttribute("listIndent")>i.getAttribute("listIndent");)n.push(l),l=l.nextSibling;e._indentBy<0&&(n=n.reverse());var r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=c.getAttribute("listIndent")+e._indentBy;h<0?t.rename(c,"paragraph"):t.setAttribute("listIndent",h,c)}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}))}},{key:"_checkEnabled",value:function(){var e=Vu(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("listItem"))return!1;if(this._indentBy>0){for(var t=e.getAttribute("listIndent"),n=e.getAttribute("listType"),i=e.previousSibling;i&&i.is("listItem")&&i.getAttribute("listIndent")>=t;){if(i.getAttribute("listIndent")==t)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}]),t}(Es);function Rd(e,t,n,i){var l=t.parent,r=n.mapper,a=n.writer,o=r.toViewPosition(i.createPositionBefore(e)),s=Bd(e.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:e.getAttribute("listIndent")}),u=e.previousSibling;if(s&&s.getAttribute("listIndent")==e.getAttribute("listIndent")){var c=r.toViewElement(s);o=a.breakContainer(a.createPositionAfter(c))}else o=r.toViewPosition(u&&"listItem"==u.name?i.createPositionAt(u,"end"):i.createPositionBefore(e));if(o=Ld(o),a.insert(o,l),u&&"listItem"==u.name){var h=r.toViewElement(u),d=a.createRange(a.createPositionAt(h,0),o).getWalker({ignoreElementEnd:!0}),f=!0,p=!1,v=void 0;try{for(var g,m=d[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value;if(y.item.is("li")){var b=a.breakContainer(a.createPositionBefore(y.item)),k=y.item.parent,_=a.createPositionAt(t,"end");Nd(a,_.nodeBefore,_.nodeAfter),a.move(a.createRangeOn(k),_),d.position=b}}}catch(E){p=!0,v=E}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}}else{var w=l.nextSibling;if(w&&(w.is("ul")||w.is("ol"))){var x=null,C=!0,S=!1,T=void 0;try{for(var P,M=w.getChildren()[Symbol.iterator]();!(C=(P=M.next()).done);C=!0){var A=P.value,I=r.toModelElement(A);if(!(I&&I.getAttribute("listIndent")>e.getAttribute("listIndent")))break;x=A}}catch(E){S=!0,T=E}finally{try{C||null==M.return||M.return()}finally{if(S)throw T}}x&&(a.breakContainer(a.createPositionAfter(x)),a.move(a.createRangeOn(x.parent),a.createPositionAt(t,"end")))}}Nd(a,l,l.nextSibling),Nd(a,l.previousSibling,l)}function Nd(e,t,n){return!t||!n||"ul"!=t.name&&"ol"!=t.name||t.name!=n.name||t.getAttribute("class")!==n.getAttribute("class")?null:e.mergeContainers(e.createPositionAfter(t))}function Ld(e){return e.getLastMatchingPosition((function(e){return e.item.is("uiElement")}))}function Bd(e,t){for(var n=!!t.sameIndent,i=!!t.smallerIndent,l=t.listIndent,r=e;r&&"listItem"==r.name;){var a=r.getAttribute("listIndent");if(n&&l==a||i&&l>a)return r;r=r.previousSibling}return null}function Vd(e,t,n,i){e.ui.componentFactory.add(t,(function(l){var r=e.commands.get(t),a=new cs(l);return a.set({label:n,icon:i,tooltip:!0,isToggleable:!0}),a.bind("isOn","isEnabled").to(r,"value","isEnabled"),a.on("execute",(function(){e.execute(t),e.editing.view.focus()})),a}))}function zd(){var e=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||e?0:An.call(this)}function jd(e){return function(t,n,i){var l=i.consumable;if(l.test(n.item,"insert")&&l.test(n.item,"attribute:listType")&&l.test(n.item,"attribute:listIndent")){l.consume(n.item,"insert"),l.consume(n.item,"attribute:listType"),l.consume(n.item,"attribute:listIndent");var r=n.item;Rd(r,function(e,t){var n=t.mapper,i=t.writer,l="numbered"==e.getAttribute("listType")?"ol":"ul",r=function(e){var t=e.createContainerElement("li");return t.getFillerOffset=zd,t}(i),a=i.createContainerElement(l,null);return i.insert(i.createPositionAt(a,0),r),n.bindElements(e,r),r}(r,i),i,e)}}}function Hd(e,t,n){if(n.consumable.consume(t.item,"attribute:listType")){var i=n.mapper.toViewElement(t.item),l=n.writer;l.breakContainer(l.createPositionBefore(i)),l.breakContainer(l.createPositionAfter(i)),l.rename("numbered"==t.attributeNewValue?"ol":"ul",i.parent)}}function Wd(e,t,n){var i=n.mapper.toViewElement(t.item).parent,l=n.writer;Nd(l,i,i.nextSibling),Nd(l,i.previousSibling,i);var r=!0,a=!1,o=void 0;try{for(var s,u=t.item.getChildren()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;n.consumable.consume(c,"insert")}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}function Ud(e,t,n){if("listItem"!=t.item.name){for(var i=n.mapper.toViewPosition(t.range.start),l=n.writer,r=[];("ul"==i.parent.name||"ol"==i.parent.name)&&"li"==(i=l.breakContainer(i)).parent.name;){var a=i,o=l.createPositionAt(i.parent,"end");if(!a.isEqual(o)){var s=l.remove(l.createRange(a,o));r.push(s)}i=l.createPositionAfter(i.parent)}if(r.length>0){for(var u=0;u<r.length;u++){var c=i.nodeBefore;if(i=l.insert(i,r[u]).end,u>0){var h=Nd(l,c,c.nextSibling);h&&h.parent==c&&i.offset--}}Nd(l,i.nodeBefore,i.nodeAfter)}}}function Yd(e,t,n){var i=n.mapper.toViewPosition(t.position);Nd(n.writer,i.nodeBefore,i.nodeAfter)}function qd(e,t,n){if(n.consumable.consume(t.viewItem,{name:!0})){var i=n.writer,l=i.createElement("listItem"),r=function(e){for(var t=0,n=e.parent;n;){if(n.is("li"))t++;else{var i=n.previousSibling;i&&i.is("li")&&t++}n=n.parent}return t}(t.viewItem);i.setAttribute("listIndent",r,l),i.setAttribute("listType",t.viewItem.parent&&"ol"==t.viewItem.parent.name?"numbered":"bulleted",l);var a=n.splitToAllowedParent(l,t.modelCursor);if(!a)return;i.insert(l,a.position);var o=function(e,t,n){var i=n.writer,l=n.schema,r=i.createPositionAfter(e),a=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;if("ul"==h.name||"ol"==h.name)r=n.convertItem(h,r).modelCursor;else{var d=n.convertItem(h,i.createPositionAt(e,"end")),f=d.modelRange.start.nodeAfter;f&&f.is("element")&&!l.checkChild(e,f.name)&&(e=d.modelCursor.parent.is("listItem")?d.modelCursor.parent:Zd(d.modelCursor),r=i.createPositionAfter(e))}}}catch(p){o=!0,s=p}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return r}(l,t.viewItem.getChildren(),n);t.modelRange=i.createRange(t.modelCursor,o),t.modelCursor=a.cursorParent?i.createPositionAt(a.cursorParent,0):t.modelRange.end}}function Gd(e,t,n){if(n.consumable.test(t.viewItem,{name:!0}))for(var i=0,l=Array.from(t.viewItem.getChildren());i<l.length;i++){var r=l[i];!r.is("li")&&!Jd(r)&&r._remove()}}function Xd(e,t,n){if(n.consumable.test(t.viewItem,{name:!0})){if(0===t.viewItem.childCount)return;var i=_toConsumableArray(t.viewItem.getChildren()),l=!1,r=!0,a=!0,o=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;l&&!Jd(h)&&h._remove(),h.is("text")?(r&&(h._data=h.data.replace(/^\s+/,"")),h.nextSibling&&!Jd(h.nextSibling)||(h._data=h.data.replace(/\s+$/,""))):Jd(h)&&(l=!0),r=!1}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}}}function Kd(e){return function(t,n){if(!n.isPhantom){var i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){var l=n.mapper.toViewElement(i),r=l.getAncestors().find(Jd),a=e.createPositionAt(l,0).getWalker(),o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;if("elementStart"==d.type&&d.item.is("li")){n.viewPosition=d.previousPosition;break}if("elementEnd"==d.type&&d.item==r){n.viewPosition=d.nextPosition;break}}}catch(f){s=!0,u=f}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}}}}}function $d(e,t){var n,i=_slicedToArray(t,2),l=i[0],r=i[1],a=l.is("documentFragment")?l.getChild(0):l;if(n=r?this.createSelection(r):this.document.selection,a&&a.is("listItem")){var o=n.getFirstPosition(),s=null;if(o.parent.is("listItem")?s=o.parent:o.nodeBefore&&o.nodeBefore.is("listItem")&&(s=o.nodeBefore),s){var u=s.getAttribute("listIndent");if(u>0)for(;a&&a.is("listItem");)a._setAttribute("listIndent",a.getAttribute("listIndent")+u),a=a.nextSibling}}}function Zd(e){var t,n=new ir({startPosition:e});do{t=n.next()}while(!t.value.item.is("listItem"));return t.value.item}function Qd(e,t,n,i,l,r){var a,o=Bd(t.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:e,foo:"b"}),s=l.mapper,u=l.writer,c=o?o.getAttribute("listIndent"):null;if(o)if(c==e){var h=s.toViewElement(o).parent;a=u.createPositionAfter(h)}else{var d=r.createPositionAt(o,"end");a=s.toViewPosition(d)}else a=n;a=Ld(a);for(var f=0,p=_toConsumableArray(i.getChildren());f<p.length;f++){var v=p[f];Jd(v)&&(a=u.move(u.createRangeOn(v),a).end,Nd(u,v,v.nextSibling),Nd(u,v.previousSibling,v))}}function Jd(e){return e.is("ol")||e.is("ul")}var ef=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var n,i=t.data,l=t.editing;t.model.document.registerPostFixer((function(e){return function(e,t){var n=e.document.differ.getChanges(),i=new Map,l=!1,r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if("insert"==c.type&&"listItem"==c.name)x(c.position);else if("insert"==c.type&&"listItem"!=c.name){if("$text"!=c.name){var h=c.position.nodeAfter;h.hasAttribute("listIndent")&&(t.removeAttribute("listIndent",h),l=!0),h.hasAttribute("listType")&&(t.removeAttribute("listType",h),l=!0);var d=!0,f=!1,p=void 0;try{for(var v,g=Array.from(e.createRangeIn(h)).filter((function(e){return e.item.is("listItem")}))[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){x(v.value.previousPosition)}}catch(T){f=!0,p=T}finally{try{d||null==g.return||g.return()}finally{if(f)throw p}}}x(c.position.getShiftedBy(c.length))}else"remove"==c.type&&"listItem"==c.name?x(c.position):("attribute"==c.type&&"listIndent"==c.attributeKey||"attribute"==c.type&&"listType"==c.attributeKey)&&x(c.range.start)}}catch(T){a=!0,o=T}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}var m=!0,y=!1,b=void 0;try{for(var k,_=i.values()[Symbol.iterator]();!(m=(k=_.next()).done);m=!0){var w=k.value;C(w),S(w)}}catch(T){y=!0,b=T}finally{try{m||null==_.return||_.return()}finally{if(y)throw b}}return l;function x(e){var t=e.nodeBefore;if(t&&t.is("listItem")){var n=t;if(i.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(i.has(n=n.previousSibling))return;i.set(e.nodeBefore,n)}else{var l=e.nodeAfter;l&&l.is("listItem")&&i.set(l,l)}}function C(e){for(var n=0,i=null;e&&e.is("listItem");){var r=e.getAttribute("listIndent");if(r>n){var a=void 0;null===i?(i=r-n,a=n):(i>r&&(i=r),a=r-i),t.setAttribute("listIndent",a,e),l=!0}else i=null,n=e.getAttribute("listIndent")+1;e=e.nextSibling}}function S(e){for(var n=[],i=null;e&&e.is("listItem");){var r=e.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){var a=n[r];e.getAttribute("listType")!=a&&(t.setAttribute("listType",a,e),l=!0)}else n[r]=e.getAttribute("listType");i=e,e=e.nextSibling}}}(t.model,e)})),l.mapper.registerViewToModelLength("li",tf),i.mapper.registerViewToModelLength("li",tf),l.mapper.on("modelToViewPosition",Kd(l.view)),l.mapper.on("viewToModelPosition",(n=t.model,function(e,t){var i=t.viewPosition,l=i.parent,r=t.mapper;if("ul"==l.name||"ol"==l.name){if(i.isAtEnd){var a=r.toModelElement(i.nodeBefore),o=r.getModelLength(i.nodeBefore);t.modelPosition=n.createPositionBefore(a).getShiftedBy(o)}else{var s=r.toModelElement(i.nodeAfter);t.modelPosition=n.createPositionBefore(s)}e.stop()}else if("li"==l.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){for(var u=r.toModelElement(l),c=1,h=i.nodeBefore;h&&Jd(h);)c+=r.getModelLength(h),h=h.previousSibling;t.modelPosition=n.createPositionBefore(u).getShiftedBy(c),e.stop()}})),i.mapper.on("modelToViewPosition",Kd(l.view)),t.conversion.for("editingDowncast").add((function(e){e.on("insert",Ud,{priority:"high"}),e.on("insert:listItem",jd(t.model)),e.on("attribute:listType:listItem",Hd,{priority:"high"}),e.on("attribute:listType:listItem",Wd,{priority:"low"}),e.on("attribute:listIndent:listItem",function(e){return function(t,n,i){if(i.consumable.consume(n.item,"attribute:listIndent")){var l=i.mapper.toViewElement(n.item),r=i.writer;r.breakContainer(r.createPositionBefore(l)),r.breakContainer(r.createPositionAfter(l));var a=l.parent,o=a.previousSibling,s=r.createRangeOn(a);r.remove(s),o&&o.nextSibling&&Nd(r,o,o.nextSibling),Qd(n.attributeOldValue+1,n.range.start,s.start,l,i,e),Rd(n.item,l,i,e);var u=!0,c=!1,h=void 0;try{for(var d,f=n.item.getChildren()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;i.consumable.consume(p,"insert")}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}}(t.model)),e.on("remove:listItem",function(e){return function(t,n,i){var l=i.mapper.toViewPosition(n.position).getLastMatchingPosition((function(e){return!e.item.is("li")})).nodeAfter,r=i.writer;r.breakContainer(r.createPositionBefore(l)),r.breakContainer(r.createPositionAfter(l));var a=l.parent,o=a.previousSibling,s=r.createRangeOn(a),u=r.remove(s);o&&o.nextSibling&&Nd(r,o,o.nextSibling),Qd(i.mapper.toModelElement(l).getAttribute("listIndent")+1,n.position,s.start,l,i,e);var c=!0,h=!1,d=void 0;try{for(var f,p=r.createRangeIn(u).getItems()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;i.mapper.unbindViewElement(v)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}t.stop()}}(t.model)),e.on("remove",Yd,{priority:"low"})})),t.conversion.for("dataDowncast").add((function(e){e.on("insert",Ud,{priority:"high"}),e.on("insert:listItem",jd(t.model))})),t.conversion.for("upcast").add((function(e){e.on("element:ul",Gd,{priority:"high"}),e.on("element:ol",Gd,{priority:"high"}),e.on("element:li",Xd,{priority:"high"}),e.on("element:li",qd)})),t.model.on("insertContent",$d,{priority:"high"}),t.commands.add("numberedList",new Ed(t,"numbered")),t.commands.add("bulletedList",new Ed(t,"bulleted")),t.commands.add("indentList",new Fd(t,"forward")),t.commands.add("outdentList",new Fd(t,"backward"));var r=l.view.document;this.listenTo(r,"enter",(function(t,n){var i=e.editor.model.document,l=i.selection.getLastPosition().parent;i.selection.isCollapsed&&"listItem"==l.name&&l.isEmpty&&(e.editor.execute("outdentList"),n.preventDefault(),t.stop())})),this.listenTo(r,"delete",(function(t,n){if("backward"===n.direction){var i=e.editor.model.document.selection;if(i.isCollapsed){var l=i.getFirstPosition();if(l.isAtStart){var r=l.parent;"listItem"===r.name&&(r.previousSibling&&"listItem"===r.previousSibling.name||(e.editor.execute("outdentList"),n.preventDefault(),t.stop()))}}}}),{priority:"high"});var a=function(t){return function(n,i){e.editor.commands.get(t).isEnabled&&(e.editor.execute(t),i())}};t.keystrokes.set("Tab",a("indentList")),t.keystrokes.set("Shift+Tab",a("outdentList"))}},{key:"afterInit",value:function(){var e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList")),n&&n.registerChildCommand(e.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[Yh]}}]),t}(Ss);function tf(e){var t=1,n=!0,i=!1,l=void 0;try{for(var r,a=e.getChildren()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if("ul"==o.name||"ol"==o.name){var s=!0,u=!1,c=void 0;try{for(var h,d=o.getChildren()[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){t+=tf(h.value)}}catch(f){u=!0,c=f}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}}}catch(f){i=!0,l=f}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}var nf=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor.t;Vd(this.editor,"numberedList",e("ae"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),Vd(this.editor,"bulletedList",e("af"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}]),t}(Ss);function lf(e,t){return function(e){e.on("attribute:url:media",n)};function n(n,i,l){if(l.consumable.consume(i.item,n.name)){var r=i.attributeNewValue,a=l.writer,o=l.mapper.toViewElement(i.item);a.remove(a.createRangeIn(o));var s=e.getMediaViewElement(a,r,t);a.insert(a.createPositionAt(o,0),s)}}}function rf(e,t,n,i){var l=e.createContainerElement("figure",{class:"media"});return l.getFillerOffset=sf,e.insert(e.createPositionAt(l,0),t.getMediaViewElement(e,n,i)),l}function af(e){var t=e.getSelectedElement();return t&&t.is("media")?t:null}function of(e,t,n){e.change((function(i){var l=i.createElement("media",{url:t});e.insertContent(l,n),i.setSelection(l,"on")}))}function sf(){return null}var uf=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.model,t=e.document.selection,n=e.schema,i=t.getFirstPosition(),l=af(t),r=i.parent;r!=r.root&&(r=r.parent),this.value=l?l.getAttribute("url"):null,this.isEnabled=n.checkChild(r,"media")}},{key:"execute",value:function(e){var t=this.editor.model,n=t.document.selection,i=af(n);if(i)t.change((function(t){t.setAttribute("url",e,i)}));else{var l=nc(n,t);of(t,e,l)}}}]),t}(Es),cf=function(){function e(t,n){_classCallCheck2(this,e);var i=n.providers,l=n.extraProviders||[],r=new Set(n.removeProviders),a=i.concat(l).filter((function(e){var t=e.name;return t?!r.has(t):(console.warn(Object(_t.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:e}),!1)}));this.locale=t,this.providerDefinitions=a}return _createClass2(e,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,t,n){return this._getMedia(t).getViewElement(e,n)}},{key:"_getMedia",value:function(e){if(!e)return new hf(this.locale);e=e.trim();var t=!0,n=!1,i=void 0;try{for(var l,r=this.providerDefinitions[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value,o=a.html,s=a.url;Array.isArray(s)||(s=[s]);var u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,v=this._getUrlMatches(e,p);if(v)return new hf(this.locale,e,v,o)}}catch(g){c=!0,h=g}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}catch(g){n=!0,i=g}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return null}},{key:"_getUrlMatches",value:function(e,t){var n=e.match(t);if(n)return n;var i=e.replace(/^https?:\/\//,"");return(n=i.match(t))||(n=(i=i.replace(/^www\./,"")).match(t))||null}}]),e}(),hf=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.url=this._getValidUrl(n),this._t=t.t,this._match=i,this._previewRenderer=l}return _createClass2(e,[{key:"getViewElement",value:function(e,t){var n={};if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");var i=this._getPreviewHtml(t);return e.createUIElement("div",n,(function(e){var t=this.toDomElement(e);return t.innerHTML=i,t}))}return this.url&&(n.url=this.url),e.createEmptyElement("oembed",n)}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new us,t=new ss;return e.text=this._t("Open media in new tab"),t.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',t.viewBox="0 0 64 42",new xo({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[t]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),e}();n(78);var df=function(e){function t(e){var n;return _classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)),e.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+'<iframe src="https://www.dailymotion.com/embed/video/'.concat(e[1],'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+'<iframe src="https://open.spotify.com/embed/'.concat(e[1],'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+'<iframe src="https://www.youtube.com/embed/'.concat(e[1],'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(e){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+'<iframe src="https://player.vimeo.com/video/'.concat(e[1],'" ')+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),n.registry=new cf(e.locale,e.config.get("mediaEmbed")),n}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=e.model.schema,n=e.t,i=e.conversion,l=e.config.get("mediaEmbed.previewsInData"),r=this.registry;e.commands.add("mediaEmbed",new uf(e)),t.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:function(e,t){var n=e.getAttribute("url");return rf(t,r,n,{renderMediaPreview:n&&l})}}),i.for("dataDowncast").add(lf(r,{renderMediaPreview:l})),i.for("editingDowncast").elementToElement({model:"media",view:function(e,t){var i,l,a,o=e.getAttribute("url");return i=rf(t,r,o,{renderForEditingView:!0}),l=t,a=n("ar"),l.setCustomProperty("media",!0,i),Ju(i,l,{label:a})}}),i.for("editingDowncast").add(lf(r,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(e,t){var n=e.getAttribute("url");if(r.hasMedia(n))return t.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(e,t){var n=e.getAttribute("data-oembed-url");if(r.hasMedia(n))return t.createElement("media",{url:n})}})}}]),t}(Ss),ff=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,pf=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._timeoutId=null,n._positionToInsert=null,n}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Is,_u]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model.document;this.listenTo(t.plugins.get(Is),"inputTransformation",(function(){var t=n.selection.getFirstRange(),i=Ua.fromPosition(t.start);i.stickiness="toPrevious";var l=Ua.fromPosition(t.end);l.stickiness="toNext",n.once("change:data",(function(){e._embedMediaBetweenPositions(i,l),i.detach(),l.detach()}),{priority:"high"})})),t.commands.get("undo").on("execute",(function(){e._timeoutId&&(Ui.window.clearTimeout(e._timeoutId),e._positionToInsert.detach(),e._timeoutId=null,e._positionToInsert=null)}),{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(e,t){var n=this,i=this.editor,l=i.plugins.get(df).registry,r=new mr(e,t),a=r.getWalker({ignoreElementEnd:!0}),o="",s=!0,u=!1,c=void 0;try{for(var h,d=a[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;f.item.is("textProxy")&&(o+=f.item.data)}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}(o=o.trim()).match(ff)&&l.hasMedia(o)&&i.commands.get("mediaEmbed").isEnabled&&(this._positionToInsert=Ua.fromPosition(e),this._timeoutId=Ui.window.setTimeout((function(){i.model.change((function(e){var t;n._timeoutId=null,e.remove(r),"$graveyard"!==n._positionToInsert.root.rootName&&(t=n._positionToInsert),of(i.model,o,t),n._positionToInsert.detach(),n._positionToInsert=null}))}),100))}}]),t}(Ss);n(80);var vf=function(e){function t(e,n){var i;_classCallCheck2(this,t),i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n));var l=n.t;return i.focusTracker=new po,i.keystrokes=new ro,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(l("bb"),uh,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(l("bc"),ch,"ck-button-cancel","cancel"),i._focusables=new wo,i._focusCycler=new Qo({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i._validators=e,i.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[i.urlInputView,i.saveButtonView,i.cancelButtonView]}),i}return _inherits(t,e),_createClass2(t,[{key:"render",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"render",this).call(this),sh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((function(t){e._focusables.add(t),e.focusTracker.add(t.element)})),this.keystrokes.listenTo(this.element);var n=function(e){return e.stopPropagation()};this.keystrokes.set("arrowright",n),this.keystrokes.set("arrowleft",n),this.keystrokes.set("arrowup",n),this.keystrokes.set("arrowdown",n),this.listenTo(this.urlInputView.element,"selectstart",(function(e,t){t.stopPropagation()}),{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"isValid",value:function(){this.resetFormStatus();var e=!0,t=!1,n=void 0;try{for(var i,l=this._validators[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){var r=(0,i.value)(this);if(r)return this.urlInputView.errorText=r,!1}}catch(a){t=!0,n=a}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var e=this,t=this.locale.t,n=new ah(this.locale,oh),i=n.inputView;return this._urlInputViewInfoDefault=t("bd"),this._urlInputViewInfoTip=t("be"),n.label=t("bf"),n.infoText=this._urlInputViewInfoDefault,i.placeholder="https://example.com",i.on("input",(function(){n.infoText=i.element.value?e._urlInputViewInfoTip:e._urlInputViewInfoDefault})),n}},{key:"_createButton",value:function(e,t,n,i){var l=new cs(this.locale);return l.set({label:e,icon:t,tooltip:!0}),l.extendTemplate({attributes:{class:n}}),i&&l.delegate("execute").to(this,i),l}},{key:"url",get:function(){return this.urlInputView.inputView.element.value.trim()},set:function(e){this.urlInputView.inputView.element.value=e.trim()}}]),t}(Ho),gf=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.commands.get("mediaEmbed"),i=t.plugins.get(df).registry;this.form=new vf(function(e,t){return[function(t){if(!t.url.length)return e("ap")},function(n){if(!t.hasMedia(n.url))return e("aq")}]}(t.t,i),t.locale),t.ui.componentFactory.add("mediaEmbed",(function(i){var l=ms(i);return e._setUpDropdown(l,e.form,n,t),e._setUpForm(e.form,l,n),l}))}},{key:"_setUpDropdown",value:function(e,t,n){var i=this.editor,l=i.t,r=e.buttonView;function a(){i.editing.view.focus(),e.isOpen=!1}e.bind("isEnabled").to(n),e.panelView.children.add(t),r.set({label:l("ao"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n',tooltip:!0}),r.on("open",(function(){t.url=n.value||"",t.urlInputView.select(),t.focus()}),{priority:"low"}),e.on("submit",(function(){t.isValid()&&(i.execute("mediaEmbed",t.url),a())})),e.on("change:isOpen",(function(){return t.resetFormStatus()})),e.on("cancel",(function(){return a()}))}},{key:"_setUpForm",value:function(e,t,n){e.delegate("submit","cancel").to(t),e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",(function(e){return!e})),e.saveButtonView.bind("isEnabled").to(n)}}],[{key:"requires",get:function(){return[df]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),t}(Ss);function mf(e,t,n){var i=t.parent,l=n.createElement(e.type),r=i.getChildIndex(t)+1;return n.insertChild(r,l,i),l}function yf(e){var t={},n=e.getStyle("mso-list");if(n){var i=n.match(/(^|\s+)l(\d+)/i),l=n.match(/\s*lfo(\d+)/i),r=n.match(/\s*level(\d+)/i);i&&l&&r&&(t.id=i[2],t.order=l[1],t.indent=r[1])}return t}n(82);var bf=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,kf=function(){function e(t){_classCallCheck2(this,e),this.document=t}return _createClass2(e,[{key:"isActive",value:function(e){return bf.test(e)}},{key:"execute",value:function(e){var t=new Lh(this.document);!function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=e.getChildren()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.is("b")&&"normal"===o.getStyle("font-weight")){var s=e.getChildIndex(o);t.remove(o),t.insertChild(s,o.getChildren(),e)}}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}(e.content,t),function(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=t.createRangeIn(e)[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value.item;if(o.is("li")){var s=o.getChild(0);s.is("p")&&t.unwrapElement(s)}}}catch(u){i=!0,l=u}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}(e.content,t)}}]),e}();function _f(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(function(e,t){return 1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)}))}var wf=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,xf=/xmlns:o="urn:schemas-microsoft-com/i,Cf=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"isActive",value:function(e){return wf.test(e)||xf.test(e)}},{key:"execute",value:function(e){var t=function(e){var t=new DOMParser,n=function(e){return _f(_f(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(e){var t=e.match(/<\/body>(.*?)(<\/html>|$)/);return t&&t[1]&&(e=e.slice(0,t.index)+e.slice(t.index).replace(t[1],"")),e}(e=e.replace(/<!--\[if gte vml 1]>/g,""))),i=t.parseFromString(n,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach((function(e){var t=e.childNodes&&e.childNodes[0]&&e.childNodes[0].data&&e.childNodes[0].data.length||0;e.innerHTML=Array(t+1).join("\xa0 ").substr(0,t)}))}(i);var l=i.body.innerHTML,r=function(e){for(var t=new Zn(new xn),n=new Xi(t,{blockFillerMode:"nbsp"}),i=e.createDocumentFragment(),l=e.body.childNodes;l.length>0;)i.appendChild(l[0]);return n.domToView(i)}(i),a=function(e){for(var t=[],n=[],i=0,l=Array.from(e.getElementsByTagName("style"));i<l.length;i++){var r=l[i];r.sheet&&r.sheet.cssRules&&r.sheet.cssRules.length&&(t.push(r.sheet),n.push(r.innerHTML))}return{styles:t,stylesString:n.join(" ")}}(i);return{body:r,bodyString:l,styles:a.styles,stylesString:a.stylesString}}(e.dataTransfer.getData("text/html")),n=t.body;(function(e,t){if(e.childCount){var n=new Lh(e.document),i=function(e,t){var n=t.createRangeIn(e),i=new Yt({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),l=[],r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if("elementStart"===c.type&&i.match(c.item)){var h=yf(c.item);l.push({element:c.item,id:h.id,order:h.order,indent:h.indent})}}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return l}(e,n);if(i.length){var l=null,r=1;i.forEach((function(e,a){var o,s,u=function(e,t){if(!e)return!0;if(e.id!==t.id)return!0;var n,i=t.element.previousSibling;return!i||!((n=i).is("ol")||n.is("ul"))}(i[a-1],e),c=(s=e,(o=u?null:i[a-1])?s.indent-o.indent:s.indent-1);if(u&&(l=null,r=1),!l||0!==c){var h=function(e,t){var n=new RegExp("@list l".concat(e.id,":level").concat(e.indent,"\\s*({[^}]*)"),"gi").exec(t),i="decimal";if(n&&n[1]){var l=/mso-level-number-format:([^;]*);/gi.exec(n[1]);l&&l[1]&&(i=l[1].trim())}return{type:"bullet"!==i&&"image"!==i?"ol":"ul",style:i}}(e,t);if(l)if(e.indent>r){var d=l.getChild(l.childCount-1),f=d.getChild(d.childCount-1);l=mf(h,f,n),r+=1}else e.indent<r&&(l=function(e,t){var n=e.getAncestors({parentFirst:!0}),i=null,l=0,r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if("ul"!==c.name&&"ol"!==c.name||l++,l===t){i=c;break}}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return i}(l,r-e.indent),r=parseInt(e.indent));else l=mf(h,e.element,n);e.indent<=r&&(l.is(h.type)||(l=n.rename(h.type,l)))}var p=function(e,t){return function(e,t){var n=new Yt({name:"span",styles:{"mso-list":"Ignore"}}),i=t.createRangeIn(e),l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;"elementStart"===u.type&&n.match(u.item)&&t.remove(u.item)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}(e,t),t.rename("li",e)}(e.element,n);n.appendChild(p,l)}))}}})(n,t.stylesString),function(e,t){if(e.childCount){var n=new Lh;!function(e,t,n){var i=n.createRangeIn(t),l=new Yt({name:"img"}),r=[],a=!0,o=!1,s=void 0;try{for(var u,c=i[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;if(l.match(h.item)){var d=h.item,f=d.getAttribute("v:shapes")?d.getAttribute("v:shapes").split(" "):[];f.length&&f.every((function(t){return e.indexOf(t)>-1}))?r.push(d):d.getAttribute("src")||r.push(d)}}}catch(m){o=!0,s=m}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}for(var p=0,v=r;p<v.length;p++){var g=v[p];n.remove(g)}}(function(e,t){var n=t.createRangeIn(e),i=new Yt({name:/v:(.+)/}),l=[],r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=c.item,d=h.previousSibling&&h.previousSibling.name||null;i.match(h)&&h.getAttribute("o:gfxdata")&&"v:shapetype"!==d&&l.push(c.item.getAttribute("id"))}}catch(f){a=!0,o=f}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return l}(e,n),e,n),function(e,t){var n=t.createRangeIn(e),i=new Yt({name:/v:(.+)/}),l=[],r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;i.match(c.item)&&l.push(c.item)}}catch(p){a=!0,o=p}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}for(var h=0,d=l;h<d.length;h++){var f=d[h];t.remove(f)}}(e,n);var i=function(e,t){var n=t.createRangeIn(e),i=new Yt({name:"img"}),l=[],r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;i.match(c.item)&&c.item.getAttribute("src").startsWith("file://")&&l.push(c.item)}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return l}(e,n);i.length&&function(e,t,n){if(e.length===t.length)for(var i=0;i<e.length;i++){var l="data:".concat(t[i].type,";base64,").concat((r=t[i].hex,btoa(r.match(/\w{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))));n.setAttribute("src",l,e[i])}var r}(i,function(e){if(!e)return[];var t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),i=e.match(n),l=[];if(i){var r=!0,a=!1,o=void 0;try{for(var s,u=i[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=!1;c.includes("\\pngblip")?h="image/png":c.includes("\\jpegblip")&&(h="image/jpeg"),h&&l.push({hex:c.replace(t,"").replace(/[^\da-fA-F]/g,""),type:h})}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}return l}(t),n)}}(n,e.dataTransfer.getData("text/rtf")),e.content=n}}]),e}();function Sf(e,t){for(var n=t.parent;n;){if(n.name===e)return n;n=n.parent}}function Tf(e,t,n,i){t>(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)?i.setAttribute(e,t,n):i.removeAttribute(e,n)}function Pf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.createElement("tableCell",n);e.insertElement("paragraph",i),e.insert(i,t)}function Mf(e,t){var n=parseInt(t.parent.parent.getAttribute("headingColumns")||0),i=e.getCellLocation(t).column;return!!n&&i<n}function Af(e){return function(t){t.on("element:".concat(e),(function(e,t,n){var i=t.viewItem;if(n.consumable.test(i,{name:!0})){var l=n.writer.createElement("tableCell"),r=n.splitToAllowedParent(l,t.modelCursor);if(r){n.writer.insert(l,r.position),n.consumable.consume(i,{name:!0});var a=n.writer.createPositionAt(l,0);n.convertChildren(i,a),l.childCount||n.writer.insertElement("paragraph",a),t.modelRange=n.writer.createRange(n.writer.createPositionBefore(l),n.writer.createPositionAfter(l)),t.modelCursor=t.modelRange.end}}}))}}function If(e){for(var t=0,n=0,i=Array.from(e.getChildren()).filter((function(e){return"th"===e.name||"td"===e.name}));n<i.length&&"th"===i[n].name;)t+=parseInt(i[n].getAttribute("colspan")||1),n++;return t}var Ef=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck2(this,e),this.table=t,this.startRow=n.startRow||0,this.endRow="number"==typeof n.endRow?n.endRow:void 0,this.includeSpanned=!!n.includeSpanned,this.column="number"==typeof n.column?n.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return _createClass2(e,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e,t,n,i=this.table.getChild(this._row);if(!i||this._isOverEndRow())return{done:!0};if(this._isSpanned(this._row,this._column))e=this._getSpanned(this._row,this._column),t=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),n=this._formatOutValue(e,this._column,!0);else{if(!(e=i.getChild(this._cellIndex)))return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();var l=parseInt(e.getAttribute("colspan")||1),r=parseInt(e.getAttribute("rowspan")||1);(l>1||r>1)&&this._recordSpans(this._row,this._column,r,l,e),this._nextCellAtColumn=this._column+l,t=this._shouldSkipRow()||this._shouldSkipColumn(),n=this._formatOutValue(e,this._column,!1,r,l)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t?this.next():n}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_isOverEndRow",value:function(){return void 0!==this.endRow&&this._row>this.endRow}},{key:"_formatOutValue",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return{done:!1,value:{cell:e,row:this._row,column:t,isSpanned:n,rowspan:i,colspan:l,cellIndex:this._cellIndex}}}},{key:"_shouldSkipRow",value:function(){var e=this._row<this.startRow,t=this._skipRows.has(this._row);return e||t}},{key:"_shouldSkipColumn",value:function(){return void 0!==this.column&&this.column!=this._column}},{key:"_isSpanned",value:function(e,t){return!!this._spannedCells.has(e)&&this._spannedCells.get(e).has(t)}},{key:"_getSpanned",value:function(e,t){return this._spannedCells.get(e).get(t)}},{key:"_recordSpans",value:function(e,t,n,i,l){for(var r=t+1;r<=t+i-1;r++)this._markSpannedCell(e,r,l);for(var a=e+1;a<e+n;a++)for(var o=t;o<=t+i-1;o++)this._markSpannedCell(a,o,l)}},{key:"_markSpannedCell",value:function(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}}]),e}();function Df(e){return!!e.getCustomProperty("table")&&Qu(e)}function Of(e){var t=e.getSelectedElement();return t&&Df(t)?t:null}function Ff(e){var t=Sf("table",e.getFirstPosition());return t&&Df(t.parent)?t.parent:null}function Rf(e){var t,n=[],i=!0,l=!1,r=void 0;try{for(var a,o=(t=e.getRanges(),Array.from(t).sort(Bf))[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value.getContainedElement();s&&s.is("tableCell")&&n.push(s)}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}function Nf(e){var t=[],n=!0,i=!1,l=void 0;try{for(var r,a=e.getRanges()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=Sf("tableCell",r.value.start);o&&t.push(o)}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}function Lf(e){var t=Rf(e);return t.length?t:Nf(e)}function Bf(e,t){var n=e.start,i=t.start;return n.isEqual(i)?0:n.isBefore(i)?-1:1}function Vf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.on("insert:table",(function(t,n,i){var l=n.item;if(i.consumable.consume(l,"insert")){i.consumable.consume(l,"attribute:headingRows:table"),i.consumable.consume(l,"attribute:headingColumns:table");var r,a,o,s=e&&e.asWidget,u=i.writer.createContainerElement("figure",{class:"table"}),c=i.writer.createContainerElement("table");i.writer.insert(i.writer.createPositionAt(u,0),c),s&&((o=i.writer).setCustomProperty("table",!0,a=u),r=Ju(a,o,{hasSelectionHandle:!0}));var h=new Ef(l),d={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0},f=new Map,p=!0,v=!1,g=void 0;try{for(var m,y=h[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value,k=b.row,_=b.cell,w=$f(Kf(k,d),c,i),x=l.getChild(k),C=f.get(k)||Gf(x,k,w,i);f.set(k,C),i.consumable.consume(_,"insert"),qf(b,d,i.writer.createPositionAt(C,"end"),i,e)}}catch(T){v=!0,g=T}finally{try{p||null==y.return||y.return()}finally{if(v)throw g}}var S=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(l,s?r:u),i.writer.insert(S,s?r:u)}}))}}function zf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.on("insert:tableRow",(function(t,n,i){var l=n.item;if(i.consumable.consume(l,"insert")){var r=l.parent,a=ep(i.mapper.toViewElement(r)),o=r.getChildIndex(l),s=new Ef(r,{startRow:o,endRow:o}),u={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},c=new Map,h=!0,d=!1,f=void 0;try{for(var p,v=s[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value,m=$f(Kf(o,u),a,i),y=c.get(o)||Gf(l,o,m,i);c.set(o,y),i.consumable.consume(g.cell,"insert"),qf(g,u,i.writer.createPositionAt(y,"end"),i,e)}}catch(b){d=!0,f=b}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}}))}}function jf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t.on("insert:tableCell",(function(t,n,i){var l=n.item;if(i.consumable.consume(l,"insert")){var r=l.parent,a=r.parent,o=a.getChildIndex(r),s=new Ef(a,{startRow:o,endRow:o}),u={headingRows:a.getAttribute("headingRows")||0,headingColumns:a.getAttribute("headingColumns")||0},c=!0,h=!1,d=void 0;try{for(var f,p=s[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;if(v.cell===l){var g=i.mapper.toViewElement(r);return void qf(v,u,i.writer.createPositionAt(g,r.getChildIndex(l)),i,e)}}}catch(m){h=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}}}))}}function Hf(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).asWidget;return function(t){return t.on("attribute:headingRows:table",(function(t,n,i){var l=n.item;if(i.consumable.consume(n.item,t.name)){var r=ep(i.mapper.toViewElement(l)),a=n.attributeOldValue,o=n.attributeNewValue;if(o>a){var s=Array.from(l.getChildren()).filter((function(e){return P(e.index,a-1,o)}));Jf(s,$f("thead",r,i),i,"end");var u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value,v=!0,g=!1,m=void 0;try{for(var y,b=p.getChildren()[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){Uf(y.value,"th",i,e)}}catch(M){g=!0,m=M}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}}}catch(M){c=!0,h=M}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}Qf("tbody",r,i)}else{Jf(Array.from(l.getChildren()).filter((function(e){return P(e.index,o-1,a)})).reverse(),$f("tbody",r,i),i,0);var k=new Ef(l,{startRow:o?o-1:o,endRow:a-1}),_={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0},w=!0,x=!1,C=void 0;try{for(var S,T=k[Symbol.iterator]();!(w=(S=T.next()).done);w=!0){Yf(S.value,_,i,e)}}catch(M){x=!0,C=M}finally{try{w||null==T.return||T.return()}finally{if(x)throw C}}Qf("thead",r,i)}}function P(e,t,n){return e>t&&e<n}}))}}function Wf(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).asWidget;return function(t){return t.on("attribute:headingColumns:table",(function(t,n,i){var l=n.item;if(i.consumable.consume(n.item,t.name)){var r={headingRows:l.getAttribute("headingRows")||0,headingColumns:l.getAttribute("headingColumns")||0},a=n.attributeOldValue,o=n.attributeNewValue,s=(a>o?a:o)-1,u=!0,c=!1,h=void 0;try{for(var d,f=new Ef(l)[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;p.column>s||Yf(p,r,i,e)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}))}}function Uf(e,t,n,i){var l,r=n.writer,a=n.mapper.toViewElement(e);a&&(i?(l=tc(r.createEditableElement(t,a.getAttributes()),r),r.insert(r.createPositionAfter(a),l),r.move(r.createRangeIn(a),r.createPositionAt(l,0)),r.remove(r.createRangeOn(a))):l=r.rename(t,a),n.mapper.unbindViewElement(a),n.mapper.bindElements(e,l))}function Yf(e,t,n,i){var l=e.cell,r=Xf(e,t),a=n.mapper.toViewElement(l);a&&a.name!==r&&Uf(l,r,n,i)}function qf(e,t,n,i,l){var r=l&&l.asWidget,a=Xf(e,t),o=r?tc(i.writer.createEditableElement(a),i.writer):i.writer.createContainerElement(a),s=e.cell,u=s.getChild(0),c=1===s.childCount&&"paragraph"===u.name;if(i.writer.insert(n,o),c&&!_toConsumableArray(u.getAttributeKeys()).length){var h=s.getChild(0),d=i.writer.createPositionAt(o,"end");if(i.consumable.consume(h,"insert"),l.asWidget){var f=i.writer.createContainerElement("span",{style:"display:inline-block"});i.mapper.bindElements(h,f),i.writer.insert(d,f),i.mapper.bindElements(s,o)}else i.mapper.bindElements(s,o),i.mapper.bindElements(h,o)}else i.mapper.bindElements(s,o)}function Gf(e,t,n,i){i.consumable.consume(e,"insert");var l=i.writer.createContainerElement("tr");i.mapper.bindElements(e,l);var r=e.parent.getAttribute("headingRows")||0,a=i.writer.createPositionAt(n,r>0&&t>=r?t-r:t);return i.writer.insert(a,l),l}function Xf(e,t){var n=e.row,i=e.column,l=t.headingColumns,r=t.headingRows;return r&&r>n||l&&l>i?"th":"td"}function Kf(e,t){return e<t.headingRows?"thead":"tbody"}function $f(e,t,n){return Zf(e,t)||function(e,t,n){var i=n.writer.createContainerElement(e),l=n.writer.createPositionAt(t,"tbody"==e?"end":0);return n.writer.insert(l,i),i}(e,t,n)}function Zf(e,t){var n=!0,i=!1,l=void 0;try{for(var r,a=t.getChildren()[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(o.name==e)return o}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}}function Qf(e,t,n){var i=Zf(e,t);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function Jf(e,t,n,i){var l=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=n.mapper.toViewElement(u);c&&n.writer.move(n.writer.createRangeOn(c),n.writer.createPositionAt(t,i))}}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}function ep(e){var t=!0,n=!1,i=void 0;try{for(var l,r=e.getChildren()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;if("table"===a.name)return a}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}}var tp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this.editor.model,t=e.schema,n=function(e){var t=e.parent;return t===t.root?t:t.parent}(e.document.selection.getFirstPosition());this.isEnabled=t.checkChild(n,"table")}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=t.document.selection,i=this.editor.plugins.get("TableUtils"),l=parseInt(e.rows)||2,r=parseInt(e.columns)||2,a=nc(n,t);t.change((function(e){var n=i.createTable(e,l,r);t.insertContent(n,a),e.setSelection(e.createPositionAt(n.getNodeByPath([0,0,0]),0))}))}}]),t}(Es),np=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).order=i.order||"below",n}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=Sf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="above"===this.order,l=i?t.getFirstPosition():t.getLastPosition(),r=((i?t.getFirstRange():t.getLastRange()).getContainedElement()||Sf("tableCell",l)).parent,a=r.parent,o=a.getChildIndex(r);n.insertRows(a,{rows:1,at:"below"===this.order?o+1:o})}}]),t}(Es),ip=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).order=i.order||"right",n}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=Sf("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!e}},{key:"execute",value:function(){var e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="left"===this.order,l=i?t.getFirstPosition():t.getLastPosition(),r=(i?t.getFirstRange():t.getLastRange()).getContainedElement()||Sf("tableCell",l),a=r.parent.parent,o=n.getCellLocation(r).column;n.insertColumns(a,{columns:1,at:i?o:o+1})}}]),t}(Es),lp=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).direction=i.direction||"horizontally",n}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=Lf(this.editor.model.document.selection);this.isEnabled=1===e.length}},{key:"execute",value:function(){var e=Lf(this.editor.model.document.selection)[0],t="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");t?n.splitCellHorizontally(e,2):n.splitCellVertically(e,2)}}]),t}(Es),rp=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).direction=n.direction,i.isHorizontal="right"==i.direction||"left"==i.direction,i}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}},{key:"execute",value:function(){var e=this,t=this.editor.model,n=Nf(t.document.selection)[0],i=this.value,l=this.direction;t.change((function(t){var r="right"==l||"down"==l,a=r?n:i,o=r?i:n,s=o.parent;!function(e,t,n){ap(e)||(ap(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(o,a,t);var u=e.isHorizontal?"colspan":"rowspan",c=parseInt(n.getAttribute(u)||1),h=parseInt(i.getAttribute(u)||1);t.setAttribute(u,c+h,a),t.setSelection(t.createRangeIn(a)),s.childCount||function(e,t){var n=e.parent,i=n.getChildIndex(e),l=!0,r=!1,a=void 0;try{for(var o,s=new Ef(n,{endRow:i})[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=u.cell,h=u.row,d=u.rowspan;h+d-1>=i&&Tf("rowspan",d-1,c,t)}}catch(f){r=!0,a=f}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}t.remove(e)}(s,t)}))}},{key:"_getMergeableCell",value:function(){var e=Nf(this.editor.model.document.selection)[0];if(e){var t=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(e,t,n){var i="right"==t?e.nextSibling:e.previousSibling,l=(e.parent.parent.getAttribute("headingColumns")||0)>0;if(i){var r="right"==t?e:i,a="right"==t?i:e,o=n.getCellLocation(r).column,s=n.getCellLocation(a).column,u=parseInt(r.getAttribute("colspan")||1),c=Mf(n,r),h=Mf(n,a);return l&&c!=h?void 0:o+u===s?i:void 0}}(e,this.direction,t):function(e,t){var n=e.parent,i=n.parent,l=i.getChildIndex(n);if(!("down"==t&&l===i.childCount-1||"up"==t&&0===l)){var r=parseInt(e.getAttribute("rowspan")||1),a=i.getAttribute("headingRows")||0;if(!a||!("down"==t&&l+r===a||"up"==t&&l===a)){var o=parseInt(e.getAttribute("rowspan")||1),s="down"==t?l+o:l,u=_toConsumableArray(new Ef(i,{endRow:s})),c=u.find((function(t){return t.cell===e})).column,h=u.find((function(e){var n=e.row,i=e.rowspan;return e.column===c&&("down"==t?n===s:s===n+i)}));return h&&h.cell}}}(e,this.direction);if(n){var i=this.isHorizontal?"rowspan":"colspan",l=parseInt(e.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===l?n:void 0}}}}]),t}(Es);function ap(e){return 1==e.childCount&&e.getChild(0).is("paragraph")&&e.getChild(0).isEmpty}var op=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=Lf(this.editor.model.document.selection),t=e[0];if(t){var n=t.parent.parent,i=this.editor.plugins.get("TableUtils").getRows(n),l=_toConsumableArray(new Ef(n)).filter((function(t){return e.includes(t.cell)})).map((function(e){return e.row}));this.isEnabled=l[l.length-1]-l[0]<i-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e,t=this,n=Lf(this.editor.model.document.selection),i=function(e){var t=e.map((function(e){return e.parent.index})).sort();return{first:t[0],last:t[t.length-1]}}(n),l=n[0],r=l.parent.parent,a=_toConsumableArray(new Ef(r,{endRow:i.last})),o=this.editor.model.createBatch(),s=function(e,t){return e.find((function(e){return e.cell===t})).column}(a,l);this.editor.model.enqueueChange(o,(function(e){e.setSelection(e.createSelection(r,"on"))}));for(var u=function(n){t.editor.model.enqueueChange(o,(function(i){var l=n;t._removeRow(l,r,i,a),e=function(e,t,n){var i=e.getChild(t)||e.getChild(e.childCount-1),l=i.getChild(0),r=0,a=!0,o=!1,s=void 0;try{for(var u,c=i.getChildren()[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;if(r>n)return l;l=h,r+=parseInt(h.getAttribute("colspan")||1)}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return l}(r,l,s)}))},c=i.last;c>=i.first;c--)u(c);this.editor.model.enqueueChange(o,(function(t){t.setSelection(t.createPositionAt(e,0))}))}},{key:"_removeRow",value:function(e,t,n,i){var l=new Map,r=t.getChild(e),a=t.getAttribute("headingRows")||0;a&&e<a&&Tf("headingRows",a-1,t,n,0),i.filter((function(t){var n=t.row,i=t.rowspan;return n===e&&i>1})).forEach((function(e){var t=e.column,n=e.cell,i=e.rowspan;return l.set(t,{cell:n,rowspanToSet:i-1})})),i.filter((function(t){var n=t.row,i=t.rowspan;return n<=e-1&&n+i>e})).forEach((function(e){var t=e.cell;return Tf("rowspan",e.rowspan-1,t,n)}));for(var o,s=e+1,u=0,c=_toConsumableArray(new Ef(t,{includeSpanned:!0,startRow:s,endRow:s}));u<c.length;u++){var h=c[u],d=h.row,f=h.column,p=h.cell;if(l.has(f)){var v=l.get(f),g=v.cell,m=v.rowspanToSet,y=o?n.createPositionAfter(o):n.createPositionAt(t.getChild(d),0);n.move(n.createRangeOn(g),y),Tf("rowspan",m,g,n),o=g}else o=p}n.remove(r)}}]),t}(Es);var sp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=Lf(this.editor.model.document.selection),t=e[0];if(t){var n=t.parent.parent,i=this.editor.plugins.get("TableUtils").getColumns(n),l=_toConsumableArray(new Ef(n)).filter((function(t){return e.includes(t.cell)})).map((function(e){return e.column})).sort();this.isEnabled=l[l.length-1]-l[0]<i-1}else this.isEnabled=!1}},{key:"execute",value:function(){var e=_slicedToArray(function(e){var t=Lf(e),n=t[0],i=t.pop(),l=[n,i];return n.isBefore(i)?l:l.reverse()}(this.editor.model.document.selection),2),t=e[0],n=e[1],i=t.parent.parent,l=_toConsumableArray(new Ef(i)),r={first:l.find((function(e){return e.cell===t})).column,last:l.find((function(e){return e.cell===n})).column},a=function(e,t,n,i){return parseInt(n.getAttribute("colspan")||1)>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:i.first?e.reverse().find((function(e){return e.column<i.first})).cell:e.reverse().find((function(e){return e.column>i.last})).cell}(l,t,n,r);this.editor.model.change((function(e){e.setSelection(e.createRangeOn(i)),function(e,t,n){var i=e.getAttribute("headingColumns")||0;if(i&&t.first<=i){var l=Math.min(i-1,t.last)-t.first+1;n.setAttribute("headingColumns",i-l,e)}}(i,r,e);for(var t=r.last;t>=r.first;t--){var n=!0,o=!1,s=void 0;try{for(var u,c=l[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var h=u.value,d=h.cell,f=h.column,p=h.colspan;if(f<=t&&p>1&&f+p>t)Tf("colspan",p-1,d,e);else if(f===t){var v=d.parent;e.remove(d),v.childCount||e.remove(v)}}}catch(g){o=!0,s=g}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}}e.setSelection(e.createPositionAt(a,0))}))}}]),t}(Es),up=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=this,t=Lf(this.editor.model.document.selection),n=t.length>0;this.isEnabled=n,this.value=n&&t.every((function(t){return e._isInHeading(t,t.parent.parent)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=Lf(t.document.selection),i=n[0],l=n[n.length-1],r=i.parent.parent,a=r.getAttribute("headingRows")||0,o=[i.parent.index,l.parent.index].sort(),s=_slicedToArray(o,2),u=s[0],c=s[1];if(e.forceValue!==this.value){var h=this.value?u:c+1;t.change((function(e){if(h){var t=function(e,t,n){var i=[],l=new Ef(e,{startRow:t>n?n:0,endRow:t-1}),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=c.row,d=c.rowspan,f=c.cell;d>1&&h+d>t&&i.push(f)}}catch(p){a=!0,o=p}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return i}(r,h,a),n=!0,i=!1,l=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){cp(o.value,h,e)}}catch(u){i=!0,l=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw l}}}Tf("headingRows",h,r,e,0)}))}}},{key:"_isInHeading",value:function(e,t){var n=parseInt(t.getAttribute("headingRows")||0);return!!n&&e.parent.index<n}}]),t}(Es);function cp(e,t,n){var i=e.parent,l=i.parent,r=t-i.index,a={},o=parseInt(e.getAttribute("rowspan"))-r;o>1&&(a.rowspan=o);var s=parseInt(e.getAttribute("colspan")||1);s>1&&(a.colspan=s);var u,c=l.getChildIndex(i),h=c+r,d=_toConsumableArray(new Ef(l,{startRow:c,endRow:h,includeSpanned:!0})),f=!0,p=!1,v=void 0;try{for(var g,m=d[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value,b=y.row,k=y.column,_=y.cell,w=y.cellIndex;if(_===e&&void 0===u&&(u=k),void 0!==u&&u===k&&b===h){var x=l.getChild(b),C=n.createPositionAt(x,w);Pf(n,C,a)}}}catch(S){p=!0,v=S}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}Tf("rowspan",r,e,n)}var hp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"refresh",value:function(){var e=Lf(this.editor.model.document.selection),t=this.editor.plugins.get("TableUtils"),n=e.length>0;this.isEnabled=n,this.value=n&&e.every((function(e){return Mf(t,e)}))}},{key:"execute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.editor.model,n=this.editor.plugins.get("TableUtils"),i=Lf(t.document.selection),l=i[0],r=i[i.length-1],a=l.parent.parent,o=[n.getCellLocation(l).column,n.getCellLocation(r).column].sort(),s=_slicedToArray(o,2),u=s[0],c=s[1];if(e.forceValue!==this.value){var h=this.value?u:c+1;t.change((function(e){Tf("headingColumns",h,a,e,0)}))}}}]),t}(Es),dp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getCellLocation",value:function(e){var t=e.parent,n=t.parent,i=n.getChildIndex(t),l=new Ef(n,{startRow:i,endRow:i}),r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=c.cell,d=c.row,f=c.column;if(h===e)return{row:d,column:f}}}catch(p){a=!0,o=p}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}},{key:"createTable",value:function(e,t,n){var i=e.createElement("table");return fp(e,i,0,t,n),i}},{key:"insertRows",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.at||0,l=n.rows||1;this.editor.model.change((function(n){var r=e.getAttribute("headingRows")||0;if(r>i&&n.setAttribute("headingRows",r+l,e),0!==i&&i!==e.childCount){var a=new Ef(e,{endRow:i}),o=0,s=!0,u=!1,c=void 0;try{for(var h,d=a[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value,p=f.row,v=f.rowspan,g=f.colspan,m=f.cell;p<i&&p+v>i&&n.setAttribute("rowspan",v+l,m),p===i&&(o+=g)}}catch(y){u=!0,c=y}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}fp(n,e,i,l,o)}else fp(n,e,i,l,t.getColumns(e))}))}},{key:"insertColumns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.at||0,l=n.columns||1;this.editor.model.change((function(n){var r=e.getAttribute("headingColumns");i<r&&n.setAttribute("headingColumns",r+l,e);var a=t.getColumns(e);if(0!==i&&a!==i){var o=new Ef(e,{column:i,includeSpanned:!0}),s=!0,u=!1,c=void 0;try{for(var h,d=o[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value,p=f.row,v=f.cell,g=f.cellIndex,m=parseInt(v.getAttribute("rowspan")||1),y=parseInt(v.getAttribute("colspan")||1);if(v.index!==i&&y>1){if(n.setAttribute("colspan",y+l,v),o.skipRow(p),m>1)for(var b=p+1;b<p+m;b++)o.skipRow(b)}else{var k=n.createPositionAt(e.getChild(p),g);pp(l,n,k)}}}catch(P){u=!0,c=P}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}else{var _=!0,w=!1,x=void 0;try{for(var C,S=e.getChildren()[Symbol.iterator]();!(_=(C=S.next()).done);_=!0){var T=C.value;pp(l,n,n.createPositionAt(T,i?"end":0))}}catch(P){w=!0,x=P}finally{try{_||null==S.return||S.return()}finally{if(w)throw x}}}}))}},{key:"splitCellVertically",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,i=e.parent.parent,l=parseInt(e.getAttribute("rowspan")||1),r=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(r>1){var a=vp(r,t),o=a.newCellsSpan;Tf("colspan",a.updatedSpan,e,n);var s={};o>1&&(s.colspan=o),l>1&&(s.rowspan=l),pp(r>t?t-1:r-1,n,n.createPositionAfter(e),s)}if(r<t){var u=t-r,c=_toConsumableArray(new Ef(i)),h=c.find((function(t){return t.cell===e})).column,d=c.filter((function(t){var n=t.cell,i=t.colspan,l=t.column;return n!==e&&l===h||l<h&&l+i>h})),f=!0,p=!1,v=void 0;try{for(var g,m=d[Symbol.iterator]();!(f=(g=m.next()).done);f=!0){var y=g.value,b=y.cell,k=y.colspan;n.setAttribute("colspan",k+u,b)}}catch(x){p=!0,v=x}finally{try{f||null==m.return||m.return()}finally{if(p)throw v}}var _={};l>1&&(_.rowspan=l),pp(u,n,n.createPositionAfter(e),_);var w=i.getAttribute("headingColumns")||0;w>h&&Tf("headingColumns",w+u,i,n)}}))}},{key:"splitCellHorizontally",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=this.editor.model,i=e.parent,l=i.parent,r=l.getChildIndex(i),a=parseInt(e.getAttribute("rowspan")||1),o=parseInt(e.getAttribute("colspan")||1);n.change((function(n){if(a>1){var i=_toConsumableArray(new Ef(l,{startRow:r,endRow:r+a-1,includeSpanned:!0})),s=vp(a,t),u=s.newCellsSpan,c=s.updatedSpan;Tf("rowspan",c,e,n);var h=i.find((function(t){return t.cell===e})).column,d={};u>1&&(d.rowspan=u),o>1&&(d.colspan=o);for(var f=0,p=i;f<p.length;f++){var v=p[f],g=v.column,m=v.row,y=v.cellIndex;if(m>=r+c&&g===h&&(m+r+c)%u==0){var b=n.createPositionAt(l.getChild(m),y);pp(1,n,b,d)}}}if(a<t){var k=t-a,_=_toConsumableArray(new Ef(l,{startRow:0,endRow:r})),w=!0,x=!1,C=void 0;try{for(var S,T=_[Symbol.iterator]();!(w=(S=T.next()).done);w=!0){var P=S.value,M=P.cell,A=P.rowspan,I=P.row;M!==e&&I+A>r&&n.setAttribute("rowspan",A+k,M)}}catch(O){x=!0,C=O}finally{try{w||null==T.return||T.return()}finally{if(x)throw C}}var E={};o>1&&(E.colspan=o),fp(n,l,r+1,k,1,E);var D=l.getAttribute("headingRows")||0;D>r&&Tf("headingRows",D+k,l,n)}}))}},{key:"getColumns",value:function(e){return _toConsumableArray(e.getChild(0).getChildren()).reduce((function(e,t){return e+parseInt(t.getAttribute("colspan")||1)}),0)}},{key:"getRows",value:function(e){return e.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),t}(Ss);function fp(e,t,n,i,l){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=0;a<i;a++){var o=e.createElement("tableRow");e.insert(o,t,n),pp(l,e,e.createPositionAt(o,"end"),r)}}function pp(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=0;l<e;l++)Pf(t,n,i)}function vp(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}function gp(e,t){var n=!1,i=function(e){var t=parseInt(e.getAttribute("headingRows")||0),n=e.childCount,i=[],l=!0,r=!1,a=void 0;try{for(var o,s=new Ef(e)[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value,c=u.row,h=u.rowspan,d=u.cell;if(!(h<2)){var f=c<t?t:n;c+h>f&&i.push({cell:d,rowspan:f-c})}}}catch(p){r=!0,a=p}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return i}(e);if(i.length){n=!0;var l=!0,r=!1,a=void 0;try{for(var o,s=i[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;Tf("rowspan",u.rowspan,u.cell,t,1)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}}return n}function mp(e,t){var n=!1,i=function(e){var t={},n=!0,i=!1,l=void 0;try{for(var r,a=new Ef(e,{includeSpanned:!0})[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value.row;t[o]||(t[o]=0),t[o]+=1}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}(e),l=i[0];if(!Object.values(i).every((function(e){return e===l})))for(var r=Object.values(i).reduce((function(e,t){return t>e?t:e}),0),a=0,o=Object.entries(i);a<o.length;a++){var s=_slicedToArray(o[a],2),u=s[0],c=r-s[1];if(c){for(var h=0;h<c;h++)Pf(t,t.createPositionAt(e.getChild(u),"end"));n=!0}}return n}function yp(e){var t=e.attributeKey;return"attribute"===e.type&&("headingRows"===t||"colspan"===t||"rowspan"===t)}function bp(e,t){var n=!1,i=!0,l=!1,r=void 0;try{for(var a,o=e.getChildren()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){n=kp(a.value,t)||n}}catch(s){l=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}function kp(e,t){var n=!1,i=!0,l=!1,r=void 0;try{for(var a,o=e.getChildren()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){n=_p(a.value,t)||n}}catch(s){l=!0,r=s}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}function _p(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;var n=Array.from(e.getChildren()).filter((function(e){return e.is("text")})),i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;t.wrap(t.createRangeOn(s),"paragraph")}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return!!n.length}function wp(e){return!(!e.position||!e.position.parent.is("tableCell"))&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function xp(e,t){if(!Array.from(e.getChildren()).some((function(e){return e.is("paragraph")})))return!1;if("attribute"==t){var n=Array.from(e.getChild(0).getAttributeKeys()).length;return 1===e.childCount&&n<2}return e.childCount<=("insert"==t?2:1)}n(84);var Cp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=t.model,i=n.schema,l=t.conversion;i.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),i.register("tableRow",{allowIn:"table",isLimit:!0}),i.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),i.extend("$block",{allowIn:"tableCell"}),i.addChildCheck((function(e,t){if("table"==t.name&&Array.from(e.getNames()).includes("table"))return!1})),l.for("upcast").add((function(e){e.on("element:table",(function(e,t,n){var i=t.viewItem;if(n.consumable.test(i,{name:!0})){var l=function(e){for(var t,n={headingRows:0,headingColumns:0},i=[],l=[],r=0,a=Array.from(e.getChildren());r<a.length;r++){var o=a[r];if("tbody"===o.name||"thead"===o.name||"tfoot"===o.name){"thead"!==o.name||t||(t=o);var s=Array.from(o.getChildren()).filter((function(e){return e.is("element","tr")})),u=!0,c=!1,h=void 0;try{for(var d,f=s[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;if("thead"===p.parent.name&&p.parent===t)n.headingRows++,i.push(p);else{l.push(p);var v=If(p);v>n.headingColumns&&(n.headingColumns=v)}}}catch(g){c=!0,h=g}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}}}return n.rows=[].concat(i,l),n}(i),r=l.rows,a=l.headingRows,o=l.headingColumns,s={};o&&(s.headingColumns=o),a&&(s.headingRows=a);var u=n.writer.createElement("table",s),c=n.splitToAllowedParent(u,t.modelCursor);if(c){if(n.writer.insert(u,c.position),n.consumable.consume(i,{name:!0}),r.length)r.forEach((function(e){return n.convertItem(e,n.writer.createPositionAt(u,"end"))}));else{var h=n.writer.createElement("tableRow");n.writer.insert(h,n.writer.createPositionAt(u,"end")),Pf(n.writer,n.writer.createPositionAt(h,"end"))}t.modelRange=n.writer.createRange(n.writer.createPositionBefore(u),n.writer.createPositionAfter(u)),t.modelCursor=c.cursorParent?n.writer.createPositionAt(c.cursorParent,0):t.modelRange.end}}}))})),l.for("editingDowncast").add(Vf({asWidget:!0})),l.for("dataDowncast").add(Vf()),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("editingDowncast").add(zf({asWidget:!0})),l.for("dataDowncast").add(zf()),l.for("downcast").add((function(e){return e.on("remove:tableRow",(function(e,t,n){e.stop();var i=n.writer,l=n.mapper,r=l.toViewPosition(t.position).getLastMatchingPosition((function(e){return!e.item.is("tr")})).nodeAfter,a=r.parent,o=i.createRangeOn(r),s=i.remove(o),u=!0,c=!1,h=void 0;try{for(var d,f=i.createRangeIn(s).getItems()[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var p=d.value;l.unbindViewElement(p)}}catch(v){c=!0,h=v}finally{try{u||null==f.return||f.return()}finally{if(c)throw h}}a.childCount||i.remove(i.createRangeOn(a))}),{priority:"higher"})})),l.for("upcast").add(Af("td")),l.for("upcast").add(Af("th")),l.for("editingDowncast").add(jf({asWidget:!0})),l.for("dataDowncast").add(jf()),l.attributeToAttribute({model:"colspan",view:"colspan"}),l.attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("editingDowncast").add(Wf({asWidget:!0})),l.for("dataDowncast").add(Wf()),l.for("editingDowncast").add(Hf({asWidget:!0})),l.for("dataDowncast").add(Hf()),t.commands.add("insertTable",new tp(t)),t.commands.add("insertTableRowAbove",new np(t,{order:"above"})),t.commands.add("insertTableRowBelow",new np(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new ip(t,{order:"left"})),t.commands.add("insertTableColumnRight",new ip(t,{order:"right"})),t.commands.add("removeTableRow",new op(t)),t.commands.add("removeTableColumn",new sp(t)),t.commands.add("splitTableCellVertically",new lp(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new lp(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new rp(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new rp(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new rp(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new rp(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new hp(t)),t.commands.add("setTableRowHeader",new up(t)),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n=t.document.differ.getChanges(),i=!1,l=new Set,r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=void 0;"table"==c.name&&"insert"==c.type&&(h=c.position.nodeAfter),"tableRow"!=c.name&&"tableCell"!=c.name||(h=Sf("table",c.position)),yp(c)&&(h=Sf("table",c.range.start)),h&&!l.has(h)&&(i=gp(h,e)||i,i=mp(h,e)||i,l.add(h))}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return i}(t,e)}))}(n),function(e){e.document.registerPostFixer((function(){return function(e){var t=e.document.differ,n=new Set,i=!0,l=!1,r=void 0;try{for(var a,o=t.getChanges()[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value,u="insert"==s.type||"remove"==s.type?s.position.parent:s.range.start.parent;u.is("tableCell")&&xp(u,s.type)&&n.add(u)}}catch(g){l=!0,r=g}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}if(n.size){var c=!0,h=!1,d=void 0;try{for(var f,p=n.values()[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;t.refreshItem(v)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}return!0}return!1}(e)}))}(n),function(e){e.document.registerPostFixer((function(t){return function(e,t){var n=t.document.differ.getChanges(),i=!1,l=!0,r=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;"insert"==u.type&&"table"==u.name&&(i=bp(u.position.nodeAfter,e)||i),"insert"==u.type&&"tableRow"==u.name&&(i=kp(u.position.nodeAfter,e)||i),"insert"==u.type&&"tableCell"==u.name&&(i=_p(u.position.nodeAfter,e)||i),wp(u)&&(i=_p(u.position.parent,e)||i)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return i}(t,e)}))}(n),this.editor.keystrokes.set("Tab",(function(){return e._handleTabOnSelectedTable.apply(e,arguments)}),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}},{key:"_handleTabOnSelectedTable",value:function(e,t){var n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){var l=i.getSelectedElement();if(!l||!l.is("table"))return;t(),n.model.change((function(e){e.setSelection(e.createRangeIn(l.getChild(0).getChild(0)))}))}}},{key:"_getTabHandler",value:function(e){var t=this.editor;return function(n,i){var l=Nf(t.model.document.selection)[0];if(l){i();var r=l.parent,a=r.parent,o=a.getChildIndex(r),s=r.getChildIndex(l),u=0===s;if(e||!u||0!==o){var c=s===r.childCount-1;if(!e||o!==a.childCount-1||!c||(t.execute("insertTableRowBelow"),o!==a.childCount-1)){var h;if(e&&c){var d=a.getChild(o+1);h=d.getChild(0)}else if(!e&&u){var f=a.getChild(o-1);h=f.getChild(f.childCount-1)}else h=r.getChild(s+(e?1:-1));t.model.change((function(e){e.setSelection(e.createRangeIn(h))}))}}}}}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[dp]}}]),t}(Ss);n(86);var Sp=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;n.items=n.createCollection(),n.set("rows",0),n.set("columns",0),n.bind("label").to(_assertThisInitialized(n),"columns",_assertThisInitialized(n),"rows",(function(e,t){return"".concat(t," \xd7 ").concat(e)})),n.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:n.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:i.to("label")}]}],on:{mousedown:i.to((function(e){e.preventDefault()})),click:i.to((function(){n.fire("execute")}))}});for(var l=function(e){var t=new Tp;t.on("over",(function(){var t=Math.floor(e/10),i=e%10;n.set("rows",t+1),n.set("columns",i+1)})),n.items.add(t)},r=0;r<100;r++)l(r);return n.on("change:columns",(function(){n._highlightGridBoxes()})),n.on("change:rows",(function(){n._highlightGridBoxes()})),n}return _inherits(t,e),_createClass2(t,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var e=this.rows,t=this.columns;this.items.map((function(n,i){var l=Math.floor(i/10)<e&&i%10<t;n.set("isOn",l)}))}}]),t}(Ho),Tp=function(e){function t(e){var n;_classCallCheck2(this,t);var i=(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).bindTemplate;return n.set("isOn",!1),n.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",i.if("isOn","ck-on")]},on:{mouseover:i.to("over")}}),n}return _inherits(t,e),t}(Ho),Pp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor,n=this.editor.t,i="ltr"===t.locale.contentLanguageDirection;t.ui.componentFactory.add("insertTable",(function(e){var i,l=t.commands.get("insertTable"),r=ms(e);return r.bind("isEnabled").to(l),r.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:n("m"),tooltip:!0}),r.on("change:isOpen",(function(){i||(i=new Sp(e),r.panelView.children.add(i),i.delegate("execute").to(r),r.buttonView.on("open",(function(){i.rows=0,i.columns=0})),r.on("execute",(function(){t.execute("insertTable",{rows:i.rows,columns:i.columns}),t.editing.view.focus()})))})),r})),t.ui.componentFactory.add("tableColumn",(function(t){var l=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:n("n"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:i?"insertTableColumnLeft":"insertTableColumnRight",label:n("o")}},{type:"button",model:{commandName:i?"insertTableColumnRight":"insertTableColumnLeft",label:n("p")}},{type:"button",model:{commandName:"removeTableColumn",label:n("q")}}];return e._prepareDropdown(n("r"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',l,t)})),t.ui.componentFactory.add("tableRow",(function(t){var i=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:n("s"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:n("t")}},{type:"button",model:{commandName:"insertTableRowAbove",label:n("u")}},{type:"button",model:{commandName:"removeTableRow",label:n("v")}}];return e._prepareDropdown(n("w"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',i,t)})),t.ui.componentFactory.add("mergeTableCells",(function(t){var l=[{type:"button",model:{commandName:"mergeTableCellUp",label:n("x")}},{type:"button",model:{commandName:i?"mergeTableCellRight":"mergeTableCellLeft",label:n("y")}},{type:"button",model:{commandName:"mergeTableCellDown",label:n("z")}},{type:"button",model:{commandName:i?"mergeTableCellLeft":"mergeTableCellRight",label:n("aa")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:n("ab")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:n("ac")}}];return e._prepareDropdown(n("ad"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',l,t)}))}},{key:"_prepareDropdown",value:function(e,t,n,i){var l=this.editor,r=ms(i),a=[],o=new Dt,s=!0,u=!1,c=void 0;try{for(var h,d=n[Symbol.iterator]();!(s=(h=d.next()).done);s=!0){Mp(h.value,l,a,o)}}catch(f){u=!0,c=f}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}return ys(r,o),r.buttonView.set({label:e,icon:t,tooltip:!0}),r.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((function(e){return e}))})),this.listenTo(r,"execute",(function(e){l.execute(e.source.commandName),l.editing.view.focus()})),r}}]),t}(Ss);function Mp(e,t,n,i){var l=e.model=new Zh(e.model),r=e.model,a=r.commandName,o=r.bindIsOn;if("button"===e.type||"switchbutton"===e.type){var s=t.commands.get(a);n.push(s),l.set({commandName:a}),l.bind("isEnabled").to(s),o&&l.bind("isOn").to(s,"value")}l.set({withText:!0}),i.add(e)}var Ap=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).domEventType=["mousemove","mouseup","mouseleave"],n}return _inherits(t,e),_createClass2(t,[{key:"onDomEvent",value:function(e){this.fire(e.type,e)}}]),t}(yl);n(88);var Ip=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor;this.listenTo(t.model,"deleteContent",(function(t,n){return e._handleDeleteContent(t,n)}),{priority:"high"}),t.editing.view.addObserver(Ap),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection()}},{key:"getSelectedTableCells",value:function(){var e=Rf(this.editor.model.document.selection);return 0==e.length?null:e}},{key:"getSelectionAsFragment",value:function(){var e=this,t=this.getSelectedTableCells();return t?this.editor.model.change((function(n){var i=n.createDocumentFragment(),l=function(e,t,n){var i=Array.from(e),l=i[0],r=i[i.length-1],a=t.getCellLocation(l),o=a.row,s=a.column,u=function(e,t,n,i){var l=n.createElement("table"),r=new Map,a=new Map,o=!0,s=!1,u=void 0;try{for(var c,h=e[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value,f=Sf("tableRow",d);if(!r.has(f)){var p=f._clone();n.append(p,l),r.set(f,p)}var v=d._clone(!0),g=i.getCellLocation(d).column;a.set(v,g),n.append(v,r.get(f))}}catch(m){s=!0,u=m}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return function(e,t,n,i,l){var r=!0,a=!1,o=void 0;try{for(var s,u=e.getChildren()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)for(var c=s.value,h=0,d=Array.from(c.getChildren());h<d.length;h++){var f=d[h],p=l.getCellLocation(f).column,v=n.get(f)-t;if(p!==v)for(var g=0;g<v-p;g++){var y=i.createElement("tableCell");i.insert(y,i.createPositionBefore(f));var b=i.createElement("paragraph");i.insert(b,y,0),i.insertText("",b,0)}}}catch(m){a=!0,o=m}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}(l,t,a,n,i),l}(i,s,n,t),c=t.getCellLocation(r),h=c.row;return function(e,t,n,i,l){var r=!0,a=!1,o=void 0;try{for(var s,u=e.getChildren()[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,h=!0,d=!1,f=void 0;try{for(var p,v=c.getChildren()[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var g=p.value,m=parseInt(g.getAttribute("colspan")||1),y=parseInt(g.getAttribute("rowspan")||1),b=l.getCellLocation(g),k=b.row,_=b.column;if(_+m>t){var w=t-_;w>1?i.setAttribute("colspan",w,g):i.removeAttribute("colspan",g)}if(k+y>n){var x=n-k;x>1?i.setAttribute("rowspan",x,g):i.removeAttribute("rowspan",g)}}}catch(C){d=!0,f=C}finally{try{h||null==v.return||v.return()}finally{if(d)throw f}}}}catch(C){a=!0,o=C}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}(u,c.column-s+1,h-o+1,n,t),function(e,t,n,i,l){var r=parseInt(t.getAttribute("headingRows")||0);r>0&&l.setAttribute("headingRows",r-n,e);var a=parseInt(t.getAttribute("headingColumns")||0);a>0&&l.setAttribute("headingColumns",a-i,e)}(u,Sf("table",l),o,s,n),u}(t,e.editor.plugins.get("TableUtils"),n);return n.insert(l,i,0),i})):null}},{key:"_defineSelectionConverter",value:function(){var e=this,t=this.editor,n=new Set;t.conversion.for("editingDowncast").add((function(t){return t.on("selection",(function(t,i,l){var r=l.writer;!function(e){var t=!0,i=!1,l=void 0;try{for(var r,a=n[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;e.removeClass("ck-editor__editable_selected",o)}}catch(s){i=!0,l=s}finally{try{t||null==a.return||a.return()}finally{if(i)throw l}}n.clear()}(r);var a=e.getSelectedTableCells();if(a){var o=!0,s=!1,u=void 0;try{for(var c,h=a[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value,f=l.mapper.toViewElement(d);r.addClass("ck-editor__editable_selected",f),n.add(f)}}catch(v){s=!0,u=v}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}var p=l.mapper.toViewElement(a[a.length-1]);r.setSelection(p,0)}}),{priority:"lowest"})}))}},{key:"_enableShiftClickSelection",value:function(){var e=this,t=this.editor,n=!1;this.listenTo(t.editing.view.document,"mousedown",(function(i,l){if(e.isEnabled&&l.domEvent.shiftKey){var r=Nf(t.model.document.selection)[0];if(r){var a=e._getModelTableCellFromDomEvent(l);a&&Ep(r,a)&&(n=!0,e._setCellSelection(r,a),l.preventDefault())}}})),this.listenTo(t.editing.view.document,"mouseup",(function(){n=!1})),this.listenTo(t.editing.view.document,"selectionChange",(function(e){n&&e.stop()}),{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var e,t,n=this,i=this.editor,l=!1,r=!1;this.listenTo(i.editing.view.document,"mousedown",(function(t,i){n.isEnabled&&(i.domEvent.shiftKey||i.domEvent.ctrlKey||i.domEvent.altKey||(e=n._getModelTableCellFromDomEvent(i)))})),this.listenTo(i.editing.view.document,"mousemove",(function(i,a){if(a.domEvent.buttons&&e){var o=n._getModelTableCellFromDomEvent(a);o&&Ep(e,o)&&(t=o,l||t==e||(l=!0)),l&&(r=!0,n._setCellSelection(e,t),a.preventDefault())}})),this.listenTo(i.editing.view.document,"mouseup",(function(){l=!1,r=!1,e=null,t=null})),this.listenTo(i.editing.view.document,"selectionChange",(function(e){r&&e.stop()}),{priority:"highest"})}},{key:"_handleDeleteContent",value:function(e,t){var n=_slicedToArray(t,2),i=n[0],l=n[1],r=this.editor.model,a=!l||"backward"==l.direction,o=Rf(i);o.length&&(e.stop(),r.change((function(e){var t=o[a?o.length-1:0];r.change((function(e){var t=!0,n=!1,i=void 0;try{for(var l,a=o[Symbol.iterator]();!(t=(l=a.next()).done);t=!0){var s=l.value;r.deleteContent(e.createSelection(s,"in"))}}catch(u){n=!0,i=u}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}}));var n=r.schema.getNearestSelectionRange(e.createPositionAt(t,0));n&&(i.is("documentSelection")?e.setSelection(n):i.setTo(n))})))}},{key:"_setCellSelection",value:function(e,t){var n=this._getCellsToSelect(e,t);this.editor.model.change((function(e){e.setSelection(n.cells.map((function(t){return e.createRangeOn(t)})),{backward:n.backward})}))}},{key:"_getModelTableCellFromDomEvent",value:function(e){var t=this.editor.editing.view.createPositionAt(e.target,0),n=this.editor.editing.mapper.toModelPosition(t).parent;if(n)return n.is("tableCell")?n:Sf("tableCell",n)}},{key:"_getCellsToSelect",value:function(e,t){var n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(e),l=n.getCellLocation(t),r=Math.min(i.row,l.row),a=Math.max(i.row,l.row),o=Math.min(i.column,l.column),s=Math.max(i.column,l.column),u=[],c=!0,h=!1,d=void 0;try{for(var f,p=new Ef(Sf("table",e),{startRow:r,endRow:a})[Symbol.iterator]();!(c=(f=p.next()).done);c=!0){var v=f.value;v.column>=o&&v.column<=s&&u.push(v.cell)}}catch(g){h=!0,d=g}finally{try{c||null==p.return||p.return()}finally{if(h)throw d}}return function(e,t){return e.row>t.row||e.row==t.row&&e.column>t.column}(i,l)?{cells:u.reverse(),backward:!0}:{cells:u,backward:!1}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[dp]}}]),t}(Ss);function Ep(e,t){return e.parent.parent==t.parent.parent}var Dp=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor.editing.view.document;this.listenTo(t,"copy",(function(t,n){return e._onCopyCut(t,n)})),this.listenTo(t,"cut",(function(t,n){return e._onCopyCut(t,n)}))}},{key:"_onCopyCut",value:function(e,t){var n=this.editor.plugins.get("TableSelection");if(n.getSelectedTableCells()&&("cut"!=e.name||!this.editor.isReadOnly)){t.preventDefault(),e.stop();var i=this.editor.editing.view.document,l=this.editor.data.toView(n.getSelectionAsFragment());i.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:l,method:e.name})}}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[Ip]}}]),t}(Ss);n(90);var Op=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.model=t,this.testCallback=n,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(function(){i.isEnabled?i._startListening():(i.stopListening(t.document.selection),i.stopListening(t.document))})),this._startListening()}return _createClass2(e,[{key:"_startListening",value:function(){var e=this,t=this.model.document;this.listenTo(t.selection,"change:range",(function(n,i){i.directChange&&(t.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))})),this.listenTo(t,"change:data",(function(t,n){"transparent"!=n.type&&e._evaluateTextBeforeSelection("data",{batch:n})}))}},{key:"_evaluateTextBeforeSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.model,i=n.document.selection,l=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),r=Iu(l,n),a=r.text,o=r.range,s=this.testCallback(a);if(!s&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!s,s){var u=Object.assign(t,{text:a,range:o});"object"==typeof s&&Object.assign(u,s),this.fire("matched:".concat(e),u)}}}]),e}();Et(Op,Rn);var Fp=/[\\^$.*+?()[\]{}|]/g,Rp=RegExp(Fp.source),Np=function(e){return(e=ln(e))&&Rp.test(e)?e.replace(Fp,"\\$&"):e},Lp={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xbd"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xbc"},threeQuarters:{from:"3/4",to:"\xbe"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Wp('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:Wp("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Wp("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Wp('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:Wp('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:Wp("'"),to:[null,"\u201a",null,"\u2019"]}},Bp={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Vp=["symbols","mathematical","typography","quotes"];function zp(e){return"string"==typeof e?new RegExp("(".concat(Np(e),")$")):e}function jp(e){return"string"==typeof e?function(){return[e]}:e instanceof Array?function(){return e}:e}function Hp(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function Wp(e){return new RegExp("(^|\\s)(".concat(e,")([^").concat(e,"]*)(").concat(e,")$"))}var Up=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Cs);Up.builtinPlugins=[function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Is,Ls,js,tu,_u]}},{key:"pluginName",get:function(){return"Essentials"}}]),t}(Ss),Pu,function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}},{key:"_addListAutoformats",value:function(){var e=this.editor.commands;e.get("bulletedList")&&new Au(this.editor,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&new Au(this.editor,/^1[.|)]\s$/,"numberedList")}},{key:"_addBasicStylesAutoformats",value:function(){var e=this.editor.commands;if(e.get("bold")){var t=Ou(this.editor,"bold");new Eu(this.editor,/(\*\*)([^*]+)(\*\*)$/g,t),new Eu(this.editor,/(__)([^_]+)(__)$/g,t)}if(e.get("italic")){var n=Ou(this.editor,"italic");new Eu(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,n),new Eu(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,n)}if(e.get("code")){var i=Ou(this.editor,"code");new Eu(this.editor,/(`)([^`]+)(`)$/g,i)}}},{key:"_addHeadingAutoformats",value:function(){var e=this,t=this.editor.commands.get("heading");t&&t.modelElements.filter((function(e){return e.match(/^heading[1-6]$/)})).forEach((function(n){var i=new RegExp("^(#{".concat(n[7],"})\\s$"));new Au(e.editor,i,(function(){if(!t.isEnabled)return!1;e.editor.execute("heading",{value:n})}))}))}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&new Au(this.editor,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&new Au(this.editor,/^```$/,"codeBlock")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Ru,Nu]}},{key:"pluginName",get:function(){return"Bold"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Lu,Bu]}},{key:"pluginName",get:function(){return"Italic"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Uu,Yu]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[qc,qu,Pu]}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Qc,Sh,Hh]}},{key:"pluginName",get:function(){return"EasyImage"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[$h,Qh]}},{key:"pluginName",get:function(){return"Heading"}}]),t}(Ss),Sh,function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[td]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[gd,md]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"afterInit",value:function(){var e=this.editor,t=e.t;e.plugins.get(yd).register("image",{ariaLabel:t("b"),items:e.config.get("image.toolbar")||[],getRelatedElement:lc})}}],[{key:"requires",get:function(){return[yd]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),t}(Ss),Hh,function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[wd,Sd]}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Hc,Ad]}},{key:"pluginName",get:function(){return"Link"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[ef,nf]}},{key:"pluginName",get:function(){return"List"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[df,gf,pf,nh]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),t}(Ss),Yh,function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this.editor,t=[];t.push(new Cf),t.push(new kf(e.editing.view.document)),e.plugins.get("Clipboard").on("inputTransformation",(function(e,n){if(!n.isTransformedWithPasteFromOffice){var i=n.dataTransfer.getData("text/html"),l=t.find((function(e){return e.isActive(i)}));l&&(l.execute(n),n.isTransformedWithPasteFromOffice=!0)}}),{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[Is]}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,null,[{key:"requires",get:function(){return[Cp,Pp,Ip,Dp,nh]}},{key:"pluginName",get:function(){return"Table"}}]),t}(Ss),function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"afterInit",value:function(){var e=this.editor,t=e.t,n=e.plugins.get(yd),i=e.config.get("table.contentToolbar"),l=e.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:t("c"),items:i,getRelatedElement:Ff}),l&&n.register("table",{ariaLabel:t("c"),items:l,getRelatedElement:Of})}}],[{key:"requires",get:function(){return[yd]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),t}(Ss),function(e){function t(e){var n;return _classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)),e.config.define("typing",{transformations:{include:Vp}}),n}return _inherits(t,e),_createClass2(t,null,[{key:"pluginName",get:function(){return"TextTransformation"}}]),_createClass2(t,[{key:"init",value:function(){var e=this,t=this.editor.model.document.selection;t.on("change:range",(function(){e.isEnabled=!t.anchor.parent.is("codeBlock")})),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var e=this.editor,t=e.model,n=e.plugins.get("Input"),i=function(e){var t=e.remove||[],n=function(e){return!t.includes(e)};return function(e){var t=new Set,n=!0,i=!1,l=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value;if(Bp[o]){var s=!0,u=!1,c=void 0;try{for(var h,d=Bp[o][Symbol.iterator]();!(s=(h=d.next()).done);s=!0){var f=h.value;t.add(f)}}catch(p){u=!0,c=p}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}else t.add(o)}}catch(p){i=!0,l=p}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return Array.from(t)}(e.include.concat(e.extra||[]).filter(n)).filter(n).map((function(e){return Lp[e]||e})).map((function(e){return{from:zp(e.from),to:jp(e.to)}}))}(e.config.get("typing.transformations")),l=new Op(e.model,(function(e){var t=!0,n=!1,l=void 0;try{for(var r,a=i[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;if(o.from.test(e))return{normalizedTransformation:o}}}catch(s){n=!0,l=s}finally{try{t||null==a.return||a.return()}finally{if(n)throw l}}}));l.on("matched:data",(function(e,i){if(n.isInput(i.batch)){var l=i.normalizedTransformation,r=l.from,a=l.to,o=r.exec(i.text),s=a(o.slice(1)),u=i.range,c=o.index;t.enqueueChange((function(e){for(var n=1;n<o.length;n++){var i=o[n],l=s[n-1];if(null!=l){var r=u.start.getShiftedBy(c),a=t.createRange(r,r.getShiftedBy(i.length)),h=Hp(r);t.insertContent(e.createText(l,h),a),c+=l.length}else c+=i.length}}))}})),l.bind("isEnabled").to(this)}}]),t}(Ss)],Up.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default},"/7Za":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wrapper=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n("MPr3"),r=n("HtwQ"),a=n("FpMW"),o=n("3gQT");t.Wrapper=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.label=t,this.pubnubInstance=null,this.PubNub=n,this.broadcastOn=new r.Broadcast,this.outputOn=new a.Output,this.mockingInstance=new l.Mock(this.broadcastOn),this.autoload=new o.Autoload,this.PubNub||(this.PubNub=PubNub),null==this.PubNub)throw new Error("PubNub is not in global scope. Ensure that pubnub.js v4 library is included before the angular adapter")}return i(e,[{key:"init",value:function(e){this.pubnubInstance=new this.PubNub(e),this.mockingInstance.initializeListener(this),this.autoload.initialize(this)}},{key:"getLabel",value:function(){return this.label}},{key:"subscribe",value:function(e){this.getOriginalInstance().subscribe(e),this.mockingInstance.enableEventsBroadcast(e),this.autoload.enableLoad(e)}},{key:"unsubscribe",value:function(e){this.autoload.disableLoad(e),this.outputOn.unsubscribe(e),this.getOriginalInstance().unsubscribe(e);var t=this,n=setTimeout((function(){t.mockingInstance.disableEventsBroadcast(e),clearTimeout(n)}),1e3)}},{key:"getMessage",value:function(e){var t=this,n=void 0,i=100;return 1==(arguments.length<=1?0:arguments.length-1)&&"function"==typeof(arguments.length<=1?void 0:arguments[1])?n=arguments.length<=1?void 0:arguments[1]:1==(arguments.length<=1?0:arguments.length-1)&&"number"==typeof(arguments.length<=1?void 0:arguments[1])?i=arguments.length<=1?void 0:arguments[1]:2==(arguments.length<=1?0:arguments.length-1)&&(n=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]),this.outputOn.subscribe(e,i)&&this.autoload.getHistory(e,n),this.broadcastOn.message(e,(function(i){t.outputOn.push(e,i),n&&n(i)})),this.outputOn.get(e)}},{key:"getPresence",value:function(e,t){this.broadcastOn&&this.broadcastOn.presence(e,t)}},{key:"getStatus",value:function(e,t){this.broadcastOn&&this.broadcastOn.status(e,t)}},{key:"getError",value:function(e){this.broadcastOn&&this.broadcastOn.error(e)}},{key:"clean",value:function(e){this.outputOn.clean(e)}},{key:"release",value:function(e){this.broadcastOn.unsubscribe(e),this.outputOn.unsubscribe(e)}},{key:"getOriginalInstance",value:function(){if(this.pubnubInstance)return this.pubnubInstance;throw new ReferenceError("Pubnub default instance is not initialized yet. Invoke #init() method first.")}},{key:"wrapAttribute",value:function(e){Object.defineProperty(this,e,{get:function(){return this.getOriginalInstance()[e]}})}},{key:"wrapMethod",value:function(e){this[e]=function(){return this.getOriginalInstance()[e].apply(this,arguments)}}}]),e}()},0:function(e,t,n){e.exports=n("zUnb")},"3/ER":function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=l&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===l?i.a.Buffer:void 0,o=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=o?o(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("3UD+")(e))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"3gQT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Autoload=void 0;var i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(i=n("IMwA"))&&i.__esModule?i:{default:i};t.Autoload=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.count={},this.instance=void 0}return l(e,[{key:"initialize",value:function(e){this.instance=e}},{key:"enableLoad",value:function(e){var t=this;e.autoload&&"number"==typeof e.autoload&&(this.count[e.channels]=e.autoload,e.channels.forEach((function(n){t.count[n]=e.autoload})))}},{key:"getHistory",value:function(e,t){var n=this;if(this.count[e]){var i=this.instance,l=Array.isArray(e)?e:[e],a=l.length;l.forEach((function(l){i.history({channel:l,count:n.count[e]}).then((function(n){n.messages.forEach((function(t){t.message=t.entry,t.channel=l,i.outputOn.push(e,t)})),a-=1,t&&0===a&&(i.outputOn.sort(e,r.default.history_sort_attribute),t())})).catch((function(){}))}))}}},{key:"disableLoad",value:function(e){var t=this;Array.isArray(e.channels)?e.channels.forEach((function(e){t.count[e]&&delete t.count[e]})):this.count[e.channels]&&delete this.count[e.channels]}}]),e}()},"6MUB":function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,l){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(l){var r=encodeURIComponent(i(l))+n;return Array.isArray(e[l])?e[l].map((function(e){return r+encodeURIComponent(i(e))})).join(t):r+encodeURIComponent(i(e[l]))})).join(t):l?encodeURIComponent(i(l))+n+encodeURIComponent(i(e)):""}},CxY0:function(e,t,n){"use strict";var i=n("rWzI"),l=n("Nehr");function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return l.isString(e)&&(e=b(e)),e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var a=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(u),h=["%","/","?",";","#"].concat(c),d=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n("r8II");function b(e,t,n){if(e&&l.isObject(e)&&e instanceof r)return e;var i=new r;return i.parse(e,t,n),i}r.prototype.parse=function(e,t,n){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),o=-1!==r&&r<e.indexOf("#")?"?":"#",u=e.split(o);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(o);if(b=b.trim(),!n&&1===e.split("#").length){var k=s.exec(b);if(k)return this.path=b,this.href=b,this.pathname=k[1],k[2]?(this.search=k[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(b);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||_&&g[_]||(b=b.substr(2),this.slashes=!0)}if(!g[_]&&(x||_&&!m[_])){for(var C,S,T=-1,P=0;P<d.length;P++)-1!==(M=b.indexOf(d[P]))&&(-1===T||M<T)&&(T=M);for(-1!==(S=-1===T?b.lastIndexOf("@"):b.lastIndexOf("@",T))&&(C=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(C)),T=-1,P=0;P<h.length;P++){var M;-1!==(M=b.indexOf(h[P]))&&(-1===T||M<T)&&(T=M)}-1===T&&(T=b.length),this.host=b.slice(0,T),b=b.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var I=this.hostname.split(/\./),E=(P=0,I.length);P<E;P++){var D=I[P];if(D&&!D.match(f)){for(var O="",F=0,R=D.length;F<R;F++)D.charCodeAt(F)>127?O+="x":O+=D[F];if(!O.match(f)){var N=I.slice(0,P),L=I.slice(P+1),B=D.match(p);B&&(N.push(B[1]),L.unshift(B[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=N.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),A||(this.hostname=i.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[w])for(P=0,E=c.length;P<E;P++){var V=c[P];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var j=b.indexOf("#");-1!==j&&(this.hash=b.substr(j),b=b.slice(0,j));var H=b.indexOf("?");return-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==r?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+r+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+i},r.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(l.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var n=new r,i=Object.keys(this),a=0;a<i.length;a++){var o=i[a];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var c=s[u];"protocol"!==c&&(n[c]=e[c])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var f=h[d];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=y||v||n.host&&e.pathname,k=b,_=n.pathname&&n.pathname.split("/")||[],w=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===_[0])),y)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),n.search=e.search,n.query=e.query;else if(!l.isNullOrUndefined(e.search))return w&&(n.hostname=n.host=_.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),n.search=e.search,n.query=e.query,l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!_.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var x=_.slice(-1)[0],C=(n.host||e.host||_.length>1)&&("."===x||".."===x)||""===x,S=0,T=_.length;T>=0;T--)"."===(x=_[T])?_.splice(T,1):".."===x?(_.splice(T,1),S++):S&&(_.splice(T,1),S--);if(!b&&!k)for(;S--;S)_.unshift("..");!b||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),C&&"/"!==_.join("/").substr(-1)&&_.push("");var P,M=""===_[0]||_[0]&&"/"===_[0].charAt(0);return w&&(n.hostname=n.host=M?"":_.length?_.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift())),(b=b||n.host&&_.length)&&!M&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),l.isNull(n.pathname)&&l.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},Dcaw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(i=n("IMwA"))&&i.__esModule?i:{default:i},a=n("/7Za"),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pubnub=t,this.wrappers={}}return l(e,[{key:"init",value:function(e){var t=this.getInstance(r.default.default_instance_name);return t.init(e),t}},{key:"getInstance",value:function(e){var t=this,n=this.wrappers[e];return n&&n instanceof a.Wrapper?n:"string"==typeof e&&e.length>0?(this.wrappers[e]=new a.Wrapper(e,this.pubnub),r.default.attributes_to_delegate.forEach((function(n){t.wrappers[e].wrapAttribute(n),t[n]||Object.defineProperty(t,n,{get:function(){return this.getInstance(r.default.default_instance_name)[n]}})})),r.default.methods_to_delegate.forEach((function(n){t.wrappers[e].wrapMethod(n),t[n]||(t[n]=function(){var e=this.getInstance(r.default.default_instance_name);return e[n].apply(e,arguments)})})),this.wrappers[e]):n}},{key:"subscribe",value:function(e){this.getInstance(r.default.default_instance_name).subscribe(e)}},{key:"unsubscribe",value:function(e){this.getInstance(r.default.default_instance_name).unsubscribe(e)}},{key:"getMessage",value:function(e){for(var t,n=arguments.length,i=Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];return(t=this.getInstance(r.default.default_instance_name)).getMessage.apply(t,[e].concat(i))}},{key:"getPresence",value:function(e,t){this.getInstance(r.default.default_instance_name).getPresence(e,t)}},{key:"getStatus",value:function(e,t){this.getInstance(r.default.default_instance_name).getStatus(e,t)}},{key:"getError",value:function(e){this.getInstance(r.default.default_instance_name).getError(e)}},{key:"clean",value:function(e){this.getInstance(r.default.default_instance_name).clean(e)}},{key:"release",value:function(e){this.getInstance(r.default.default_instance_name).release(e)}}]),e}();t.default=o,e.exports=t.default},DwXj:function(e,t,n){var i;!function(){function n(e,t){e.prototype=function(e){function t(){}return t.prototype=e,new t}(t.prototype),e.prototype.constructor=e,e.base=t.prototype}function l(e,t,n){return"millisecond"===n?e.setMilliseconds(e.getMilliseconds()+1*t):"second"===n?e.setSeconds(e.getSeconds()+1*t):"minute"===n?e.setMinutes(e.getMinutes()+1*t):"hour"===n?e.setHours(e.getHours()+1*t):"day"===n?e.setDate(e.getDate()+1*t):"week"===n?e.setDate(e.getDate()+7*t):"month"===n?e.setMonth(e.getMonth()+1*t):"year"===n&&e.setFullYear(e.getFullYear()+1*t),e}function r(e,t){var n=!1;for(0>e&&(n=!0,e*=-1),e=""+e,t=t||1;e.length<t;)e="0"+e;return n?"-"+e:e}function a(e){if(!e)return e;for(var t=/\s/,n=(e=e.replace(/^\s\s*/,"")).length;t.test(e.charAt(--n)););return e.slice(0,n+1)}function o(e){e.roundRect=function(e,t,n,i,l,r,a,o){a&&(this.fillStyle=a),o&&(this.strokeStyle=o),void 0===l&&(l=5),this.lineWidth=r,this.beginPath(),this.moveTo(e+l,t),this.lineTo(e+n-l,t),this.quadraticCurveTo(e+n,t,e+n,t+l),this.lineTo(e+n,t+i-l),this.quadraticCurveTo(e+n,t+i,e+n-l,t+i),this.lineTo(e+l,t+i),this.quadraticCurveTo(e,t+i,e,t+i-l),this.lineTo(e,t+l),this.quadraticCurveTo(e,t,e+l,t),this.closePath(),a&&this.fill(),o&&0<r&&this.stroke()}}function s(e,t){return e-t}function u(e,t,n){if(e&&t&&n){n=n+"."+t;var i="image/"+t;e=e.toDataURL(i);var l=!1,r=document.createElement("a");if(r.download=n,r.href=e,"undefined"!=typeof Blob&&new Blob){for(var a=e.replace(/^data:[a-z\/]*;base64,/,""),o=(a=atob(a),new ArrayBuffer(a.length)),s=(o=new Uint8Array(o),0);s<a.length;s++)o[s]=a.charCodeAt(s);t=new Blob([o.buffer],{type:"image/"+t});try{window.navigator.msSaveBlob(t,n),l=!0}catch(u){r.dataset.downloadurl=[i,r.download,r.href].join(":"),r.href=window.URL.createObjectURL(t)}}if(!l)try{event=document.createEvent("MouseEvents"),event.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent?r.dispatchEvent(event):r.fireEvent&&r.fireEvent("onclick")}catch(Z){(t=window.open()).document.write("<img src='"+e+"'></img><div>Please right click on the image and save it to your device</div>"),t.document.close()}}}function c(e){var t=((16711680&e)>>16).toString(16),n=((65280&e)>>8).toString(16);return e=((255&e)>>0).toString(16),"#"+(t=2>t.length?"0"+t:t)+(n=2>n.length?"0"+n:n)+(2>e.length?"0"+e:e)}function h(e,t){var n,i=this.length>>>0;for(0>(n=0>(n=Number(t)||0)?Math.ceil(n):Math.floor(n))&&(n+=i);n<i;n++)if(n in this&&this[n]===e)return n;return-1}function d(e){return null==e}function f(e){return e.indexOf||(e.indexOf=h),e}function p(e){j.fSDec&&e[de("`eeDwdouMhrudods")](de("e`u`@ohl`uhnoHuds`uhnoDoe"),(function(){j._fTWm&&j._fTWm(e)}))}function v(e,t,n){var i=e+"_"+t+"_"+(n=n||"normal"),l=ee[i];if(isNaN(l)){try{if(e="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;font-family:"+e+"; font-size:"+t+"px; font-weight:"+n+";",!te){var r=document.body;(te=document.createElement("span")).innerHTML="";var a=document.createTextNode("Mpgyi");te.appendChild(a),r.appendChild(te)}te.style.display="",te.setAttribute("style",e),l=Math.round(te.offsetHeight),te.style.display="none"}catch(o){l=Math.ceil(1.1*t)}l=Math.max(l,t),ee[i]=l}return l}function g(e,t){var n=[];if(n={solid:[],shortDash:[3,1],shortDot:[1,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],dot:[1,2],dash:[4,2],dashDot:[4,2,1,2],longDash:[8,2],longDashDot:[8,2,1,2],longDashDotDot:[8,2,1,2,1,2]}[e||"solid"])for(var i=0;i<n.length;i++)n[i]*=t;else n=[];return n}function m(e,t,n,i,l){return(i=i||[]).push([e,t,n,l=l||!1]),e.addEventListener?(e.addEventListener(t,n,l),n):!!e.attachEvent&&(i=function(t){(t=t||window.event).preventDefault=t.preventDefault||function(){t.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+t,i),i)}function y(e,t,n){for(e=n.getImageData(e*=ce,t*=ce,2,2).data,t=!0,n=0;4>n;n++)if(e[n]!==e[n+4]|e[n]!==e[n+8]|e[n]!==e[n+12]){t=!1;break}return t?e[0]<<16|e[1]<<8|e[2]:0}function b(e,t,n){return e in t?t[e]:n[e]}function k(e,t,n){if(H&&oe){var i=e.getContext("2d");e.width=t*(ce=se/(ue=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),e.height=n*ce,se!==ue&&(e.style.width=t+"px",e.style.height=n+"px",i.scale(ce,ce))}else e.width=t,e.height=n}function _(e){if(!pe){var t=!1,n=!1;void 0===W.Chart.creditHref?(e.creditHref=de("iuuqr;..b`ow`rkr/bnl."),e.creditText=de("B`ow`rKR/bnl")):(t=e.updateOption("creditText"),n=e.updateOption("creditHref")),e.creditHref&&e.creditText&&(e._creditLink||(e._creditLink=document.createElement("a"),e._creditLink.setAttribute("class","canvasjs-chart-credit"),e._creditLink.setAttribute("title","JavaScript Charts"),e._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:2px;top:"+(e.height-14)+"px;color:dimgrey;text-decoration:none;font-size:11px;font-family: Calibri, Lucida Grande, Lucida Sans Unicode, Arial, sans-serif"),e._creditLink.setAttribute("tabIndex",-1),e._creditLink.setAttribute("target","_blank")),(0===e.renderCount||t||n)&&(e._creditLink.setAttribute("href",e.creditHref),e._creditLink.innerHTML=e.creditText),e._creditLink&&e.creditHref&&e.creditText?(e._creditLink.parentElement||e._canvasJSContainer.appendChild(e._creditLink),e._creditLink.style.top=e.height-14+"px"):e._creditLink.parentElement&&e._canvasJSContainer.removeChild(e._creditLink))}}function w(e,t){z&&(this.canvasCount|=0,window.console.log(++this.canvasCount));var n=document.createElement("canvas");return n.setAttribute("class","canvasjs-chart-canvas"),k(n,e,t),H||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(n),n}function x(e,t,n){for(var i in n)t.style[i]=n[i]}function C(e,t,n){t.getAttribute("state")||(t.style.backgroundColor=e.toolbar.backgroundColor,t.style.color=e.toolbar.fontColor,t.style.border="none",x(0,t,{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"})),t.getAttribute("state")!==n&&(t.setAttribute("state",n),t.setAttribute("type","button"),x(0,t,{padding:"5px 12px",cursor:"pointer",float:"left",width:"40px",height:"25px",outline:"0px",verticalAlign:"baseline",lineHeight:"0"}),t.setAttribute("title",e._cultureInfo[n+"Text"]),t.innerHTML="<img style='height:95%; pointer-events: none;' src='"+ve[n].image+"' alt='"+e._cultureInfo[n+"Text"]+"' />")}function S(){for(var e=null,t=0;t<arguments.length;t++)(e=arguments[t]).style&&(e.style.display="inline")}function T(){for(var e=null,t=0;t<arguments.length;t++)(e=arguments[t])&&e.style&&(e.style.display="none")}function P(e,t,n,i,l){this._defaultsKey=e,this._themeOptionsKey=t,this._index=i,this.parent=l,this._eventListeners=[],e={},this.theme&&d(t)&&d(i)?e=d(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[t]&&(null===i?e=this.parent.themeOptions[t]:0<this.parent.themeOptions[t].length&&(i=Math.min(this.parent.themeOptions[t].length-1,i),e=this.parent.themeOptions[t][i])),this.themeOptions=e,this.options=n||{_isPlaceholder:!0},this.setOptions(this.options,e)}function M(e,t,n,i,l){void 0===l&&(l=0),this._padding=l,this._x1=e,this._y1=t,this._x2=n,this._y2=i,this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding}function A(e,t){A.base.constructor.call(this,"TextBlock",null,t,null,null),this.ctx=e,this._isDirty=!0,this._wrappedText=null,this._initialize()}function I(e,t){I.base.constructor.call(this,"Toolbar","toolbar",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="toolbar"}function E(e,t){if(E.base.constructor.call(this,"Title","title",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="title",d(this.options.margin)&&e.options.subtitles)for(var n=e.options.subtitles,i=0;i<n.length;i++)if((d(n[i].horizontalAlign)&&"center"===this.horizontalAlign||n[i].horizontalAlign===this.horizontalAlign)&&(d(n[i].verticalAlign)&&"top"===this.verticalAlign||n[i].verticalAlign===this.verticalAlign)&&!n[i].dockInsidePlotArea==!this.dockInsidePlotArea){this.margin=0;break}void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function D(e,t,n){D.base.constructor.call(this,"Subtitle","subtitles",t,n,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.optionsName="subtitles",this.isOptionsInArray=!0,void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.height=this.width=null,this.bounds={x1:null,y1:null,x2:null,y2:null}}function O(){this.pool=[]}function F(e){var t;e&&U[e]&&(t=U[e]),F.base.constructor.call(this,"CultureInfo",null,t,null,null)}var R,N,L,B,V,z=!1,j={},H=!!document.createElement("canvas").getContext,W={Chart:{width:500,height:400,zoomEnabled:!1,zoomType:"x",backgroundColor:"white",theme:"light1",animationEnabled:!1,animationDuration:1200,dataPointWidth:null,dataPointMinWidth:null,dataPointMaxWidth:null,colorSet:"colorSet1",culture:"en",creditHref:"",creditText:"CanvasJS",interactivityEnabled:!0,exportEnabled:!1,exportFileName:"Chart",rangeChanging:null,rangeChanged:null,publicProperties:{title:"readWrite",subtitles:"readWrite",toolbar:"readWrite",toolTip:"readWrite",legend:"readWrite",axisX:"readWrite",axisY:"readWrite",axisX2:"readWrite",axisY2:"readWrite",data:"readWrite",options:"readWrite",bounds:"readOnly",container:"readOnly"}},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:H?"transparent":null,margin:5,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Subtitle:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:14,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:2,wrap:!0,maxWidth:null,dockInsidePlotArea:!1,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},Toolbar:{backgroundColor:"white",backgroundColorOnHover:"#2196f3",borderColor:"#2196f3",borderThickness:1,fontColor:"black",fontColorOnHover:"white",publicProperties:{options:"readWrite",chart:"readOnly"}},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null,dockInsidePlotArea:!1,reversed:!1,backgroundColor:H?"transparent":null,borderColor:H?"transparent":null,borderThickness:0,cornerRadius:0,maxWidth:null,maxHeight:null,markerMargin:null,itemMaxWidth:null,itemWidth:null,itemWrap:!0,itemTextFormatter:null,publicProperties:{options:"readWrite",bounds:"readOnly",chart:"readOnly"}},ToolTip:{enabled:!0,shared:!1,animationEnabled:!0,content:null,contentFormatter:null,reversed:!1,backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",borderColor:null,borderThickness:2,cornerRadius:5,fontSize:14,fontColor:"black",fontFamily:"Calibri, Arial, Georgia, serif;",fontWeight:"normal",fontStyle:"italic",publicProperties:{options:"readWrite",chart:"readOnly"}},Axis:{minimum:null,maximum:null,viewportMinimum:null,viewportMaximum:null,interval:null,intervalType:null,reversed:!1,logarithmic:!1,logarithmBase:10,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",titleWrap:!0,titleMaxWidth:null,titleBackgroundColor:H?"transparent":null,titleBorderColor:H?"transparent":null,titleBorderThickness:0,titleCornerRadius:0,labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:!0,labelWrap:!0,labelMaxWidth:null,labelFormatter:null,labelBackgroundColor:H?"transparent":null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelPlacement:"outside",prefix:"",suffix:"",includeZero:!0,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,lineDashType:"solid",gridColor:"A0A0A0",gridThickness:0,gridDashType:"solid",interlacedColor:H?"transparent":null,valueFormatString:null,margin:2,publicProperties:{options:"readWrite",stripLines:"readWrite",scaleBreaks:"readWrite",crosshair:"readWrite",bounds:"readOnly",chart:"readOnly"}},StripLine:{value:null,startValue:null,endValue:null,color:"orange",opacity:null,thickness:2,lineDashType:"solid",label:"",labelPlacement:"inside",labelAlign:"far",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:null,labelBorderColor:H?"transparent":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,showOnTop:!1,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},ScaleBreaks:{autoCalculate:!1,collapsibleThreshold:"25%",maxNumberOfAutoBreaks:2,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",customBreaks:"readWrite",axis:"readOnly",autoBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Break:{startValue:null,endValue:null,spacing:8,type:"straight",color:"#FFFFFF",fillOpacity:.9,lineThickness:2,lineColor:"#E16E6E",lineDashType:"solid",publicProperties:{options:"readWrite",scaleBreaks:"readOnly",bounds:"readOnly",chart:"readOnly"}},Crosshair:{enabled:!1,snapToDataPoint:!1,color:"grey",opacity:null,thickness:2,lineDashType:"solid",label:"",labelWrap:!0,labelMaxWidth:null,labelBackgroundColor:H?"grey":null,labelBorderColor:H?"grey":null,labelBorderThickness:0,labelCornerRadius:0,labelFontFamily:H?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:12,labelFontColor:"#fff",labelFontWeight:"normal",labelFontStyle:"normal",labelFormatter:null,valueFormatString:null,publicProperties:{options:"readWrite",axis:"readOnly",bounds:"readOnly",chart:"readOnly"}},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:!1,highlightEnabled:!0,cursor:"default",indexLabel:"",indexLabelPlacement:"auto",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:"gray",indexLabelLineThickness:1,indexLabelLineDashType:"solid",indexLabelMaxWidth:null,indexLabelWrap:!0,indexLabelFormatter:null,lineThickness:2,lineDashType:"solid",connectNullData:!1,nullDataLineDashType:"dash",color:null,lineColor:null,risingColor:"white",fallingColor:"red",fillOpacity:null,startAngle:0,radius:null,innerRadius:null,neckHeight:null,neckWidth:null,reversed:!1,valueRepresents:null,linkedDataSeriesIndex:null,whiskerThickness:2,whiskerDashType:"solid",whiskerColor:null,whiskerLength:null,stemThickness:2,stemColor:null,stemDashType:"solid",upperBoxColor:"white",lowerBoxColor:"white",type:"column",xValueType:"number",axisXType:"primary",axisYType:"primary",axisXIndex:0,axisYIndex:0,xValueFormatString:null,yValueFormatString:null,zValueFormatString:null,percentFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,legendMarkerBorderColor:H?"transparent":null,legendMarkerBorderThickness:0,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:H?"transparent":null,markerBorderThickness:0,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:!0,publicProperties:{options:"readWrite",axisX:"readWrite",axisY:"readWrite",chart:"readOnly"}},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",menuText:"More Options",saveJPGText:"Save as JPEG",savePNGText:"Save as PNG",printText:"Print",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}},U={en:{}},Y=H?"Trebuchet MS, Helvetica, sans-serif":"Arial",q=H?"Impact, Charcoal, sans-serif":"Arial",G={colorSet1:"#4F81BC #C0504E #9BBB58 #23BFAA #8064A1 #4AACC5 #F79647 #7F6084 #77A033 #33558B #E59566".split(" "),colorSet2:"#6D78AD #51CDA0 #DF7970 #4C9CA0 #AE7D99 #C9D45C #5592AD #DF874D #52BCA8 #8E7AA3 #E3CB64 #C77B85 #C39762 #8DD17E #B57952 #FCC26C".split(" "),colorSet3:"#8CA1BC #36845C #017E82 #8CB9D0 #708C98 #94838D #F08891 #0366A7 #008276 #EE7757 #E5BA3A #F2990B #03557B #782970".split(" ")},X={colorSet:"colorSet1",backgroundColor:"#FFFFFF",title:{fontFamily:q,fontSize:32,fontColor:N="#333333",fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:q,fontSize:Z=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:Y,indexLabelFontSize:Z,indexLabelFontColor:N,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L="#000000",labelFontWeight:"normal",lineThickness:1,lineColor:R="#666666",tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V=B="#000000",color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:N,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:Y,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};L=N="#F5F5F5",R="#FFFFFF",B="#40BAF1",V="#F5F5F5";var K={colorSet:"colorSet2",title:{fontFamily:Y,fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:Z=14,fontColor:"#3A3A3A",fontWeight:"normal",verticalAlign:"top",margin:5}],data:[{indexLabelFontFamily:Y,indexLabelFontSize:Z,indexLabelFontColor:"#666666",indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickThickness:1,tickColor:"#BBBBBB",gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:1,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:"#666666",titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#666666",labelFontWeight:"normal",lineThickness:0,lineColor:"#BBBBBB",tickColor:"#BBBBBB",tickThickness:1,gridThickness:1,gridColor:"#BBBBBB",stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FFA500",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FFA500",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#EEEEEE",labelFontWeight:"normal",labelBackgroundColor:"black",color:"black",thickness:1,lineDashType:"dot"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#BBBBBB",lineThickness:1,lineDashType:"solid"}}],legend:{fontFamily:Y,fontSize:14,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1}};L=N="#F5F5F5",q={colorSet:"colorSet12",backgroundColor:"#2A2A2A",title:{fontFamily:q,fontSize:32,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:q,fontSize:Z=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:Y,indexLabelFontSize:Z,indexLabelFontColor:L,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R="#FFFFFF",tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:B="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:Y,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:L,backgroundColor:"rgba(0, 0, 0, .7)"}},L=N="#FAFAFA";var $,Z,Q={light1:X,light2:K,dark1:q,dark2:{colorSet:"colorSet2",backgroundColor:"#32373A",title:{fontFamily:Y,fontSize:32,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5},subtitles:[{fontFamily:Y,fontSize:Z=14,fontColor:N,fontWeight:"normal",verticalAlign:"top",margin:5}],toolbar:{backgroundColor:"#666666",backgroundColorOnHover:"#FF7372",borderColor:"#FF7372",borderThickness:1,fontColor:"#F5F5F5",fontColorOnHover:"#F5F5F5"},data:[{indexLabelFontFamily:Y,indexLabelFontSize:Z,indexLabelFontColor:L,indexLabelFontWeight:"normal",indexLabelLineThickness:1}],axisX:[{titleFontFamily:Y,titleFontSize:$=20,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R="#FFFFFF",tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V="#F5F5F5",color:B="#40BAF1",thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisX2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:1,lineColor:R,tickThickness:1,tickColor:R,gridThickness:0,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:0,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],axisY2:[{titleFontFamily:Y,titleFontSize:$,titleFontColor:L,titleFontWeight:"normal",labelFontFamily:Y,labelFontSize:Z,labelFontColor:L,labelFontWeight:"normal",lineThickness:0,lineColor:R,tickThickness:1,tickColor:R,gridThickness:1,gridColor:R,stripLines:[{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#FF7300",labelFontWeight:"normal",labelBackgroundColor:null,color:"#FF7300",thickness:1}],crosshair:{labelFontFamily:Y,labelFontSize:Z,labelFontColor:"#000000",labelFontWeight:"normal",labelBackgroundColor:V,color:B,thickness:1,lineDashType:"dash"},scaleBreaks:{type:"zigzag",spacing:"2%",lineColor:"#777777",lineThickness:1,lineDashType:"solid",color:"#111111"}}],legend:{fontFamily:Y,fontSize:14,fontColor:N,fontWeight:"bold",verticalAlign:"bottom",horizontalAlign:"center"},toolTip:{fontFamily:Y,fontSize:14,fontStyle:"normal",cornerRadius:0,borderThickness:1,fontColor:L,backgroundColor:"rgba(0, 0, 0, .7)"}},theme1:X,theme2:K,theme3:X},J={numberDuration:1,yearDuration:314496e5,monthDuration:2592e6,weekDuration:6048e5,dayDuration:864e5,hourDuration:36e5,minuteDuration:6e4,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ")};j.fSDec=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(Math.ceil(e.length/57/5)^e.charCodeAt(n));return t},j.obj={trVs:"Ush`m!Wdsrhno",fntStr:"qy!B`mhcsh-!Mtbhe`!Fs`oed-!Mtbhe`!R`or!Tohbned-!@sh`m-!r`or,rdshg",txtBl:"udyuC`rdmhod",fnt:"gnou",fSy:"ghmmRuxmd",fTx:"ghmmUdyu",grClr:"fsdx",cntx:"buy",tp:"unq"},delete W[j.fSDec("Bi`su")][j.fSDec("bsdehuIsdg")],j.pro={sCH:W[j.fSDec("Bi`su")][j.fSDec("bsdehuIsdg")]},j._fTWm=function(e){if(void 0===j.pro.sCH&&!fe)try{var t=e[j.fSDec(j.obj.cntx)];t[j.fSDec(j.obj.txtBl)]=j.fSDec(j.obj.tp),t[j.fSDec(j.obj.fnt)]=11+j.fSDec(j.obj.fntStr),t[j.fSDec(j.obj.fSy)]=j.fSDec(j.obj.grClr),t[j.fSDec(j.obj.fTx)](j.fSDec(j.obj.trVs),2,e.height-11-2)}catch(H){}};var ee={},te=null,ne=function(){this.ctx.clearRect(0,0,this.width,this.height),this.backgroundColor&&(this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.width,this.height))},ie=function(e,t,n){return t=Math.min(this.width,this.height),Math.max("theme4"===this.theme?0:300<=t?12:10,Math.round(t*(e/400)))},le=function(){var e=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g,t="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),i="January February March April May June July August September October November December".split(" "),l="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,o=/[^-+\dA-Z]/g;return function(s,u,c){var h=c?c.days:t,d=c?c.months:i,f=c?c.shortDays:n,p=c?c.shortMonths:l;c="";var v=!1;if(s=s&&s.getTime?s:s?new Date(s):new Date,isNaN(s))throw SyntaxError("invalid date");"UTC:"===u.slice(0,4)&&(u=u.slice(4),v=!0);var g=s[(c=v?"getUTC":"get")+"Date"](),m=s[c+"Day"](),y=s[c+"Month"](),b=s[c+"FullYear"](),k=s[c+"Hours"](),_=s[c+"Minutes"](),w=s[c+"Seconds"](),x=s[c+"Milliseconds"](),C=v?0:s.getTimezoneOffset();return u.replace(e,(function(e){switch(e){case"D":return g;case"DD":return r(g,2);case"DDD":return f[m];case"DDDD":return h[m];case"M":return y+1;case"MM":return r(y+1,2);case"MMM":return p[y];case"MMMM":return d[y];case"Y":return parseInt(String(b).slice(-2));case"YY":return r(String(b).slice(-2),2);case"YYY":return r(String(b).slice(-3),3);case"YYYY":return r(b,4);case"h":return k%12||12;case"hh":return r(k%12||12,2);case"H":return k;case"HH":return r(k,2);case"m":return _;case"mm":return r(_,2);case"s":return w;case"ss":return r(w,2);case"f":return String(x).slice(0,1);case"ff":return r(String(x).slice(0,2),2);case"fff":return r(String(x).slice(0,3),3);case"t":return 12>k?"a":"p";case"tt":return 12>k?"am":"pm";case"T":return 12>k?"A":"P";case"TT":return 12>k?"AM":"PM";case"K":return v?"UTC":(String(s).match(a)||[""]).pop().replace(o,"");case"z":return(0<C?"-":"+")+Math.floor(Math.abs(C)/60);case"zz":return(0<C?"-":"+")+r(Math.floor(Math.abs(C)/60),2);case"zzz":return(0<C?"-":"+")+r(Math.floor(Math.abs(C)/60),2)+r(Math.abs(C)%60,2);default:return e.slice(1,e.length-1)}}))}}(),re=function(e,t,n){if(null===e)return"";if(!isFinite(e))return e;var i=0>(e=Number(e));i&&(e*=-1);var l=n?n.decimalSeparator:".",a=n?n.digitGroupSeparator:",",o="";t=String(t),o=1;var s=n="",u=-1,c=[],h=[],d=0,f=0,p=0,v=!1,g=0;s=t.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|\u2030|./g),t=null;for(var m=0;s&&m<s.length;m++)if("."===(t=s[m])&&0>u)u=m;else{if("%"===t)o*=100;else{if("\u2030"===t){o*=1e3;continue}if(","===t[0]&&"."===t[t.length-1]){o/=Math.pow(1e3,t.length-1),u=m+t.length-1;continue}"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||(v=!0)}0>u?(c.push(t),"#"===t||"0"===t?d++:","===t&&p++):(h.push(t),"#"!==t&&"0"!==t||f++)}for(v&&(t=Math.floor(e),s=-Math.floor(Math.log(e)/Math.LN10+1),g=0===e?0:0===t?-(d+s):String(t).length-d,o/=Math.pow(10,g)),0>u&&(u=m),t=(o=(e*o).toFixed(f)).split("."),o=(t[0]+"").split(""),e=(t[1]+"").split(""),o&&"0"===o[0]&&o.shift(),v=s=m=f=u=0;0<c.length;)if("#"===(t=c.pop())||"0"===t)if(++u===d){var y=o;if(o=[],"0"===t)for(t=d-f-(y?y.length:0);0<t;)y.unshift("0"),t--;for(;0<y.length;)n=y.pop()+n,0==++v%s&&m===p&&0<y.length&&(n=a+n)}else 0<o.length?(n=o.pop()+n,f++,v++):"0"===t&&(n="0"+n,f++,v++),0==v%s&&m===p&&0<o.length&&(n=a+n);else"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||!/[eE][+-]*[0]+/.test(t)?","===t?(m++,s=v,v=0,0<o.length&&(n=a+n)):n=1<t.length&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?t.slice(1,t.length-1)+n:t+n:n+=(t=0>g?t.replace("+","").replace("-",""):t.replace("-","")).replace(/[0]+/,(function(e){return r(g,e.length)}));for(a="",c=!1;0<h.length;)"#"===(t=h.shift())||"0"===t?0<e.length&&0!==Number(e.join(""))?(a+=e.shift(),c=!0):"0"===t&&(a+="0",c=!0):1<t.length&&('"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1])?a+=t.slice(1,t.length-1):"E"!==t[0]&&"e"!==t[0]||"0"!==t[t.length-1]||!/[eE][+-]*[0]+/.test(t)?a+=t:a+=(t=0>g?t.replace("+","").replace("-",""):t.replace("-","")).replace(/[0]+/,(function(e){return r(g,e.length)}));return n+=(c?l:"")+a,i?"-"+n:n},ae=function(e){var t=0,n=0;return(e=e||window.event).offsetX||0===e.offsetX?(t=e.offsetX,n=e.offsetY):e.layerX||0==e.layerX?(t=e.layerX,n=e.layerY):(t=e.pageX-e.target.offsetLeft,n=e.pageY-e.target.offsetTop),{x:t,y:n}},oe=!0,se=window.devicePixelRatio||1,ue=1,ce=oe?se/ue:1,he=function(e,t,n,i,l,r,a,o,s,u,c,h,d){void 0===d&&(d=1),a=a||0,o=o||"black";var f=15<i-t&&15<l-n?8:.35*Math.min(i-t,l-n);e.beginPath(),e.moveTo(t,n),e.save(),e.fillStyle=r,e.globalAlpha=d,e.fillRect(t,n,i-t,l-n),e.globalAlpha=1,0<a&&(d=0==a%2?0:.5,e.beginPath(),e.lineWidth=a,e.strokeStyle=o,e.moveTo(t,n),e.rect(t-d,n-d,i-t+2*d,l-n+2*d),e.stroke()),e.restore(),!0===s&&(e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+f,n+f),e.lineTo(i-f,n+f),e.lineTo(i,n),e.closePath(),(a=e.createLinearGradient((i+t)/2,n+f,(i+t)/2,n)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, .4)"),e.fillStyle=a,e.fill(),e.restore()),!0===u&&(e.save(),e.beginPath(),e.moveTo(t,l),e.lineTo(t+f,l-f),e.lineTo(i-f,l-f),e.lineTo(i,l),e.closePath(),(a=e.createLinearGradient((i+t)/2,l-f,(i+t)/2,l)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, .4)"),e.fillStyle=a,e.fill(),e.restore()),!0===c&&(e.save(),e.beginPath(),e.moveTo(t,n),e.lineTo(t+f,n+f),e.lineTo(t+f,l-f),e.lineTo(t,l),e.closePath(),(a=e.createLinearGradient(t+f,(l+n)/2,t,(l+n)/2)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=a,e.fill(),e.restore()),!0===h&&(e.save(),e.beginPath(),e.moveTo(i,n),e.lineTo(i-f,n+f),e.lineTo(i-f,l-f),e.lineTo(i,l),(a=e.createLinearGradient(i-f,(l+n)/2,i,(l+n)/2)).addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=a,a.addColorStop(0,r),a.addColorStop(1,"rgba(255, 255, 255, 0.1)"),e.fillStyle=a,e.fill(),e.closePath(),e.restore())},de=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(Math.ceil(e.length/57/5)^e.charCodeAt(n));return t},fe=window&&window[de("mnb`uhno")]&&window[de("mnb`uhno")].href&&window[de("mnb`uhno")].href.indexOf&&(-1!==window[de("mnb`uhno")].href.indexOf(de("b`ow`rkr/bnl"))||-1!==window[de("mnb`uhno")].href.indexOf(de("gdonqhy/bnl"))||-1!==window[de("mnb`uhno")].href.indexOf(de("gheemd"))),pe=fe&&-1===window[de("mnb`uhno")].href.indexOf(de("gheemd")),ve={reset:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAeCAYAAABJ/8wUAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAPjSURBVFhHxVdJaFNRFP1J/jwkP5MxsbaC1WJEglSxOFAXIsFpVRE3ggi1K90obioRRBA33XXnQnciirhQcMCdorgQxBkXWlREkFKsWkv5npvckp/XnzRpKh64kLw733fffe9L/wrL0+mVUdO8uTSZ3MBL/we2qg4rkuSpodCELstXE46ziVkLQ6FQcGOmeSSq6wd4aV50d3drWjj8kQKZJTUc9kxFGenv79dZrDksTSTWWJp2QYtEPiErysyzdX0LsxsCQR8keX8gs6RHIk8ysdgKFg2G53mhuOPsshTlBjKaFo1g7SqLNoShKLdFXT8huQ/paLSbxatYnc2mHMM4hr18Vi8TIvCmXF3vYrW6cF23gGTOk0M1wA4RKvOmq6vLZRVJipvmSWT6tZ6CSEYkco5V50VPT4+D7RwOqi6RiSZm0fJ+vggSqkeoypdsNmuyelNwbXsbgvkWYMtzDWNvWaijoyOBqE+hVK8abcssUeXQ/YfKyi0gFYv1Ipgfoj34fYGTJLOYJA0ODirok32GLN8XhUWCwSes1hIwBg6LydJ/tEeRRapAdUp+wSAiZchtZZWWgAZ+JNpD8peYXQVK9UwUxNpzOK8pq97kURZhYTCKBwPD7h2zK+js7Myi7D8Fod+0TkMI8+EMAngLGc/WtBFWawkFHFnoj/t9KLgGmF0B3QfkxC+EarxkdhnFYlFLY06USqUwL7UMjICHfh/wOc2sCqhpxGbCkLvL7EUDbF73+6DkmVWB6zi7xUDQSLeYvWjAILvm9zEnkJhlbRcDQZcv6Kg2AipyT/Axw6wKlqVSqxDdjF8Izfod13qURdrG/nxehY+xGh+h0CSzKygGvSNQIcc097BI24jb9hax6kj2E7OrMFX1il+ICEf2NrPbhiXLl+fYl+U7zK4iYdsDcyLGf+ofFlkwcN+s10KhmpuYhhtm0hCLVIFL0MDsqNlDIqy9x2CLs1jL6OvrI7vPRbtohXG6eFmsFnHDGAp6n9AgyuVySRZrGvROxRgIfLXhzjrNYnNBUxNX/dMgRWT1mt4XLDovaApD53E9W3ilNX5M55LJHpRtIsgAvciR4WWcgK2Dvb1YqgXevmF8z2zEBTcKG39EfSKsT9EbhVUaI2FZO+oZIqImxol6j66/hcAu4sSN4vc1ZPoKeoE6RGhYL2YYA+ymOSSi0Z0wWntbtkGUWCvfSDXIxONraZ/FY90KUfNTpfC5spnNLgxoYNnR9RO4F8ofXEHOgogCQE99w+fF2Xw+b7O59rEOsyRqGEfpVoaDMQQ1CZrG46bcM6AZ0C/wPqNfHliqejyTySxh9TqQpL+xmbIlkB9SlAAAAABJRU5ErkJggg=="},pan:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAICSURBVEhLxZbPahNRGMUn/5MpuAiBEAIufQGfzr5E40YptBXajYzudCEuGqS+gGlrFwquDGRTutBdYfydzJ3LzeQmJGZue+Dw/Z17Mnfmu5Pof9Hr9Z61Wq0bWZMKj263O6xWq99wU9lOpzPMKgEhEcRucNOcioOK+0RzBhNvt9tPV4nmVF19+OWhVqt9xXgFXZq+8lCv119UKpUJ7iX2FmvFTKz8RH34YdBsNk8wVtjE4fGYwm8wrrDi3WBG5oKXZGRSS9hGuNFojLTe2lFz5xThWZIktayyiE2FdT3rzXBXz7krKiL8c17wAKFDjCus2AvW+YGZ9y2JF0VFRuMPfI//rsCE/C+s26s4gQu9ul7r4NteKx7H8XOC724xNNGbaNu++IrBqbOV7Tj3FgMRvc/YKOr3+3sE47wgEt/Bl/gaK5cHbNU11vYSXylfpK7XOvjuumPp4Wcoipu30Qsez2uMXYz4lfI+mOmwothY+SLiXJy7mKVpWs3Si0CoOMfeI9Od43Wic+jO+ZVv+crsm9QSNhUW9LXSeoPBYLXopthGuFQgdIxxhY+UDwlt1x5CZ1hX+NTUdt/OIvjKaDSmuOJfaIVNPKX+W18j/PLA2/kR44p5Sd8HbHngT/yTfNRWUXX14ZcL3wmX0+TLf8YO7CGT8yFE5zB3/gney25/OETRP9CtPDFe5jShAAAAAElFTkSuQmCC"},zoom:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAALWSURBVEhLvZZLaBNRFIabyftBIgEfqCCBoCC6MYqiXYiIj4U76U4X7sUHbhQhUBfixhZEUBDB16YuFERaUaQLK7ooCOJj4UKtYEFU0EptShO/A9Ph3js3k8lo/eHnP7n3nP/M3LlzMz1hkUwmNziOcyKRSFyFt+LxeD/c2Wq1Ym7Kv0M2m11Os1OxWGycn1OwZXCGuXfwIhezkd9/jRgNT2L4ldhs1pbkX5OLJe4euVxuGQaPCa3mnUjtJx7BDuKusJTCV6jVVGHTMuYRjxma7yIOhTgFY6jNaAKew2xPKpVay9ganmkvj+M448/MfJdT5K5Gg4HJacRngPFgqVRaRNwW1B4i7yehWfsEDdz1K+A01AoxPIqGAiuwGfkOTY8+1A6u7AyiFTB2Hu0KPIrdiOnzHLWDybeImvy+Wq2mZa5bUHsD0Zpz+KxHdWQymV6kAb1ElqeORgJLvgnRdj1+R1AfzkIvSUjxVjQSarVakrueIPT8+H1F5jSUy+WXiJrUYBVWyVxU4PEU8TzhfaijUqnMIWrjaY492eWRwdKOIqrnIxnXwLLeRLwk2GQzrEMjg0avEbXxkIxr4OoOImpj2QwyFgms1koa/SZUG8s+0iGnEhNfCNXEhzIXBVz0McTzEvJ+70P9oNFtxEzei3aFYrFYxmuSUPWSv9Yi9IMm2xE1We56Mp1OV4nDwqFmBDV9gk9AEh4gZtFHNt8W4kAUCoXF5MorY9Z/kDni9nDv7hc0i2fhgLvTtX8a99PoMPPagTFPxofRzmDJ9yM+AyEmTfgGysYbQcfhDzPPJDmX0c7gDg4gs9BqFIWhm/Nct5H8gtBq1I7UfIbtvmIuoaGQcp+fdpbbSM43eEH5wrwLbXmhm/fU63VHXjcuok7hEByFY/AeHGC8L5/PL3HT5xGH1uYwfPOICGo+CBcU0vwO1BqzUqILDl/z/9VYIMfpddiAc47jDP8BsUpb13wOLRwAAAAASUVORK5CYII="},menu:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAJcEhZcwAADsMAAA7DAcdvqGQAAADoSURBVFhH7dc9CsJAFATgRxIIBCwCqZKATX5sbawsY2MvWOtF9AB6AU8gguAJbD2AnZ2VXQT/Ko2TYGCL2OYtYQc+BuYA+1hCtnCVwMm27SGaXpDJIAiCvCkVR05hGOZNN3HkFMdx3nQRR06+76/R1IcFLJlNQEWlmWlBTwJtKLKHynehZqnjOGM0PYWRVXk61C37p7xlZ3Hk5HneCk1dmMH811xGoKLSzDiQwIBZB4ocoPJdqNkDt2yKlueWRVGUtzy3rPwo3sWRU3nLjuLI6OO67oZM00wMw3hrmpZx0XU9syxrR0T0BeMpb9dneSR2AAAAAElFTkSuQmCC"},handle:{image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII="}};P.prototype.setOptions=function(e,t){if(W[this._defaultsKey]){var n,i=W[this._defaultsKey];for(n in i)"publicProperties"!==n&&i.hasOwnProperty(n)&&(this[n]=e&&n in e?e[n]:t&&n in t?t[n]:i[n])}else z&&window.console&&console.log("defaults not set")},P.prototype.get=function(e){var t=W[this._defaultsKey];return"options"===e?this.options&&this.options._isPlaceholder?null:this.options:t.hasOwnProperty(e)||t.publicProperties&&t.publicProperties.hasOwnProperty(e)?this[e]:void(window.console&&window.console.log('Property "'+e+"\" doesn't exist. Please check for typo."))},P.prototype.set=function(e,t,n){n=void 0===n||n;var i=W[this._defaultsKey];if("options"===e)this.createUserOptions(t);else{if(!(i.hasOwnProperty(e)||i.publicProperties&&i.publicProperties.hasOwnProperty(e)&&"readWrite"===i.publicProperties[e]))return void(window.console&&(i.publicProperties&&i.publicProperties.hasOwnProperty(e)&&"readOnly"===i.publicProperties[e]?window.console.log('Property "'+e+'" is read-only.'):window.console.log('Property "'+e+"\" doesn't exist. Please check for typo.")));this.options._isPlaceholder&&this.createUserOptions(),this.options[e]=t}n&&(this.stockChart||this.chart||this).render()},P.prototype.addTo=function(e,t,n,i){i=void 0===i||i;var l=W[this._defaultsKey];l.hasOwnProperty(e)||l.publicProperties&&l.publicProperties.hasOwnProperty(e)&&"readWrite"===l.publicProperties[e]?(this.options._isPlaceholder&&this.createUserOptions(),void 0===this.options[e]&&(this.options[e]=[]),(e=this.options[e]).splice(n=null==n?e.length:n,0,t),i&&(this.chart||this).render()):window.console&&(l.publicProperties&&l.publicProperties.hasOwnProperty(e)&&"readOnly"===l.publicProperties[e]?window.console.log('Property "'+e+'" is read-only.'):window.console.log('Property "'+e+"\" doesn't exist. Please check for typo."))},P.prototype.createUserOptions=function(e){if(void 0!==e||this.options._isPlaceholder)if(this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.isOptionsInArray){this.parent.options[this.optionsName]||(this.parent.options[this.optionsName]=[]);var t=this.parent.options[this.optionsName],n=t.length;this.options._isPlaceholder||(f(t),n=t.indexOf(this.options)),this.options=void 0===e?{}:e,t[n]=this.options}else this.options=void 0===e?{}:e,e=this.parent.options,this.optionsName?t=this.optionsName:(t=this._defaultsKey)&&0!==t.length?(n=t.charAt(0).toLowerCase(),1<t.length&&(n=n.concat(t.slice(1))),t=n):t=void 0,e[t]=this.options},P.prototype.remove=function(e){if(e=void 0===e||e,this.isOptionsInArray){var t=this.parent.options[this.optionsName];f(t);var n=t.indexOf(this.options);0<=n&&t.splice(n,1)}else delete this.parent.options[this.optionsName];e&&(this.chart||this).render()},P.prototype.updateOption=function(e){!W[this._defaultsKey]&&z&&window.console&&console.log("defaults not set");var t=W[this._defaultsKey],n={},i=this[e],l=this._themeOptionsKey,r=this._index;return this.theme&&d(l)&&d(r)?n=d(Q[this.theme])?Q.light1:Q[this.theme]:this.parent&&this.parent.themeOptions&&this.parent.themeOptions[l]&&(null===r?n=this.parent.themeOptions[l]:0<this.parent.themeOptions[l].length&&(n=Math.min(this.parent.themeOptions[l].length-1,r),n=this.parent.themeOptions[l][n])),this.themeOptions=n,e in t&&(i=e in this.options?this.options[e]:n&&e in n?n[e]:t[e]),i!==this[e]&&(this[e]=i,!0)},P.prototype.trackChanges=function(e){if(!this.sessionVariables)throw"Session Variable Store not set";this.sessionVariables[e]=this.options[e]},P.prototype.isBeingTracked=function(e){return this.options._oldOptions||(this.options._oldOptions={}),!!this.options._oldOptions[e]},P.prototype.hasOptionChanged=function(e){if(!this.sessionVariables)throw"Session Variable Store not set";return this.sessionVariables[e]!==this.options[e]},P.prototype.addEventListener=function(e,t,n){e&&t&&(this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push({context:n||this,eventHandler:t}))},P.prototype.removeEventListener=function(e,t){if(e&&t&&this._eventListeners[e])for(var n=this._eventListeners[e],i=0;i<n.length;i++)if(n[i].eventHandler===t){n[i].splice(i,1);break}},P.prototype.removeAllEventListeners=function(){this._eventListeners=[]},P.prototype.dispatchEvent=function(e,t,n){if(e&&this._eventListeners[e]){t=t||{};for(var i=this._eventListeners[e],l=0;l<i.length;l++)i[l].eventHandler.call(i[l].context,t)}"function"==typeof this[e]&&this[e].call(n||this.chart,t)},M.prototype.registerSpace=function(e,t){"top"===e?this._topOccupied+=t.height:"bottom"===e?this._bottomOccupied+=t.height:"left"===e?this._leftOccupied+=t.width:"right"===e&&(this._rightOccupied+=t.width)},M.prototype.unRegisterSpace=function(e,t){"top"===e?this._topOccupied-=t.height:"bottom"===e?this._bottomOccupied-=t.height:"left"===e?this._leftOccupied-=t.width:"right"===e&&(this._rightOccupied-=t.width)},M.prototype.getFreeSpace=function(){return{x1:this._x1+this._leftOccupied,y1:this._y1+this._topOccupied,x2:this._x2-this._rightOccupied,y2:this._y2-this._bottomOccupied,width:this._x2-this._x1-this._rightOccupied-this._leftOccupied,height:this._y2-this._y1-this._bottomOccupied-this._topOccupied}},M.prototype.reset=function(){this._rightOccupied=this._leftOccupied=this._bottomOccupied=this._topOccupied=this._padding},n(A,P),A.prototype._initialize=function(){d(this.padding)||"object"!=typeof this.padding?this.topPadding=this.rightPadding=this.bottomPadding=this.leftPadding=0|Number(this.padding):(this.topPadding=d(this.padding.top)?0:0|Number(this.padding.top),this.rightPadding=d(this.padding.right)?0:0|Number(this.padding.right),this.bottomPadding=d(this.padding.bottom)?0:0|Number(this.padding.bottom),this.leftPadding=d(this.padding.left)?0:0|Number(this.padding.left))},A.prototype.render=function(e){if(0!==this.fontSize){e&&this.ctx.save();var t=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var n=0;this._isDirty&&this.measureText(this.ctx),this.ctx.translate(this.x,this.y+n),"middle"===this.textBaseline&&(n=-this._lineHeight/2),this.ctx.font=this._getFontString(),this.ctx.rotate(Math.PI/180*this.angle);var i=0,l=this.topPadding,r=null;for(this.ctx.roundRect||o(this.ctx),(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(0,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor),this.ctx.fillStyle=this.fontColor,n=0;n<this._wrappedText.lines.length;n++)r=this._wrappedText.lines[n],"right"===this.horizontalAlign?i=(this.width-(this.leftPadding+this.rightPadding))/2-r.width/2+this.leftPadding:"left"===this.horizontalAlign?i=this.leftPadding:"center"===this.horizontalAlign&&(i=(this.width-(this.leftPadding+this.rightPadding))/2-r.width/2+this.leftPadding),this.ctx.fillText(r.text,i,l),l+=r.height;this.ctx.font=t,e&&this.ctx.restore()}},A.prototype.setText=function(e){this.text=e,this._isDirty=!0,this._wrappedText=null},A.prototype.measureText=function(){if(this._lineHeight=v(this.fontFamily,this.fontSize,this.fontWeight),null===this.maxWidth)throw"Please set maxWidth and height for TextBlock";return this._wrapText(this.ctx),this._isDirty=!1,{width:this.width,height:this.height}},A.prototype._getLineWithWidth=function(e,t,n){if(!(e=String(e)))return{text:"",width:0};var i=n=0,l=e.length-1,r=1/0;for(this.ctx.font=this._getFontString();i<=l;){r=Math.floor((i+l)/2);var a=e.substr(0,r+1);if((n=this.ctx.measureText(a).width)<t)i=r+1;else{if(!(n>t))break;l=r-1}}return n>t&&1<a.length&&(a=a.substr(0,a.length-1),n=this.ctx.measureText(a).width),t=!0,a.length!==e.length&&" "!==e[a.length]||(t=!1),t&&(1<(e=a.split(" ")).length&&e.pop(),a=e.join(" "),n=this.ctx.measureText(a).width),{text:a,width:n}},A.prototype._wrapText=function(){var e=new String(a(String(this.text))),t=[],n=this.ctx.font,i=0,l=0;if(this.ctx.font=this._getFontString(),0===this.frontSize)l=i=0;else for(;0<e.length;){var r=this.maxHeight-(this.topPadding+this.bottomPadding),o=this._getLineWithWidth(e,this.maxWidth-(this.leftPadding+this.rightPadding),!1);o.height=this._lineHeight,t.push(o);var s=l;l=Math.max(l,o.width),i+=o.height,e=a(e.slice(o.text.length,e.length)),r&&i>r&&(i-=(o=t.pop()).height,l=s)}this._wrappedText={lines:t,width:l,height:i},this.width=l+(this.leftPadding+this.rightPadding),this.height=i+(this.topPadding+this.bottomPadding),this.ctx.font=n},A.prototype._getFontString=function(){var e;e=this.fontStyle?this.fontStyle+" ":"",e+=this.fontWeight?this.fontWeight+" ":"",e+=this.fontSize?this.fontSize+"px ":"";var t=this.fontFamily?this.fontFamily+"":"";return!H&&t&&"'"!==(t=t.split(",")[0])[0]&&'"'!==t[0]&&(t="'"+t+"'"),e+t},n(I,P),n(E,P),E.prototype.setLayout=function(){if(this.text){var e,t,n,i=this.dockInsidePlotArea?this.chart.plotArea:this.chart,l=i.layoutManager.getFreeSpace(),r=l.x1,a=l.y1,o=0,s=0,u=this.chart._menuButton&&this.chart.exportEnabled&&"top"===this.verticalAlign?22:0;"top"===this.verticalAlign||"bottom"===this.verticalAlign?(null===this.maxWidth&&(this.maxWidth=l.width-4-u*("center"===this.horizontalAlign?2:1)),s=.5*l.height-this.margin-2,o=0):"center"===this.verticalAlign&&("left"===this.horizontalAlign||"right"===this.horizontalAlign?(null===this.maxWidth&&(this.maxWidth=l.height-4),s=.5*l.width-this.margin-2):"center"===this.horizontalAlign&&(null===this.maxWidth&&(this.maxWidth=l.width-4),s=.5*l.height-4)),d(this.padding)||"number"!=typeof this.padding?d(this.padding)||"object"!=typeof this.padding||(n=this.padding.top?this.padding.top:this.padding.bottom?this.padding.bottom:0,n+=this.padding.bottom?this.padding.bottom:this.padding.top?this.padding.top:0,n*=1.25):n=2.5*this.padding,this.wrap||(s=Math.min(s,Math.max(1.5*this.fontSize,this.fontSize+n))),n=(s=new A(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:this.maxWidth,maxHeight:s,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"})).measureText(),"top"===this.verticalAlign||"bottom"===this.verticalAlign?("top"===this.verticalAlign?(a=l.y1+2,t="top"):"bottom"===this.verticalAlign&&(a=l.y2-2-n.height,t="bottom"),"left"===this.horizontalAlign?r=l.x1+2:"center"===this.horizontalAlign?r=l.x1+l.width/2-n.width/2:"right"===this.horizontalAlign&&(r=l.x2-2-n.width-u),e=this.horizontalAlign,this.width=n.width,this.height=n.height):"center"===this.verticalAlign&&("left"===this.horizontalAlign?(r=l.x1+2,a=l.y2-2-(this.maxWidth/2-n.width/2),o=-90,t="left",this.width=n.height,this.height=n.width):"right"===this.horizontalAlign?(r=l.x2-2,a=l.y1+2+(this.maxWidth/2-n.width/2),o=90,t="right",this.width=n.height,this.height=n.width):"center"===this.horizontalAlign&&(a=i.y1+(i.height/2-n.height/2),r=i.x1+(i.width/2-n.width/2),t="center",this.width=n.width,this.height=n.height),e="center"),s.x=r,s.y=a,s.angle=o,s.horizontalAlign=e,this._textBlock=s,i.layoutManager.registerSpace(t,{width:this.width+("left"===t||"right"===t?this.margin+2:0),height:this.height+("top"===t||"bottom"===t?this.margin+2:0)}),this.bounds={x1:r,y1:a,x2:r+this.width,y2:a+this.height},this.ctx.textBaseline="top"}},E.prototype.render=function(){this._textBlock&&this._textBlock.render(!0)},n(D,P),D.prototype.setLayout=E.prototype.setLayout,D.prototype.render=E.prototype.render,O.prototype.get=function(e,t){var n=null;return 0<this.pool.length?k(n=this.pool.pop(),e,t):n=w(e,t),n},O.prototype.release=function(e){this.pool.push(e)},n(F,P);var ge={addTheme:function(e,t){Q[e]=t},addColorSet:function(e,t){G[e]=t},addCultureInfo:function(e,t){U[e]=t},formatNumber:function(e,t,n){if(U[n=n||"en"])return re(e,t||"#,##0.##",new F(n));throw"Unknown Culture Name"},formatDate:function(e,t,n){if(U[n=n||"en"])return le(e,t||"DD MMM YYYY",new F(n));throw"Unknown Culture Name"}};void 0!==e.exports?e.exports=ge:void 0===(i=(function(){return ge}).apply(t,[]))||(e.exports=i),ge.Chart=function(){function e(e,t){return e.x-t.x}function t(e,n){this.theme=d((n=n||{}).theme)||d(Q[n.theme])?"light1":n.theme,t.base.constructor.call(this,"Chart",null,n,null,null);var i=this;if(this._containerId=e,this._objectsInitialized=!1,this.overlaidCanvasCtx=this.ctx=null,this._indexLabels=[],this._panTimerId=0,this._lastTouchEventType="",this._lastTouchData=null,this.isAnimating=!1,this.renderCount=0,this.disableToolTip=this.animatedRender=!1,this.canvasPool=new O,this.allDOMEventHandlers=[],this.panEnabled=!1,this._defaultCursor="default",this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0},this._dataInRenderedOrder=[],this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId){this.container.innerHTML="";var l,r=this.options.height?this.height:0<this.container.clientHeight?this.container.clientHeight:this.height;this.width=l=this.options.width?this.width:0<this.container.clientWidth?this.container.clientWidth:this.width,this.height=r,this.x1=this.y1=0,this.x2=this.width,this.y2=this.height,this._selectedColorSet=void 0!==G[this.colorSet]?G[this.colorSet]:G.colorSet1,this._canvasJSContainer=document.createElement("div"),this._canvasJSContainer.setAttribute("class","canvasjs-chart-container"),this._canvasJSContainer.style.position="relative",this._canvasJSContainer.style.textAlign="left",this._canvasJSContainer.style.cursor="auto",H||(this._canvasJSContainer.style.height="0px"),this.container.appendChild(this._canvasJSContainer),this.canvas=w(l,r),this._preRenderCanvas=w(l,r),this.canvas.style.position="absolute",this.canvas.style.WebkitUserSelect="none",this.canvas.style.MozUserSelect="none",this.canvas.style.msUserSelect="none",this.canvas.style.userSelect="none",this.canvas.getContext&&(this._canvasJSContainer.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.textBaseline="top",o(this.ctx),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),this._preRenderCtx.textBaseline="top",o(this._preRenderCtx),H?this.plotArea.ctx=this.ctx:(this.plotArea.canvas=w(l,r),this.plotArea.canvas.style.position="absolute",this.plotArea.canvas.setAttribute("class","plotAreaCanvas"),this._canvasJSContainer.appendChild(this.plotArea.canvas),this.plotArea.ctx=this.plotArea.canvas.getContext("2d")),this.overlaidCanvas=w(l,r),this.overlaidCanvas.style.position="absolute",this.overlaidCanvas.style.webkitTapHighlightColor="transparent",this.overlaidCanvas.style.WebkitUserSelect="none",this.overlaidCanvas.style.MozUserSelect="none",this.overlaidCanvas.style.msUserSelect="none",this.overlaidCanvas.style.userSelect="none",this.overlaidCanvas.getContext&&(this._canvasJSContainer.appendChild(this.overlaidCanvas),this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d"),this.overlaidCanvasCtx.textBaseline="top",o(this.overlaidCanvasCtx)),this._eventManager=new q(this),this.windowResizeHandler=m(window,"resize",(function(){i._updateSize()&&i.render()}),this.allDOMEventHandlers),this._toolBar=document.createElement("div"),this._toolBar.setAttribute("class","canvasjs-chart-toolbar"),this._toolBar.style.cssText="position: absolute; right: 1px; top: 1px;",this._canvasJSContainer.appendChild(this._toolBar),this.bounds={x1:0,y1:0,x2:this.width,y2:this.height},m(this.overlaidCanvas,"click",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,"mousemove",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,"mouseup",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,"mousedown",(function(e){i._mouseEventHandler(e),T(i._dropdownMenu)}),this.allDOMEventHandlers),m(this.overlaidCanvas,"mouseout",(function(e){i._mouseEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),m(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",(function(e){i._touchEventHandler(e)}),this.allDOMEventHandlers),this.toolTip=new Y(this,this.options.toolTip),this.data=null,this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this.sessionVariables={axisX:[],axisX2:[],axisY:[],axisY2:[]})}else window.console&&window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found')}function i(e,t){for(var n,i=[],l=0;l<e.length;l++)if(0==l)i.push(e[0]);else{var r,a,o;r=0==(o=l-1)?0:o-1,a=o===e.length-1?o:o+1,n=Math.abs((e[a].x-e[r].x)/(0==e[a].x-e[o].x?.01:e[a].x-e[o].x))*(t-1)/2+1;var s=(e[a].x-e[r].x)/n;n=(e[a].y-e[r].y)/n,i[i.length]=e[o].x>e[r].x&&0<s||e[o].x<e[r].x&&0>s?{x:e[o].x+s/3,y:e[o].y+n/3}:{x:e[o].x,y:e[o].y+n/9},r=0===(o=l)?0:o-1,a=o===e.length-1?o:o+1,n=Math.abs((e[a].x-e[r].x)/(0==e[o].x-e[r].x?.01:e[o].x-e[r].x))*(t-1)/2+1,s=(e[a].x-e[r].x)/n,n=(e[a].y-e[r].y)/n,i[i.length]=e[o].x>e[r].x&&0<s||e[o].x<e[r].x&&0>s?{x:e[o].x-s/3,y:e[o].y-n/3}:{x:e[o].x,y:e[o].y-n/9},i[i.length]=e[l]}return i}function r(e,t,n,i,l,r,a,o,s,u){var c=0;u?(a.color=r,o.color=r):u=1,c=s?Math.abs(l-n):Math.abs(i-t),c=0<a.trimLength?Math.abs(c*a.trimLength/100):Math.abs(c-a.length),s?(n+=c/2,l-=c/2):(t+=c/2,i-=c/2),c=1==Math.round(a.thickness)%2?.5:0;var h=1==Math.round(o.thickness)%2?.5:0;e.save(),e.globalAlpha=u,e.strokeStyle=o.color||r,e.lineWidth=o.thickness||2,e.setLineDash&&e.setLineDash(g(o.dashType,o.thickness)),e.beginPath(),s&&0<o.thickness?(e.moveTo(i-a.thickness/2,Math.round((n+l)/2)-h),e.lineTo(t+a.thickness/2,Math.round((n+l)/2)-h)):0<o.thickness&&(e.moveTo(Math.round((t+i)/2)-h,n+a.thickness/2),e.lineTo(Math.round((t+i)/2)-h,l-a.thickness/2)),e.stroke(),e.strokeStyle=a.color||r,e.lineWidth=a.thickness||2,e.setLineDash&&e.setLineDash(g(a.dashType,a.thickness)),e.beginPath(),s&&0<a.thickness?(e.moveTo(i-c,n),e.lineTo(i-c,l),e.moveTo(t+c,n),e.lineTo(t+c,l)):0<a.thickness&&(e.moveTo(t,n+c),e.lineTo(i,n+c),e.moveTo(t,l-c),e.lineTo(i,l-c)),e.stroke(),e.restore()}function h(e,t,n,i,l){return null==e?void 0===n?t:n:(e=parseFloat(e.toString())*(0<=e.toString().indexOf("%")?t/100:1),void 0!==i&&(e=Math.min(i,e),void 0!==l&&(e=Math.max(l,e))),!isNaN(e)&&e<=t&&0<=e?e:void 0===n?t:n)}function R(e,t){R.base.constructor.call(this,"Legend","legend",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.ghostCtx=this.chart._eventManager.ghostCtx,this.items=[],this.optionsName="legend",this.height=this.width=0,this.orientation=null,this.dataSeries=[],this.bounds={x1:null,y1:null,x2:null,y2:null},void 0===this.options.fontSize&&(this.fontSize=this.chart.getAutoFontSize(this.fontSize)),this.lineHeight=v(this.fontFamily,this.fontSize,this.fontWeight),this.horizontalSpacing=this.fontSize}function N(e,t,n,i){for(N.base.constructor.call(this,"DataSeries","data",t,n,e),this.chart=e,this.canvas=e.canvas,this._ctx=e.canvas.ctx,this.index=n,this.noDataPointsInPlotArea=0,this.id=i,this.chart._eventManager.objectMap[i]={id:i,objectType:"dataSeries",dataSeriesIndex:n},e=t.dataPoints?t.dataPoints.length:0,this.dataPointEOs=[],t=0;t<e;t++)this.dataPointEOs[t]={};this.dataPointIds=[],this.plotUnit=[],this.axisY=this.axisX=null,this.optionsName="data",this.isOptionsInArray=!0,null===this.fillOpacity&&(this.fillOpacity=this.type.match(/area/i)?.7:1),this.axisPlacement=this.getDefaultAxisPlacement(),void 0===this.options.indexLabelFontSize&&(this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize))}function L(e,t,n,i,l,r){if(L.base.constructor.call(this,"Axis",t,n,i,e),this.chart=e,this.canvas=e.canvas,this.ctx=e.ctx,this.intervalStartPosition=this.maxHeight=this.maxWidth=0,this.labels=[],this.dataSeries=[],this._stripLineLabels=this._ticks=this._labels=null,this.dataInfo={min:1/0,max:-1/0,viewPortMin:1/0,viewPortMax:-1/0,minDiff:1/0},this.isOptionsInArray=!0,"axisX"===l?("left"===r||"bottom"===r?(this.optionsName="axisX",d(this.chart.sessionVariables.axisX[i])&&(this.chart.sessionVariables.axisX[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX[i]):(this.optionsName="axisX2",d(this.chart.sessionVariables.axisX2[i])&&(this.chart.sessionVariables.axisX2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisX2[i]),this.options.interval||(this.intervalType=null)):"left"===r||"bottom"===r?(this.optionsName="axisY",d(this.chart.sessionVariables.axisY[i])&&(this.chart.sessionVariables.axisY[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY[i]):(this.optionsName="axisY2",d(this.chart.sessionVariables.axisY2[i])&&(this.chart.sessionVariables.axisY2[i]={}),this.sessionVariables=this.chart.sessionVariables.axisY2[i]),void 0===this.options.titleFontSize&&(this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)),void 0===this.options.labelFontSize&&(this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)),this.type=l,"axisX"!==l||n&&void 0!==n.gridThickness||(this.gridThickness=0),this._position=r,this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null},this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360),this.options.scaleBreaks&&(this.scaleBreaks=new B(this.chart,this.options.scaleBreaks,++this.chart._eventManager.lastObjectId,this)),this.stripLines=[],this.options.stripLines&&0<this.options.stripLines.length)for(e=0;e<this.options.stripLines.length;e++)this.stripLines.push(new W(this.chart,this.options.stripLines[e],e,++this.chart._eventManager.lastObjectId,this));this.options.crosshair&&(this.crosshair=new U(this.chart,this.options.crosshair,this)),this._titleTextBlock=null,this.hasOptionChanged("viewportMinimum")&&null===this.viewportMinimum&&(this.options.viewportMinimum=void 0,this.sessionVariables.viewportMinimum=null),this.hasOptionChanged("viewportMinimum")||isNaN(this.sessionVariables.newViewportMinimum)||null===this.sessionVariables.newViewportMinimum?this.sessionVariables.newViewportMinimum=null:this.viewportMinimum=this.sessionVariables.newViewportMinimum,this.hasOptionChanged("viewportMaximum")&&null===this.viewportMaximum&&(this.options.viewportMaximum=void 0,this.sessionVariables.viewportMaximum=null),this.hasOptionChanged("viewportMaximum")||isNaN(this.sessionVariables.newViewportMaximum)||null===this.sessionVariables.newViewportMaximum?this.sessionVariables.newViewportMaximum=null:this.viewportMaximum=this.sessionVariables.newViewportMaximum,null!==this.minimum&&null!==this.viewportMinimum&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),null!==this.maximum&&null!==this.viewportMaximum&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.trackChanges("viewportMinimum"),this.trackChanges("viewportMaximum")}function B(e,t,n,i){if(B.base.constructor.call(this,"ScaleBreaks","scaleBreaks",t,null,i),this.id=n,this.chart=e,this.ctx=this.chart.ctx,this.axis=i,this.optionsName="scaleBreaks",this.isOptionsInArray=!1,this._appliedBreaks=[],this.customBreaks=[],this.autoBreaks=[],"string"==typeof this.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?8:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.spacing&&(this.spacing=8),this.autoCalculate&&(this.maxNumberOfAutoBreaks=Math.min(this.maxNumberOfAutoBreaks,5)),this.options.customBreaks&&0<this.options.customBreaks.length){for(e=0;e<this.options.customBreaks.length;e++)this.customBreaks.push(new V(this.chart,"customBreaks",this.options.customBreaks[e],e,++this.chart._eventManager.lastObjectId,this)),"number"==typeof this.customBreaks[e].startValue&&"number"==typeof this.customBreaks[e].endValue&&this.customBreaks[e].endValue!==this.customBreaks[e].startValue&&this._appliedBreaks.push(this.customBreaks[e]);for(this._appliedBreaks.sort((function(e,t){return e.startValue-t.startValue})),e=0;e<this._appliedBreaks.length-1;e++)this._appliedBreaks[e].endValue>=this._appliedBreaks[e+1].startValue&&(this._appliedBreaks[e].endValue=Math.max(this._appliedBreaks[e].endValue,this._appliedBreaks[e+1].endValue),window.console&&window.console.log("CanvasJS Error: Breaks "+e+" and "+(e+1)+" are overlapping."),this._appliedBreaks.splice(e,2),e--)}}function V(e,t,n,i,l,r){V.base.constructor.call(this,"Break",t,n,i,r),this.id=l,this.chart=e,this.ctx=this.chart.ctx,this.scaleBreaks=r,this.optionsName=t,this.isOptionsInArray=!0,this.type=n.type?this.type:r.type,this.fillOpacity=d(n.fillOpacity)?r.fillOpacity:this.fillOpacity,this.lineThickness=d(n.lineThickness)?r.lineThickness:this.lineThickness,this.color=n.color?this.color:r.color,this.lineColor=n.lineColor?this.lineColor:r.lineColor,this.lineDashType=n.lineDashType?this.lineDashType:r.lineDashType,!d(this.startValue)&&this.startValue.getTime&&(this.startValue=this.startValue.getTime()),!d(this.endValue)&&this.endValue.getTime&&(this.endValue=this.endValue.getTime()),"number"==typeof this.startValue&&"number"==typeof this.endValue&&this.endValue<this.startValue&&(e=this.startValue,this.startValue=this.endValue,this.endValue=e),this.spacing=void 0===n.spacing?r.spacing:n.spacing,"string"==typeof this.options.spacing?(this.spacing=parseFloat(this.spacing),this.spacing=isNaN(this.spacing)?0:(10<this.spacing?10:this.spacing)+"%"):"number"!=typeof this.options.spacing&&(this.spacing=r.spacing),this.size=r.parent.logarithmic?1:0}function W(e,t,n,i,l){W.base.constructor.call(this,"StripLine","stripLines",t,n,l),this.id=i,this.chart=e,this.ctx=this.chart.ctx,this.label=this.label,this.axis=l,this.optionsName="stripLines",this.isOptionsInArray=!0,this._thicknessType="pixel",null!==this.startValue&&null!==this.endValue&&(this.value=l.logarithmic?Math.sqrt((this.startValue.getTime?this.startValue.getTime():this.startValue)*(this.endValue.getTime?this.endValue.getTime():this.endValue)):((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2,this._thicknessType=null)}function U(e,t,n){U.base.constructor.call(this,"Crosshair","crosshair",t,null,n),this.chart=e,this.ctx=this.chart.ctx,this.axis=n,this.optionsName="crosshair",this._thicknessType="pixel"}function Y(e,t){Y.base.constructor.call(this,"ToolTip","toolTip",t,null,e),this.chart=e,this.canvas=e.canvas,this.ctx=this.chart.ctx,this.currentDataPointIndex=this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,this.containerTransitionDuration=.1,this.mozContainerTransition=this.getContainerTransition(this.containerTransitionDuration),this.optionsName="toolTip",this._initialize()}function q(e){this.chart=e,this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.ghostCanvas=w(this.chart.width,this.chart.height),this.ghostCtx=this.ghostCanvas.getContext("2d"),this.mouseoveredObjectMaps=[]}function X(e){this.chart=e,this.ctx=this.chart.plotArea.ctx,this.animations=[],this.animationRequestId=null}n(t,P),t.prototype.destroy=function(){var e=this.allDOMEventHandlers;this._animator&&this._animator.cancelAllAnimations(),this._panTimerId&&clearTimeout(this._panTimerId);for(var t=0;t<e.length;t++){var n=e[t][0],i=e[t][1],l=e[t][2],r=(r=e[t][3])||!1;n.removeEventListener?n.removeEventListener(i,l,r):n.detachEvent&&n.detachEvent("on"+i,l)}for(this.allDOMEventHandlers=[],this.removeAllEventListeners();this._canvasJSContainer&&this._canvasJSContainer.hasChildNodes();)this._canvasJSContainer.removeChild(this._canvasJSContainer.lastChild);for(;this.container&&this.container.hasChildNodes();)this.container.removeChild(this.container.lastChild);for(;this._dropdownMenu&&this._dropdownMenu.hasChildNodes();)this._dropdownMenu.removeChild(this._dropdownMenu.lastChild);this.overlaidCanvas=this.canvas=this.container=this._canvasJSContainer=null,this._toolBar=this._dropdownMenu=this._menuButton=this._resetButton=this._zoomButton=this._breaksCanvas=this._preRenderCanvas=this.toolTip.container=null},t.prototype._updateOptions=function(){var e=this;if(this.updateOption("width"),this.updateOption("height"),this.updateOption("dataPointWidth"),this.updateOption("dataPointMinWidth"),this.updateOption("dataPointMaxWidth"),this.updateOption("interactivityEnabled"),this.updateOption("theme"),this.updateOption("colorSet")&&(this._selectedColorSet=void 0!==G[this.colorSet]?G[this.colorSet]:G.colorSet1),this.updateOption("backgroundColor"),this.backgroundColor||(this.backgroundColor="rgba(0,0,0,0)"),this.updateOption("culture"),this._cultureInfo=new F(this.options.culture),this.updateOption("animationEnabled"),this.animationEnabled=this.animationEnabled&&H,this.updateOption("animationDuration"),this.updateOption("rangeChanging"),this.updateOption("rangeChanged"),this.updateOption("exportEnabled"),this.updateOption("exportFileName"),this.updateOption("zoomType"),this.options.zoomEnabled){if(!this._zoomButton){var t=!1;T(this._zoomButton=document.createElement("button")),C(this,this._zoomButton,"pan"),this._toolBar.appendChild(this._zoomButton),this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,m(this._zoomButton,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),m(this._zoomButton,"click",(function(){e.zoomEnabled?(e.zoomEnabled=!1,e.panEnabled=!0,C(e,e._zoomButton,"zoom")):(e.zoomEnabled=!0,e.panEnabled=!1,C(e,e._zoomButton,"pan")),e.render()}),this.allDOMEventHandlers),m(this._zoomButton,"mouseover",(function(){t?t=!1:(x(0,e._zoomButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.fontColorOnHover,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&x(0,e._zoomButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),m(this._zoomButton,"mouseout",(function(){t||(x(0,e._zoomButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&x(0,e._zoomButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers)}this._resetButton||(t=!1,T(this._resetButton=document.createElement("button")),C(this,this._resetButton,"reset"),this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor,this._toolBar.appendChild(this._resetButton),m(this._resetButton,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),m(this._resetButton,"click",(function(){if(e.toolTip.hide(),e.zoomEnabled||e.panEnabled?(e.zoomEnabled=!0,e.panEnabled=!1,C(e,e._zoomButton,"pan"),e._defaultCursor="default",e.overlaidCanvas.style.cursor=e._defaultCursor):(e.zoomEnabled=!1,e.panEnabled=!1),e.sessionVariables.axisX)for(var t=0;t<e.sessionVariables.axisX.length;t++)e.sessionVariables.axisX[t].newViewportMinimum=null,e.sessionVariables.axisX[t].newViewportMaximum=null;if(e.sessionVariables.axisX2)for(t=0;t<e.sessionVariables.axisX2.length;t++)e.sessionVariables.axisX2[t].newViewportMinimum=null,e.sessionVariables.axisX2[t].newViewportMaximum=null;if(e.sessionVariables.axisY)for(t=0;t<e.sessionVariables.axisY.length;t++)e.sessionVariables.axisY[t].newViewportMinimum=null,e.sessionVariables.axisY[t].newViewportMaximum=null;if(e.sessionVariables.axisY2)for(t=0;t<e.sessionVariables.axisY2.length;t++)e.sessionVariables.axisY2[t].newViewportMinimum=null,e.sessionVariables.axisY2[t].newViewportMaximum=null;e.resetOverlayedCanvas(),T(e._zoomButton,e._resetButton),e._dispatchRangeEvent("rangeChanging","reset"),e.render(),e._dispatchRangeEvent("rangeChanged","reset"),e.syncCharts&&e.syncCharts(null,null)}),this.allDOMEventHandlers),m(this._resetButton,"mouseover",(function(){t||(x(0,e._resetButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.hoverFfontColorOnHoverontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&x(0,e._resetButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers),m(this._resetButton,"mouseout",(function(){t||(x(0,e._resetButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor,transition:"0.4s",WebkitTransition:"0.4s"}),0>=navigator.userAgent.search("MSIE")&&x(0,e._resetButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers),this.overlaidCanvas.style.cursor=e._defaultCursor),this.zoomEnabled||this.panEnabled||(this._zoomButton?(e._zoomButton.getAttribute("state")===e._cultureInfo.zoomText?(this.panEnabled=!0,this.zoomEnabled=!1):(this.zoomEnabled=!0,this.panEnabled=!1),S(e._zoomButton,e._resetButton)):(this.zoomEnabled=!0,this.panEnabled=!1))}else this.panEnabled=this.zoomEnabled=!1;if(this._menuButton?this.exportEnabled?S(this._menuButton):T(this._menuButton):this.exportEnabled&&H&&(t=!1,this._menuButton=document.createElement("button"),C(this,this._menuButton,"menu"),this._toolBar.appendChild(this._menuButton),m(this._menuButton,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),m(this._menuButton,"click",(function(){"none"!==e._dropdownMenu.style.display||e._dropDownCloseTime&&500>=(new Date).getTime()-e._dropDownCloseTime.getTime()||(e._dropdownMenu.style.display="block",e._menuButton.blur(),e._dropdownMenu.focus())}),this.allDOMEventHandlers,!0),m(this._menuButton,"mouseover",(function(){t||(x(0,e._menuButton,{backgroundColor:e.toolbar.backgroundColorOnHover,color:e.toolbar.fontColorOnHover}),0>=navigator.userAgent.search("MSIE")&&x(0,e._menuButton.childNodes[0],{WebkitFilter:"invert(100%)",filter:"invert(100%)"}))}),this.allDOMEventHandlers,!0),m(this._menuButton,"mouseout",(function(){t||(x(0,e._menuButton,{backgroundColor:e.toolbar.backgroundColor,color:e.toolbar.fontColor}),0>=navigator.userAgent.search("MSIE")&&x(0,e._menuButton.childNodes[0],{WebkitFilter:"invert(0%)",filter:"invert(0%)"}))}),this.allDOMEventHandlers,!0)),!this._dropdownMenu&&this.exportEnabled&&H){t=!1,this._dropdownMenu=document.createElement("div"),this._dropdownMenu.setAttribute("tabindex",-1);var n=-1!==this.theme.indexOf("dark")?"black":"#888888";this._dropdownMenu.style.cssText="position: absolute; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; cursor: pointer;right: 0px;top: 25px;min-width: 120px;outline: 0;font-size: 14px; font-family: Arial, Helvetica, sans-serif;padding: 5px 0px 5px 0px;text-align: left;line-height: 10px;background-color:"+this.toolbar.backgroundColor+";box-shadow: 2px 2px 10px "+n,e._dropdownMenu.style.display="none",this._toolBar.appendChild(this._dropdownMenu),m(this._dropdownMenu,"blur",(function(){T(e._dropdownMenu),e._dropDownCloseTime=new Date}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.printText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),m(n,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),m(n,"mouseover",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),m(n,"mouseout",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)}),this.allDOMEventHandlers,!0),m(n,"click",(function(){e.print(),T(e._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.saveJPGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),m(n,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),m(n,"mouseover",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),m(n,"mouseout",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)}),this.allDOMEventHandlers,!0),m(n,"click",(function(){u(e.canvas,"jpeg",e.exportFileName),T(e._dropdownMenu)}),this.allDOMEventHandlers,!0),(n=document.createElement("div")).style.cssText="padding: 12px 8px 12px 8px",n.innerHTML=this._cultureInfo.savePNGText,n.style.backgroundColor=this.toolbar.backgroundColor,n.style.color=this.toolbar.fontColor,this._dropdownMenu.appendChild(n),m(n,"touchstart",(function(e){t=!0}),this.allDOMEventHandlers),m(n,"mouseover",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColorOnHover,this.style.color=e.toolbar.fontColorOnHover)}),this.allDOMEventHandlers,!0),m(n,"mouseout",(function(){t||(this.style.backgroundColor=e.toolbar.backgroundColor,this.style.color=e.toolbar.fontColor)}),this.allDOMEventHandlers,!0),m(n,"click",(function(){u(e.canvas,"png",e.exportFileName),T(e._dropdownMenu)}),this.allDOMEventHandlers,!0)}for(var i in"none"!==this._toolBar.style.display&&this._zoomButton&&(C(e,e._zoomButton,this.panEnabled?"zoom":"pan"),e._resetButton.getAttribute("state")!==e._cultureInfo.resetText&&C(e,e._resetButton,"reset")),this.options.toolTip&&this.toolTip.options!==this.options.toolTip&&(this.toolTip.options=this.options.toolTip),this.toolTip.options)this.toolTip.options.hasOwnProperty(i)&&this.toolTip.updateOption(i)},t.prototype._updateSize=function(){var e;e=[this.canvas,this.overlaidCanvas,this._eventManager.ghostCanvas];var t=0,n=0;if(this.options.width?t=this.width:this.width=t=0<this.container.clientWidth?this.container.clientWidth:this.width,this.options.height?n=this.height:this.height=n=0<this.container.clientHeight?this.container.clientHeight:this.height,this.canvas.width!==t*ce||this.canvas.height!==n*ce){for(var i=0;i<e.length;i++)k(e[i],t,n);e=!0}else e=!1;return e},t.prototype._initialize=function(){this.isNavigator=!d(this.parent)&&!d(this.parent._defaultsKey)&&"Navigator"===this.parent._defaultsKey,this.toolbar=new I(this,this.options.toolbar),this._animator?this._animator.cancelAllAnimations():this._animator=new X(this),this.removeAllEventListeners(),this.disableToolTip=!1,this._axes=[],this.funnelPyramidClickHandler=this.pieDoughnutClickHandler=null,this._updateOptions(),this.animatedRender=H&&this.animationEnabled&&0===this.renderCount,this._updateSize(),this.clearCanvas(),this.ctx.beginPath(),this.axisX=[],this.axisX2=[],this.axisY=[],this.axisY2=[],this._indexLabels=[],this._dataInRenderedOrder=[],this._events=[],this._eventManager&&this._eventManager.reset(),this.plotInfo={axisPlacement:null,plotTypes:[]},this.layoutManager=new M(0,0,this.width,this.height,this.isNavigator?0:2),this.plotArea.layoutManager&&this.plotArea.layoutManager.reset(),this.data=[];var n=0,i=null;if(this.options.data){for(var l=0;l<this.options.data.length;l++)if(n++,!this.options.data[l].type||0<=t._supportedChartTypes.indexOf(this.options.data[l].type)){var r=new N(this,this.options.data[l],n-1,++this._eventManager.lastObjectId);"error"===r.type&&(r.linkedDataSeriesIndex=d(this.options.data[l].linkedDataSeriesIndex)?l-1:this.options.data[l].linkedDataSeriesIndex,0>r.linkedDataSeriesIndex||r.linkedDataSeriesIndex>=this.options.data.length||"number"!=typeof r.linkedDataSeriesIndex||"error"===this.options.data[r.linkedDataSeriesIndex].type)&&(r.linkedDataSeriesIndex=null),null===r.name&&(r.name="DataSeries "+n),null===r.color?1<this.options.data.length?(r._colorSet=[this._selectedColorSet[r.index%this._selectedColorSet.length]],r.color=this._selectedColorSet[r.index%this._selectedColorSet.length]):r._colorSet="line"===r.type||"stepLine"===r.type||"spline"===r.type||"area"===r.type||"stepArea"===r.type||"splineArea"===r.type||"stackedArea"===r.type||"stackedArea100"===r.type||"rangeArea"===r.type||"rangeSplineArea"===r.type||"candlestick"===r.type||"ohlc"===r.type||"waterfall"===r.type||"boxAndWhisker"===r.type?[this._selectedColorSet[0]]:this._selectedColorSet:r._colorSet=[r.color],null===r.markerSize&&(("line"===r.type||"stepLine"===r.type||"spline"===r.type||0<=r.type.toLowerCase().indexOf("area"))&&r.dataPoints&&r.dataPoints.length<this.width/16||"scatter"===r.type)&&(r.markerSize=8),"bubble"!==r.type&&"scatter"!==r.type||!r.dataPoints||(r.dataPoints.some?r.dataPoints.some((function(e){return e.x}))&&r.dataPoints.sort(e):r.dataPoints.sort(e)),this.data.push(r);var a,o=r.axisPlacement;if(i=i||o,"normal"===o?"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with bar chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="normal"):"xySwapped"===o?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with line, area, column or pie chart':"none"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with pie chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="xySwapped"):"none"===o?"normal"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with line, area, column or bar chart':"xySwapped"===this.plotInfo.axisPlacement?a='You cannot combine "'+r.type+'" with bar chart':null===this.plotInfo.axisPlacement&&(this.plotInfo.axisPlacement="none"):null===o&&"none"===this.plotInfo.axisPlacement&&(a='You cannot combine "'+r.type+'" with pie chart'),a&&window.console)return void window.console.log(a)}for(l=0;l<this.data.length;l++){if("none"==i&&"error"===this.data[l].type&&window.console)return void window.console.log('You cannot combine "'+r.type+'" with error chart');"error"===this.data[l].type&&(this.data[l].axisPlacement=this.plotInfo.axisPlacement=i||"normal",this.data[l]._linkedSeries=null===this.data[l].linkedDataSeriesIndex?null:this.data[this.data[l].linkedDataSeriesIndex])}}this._objectsInitialized=!0,this._plotAreaElements=[]},t._supportedChartTypes=f("line stepLine spline column area stepArea splineArea bar bubble scatter stackedColumn stackedColumn100 stackedBar stackedBar100 stackedArea stackedArea100 candlestick ohlc boxAndWhisker rangeColumn error rangeBar rangeArea rangeSplineArea pie doughnut funnel pyramid waterfall".split(" ")),t.prototype.setLayout=function(){for(var e=this._plotAreaElements,t=0;t<this.data.length;t++)if("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement){if(!this.data[t].axisYType||"primary"===this.data[t].axisYType)if(this.options.axisY&&0<this.options.axisY.length){if(!this.axisY.length)for(var n=0;n<this.options.axisY.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[n]=new L(this,"axisY",this.options.axisY[n],n,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[n]=new L(this,"axisY",this.options.axisY[n],n,"axisY","bottom"));this.data[t].axisY=this.axisY[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY.length?this.data[t].axisYIndex:0],this.axisY[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY.length?this.data[t].axisYIndex:0].dataSeries.push(this.data[t])}else this.axisY.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY[0]=new L(this,"axisY",this.options.axisY,0,"axisY","left")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY[0]=new L(this,"axisY",this.options.axisY,0,"axisY","bottom"))),this.data[t].axisY=this.axisY[0],this.axisY[0].dataSeries.push(this.data[t]);if("secondary"===this.data[t].axisYType)if(this.options.axisY2&&0<this.options.axisY2.length){if(!this.axisY2.length)for(n=0;n<this.options.axisY2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[n]=new L(this,"axisY2",this.options.axisY2[n],n,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[n]=new L(this,"axisY2",this.options.axisY2[n],n,"axisY","top"));this.data[t].axisY=this.axisY2[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY2.length?this.data[t].axisYIndex:0],this.axisY2[0<=this.data[t].axisYIndex&&this.data[t].axisYIndex<this.axisY2.length?this.data[t].axisYIndex:0].dataSeries.push(this.data[t])}else this.axisY2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisY2[0]=new L(this,"axisY2",this.options.axisY2,0,"axisY","right")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisY2[0]=new L(this,"axisY2",this.options.axisY2,0,"axisY","top"))),this.data[t].axisY=this.axisY2[0],this.axisY2[0].dataSeries.push(this.data[t]);if(!this.data[t].axisXType||"primary"===this.data[t].axisXType)if(this.options.axisX&&0<this.options.axisX.length){if(!this.axisX.length)for(n=0;n<this.options.axisX.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[n]=new L(this,"axisX",this.options.axisX[n],n,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[n]=new L(this,"axisX",this.options.axisX[n],n,"axisX","left"));this.data[t].axisX=this.axisX[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX.length?this.data[t].axisXIndex:0],this.axisX[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX.length?this.data[t].axisXIndex:0].dataSeries.push(this.data[t])}else this.axisX.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX[0]=new L(this,"axisX",this.options.axisX,0,"axisX","bottom")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX[0]=new L(this,"axisX",this.options.axisX,0,"axisX","left"))),this.data[t].axisX=this.axisX[0],this.axisX[0].dataSeries.push(this.data[t]);if("secondary"===this.data[t].axisXType)if(this.options.axisX2&&0<this.options.axisX2.length){if(!this.axisX2.length)for(n=0;n<this.options.axisX2.length;n++)"normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[n]=new L(this,"axisX2",this.options.axisX2[n],n,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[n]=new L(this,"axisX2",this.options.axisX2[n],n,"axisX","right"));this.data[t].axisX=this.axisX2[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX2.length?this.data[t].axisXIndex:0],this.axisX2[0<=this.data[t].axisXIndex&&this.data[t].axisXIndex<this.axisX2.length?this.data[t].axisXIndex:0].dataSeries.push(this.data[t])}else this.axisX2.length||("normal"===this.plotInfo.axisPlacement?this._axes.push(this.axisX2[0]=new L(this,"axisX2",this.options.axisX2,0,"axisX","top")):"xySwapped"===this.plotInfo.axisPlacement&&this._axes.push(this.axisX2[0]=new L(this,"axisX2",this.options.axisX2,0,"axisX","right"))),this.data[t].axisX=this.axisX2[0],this.axisX2[0].dataSeries.push(this.data[t])}if(this.axisY){for(n=1;n<this.axisY.length;n++)void 0===this.axisY[n].options.gridThickness&&(this.axisY[n].gridThickness=0);for(n=0;n<this.axisY.length-1;n++)void 0===this.axisY[n].options.margin&&(this.axisY[n].margin=10)}if(this.axisY2){for(n=1;n<this.axisY2.length;n++)void 0===this.axisY2[n].options.gridThickness&&(this.axisY2[n].gridThickness=0);for(n=0;n<this.axisY2.length-1;n++)void 0===this.axisY2[n].options.margin&&(this.axisY2[n].margin=10)}if(this.axisY&&0<this.axisY.length&&this.axisY2&&0<this.axisY2.length&&(0<this.axisY[0].gridThickness&&void 0===this.axisY2[0].options.gridThickness?this.axisY2[0].gridThickness=0:0<this.axisY2[0].gridThickness&&void 0===this.axisY[0].options.gridThickness&&(this.axisY[0].gridThickness=0)),this.axisX)for(n=0;n<this.axisX.length;n++)void 0===this.axisX[n].options.gridThickness&&(this.axisX[n].gridThickness=0);if(this.axisX2)for(n=0;n<this.axisX2.length;n++)void 0===this.axisX2[n].options.gridThickness&&(this.axisX2[n].gridThickness=0);if(this.axisX&&0<this.axisX.length&&this.axisX2&&0<this.axisX2.length&&(0<this.axisX[0].gridThickness&&void 0===this.axisX2[0].options.gridThickness?this.axisX2[0].gridThickness=0:0<this.axisX2[0].gridThickness&&void 0===this.axisX[0].options.gridThickness&&(this.axisX[0].gridThickness=0)),n=!1,0<this._axes.length&&(this.zoomEnabled||this.panEnabled))for(t=0;t<this._axes.length;t++)if(null!==this._axes[t].viewportMinimum||null!==this._axes[t].viewportMaximum){n=!0;break}if(n?(S(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._zoomButton.style.borderRight=this.toolbar.borderThickness+"px solid "+this.toolbar.borderColor,this._resetButton.style.borderRight=(this.exportEnabled?this.toolbar.borderThickness:0)+"px solid "+this.toolbar.borderColor):(T(this._zoomButton,this._resetButton),this._toolBar.style.border=this.toolbar.borderThickness+"px solid transparent",this.options.zoomEnabled&&(this.zoomEnabled=!0,this.panEnabled=!1)),p(this),this._processData(),this.options.title&&(this.title=new E(this,this.options.title),this.title.dockInsidePlotArea?e.push(this.title):this.title.setLayout()),this.subtitles=[],this.options.subtitles)for(t=0;t<this.options.subtitles.length;t++)n=new D(this,this.options.subtitles[t],t),this.subtitles.push(n),n.dockInsidePlotArea?e.push(n):n.setLayout();for(this.legend=new R(this,this.options.legend),t=0;t<this.data.length;t++)(this.data[t].showInLegend||"pie"===this.data[t].type||"doughnut"===this.data[t].type||"funnel"===this.data[t].type||"pyramid"===this.data[t].type)&&this.legend.dataSeries.push(this.data[t]);for(this.legend.dockInsidePlotArea?e.push(this.legend):this.legend.setLayout(),t=0;t<this._axes.length;t++)if(this._axes[t].scaleBreaks&&this._axes[t].scaleBreaks._appliedBreaks.length){H?(this._breaksCanvas=w(this.width,this.height),this._breaksCanvasCtx=this._breaksCanvas.getContext("2d")):(this._breaksCanvas=this.canvas,this._breaksCanvasCtx=this.ctx);break}this._preRenderCanvas=w(this.width,this.height),this._preRenderCtx=this._preRenderCanvas.getContext("2d"),"normal"!==this.plotInfo.axisPlacement&&"xySwapped"!==this.plotInfo.axisPlacement||L.setLayout(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())},t.prototype.renderElements=function(){var e=this._plotAreaElements;this.title&&!this.title.dockInsidePlotArea&&this.title.render();for(var t=0;t<this.subtitles.length;t++)this.subtitles[t].dockInsidePlotArea||this.subtitles[t].render();if(this.legend.dockInsidePlotArea||this.legend.render(),"normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)L.render(this.axisX,this.axisX2,this.axisY,this.axisY2,this.plotInfo.axisPlacement);else{if("none"!==this.plotInfo.axisPlacement)return;this.preparePlotArea()}for(t=0;t<e.length;t++)e[t].setLayout(),e[t].render();var n,i=[];if(this.animatedRender){var l=w(this.width,this.height);l.getContext("2d").drawImage(this.canvas,0,0,this.width,this.height)}for(_(this),e=this.ctx.miterLimit,this.ctx.miterLimit=3,H&&this._breaksCanvas&&(this._preRenderCtx.drawImage(this.canvas,0,0,this.width,this.height),this._preRenderCtx.drawImage(this._breaksCanvas,0,0,this.width,this.height),this._breaksCanvasCtx.globalCompositeOperation="source-atop",this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),this._preRenderCtx.clearRect(0,0,this.width,this.height)),t=0;t<this.plotInfo.plotTypes.length;t++)for(var r=this.plotInfo.plotTypes[t],a=0;a<r.plotUnits.length;a++){var o=r.plotUnits[a],s=null;o.targetCanvas=null,this.animatedRender&&(o.targetCanvas=w(this.width,this.height),o.targetCanvasCtx=o.targetCanvas.getContext("2d"),n=o.targetCanvasCtx.miterLimit,o.targetCanvasCtx.miterLimit=3),"line"===o.type?s=this.renderLine(o):"stepLine"===o.type?s=this.renderStepLine(o):"spline"===o.type?s=this.renderSpline(o):"column"===o.type?s=this.renderColumn(o):"bar"===o.type?s=this.renderBar(o):"area"===o.type?s=this.renderArea(o):"stepArea"===o.type?s=this.renderStepArea(o):"splineArea"===o.type?s=this.renderSplineArea(o):"stackedColumn"===o.type?s=this.renderStackedColumn(o):"stackedColumn100"===o.type?s=this.renderStackedColumn100(o):"stackedBar"===o.type?s=this.renderStackedBar(o):"stackedBar100"===o.type?s=this.renderStackedBar100(o):"stackedArea"===o.type?s=this.renderStackedArea(o):"stackedArea100"===o.type?s=this.renderStackedArea100(o):"bubble"===o.type?s=s=this.renderBubble(o):"scatter"===o.type?s=this.renderScatter(o):"pie"===o.type?this.renderPie(o):"doughnut"===o.type?this.renderPie(o):"funnel"===o.type?s=this.renderFunnel(o):"pyramid"===o.type?s=this.renderFunnel(o):"candlestick"===o.type?s=this.renderCandlestick(o):"ohlc"===o.type?s=this.renderCandlestick(o):"rangeColumn"===o.type?s=this.renderRangeColumn(o):"error"===o.type?s=this.renderError(o):"rangeBar"===o.type?s=this.renderRangeBar(o):"rangeArea"===o.type?s=this.renderRangeArea(o):"rangeSplineArea"===o.type?s=this.renderRangeSplineArea(o):"waterfall"===o.type?s=this.renderWaterfall(o):"boxAndWhisker"===o.type&&(s=this.renderBoxAndWhisker(o));for(var u=0;u<o.dataSeriesIndexes.length;u++)this._dataInRenderedOrder.push(this.data[o.dataSeriesIndexes[u]]);this.animatedRender&&(o.targetCanvasCtx.miterLimit=n,s&&i.push(s))}this.ctx.miterLimit=e,this.animatedRender&&this._breaksCanvasCtx&&i.push({source:this._breaksCanvasCtx,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0,startTimePercent:.7}),this.animatedRender&&0<this._indexLabels.length&&(n=w(this.width,this.height).getContext("2d"),i.push(this.renderIndexLabels(n)));var c=this;if(0<i.length)c.disableToolTip=!0,c._animator.animate(200,c.animationDuration,(function(e){c.ctx.clearRect(0,0,c.width,c.height),c.ctx.drawImage(l,0,0,Math.floor(c.width*ce),Math.floor(c.height*ce),0,0,c.width,c.height);for(var t=0;t<i.length;t++)s=i[t],1>e&&void 0!==s.startTimePercent?e>=s.startTimePercent&&s.animationCallback(s.easingFunction(e-s.startTimePercent,0,1,1-s.startTimePercent),s):s.animationCallback(s.easingFunction(e,0,1,1),s);c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}),(function(){i=[];for(var e=0;e<c.plotInfo.plotTypes.length;e++)for(var t=c.plotInfo.plotTypes[e],n=0;n<t.plotUnits.length;n++)t.plotUnits[n].targetCanvas=null;l=null,c.disableToolTip=!1}));else{if(c._breaksCanvas)if(H)c.plotArea.ctx.drawImage(c._breaksCanvas,0,0,this.width,this.height);else for(u=0;u<c._axes.length;u++)c._axes[u].createMask();0<c._indexLabels.length&&c.renderIndexLabels(),c.dispatchEvent("dataAnimationIterationEnd",{chart:c})}for(this.attachPlotAreaEventHandlers(),this.zoomEnabled||this.panEnabled||!this._zoomButton||"none"===this._zoomButton.style.display||T(this._zoomButton,this._resetButton),this.toolTip._updateToolTip(),this.renderCount++,z&&(c=this,setTimeout((function(){var e=document.getElementById("ghostCanvasCopy");e&&(k(e,c.width,c.height),e.getContext("2d").drawImage(c._eventManager.ghostCanvas,0,0))}),2e3)),this._breaksCanvas&&(delete this._breaksCanvas,delete this._breaksCanvasCtx),u=0;u<this._axes.length;u++)this._axes[u].maskCanvas&&(delete this._axes[u].maskCanvas,delete this._axes[u].maskCtx)},t.prototype.render=function(e){e&&(this.options=e),this._initialize(),this.setLayout(),this.renderElements(),this._preRenderCanvas=null},t.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.panEnabled?"move":"default",capture:!0,bounds:this.plotArea})},t.prototype.categoriseDataSeries=function(){for(var e="",n=0;n<this.data.length;n++)if((e=this.data[n]).dataPoints&&0!==e.dataPoints.length&&e.visible&&0<=t._supportedChartTypes.indexOf(e.type)){for(var i=null,l=!1,r=null,a=!1,o=0;o<this.plotInfo.plotTypes.length;o++)if(this.plotInfo.plotTypes[o].type===e.type){l=!0,i=this.plotInfo.plotTypes[o];break}for(l||this.plotInfo.plotTypes.push(i={type:e.type,totalDataSeries:0,plotUnits:[]}),o=0;o<i.plotUnits.length;o++)if(i.plotUnits[o].axisYType===e.axisYType&&i.plotUnits[o].axisXType===e.axisXType&&i.plotUnits[o].axisYIndex===e.axisYIndex&&i.plotUnits[o].axisXIndex===e.axisXIndex){a=!0,r=i.plotUnits[o];break}a||i.plotUnits.push(r={type:e.type,previousDataSeriesCount:0,index:i.plotUnits.length,plotType:i,axisXType:e.axisXType,axisYType:e.axisYType,axisYIndex:e.axisYIndex,axisXIndex:e.axisXIndex,axisY:"primary"===e.axisYType?this.axisY[0<=e.axisYIndex&&e.axisYIndex<this.axisY.length?e.axisYIndex:0]:this.axisY2[0<=e.axisYIndex&&e.axisYIndex<this.axisY2.length?e.axisYIndex:0],axisX:"primary"===e.axisXType?this.axisX[0<=e.axisXIndex&&e.axisXIndex<this.axisX.length?e.axisXIndex:0]:this.axisX2[0<=e.axisXIndex&&e.axisXIndex<this.axisX2.length?e.axisXIndex:0],dataSeriesIndexes:[],yTotals:[]}),i.totalDataSeries++,r.dataSeriesIndexes.push(n),e.plotUnit=r}for(n=0;n<this.plotInfo.plotTypes.length;n++)for(i=this.plotInfo.plotTypes[n],o=e=0;o<i.plotUnits.length;o++)i.plotUnits[o].previousDataSeriesCount=e,e+=i.plotUnits[o].dataSeriesIndexes.length},t.prototype.assignIdToDataPoints=function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];if(t.dataPoints)for(var n=t.dataPoints.length,i=0;i<n;i++)t.dataPointIds[i]=++this._eventManager.lastObjectId}},t.prototype._processData=function(){this.assignIdToDataPoints(),this.categoriseDataSeries();for(var e=0;e<this.plotInfo.plotTypes.length;e++)for(var t=this.plotInfo.plotTypes[e],n=0;n<t.plotUnits.length;n++){var i=t.plotUnits[n];"line"===i.type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type?this._processMultiseriesPlotUnit(i):"stackedColumn"===i.type||"stackedBar"===i.type||"stackedArea"===i.type?this._processStackedPlotUnit(i):"stackedColumn100"===i.type||"stackedBar100"===i.type||"stackedArea100"===i.type?this._processStacked100PlotUnit(i):"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"error"===i.type||"boxAndWhisker"===i.type?this._processMultiYPlotUnit(i):"waterfall"===i.type&&this._processSpecificPlotUnit(i)}this.calculateAutoBreaks()},t.prototype._processMultiseriesPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,n,i=e.axisY.dataInfo,l=e.axisX.dataInfo,r=!1,a=0;a<e.dataSeriesIndexes.length;a++){var o,s=this.data[e.dataSeriesIndexes[a]],u=0,c=!1,h=!1;if("normal"===s.axisPlacement||"xySwapped"===s.axisPlacement)var d=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,f=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((s.dataPoints[u].x&&s.dataPoints[u].x.getTime||"dateTime"===s.xValueType)&&(r=!0),u=0;u<s.dataPoints.length;u++){if(void 0===s.dataPoints[u].x&&(s.dataPoints[u].x=u+(e.axisX.logarithmic?1:0)),s.dataPoints[u].x.getTime?(r=!0,t=s.dataPoints[u].x.getTime()):t=s.dataPoints[u].x,n=s.dataPoints[u].y,t<l.min&&(l.min=t),t>l.max&&(l.max=t),n<i.min&&"number"==typeof n&&(i.min=n),n>i.max&&"number"==typeof n&&(i.max=n),0<u){if(e.axisX.logarithmic){var p=t/s.dataPoints[u-1].x;1>p&&(p=1/p),l.minDiff>p&&1!==p&&(l.minDiff=p)}else 0>(p=t-s.dataPoints[u-1].x)&&(p*=-1),l.minDiff>p&&0!==p&&(l.minDiff=p);null!==n&&null!==s.dataPoints[u-1].y&&(e.axisY.logarithmic?(1>(p=n/s.dataPoints[u-1].y)&&(p=1/p),i.minDiff>p&&1!==p&&(i.minDiff=p)):(0>(p=n-s.dataPoints[u-1].y)&&(p*=-1),i.minDiff>p&&0!==p&&(i.minDiff=p)))}if(t<d&&!c)null!==n&&(o=t);else{if(!c&&(c=!0,0<u)){u-=2;continue}if(t>f&&!h)h=!0;else if(t>f&&h)continue;s.dataPoints[u].label&&(e.axisX.labels[t]=s.dataPoints[u].label),t<l.viewPortMin&&(l.viewPortMin=t),t>l.viewPortMax&&(l.viewPortMax=t),null===n?l.viewPortMin===t&&o<t&&(l.viewPortMin=o):(n<i.viewPortMin&&"number"==typeof n&&(i.viewPortMin=n),n>i.viewPortMax&&"number"==typeof n&&(i.viewPortMax=n))}}s.axisX.valueType=s.xValueType=r?"dateTime":"number"}},t.prototype._processStackedPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){for(var t,n,i=e.axisY.dataInfo,l=e.axisX.dataInfo,r=!1,a=[],o=[],s=1/0,u=-1/0,c=0;c<e.dataSeriesIndexes.length;c++){var h,f=this.data[e.dataSeriesIndexes[c]],p=0,v=!1,g=!1;if("normal"===f.axisPlacement||"xySwapped"===f.axisPlacement)var m=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,y=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((f.dataPoints[p].x&&f.dataPoints[p].x.getTime||"dateTime"===f.xValueType)&&(r=!0),p=0;p<f.dataPoints.length;p++){if(void 0===f.dataPoints[p].x&&(f.dataPoints[p].x=p+(e.axisX.logarithmic?1:0)),f.dataPoints[p].x.getTime?(r=!0,t=f.dataPoints[p].x.getTime()):t=f.dataPoints[p].x,n=d(f.dataPoints[p].y)?0:f.dataPoints[p].y,t<l.min&&(l.min=t),t>l.max&&(l.max=t),0<p){if(e.axisX.logarithmic){var b=t/f.dataPoints[p-1].x;1>b&&(b=1/b),l.minDiff>b&&1!==b&&(l.minDiff=b)}else 0>(b=t-f.dataPoints[p-1].x)&&(b*=-1),l.minDiff>b&&0!==b&&(l.minDiff=b);null!==n&&null!==f.dataPoints[p-1].y&&(e.axisY.logarithmic?0<n&&(1>(b=n/f.dataPoints[p-1].y)&&(b=1/b),i.minDiff>b&&1!==b&&(i.minDiff=b)):(0>(b=n-f.dataPoints[p-1].y)&&(b*=-1),i.minDiff>b&&0!==b&&(i.minDiff=b)))}if(t<m&&!v)null!==f.dataPoints[p].y&&(h=t);else{if(!v&&(v=!0,0<p)){p-=2;continue}if(t>y&&!g)g=!0;else if(t>y&&g)continue;f.dataPoints[p].label&&(e.axisX.labels[t]=f.dataPoints[p].label),t<l.viewPortMin&&(l.viewPortMin=t),t>l.viewPortMax&&(l.viewPortMax=t),null===f.dataPoints[p].y?l.viewPortMin===t&&h<t&&(l.viewPortMin=h):(e.yTotals[t]=(e.yTotals[t]?e.yTotals[t]:0)+n,0<=n?a[t]?a[t]+=n:(a[t]=n,s=Math.min(n,s)):o[t]?o[t]+=n:(o[t]=n,u=Math.max(n,u)))}}e.axisY.scaleBreaks&&e.axisY.scaleBreaks.autoCalculate&&1<=e.axisY.scaleBreaks.maxNumberOfAutoBreaks&&(i.dataPointYPositiveSums?(i.dataPointYPositiveSums.push.apply(i.dataPointYPositiveSums,a),i.dataPointYNegativeSums.push.apply(i.dataPointYPositiveSums,o)):(i.dataPointYPositiveSums=a,i.dataPointYNegativeSums=o)),f.axisX.valueType=f.xValueType=r?"dateTime":"number"}for(p in a)a.hasOwnProperty(p)&&!isNaN(p)&&((e=a[p])<i.min&&(i.min=Math.min(e,s)),e>i.max&&(i.max=e),p<l.viewPortMin||p>l.viewPortMax||(e<i.viewPortMin&&(i.viewPortMin=Math.min(e,s)),e>i.viewPortMax&&(i.viewPortMax=e)));for(p in o)o.hasOwnProperty(p)&&!isNaN(p)&&((e=o[p])<i.min&&(i.min=e),e>i.max&&(i.max=Math.max(e,u)),p<l.viewPortMin||p>l.viewPortMax||(e<i.viewPortMin&&(i.viewPortMin=e),e>i.viewPortMax&&(i.viewPortMax=Math.max(e,u))))}},t.prototype._processStacked100PlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){for(var t,n,i=e.axisY.dataInfo,l=e.axisX.dataInfo,r=!1,a=!1,o=!1,s=[],u=0;u<e.dataSeriesIndexes.length;u++){var c,h=this.data[e.dataSeriesIndexes[u]],f=0,p=!1,v=!1;if("normal"===h.axisPlacement||"xySwapped"===h.axisPlacement)var g=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:-1/0,m=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((h.dataPoints[f].x&&h.dataPoints[f].x.getTime||"dateTime"===h.xValueType)&&(r=!0),f=0;f<h.dataPoints.length;f++){if(void 0===h.dataPoints[f].x&&(h.dataPoints[f].x=f+(e.axisX.logarithmic?1:0)),h.dataPoints[f].x.getTime?(r=!0,t=h.dataPoints[f].x.getTime()):t=h.dataPoints[f].x,n=d(h.dataPoints[f].y)?null:h.dataPoints[f].y,t<l.min&&(l.min=t),t>l.max&&(l.max=t),0<f){if(e.axisX.logarithmic){var y=t/h.dataPoints[f-1].x;1>y&&(y=1/y),l.minDiff>y&&1!==y&&(l.minDiff=y)}else 0>(y=t-h.dataPoints[f-1].x)&&(y*=-1),l.minDiff>y&&0!==y&&(l.minDiff=y);d(n)||null===h.dataPoints[f-1].y||(e.axisY.logarithmic?0<n&&(1>(y=n/h.dataPoints[f-1].y)&&(y=1/y),i.minDiff>y&&1!==y&&(i.minDiff=y)):(0>(y=n-h.dataPoints[f-1].y)&&(y*=-1),i.minDiff>y&&0!==y&&(i.minDiff=y)))}if(t<g&&!p)null!==n&&(c=t);else{if(!p&&(p=!0,0<f)){f-=2;continue}if(t>m&&!v)v=!0;else if(t>m&&v)continue;h.dataPoints[f].label&&(e.axisX.labels[t]=h.dataPoints[f].label),t<l.viewPortMin&&(l.viewPortMin=t),t>l.viewPortMax&&(l.viewPortMax=t),null===n?l.viewPortMin===t&&c<t&&(l.viewPortMin=c):(e.yTotals[t]=(e.yTotals[t]?e.yTotals[t]:0)+n,0<=n?a=!0:0>n&&(o=!0),s[t]=s[t]?s[t]+Math.abs(n):Math.abs(n))}}h.axisX.valueType=h.xValueType=r?"dateTime":"number"}e.axisY.logarithmic?(i.max=d(i.viewPortMax)?99*Math.pow(e.axisY.logarithmBase,-.05):Math.max(i.viewPortMax,99*Math.pow(e.axisY.logarithmBase,-.05)),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&!o?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?1:Math.min(i.viewPortMin,1)):a&&o?(i.max=d(i.viewPortMax)?99:Math.max(i.viewPortMax,99),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)):!a&&o&&(i.max=d(i.viewPortMax)?-1:Math.max(i.viewPortMax,-1),i.min=d(i.viewPortMin)?-99:Math.min(i.viewPortMin,-99)),i.viewPortMin=i.min,i.viewPortMax=i.max,e.dataPointYSums=s}},t.prototype._processMultiYPlotUnit=function(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,n,i,l,r=e.axisY.dataInfo,a=e.axisX.dataInfo,o=!1,s=0;s<e.dataSeriesIndexes.length;s++){var u,c,h,d=this.data[e.dataSeriesIndexes[s]],f=0,p=!1,v=!1;if("normal"===d.axisPlacement||"xySwapped"===d.axisPlacement)var g=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,m=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((d.dataPoints[f].x&&d.dataPoints[f].x.getTime||"dateTime"===d.xValueType)&&(o=!0),f=0;f<d.dataPoints.length;f++){if(void 0===d.dataPoints[f].x&&(d.dataPoints[f].x=f+(e.axisX.logarithmic?1:0)),d.dataPoints[f].x.getTime?(o=!0,t=d.dataPoints[f].x.getTime()):t=d.dataPoints[f].x,(n=d.dataPoints[f].y)&&n.length){i=Math.min.apply(null,n),l=Math.max.apply(null,n),c=!0;for(var y=0;y<n.length;y++)null===n.k&&(c=!1);c&&(p||(h=u),u=t)}if(t<a.min&&(a.min=t),t>a.max&&(a.max=t),i<r.min&&(r.min=i),l>r.max&&(r.max=l),0<f&&(e.axisX.logarithmic?(1>(c=t/d.dataPoints[f-1].x)&&(c=1/c),a.minDiff>c&&1!==c&&(a.minDiff=c)):(0>(c=t-d.dataPoints[f-1].x)&&(c*=-1),a.minDiff>c&&0!==c&&(a.minDiff=c)),n&&null!==n[0]&&d.dataPoints[f-1].y&&null!==d.dataPoints[f-1].y[0]&&(e.axisY.logarithmic?(1>(c=n[0]/d.dataPoints[f-1].y[0])&&(c=1/c),r.minDiff>c&&1!==c&&(r.minDiff=c)):(0>(c=n[0]-d.dataPoints[f-1].y[0])&&(c*=-1),r.minDiff>c&&0!==c&&(r.minDiff=c)))),!(t<g)||p){if(!p&&(p=!0,0<f)){f-=2,u=h;continue}if(t>m&&!v)v=!0;else if(t>m&&v)continue;if(d.dataPoints[f].label&&(e.axisX.labels[t]=d.dataPoints[f].label),t<a.viewPortMin&&(a.viewPortMin=t),t>a.viewPortMax&&(a.viewPortMax=t),a.viewPortMin===t&&n)for(y=0;y<n.length;y++)if(null===n[y]&&u<t){a.viewPortMin=u;break}null===n?a.viewPortMin===t&&u<t&&(a.viewPortMin=u):(i<r.viewPortMin&&(r.viewPortMin=i),l>r.viewPortMax&&(r.viewPortMax=l))}}d.axisX.valueType=d.xValueType=o?"dateTime":"number"}},t.prototype._processSpecificPlotUnit=function(e){if("waterfall"===e.type&&e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length))for(var t,n,i=e.axisY.dataInfo,l=e.axisX.dataInfo,r=!1,a=0;a<e.dataSeriesIndexes.length;a++){var o=this.data[e.dataSeriesIndexes[a]],s=0,u=!1,c=!1,h=t=0;if("normal"===o.axisPlacement||"xySwapped"===o.axisPlacement)var d=e.axisX.sessionVariables.newViewportMinimum?e.axisX.sessionVariables.newViewportMinimum:this.options.axisX&&this.options.axisX.viewportMinimum?this.options.axisX.viewportMinimum:this.options.axisX&&this.options.axisX.minimum?this.options.axisX.minimum:e.axisX.logarithmic?0:-1/0,f=e.axisX.sessionVariables.newViewportMaximum?e.axisX.sessionVariables.newViewportMaximum:this.options.axisX&&this.options.axisX.viewportMaximum?this.options.axisX.viewportMaximum:this.options.axisX&&this.options.axisX.maximum?this.options.axisX.maximum:1/0;for((o.dataPoints[s].x&&o.dataPoints[s].x.getTime||"dateTime"===o.xValueType)&&(r=!0),s=0;s<o.dataPoints.length;s++)void 0!==o.dataPoints[s].isCumulativeSum&&!0===o.dataPoints[s].isCumulativeSum?(o.dataPointEOs[s].cumulativeSumYStartValue=0,o.dataPointEOs[s].cumulativeSum=0===s?0:o.dataPointEOs[s-1].cumulativeSum,o.dataPoints[s].y=0===s?0:o.dataPointEOs[s-1].cumulativeSum):void 0!==o.dataPoints[s].isIntermediateSum&&!0===o.dataPoints[s].isIntermediateSum?(o.dataPointEOs[s].cumulativeSumYStartValue=h,o.dataPointEOs[s].cumulativeSum=0===s?0:o.dataPointEOs[s-1].cumulativeSum,o.dataPoints[s].y=0===s?0:t,h=0===s?0:o.dataPointEOs[s-1].cumulativeSum,t=0):(n="number"!=typeof o.dataPoints[s].y?0:o.dataPoints[s].y,o.dataPointEOs[s].cumulativeSumYStartValue=0===s?0:o.dataPointEOs[s-1].cumulativeSum,o.dataPointEOs[s].cumulativeSum=0===s?n:o.dataPointEOs[s-1].cumulativeSum+n,t+=n);for(s=0;s<o.dataPoints.length;s++)if(void 0===o.dataPoints[s].x&&(o.dataPoints[s].x=s+(e.axisX.logarithmic?1:0)),o.dataPoints[s].x.getTime?(r=!0,t=o.dataPoints[s].x.getTime()):t=o.dataPoints[s].x,n=o.dataPoints[s].y,t<l.min&&(l.min=t),t>l.max&&(l.max=t),o.dataPointEOs[s].cumulativeSum<i.min&&(i.min=o.dataPointEOs[s].cumulativeSum),o.dataPointEOs[s].cumulativeSum>i.max&&(i.max=o.dataPointEOs[s].cumulativeSum),0<s&&(e.axisX.logarithmic?(1>(h=t/o.dataPoints[s-1].x)&&(h=1/h),l.minDiff>h&&1!==h&&(l.minDiff=h)):(0>(h=t-o.dataPoints[s-1].x)&&(h*=-1),l.minDiff>h&&0!==h&&(l.minDiff=h)),null!==n&&null!==o.dataPoints[s-1].y&&(e.axisY.logarithmic?(1>(n=o.dataPointEOs[s].cumulativeSum/o.dataPointEOs[s-1].cumulativeSum)&&(n=1/n),i.minDiff>n&&1!==n&&(i.minDiff=n)):(0>(n=o.dataPointEOs[s].cumulativeSum-o.dataPointEOs[s-1].cumulativeSum)&&(n*=-1),i.minDiff>n&&0!==n&&(i.minDiff=n)))),!(t<d)||u){if(!u&&(u=!0,0<s)){s-=2;continue}if(t>f&&!c)c=!0;else if(t>f&&c)continue;o.dataPoints[s].label&&(e.axisX.labels[t]=o.dataPoints[s].label),t<l.viewPortMin&&(l.viewPortMin=t),t>l.viewPortMax&&(l.viewPortMax=t),0<s&&(o.dataPointEOs[s-1].cumulativeSum<i.viewPortMin&&(i.viewPortMin=o.dataPointEOs[s-1].cumulativeSum),o.dataPointEOs[s-1].cumulativeSum>i.viewPortMax&&(i.viewPortMax=o.dataPointEOs[s-1].cumulativeSum)),o.dataPointEOs[s].cumulativeSum<i.viewPortMin&&(i.viewPortMin=o.dataPointEOs[s].cumulativeSum),o.dataPointEOs[s].cumulativeSum>i.viewPortMax&&(i.viewPortMax=o.dataPointEOs[s].cumulativeSum)}o.axisX.valueType=o.xValueType=r?"dateTime":"number"}},t.prototype.calculateAutoBreaks=function(){function e(e,t,n,i){return i?(1>=(n=Math.pow(Math.min(n*e/t,t/e),.2))&&(n=Math.pow(1>e?1/e:Math.min(t/e,e),.25)),{startValue:e*n,endValue:t/n}):(0>=(n=.2*Math.min(n-t+e,t-e))&&(n=.25*Math.min(t-e,Math.abs(e))),{startValue:e+n,endValue:t-n})}function t(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)){var t=e.axisX.scaleBreaks&&e.axisX.scaleBreaks.autoCalculate&&1<=e.axisX.scaleBreaks.maxNumberOfAutoBreaks,n=e.axisY.scaleBreaks&&e.axisY.scaleBreaks.autoCalculate&&1<=e.axisY.scaleBreaks.maxNumberOfAutoBreaks;if(t||n)for(var i,r,a=(c=e.axisX.dataInfo).min,o=c.max,s=(h=e.axisY.dataInfo).min,u=h.max,c=c._dataRanges,h=h._dataRanges,f=0,p=0;p<e.dataSeriesIndexes.length;p++){var v=l.data[e.dataSeriesIndexes[p]];if(!(4>v.dataPoints.length))for(f=0;f<v.dataPoints.length;f++)if(t&&(r=(o+1-a)*Math.max(parseFloat(e.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(i=v.dataPoints[f].x.getTime?v.dataPoints[f].x.getTime():v.dataPoints[f].x)<c[r=Math.floor((i-a)/r)].min&&(c[r].min=i),i>c[r].max&&(c[r].max=i)),n){var g=(u+1-s)*Math.max(parseFloat(e.axisY.scaleBreaks.collapsibleThreshold)||10,10)/100;if((i="waterfall"===e.type?v.dataPointEOs[f].cumulativeSum:v.dataPoints[f].y)&&i.length)for(var m=0;m<i.length;m++)r=Math.floor((i[m]-s)/g),i[m]<h[r].min&&(h[r].min=i[m]),i[m]>h[r].max&&(h[r].max=i[m]);else d(i)||(i<h[r=Math.floor((i-s)/g)].min&&(h[r].min=i),i>h[r].max&&(h[r].max=i))}}}}function n(e){if(e.dataSeriesIndexes&&!(1>e.dataSeriesIndexes.length)&&e.axisX.scaleBreaks&&e.axisX.scaleBreaks.autoCalculate&&1<=e.axisX.scaleBreaks.maxNumberOfAutoBreaks)for(var t,n=e.axisX.dataInfo,i=n.min,r=n.max,a=n._dataRanges,o=0,s=0;s<e.dataSeriesIndexes.length;s++){var u=l.data[e.dataSeriesIndexes[s]];if(!(4>u.dataPoints.length))for(o=0;o<u.dataPoints.length;o++)t=(r+1-i)*Math.max(parseFloat(e.axisX.scaleBreaks.collapsibleThreshold)||10,10)/100,(n=u.dataPoints[o].x.getTime?u.dataPoints[o].x.getTime():u.dataPoints[o].x)<a[t=Math.floor((n-i)/t)].min&&(a[t].min=n),n>a[t].max&&(a[t].max=n)}}for(var i,l=this,r=!1,a=0;a<this._axes.length;a++)if(this._axes[a].scaleBreaks&&this._axes[a].scaleBreaks.autoCalculate&&1<=this._axes[a].scaleBreaks.maxNumberOfAutoBreaks){r=!0,this._axes[a].dataInfo._dataRanges=[];for(var o=0;o<100/Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10);o++)this._axes[a].dataInfo._dataRanges.push({min:1/0,max:-1/0})}if(r){for(a=0;a<this.plotInfo.plotTypes.length;a++)for(r=this.plotInfo.plotTypes[a],o=0;o<r.plotUnits.length;o++)"line"===(i=r.plotUnits[o]).type||"stepLine"===i.type||"spline"===i.type||"column"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"bar"===i.type||"bubble"===i.type||"scatter"===i.type||"candlestick"===i.type||"ohlc"===i.type||"rangeColumn"===i.type||"rangeBar"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type||"waterfall"===i.type||"error"===i.type||"boxAndWhisker"===i.type?t(i):0<=i.type.indexOf("stacked")&&n(i);for(a=0;a<this._axes.length;a++)if(this._axes[a].dataInfo._dataRanges){var s=this._axes[a].dataInfo.min;i=(this._axes[a].dataInfo.max+1-s)*Math.max(parseFloat(this._axes[a].scaleBreaks.collapsibleThreshold)||10,10)/100;var u,c,h=this._axes[a].dataInfo._dataRanges;if(r=[],this._axes[a].dataInfo.dataPointYPositiveSums){var f=this._axes[a].dataInfo.dataPointYPositiveSums;for(o in u=h,f)if(f.hasOwnProperty(o)&&!isNaN(o)&&!d(c=f[o])){var p=Math.floor((c-s)/i);c<u[p].min&&(u[p].min=c),c>u[p].max&&(u[p].max=c)}delete this._axes[a].dataInfo.dataPointYPositiveSums}if(this._axes[a].dataInfo.dataPointYNegativeSums){for(o in u=h,f=this._axes[a].dataInfo.dataPointYNegativeSums)f.hasOwnProperty(o)&&!isNaN(o)&&(d(c=-1*f[o])||(c<u[p=Math.floor((c-s)/i)].min&&(u[p].min=c),c>u[p].max&&(u[p].max=c)));delete this._axes[a].dataInfo.dataPointYNegativeSums}for(o=0;o<h.length-1;o++)if(u=h[o].max,isFinite(u))for(;o<h.length-1;){if(s=h[o+1].min,isFinite(s)){(c=s-u)>i&&r.push({diff:c,start:u,end:s});break}o++}if(this._axes[a].scaleBreaks.customBreaks)for(o=0;o<this._axes[a].scaleBreaks.customBreaks.length;o++)for(i=0;i<r.length;i++)(this._axes[a].scaleBreaks.customBreaks[o].startValue<=r[i].start&&r[i].start<=this._axes[a].scaleBreaks.customBreaks[o].endValue||this._axes[a].scaleBreaks.customBreaks[o].startValue<=r[i].start&&r[i].start<=this._axes[a].scaleBreaks.customBreaks[o].endValue||r[i].start<=this._axes[a].scaleBreaks.customBreaks[o].startValue&&this._axes[a].scaleBreaks.customBreaks[o].startValue<=r[i].end||r[i].start<=this._axes[a].scaleBreaks.customBreaks[o].endValue&&this._axes[a].scaleBreaks.customBreaks[o].endValue<=r[i].end)&&(r.splice(i,1),i--);for(r.sort((function(e,t){return t.diff-e.diff})),o=0;o<Math.min(r.length,this._axes[a].scaleBreaks.maxNumberOfAutoBreaks);o++)i=e(r[o].start,r[o].end,this._axes[a].logarithmic?this._axes[a].dataInfo.max/this._axes[a].dataInfo.min:this._axes[a].dataInfo.max-this._axes[a].dataInfo.min,this._axes[a].logarithmic),this._axes[a].scaleBreaks.autoBreaks.push(new V(this,"autoBreaks",i,o,++this._eventManager.lastObjectId,this._axes[a].scaleBreaks)),this._axes[a].scaleBreaks._appliedBreaks.push(this._axes[a].scaleBreaks.autoBreaks[this._axes[a].scaleBreaks.autoBreaks.length-1]);this._axes[a].scaleBreaks._appliedBreaks.sort((function(e,t){return e.startValue-t.startValue}))}}},t.prototype.getDataPointAtXY=function(e,t,n){n=n||!1;for(var i=[],l=this._dataInRenderedOrder.length-1;0<=l;l--){var r;(r=this._dataInRenderedOrder[l].getDataPointAtXY(e,t,n))&&i.push(r)}for(e=null,t=!1,n=0;n<i.length;n++)if(("line"===i[n].dataSeries.type||"stepLine"===i[n].dataSeries.type||"area"===i[n].dataSeries.type||"stepArea"===i[n].dataSeries.type)&&(l=b("markerSize",i[n].dataPoint,i[n].dataSeries)||8,i[n].distance<=l/2)){t=!0;break}for(n=0;n<i.length;n++)t&&"line"!==i[n].dataSeries.type&&"stepLine"!==i[n].dataSeries.type&&"area"!==i[n].dataSeries.type&&"stepArea"!==i[n].dataSeries.type||(e?i[n].distance<=e.distance&&(e=i[n]):e=i[n]);return e},t.prototype.getObjectAtXY=function(e,t,n){var i=null;if(n=this.getDataPointAtXY(e,t,n||!1))i=n.dataSeries.dataPointIds[n.dataPointIndex];else if(H)i=y(e,t,this._eventManager.ghostCtx);else for(n=0;n<this.legend.items.length;n++){var l=this.legend.items[n];e>=l.x1&&e<=l.x2&&t>=l.y1&&t<=l.y2&&(i=l.id)}return i},t.prototype.getAutoFontSize=ie,t.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)},t.prototype.clearCanvas=ne,t.prototype.attachEvent=function(e){this._events.push(e)},t.prototype._touchEventHandler=function(e){if(e.changedTouches&&this.interactivityEnabled){var t=[],n=e.changedTouches,i=n?n[0]:e,l=null;switch(e.type){case"touchstart":case"MSPointerDown":t=["mousemove","mousedown"],this._lastTouchData=ae(i),this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":t=["mousemove"];break;case"touchend":case"MSPointerUp":var r=this._lastTouchData&&this._lastTouchData.time?new Date-this._lastTouchData.time:0;t="touchstart"===this._lastTouchEventType||"MSPointerDown"===this._lastTouchEventType||300>r?["mouseup","click"]:["mouseup"];break;default:return}if(!(n&&1<n.length)){(l=ae(i)).time=new Date;try{var a=l.y-this._lastTouchData.y;r=l.time-this._lastTouchData.time,(1<Math.abs(a)&&this._lastTouchData.scroll||5<Math.abs(a)&&250>r)&&(this._lastTouchData.scroll=!0)}catch(o){}if(this._lastTouchEventType=e.type,this._lastTouchData.scroll&&this.zoomEnabled)this.isDrag&&this.resetOverlayedCanvas(),this.isDrag=!1;else for(n=0;n<t.length;n++)l=t[n],(a=document.createEvent("MouseEvent")).initMouseEvent(l,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(a),(!d(this._lastTouchData.scroll)&&!this._lastTouchData.scroll||!this._lastTouchData.scroll&&250<r||"click"===l)&&(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault())}}},t.prototype._dispatchRangeEvent=function(e,t){var n={chart:this};n.type=e,n.trigger=t;var i=[];this.axisX&&0<this.axisX.length&&i.push("axisX"),this.axisX2&&0<this.axisX2.length&&i.push("axisX2"),this.axisY&&0<this.axisY.length&&i.push("axisY"),this.axisY2&&0<this.axisY2.length&&i.push("axisY2");for(var l=0;l<i.length;l++)if(d(n[i[l]])&&(n[i[l]]=[]),"axisY"===i[l])for(var r=0;r<this.axisY.length;r++)n[i[l]].push({viewportMinimum:this[i[l]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][r].sessionVariables.newViewportMaximum});else if("axisY2"===i[l])for(r=0;r<this.axisY2.length;r++)n[i[l]].push({viewportMinimum:this[i[l]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][r].sessionVariables.newViewportMaximum});else if("axisX"===i[l])for(r=0;r<this.axisX.length;r++)n[i[l]].push({viewportMinimum:this[i[l]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][r].sessionVariables.newViewportMaximum});else if("axisX2"===i[l])for(r=0;r<this.axisX2.length;r++)n[i[l]].push({viewportMinimum:this[i[l]][r].sessionVariables.newViewportMinimum,viewportMaximum:this[i[l]][r].sessionVariables.newViewportMaximum});this.dispatchEvent(e,n,this)},t.prototype._mouseEventHandler=function(e){void 0===e.target&&e.srcElement&&(e.target=e.srcElement);var n,i,l=ae(e),r=e.type;if(e.which?i=3==e.which:e.button&&(i=2==e.button),t.capturedEventParam&&(n=t.capturedEventParam,"mouseup"===r&&(t.capturedEventParam=null,n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",n.chart._mouseEventHandler,!1)),n.hasOwnProperty(r)&&("mouseup"!==r||n.chart.overlaidCanvas.releaseCapture?e.target!==n.chart.overlaidCanvas&&H||n[r].call(n.context,l.x,l.y):e.target!==n.chart.overlaidCanvas&&(n.chart.isDrag=!1))),this.interactivityEnabled)if(this._ignoreNextEvent)this._ignoreNextEvent=!1;else if(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault(),z&&window.console&&(window.console.log(r+" --\x3e x: "+l.x+"; y:"+l.y),i&&window.console.log(e.which),"mouseup"===r&&window.console.log("mouseup")),!i){if(!t.capturedEventParam&&this._events){for(var a=0;a<this._events.length;a++)if(this._events[a].hasOwnProperty(r)){if(l.x>=(i=(n=this._events[a]).bounds).x1&&l.x<=i.x2&&l.y>=i.y1&&l.y<=i.y2){n[r].call(n.context,l.x,l.y),"mousedown"===r&&!0===n.capture?(t.capturedEventParam=n,this.overlaidCanvas.setCapture?this.overlaidCanvas.setCapture():document.documentElement.addEventListener("mouseup",this._mouseEventHandler,!1)):"mouseup"===r&&(n.chart.overlaidCanvas.releaseCapture?n.chart.overlaidCanvas.releaseCapture():document.documentElement.removeEventListener("mouseup",this._mouseEventHandler,!1));break}n=null}e.target.style.cursor=n&&n.cursor?n.cursor:this._defaultCursor}(l.x<(r=this.plotArea).x1||l.x>r.x2||l.y<r.y1||l.y>r.y2)&&(this.toolTip&&this.toolTip.enabled?this.toolTip.hide():this.resetOverlayedCanvas()),this.isDrag&&this.zoomEnabled||!this._eventManager||this._eventManager.mouseEventHandler(e)}},t.prototype._plotAreaMouseDown=function(e,t){this.isDrag=!0,this.dragStartPoint={x:e,y:t}},t.prototype._plotAreaMouseUp=function(e,t){if(("normal"===this.plotInfo.axisPlacement||"xySwapped"===this.plotInfo.axisPlacement)&&this.isDrag){var n=t-this.dragStartPoint.y,i=e-this.dragStartPoint.x,l=0<=this.zoomType.indexOf("x"),r=0<=this.zoomType.indexOf("y"),a=!1;if(this.resetOverlayedCanvas(),"xySwapped"===this.plotInfo.axisPlacement){var o=r;r=l,l=o}if(this.panEnabled||this.zoomEnabled){if(this.panEnabled)for(l=r=0;l<this._axes.length;l++)(n=this._axes[l]).logarithmic?n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum*(r=n.minimum/n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum*r,a=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum/(r=n.viewportMaximum/n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum/r,a=!0):n.viewportMinimum<n.minimum?(n.sessionVariables.newViewportMinimum=n.viewportMinimum+(r=n.minimum-n.viewportMinimum),n.sessionVariables.newViewportMaximum=n.viewportMaximum+r,a=!0):n.viewportMaximum>n.maximum&&(n.sessionVariables.newViewportMinimum=n.viewportMinimum-(r=n.viewportMaximum-n.maximum),n.sessionVariables.newViewportMaximum=n.viewportMaximum-r,a=!0);else if((!l||2<Math.abs(i))&&(!r||2<Math.abs(n))&&this.zoomEnabled){if(!this.dragStartPoint)return;n=l?this.dragStartPoint.x:this.plotArea.x1,i=r?this.dragStartPoint.y:this.plotArea.y1,l=l?e:this.plotArea.x2,r=r?t:this.plotArea.y2,2<Math.abs(n-l)&&2<Math.abs(i-r)&&this._zoomPanToSelectedRegion(n,i,l,r)&&(a=!0)}a&&(this._ignoreNextEvent=!0,this._dispatchRangeEvent("rangeChanging","zoom"),this.render(),this._dispatchRangeEvent("rangeChanged","zoom"),a&&this.zoomEnabled&&"none"===this._zoomButton.style.display&&(S(this._zoomButton,this._resetButton),C(this,this._zoomButton,"pan"),C(this,this._resetButton,"reset")))}}if(this.isDrag=!1,"none"!==this.plotInfo.axisPlacement){if(this.resetOverlayedCanvas(),this.axisX&&0<this.axisX.length)for(a=0;a<this.axisX.length;a++)this.axisX[a].crosshair&&this.axisX[a].crosshair.enabled&&this.axisX[a].renderCrosshair(e,t);if(this.axisX2&&0<this.axisX2.length)for(a=0;a<this.axisX2.length;a++)this.axisX2[a].crosshair&&this.axisX2[a].crosshair.enabled&&this.axisX2[a].renderCrosshair(e,t);if(this.axisY&&0<this.axisY.length)for(a=0;a<this.axisY.length;a++)this.axisY[a].crosshair&&this.axisY[a].crosshair.enabled&&this.axisY[a].renderCrosshair(e,t);if(this.axisY2&&0<this.axisY2.length)for(a=0;a<this.axisY2.length;a++)this.axisY2[a].crosshair&&this.axisY2[a].crosshair.enabled&&this.axisY2[a].renderCrosshair(e,t)}},t.prototype._plotAreaMouseMove=function(e,t){if(this.isDrag&&"none"!==this.plotInfo.axisPlacement){var n=0,i=0,l=n=null,r=(l=0<=this.zoomType.indexOf("x"),0<=this.zoomType.indexOf("y")),a=this;if("xySwapped"===this.plotInfo.axisPlacement&&(n=r,r=l,l=n),n=this.dragStartPoint.x-e,i=this.dragStartPoint.y-t,2<Math.abs(n)&&8>Math.abs(n)&&(this.panEnabled||this.zoomEnabled)?this.toolTip.hide():this.panEnabled||this.zoomEnabled||this.toolTip.mouseMoveHandler(e,t),(!l||2<Math.abs(n)||!r||2<Math.abs(i))&&(this.panEnabled||this.zoomEnabled))if(this.panEnabled)l={x1:l?this.plotArea.x1+n:this.plotArea.x1,y1:r?this.plotArea.y1+i:this.plotArea.y1,x2:l?this.plotArea.x2+n:this.plotArea.x2,y2:r?this.plotArea.y2+i:this.plotArea.y2},clearTimeout(a._panTimerId),a._panTimerId=setTimeout(function(n,i,l,r){return function(){a._zoomPanToSelectedRegion(n,i,l,r,!0)&&(a._dispatchRangeEvent("rangeChanging","pan"),a.render(),a._dispatchRangeEvent("rangeChanged","pan"),a.dragStartPoint.x=e,a.dragStartPoint.y=t)}}(l.x1,l.y1,l.x2,l.y2),0);else if(this.zoomEnabled){this.resetOverlayedCanvas(),n=this.overlaidCanvasCtx.globalAlpha,this.overlaidCanvasCtx.fillStyle="#A89896";var o=r?this.dragStartPoint.y:this.plotArea.y1,s=l?e-this.dragStartPoint.x:this.plotArea.x2-this.plotArea.x1,u=r?t-this.dragStartPoint.y:this.plotArea.y2-this.plotArea.y1;this.validateRegion(i=l?this.dragStartPoint.x:this.plotArea.x1,o,l?e:this.plotArea.x2-this.plotArea.x1,r?t:this.plotArea.y2-this.plotArea.y1,"xy"!==this.zoomType).isValid&&(this.resetOverlayedCanvas(),this.overlaidCanvasCtx.fillStyle="#99B2B5"),this.overlaidCanvasCtx.globalAlpha=.7,this.overlaidCanvasCtx.fillRect(i,o,s,u),this.overlaidCanvasCtx.globalAlpha=n}}else if(this.toolTip.mouseMoveHandler(e,t),"none"!==this.plotInfo.axisPlacement){if(this.axisX&&0<this.axisX.length)for(l=0;l<this.axisX.length;l++)this.axisX[l].crosshair&&this.axisX[l].crosshair.enabled&&this.axisX[l].renderCrosshair(e,t);if(this.axisX2&&0<this.axisX2.length)for(l=0;l<this.axisX2.length;l++)this.axisX2[l].crosshair&&this.axisX2[l].crosshair.enabled&&this.axisX2[l].renderCrosshair(e,t);if(this.axisY&&0<this.axisY.length)for(l=0;l<this.axisY.length;l++)this.axisY[l].crosshair&&this.axisY[l].crosshair.enabled&&this.axisY[l].renderCrosshair(e,t);if(this.axisY2&&0<this.axisY2.length)for(l=0;l<this.axisY2.length;l++)this.axisY2[l].crosshair&&this.axisY2[l].crosshair.enabled&&this.axisY2[l].renderCrosshair(e,t)}},t.prototype._zoomPanToSelectedRegion=function(e,t,n,i,l){if(t=(e=this.validateRegion(e,t,n,i,l)).axesWithValidRange,n=e.axesRanges,e.isValid)for(i=0;i<t.length;i++)t[i].setViewPortRange((l=n[i]).val1,l.val2),this.syncCharts&&this.syncCharts(l.val1,l.val2);return e.isValid},t.prototype.validateRegion=function(e,t,n,i,l){l=l||!1;for(var r=0<=this.zoomType.indexOf("x"),a=0<=this.zoomType.indexOf("y"),o=!1,s=[],u=[],c=[],h=0;h<this._axes.length;h++)("axisX"===this._axes[h].type&&r||"axisY"===this._axes[h].type&&a)&&u.push(this._axes[h]);for(a=0;a<u.length;a++){if(r=!1,(p=(h=u[a]).convertPixelToValue({x:e,y:t}))>(f=h.convertPixelToValue({x:n,y:i})))var d=f,f=p,p=d;if(h.scaleBreaks)for(d=0;!r&&d<h.scaleBreaks._appliedBreaks.length;d++)r=h.scaleBreaks._appliedBreaks[d].startValue<=p&&h.scaleBreaks._appliedBreaks[d].endValue>=f;if(isFinite(h.dataInfo.minDiff))if(d=h.getApparentDifference(p,f,null,!0),r||!(this.panEnabled&&h.scaleBreaks&&h.scaleBreaks._appliedBreaks.length)&&(h.logarithmic&&d<Math.pow(h.dataInfo.minDiff,3)||!h.logarithmic&&d<3*Math.abs(h.dataInfo.minDiff))||p<h.minimum||f>h.maximum){if(!l){o=!1;break}}else s.push(h),c.push({val1:p,val2:f}),o=!0}return{isValid:o,axesWithValidRange:s,axesRanges:c}},t.prototype.preparePlotArea=function(){var e=this.plotArea;if(!H&&(0<e.x1||0<e.y1)&&e.ctx.translate(e.x1,e.y1),(this.axisX[0]||this.axisX2[0])&&(this.axisY[0]||this.axisY2[0])){var t=this.axisX[0]?this.axisX[0].lineCoordinates:this.axisX2[0].lineCoordinates;if(this.axisY&&0<this.axisY.length&&this.axisY[0]){var n=this.axisY[0];e.x1=t.x1<t.x2?t.x1:n.lineCoordinates.x1,e.y1=t.y1<n.lineCoordinates.y1?t.y1:n.lineCoordinates.y1,e.x2=t.x2>n.lineCoordinates.x2?t.x2:n.lineCoordinates.x2,e.y2=t.y2>t.y1?t.y2:n.lineCoordinates.y2,e.width=e.x2-e.x1,e.height=e.y2-e.y1}this.axisY2&&0<this.axisY2.length&&this.axisY2[0]&&(n=this.axisY2[0],e.x1=t.x1<t.x2?t.x1:n.lineCoordinates.x1,e.y1=t.y1<n.lineCoordinates.y1?t.y1:n.lineCoordinates.y1,e.x2=t.x2>n.lineCoordinates.x2?t.x2:n.lineCoordinates.x2,e.y2=t.y2>t.y1?t.y2:n.lineCoordinates.y2,e.width=e.x2-e.x1,e.height=e.y2-e.y1)}else t=this.layoutManager.getFreeSpace(),e.x1=t.x1,e.x2=t.x2,e.y1=t.y1,e.y2=t.y2,e.width=t.width,e.height=t.height;H||(e.canvas.width=e.width,e.canvas.height=e.height,e.canvas.style.left=e.x1+"px",e.canvas.style.top=e.y1+"px",(0<e.x1||0<e.y1)&&e.ctx.translate(-e.x1,-e.y1)),e.layoutManager=new M(e.x1,e.y1,e.x2,e.y2,2)},t.prototype.renderIndexLabels=function(e){var t=e||this.plotArea.ctx,n=this.plotArea,i=0,l=0,r=0,a=0,o=i=a=l=r=0,s=0;for(e=0;e<this._indexLabels.length;e++){var u,c,h=this._indexLabels[e],f=h.chartType.toLowerCase();o=b("indexLabelFontColor",h.dataPoint,h.dataSeries),s=b("indexLabelFontSize",h.dataPoint,h.dataSeries),u=b("indexLabelFontFamily",h.dataPoint,h.dataSeries),c=b("indexLabelFontStyle",h.dataPoint,h.dataSeries),a=b("indexLabelFontWeight",h.dataPoint,h.dataSeries);var p=b("indexLabelBackgroundColor",h.dataPoint,h.dataSeries),v=(l=b("indexLabelMaxWidth",h.dataPoint,h.dataSeries),r=b("indexLabelWrap",h.dataPoint,h.dataSeries),b("indexLabelLineDashType",h.dataPoint,h.dataSeries)),m=b("indexLabelLineColor",h.dataPoint,h.dataSeries),y=d(h.dataPoint.indexLabelLineThickness)?d(h.dataSeries.options.indexLabelLineThickness)?0:h.dataSeries.options.indexLabelLineThickness:h.dataPoint.indexLabelLineThickness,k=(i=0<y?Math.min(10,("normal"===this.plotInfo.axisPlacement?this.plotArea.height:this.plotArea.width)<<0):0,{percent:null,total:null}),_=null;(0<=h.dataSeries.type.indexOf("stacked")||"pie"===h.dataSeries.type||"doughnut"===h.dataSeries.type)&&(k=this.getPercentAndTotal(h.dataSeries,h.dataPoint)),(h.dataSeries.indexLabelFormatter||h.dataPoint.indexLabelFormatter)&&(_={chart:this,dataSeries:h.dataSeries,dataPoint:h.dataPoint,index:h.indexKeyword,total:k.total,percent:k.percent});var w=h.dataPoint.indexLabelFormatter?h.dataPoint.indexLabelFormatter(_):h.dataPoint.indexLabel?this.replaceKeywordsWithValue(h.dataPoint.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):h.dataSeries.indexLabelFormatter?h.dataSeries.indexLabelFormatter(_):h.dataSeries.indexLabel?this.replaceKeywordsWithValue(h.dataSeries.indexLabel,h.dataPoint,h.dataSeries,null,h.indexKeyword):null;if(null!==w&&""!==w){k=b("indexLabelPlacement",h.dataPoint,h.dataSeries),_=b("indexLabelOrientation",h.dataPoint,h.dataSeries);var x=h.direction,C=h.dataSeries.axisX,S=h.dataSeries.axisY,T=!1;if((p=new A(t,{x:0,y:0,maxWidth:l||.5*this.width,maxHeight:r?5*s:1.5*s,angle:"horizontal"===_?0:-90,text:w,padding:0,backgroundColor:p,horizontalAlign:"left",fontSize:s,fontFamily:u,fontWeight:a,fontColor:o,fontStyle:c,textBaseline:"top"})).measureText(),h.dataSeries.indexLabelMaxWidth=p.maxWidth,"stackedarea100"===f){if(h.point.x<n.x1||h.point.x>n.x2||h.point.y<n.y1-1||h.point.y>n.y2+1)continue}else if("rangearea"===f||"rangesplinearea"===f){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<S.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>S.viewportMaximum)continue}else if(0<=f.indexOf("line")||0<=f.indexOf("area")||0<=f.indexOf("bubble")||0<=f.indexOf("scatter")){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||h.dataPoint.y<S.viewportMinimum||h.dataPoint.y>S.viewportMaximum)continue}else if(0<=f.indexOf("column")||"waterfall"===f||"error"===f&&!h.axisSwapped){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||h.bounds.y1>n.y2||h.bounds.y2<n.y1)continue}else if(0<=f.indexOf("bar")||"error"===f){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||h.bounds.x1>n.x2||h.bounds.x2<n.x1)continue}else if("candlestick"===f||"ohlc"===f){if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum||Math.max.apply(null,h.dataPoint.y)<S.viewportMinimum||Math.min.apply(null,h.dataPoint.y)>S.viewportMaximum)continue}else if(h.dataPoint.x<C.viewportMinimum||h.dataPoint.x>C.viewportMaximum)continue;l=a=2,"horizontal"===_?(o=p.width,s=p.height):(s=p.width,o=p.height),"normal"===this.plotInfo.axisPlacement?(0<=f.indexOf("line")||0<=f.indexOf("area")?(k="auto",a=4):0<=f.indexOf("stacked")?"auto"===k&&(k="inside"):"bubble"!==f&&"scatter"!==f||(k="inside"),u=h.point.x-o/2,"inside"!==k?(l=n.y1,r=n.y2,0<x?(c=h.point.y-s-a-i)<l&&(T=(c="auto"===k?Math.max(h.point.y,l)+a+i:l+a+i)+s>h.point.y):(c=h.point.y+a+i)>r-s-a-i&&(T=(c="auto"===k?Math.min(h.point.y,r)-s-a-i:r-s-a-i)<h.point.y)):(l=Math.max(h.bounds.y1,n.y1),r=Math.min(h.bounds.y2,n.y2),i=0<=f.indexOf("range")||"error"===f?0<x?Math.max(h.bounds.y1,n.y1)+s/2+a:Math.min(h.bounds.y2,n.y2)-s/2-a:(Math.max(h.bounds.y1,n.y1)+Math.min(h.bounds.y2,n.y2))/2,0<x?(c=Math.max(h.point.y,i)-s/2)<l&&("bubble"===f||"scatter"===f)&&(c=Math.max(h.point.y-s-a,n.y1+a)):(c=Math.min(h.point.y,i)-s/2)>r-s-a&&("bubble"===f||"scatter"===f)&&(c=Math.min(h.point.y+a,n.y2-s-a)),c=Math.min(c,r-s))):(0<=f.indexOf("line")||0<=f.indexOf("area")||0<=f.indexOf("scatter")?(k="auto",l=4):0<=f.indexOf("stacked")?"auto"===k&&(k="inside"):"bubble"===f&&(k="inside"),c=h.point.y-s/2,"inside"!==k?(a=n.x1,r=n.x2,0>x?(u=h.point.x-o-l-i)<a&&(T=(u="auto"===k?Math.max(h.point.x,a)+l+i:a+l+i)+o>h.point.x):(u=h.point.x+l+i)>r-o-l-i&&(T=(u="auto"===k?Math.min(h.point.x,r)-o-l-i:r-o-l-i)<h.point.x)):(a=Math.max(h.bounds.x1,n.x1),Math.min(h.bounds.x2,n.x2),i=0<=f.indexOf("range")||"error"===f?0>x?Math.max(h.bounds.x1,n.x1)+o/2+l:Math.min(h.bounds.x2,n.x2)-o/2-l:(Math.max(h.bounds.x1,n.x1)+Math.min(h.bounds.x2,n.x2))/2,u=0>x?Math.max(h.point.x,i)-o/2:Math.min(h.point.x,i)-o/2,u=Math.max(u,a))),"vertical"===_&&(c+=s),p.x=u,p.y=c,p.render(!0),y&&"inside"!==k&&(0>f.indexOf("bar")&&("error"!==f||!h.axisSwapped)&&h.point.x>n.x1&&h.point.x<n.x2||!T)&&(0>f.indexOf("column")&&("error"!==f||h.axisSwapped)&&h.point.y>n.y1&&h.point.y<n.y2||!T)&&(t.lineWidth=y,t.strokeStyle=m||"gray",t.setLineDash&&t.setLineDash(g(v,y)),t.beginPath(),t.moveTo(h.point.x,h.point.y),0<=f.indexOf("bar")||"error"===f&&h.axisSwapped?t.lineTo(u+(0<h.direction?0:o),c+("horizontal"===_?s:-s)/2):0<=f.indexOf("column")||"error"===f&&!h.axisSwapped?t.lineTo(u+o/2,c+((0<h.direction?s:-s)+("horizontal"===_?s:-s))/2):t.lineTo(u+o/2,c+((c<h.point.y?s:-s)+("horizontal"===_?s:-s))/2),t.stroke())}}for(t={source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0,startTimePercent:.7},e=0;e<this._indexLabels.length;e++)p=b("indexLabelBackgroundColor",(h=this._indexLabels[e]).dataPoint,h.dataSeries),h.dataSeries.indexLabelBackgroundColor=d(p)?H?"transparent":null:p;return t},t.prototype.renderLine=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var l=this.plotArea;n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip();for(var r,a=[],o=0;o<e.dataSeriesIndexes.length;o++){var s=e.dataSeriesIndexes[o],u=this.data[s];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var f=g(u.nullDataLineDashType,u.lineThickness),p=g(d=u.lineDashType,u.lineThickness);n.setLineDash(p)}this._eventManager.objectMap[v=u.id]={objectType:"dataSeries",dataSeriesIndex:s},v=c(v),i.strokeStyle=v,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var v=u._colorSet,m=v=u.lineColor=u.options.lineColor?u.options.lineColor:v[0];n.strokeStyle=v;var y,b,k=!0,_=0;if(n.beginPath(),0<h.length){var w=!1;for(_=0;_<h.length;_++)if(!((y=h[_].x.getTime?h[_].x.getTime():h[_].x)<e.axisX.dataInfo.viewPortMin||y>e.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!w)))if("number"!=typeof h[_].y)0<_&&!(u.connectNullData||w||k)&&(n.stroke(),H&&i.stroke()),w=!0;else{y=e.axisX.convertValueToPixel(y),b=e.axisY.convertValueToPixel(h[_].y);var x=u.dataPointIds[_];if(this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:_,x1:y,y1:b},k||w?(!k&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(r.x,r.y),d=u.nullDataLineDashType,n.setLineDash(f)),n.lineTo(y,b),H&&i.lineTo(y,b)):(n.beginPath(),n.moveTo(y,b),H&&(i.beginPath(),i.moveTo(y,b))),w=k=!1):(n.lineTo(y,b),H&&i.lineTo(y,b),0==_%500&&(n.stroke(),n.beginPath(),n.moveTo(y,b),H&&(i.stroke(),i.beginPath(),i.moveTo(y,b)))),r={x:y,y:b},_<h.length-1&&(m!==(h[_].lineColor||v)||d!==(h[_].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(y,b),n.strokeStyle=m=h[_].lineColor||v,n.setLineDash&&(h[_].lineDashType?n.setLineDash(g(d=h[_].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(p)))),0<h[_].markerSize||0<u.markerSize){var C=u.getMarkerProperties(_,y,b,n);a.push(C),x=c(x),H&&a.push({x:y,y:b,ctx:i,type:C.type,size:C.size,color:x,borderColor:x,borderThickness:C.borderThickness})}(h[_].indexLabel||u.indexLabel||h[_].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"line",dataPoint:h[_],dataSeries:u,point:{x:y,y:b},direction:0>h[_].y===e.axisY.reversed?1:-1,color:v})}n.stroke(),H&&i.stroke()}}return ee.drawMarkers(a),H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),i.beginPath()),n.restore(),n.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderStepLine=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i=this._eventManager.ghostCtx;n.save();var l=this.plotArea;n.beginPath(),n.rect(l.x1,l.y1,l.width,l.height),n.clip();for(var r,a=[],o=0;o<e.dataSeriesIndexes.length;o++){var s=e.dataSeriesIndexes[o],u=this.data[s];n.lineWidth=u.lineThickness;var h=u.dataPoints,d="solid";if(n.setLineDash){var f=g(u.nullDataLineDashType,u.lineThickness),p=g(d=u.lineDashType,u.lineThickness);n.setLineDash(p)}this._eventManager.objectMap[v=u.id]={objectType:"dataSeries",dataSeriesIndex:s},v=c(v),i.strokeStyle=v,i.lineWidth=0<u.lineThickness?Math.max(u.lineThickness,4):0;var v=u._colorSet,m=v=u.lineColor=u.options.lineColor?u.options.lineColor:v[0];n.strokeStyle=v;var y,b,k=!0,_=0;if(n.beginPath(),0<h.length){var w=!1;for(_=0;_<h.length;_++)if(!((y=h[_].getTime?h[_].x.getTime():h[_].x)<e.axisX.dataInfo.viewPortMin||y>e.axisX.dataInfo.viewPortMax&&(!u.connectNullData||!w)))if("number"!=typeof h[_].y)0<_&&!(u.connectNullData||w||k)&&(n.stroke(),H&&i.stroke()),w=!0;else{var x=b;y=e.axisX.convertValueToPixel(y),b=e.axisY.convertValueToPixel(h[_].y);var C=u.dataPointIds[_];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:_,x1:y,y1:b},k||w?(!k&&u.connectNullData?(n.setLineDash&&(u.options.nullDataLineDashType||d===u.lineDashType&&u.lineDashType!==u.nullDataLineDashType)&&(n.stroke(),n.beginPath(),n.moveTo(r.x,r.y),d=u.nullDataLineDashType,n.setLineDash(f)),n.lineTo(y,x),n.lineTo(y,b),H&&(i.lineTo(y,x),i.lineTo(y,b))):(n.beginPath(),n.moveTo(y,b),H&&(i.beginPath(),i.moveTo(y,b))),w=k=!1):(n.lineTo(y,x),H&&i.lineTo(y,x),n.lineTo(y,b),H&&i.lineTo(y,b),0==_%500&&(n.stroke(),n.beginPath(),n.moveTo(y,b),H&&(i.stroke(),i.beginPath(),i.moveTo(y,b)))),r={x:y,y:b},_<h.length-1&&(m!==(h[_].lineColor||v)||d!==(h[_].lineDashType||u.lineDashType))&&(n.stroke(),n.beginPath(),n.moveTo(y,b),n.strokeStyle=m=h[_].lineColor||v,n.setLineDash&&(h[_].lineDashType?n.setLineDash(g(d=h[_].lineDashType,u.lineThickness)):(d=u.lineDashType,n.setLineDash(p)))),(0<h[_].markerSize||0<u.markerSize)&&(x=u.getMarkerProperties(_,y,b,n),a.push(x),C=c(C),H&&a.push({x:y,y:b,ctx:i,type:x.type,size:x.size,color:C,borderColor:C,borderThickness:x.borderThickness})),(h[_].indexLabel||u.indexLabel||h[_].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepLine",dataPoint:h[_],dataSeries:u,point:{x:y,y:b},direction:0>h[_].y===e.axisY.reversed?1:-1,color:v})}n.stroke(),H&&i.stroke()}}return ee.drawMarkers(a),H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(l.x1,l.y1,l.width,l.height),i.beginPath()),n.restore(),n.beginPath(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderSpline=function(e){function t(e){if(0<(e=i(e,2)).length){l.beginPath(),H&&r.beginPath(),l.moveTo(e[0].x,e[0].y),e[0].newStrokeStyle&&(l.strokeStyle=e[0].newStrokeStyle),e[0].newLineDashArray&&l.setLineDash(e[0].newLineDashArray),H&&r.moveTo(e[0].x,e[0].y);for(var t=0;t<e.length-3;t+=3)l.bezierCurveTo(e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y,e[t+3].x,e[t+3].y),H&&r.bezierCurveTo(e[t+1].x,e[t+1].y,e[t+2].x,e[t+2].y,e[t+3].x,e[t+3].y),(0<t&&0==t%3e3||e[t+3].newStrokeStyle||e[t+3].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(e[t+3].x,e[t+3].y),e[t+3].newStrokeStyle&&(l.strokeStyle=e[t+3].newStrokeStyle),e[t+3].newLineDashArray&&l.setLineDash(e[t+3].newLineDashArray),H&&(r.stroke(),r.beginPath(),r.moveTo(e[t+3].x,e[t+3].y)));l.stroke(),H&&r.stroke()}}var n=e.targetCanvasCtx||this.plotArea.ctx,l=H?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx;l.save();var a=this.plotArea;l.beginPath(),l.rect(a.x1,a.y1,a.width,a.height),l.clip();for(var o=[],s=0;s<e.dataSeriesIndexes.length;s++){var u=e.dataSeriesIndexes[s],h=this.data[u];l.lineWidth=h.lineThickness;var d=h.dataPoints,f="solid";if(l.setLineDash){var p=g(h.nullDataLineDashType,h.lineThickness),v=g(f=h.lineDashType,h.lineThickness);l.setLineDash(v)}this._eventManager.objectMap[m=h.id]={objectType:"dataSeries",dataSeriesIndex:u},m=c(m),r.strokeStyle=m,r.lineWidth=0<h.lineThickness?Math.max(h.lineThickness,4):0;var m=h._colorSet,y=m=h.lineColor=h.options.lineColor?h.options.lineColor:m[0];l.strokeStyle=m;var b,k,_=0,w=[];if(l.beginPath(),0<d.length)for(k=!1,_=0;_<d.length;_++)if(!((b=d[_].getTime?d[_].x.getTime():d[_].x)<e.axisX.dataInfo.viewPortMin||b>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!k)))if("number"!=typeof d[_].y)0<_&&!k&&(h.connectNullData?l.setLineDash&&0<w.length&&(h.options.nullDataLineDashType||!d[_-1].lineDashType)&&(w[w.length-1].newLineDashArray=p,f=h.nullDataLineDashType):(t(w),w=[])),k=!0;else{b=e.axisX.convertValueToPixel(b),k=e.axisY.convertValueToPixel(d[_].y);var x=h.dataPointIds[_];if(this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:_,x1:b,y1:k},w[w.length]={x:b,y:k},_<d.length-1&&(y!==(d[_].lineColor||m)||f!==(d[_].lineDashType||h.lineDashType))&&(w[w.length-1].newStrokeStyle=y=d[_].lineColor||m,l.setLineDash&&(d[_].lineDashType?w[w.length-1].newLineDashArray=g(f=d[_].lineDashType,h.lineThickness):(f=h.lineDashType,w[w.length-1].newLineDashArray=v))),0<d[_].markerSize||0<h.markerSize){var C=h.getMarkerProperties(_,b,k,l);o.push(C),x=c(x),H&&o.push({x:b,y:k,ctx:r,type:C.type,size:C.size,color:x,borderColor:x,borderThickness:C.borderThickness})}(d[_].indexLabel||h.indexLabel||d[_].indexLabelFormatter||h.indexLabelFormatter)&&this._indexLabels.push({chartType:"spline",dataPoint:d[_],dataSeries:h,point:{x:b,y:k},direction:0>d[_].y===e.axisY.reversed?1:-1,color:m}),k=!1}t(w)}return ee.drawMarkers(o),H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&l.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&l.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(a.x1,a.y1,a.width,a.height),r.beginPath()),l.restore(),l.beginPath(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r,a=null,o=this.plotArea,s=0,u=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),h=(s=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0),d=e.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(e.axisX.range)),d=this.dataPointWidth=this.options.dataPointWidth?this.dataPointWidth:o.width*(e.axisX.logarithmic?Math.log(d)/Math.log(e.axisX.range):Math.abs(d)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&s>h&&(s=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<s&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,s)),d<s&&(d=s),d>h&&(d=h),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),h=0;h<e.dataSeriesIndexes.length;h++){var f=e.dataSeriesIndexes[h],p=this.data[f],v=p.dataPoints;if(0<v.length){var g=!!(5<d&&p.bevelEnabled);for(s=0;s<v.length;s++)if(!((r=v[s].getTime?v[s].x.getTime():v[s].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&"number"==typeof v[s].y){i=e.axisX.convertValueToPixel(r),l=e.axisY.convertValueToPixel(v[s].y),i=e.axisX.reversed?i+e.plotType.totalDataSeries*d/2-(e.previousDataSeriesCount+h)*d<<0:i-e.plotType.totalDataSeries*d/2+(e.previousDataSeriesCount+h)*d<<0;var m,y=e.axisX.reversed?i-d<<0:i+d<<0;0<=v[s].y?m=u:(m=l,l=u),l>m&&(a=l,l=m,m=a),he(n,i,l,y,m,a=v[s].color?v[s].color:p._colorSet[s%p._colorSet.length],0,null,g&&0<=v[s].y,0>v[s].y&&g,!1,!1,p.fillOpacity),this._eventManager.objectMap[a=p.dataPointIds[s]]={id:a,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:s,x1:i,y1:l,x2:y,y2:m},a=c(a),H&&he(this._eventManager.ghostCtx,i,l,y,m,a,0,null,!1,!1,!1,!1),(v[s].indexLabel||p.indexLabel||v[s].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"column",dataPoint:v[s],dataSeries:p,point:{x:i+(y-i)/2,y:0>v[s].y===e.axisY.reversed?l:m},direction:0>v[s].y===e.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(l,m),x2:y,y2:Math.max(l,m)},color:a})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.yScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:u<e.axisY.bounds.y1?e.axisY.bounds.y1:u>e.axisY.bounds.y2?e.axisY.bounds.y2:u}}},t.prototype.renderStackedColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r=null,a=this.plotArea,o=[],s=[],u=[],h=[],d=0,f=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var p=e.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(e.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:a.width*(e.axisX.logarithmic?Math.log(p)/Math.log(e.axisX.range):Math.abs(p)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),p<d&&(p=d),p>i&&(p=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var g=e.dataSeriesIndexes[v],m=this.data[g],y=m.dataPoints;if(0<y.length){var b=!!(5<p&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<y.length;d++)if(!((r=y[d].x.getTime?y[d].x.getTime():y[d].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){var k,_=(i=e.axisX.convertValueToPixel(r))-e.plotType.plotUnits.length*p/2+e.index*p<<0,w=_+p<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y)u[r]=y[d].y+(u[r]?u[r]:0),0<u[r]&&(l=e.axisY.convertValueToPixel(u[r]),k=void 0!==o[r]?o[r]:f,o[r]=l);else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[r]=y[d].y+(h[r]?h[r]:0),k=e.axisY.convertValueToPixel(h[r]),l=void 0!==s[r]?s[r]:f,s[r]=k;else if(l=e.axisY.convertValueToPixel(y[d].y),0<=y[d].y){var x=void 0!==o[r]?o[r]:0;o[r]=x+((k=f-x)-(l-=x))}else s[r]=(x=s[r]?s[r]:0)+((k=l+x)-(l=f+x));he(n,_,l,w,k,r=y[d].color?y[d].color:m._colorSet[d%m._colorSet.length],0,null,b&&0<=y[d].y,0>y[d].y&&b,!1,!1,m.fillOpacity),this._eventManager.objectMap[r=m.dataPointIds[d]]={id:r,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:_,y1:l,x2:w,y2:k},r=c(r),H&&he(this._eventManager.ghostCtx,_,l,w,k,r,0,null,!1,!1,!1,!1),(y[d].indexLabel||m.indexLabel||y[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn",dataPoint:y[d],dataSeries:m,point:{x:i,y:0<=y[d].y?l:k},direction:0>y[d].y===e.axisY.reversed?1:-1,bounds:{x1:_,y1:Math.min(l,k),x2:w,y2:Math.max(l,k)},color:r})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.yScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:f<e.axisY.bounds.y1?e.axisY.bounds.y1:f>e.axisY.bounds.y2?e.axisY.bounds.y2:f}}},t.prototype.renderStackedColumn100=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r=null,a=this.plotArea,o=[],s=[],u=[],h=[],d=0,f=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.width<<0;var p=e.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(e.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:a.width*(e.axisX.logarithmic?Math.log(p)/Math.log(e.axisX.range):Math.abs(p)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>i&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<d&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),p<d&&(p=d),p>i&&(p=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var g=e.dataSeriesIndexes[v],m=this.data[g],y=m.dataPoints;if(0<y.length){var b=!!(5<p&&m.bevelEnabled);for(d=0;d<y.length;d++)if(!((r=y[d].x.getTime?y[d].x.getTime():y[d].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){i=e.axisX.convertValueToPixel(r),l=0!==e.dataPointYSums[r]?y[d].y/e.dataPointYSums[r]*100:0;var k,_=i-e.plotType.plotUnits.length*p/2+e.index*p<<0,w=_+p<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y){if(u[r]=l+(void 0!==u[r]?u[r]:0),0>=u[r])continue;l=e.axisY.convertValueToPixel(u[r]),k=o[r]?o[r]:f,o[r]=l}else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[r]=l+(void 0!==h[r]?h[r]:0),k=e.axisY.convertValueToPixel(h[r]),l=s[r]?s[r]:f,s[r]=k;else if(l=e.axisY.convertValueToPixel(l),0<=y[d].y){var x=void 0!==o[r]?o[r]:0;l-=x,k=f-x,e.dataSeriesIndexes.length-1===v&&1>=Math.abs(a.y1-l)&&(l=a.y1),o[r]=x+(k-l)}else k=l+(x=void 0!==s[r]?s[r]:0),l=f+x,e.dataSeriesIndexes.length-1===v&&1>=Math.abs(a.y2-k)&&(k=a.y2),s[r]=x+(k-l);he(n,_,l,w,k,r=y[d].color?y[d].color:m._colorSet[d%m._colorSet.length],0,null,b&&0<=y[d].y,0>y[d].y&&b,!1,!1,m.fillOpacity),this._eventManager.objectMap[r=m.dataPointIds[d]]={id:r,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:_,y1:l,x2:w,y2:k},r=c(r),H&&he(this._eventManager.ghostCtx,_,l,w,k,r,0,null,!1,!1,!1,!1),(y[d].indexLabel||m.indexLabel||y[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedColumn100",dataPoint:y[d],dataSeries:m,point:{x:i,y:0<=y[d].y?l:k},direction:0>y[d].y===e.axisY.reversed?1:-1,bounds:{x1:_,y1:Math.min(l,k),x2:w,y2:Math.max(l,k)},color:r})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.yScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:f<e.axisY.bounds.y1?e.axisY.bounds.y1:f>e.axisY.bounds.y2?e.axisY.bounds.y2:f}}},t.prototype.renderBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r,a=null,o=this.plotArea,s=0,u=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),h=(s=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0),d=e.axisX.dataInfo.minDiff;for(isFinite(d)||(d=.3*Math.abs(e.axisX.range)),d=this.options.dataPointWidth?this.dataPointWidth:o.height*(e.axisX.logarithmic?Math.log(d)/Math.log(e.axisX.range):Math.abs(d)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&s>h&&(s=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,h)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&h<s&&(h=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,s)),d<s&&(d=s),d>h&&(d=h),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip()),h=0;h<e.dataSeriesIndexes.length;h++){var f=e.dataSeriesIndexes[h],p=this.data[f],v=p.dataPoints;if(0<v.length){var g=!!(5<d&&p.bevelEnabled);for(n.strokeStyle="#4572A7 ",s=0;s<v.length;s++)if(!((r=v[s].getTime?v[s].x.getTime():v[s].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&"number"==typeof v[s].y){l=e.axisX.convertValueToPixel(r),i=e.axisY.convertValueToPixel(v[s].y),l=e.axisX.reversed?l+e.plotType.totalDataSeries*d/2-(e.previousDataSeriesCount+h)*d<<0:l-e.plotType.totalDataSeries*d/2+(e.previousDataSeriesCount+h)*d<<0;var m,y=e.axisX.reversed?l-d<<0:l+d<<0;0<=v[s].y?m=u:(m=i,i=u),he(n,m,l,i,y,a=v[s].color?v[s].color:p._colorSet[s%p._colorSet.length],0,null,g,!1,!1,!1,p.fillOpacity),this._eventManager.objectMap[a=p.dataPointIds[s]]={id:a,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:s,x1:m,y1:l,x2:i,y2:y},a=c(a),H&&he(this._eventManager.ghostCtx,m,l,i,y,a,0,null,!1,!1,!1,!1),(v[s].indexLabel||p.indexLabel||v[s].indexLabelFormatter||p.indexLabelFormatter)&&this._indexLabels.push({chartType:"bar",dataPoint:v[s],dataSeries:p,point:{x:0<=v[s].y?i:m,y:l+(y-l)/2},direction:0>v[s].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(m,i),y1:l,x2:Math.max(m,i),y2:y},color:a})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.xScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:u<e.axisY.bounds.x1?e.axisY.bounds.x1:u>e.axisY.bounds.x2?e.axisY.bounds.x2:u}}},t.prototype.renderStackedBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r=null,a=this.plotArea,o=[],s=[],u=[],h=[],d=0,f=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var p=e.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(e.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:a.height*(e.axisX.logarithmic?Math.log(p)/Math.log(e.axisX.range):Math.abs(p)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),p<d&&(p=d),p>l&&(p=l),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var g=e.dataSeriesIndexes[v],m=this.data[g],y=m.dataPoints;if(0<y.length){var b=!!(5<p&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<y.length;d++)if(!((r=y[d].x.getTime?y[d].x.getTime():y[d].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){var k,_=(l=e.axisX.convertValueToPixel(r))-e.plotType.plotUnits.length*p/2+e.index*p<<0,w=_+p<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y)u[r]=y[d].y+(u[r]?u[r]:0),0<u[r]&&(k=o[r]?o[r]:f,o[r]=i=e.axisY.convertValueToPixel(u[r]));else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[r]=y[d].y+(h[r]?h[r]:0),i=s[r]?s[r]:f,s[r]=k=e.axisY.convertValueToPixel(h[r]);else if(i=e.axisY.convertValueToPixel(y[d].y),0<=y[d].y){var x=o[r]?o[r]:0;o[r]=x+((i+=x)-(k=f+x))}else k=i-(x=s[r]?s[r]:0),s[r]=x+((i=f-x)-k);he(n,k,_,i,w,r=y[d].color?y[d].color:m._colorSet[d%m._colorSet.length],0,null,b,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[r=m.dataPointIds[d]]={id:r,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:k,y1:_,x2:i,y2:w},r=c(r),H&&he(this._eventManager.ghostCtx,k,_,i,w,r,0,null,!1,!1,!1,!1),(y[d].indexLabel||m.indexLabel||y[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar",dataPoint:y[d],dataSeries:m,point:{x:0<=y[d].y?i:k,y:l},direction:0>y[d].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(k,i),y1:_,x2:Math.max(k,i),y2:w},color:r})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.xScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:f<e.axisY.bounds.x1?e.axisY.bounds.x1:f>e.axisY.bounds.x2?e.axisY.bounds.x2:f}}},t.prototype.renderStackedBar100=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r=null,a=this.plotArea,o=[],s=[],u=[],h=[],d=0,f=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);d=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.15*this.height<<0;var p=e.axisX.dataInfo.minDiff;isFinite(p)||(p=.3*Math.abs(e.axisX.range)),p=this.options.dataPointWidth?this.dataPointWidth:a.height*(e.axisX.logarithmic?Math.log(p)/Math.log(e.axisX.range):Math.abs(p)/Math.abs(e.axisX.range))/e.plotType.plotUnits.length*.9<<0,this.dataPointMaxWidth&&d>l&&(d=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<d&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,d)),p<d&&(p=d),p>l&&(p=l),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(a.x1,a.y1,a.width,a.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.clip());for(var v=0;v<e.dataSeriesIndexes.length;v++){var g=e.dataSeriesIndexes[v],m=this.data[g],y=m.dataPoints;if(0<y.length){var b=!!(5<p&&m.bevelEnabled);for(n.strokeStyle="#4572A7 ",d=0;d<y.length;d++)if(!((r=y[d].x.getTime?y[d].x.getTime():y[d].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&"number"==typeof y[d].y){var k;l=e.axisX.convertValueToPixel(r),k=0!==e.dataPointYSums[r]?y[d].y/e.dataPointYSums[r]*100:0;var _=l-e.plotType.plotUnits.length*p/2+e.index*p<<0,w=_+p<<0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0<y[d].y){if(u[r]=k+(u[r]?u[r]:0),0>=u[r])continue;k=o[r]?o[r]:f,o[r]=i=e.axisY.convertValueToPixel(u[r])}else if(e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length&&0>=y[d].y)h[r]=k+(h[r]?h[r]:0),i=s[r]?s[r]:f,s[r]=k=e.axisY.convertValueToPixel(h[r]);else if(i=e.axisY.convertValueToPixel(k),0<=y[d].y){var x=o[r]?o[r]:0;k=f+x,i+=x,e.dataSeriesIndexes.length-1===v&&1>=Math.abs(a.x2-i)&&(i=a.x2),o[r]=x+(i-k)}else k=i-(x=s[r]?s[r]:0),i=f-x,e.dataSeriesIndexes.length-1===v&&1>=Math.abs(a.x1-k)&&(k=a.x1),s[r]=x+(i-k);he(n,k,_,i,w,r=y[d].color?y[d].color:m._colorSet[d%m._colorSet.length],0,null,b,!1,!1,!1,m.fillOpacity),this._eventManager.objectMap[r=m.dataPointIds[d]]={id:r,objectType:"dataPoint",dataSeriesIndex:g,dataPointIndex:d,x1:k,y1:_,x2:i,y2:w},r=c(r),H&&he(this._eventManager.ghostCtx,k,_,i,w,r,0,null,!1,!1,!1,!1),(y[d].indexLabel||m.indexLabel||y[d].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedBar100",dataPoint:y[d],dataSeries:m,point:{x:0<=y[d].y?i:k,y:l},direction:0>y[d].y===e.axisY.reversed?1:-1,bounds:{x1:Math.min(k,i),y1:_,x2:Math.max(k,i),y2:w},color:r})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.xScaleAnimation,easingFunction:Z.easing.easeOutQuart,animationBase:f<e.axisY.bounds.x1?e.axisY.bounds.x1:f>e.axisY.bounds.x2?e.axisY.bounds.x2:f}}},t.prototype.renderArea=function(e){var t,n;function i(){C&&(0<v.lineThickness&&r.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?_=x:0>e.axisY.viewportMaximum?_=u.y1:0<e.axisY.viewportMinimum&&(_=s.y2),r.lineTo(y,_),r.lineTo(C.x,_),r.closePath(),r.globalAlpha=v.fillOpacity,r.fill(),r.globalAlpha=1,H&&(o.lineTo(y,_),o.lineTo(C.x,_),o.closePath(),o.fill()),r.beginPath(),r.moveTo(y,b),o.beginPath(),o.moveTo(y,b),C={x:y,y:b})}var l=e.targetCanvasCtx||this.plotArea.ctx,r=H?this._preRenderCtx:l;if(!(0>=e.dataSeriesIndexes.length)){var a,o=this._eventManager.ghostCtx,s=e.axisX.lineCoordinates,u=e.axisY.lineCoordinates,h=[],d=this.plotArea;r.save(),H&&o.save(),r.beginPath(),r.rect(d.x1,d.y1,d.width,d.height),r.clip(),H&&(o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip());for(var f=0;f<e.dataSeriesIndexes.length;f++){var p=e.dataSeriesIndexes[f],v=this.data[p],m=v.dataPoints;this._eventManager.objectMap[h=v.id]={objectType:"dataSeries",dataSeriesIndex:p},h=c(h),o.fillStyle=h,h=[],t=!0;var y,b,k,_,w=0,x=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),C=null;if(0<m.length){var S=v._colorSet[w%v._colorSet.length],T=v.lineColor=v.options.lineColor||S,P=T;if(r.fillStyle=S,r.strokeStyle=T,r.lineWidth=v.lineThickness,n="solid",r.setLineDash){var M=g(v.nullDataLineDashType,v.lineThickness),A=g(n=v.lineDashType,v.lineThickness);r.setLineDash(A)}for(var I=!0;w<m.length;w++)if(!((k=m[w].x.getTime?m[w].x.getTime():m[w].x)<e.axisX.dataInfo.viewPortMin||k>e.axisX.dataInfo.viewPortMax&&(!v.connectNullData||!I)))if("number"!=typeof m[w].y)v.connectNullData||I||t||i(),I=!0;else{y=e.axisX.convertValueToPixel(k),b=e.axisY.convertValueToPixel(m[w].y),t||I?(!t&&v.connectNullData?(r.setLineDash&&(v.options.nullDataLineDashType||n===v.lineDashType&&v.lineDashType!==v.nullDataLineDashType)&&(t=y,n=b,y=a.x,b=a.y,i(),r.moveTo(a.x,a.y),y=t,b=n,C=a,n=v.nullDataLineDashType,r.setLineDash(M)),r.lineTo(y,b),H&&o.lineTo(y,b)):(r.beginPath(),r.moveTo(y,b),H&&(o.beginPath(),o.moveTo(y,b)),C={x:y,y:b}),I=t=!1):(r.lineTo(y,b),H&&o.lineTo(y,b),0==w%250&&i()),a={x:y,y:b},w<m.length-1&&(P!==(m[w].lineColor||T)||n!==(m[w].lineDashType||v.lineDashType))&&(i(),r.strokeStyle=P=m[w].lineColor||T,r.setLineDash&&(m[w].lineDashType?r.setLineDash(g(n=m[w].lineDashType,v.lineThickness)):(n=v.lineDashType,r.setLineDash(A))));var E=v.dataPointIds[w];this._eventManager.objectMap[E]={id:E,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:w,x1:y,y1:b},0!==m[w].markerSize&&(0<m[w].markerSize||0<v.markerSize)&&(k=v.getMarkerProperties(w,y,b,r),h.push(k),E=c(E),H&&h.push({x:y,y:b,ctx:o,type:k.type,size:k.size,color:E,borderColor:E,borderThickness:k.borderThickness})),(m[w].indexLabel||v.indexLabel||m[w].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"area",dataPoint:m[w],dataSeries:v,point:{x:y,y:b},direction:0>m[w].y===e.axisY.reversed?1:-1,color:S})}i(),ee.drawMarkers(h)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&r.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&r.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderSplineArea=function(e){function t(){var t=i(w,2);if(0<t.length){if(0<f.lineThickness){l.beginPath(),l.moveTo(t[0].x,t[0].y),t[0].newStrokeStyle&&(l.strokeStyle=t[0].newStrokeStyle),t[0].newLineDashArray&&l.setLineDash(t[0].newLineDashArray);for(var n=0;n<t.length-3;n+=3)l.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y),H&&r.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y),(t[n+3].newStrokeStyle||t[n+3].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(t[n+3].x,t[n+3].y),t[n+3].newStrokeStyle&&(l.strokeStyle=t[n+3].newStrokeStyle),t[n+3].newLineDashArray&&l.setLineDash(t[n+3].newLineDashArray));l.stroke()}for(l.beginPath(),l.moveTo(t[0].x,t[0].y),H&&(r.beginPath(),r.moveTo(t[0].x,t[0].y)),n=0;n<t.length-3;n+=3)l.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y),H&&r.bezierCurveTo(t[n+1].x,t[n+1].y,t[n+2].x,t[n+2].y,t[n+3].x,t[n+3].y);e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?y=k:0>e.axisY.viewportMaximum?y=o.y1:0<e.axisY.viewportMinimum&&(y=a.y2),_={x:t[0].x,y:t[0].y},l.lineTo(t[t.length-1].x,y),l.lineTo(_.x,y),l.closePath(),l.globalAlpha=f.fillOpacity,l.fill(),l.globalAlpha=1,H&&(r.lineTo(t[t.length-1].x,y),r.lineTo(_.x,y),r.closePath(),r.fill())}}var n=e.targetCanvasCtx||this.plotArea.ctx,l=H?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,a=e.axisX.lineCoordinates,o=e.axisY.lineCoordinates,s=[],u=this.plotArea;l.save(),H&&r.save(),l.beginPath(),l.rect(u.x1,u.y1,u.width,u.height),l.clip(),H&&(r.beginPath(),r.rect(u.x1,u.y1,u.width,u.height),r.clip());for(var h=0;h<e.dataSeriesIndexes.length;h++){var d=e.dataSeriesIndexes[h],f=this.data[d],p=f.dataPoints;this._eventManager.objectMap[s=f.id]={objectType:"dataSeries",dataSeriesIndex:d},s=c(s),r.fillStyle=s,s=[];var v,m,y,b=0,k=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),_=null,w=[];if(0<p.length){var x=f._colorSet[b%f._colorSet.length],C=f.lineColor=f.options.lineColor||x,S=C;l.fillStyle=x,l.strokeStyle=C,l.lineWidth=f.lineThickness;var T="solid";if(l.setLineDash){var P=g(f.nullDataLineDashType,f.lineThickness),M=g(T=f.lineDashType,f.lineThickness);l.setLineDash(M)}for(m=!1;b<p.length;b++)if(!((v=p[b].x.getTime?p[b].x.getTime():p[b].x)<e.axisX.dataInfo.viewPortMin||v>e.axisX.dataInfo.viewPortMax&&(!f.connectNullData||!m)))if("number"!=typeof p[b].y)0<b&&!m&&(f.connectNullData?l.setLineDash&&0<w.length&&(f.options.nullDataLineDashType||!p[b-1].lineDashType)&&(w[w.length-1].newLineDashArray=P,T=f.nullDataLineDashType):(t(),w=[])),m=!0;else{v=e.axisX.convertValueToPixel(v),m=e.axisY.convertValueToPixel(p[b].y);var A=f.dataPointIds[b];if(this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:d,dataPointIndex:b,x1:v,y1:m},w[w.length]={x:v,y:m},b<p.length-1&&(S!==(p[b].lineColor||C)||T!==(p[b].lineDashType||f.lineDashType))&&(w[w.length-1].newStrokeStyle=S=p[b].lineColor||C,l.setLineDash&&(p[b].lineDashType?w[w.length-1].newLineDashArray=g(T=p[b].lineDashType,f.lineThickness):(T=f.lineDashType,w[w.length-1].newLineDashArray=M))),0!==p[b].markerSize&&(0<p[b].markerSize||0<f.markerSize)){var I=f.getMarkerProperties(b,v,m,l);s.push(I),A=c(A),H&&s.push({x:v,y:m,ctx:r,type:I.type,size:I.size,color:A,borderColor:A,borderThickness:I.borderThickness})}(p[b].indexLabel||f.indexLabel||p[b].indexLabelFormatter||f.indexLabelFormatter)&&this._indexLabels.push({chartType:"splineArea",dataPoint:p[b],dataSeries:f,point:{x:v,y:m},direction:0>p[b].y===e.axisY.reversed?1:-1,color:x}),m=!1}t(),ee.drawMarkers(s)}}return H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&l.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&l.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderStepArea=function(e){var t,n;function i(){C&&(0<v.lineThickness&&r.stroke(),e.axisY.logarithmic||0>=e.axisY.viewportMinimum&&0<=e.axisY.viewportMaximum?_=x:0>e.axisY.viewportMaximum?_=u.y1:0<e.axisY.viewportMinimum&&(_=s.y2),r.lineTo(y,_),r.lineTo(C.x,_),r.closePath(),r.globalAlpha=v.fillOpacity,r.fill(),r.globalAlpha=1,H&&(o.lineTo(y,_),o.lineTo(C.x,_),o.closePath(),o.fill()),r.beginPath(),r.moveTo(y,b),o.beginPath(),o.moveTo(y,b),C={x:y,y:b})}var l=e.targetCanvasCtx||this.plotArea.ctx,r=H?this._preRenderCtx:l;if(!(0>=e.dataSeriesIndexes.length)){var a,o=this._eventManager.ghostCtx,s=e.axisX.lineCoordinates,u=e.axisY.lineCoordinates,h=[],d=this.plotArea;r.save(),H&&o.save(),r.beginPath(),r.rect(d.x1,d.y1,d.width,d.height),r.clip(),H&&(o.beginPath(),o.rect(d.x1,d.y1,d.width,d.height),o.clip());for(var f=0;f<e.dataSeriesIndexes.length;f++){var p=e.dataSeriesIndexes[f],v=this.data[p],m=v.dataPoints;this._eventManager.objectMap[h=v.id]={objectType:"dataSeries",dataSeriesIndex:p},h=c(h),o.fillStyle=h,h=[],t=!0;var y,b,k,_,w=0,x=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),C=null;if(n=!1,0<m.length){var S=v._colorSet[w%v._colorSet.length],T=v.lineColor=v.options.lineColor||S,P=T;r.fillStyle=S,r.strokeStyle=T,r.lineWidth=v.lineThickness;var M="solid";if(r.setLineDash){var A=g(v.nullDataLineDashType,v.lineThickness),I=g(M=v.lineDashType,v.lineThickness);r.setLineDash(I)}for(;w<m.length;w++)if(!((k=m[w].x.getTime?m[w].x.getTime():m[w].x)<e.axisX.dataInfo.viewPortMin||k>e.axisX.dataInfo.viewPortMax&&(!v.connectNullData||!n))){var E=b;"number"!=typeof m[w].y?(v.connectNullData||n||t||i(),n=!0):(y=e.axisX.convertValueToPixel(k),b=e.axisY.convertValueToPixel(m[w].y),t||n?(!t&&v.connectNullData?(r.setLineDash&&(v.options.nullDataLineDashType||M===v.lineDashType&&v.lineDashType!==v.nullDataLineDashType)&&(t=y,n=b,y=a.x,b=a.y,i(),r.moveTo(a.x,a.y),y=t,b=n,C=a,M=v.nullDataLineDashType,r.setLineDash(A)),r.lineTo(y,E),r.lineTo(y,b),H&&(o.lineTo(y,E),o.lineTo(y,b))):(r.beginPath(),r.moveTo(y,b),H&&(o.beginPath(),o.moveTo(y,b)),C={x:y,y:b}),n=t=!1):(r.lineTo(y,E),H&&o.lineTo(y,E),r.lineTo(y,b),H&&o.lineTo(y,b),0==w%250&&i()),a={x:y,y:b},w<m.length-1&&(P!==(m[w].lineColor||T)||M!==(m[w].lineDashType||v.lineDashType))&&(i(),r.strokeStyle=P=m[w].lineColor||T,r.setLineDash&&(m[w].lineDashType?r.setLineDash(g(M=m[w].lineDashType,v.lineThickness)):(M=v.lineDashType,r.setLineDash(I)))),this._eventManager.objectMap[k=v.dataPointIds[w]]={id:k,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:w,x1:y,y1:b},0!==m[w].markerSize&&(0<m[w].markerSize||0<v.markerSize)&&(E=v.getMarkerProperties(w,y,b,r),h.push(E),k=c(k),H&&h.push({x:y,y:b,ctx:o,type:E.type,size:E.size,color:k,borderColor:k,borderThickness:E.borderThickness})),(m[w].indexLabel||v.indexLabel||m[w].indexLabelFormatter||v.indexLabelFormatter)&&this._indexLabels.push({chartType:"stepArea",dataPoint:m[w],dataSeries:v,point:{x:y,y:b},direction:0>m[w].y===e.axisY.reversed?1:-1,color:S}))}i(),ee.drawMarkers(h)}}return H&&(l.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&r.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&r.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),r.clearRect(d.x1,d.y1,d.width,d.height),this._eventManager.ghostCtx.restore()),r.restore(),{source:l,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderStackedArea=function(e){function t(){if(!(1>m.length)){for(0<S.lineThickness&&i.stroke();0<m.length;){var e=m.pop();i.lineTo(e.x,e.y),H&&w.lineTo(e.x,e.y)}i.closePath(),i.globalAlpha=S.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),H&&(w.closePath(),w.fill(),w.beginPath()),m=[]}}var n=e.targetCanvasCtx||this.plotArea.ctx,i=H?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var l,r,a,o,u,h=null,d=null,f=[],p=this.plotArea,v=[],m=[],y=[],b=[],k=0,_=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;H&&w.beginPath(),i.save(),H&&w.save(),i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip(),H&&(w.beginPath(),w.rect(p.x1,p.y1,p.width,p.height),w.clip()),h=[];for(var x=0;x<e.dataSeriesIndexes.length;x++){var C=e.dataSeriesIndexes[x],S=this.data[C],T=S.dataPoints;for(S.dataPointIndexes=[],k=0;k<T.length;k++)C=T[k].x.getTime?T[k].x.getTime():T[k].x,S.dataPointIndexes[C]=k,h[C]||(y.push(C),h[C]=!0);y.sort(s)}for(x=0;x<e.dataSeriesIndexes.length;x++){if(T=(S=this.data[C=e.dataSeriesIndexes[x]]).dataPoints,o=!0,m=[],this._eventManager.objectMap[k=S.id]={objectType:"dataSeries",dataSeriesIndex:C},k=c(k),w.fillStyle=k,0<y.length){h=S._colorSet[0];var P=S.lineColor=S.options.lineColor||h,M=P;if(i.fillStyle=h,i.strokeStyle=P,i.lineWidth=S.lineThickness,u="solid",i.setLineDash){var A=g(S.nullDataLineDashType,S.lineThickness),I=g(u=S.lineDashType,S.lineThickness);i.setLineDash(I)}var E=!0;for(k=0;k<y.length;k++){var D=0<=S.dataPointIndexes[d=y[k]]?T[S.dataPointIndexes[d]]:{x:d,y:null};if(!(d<e.axisX.dataInfo.viewPortMin||d>e.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!E)))if("number"!=typeof D.y)S.connectNullData||E||o||t(),E=!0;else{l=e.axisX.convertValueToPixel(d);var O=v[d]?v[d]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(b[d]=D.y+(b[d]?b[d]:0),0>=b[d]&&e.axisY.logarithmic)continue;r=e.axisY.convertValueToPixel(b[d])}else r=e.axisY.convertValueToPixel(D.y),r-=O;if(m.push({x:l,y:_-O}),v[d]=_-r,o||E?(!o&&S.connectNullData?(i.setLineDash&&(S.options.nullDataLineDashType||u===S.lineDashType&&S.lineDashType!==S.nullDataLineDashType)&&(o=m.pop(),u=m[m.length-1],t(),i.moveTo(a.x,a.y),m.push(u),m.push(o),u=S.nullDataLineDashType,i.setLineDash(A)),i.lineTo(l,r),H&&w.lineTo(l,r)):(i.beginPath(),i.moveTo(l,r),H&&(w.beginPath(),w.moveTo(l,r))),E=o=!1):(i.lineTo(l,r),H&&w.lineTo(l,r),0==k%250&&(t(),i.moveTo(l,r),H&&w.moveTo(l,r),m.push({x:l,y:_-O}))),a={x:l,y:r},k<T.length-1&&(M!==(T[k].lineColor||P)||u!==(T[k].lineDashType||S.lineDashType))&&(t(),i.beginPath(),i.moveTo(l,r),m.push({x:l,y:_-O}),i.strokeStyle=M=T[k].lineColor||P,i.setLineDash&&(T[k].lineDashType?i.setLineDash(g(u=T[k].lineDashType,S.lineThickness)):(u=S.lineDashType,i.setLineDash(I)))),0<=S.dataPointIndexes[d]){var F=S.dataPointIds[S.dataPointIndexes[d]];this._eventManager.objectMap[F]={id:F,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:S.dataPointIndexes[d],x1:l,y1:r}}0<=S.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<S.markerSize)&&(O=S.getMarkerProperties(S.dataPointIndexes[d],l,r,i),f.push(O),d=c(F),H&&f.push({x:l,y:r,ctx:w,type:O.type,size:O.size,color:d,borderColor:d,borderThickness:O.borderThickness})),(D.indexLabel||S.indexLabel||D.indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea",dataPoint:D,dataSeries:S,point:{x:l,y:r},direction:0>T[k].y===e.axisY.reversed?1:-1,color:h})}}t(),i.moveTo(l,r),H&&w.moveTo(l,r)}delete S.dataPointIndexes}return ee.drawMarkers(f),H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(p.x1,p.y1,p.width,p.height),w.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderStackedArea100=function(e){function t(){for(0<S.lineThickness&&i.stroke();0<m.length;){var e=m.pop();i.lineTo(e.x,e.y),H&&w.lineTo(e.x,e.y)}i.closePath(),i.globalAlpha=S.fillOpacity,i.fill(),i.globalAlpha=1,i.beginPath(),H&&(w.closePath(),w.fill(),w.beginPath()),m=[]}var n=e.targetCanvasCtx||this.plotArea.ctx,i=H?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var l,r,a,o,u,h=null,d=null,f=this.plotArea,p=[],v=[],m=[],y=[],b=[],k=0,_=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0),w=this._eventManager.ghostCtx;i.save(),H&&w.save(),i.beginPath(),i.rect(f.x1,f.y1,f.width,f.height),i.clip(),H&&(w.beginPath(),w.rect(f.x1,f.y1,f.width,f.height),w.clip()),h=[];for(var x=0;x<e.dataSeriesIndexes.length;x++){var C=e.dataSeriesIndexes[x],S=this.data[C],T=S.dataPoints;for(S.dataPointIndexes=[],k=0;k<T.length;k++)C=T[k].x.getTime?T[k].x.getTime():T[k].x,S.dataPointIndexes[C]=k,h[C]||(y.push(C),h[C]=!0);y.sort(s)}for(x=0;x<e.dataSeriesIndexes.length;x++){if(T=(S=this.data[C=e.dataSeriesIndexes[x]]).dataPoints,o=!0,this._eventManager.objectMap[h=S.id]={objectType:"dataSeries",dataSeriesIndex:C},h=c(h),w.fillStyle=h,m=[],0<y.length){h=S._colorSet[k%S._colorSet.length];var P=S.lineColor=S.options.lineColor||h,M=P;if(i.fillStyle=h,i.strokeStyle=P,i.lineWidth=S.lineThickness,u="solid",i.setLineDash){var A=g(S.nullDataLineDashType,S.lineThickness),I=g(u=S.lineDashType,S.lineThickness);i.setLineDash(I)}var E=!0;for(k=0;k<y.length;k++){var D=0<=S.dataPointIndexes[d=y[k]]?T[S.dataPointIndexes[d]]:{x:d,y:null};if(!(d<e.axisX.dataInfo.viewPortMin||d>e.axisX.dataInfo.viewPortMax&&(!S.connectNullData||!E)))if("number"!=typeof D.y)S.connectNullData||E||o||t(),E=!0;else{var O;O=0!==e.dataPointYSums[d]?D.y/e.dataPointYSums[d]*100:0,l=e.axisX.convertValueToPixel(d);var F=v[d]?v[d]:0;if(e.axisY.logarithmic||e.axisY.scaleBreaks&&0<e.axisY.scaleBreaks._appliedBreaks.length){if(b[d]=O+(b[d]?b[d]:0),0>=b[d]&&e.axisY.logarithmic)continue;r=e.axisY.convertValueToPixel(b[d])}else r=e.axisY.convertValueToPixel(O),r-=F;if(m.push({x:l,y:_-F}),v[d]=_-r,o||E?(!o&&S.connectNullData?(i.setLineDash&&(S.options.nullDataLineDashType||u===S.lineDashType&&S.lineDashType!==S.nullDataLineDashType)&&(o=m.pop(),u=m[m.length-1],t(),i.moveTo(a.x,a.y),m.push(u),m.push(o),u=S.nullDataLineDashType,i.setLineDash(A)),i.lineTo(l,r),H&&w.lineTo(l,r)):(i.beginPath(),i.moveTo(l,r),H&&(w.beginPath(),w.moveTo(l,r))),E=o=!1):(i.lineTo(l,r),H&&w.lineTo(l,r),0==k%250&&(t(),i.moveTo(l,r),H&&w.moveTo(l,r),m.push({x:l,y:_-F}))),a={x:l,y:r},k<T.length-1&&(M!==(T[k].lineColor||P)||u!==(T[k].lineDashType||S.lineDashType))&&(t(),i.beginPath(),i.moveTo(l,r),m.push({x:l,y:_-F}),i.strokeStyle=M=T[k].lineColor||P,i.setLineDash&&(T[k].lineDashType?i.setLineDash(g(u=T[k].lineDashType,S.lineThickness)):(u=S.lineDashType,i.setLineDash(I)))),0<=S.dataPointIndexes[d]){var R=S.dataPointIds[S.dataPointIndexes[d]];this._eventManager.objectMap[R]={id:R,objectType:"dataPoint",dataSeriesIndex:C,dataPointIndex:S.dataPointIndexes[d],x1:l,y1:r}}0<=S.dataPointIndexes[d]&&0!==D.markerSize&&(0<D.markerSize||0<S.markerSize)&&(F=S.getMarkerProperties(k,l,r,i),p.push(F),d=c(R),H&&p.push({x:l,y:r,ctx:w,type:F.type,size:F.size,color:d,borderColor:d,borderThickness:F.borderThickness})),(D.indexLabel||S.indexLabel||D.indexLabelFormatter||S.indexLabelFormatter)&&this._indexLabels.push({chartType:"stackedArea100",dataPoint:D,dataSeries:S,point:{x:l,y:r},direction:0>T[k].y===e.axisY.reversed?1:-1,color:h})}}t(),i.moveTo(l,r),H&&w.moveTo(l,r)}delete S.dataPointIndexes}return ee.drawMarkers(p),H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(f.x1,f.y1,f.width,f.height),w.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderBubble=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r=this.plotArea,a=0;n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var o=-1/0,s=1/0,u=0;u<e.dataSeriesIndexes.length;u++){var h=e.dataSeriesIndexes[u],d=this.data[h],f=d.dataPoints,p=0;for(a=0;a<f.length;a++)(i=i=f[a].getTime?f[a].x.getTime():f[a].x)<e.axisX.dataInfo.viewPortMin||i>e.axisX.dataInfo.viewPortMax||void 0===f[a].z||((p=f[a].z)>o&&(o=p),p<s&&(s=p))}var v=25*Math.PI,g=Math.max(Math.pow(.25*Math.min(r.height,r.width)/2,2)*Math.PI,v);for(u=0;u<e.dataSeriesIndexes.length;u++)if(0<(f=(d=this.data[h=e.dataSeriesIndexes[u]]).dataPoints).length)for(n.strokeStyle="#4572A7 ",a=0;a<f.length;a++)if(!((i=i=f[a].getTime?f[a].x.getTime():f[a].x)<e.axisX.dataInfo.viewPortMin||i>e.axisX.dataInfo.viewPortMax)&&"number"==typeof f[a].y){i=e.axisX.convertValueToPixel(i),l=e.axisY.convertValueToPixel(f[a].y),p=f[a].z;var m=2*Math.max(Math.sqrt((o===s?g/2:v+(g-v)/(o-s)*(p-s))/Math.PI)<<0,1);(p=d.getMarkerProperties(a,n)).size=m,n.globalAlpha=d.fillOpacity,ee.drawMarker(i,l,n,p.type,p.size,p.color,p.borderColor,p.borderThickness),n.globalAlpha=1;var y=d.dataPointIds[a];this._eventManager.objectMap[y]={id:y,objectType:"dataPoint",dataSeriesIndex:h,dataPointIndex:a,x1:i,y1:l,size:m},m=c(y),H&&ee.drawMarker(i,l,this._eventManager.ghostCtx,p.type,p.size,m,m,p.borderThickness),(f[a].indexLabel||d.indexLabel||f[a].indexLabelFormatter||d.indexLabelFormatter)&&this._indexLabels.push({chartType:"bubble",dataPoint:f[a],dataSeries:d,point:{x:i,y:l},direction:1,bounds:{x1:i-p.size/2,y1:l-p.size/2,x2:i+p.size/2,y2:l+p.size/2},color:null})}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderScatter=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r=this.plotArea,a=0;n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(r.x1,r.y1,r.width,r.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.clip());for(var o=0;o<e.dataSeriesIndexes.length;o++){var s=e.dataSeriesIndexes[o],u=this.data[s],h=u.dataPoints;if(0<h.length){n.strokeStyle="#4572A7 ",Math.pow(.3*Math.min(r.height,r.width)/2,2);var d=0,f=0;for(a=0;a<h.length;a++)if(!((i=i=h[a].getTime?h[a].x.getTime():h[a].x)<e.axisX.dataInfo.viewPortMin||i>e.axisX.dataInfo.viewPortMax)&&"number"==typeof h[a].y){i=e.axisX.convertValueToPixel(i),l=e.axisY.convertValueToPixel(h[a].y);var p=u.getMarkerProperties(a,i,l,n);n.globalAlpha=u.fillOpacity,ee.drawMarker(p.x,p.y,p.ctx,p.type,p.size,p.color,p.borderColor,p.borderThickness),n.globalAlpha=1,Math.sqrt((d-i)*(d-i)+(f-l)*(f-l))<Math.min(p.size,5)&&h.length>Math.min(this.plotArea.width,this.plotArea.height)||(this._eventManager.objectMap[d=u.dataPointIds[a]]={id:d,objectType:"dataPoint",dataSeriesIndex:s,dataPointIndex:a,x1:i,y1:l},d=c(d),H&&ee.drawMarker(p.x,p.y,this._eventManager.ghostCtx,p.type,p.size,d,d,p.borderThickness),(h[a].indexLabel||u.indexLabel||h[a].indexLabelFormatter||u.indexLabelFormatter)&&this._indexLabels.push({chartType:"scatter",dataPoint:h[a],dataSeries:u,point:{x:i,y:l},direction:1,bounds:{x1:i-p.size/2,y1:l-p.size/2,x2:i+p.size/2,y2:l+p.size/2},color:null}),d=i,f=l)}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(r.x1,r.y1,r.width,r.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderCandlestick=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t,i=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var l,r,a,o,s,u,h=null,f=null,p=this.plotArea,v=0,g=(h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,f=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,e.axisX.dataInfo.minDiff);isFinite(g)||(g=.3*Math.abs(e.axisX.range)),g=this.options.dataPointWidth?this.dataPointWidth:.7*p.width*(e.axisX.logarithmic?Math.log(g)/Math.log(e.axisX.range):Math.abs(g)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&h>f&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,f)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&f<h&&(f=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),g<h&&(g=h),g>f&&(g=f),n.save(),H&&i.save(),n.beginPath(),n.rect(p.x1,p.y1,p.width,p.height),n.clip(),H&&(i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip());for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m],b=this.data[y],k=b.dataPoints;if(0<k.length){var _=!!(5<g&&b.bevelEnabled);for(v=0;v<k.length;v++)if(!((u=k[v].getTime?k[v].x.getTime():k[v].x)<e.axisX.dataInfo.viewPortMin||u>e.axisX.dataInfo.viewPortMax)&&!d(k[v].y)&&k[v].y.length&&"number"==typeof k[v].y[0]&&"number"==typeof k[v].y[1]&&"number"==typeof k[v].y[2]&&"number"==typeof k[v].y[3]){l=e.axisX.convertValueToPixel(u),r=e.axisY.convertValueToPixel(k[v].y[0]),a=e.axisY.convertValueToPixel(k[v].y[1]),o=e.axisY.convertValueToPixel(k[v].y[2]),s=e.axisY.convertValueToPixel(k[v].y[3]);var w=l-g/2<<0,x=w+g<<0,C=(f=b.options.fallingColor?b.fallingColor:b._colorSet[0],h=k[v].color?k[v].color:b._colorSet[0],Math.round(Math.max(1,.15*g))),S=0==C%2?0:.5,T=b.dataPointIds[v];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:v,x1:w,y1:r,x2:x,y2:a,x3:l,y3:o,x4:l,y4:s,borderThickness:C,color:h},n.strokeStyle=h,n.beginPath(),n.lineWidth=C,i.lineWidth=Math.max(C,4),"candlestick"===b.type?(n.moveTo(l-S,a),n.lineTo(l-S,Math.min(r,s)),n.stroke(),n.moveTo(l-S,Math.max(r,s)),n.lineTo(l-S,o),n.stroke(),he(n,w,Math.min(r,s),x,Math.max(r,s),k[v].y[0]<=k[v].y[3]?b.risingColor:f,C,h,_,_,!1,!1,b.fillOpacity),H&&(h=c(T),i.strokeStyle=h,i.moveTo(l-S,a),i.lineTo(l-S,Math.min(r,s)),i.stroke(),i.moveTo(l-S,Math.max(r,s)),i.lineTo(l-S,o),i.stroke(),he(i,w,Math.min(r,s),x,Math.max(r,s),h,0,null,!1,!1,!1,!1))):"ohlc"===b.type&&(n.moveTo(l-S,a),n.lineTo(l-S,o),n.stroke(),n.beginPath(),n.moveTo(l,r),n.lineTo(w,r),n.stroke(),n.beginPath(),n.moveTo(l,s),n.lineTo(x,s),n.stroke(),H&&(h=c(T),i.strokeStyle=h,i.moveTo(l-S,a),i.lineTo(l-S,o),i.stroke(),i.beginPath(),i.moveTo(l,r),i.lineTo(w,r),i.stroke(),i.beginPath(),i.moveTo(l,s),i.lineTo(x,s),i.stroke())),(k[v].indexLabel||b.indexLabel||k[v].indexLabelFormatter||b.indexLabelFormatter)&&this._indexLabels.push({chartType:b.type,dataPoint:k[v],dataSeries:b,point:{x:w+(x-w)/2,y:e.axisY.reversed?o:a},direction:1,bounds:{x1:w,y1:Math.min(a,o),x2:x,y2:Math.max(a,o)},color:h})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(p.x1,p.y1,p.width,p.height),i.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderBoxAndWhisker=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t,i=this._eventManager.ghostCtx;if(!(0>=e.dataSeriesIndexes.length)){var l,r,a,o,s,u,h,f=null,p=this.plotArea,v=0,m=(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,v=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.015*this.width,e.axisX.dataInfo.minDiff);isFinite(m)||(m=.3*Math.abs(e.axisX.range)),m=this.options.dataPointWidth?this.dataPointWidth:.7*p.width*(e.axisX.logarithmic?Math.log(m)/Math.log(e.axisX.range):Math.abs(m)/Math.abs(e.axisX.range))<<0,this.dataPointMaxWidth&&f>v&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,v)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&v<f&&(v=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),m<f&&(m=f),m>v&&(m=v),n.save(),H&&i.save(),n.beginPath(),n.rect(p.x1,p.y1,p.width,p.height),n.clip(),H&&(i.beginPath(),i.rect(p.x1,p.y1,p.width,p.height),i.clip());for(var y=!!e.axisY.reversed,b=0;b<e.dataSeriesIndexes.length;b++){var k=e.dataSeriesIndexes[b],_=this.data[k],w=_.dataPoints;if(0<w.length){var x=!!(5<m&&_.bevelEnabled);for(v=0;v<w.length;v++)if(!((h=w[v].getTime?w[v].x.getTime():w[v].x)<e.axisX.dataInfo.viewPortMin||h>e.axisX.dataInfo.viewPortMax)&&!d(w[v].y)&&w[v].y.length&&"number"==typeof w[v].y[0]&&"number"==typeof w[v].y[1]&&"number"==typeof w[v].y[2]&&"number"==typeof w[v].y[3]&&"number"==typeof w[v].y[4]&&5===w[v].y.length){l=e.axisX.convertValueToPixel(h),r=e.axisY.convertValueToPixel(w[v].y[0]),a=e.axisY.convertValueToPixel(w[v].y[1]),o=e.axisY.convertValueToPixel(w[v].y[2]),s=e.axisY.convertValueToPixel(w[v].y[3]),u=e.axisY.convertValueToPixel(w[v].y[4]);var C=l-m/2<<0,S=l+m/2<<0,T=(f=w[v].color?w[v].color:_._colorSet[0],Math.round(Math.max(1,.15*m))),P=0==T%2?0:.5,M=w[v].whiskerColor?w[v].whiskerColor:w[v].color?_.whiskerColor?_.whiskerColor:w[v].color:_.whiskerColor?_.whiskerColor:f,A="number"==typeof w[v].whiskerThickness?w[v].whiskerThickness:"number"==typeof _.options.whiskerThickness?_.whiskerThickness:T,I=w[v].whiskerDashType?w[v].whiskerDashType:_.whiskerDashType,E="number"==typeof(E=d(w[v].whiskerLength)?d(_.options.whiskerLength)?m:_.whiskerLength:w[v].whiskerLength)?0>=E?0:E>=m?m:E:"string"==typeof E?parseInt(E)*m/100>m?m:parseInt(E)*m/100:m,D=1==Math.round(A)%2?.5:0,O=w[v].stemColor?w[v].stemColor:w[v].color?_.stemColor?_.stemColor:w[v].color:_.stemColor?_.stemColor:f,F="number"==typeof w[v].stemThickness?w[v].stemThickness:"number"==typeof _.options.stemThickness?_.stemThickness:T,R=1==Math.round(F)%2?.5:0,N=w[v].stemDashType?w[v].stemDashType:_.stemDashType,L=w[v].lineColor?w[v].lineColor:w[v].color?_.lineColor?_.lineColor:w[v].color:_.lineColor?_.lineColor:f,B="number"==typeof w[v].lineThickness?w[v].lineThickness:"number"==typeof _.options.lineThickness?_.lineThickness:T,V=w[v].lineDashType?w[v].lineDashType:_.lineDashType,z=1==Math.round(B)%2?.5:0,j=_.upperBoxColor,W=_.lowerBoxColor,U=d(_.options.fillOpacity)?1:_.fillOpacity,Y=_.dataPointIds[v];this._eventManager.objectMap[Y]={id:Y,objectType:"dataPoint",dataSeriesIndex:k,dataPointIndex:v,x1:C,y1:r,x2:S,y2:a,x3:l,y3:o,x4:l,y4:s,y5:u,borderThickness:T,color:f,stemThickness:F,stemColor:O,whiskerThickness:A,whiskerLength:E,whiskerColor:M,lineThickness:B,lineColor:L},n.save(),0<F&&(n.beginPath(),n.strokeStyle=O,n.lineWidth=F,n.setLineDash&&n.setLineDash(g(N,F)),n.moveTo(l-R,a),n.lineTo(l-R,r),n.stroke(),n.moveTo(l-R,s),n.lineTo(l-R,o),n.stroke()),n.restore(),i.lineWidth=Math.max(T,4),n.beginPath(),he(n,C,Math.min(u,a),S,Math.max(a,u),W,0,f,!!y&&x,!y&&x,!1,!1,U),n.beginPath(),he(n,C,Math.min(o,u),S,Math.max(u,o),j,0,f,!y&&x,!!y&&x,!1,!1,U),n.beginPath(),n.lineWidth=T,n.strokeStyle=f,n.rect(C-P,Math.min(a,o)-P,S-C+2*P,Math.max(a,o)-Math.min(a,o)+2*P),n.stroke(),n.save(),0<B&&(n.beginPath(),n.globalAlpha=1,n.setLineDash&&n.setLineDash(g(V,B)),n.strokeStyle=L,n.lineWidth=B,n.moveTo(C,u-z),n.lineTo(S,u-z),n.stroke()),n.restore(),n.save(),0<A&&(n.beginPath(),n.setLineDash&&n.setLineDash(g(I,A)),n.strokeStyle=M,n.lineWidth=A,n.moveTo(l-E/2<<0,s-D),n.lineTo(l+E/2<<0,s-D),n.stroke(),n.moveTo(l-E/2<<0,r+D),n.lineTo(l+E/2<<0,r+D),n.stroke()),n.restore(),H&&(f=c(Y),i.strokeStyle=f,i.lineWidth=F,0<F&&(i.moveTo(l-P-R,a),i.lineTo(l-P-R,Math.max(r,s)),i.stroke(),i.moveTo(l-P-R,Math.min(r,s)),i.lineTo(l-P-R,o),i.stroke()),he(i,C,Math.max(a,o),S,Math.min(a,o),f,0,null,!1,!1,!1,!1),0<A&&(i.beginPath(),i.lineWidth=A,i.moveTo(l+E/2,s-D),i.lineTo(l-E/2,s-D),i.stroke(),i.moveTo(l+E/2,r+D),i.lineTo(l-E/2,r+D),i.stroke())),(w[v].indexLabel||_.indexLabel||w[v].indexLabelFormatter||_.indexLabelFormatter)&&this._indexLabels.push({chartType:_.type,dataPoint:w[v],dataSeries:_,point:{x:C+(S-C)/2,y:e.axisY.reversed?r:s},direction:1,bounds:{x1:C,y1:Math.min(r,s),x2:S,y2:Math.max(r,s)},color:f})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(p.x1,p.y1,p.width,p.height),i.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderRangeColumn=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r,a=null,o=this.plotArea,s=0;s=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:.03*this.width;var u=e.axisX.dataInfo.minDiff;isFinite(u)||(u=.3*Math.abs(e.axisX.range)),u=this.options.dataPointWidth?this.dataPointWidth:o.width*(e.axisX.logarithmic?Math.log(u)/Math.log(e.axisX.range):Math.abs(u)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&s>i&&(s=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<s&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,s)),u<s&&(u=s),u>i&&(u=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(o.x1,o.y1,o.width,o.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.clip());for(var h=0;h<e.dataSeriesIndexes.length;h++){var f=e.dataSeriesIndexes[h],p=this.data[f],v=p.dataPoints;if(0<v.length){var g=!!(5<u&&p.bevelEnabled);for(s=0;s<v.length;s++)if(!((r=v[s].getTime?v[s].x.getTime():v[s].x)<e.axisX.dataInfo.viewPortMin||r>e.axisX.dataInfo.viewPortMax)&&!d(v[s].y)&&v[s].y.length&&"number"==typeof v[s].y[0]&&"number"==typeof v[s].y[1]){a=e.axisX.convertValueToPixel(r),i=e.axisY.convertValueToPixel(v[s].y[0]),l=e.axisY.convertValueToPixel(v[s].y[1]);var m=e.axisX.reversed?a+e.plotType.totalDataSeries*u/2-(e.previousDataSeriesCount+h)*u<<0:a-e.plotType.totalDataSeries*u/2+(e.previousDataSeriesCount+h)*u<<0,y=e.axisX.reversed?m-u<<0:m+u<<0;if(a=v[s].color?v[s].color:p._colorSet[s%p._colorSet.length],i>l){var b=i;i=l,l=b}this._eventManager.objectMap[b=p.dataPointIds[s]]={id:b,objectType:"dataPoint",dataSeriesIndex:f,dataPointIndex:s,x1:m,y1:i,x2:y,y2:l},he(n,m,i,y,l,a,0,a,g,g,!1,!1,p.fillOpacity),a=c(b),H&&he(this._eventManager.ghostCtx,m,i,y,l,a,0,null,!1,!1,!1,!1),(v[s].indexLabel||p.indexLabel||v[s].indexLabelFormatter||p.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeColumn",dataPoint:v[s],dataSeries:p,indexKeyword:0,point:{x:m+(y-m)/2,y:v[s].y[1]>=v[s].y[0]?l:i},direction:v[s].y[1]>=v[s].y[0]?-1:1,bounds:{x1:m,y1:Math.min(i,l),x2:y,y2:Math.max(i,l)},color:a}),this._indexLabels.push({chartType:"rangeColumn",dataPoint:v[s],dataSeries:p,indexKeyword:1,point:{x:m+(y-m)/2,y:v[s].y[1]>=v[s].y[0]?i:l},direction:v[s].y[1]>=v[s].y[0]?1:-1,bounds:{x1:m,y1:Math.min(i,l),x2:y,y2:Math.max(i,l)},color:a}))}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderError=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t,i=!!e.axisY._position&&"left"!==e.axisY._position&&"right"!==e.axisY._position;if(!(0>=e.dataSeriesIndexes.length)){var l,a,o,s,u,c,h,f=null,p=!1,v=this.plotArea,g=0,m=e.axisX.dataInfo.minDiff;isFinite(m)||(m=.3*Math.abs(e.axisX.range)),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(v.x1,v.y1,v.width,v.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.clip());for(var y=0,b=0;b<this.data.length;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&y||y++;for(var k=0;k<e.dataSeriesIndexes.length;k++){var _=e.dataSeriesIndexes[k],w=this.data[_],x=w.dataPoints,C=!d(w._linkedSeries)&&!(!w._linkedSeries.type.match(/(bar|column)/gi)||!w._linkedSeries.visible),S=0;if(C)for(f=w._linkedSeries.id,b=0;b<f;b++)!this.data[b].type.match(/(bar|column)/gi)||!this.data[b].visible||this.data[b].type.match(/(stacked)/gi)&&S||(this.data[b].type.match(/(range)/gi)&&(p=!0),S++);if(f=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(C?y:1)*.9)<<0:.3*this.width,p&&(g=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:i?Math.min(.15*this.height,this.plotArea.height/(C?y:1)*.9)<<0:.03*this.width),b=this.options.dataPointWidth?this.dataPointWidth:(i?v.height:v.width)*(e.axisX.logarithmic?Math.log(m)/Math.log(e.axisX.range):Math.abs(m)/Math.abs(e.axisX.range))/(C?y:1)*.9<<0,this.dataPointMaxWidth&&f>g&&(f=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,g)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&g<f&&(g=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,f)),b<f&&(b=f),b>g&&(b=g),0<x.length){var T=w._colorSet;for(g=0;g<x.length;g++){f=w.lineColor=w.options.color?w.options.color:T[0];var P={color:x[g].whiskerColor?x[g].whiskerColor:x[g].color?w.whiskerColor?w.whiskerColor:x[g].color:w.whiskerColor?w.whiskerColor:f,thickness:d(x[g].whiskerThickness)?w.whiskerThickness:x[g].whiskerThickness,dashType:x[g].whiskerDashType?x[g].whiskerDashType:w.whiskerDashType,length:d(x[g].whiskerLength)?d(w.options.whiskerLength)?b:w.options.whiskerLength:x[g].whiskerLength,trimLength:d(x[g].whiskerLength)&&d(w.options.whiskerLength)?50:0};P.length="number"==typeof P.length?0>=P.length?0:P.length>=b?b:P.length:"string"==typeof P.length?parseInt(P.length)*b/100>b?b:parseInt(P.length)*b/100>b:b,P.thickness="number"==typeof P.thickness?0>P.thickness?0:Math.round(P.thickness):2;var M={color:x[g].stemColor?x[g].stemColor:x[g].color?w.stemColor?w.stemColor:x[g].color:w.stemColor?w.stemColor:f,thickness:x[g].stemThickness?x[g].stemThickness:w.stemThickness,dashType:x[g].stemDashType?x[g].stemDashType:w.stemDashType};if(M.thickness="number"==typeof M.thickness?0>M.thickness?0:Math.round(M.thickness):2,!((h=x[g].getTime?x[g].x.getTime():x[g].x)<e.axisX.dataInfo.viewPortMin||h>e.axisX.dataInfo.viewPortMax)&&!d(x[g].y)&&x[g].y.length&&"number"==typeof x[g].y[0]&&"number"==typeof x[g].y[1]){var A=e.axisX.convertValueToPixel(h);i?a=A:l=A,A=e.axisY.convertValueToPixel(x[g].y[0]),i?o=A:u=A,A=e.axisY.convertValueToPixel(x[g].y[1]),i?s=A:c=A,i?(u=e.axisX.reversed?a+(C?y:1)*b/2-(C?S-1:0)*b<<0:a-(C?y:1)*b/2+(C?S-1:0)*b<<0,c=e.axisX.reversed?u-b<<0:u+b<<0):(o=e.axisX.reversed?l+(C?y:1)*b/2-(C?S-1:0)*b<<0:l-(C?y:1)*b/2+(C?S-1:0)*b<<0,s=e.axisX.reversed?o-b<<0:o+b<<0),!i&&u>c&&(A=u,u=c,c=A),i&&o>s&&(A=o,o=s,s=A),this._eventManager.objectMap[A=w.dataPointIds[g]]={id:A,objectType:"dataPoint",dataSeriesIndex:_,dataPointIndex:g,x1:Math.min(o,s),y1:Math.min(u,c),x2:Math.max(s,o),y2:Math.max(c,u),isXYSwapped:i,stemProperties:M,whiskerProperties:P},r(n,Math.min(o,s),Math.min(u,c),Math.max(s,o),Math.max(c,u),f,P,M,i),H&&r(this._eventManager.ghostCtx,o,u,s,c,f,P,M,i),(x[g].indexLabel||w.indexLabel||x[g].indexLabelFormatter||w.indexLabelFormatter)&&(this._indexLabels.push({chartType:"error",dataPoint:x[g],dataSeries:w,indexKeyword:0,point:{x:i?x[g].y[1]>=x[g].y[0]?o:s:o+(s-o)/2,y:i?u+(c-u)/2:x[g].y[1]>=x[g].y[0]?c:u},direction:x[g].y[1]>=x[g].y[0]?-1:1,bounds:{x1:i?Math.min(o,s):o,y1:i?u:Math.min(u,c),x2:i?Math.max(o,s):s,y2:i?c:Math.max(u,c)},color:f,axisSwapped:i}),this._indexLabels.push({chartType:"error",dataPoint:x[g],dataSeries:w,indexKeyword:1,point:{x:i?x[g].y[1]>=x[g].y[0]?s:o:o+(s-o)/2,y:i?u+(c-u)/2:x[g].y[1]>=x[g].y[0]?u:c},direction:x[g].y[1]>=x[g].y[0]?1:-1,bounds:{x1:i?Math.min(o,s):o,y1:i?u:Math.min(u,c),x2:i?Math.max(o,s):s,y2:i?c:Math.max(u,c)},color:f,axisSwapped:i}))}}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(v.x1,v.y1,v.width,v.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderRangeBar=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r,a,o=null,s=this.plotArea,u=0;u=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,i=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.height,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0;var h=e.axisX.dataInfo.minDiff;isFinite(h)||(h=.3*Math.abs(e.axisX.range)),h=this.options.dataPointWidth?this.dataPointWidth:s.height*(e.axisX.logarithmic?Math.log(h)/Math.log(e.axisX.range):Math.abs(h)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.9<<0,this.dataPointMaxWidth&&u>i&&(u=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,i)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&i<u&&(i=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,u)),h<u&&(h=u),h>i&&(h=i),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(s.x1,s.y1,s.width,s.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.clip());for(var f=0;f<e.dataSeriesIndexes.length;f++){var p=e.dataSeriesIndexes[f],v=this.data[p],g=v.dataPoints;if(0<g.length){var m=!!(5<h&&v.bevelEnabled);for(n.strokeStyle="#4572A7 ",u=0;u<g.length;u++)if(!((a=g[u].getTime?g[u].x.getTime():g[u].x)<e.axisX.dataInfo.viewPortMin||a>e.axisX.dataInfo.viewPortMax)&&!d(g[u].y)&&g[u].y.length&&"number"==typeof g[u].y[0]&&"number"==typeof g[u].y[1]){i=e.axisY.convertValueToPixel(g[u].y[0]),l=e.axisY.convertValueToPixel(g[u].y[1]),r=e.axisX.convertValueToPixel(a),r=e.axisX.reversed?r+e.plotType.totalDataSeries*h/2-(e.previousDataSeriesCount+f)*h<<0:r-e.plotType.totalDataSeries*h/2+(e.previousDataSeriesCount+f)*h<<0;var y=e.axisX.reversed?r-h<<0:r+h<<0;i>l&&(o=i,i=l,l=o),he(n,i,r,l,y,o=g[u].color?g[u].color:v._colorSet[u%v._colorSet.length],0,null,m,!1,!1,!1,v.fillOpacity),this._eventManager.objectMap[o=v.dataPointIds[u]]={id:o,objectType:"dataPoint",dataSeriesIndex:p,dataPointIndex:u,x1:i,y1:r,x2:l,y2:y},o=c(o),H&&he(this._eventManager.ghostCtx,i,r,l,y,o,0,null,!1,!1,!1,!1),(g[u].indexLabel||v.indexLabel||g[u].indexLabelFormatter||v.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:v,indexKeyword:0,point:{x:g[u].y[1]>=g[u].y[0]?i:l,y:r+(y-r)/2},direction:g[u].y[1]>=g[u].y[0]?-1:1,bounds:{x1:Math.min(i,l),y1:r,x2:Math.max(i,l),y2:y},color:o}),this._indexLabels.push({chartType:"rangeBar",dataPoint:g[u],dataSeries:v,indexKeyword:1,point:{x:g[u].y[1]>=g[u].y[0]?l:i,y:r+(y-r)/2},direction:g[u].y[1]>=g[u].y[0]?1:-1,bounds:{x1:Math.min(i,l),y1:r,x2:Math.max(i,l),y2:y},color:o}))}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(s.x1,s.y1,s.width,s.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}},t.prototype.renderRangeArea=function(e){function t(){if(k){var e=null;0<h.lineThickness&&i.stroke();for(var t=s.length-1;0<=t;t--)i.lineTo((e=s[t]).x,e.y),l.lineTo(e.x,e.y);if(i.closePath(),i.globalAlpha=h.fillOpacity,i.fill(),i.globalAlpha=1,l.fill(),0<h.lineThickness){for(i.beginPath(),i.moveTo(e.x,e.y),t=0;t<s.length;t++)i.lineTo((e=s[t]).x,e.y);i.stroke()}i.beginPath(),i.moveTo(f,p),l.beginPath(),l.moveTo(f,p),k={x:f,y:p},(s=[]).push({x:f,y:v})}}var n=e.targetCanvasCtx||this.plotArea.ctx,i=H?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var l=this._eventManager.ghostCtx,r=[],a=this.plotArea;i.save(),H&&l.save(),i.beginPath(),i.rect(a.x1,a.y1,a.width,a.height),i.clip(),H&&(l.beginPath(),l.rect(a.x1,a.y1,a.width,a.height),l.clip());for(var o=0;o<e.dataSeriesIndexes.length;o++){var s=[],u=e.dataSeriesIndexes[o],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[r=h.id]={objectType:"dataSeries",dataSeriesIndex:u},r=c(r),l.fillStyle=r,r=[];var f,p,v,m,y=!0,b=0,k=null;if(0<d.length){var _=h._colorSet[b%h._colorSet.length],w=h.lineColor=h.options.lineColor||_,x=w;i.fillStyle=_,i.strokeStyle=w,i.lineWidth=h.lineThickness;var C="solid";if(i.setLineDash){var S=g(h.nullDataLineDashType,h.lineThickness),T=g(C=h.lineDashType,h.lineThickness);i.setLineDash(T)}for(var P=!0;b<d.length;b++)if(!((m=d[b].x.getTime?d[b].x.getTime():d[b].x)<e.axisX.dataInfo.viewPortMin||m>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!P)))if(null!==d[b].y&&d[b].y.length&&"number"==typeof d[b].y[0]&&"number"==typeof d[b].y[1]){if(f=e.axisX.convertValueToPixel(m),p=e.axisY.convertValueToPixel(d[b].y[0]),v=e.axisY.convertValueToPixel(d[b].y[1]),y||P?(h.connectNullData&&!y?(i.setLineDash&&(h.options.nullDataLineDashType||C===h.lineDashType&&h.lineDashType!==h.nullDataLineDashType)&&(s[s.length-1].newLineDashArray=T,C=h.nullDataLineDashType,i.setLineDash(S)),i.lineTo(f,p),H&&l.lineTo(f,p),s.push({x:f,y:v})):(i.beginPath(),i.moveTo(f,p),k={x:f,y:p},(s=[]).push({x:f,y:v}),H&&(l.beginPath(),l.moveTo(f,p))),P=y=!1):(i.lineTo(f,p),s.push({x:f,y:v}),H&&l.lineTo(f,p),0==b%250&&t()),this._eventManager.objectMap[m=h.dataPointIds[b]]={id:m,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:b,x1:f,y1:p,y2:v},b<d.length-1&&(x!==(d[b].lineColor||w)||C!==(d[b].lineDashType||h.lineDashType))&&(t(),s[s.length-1].newStrokeStyle=x=d[b].lineColor||w,i.strokeStyle=x,i.setLineDash&&(d[b].lineDashType?(s[s.length-1].newLineDashArray=g(C=d[b].lineDashType,h.lineThickness),i.setLineDash(s[s.length-1].newLineDashArray)):(C=h.lineDashType,s[s.length-1].newLineDashArray=T,i.setLineDash(T)))),0!==d[b].markerSize&&(0<d[b].markerSize||0<h.markerSize)){var M=h.getMarkerProperties(b,f,v,i);r.push(M);var A=c(m);H&&r.push({x:f,y:v,ctx:l,type:M.type,size:M.size,color:A,borderColor:A,borderThickness:M.borderThickness}),M=h.getMarkerProperties(b,f,p,i),r.push(M),A=c(m),H&&r.push({x:f,y:p,ctx:l,type:M.type,size:M.size,color:A,borderColor:A,borderThickness:M.borderThickness})}(d[b].indexLabel||h.indexLabel||d[b].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeArea",dataPoint:d[b],dataSeries:h,indexKeyword:0,point:{x:f,y:p},direction:d[b].y[0]>d[b].y[1]===e.axisY.reversed?-1:1,color:_}),this._indexLabels.push({chartType:"rangeArea",dataPoint:d[b],dataSeries:h,indexKeyword:1,point:{x:f,y:v},direction:d[b].y[0]>d[b].y[1]===e.axisY.reversed?1:-1,color:_}))}else P||y||t(),P=!0;t(),ee.drawMarkers(r)}}return H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&i.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&i.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),i.clearRect(a.x1,a.y1,a.width,a.height),this._eventManager.ghostCtx.restore()),i.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderRangeSplineArea=function(e){function t(e,t){var n=i(y,2);if(0<n.length){if(0<h.lineThickness){l.strokeStyle=t,l.setLineDash&&l.setLineDash(e),l.beginPath(),l.moveTo(n[0].x,n[0].y);for(var a=0;a<n.length-3;a+=3)(n[a].newStrokeStyle||n[a].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(n[a].x,n[a].y),n[a].newStrokeStyle&&(l.strokeStyle=n[a].newStrokeStyle),n[a].newLineDashArray&&l.setLineDash(n[a].newLineDashArray)),l.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);l.stroke()}for(l.beginPath(),l.moveTo(n[0].x,n[0].y),H&&(r.beginPath(),r.moveTo(n[0].x,n[0].y)),a=0;a<n.length-3;a+=3)l.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y),H&&r.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);for(n=i(b,2),l.lineTo(b[b.length-1].x,b[b.length-1].y),a=n.length-1;2<a;a-=3)l.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y),H&&r.bezierCurveTo(n[a-1].x,n[a-1].y,n[a-2].x,n[a-2].y,n[a-3].x,n[a-3].y);if(l.closePath(),l.globalAlpha=h.fillOpacity,l.fill(),H&&(r.closePath(),r.fill()),l.globalAlpha=1,0<h.lineThickness){l.strokeStyle=t,l.setLineDash&&l.setLineDash(e),l.beginPath(),l.moveTo(n[0].x,n[0].y);for(var o=a=0;a<n.length-3;a+=3,o++)(y[o].newStrokeStyle||y[o].newLineDashArray)&&(l.stroke(),l.beginPath(),l.moveTo(n[a].x,n[a].y),y[o].newStrokeStyle&&(l.strokeStyle=y[o].newStrokeStyle),y[o].newLineDashArray&&l.setLineDash(y[o].newLineDashArray)),l.bezierCurveTo(n[a+1].x,n[a+1].y,n[a+2].x,n[a+2].y,n[a+3].x,n[a+3].y);l.stroke()}l.beginPath()}}var n=e.targetCanvasCtx||this.plotArea.ctx,l=H?this._preRenderCtx:n;if(!(0>=e.dataSeriesIndexes.length)){var r=this._eventManager.ghostCtx,a=[],o=this.plotArea;l.save(),H&&r.save(),l.beginPath(),l.rect(o.x1,o.y1,o.width,o.height),l.clip(),H&&(r.beginPath(),r.rect(o.x1,o.y1,o.width,o.height),r.clip());for(var s=0;s<e.dataSeriesIndexes.length;s++){var u=e.dataSeriesIndexes[s],h=this.data[u],d=h.dataPoints;this._eventManager.objectMap[a=h.id]={objectType:"dataSeries",dataSeriesIndex:u},a=c(a),r.fillStyle=a,a=[];var f,p,v,m=0,y=[],b=[];if(0<d.length){var k=h._colorSet[m%h._colorSet.length],_=h.lineColor=h.options.lineColor||k,w=_;l.fillStyle=k,l.lineWidth=h.lineThickness;var x,C="solid";if(l.setLineDash){var S=g(h.nullDataLineDashType,h.lineThickness);x=g(C=h.lineDashType,h.lineThickness)}for(p=!1;m<d.length;m++)if(!((f=d[m].x.getTime?d[m].x.getTime():d[m].x)<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax&&(!h.connectNullData||!p)))if(null!==d[m].y&&d[m].y.length&&"number"==typeof d[m].y[0]&&"number"==typeof d[m].y[1]){f=e.axisX.convertValueToPixel(f),p=e.axisY.convertValueToPixel(d[m].y[0]),v=e.axisY.convertValueToPixel(d[m].y[1]);var T=h.dataPointIds[m];if(this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:u,dataPointIndex:m,x1:f,y1:p,y2:v},y[y.length]={x:f,y:p},b[b.length]={x:f,y:v},m<d.length-1&&(w!==(d[m].lineColor||_)||C!==(d[m].lineDashType||h.lineDashType))&&(y[y.length-1].newStrokeStyle=w=d[m].lineColor||_,l.setLineDash&&(d[m].lineDashType?y[y.length-1].newLineDashArray=g(C=d[m].lineDashType,h.lineThickness):(C=h.lineDashType,y[y.length-1].newLineDashArray=x))),0!==d[m].markerSize&&(0<d[m].markerSize||0<h.markerSize)){var P=h.getMarkerProperties(m,f,p,l);a.push(P);var M=c(T);H&&a.push({x:f,y:p,ctx:r,type:P.type,size:P.size,color:M,borderColor:M,borderThickness:P.borderThickness}),P=h.getMarkerProperties(m,f,v,l),a.push(P),M=c(T),H&&a.push({x:f,y:v,ctx:r,type:P.type,size:P.size,color:M,borderColor:M,borderThickness:P.borderThickness})}(d[m].indexLabel||h.indexLabel||d[m].indexLabelFormatter||h.indexLabelFormatter)&&(this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[m],dataSeries:h,indexKeyword:0,point:{x:f,y:p},direction:d[m].y[0]<=d[m].y[1]?-1:1,color:k}),this._indexLabels.push({chartType:"rangeSplineArea",dataPoint:d[m],dataSeries:h,indexKeyword:1,point:{x:f,y:v},direction:d[m].y[0]<=d[m].y[1]?1:-1,color:k})),p=!1}else 0<m&&!p&&(h.connectNullData?l.setLineDash&&0<y.length&&(h.options.nullDataLineDashType||!d[m-1].lineDashType)&&(y[y.length-1].newLineDashArray=S,C=h.nullDataLineDashType):(t(x,_),y=[],b=[])),p=!0;t(x,_),ee.drawMarkers(a)}}return H&&(n.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&l.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&l.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),l.clearRect(o.x1,o.y1,o.width,o.height),this._eventManager.ghostCtx.restore()),l.restore(),{source:n,dest:this.plotArea.ctx,animationCallback:Z.xClipAnimation,easingFunction:Z.easing.linear,animationBase:0}}},t.prototype.renderWaterfall=function(e){var t=e.targetCanvasCtx||this.plotArea.ctx,n=H?this._preRenderCtx:t;if(!(0>=e.dataSeriesIndexes.length)){var i,l,r,a,o=this._eventManager.ghostCtx,s=null,u=this.plotArea,h=0,d=e.axisY.convertValueToPixel(e.axisY.logarithmic?e.axisY.viewportMinimum:0);h=this.options.dataPointMinWidth?this.dataPointMinWidth:this.options.dataPointWidth?this.dataPointWidth:1,l=this.options.dataPointMaxWidth?this.dataPointMaxWidth:this.options.dataPointWidth?this.dataPointWidth:Math.min(.15*this.width,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0;var f=e.axisX.dataInfo.minDiff;isFinite(f)||(f=.3*Math.abs(e.axisX.range)),f=this.options.dataPointWidth?this.dataPointWidth:u.width*(e.axisX.logarithmic?Math.log(f)/Math.log(e.axisX.range):Math.abs(f)/Math.abs(e.axisX.range))/e.plotType.totalDataSeries*.6<<0,this.dataPointMaxWidth&&h>l&&(h=Math.min(this.options.dataPointWidth?this.dataPointWidth:1/0,l)),!this.dataPointMaxWidth&&this.dataPointMinWidth&&l<h&&(l=Math.max(this.options.dataPointWidth?this.dataPointWidth:-1/0,h)),f<h&&(f=h),f>l&&(f=l),n.save(),H&&this._eventManager.ghostCtx.save(),n.beginPath(),n.rect(u.x1,u.y1,u.width,u.height),n.clip(),H&&(this._eventManager.ghostCtx.beginPath(),this._eventManager.ghostCtx.rect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.clip());for(var p=0;p<e.dataSeriesIndexes.length;p++){var v=e.dataSeriesIndexes[p],m=this.data[v],y=m.dataPoints;s=m._colorSet[0],m.risingColor=m.options.risingColor?m.options.risingColor:s,m.fallingColor=m.options.fallingColor?m.options.fallingColor:"#e40a0a";var b="number"==typeof m.options.lineThickness?Math.round(m.lineThickness):1,k=1==Math.round(b)%2?-.5:0;if(0<y.length){var _=!!(5<f&&m.bevelEnabled),w=!1,x=null,C=null;for(h=0;h<y.length;h++)if(a=y[h].getTime?y[h].x.getTime():y[h].x,"number"!=typeof y[h].y){if(0<h&&!w&&m.connectNullData)var S=m.options.nullDataLineDashType||!y[h-1].lineDashType?m.nullDataLineDashType:y[h-1].lineDashType;w=!0}else{i=e.axisX.convertValueToPixel(a),l=0===m.dataPointEOs[h].cumulativeSum?d:e.axisY.convertValueToPixel(m.dataPointEOs[h].cumulativeSum),r=0===m.dataPointEOs[h].cumulativeSumYStartValue?d:e.axisY.convertValueToPixel(m.dataPointEOs[h].cumulativeSumYStartValue),i=e.axisX.reversed?i+e.plotType.totalDataSeries*f/2-(e.previousDataSeriesCount+p)*f<<0:i-e.plotType.totalDataSeries*f/2+(e.previousDataSeriesCount+p)*f<<0;var T=e.axisX.reversed?i-f<<0:i+f<<0;l>r&&(s=l,l=r,r=s),e.axisY.reversed&&(s=l,l=r,r=s),this._eventManager.objectMap[s=m.dataPointIds[h]]={id:s,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:h,x1:i,y1:l,x2:T,y2:r},he(n,i,l,T,r,M=y[h].color?y[h].color:0<y[h].y?m.risingColor:m.fallingColor,0,M,_,_,!1,!1,m.fillOpacity),s=c(s),H&&he(this._eventManager.ghostCtx,i,l,T,r,s,0,null,!1,!1,!1,!1);var P,M=i;P=void 0!==y[h].isIntermediateSum&&!0===y[h].isIntermediateSum||void 0!==y[h].isCumulativeSum&&!0===y[h].isCumulativeSum?0<y[h].y?l:r:0<y[h].y?r:l,0<h&&x&&(!w||m.connectNullData)&&(w&&n.setLineDash&&n.setLineDash(g(S,b)),n.beginPath(),n.moveTo(x,C-k),n.lineTo(M,P-k),0<b&&n.stroke(),H&&(o.beginPath(),o.moveTo(x,C-k),o.lineTo(M,P-k),0<b&&o.stroke())),w=!1,x=T,C=0<y[h].y?l:r,M=y[h].lineDashType?y[h].lineDashType:m.options.lineDashType?m.options.lineDashType:"shortDash",n.strokeStyle=y[h].lineColor?y[h].lineColor:m.options.lineColor?m.options.lineColor:"#9e9e9e",n.lineWidth=b,n.setLineDash&&(M=g(M,b),n.setLineDash(M)),(y[h].indexLabel||m.indexLabel||y[h].indexLabelFormatter||m.indexLabelFormatter)&&this._indexLabels.push({chartType:"waterfall",dataPoint:y[h],dataSeries:m,point:{x:i+(T-i)/2,y:0<=y[h].y?l:r},direction:0>y[h].y===e.axisY.reversed?1:-1,bounds:{x1:i,y1:Math.min(l,r),x2:T,y2:Math.max(l,r)},color:s})}}}return H&&(t.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.globalCompositeOperation="source-atop",e.axisX.maskCanvas&&n.drawImage(e.axisX.maskCanvas,0,0,this.width,this.height),e.axisY.maskCanvas&&n.drawImage(e.axisY.maskCanvas,0,0,this.width,this.height),this._breaksCanvasCtx&&this._breaksCanvasCtx.drawImage(this._preRenderCanvas,0,0,this.width,this.height),n.clearRect(u.x1,u.y1,u.width,u.height),this._eventManager.ghostCtx.restore()),n.restore(),{source:t,dest:this.plotArea.ctx,animationCallback:Z.fadeInAnimation,easingFunction:Z.easing.easeInQuad,animationBase:0}}};var K=function(e,t,n,i,l,r,a,o,s){if(!(0>n)){if(void 0===o&&(o=1),!H){var u=Number((a%(2*Math.PI)).toFixed(8));Number((r%(2*Math.PI)).toFixed(8))===u&&(a-=1e-4)}e.save(),e.globalAlpha=o,"pie"===l?(e.beginPath(),e.moveTo(t.x,t.y),e.arc(t.x,t.y,n,r,a,!1),e.fillStyle=i,e.strokeStyle="white",e.lineWidth=2,e.closePath(),e.fill()):"doughnut"===l&&(e.beginPath(),e.arc(t.x,t.y,n,r,a,!1),0<=s&&e.arc(t.x,t.y,s*n,a,r,!0),e.closePath(),e.fillStyle=i,e.strokeStyle="white",e.lineWidth=2,e.fill()),e.globalAlpha=1,e.restore()}};t.prototype.renderPie=function(e){function t(e){var t=o.plotArea.ctx;for(t.clearRect(p.x1,p.y1,p.width,p.height),t.fillStyle=o.backgroundColor,t.fillRect(p.x1,p.y1,p.width,p.height),t=0;t<c.length;t++){var n=v[t].startAngle,i=v[t].endAngle;if(i>n){var l=.07*C*Math.cos(v[t].midAngle),r=.07*C*Math.sin(v[t].midAngle),a=!1;c[t].exploded?(1e-9<Math.abs(v[t].center.x-(_.x+l))||1e-9<Math.abs(v[t].center.y-(_.y+r)))&&(v[t].center.x=_.x+l*e,v[t].center.y=_.y+r*e,a=!0):(0<Math.abs(v[t].center.x-_.x)||0<Math.abs(v[t].center.y-_.y))&&(v[t].center.x=_.x+l*(1-e),v[t].center.y=_.y+r*(1-e),a=!0),a&&((l={}).dataSeries=u,l.dataPoint=u.dataPoints[t],l.index=t,o.toolTip.highlightObjects([l])),K(o.plotArea.ctx,v[t].center,v[t].radius,c[t].color?c[t].color:u._colorSet[t%u._colorSet.length],u.type,n,i,u.fillOpacity,v[t].percentInnerRadius)}}for((e=o.plotArea.ctx).save(),e.fillStyle="black",e.strokeStyle="grey",e.textBaseline="middle",e.lineJoin="round",t=t=0;t<c.length;t++)(n=v[t]).indexLabelText&&(n.indexLabelTextBlock.y-=n.indexLabelTextBlock.height/2,i=0,n.indexLabelTextBlock.x+=i="left"===n.hemisphere?"inside"!==u.indexLabelPlacement?-(n.indexLabelTextBlock.width+f):-n.indexLabelTextBlock.width/2:"inside"!==u.indexLabelPlacement?f:-n.indexLabelTextBlock.width/2,n.indexLabelTextBlock.render(!0),n.indexLabelTextBlock.x-=i,n.indexLabelTextBlock.y+=n.indexLabelTextBlock.height/2,"inside"!==n.indexLabelPlacement&&0<n.indexLabelLineThickness&&(i=n.center.x+C*Math.cos(n.midAngle),l=n.center.y+C*Math.sin(n.midAngle),e.strokeStyle=n.indexLabelLineColor,e.lineWidth=n.indexLabelLineThickness,e.setLineDash&&e.setLineDash(g(n.indexLabelLineDashType,n.indexLabelLineThickness)),e.beginPath(),e.moveTo(i,l),e.lineTo(n.indexLabelTextBlock.x,n.indexLabelTextBlock.y),e.lineTo(n.indexLabelTextBlock.x+("left"===n.hemisphere?-f:f),n.indexLabelTextBlock.y),e.stroke()),e.lineJoin="miter");e.save()}function n(e,t){return t.indexLabelTextBlock.y>e.indexLabelTextBlock.y?t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2-(e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2):e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2-(t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2)}function i(e){for(var t=null,i=1;i<c.length;i++){if(v[t=(e+i+v.length)%v.length].hemisphere!==v[e].hemisphere){t=null;break}if(v[t].indexLabelText&&t!==e&&(0>n(v[t],v[e])||("right"===v[e].hemisphere?v[t].indexLabelTextBlock.y>=v[e].indexLabelTextBlock.y:v[t].indexLabelTextBlock.y<=v[e].indexLabelTextBlock.y)))break;t=null}return t}function l(e,t,r){if(1e3<(r=(r||0)+1))return 0;t=t||0;var a=0,o=_.y-1*s,u=_.y+1*s;if(0<=e&&e<c.length){var h=v[e];if(0>t&&h.indexLabelTextBlock.y<o||0<t&&h.indexLabelTextBlock.y>u)return 0;var d=0,f=0;for(f=d=d=0,0>t?h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2>o&&h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+t<o&&(t=-(o-(h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2+t))):h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2<o&&h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+t>u&&(t=h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+t-u),t=h.indexLabelTextBlock.y+t,o=0,o="right"===h.hemisphere?_.x+Math.sqrt(Math.pow(s,2)-Math.pow(t-_.y,2)):_.x-Math.sqrt(Math.pow(s,2)-Math.pow(t-_.y,2)),f=_.x+C*Math.cos(h.midAngle),d=_.y+C*Math.sin(h.midAngle),d=Math.sqrt(Math.pow(o-f,2)+Math.pow(t-d,2)),f=Math.acos(C/s),t=(d=Math.acos((s*s+C*C-d*d)/(2*C*s)))<f?t-h.indexLabelTextBlock.y:0,o=null,u=1;u<c.length;u++){if(v[o=(e-u+v.length)%v.length].hemisphere!==v[e].hemisphere){o=null;break}if(v[o].indexLabelText&&v[o].hemisphere===v[e].hemisphere&&o!==e&&(0>n(v[o],v[e])||("right"===v[e].hemisphere?v[o].indexLabelTextBlock.y<=v[e].indexLabelTextBlock.y:v[o].indexLabelTextBlock.y>=v[e].indexLabelTextBlock.y)))break;o=null}f=o,d=i(e),u=o=0,0>t?(a=t,null!==(u="right"===h.hemisphere?f:d)&&(f=-t,(t=h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-(v[u].indexLabelTextBlock.y+v[u].indexLabelTextBlock.height/2))-f<m&&+(u=l(u,o=-f,r+1)).toFixed(k)>+o.toFixed(k)&&(a=t>m?-(t-m):-(f-(u-o))))):0<t&&(a=t,null!==(u="right"===h.hemisphere?d:f)&&(f=t,(t=v[u].indexLabelTextBlock.y-v[u].indexLabelTextBlock.height/2-(h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2))-f<m&&+(u=l(u,o=f,r+1)).toFixed(k)<+o.toFixed(k)&&(a=t>m?t-m:f-(o-u)))),a&&(r=h.indexLabelTextBlock.y+a,t=0,t="right"===h.hemisphere?_.x+Math.sqrt(Math.pow(s,2)-Math.pow(r-_.y,2)):_.x-Math.sqrt(Math.pow(s,2)-Math.pow(r-_.y,2)),h.midAngle>Math.PI/2-b&&h.midAngle<Math.PI/2+b?(o=v[o=(e-1+v.length)%v.length],e=v[(e+1+v.length)%v.length],"left"===h.hemisphere&&"right"===o.hemisphere&&t>o.indexLabelTextBlock.x?t=o.indexLabelTextBlock.x-15:"right"===h.hemisphere&&"left"===e.hemisphere&&t<e.indexLabelTextBlock.x&&(t=e.indexLabelTextBlock.x+15)):h.midAngle>3*Math.PI/2-b&&h.midAngle<3*Math.PI/2+b&&(o=v[o=(e-1+v.length)%v.length],e=v[(e+1+v.length)%v.length],"right"===h.hemisphere&&"left"===o.hemisphere&&t<o.indexLabelTextBlock.x?t=o.indexLabelTextBlock.x+15:"left"===h.hemisphere&&"right"===e.hemisphere&&t>e.indexLabelTextBlock.x&&(t=e.indexLabelTextBlock.x-15)),h.indexLabelTextBlock.y=r,h.indexLabelTextBlock.x=t,h.indexLabelAngle=Math.atan2(h.indexLabelTextBlock.y-_.y,h.indexLabelTextBlock.x-_.x))}return a}function r(){(d=o.plotArea.ctx).fillStyle="grey",d.strokeStyle="grey",d.font="16px Arial",d.textBaseline="middle";var e=d=0,t=0,r=!0;for(e=0;10>e&&(1>e||0<t);e++){if((u.radius||!u.radius&&null!=u.innerRadius&&C-t<=S)&&(r=!1),r&&(C-=t),t=0,"inside"!==u.indexLabelPlacement){for(s=C*y,d=0;d<c.length;d++)(g=v[d]).indexLabelTextBlock.x=_.x+s*Math.cos(g.midAngle),g.indexLabelTextBlock.y=_.y+s*Math.sin(g.midAngle),g.indexLabelAngle=g.midAngle,g.radius=C,g.percentInnerRadius=T;for(var a,h,d=0;d<c.length;d++){var g=v[d],b=i(d);if(null!==b){var w=0;if(0>(w=n(a=v[d],h=v[b])-m)){for(var x=h=0,P=0;P<c.length;P++)P!==d&&v[P].hemisphere===g.hemisphere&&(v[P].indexLabelTextBlock.y<g.indexLabelTextBlock.y?h++:x++);x=-1*(w-(h=w/(h+x||1)*x));var M=P=0;"right"===g.hemisphere?(P=l(d,h),+(M=l(b,x=-1*(w-P))).toFixed(k)<+x.toFixed(k)&&+P.toFixed(k)<=+h.toFixed(k)&&l(d,-(x-M))):(P=l(b,h),+(M=l(d,x=-1*(w-P))).toFixed(k)<+x.toFixed(k)&&+P.toFixed(k)<=+h.toFixed(k)&&l(b,-(x-M)))}}}}else for(d=0;d<c.length;d++)g=v[d],b=_.x+(s="pie"===u.type?.7*C:.8*C)*Math.cos(g.midAngle),h=_.y+s*Math.sin(g.midAngle),g.indexLabelTextBlock.x=b,g.indexLabelTextBlock.y=h;for(d=0;d<c.length;d++)0!==(b=(g=v[d]).indexLabelTextBlock.measureText()).height&&0!==b.width&&(b=b=0,"right"===g.hemisphere?(b=p.x2-(g.indexLabelTextBlock.x+g.indexLabelTextBlock.width+f),b*=-1):b=p.x1-(g.indexLabelTextBlock.x-g.indexLabelTextBlock.width-f),0<b&&(!r&&g.indexLabelText&&(.3*g.indexLabelTextBlock.maxWidth>(h="right"===g.hemisphere?p.x2-g.indexLabelTextBlock.x:g.indexLabelTextBlock.x-p.x1)?g.indexLabelText="":g.indexLabelTextBlock.maxWidth=.85*h,.3*g.indexLabelTextBlock.maxWidth<h&&(g.indexLabelTextBlock.x-="right"===g.hemisphere?2:-2)),Math.abs(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-_.y)<C||Math.abs(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2-_.y)<C)&&(9<(b/=Math.abs(Math.cos(g.indexLabelAngle)))&&(b*=.3),b>t&&(t=b)),b=b=0,0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?(b=p.y2-(g.indexLabelTextBlock.y+g.indexLabelTextBlock.height/2+5),b*=-1):b=p.y1-(g.indexLabelTextBlock.y-g.indexLabelTextBlock.height/2-5),0<b&&(!r&&g.indexLabelText&&0===l(d,b*(h=0<g.indexLabelAngle&&g.indexLabelAngle<Math.PI?-1:1))&&l(d,2*h),Math.abs(g.indexLabelTextBlock.x-_.x)<C&&(9<(b/=Math.abs(Math.sin(g.indexLabelAngle)))&&(b*=.3),b>t&&(t=b))));var A=function(e,t,n){for(var i=[],l=0;i.push(v[t]),t!==n;t=(t+1+c.length)%c.length);for(i.sort((function(e,t){return e.y-t.y})),t=0;t<i.length&&(n=i[t],l<.7*e);t++)l+=n.indexLabelTextBlock.height,n.indexLabelTextBlock.text="",n.indexLabelText="",n.indexLabelTextBlock.measureText()};!function(){for(var e=-1,t=-1,l=0,r=!1,o=0;o<c.length;o++)if(r=!1,(a=v[o]).indexLabelText){var s=i(o);if(null!==s){var u,h=v[s];w=0,(u=0>(w=n(a,h)))&&(u=a.indexLabelTextBlock.x,u=!(a.indexLabelTextBlock.x+a.indexLabelTextBlock.width<h.indexLabelTextBlock.x-f||u>h.indexLabelTextBlock.x+h.indexLabelTextBlock.width+f||a.indexLabelTextBlock.y-a.indexLabelTextBlock.height/2>h.indexLabelTextBlock.y+h.indexLabelTextBlock.height/2+f||a.indexLabelTextBlock.y+a.indexLabelTextBlock.height/2<h.indexLabelTextBlock.y-h.indexLabelTextBlock.height/2-f)),u?(0>e&&(e=o),s!==e&&(t=s,l+=-w),0==o%Math.max(c.length/10,3)&&(r=!0)):r=!0,r&&0<l&&0<=e&&0<=t&&(A(l,e,t),t=e=-1,l=0)}}0<l&&A(l,e,t)}()}}function a(){if(o.plotArea.layoutManager.reset(),o.title&&(o.title.dockInsidePlotArea||"center"===o.title.horizontalAlign&&"center"===o.title.verticalAlign)&&o.title.render(),o.subtitles)for(var e=0;e<o.subtitles.length;e++){var t=o.subtitles[e];(t.dockInsidePlotArea||"center"===t.horizontalAlign&&"center"===t.verticalAlign)&&t.render()}o.legend&&(o.legend.dockInsidePlotArea||"center"===o.legend.horizontalAlign&&"center"===o.legend.verticalAlign)&&(o.legend.setLayout(),o.legend.render())}var o=this;if(!(0>=e.dataSeriesIndexes.length)){var s,u=this.data[e.dataSeriesIndexes[0]],c=u.dataPoints,f=10,p=this.plotArea,v=u.dataPointEOs,m=2,y=1.3,b=20/180*Math.PI,k=6,_={x:(p.x2+p.x1)/2,y:(p.y2+p.y1)/2},w=0;e=!1;for(var x=0;x<c.length;x++)w+=Math.abs(c[x].y),!e&&null!=c[x].indexLabel&&0<c[x].indexLabel.toString().length&&(e=!0),!e&&null!=c[x].label&&0<c[x].label.toString().length&&(e=!0);if(0!==w){e=e||null!=u.indexLabel&&0<u.indexLabel.toString().length;var C="inside"!==u.indexLabelPlacement&&e?.75*Math.min(p.width,p.height)/2:.92*Math.min(p.width,p.height)/2;u.radius&&(C=h(u.radius,C));var S=null!=u.innerRadius?h(u.innerRadius,C):.7*C;u.radius=C,"doughnut"===u.type&&(u.innerRadius=S);var T=Math.min(S/C,(C-1)/C);this.pieDoughnutClickHandler=function(e){o.isAnimating||!d(e.dataSeries.explodeOnClick)&&!e.dataSeries.explodeOnClick||((e=e.dataPoint).exploded=!e.exploded,1<this.dataPoints.length&&o._animator.animate(0,500,(function(e){t(e),a()})))},function(){if(u&&c){for(var e=0,t=0,n=0,i=0,l=0;l<c.length;l++){var r=c[l],a=u.dataPointIds[l];v[l].id=a,v[l].objectType="dataPoint",v[l].dataPointIndex=l,v[l].dataSeriesIndex=0;var s=v[l],h={percent:null,total:null},f=null;h=o.getPercentAndTotal(u,r),(u.indexLabelFormatter||r.indexLabelFormatter)&&(f={chart:o.options,dataSeries:u,dataPoint:r,total:h.total,percent:h.percent}),h=r.indexLabelFormatter?r.indexLabelFormatter(f):r.indexLabel?o.replaceKeywordsWithValue(r.indexLabel,r,u,l):u.indexLabelFormatter?u.indexLabelFormatter(f):u.indexLabel?o.replaceKeywordsWithValue(u.indexLabel,r,u,l):r.label?r.label:"",o._eventManager.objectMap[a]=s,s.center={x:_.x,y:_.y},s.y=r.y,s.radius=C,s.percentInnerRadius=T,s.indexLabelText=h,s.indexLabelPlacement=u.indexLabelPlacement,s.indexLabelLineColor=r.indexLabelLineColor?r.indexLabelLineColor:u.options.indexLabelLineColor?u.options.indexLabelLineColor:r.color?r.color:u._colorSet[l%u._colorSet.length],s.indexLabelLineThickness=d(r.indexLabelLineThickness)?u.indexLabelLineThickness:r.indexLabelLineThickness,s.indexLabelLineDashType=r.indexLabelLineDashType?r.indexLabelLineDashType:u.indexLabelLineDashType,s.indexLabelFontColor=r.indexLabelFontColor?r.indexLabelFontColor:u.indexLabelFontColor,s.indexLabelFontStyle=r.indexLabelFontStyle?r.indexLabelFontStyle:u.indexLabelFontStyle,s.indexLabelFontWeight=r.indexLabelFontWeight?r.indexLabelFontWeight:u.indexLabelFontWeight,s.indexLabelFontSize=d(r.indexLabelFontSize)?u.indexLabelFontSize:r.indexLabelFontSize,s.indexLabelFontFamily=r.indexLabelFontFamily?r.indexLabelFontFamily:u.indexLabelFontFamily,s.indexLabelBackgroundColor=r.indexLabelBackgroundColor?r.indexLabelBackgroundColor:u.options.indexLabelBackgroundColor?u.options.indexLabelBackgroundColor:u.indexLabelBackgroundColor,s.indexLabelMaxWidth=r.indexLabelMaxWidth?r.indexLabelMaxWidth:u.indexLabelMaxWidth?u.indexLabelMaxWidth:.33*p.width,s.indexLabelWrap=void 0!==r.indexLabelWrap?r.indexLabelWrap:u.indexLabelWrap,s.startAngle=0===l?u.startAngle?u.startAngle/180*Math.PI:0:v[l-1].endAngle,s.startAngle=(s.startAngle+2*Math.PI)%(2*Math.PI),s.endAngle=s.startAngle+2*Math.PI/w*Math.abs(r.y),r=((r=(s.endAngle+s.startAngle)/2)+2*Math.PI)%(2*Math.PI),s.midAngle=r,s.midAngle>Math.PI/2-b&&s.midAngle<Math.PI/2+b?((0===e||v[n].midAngle>s.midAngle)&&(n=l),e++):s.midAngle>3*Math.PI/2-b&&s.midAngle<3*Math.PI/2+b&&((0===t||v[i].midAngle>s.midAngle)&&(i=l),t++),s.hemisphere=r>Math.PI/2&&r<=3*Math.PI/2?"left":"right",s.indexLabelTextBlock=new A(o.plotArea.ctx,{fontSize:s.indexLabelFontSize,fontFamily:s.indexLabelFontFamily,fontColor:s.indexLabelFontColor,fontStyle:s.indexLabelFontStyle,fontWeight:s.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:s.indexLabelBackgroundColor,maxWidth:s.indexLabelMaxWidth,maxHeight:s.indexLabelWrap?5*s.indexLabelFontSize:1.5*s.indexLabelFontSize,text:s.indexLabelText,padding:0,textBaseline:"top"}),s.indexLabelTextBlock.measureText()}for(a=r=0,h=!1,l=0;l<c.length;l++)s=v[(n+l)%c.length],1<e&&s.midAngle>Math.PI/2-b&&s.midAngle<Math.PI/2+b&&(r<=e/2&&!h?(s.hemisphere="right",r++):(s.hemisphere="left",h=!0));for(h=!1,l=0;l<c.length;l++)s=v[(i+l)%c.length],1<t&&s.midAngle>3*Math.PI/2-b&&s.midAngle<3*Math.PI/2+b&&(a<=t/2&&!h?(s.hemisphere="left",a++):(s.hemisphere="right",h=!0))}}(),r(),r(),r(),r(),this.disableToolTip=!0,this._animator.animate(0,this.animatedRender?this.animationDuration:0,(function(e){var t=o.plotArea.ctx;for(t.clearRect(p.x1,p.y1,p.width,p.height),t.fillStyle=o.backgroundColor,t.fillRect(p.x1,p.y1,p.width,p.height),e=v[0].startAngle+2*Math.PI*e,t=0;t<c.length;t++){var n=0===t?v[t].startAngle:i,i=n+(v[t].endAngle-v[t].startAngle),l=!1;if(i>e&&(i=e,l=!0),i>n&&K(o.plotArea.ctx,v[t].center,v[t].radius,c[t].color?c[t].color:u._colorSet[t%u._colorSet.length],u.type,n,i,u.fillOpacity,v[t].percentInnerRadius),l)break}a()}),(function(){o.disableToolTip=!1,o._animator.animate(0,o.animatedRender?500:0,(function(e){t(e),a()}))}))}}};var $=function(e,t,n,i){void 0===n&&(n=1),0>=Math.round(t.y4-t.y1)||(e.save(),e.globalAlpha=n,e.beginPath(),e.moveTo(Math.round(t.x1),Math.round(t.y1)),e.lineTo(Math.round(t.x2),Math.round(t.y2)),e.lineTo(Math.round(t.x3),Math.round(t.y3)),e.lineTo(Math.round(t.x4),Math.round(t.y4)),"undefined"!==t.x5&&(e.lineTo(Math.round(t.x5),Math.round(t.y5)),e.lineTo(Math.round(t.x6),Math.round(t.y6))),e.closePath(),e.fillStyle=i||t.color,e.fill(),e.globalAplha=1,e.restore())};t.prototype.renderFunnel=function(e){function t(){var e,t,n,i;if("inside"!==p.indexLabelPlacement)for(var l=0;l<W.length;l++)0==X[l].textBlock.text.length?X[l].isDirty=!0:(n=void 0!==(e=W[l]).x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2,t=p.reversed?void 0!==e.x5&&n>B?s(n).x2+1:(e.x2+e.x3)/2+1:void 0!==e.x5?n<B?s(n).x2+1:(e.x4+e.x3)/2+1:(e.x2+e.x3)/2+1,X[l].textBlock.x=t+D,X[l].textBlock.y=n-X[l].height/2,p.reversed?(X[l].textBlock.y+X[l].height>R+y&&(X[l].textBlock.y=R+y-X[l].height),X[l].textBlock.y<V-y&&(X[l].textBlock.y=V-y)):(X[l].textBlock.y<R-y&&(X[l].textBlock.y=R-y),X[l].textBlock.y+X[l].height>V+y&&(X[l].textBlock.y=V+y-X[l].height)));else for(l=0;l<W.length;l++)0==X[l].textBlock.text.length?X[l].isDirty=!0:(i=X[l].width,(t=(e=W[l]).height)>=(n=X[l].height)?(n=l!=z?(e.y1+e.y3)/2-n/2:(e.y1+e.y4)/2-n/2,X[l].textBlock.x=t=l!=z?(e.x4+e.x3)/2-i/2:(e.x5+e.x4)/2-i/2,X[l].textBlock.y=n):X[l].isDirty=!0)}function n(e,t){return(t<W.length?X[t].textBlock.y:p.reversed?R+y:V+y)-(0>e?p.reversed?V-y:R-y:X[e].textBlock.y+X[e].height+G)}function i(e,n,i){var r,a,o,s=[],h=y,d=[];if(-1!==n&&(0<=Q.indexOf(n)?(a=Q.indexOf(n),Q.splice(a,1)):(Q.push(n),Q=Q.sort((function(e,t){return e-t})))),0===Q.length)s=J;else{a=y*(1!=Q.length||0!=Q[0]&&Q[0]!=W.length-1?2:1)/function(){for(var e=0,t=0;t<W.length-1;t++)(0<=Q.indexOf(t)||0<=Q.indexOf(t+1))&&e++;return e}();for(var f=0;f<W.length;f++){if(1==Q.length&&0==Q[0]){if(0===f){s.push(J[f]),r=h;continue}}else 0===f&&(r=-1*h);s.push(J[f]+r),(0<=Q.indexOf(f)||f<W.length&&0<=Q.indexOf(f+1))&&(r+=a)}}o=function(){for(var e=[],t=0;t<W.length;t++)e.push(s[t]-W[t].y1);return e}(),(new Date).getTime(),e._animator.animate(0,i,(function(i){var r=e.plotArea.ctx||e.ctx;K=!0,r.clearRect(m.x1,m.y1,m.x2-m.x1,m.y2-m.y1),r.fillStyle=e.backgroundColor,r.fillRect(m.x1,m.y1,m.width,m.height),function(e){for(var t,n,i=0;i<W.length;i++)t=o[i],n=W[i],t*=e,void 0===d[i]&&(d[i]=0),0>d&&(d*=-1),n.y1+=t-d[i],n.y2+=t-d[i],n.y3+=t-d[i],n.y4+=t-d[i],n.y5&&(n.y5+=t-d[i],n.y6+=t-d[i]),d[i]=t}(i);var a={};for(a.dataSeries=p,a.dataPoint=p.reversed?p.dataPoints[v.length-1-n]:p.dataPoints[n],a.index=p.reversed?v.length-1-n:n,e.toolTip.highlightObjects([a]),a=0;a<W.length;a++)$(r,W[a],p.fillOpacity);c(r),x&&("inside"!==p.indexLabelPlacement?l(r):t(),u(r)),1<=i&&(K=!1)}),null,Z.easing.easeOutQuart)}function l(e){for(var t,n,i,l,r=0;r<W.length;r++)t=s(n=((W[r].y2+W[r].y4)/2<<0)+(l=1==X[r].lineThickness%2?.5:0)).x2-1,i=X[r].textBlock.x,l=(X[r].textBlock.y+X[r].height/2<<0)+l,X[r].isDirty||0==X[r].lineThickness||(e.strokeStyle=X[r].lineColor,e.lineWidth=X[r].lineThickness,e.setLineDash&&e.setLineDash(g(X[r].lineDashType,X[r].lineThickness)),e.beginPath(),e.moveTo(t,n),e.lineTo(i,l),e.stroke())}function r(e){for(e-=1;-1<=e&&-1!=e&&X[e].isDirty;e--);return e}function a(e){for(e+=1;e<=W.length&&e!=W.length&&X[e].isDirty;e++);return e}function s(e){for(var t,n=0;n<v.length;n++)if(W[n].y1<e&&W[n].y4>e){t=W[n];break}return t?{x1:e=t.y6&&e>t.y6?t.x3+(t.x4-t.x3)/(t.y4-t.y3)*(e-t.y3):t.x2+(t.x3-t.x2)/(t.y3-t.y2)*(e-t.y2),x2:e}:-1}function u(e){for(var t=0;t<W.length;t++)X[t].isDirty||(e&&(X[t].textBlock.ctx=e),X[t].textBlock.render(!0))}function c(e){if(h.plotArea.layoutManager.reset(),e.roundRect||o(e),h.title&&(h.title.dockInsidePlotArea||"center"===h.title.horizontalAlign&&"center"===h.title.verticalAlign)&&(h.title.ctx=e,h.title.render()),h.subtitles)for(var t=0;t<h.subtitles.length;t++){var n=h.subtitles[t];(n.dockInsidePlotArea||"center"===n.horizontalAlign&&"center"===n.verticalAlign)&&(h.subtitles.ctx=e,n.render())}h.legend&&(h.legend.dockInsidePlotArea||"center"===h.legend.horizontalAlign&&"center"===h.legend.verticalAlign)&&(h.legend.ctx=e,h.legend.setLayout(),h.legend.render()),j.fNg&&j.fNg(h)}var h=this;if(!(0>=e.dataSeriesIndexes.length)){for(var p=this.data[e.dataSeriesIndexes[0]],v=p.dataPoints,m=this.plotArea,y=.025*m.width,b=.01*m.width,k=0,_=m.height-2*y,w=Math.min(m.width-2*b,2.8*m.height),x=!1,C=0;C<v.length;C++)!x&&null!=v[C].indexLabel&&0<v[C].indexLabel.toString().length&&(x=!0),!x&&null!=v[C].label&&0<v[C].label.toString().length&&(x=!0),(!x&&"function"==typeof p.indexLabelFormatter||"function"==typeof v[C].indexLabelFormatter)&&(x=!0);x=x||null!=p.indexLabel&&0<p.indexLabel.toString().length,"inside"!==p.indexLabelPlacement&&x||(b=(m.width-.75*w)/2),C=m.x1+b;var S=m.x2-b,T=m.y1+y,P=m.y2-y,M=e.targetCanvasCtx||this.plotArea.ctx||this.ctx;if(0!=p.length&&p.dataPoints&&p.visible&&0!==v.length){var I,E,D=30*(S-(e=75*w/100))/100;"funnel"===p.type?(I=d(p.options.neckHeight)?.35*_:p.neckHeight,E=d(p.options.neckWidth)?.25*e:p.neckWidth,I="string"==typeof I&&I.match(/%$/)?(I=parseInt(I))*_/100:parseInt(I),E="string"==typeof E&&E.match(/%$/)?(E=parseInt(E))*e/100:parseInt(E),I>_?I=_:0>=I&&(I=0),E>e?E=e-.5:0>=E&&(E=0)):"pyramid"===p.type&&(E=I=0,p.reversed=!p.reversed);var O=C,F=C+e,R=p.reversed?P:T,N=(b=C+e/2)-E/2,L=b+E/2,B=p.reversed?T+I:P-I,V=p.reversed?T:P;e=[],b=[];var z,W=[],U=(w=[],T),Y=(B-R)/(N-O),q=-Y;if(-1!==(C="area"===(p.valueRepresents?p.valueRepresents:"height")?function(){var e,t,n=O,i=F,l=N,r=L;e=T,t=P-I,r=Math.abs((t-e)*(i-n+(r-l))/2),e=t-e,t=(l=L-N)*(t-P),t=r+(t=Math.abs(t)),r=[];for(var a=0,o=0;o<v.length;o++){if(void 0===v[o].y)return-1;v[o].y="number"==typeof v[o].y?v[o].y:0,a+=Math.abs(v[o].y)}if(0===a)return-1;var s,u,c=r[0]=0,h=0;for(i-=n,c=!1,o=0;o<v.length;o++)n=Math.abs(v[o].y)*t/a,c?s=0==Number(l.toFixed(3))?0:n/l:0>(u=Y*Y*i*i-4*Math.abs(Y)*n)?(n-=c=(i+(u=l))*(e-h)/2,s=e-h,h+=e-h,s+=0==u?0:n/u,h+=n/u,c=!0):(u=i-2*(s=(Math.abs(Y)*i-Math.sqrt(u))/2)/Math.abs(Y),(h+=s)>e&&(c=(i+(u=l))*(e-(h-=s))/2,s=e-h,h+=e-h,s+=(n-=c)/u,h+=n/u,c=!0),i=u),r.push(s);return r}():function(){for(var e=0,t=[],n=0;n<v.length;n++){if(void 0===v[n].y)return-1;v[n].y="number"==typeof v[n].y?v[n].y:0,e+=Math.abs(v[n].y)}if(0===e)return-1;for(n=t[0]=0;n<v.length;n++)t.push(Math.abs(v[n].y)*_/e);return t}())){if(p.reversed)for(w.push(U),E=C.length-1;0<E;E--)w.push(U+=C[E]);else for(E=0;E<C.length;E++)w.push(U+=C[E]);if(p.reversed)for(E=0;E<C.length;E++)w[E]<B?(e.push(N),b.push(L),z=E):(e.push((w[E]-R+Y*O)/Y),b.push((w[E]-R+q*F)/q));else for(E=0;E<C.length;E++)w[E]<B?(e.push((w[E]-R+Y*O)/Y),b.push((w[E]-R+q*F)/q),z=E):(e.push(N),b.push(L));for(E=0;E<C.length-1;E++)U=p.reversed?v[v.length-1-E].color?v[v.length-1-E].color:p._colorSet[(v.length-1-E)%p._colorSet.length]:v[E].color?v[E].color:p._colorSet[E%p._colorSet.length],W.push(E===z?{x1:e[E],y1:w[E],x2:b[E],y2:w[E],x3:L,y3:B,x4:b[E+1],y4:w[E+1],x5:e[E+1],y5:w[E+1],x6:N,y6:B,id:E,height:w[E+1]-w[E],color:U}:{x1:e[E],y1:w[E],x2:b[E],y2:w[E],x3:b[E+1],y3:w[E+1],x4:e[E+1],y4:w[E+1],id:E,height:w[E+1]-w[E],color:U});var G=2,X=[],K=!1,Q=[],J=[];for(C=!1,e=e=0,f(Q),E=0;E<v.length;E++)v[E].exploded&&(C=!0,Q.push(p.reversed?v.length-1-E:E));if(M.clearRect(m.x1,m.y1,m.width,m.height),M.fillStyle=h.backgroundColor,M.fillRect(m.x1,m.y1,m.width,m.height),x&&p.visible&&(function(){if(p&&v){for(var e,t,n,i,l,r,a,u,c,f,g,m,y,b,k=[],_=[],w={percent:null,total:null},x=null,C=0;C<v.length;C++)b=s(b=void 0!==(b=W[C]).x5?(b.y2+b.y4)/2:(b.y2+b.y3)/2).x2+1,k[C]=S-b-D;b=.5*D,C=0;for(var T=v.length-1;C<v.length||0<=T;C++,T--)e=(t=p.reversed?v[T]:v[C]).color?t.color:p.reversed?p._colorSet[(v.length-1-C)%p._colorSet.length]:p._colorSet[C%p._colorSet.length],n=t.indexLabelPlacement||p.indexLabelPlacement||"outside",i=t.indexLabelBackgroundColor||p.indexLabelBackgroundColor||(H?"transparent":null),l=t.indexLabelFontColor||p.indexLabelFontColor||"#979797",r=d(t.indexLabelFontSize)?p.indexLabelFontSize:t.indexLabelFontSize,a=t.indexLabelFontStyle||p.indexLabelFontStyle||"normal",u=t.indexLabelFontFamily||p.indexLabelFontFamily||"arial",c=t.indexLabelFontWeight||p.indexLabelFontWeight||"normal",e=t.indexLabelLineColor||p.options.indexLabelLineColor||e,f="number"==typeof t.indexLabelLineThickness?t.indexLabelLineThickness:"number"==typeof p.indexLabelLineThickness?p.indexLabelLineThickness:2,g=t.indexLabelLineDashType||p.indexLabelLineDashType||"solid",m=void 0!==t.indexLabelWrap?t.indexLabelWrap:void 0===p.indexLabelWrap||p.indexLabelWrap,h._eventManager.objectMap[y=p.dataPointIds[C]]={id:y,objectType:"dataPoint",dataPointIndex:C,dataSeriesIndex:0,funnelSection:W[p.reversed?v.length-1-C:C]},"inside"===p.indexLabelPlacement&&(k[C]=C!==z?p.reversed?W[C].x2-W[C].x1:W[C].x3-W[C].x4:W[C].x3-W[C].x6,20>k[C]&&(k[C]=C!==z&&p.reversed?W[C].x3-W[C].x4:W[C].x2-W[C].x1,k[C]/=2)),((y=t.indexLabelMaxWidth?t.indexLabelMaxWidth:p.options.indexLabelMaxWidth?p.indexLabelMaxWidth:k[C])>k[C]||0>y)&&(y=k[C]),_[C]="inside"===p.indexLabelPlacement&&W[C].height,w=h.getPercentAndTotal(p,t),(p.indexLabelFormatter||t.indexLabelFormatter)&&(x={chart:h.options,dataSeries:p,dataPoint:t,total:w.total,percent:w.percent}),t=t.indexLabelFormatter?t.indexLabelFormatter(x):t.indexLabel?h.replaceKeywordsWithValue(t.indexLabel,t,p,C):p.indexLabelFormatter?p.indexLabelFormatter(x):p.indexLabel?h.replaceKeywordsWithValue(p.indexLabel,t,p,C):t.label?t.label:"",0>=f&&(f=0),1e3>y&&1e3-y<b&&(y+=1e3-y),M.roundRect||o(M),(n=new A(M,{fontSize:r,fontFamily:u,fontColor:l,fontStyle:a,fontWeight:c,horizontalAlign:n,backgroundColor:i,maxWidth:y,maxHeight:!1===_[C]?m?4.28571429*r:1.5*r:_[C],text:t,padding:G})).measureText(),X.push({textBlock:n,id:p.reversed?T:C,isDirty:!1,lineColor:e,lineThickness:f,lineDashType:g,height:n.height<n.maxHeight?n.height:n.maxHeight,width:n.width<n.maxWidth?n.width:n.maxWidth})}}(),t(),function(){var e,t,n,i,l,r=[];l=!1,n=0;for(var o,s=S-F-D/2,u=(s=p.options.indexLabelMaxWidth?p.indexLabelMaxWidth>s?s:p.indexLabelMaxWidth:s,X.length-1);0<=u;u--)o=v[X[u].id],i=(n=X[u]).textBlock,t=(e=a(u)<W.length?X[a(u)]:null)?e.textBlock:null,n=n.height,e&&i.y+n+G>t.y&&(l=!0),((n=o.indexLabelMaxWidth||s)>s||0>n)&&(n=s),r.push(n);if(l)for(u=X.length-1;0<=u;u--)e=W[u],X[u].textBlock.maxWidth=r[r.length-(u+1)],X[u].textBlock.measureText(),X[u].textBlock.x=S-s,l=X[u].textBlock.width<X[u].textBlock.maxWidth?X[u].textBlock.width:X[u].textBlock.maxWidth,X[u].height=n=X[u].textBlock.height<X[u].textBlock.maxHeight?X[u].textBlock.height:X[u].textBlock.maxHeight,X[u].width=l,X[u].textBlock.y=(n=void 0!==e.x5?(e.y2+e.y4)/2:(e.y2+e.y3)/2)-X[u].height/2,p.reversed?(X[u].textBlock.y+X[u].height>R+y&&(X[u].textBlock.y=R+y-X[u].height),X[u].textBlock.y<V-y&&(X[u].textBlock.y=V-y)):(X[u].textBlock.y<R-y&&(X[u].textBlock.y=R-y),X[u].textBlock.y+X[u].height>V+y&&(X[u].textBlock.y=V+y-X[u].height))}(),"inside"!==p.indexLabelPlacement)){for(function(){function e(t,i){var l;if(0>t||t>=X.length)return 0;var o,s=X[t].textBlock;return 0>i?(i*=-1,(l=n(o=r(t),t))>=i?(s.y-=i,i):0==t?(0<l&&(s.y-=l),l):(0<(l+=e(o,-(i-l)))&&(s.y-=l),l)):(l=n(t,o=a(t)))>=i?(s.y+=i,i):t==W.length-1?(0<l&&(s.y+=l),l):(0<(l+=e(o,i-l))&&(s.y+=l),l)}function t(){var e,t,n,l,o,s=0;l=(P-T+2*y)/d,o=d;for(var u,c=1;c<o;c++){n=c*l;for(var h=X.length-1;0<=h;h--)!X[h].isDirty&&X[h].textBlock.y<n&&X[h].textBlock.y+X[h].height>n&&!((u=a(h))>=X.length-1)&&X[h].textBlock.y+X[h].height+G>X[u].textBlock.y&&(X[h].textBlock.y=X[h].textBlock.y+X[h].height-n>n-X[h].textBlock.y?n+1:n-X[h].height-1)}for(u=W.length-1;0<u;u--)if(!X[u].isDirty){if(0>(n=r(u))&&X[n=0].isDirty)break;if(X[u].textBlock.y<X[n].textBlock.y+X[n].height){for(t=t||u,l=u,o=0;X[l].textBlock.y<X[n].textBlock.y+X[n].height+G;){if(e=e||X[l].textBlock.y+X[l].height,o+=X[l].height,o+=G,0>=(l=n)){o+=X[l=0].height;break}if(0>(n=r(l))){o+=X[l=0].height;break}}if(l!=u){s=i(e=o-(e-=s=X[l].textBlock.y),t,l);break}}}return s}function i(e,t,n){var i=[],l=0,r=0;for(e=Math.abs(e);n<=t;n++)i.push(W[n]);for(i.sort((function(e,t){return e.height-t.height})),n=0;n<i.length&&(t=i[n],l<e);n++)r++,l+=X[t.id].height+G,X[t.id].textBlock.text="",X[t.id].indexLabelText="",X[t.id].isDirty=!0,X[t.id].textBlock.measureText();return r}for(var l,o,s,u,c,h,d=1,f=0;f<2*d;f++){for(var p=X.length-1;0<=p&&(0<=r(p)&&r(p),u=(s=X[p]).textBlock,h=(c=a(p)<W.length?X[a(p)]:null)?c.textBlock:null,l=+s.height.toFixed(6),o=+u.y.toFixed(6),!(!s.isDirty&&c&&o+l+G>+h.y.toFixed(6)&&(l=u.y+l+G-h.y,o=e(p,-l),o<l&&(0<o&&(l-=o),o=e(a(p),l),o!=l))));p--);t()}}(),E=0;E<v.length;E++)X[E].isDirty||(e=(S-(e=X[E].textBlock.x+X[E].width))/2,0==E&&(k=e),k>e&&(k=e));for(E=0;E<W.length;E++)W[E].x1+=k,W[E].x2+=k,W[E].x3+=k,W[E].x4+=k,W[E].x5&&(W[E].x5+=k,W[E].x6+=k),X[E].textBlock.x+=k}for(E=0;E<W.length;E++)$(M,k=W[E],p.fillOpacity),J.push(k.y1);if(c(M),x&&p.visible&&("inside"===p.indexLabelPlacement||h.animationEnabled||l(M),h.animationEnabled||u()),!x)for(E=0;E<v.length;E++)h._eventManager.objectMap[k=p.dataPointIds[E]]=e={id:k,objectType:"dataPoint",dataPointIndex:E,dataSeriesIndex:0,funnelSection:W[p.reversed?v.length-1-E:E]};return!h.animationEnabled&&C?i(h,-1,0):h.animationEnabled&&!h.animatedRender&&i(h,-1,0),this.funnelPyramidClickHandler=function(e){var t=-1;!K&&!h.isAnimating&&(d(e.dataSeries.explodeOnClick)||e.dataSeries.explodeOnClick)&&0<=(t=p.reversed?v.length-1-e.dataPointIndex:e.dataPointIndex)&&(e=t,"funnel"!==p.type&&"pyramid"!==p.type||(p.reversed?v[v.length-1-e].exploded=!v[v.length-1-e].exploded:v[e].exploded=!v[e].exploded),i(h,t,500))},{source:M,dest:this.plotArea.ctx,animationCallback:function(e,t){Z.fadeInAnimation(e,t),1<=e&&(i(h,-1,500),c(h.plotArea.ctx||h.ctx))},easingFunction:Z.easing.easeInQuad,animationBase:0}}}}},t.prototype.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},t.prototype.cancelRequestAnimFrame=window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,t.prototype.set=function(e,n,i){i=void 0===i||i,"options"===e?(this.options=n,i&&this.render()):t.base.set.call(this,e,n,i)},t.prototype.exportChart=function(e){var t=(e=void 0===e?{}:e).format?e.format:"png",n=e.fileName?e.fileName:this.exportFileName;if(e.toDataURL)return this.canvas.toDataURL("image/"+t);u(this.canvas,t,n)},t.prototype.print=function(){var e=this.exportChart({toDataURL:!0}),t=document.createElement("iframe");t.setAttribute("class","canvasjs-chart-print-frame"),t.setAttribute("style","position:absolute; width:100%; border: 0px; margin: 0px 0px 0px 0px; padding 0px 0px 0px 0px;"),t.style.height=this.height+"px",this._canvasJSContainer.appendChild(t);var n=this,i=t.contentWindow||t.contentDocument.document||t.contentDocument;i.document.open(),i.document.write('<!DOCTYPE HTML>\n<html><body style="margin: 0px 0px 0px 0px; padding: 0px 0px 0px 0px;"><img src="'+e+'"/><body/></html>'),i.document.close(),setTimeout((function(){i.focus(),i.print(),setTimeout((function(){n._canvasJSContainer.removeChild(t)}),1e3)}),500)},t.prototype.getPercentAndTotal=function(e,t){var n=null,i=null,l=null;if(0<=e.type.indexOf("stacked"))i=0,(n=t.x.getTime?t.x.getTime():t.x)in e.plotUnit.yTotals&&(i=e.plotUnit.yTotals[n],l=isNaN(t.y)?0:t.y/i*100);else if("pie"===e.type||"doughnut"===e.type||"funnel"===e.type||"pyramid"===e.type){for(n=i=0;n<e.dataPoints.length;n++)isNaN(e.dataPoints[n].y)||(i+=e.dataPoints[n].y);l=isNaN(t.y)?0:t.y/i*100}return{percent:l,total:i}},t.prototype.replaceKeywordsWithValue=function(e,t,n,i,l){var r=this;if(l=void 0===l?0:l,(0<=n.type.indexOf("stacked")||"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type)&&(0<=e.indexOf("#percent")||0<=e.indexOf("#total"))){var o="#percent",s="#total",u=this.getPercentAndTotal(n,t);s=isNaN(u.total)?s:u.total,o=isNaN(u.percent)?o:u.percent;do{if(u="",n.percentFormatString)u=n.percentFormatString;else{u="#,##0.";var c=Math.max(Math.ceil(Math.log(1/Math.abs(o))/Math.LN10),2);!isNaN(c)&&isFinite(c)||(c=2);for(var h=0;h<c;h++)u+="#";n.percentFormatString=u}e=(e=e.replace("#percent",re(o,u,r._cultureInfo))).replace("#total",re(s,n.yValueFormatString?n.yValueFormatString:"#,##0.########",r._cultureInfo))}while(0<=e.indexOf("#percent")||0<=e.indexOf("#total"))}return e.replace(/\{.*?\}|"[^"]*"|'[^']*'/g,(function(e){if('"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1])return e.slice(1,e.length-1);e=(e=a(e.slice(1,e.length-1))).replace("#index",l);var o=null;try{var u=e.match(/(.*?)\s*\[\s*(.*?)\s*\]/);u&&0<u.length&&(o=a(u[2]),e=a(u[1]))}catch(s){}if(u=null,"color"===e)return"waterfall"===n.type?t.color?t.color:0<t.y?n.risingColor:n.fallingColor:"error"===n.type?n.color?n.color:n._colorSet[o%n._colorSet.length]:t.color?t.color:n.color?n.color:n._colorSet[i%n._colorSet.length];if(t.hasOwnProperty(e))u=t;else{if(!n.hasOwnProperty(e))return"";u=n}return u=u[e],null!==o&&(u=u[o]),"x"!==e?"y"===e?re(u,t.yValueFormatString?t.yValueFormatString:n.yValueFormatString?n.yValueFormatString:n.yValueFormatString="#,##0.########",r._cultureInfo):"z"===e?re(u,t.zValueFormatString?t.zValueFormatString:n.zValueFormatString?n.zValueFormatString:n.zValueFormatString="#,##0.########",r._cultureInfo):u:"dateTime"===n.axisX.valueType||"dateTime"===n.xValueType||t.x&&t.x.getTime?r.plotInfo.plotTypes[0].plotUnits[0].axisX&&!r.plotInfo.plotTypes[0].plotUnits[0].axisX.logarithmic?le(u,t.xValueFormatString?t.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString=r.axisX&&r.axisX.autoValueFormatString?r.axisX.autoValueFormatString:"DD MMM YY",r._cultureInfo):void 0:re(u,t.xValueFormatString?t.xValueFormatString:n.xValueFormatString?n.xValueFormatString:n.xValueFormatString="#,##0.########",r._cultureInfo)}))},n(R,P),R.prototype.setLayout=function(){var e=this.dockInsidePlotArea?this.chart.plotArea:this.chart,t=e.layoutManager.getFreeSpace(),n=null,i=0,l=0,r=0,a=0,o=this.markerMargin=this.chart.options.legend&&!d(this.chart.options.legend.markerMargin)?this.chart.options.legend.markerMargin:.3*this.fontSize;this.height=0;var s=[],u=[];"top"===this.verticalAlign||"bottom"===this.verticalAlign?(this.orientation="horizontal",n=this.verticalAlign,r=this.maxWidth=null!==this.maxWidth?this.maxWidth:t.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:.5*t.height):"center"===this.verticalAlign&&(this.orientation="vertical",n=this.horizontalAlign,r=this.maxWidth=null!==this.maxWidth?this.maxWidth:.5*t.width,a=this.maxHeight=null!==this.maxHeight?this.maxHeight:t.height),this.errorMarkerColor=[];for(var c=0;c<this.dataSeries.length;c++){var h=this.dataSeries[c];if(h.dataPoints&&h.dataPoints.length)if("pie"!==h.type&&"doughnut"!==h.type&&"funnel"!==h.type&&"pyramid"!==h.type){var f=h.legendMarkerType=h.legendMarkerType?h.legendMarkerType:"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type&&"scatter"!==h.type&&"bubble"!==h.type||!h.markerType?"error"===h.type&&h._linkedSeries?h._linkedSeries.legendMarkerType?h._linkedSeries.legendMarkerType:N.getDefaultLegendMarker(h._linkedSeries.type):N.getDefaultLegendMarker(h.type):h.markerType,p=h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:null}):h.name,v=h.legendMarkerColor=h.legendMarkerColor?h.legendMarkerColor:h.markerColor?h.markerColor:"error"===h.type?d(h.whiskerColor)?h._colorSet[0]:h.whiskerColor:h._colorSet[0],g=h.markerSize||"line"!==h.type&&"stepLine"!==h.type&&"spline"!==h.type?.75*this.lineHeight:0,m=h.legendMarkerBorderColor?h.legendMarkerBorderColor:h.markerBorderColor,y=h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:h.markerBorderThickness?Math.max(1,Math.round(.2*g)):0;"error"===h.type&&this.errorMarkerColor.push(v),p=this.chart.replaceKeywordsWithValue(p,h.dataPoints[0],h,c),s.push(f={markerType:f,markerColor:v,text:p,textBlock:null,chartType:h.type,markerSize:g,lineColor:h._colorSet[0],dataSeriesIndex:h.index,dataPointIndex:null,markerBorderColor:m,markerBorderThickness:y})}else for(var b=0;b<h.dataPoints.length;b++){var k=h.dataPoints[b];f=k.legendMarkerType?k.legendMarkerType:h.legendMarkerType?h.legendMarkerType:N.getDefaultLegendMarker(h.type),p=k.legendText?k.legendText:h.legendText?h.legendText:this.itemTextFormatter?this.itemTextFormatter({chart:this.chart,legend:this.options,dataSeries:h,dataPoint:k}):k.name?k.name:"DataPoint: "+(b+1),v=k.legendMarkerColor?k.legendMarkerColor:h.legendMarkerColor?h.legendMarkerColor:k.color?k.color:h.color?h.color:h._colorSet[b%h._colorSet.length],g=.75*this.lineHeight,m=k.legendMarkerBorderColor?k.legendMarkerBorderColor:h.legendMarkerBorderColor?h.legendMarkerBorderColor:k.markerBorderColor?k.markerBorderColor:h.markerBorderColor,y=k.legendMarkerBorderThickness?k.legendMarkerBorderThickness:h.legendMarkerBorderThickness?h.legendMarkerBorderThickness:k.markerBorderThickness||h.markerBorderThickness?Math.max(1,Math.round(.2*g)):0,f={markerType:f,markerColor:v,text:p=this.chart.replaceKeywordsWithValue(p,k,h,b),textBlock:null,chartType:h.type,markerSize:g,dataSeriesIndex:c,dataPointIndex:b,markerBorderColor:m,markerBorderThickness:y},(k.showInLegend||h.showInLegend&&!1!==k.showInLegend)&&s.push(f)}}if(!0===this.reversed&&s.reverse(),0<s.length){for(h=null,v=p=k=b=0,k=null!==this.itemWidth?null!==this.itemMaxWidth?Math.min(this.itemWidth,this.itemMaxWidth,r):this.itemMaxWidth=Math.min(this.itemWidth,r):null!==this.itemMaxWidth?Math.min(this.itemMaxWidth,r):this.itemMaxWidth=r,k-=(g=0===g?.75*this.lineHeight:g)+o,c=0;c<s.length;c++)m=k,"line"!==(f=s[c]).chartType&&"spline"!==f.chartType&&"stepLine"!==f.chartType||(m-=.2*this.lineHeight),0>=a||void 0===a||0>=m||void 0===m||("horizontal"===this.orientation?(f.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:m,maxHeight:this.itemWrap?a:this.lineHeight,angle:0,text:f.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),f.textBlock.measureText(),null!==this.itemWidth&&(f.textBlock.width=this.itemWidth-(g+o+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0))),(!h||h.width+Math.round(f.textBlock.width+g+o+(0===h.width?0:this.horizontalSpacing)+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0))>r)&&(u.push(h={items:[],width:0}),this.height+=p,p=0),p=Math.max(p,f.textBlock.height)):(f.textBlock=new A(this.ctx,{x:0,y:0,maxWidth:k,maxHeight:!0===this.itemWrap?a:1.5*this.fontSize,angle:0,text:f.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"middle"}),f.textBlock.measureText(),null!==this.itemWidth&&(f.textBlock.width=this.itemWidth-(g+o+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0))),this.height<a-this.lineHeight?u.push(h={items:[],width:0}):(h=u[b],b=(b+1)%u.length),this.height+=f.textBlock.height),f.textBlock.x=h.width,f.textBlock.y=0,h.width+=Math.round(f.textBlock.width+g+o+(0===h.width?0:this.horizontalSpacing)+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0)),h.items.push(f),this.width=Math.max(h.width,this.width),v=f.textBlock.width+(g+o+("line"===f.chartType||"spline"===f.chartType||"stepLine"===f.chartType?.2*this.lineHeight:0)));this.itemWidth=v,this.height=!1===this.itemWrap?u.length*this.lineHeight:this.height+p,this.height=Math.min(a,this.height),this.width=Math.min(r,this.width)}for("top"===this.verticalAlign?(l="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,i=t.y1):"center"===this.verticalAlign?(l="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,i=t.y1+t.height/2-this.height/2):"bottom"===this.verticalAlign&&(l="left"===this.horizontalAlign?t.x1:"right"===this.horizontalAlign?t.x2-this.width:t.x1+t.width/2-this.width/2,i=t.y2-this.height),this.items=s,c=0;c<this.items.length;c++)(f=s[c]).id=++this.chart._eventManager.lastObjectId,this.chart._eventManager.objectMap[f.id]={id:f.id,objectType:"legendItem",legendItemIndex:c,dataSeriesIndex:f.dataSeriesIndex,dataPointIndex:f.dataPointIndex};this.markerSize=g,this.rows=u,0<s.length&&e.layoutManager.registerSpace(n,{width:this.width+2+2,height:this.height+5+5}),this.bounds={x1:l,y1:i,x2:l+this.width,y2:i+this.height}},R.prototype.render=function(){var e=this.bounds.x1,t=this.bounds.y1,n=this.markerMargin,i=this.maxWidth,l=this.maxHeight,r=this.markerSize,a=this.rows;(0<this.borderThickness&&this.borderColor||this.backgroundColor)&&this.ctx.roundRect(e,t,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor);for(var o=0,s=0;s<a.length;s++){for(var u=a[s],h=0,d=0;d<u.items.length;d++){var f=u.items[d],p=f.textBlock.x+e+(0===d?.2*r:this.horizontalSpacing),v=t+o,g=p;if(this.chart.data[f.dataSeriesIndex].visible||(this.ctx.globalAlpha=.5),this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(e,t,i,Math.max(l-l%this.lineHeight,0)),this.ctx.clip(),"line"!==f.chartType&&"stepLine"!==f.chartType&&"spline"!==f.chartType||(this.ctx.strokeStyle=f.lineColor,this.ctx.lineWidth=Math.ceil(this.lineHeight/8),this.ctx.beginPath(),this.ctx.moveTo(p-.1*this.lineHeight,v+this.lineHeight/2),this.ctx.lineTo(p+.85*this.lineHeight,v+this.lineHeight/2),this.ctx.stroke(),g-=.1*this.lineHeight),"error"===f.chartType){this.ctx.strokeStyle=this.errorMarkerColor[0],this.ctx.lineWidth=r/8,this.ctx.beginPath();var m=p-.08*this.lineHeight+.1*this.lineHeight,y=v+.15*this.lineHeight,b=.7*this.lineHeight,k=b+.02*this.lineHeight;this.ctx.moveTo(m,y),this.ctx.lineTo(m+b,y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(m+b/2,y),this.ctx.lineTo(m+b/2,y+k),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(m,y+k),this.ctx.lineTo(m+b,y+k),this.ctx.stroke(),this.errorMarkerColor.shift()}ee.drawMarker(p+r/2,v+this.lineHeight/2,this.ctx,f.markerType,"error"===f.chartType||"line"===f.chartType||"spline"===f.chartType?f.markerSize/2:f.markerSize,f.markerColor,f.markerBorderColor,f.markerBorderThickness),f.textBlock.x=p+n+r,"line"!==f.chartType&&"stepLine"!==f.chartType&&"spline"!==f.chartType||(f.textBlock.x+=.1*this.lineHeight),f.textBlock.y=Math.round(v+this.lineHeight/2),f.textBlock.render(!0),this.ctx.restore(),h=0<d?Math.max(h,f.textBlock.height):f.textBlock.height,this.chart.data[f.dataSeriesIndex].visible||(this.ctx.globalAlpha=1),p=c(f.id),this.ghostCtx.fillStyle=p,this.ghostCtx.beginPath(),this.ghostCtx.fillRect(g,f.textBlock.y-this.lineHeight/2,f.textBlock.x+f.textBlock.width-g,f.textBlock.height),f.x1=this.chart._eventManager.objectMap[f.id].x1=g,f.y1=this.chart._eventManager.objectMap[f.id].y1=f.textBlock.y-this.lineHeight/2,f.x2=this.chart._eventManager.objectMap[f.id].x2=f.textBlock.x+f.textBlock.width,f.y2=this.chart._eventManager.objectMap[f.id].y2=f.textBlock.y+f.textBlock.height-this.lineHeight/2}o+=h}},n(N,P),N.prototype.getDefaultAxisPlacement=function(){var e=this.type;return"column"===e||"line"===e||"stepLine"===e||"spline"===e||"area"===e||"stepArea"===e||"splineArea"===e||"stackedColumn"===e||"stackedLine"===e||"bubble"===e||"scatter"===e||"stackedArea"===e||"stackedColumn100"===e||"stackedLine100"===e||"stackedArea100"===e||"candlestick"===e||"ohlc"===e||"rangeColumn"===e||"rangeArea"===e||"rangeSplineArea"===e||"boxAndWhisker"===e||"waterfall"===e?"normal":"bar"===e||"stackedBar"===e||"stackedBar100"===e||"rangeBar"===e?"xySwapped":"pie"===e||"doughnut"===e||"funnel"===e||"pyramid"===e?"none":("error"!==e&&window.console.log("Unknown Chart Type: "+e),null)},N.getDefaultLegendMarker=function(e){return"column"===e||"stackedColumn"===e||"stackedLine"===e||"bar"===e||"stackedBar"===e||"stackedBar100"===e||"bubble"===e||"scatter"===e||"stackedColumn100"===e||"stackedLine100"===e||"stepArea"===e||"candlestick"===e||"ohlc"===e||"rangeColumn"===e||"rangeBar"===e||"rangeArea"===e||"rangeSplineArea"===e||"boxAndWhisker"===e||"waterfall"===e?"square":"line"===e||"stepLine"===e||"spline"===e||"pie"===e||"doughnut"===e?"circle":"area"===e||"splineArea"===e||"stackedArea"===e||"stackedArea100"===e||"funnel"===e||"pyramid"===e?"triangle":"error"===e?"none":(window.console.log("Unknown Chart Type: "+e),null)},N.prototype.getDataPointAtX=function(e,t){if(!this.dataPoints||0===this.dataPoints.length)return null;var n={dataPoint:null,distance:1/0,index:NaN},i=null,l=0,r=0,a=1,o=1/0,s=0,u=0,c=0;for("none"!==this.chart.plotInfo.axisPlacement&&(c=this.axisX.logarithmic?1<(c=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/c*Math.log(e/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(c=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/c*(e-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(r=0<a?c+l:c-l)&&r<this.dataPoints.length){i=this.dataPoints[r];var h=this.axisX.logarithmic?i.x>e?i.x/e:e/i.x:Math.abs(i.x-e);if(h<n.distance&&(n.dataPoint=i,n.distance=h,n.index=r),(i=h)<=o?o=i:0<a?s++:u++,1e3<s&&1e3<u)break}else if(0>c-l&&c+l>=this.dataPoints.length)break;-1===a?(l++,a=1):a=-1}return t||n.dataPoint.x!==e?t&&null!==n.dataPoint?n:null:n},N.prototype.getDataPointAtXY=function(e,t,n){if(!this.dataPoints||0===this.dataPoints.length||e<this.chart.plotArea.x1||e>this.chart.plotArea.x2||t<this.chart.plotArea.y1||t>this.chart.plotArea.y2)return null;n=n||!1;var i=[],l=0,r=0,a=1,o=!1,s=1/0,u=0,c=0,h=0;for("none"!==this.chart.plotInfo.axisPlacement&&(h=(this.chart.axisX[0]?this.chart.axisX[0]:this.chart.axisX2[0]).getXValueAt({x:e,y:t}),h=this.axisX.logarithmic?1<(d=Math.log(this.dataPoints[this.dataPoints.length-1].x/this.dataPoints[0].x))?Math.min(Math.max((this.dataPoints.length-1)/d*Math.log(h/this.dataPoints[0].x)>>0,0),this.dataPoints.length):0:0<(d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x)?Math.min(Math.max((this.dataPoints.length-1)/d*(h-this.dataPoints[0].x)>>0,0),this.dataPoints.length):0);;){if(0<=(r=0<a?h+l:h-l)&&r<this.dataPoints.length){var d,f=this.dataPoints[r],p=null;if(d=this.chart._eventManager.objectMap[this.dataPointIds[r]]){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":case"rangeColumn":case"rangeBar":case"waterfall":case"error":e>=d.x1&&e<=d.x2&&t>=d.y1&&t<=d.y2&&(i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y1-t),Math.abs(d.y2-t))}),o=!0);break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var v=b("markerSize",f,this)||4,g=n?20:v;(p=Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y1-t,2)))<=g&&i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:p}),(d=Math.abs(d.x1-e))<=s?s=d:0<a?u++:c++,p<=v/2&&(o=!0);break;case"rangeArea":case"rangeSplineArea":v=b("markerSize",f,this)||4,g=n?20:v,(p=Math.min(Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y1-t,2)),Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y2-t,2))))<=g&&i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:p}),(d=Math.abs(d.x1-e))<=s?s=d:0<a?u++:c++,p<=v/2&&(o=!0);break;case"bubble":v=d.size,(p=Math.sqrt(Math.pow(d.x1-e,2)+Math.pow(d.y1-t,2)))<=v/2&&(i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:p}),o=!0);break;case"pie":case"doughnut":v=d.center,g="doughnut"===this.type?d.percentInnerRadius*d.radius:0,(p=Math.sqrt(Math.pow(v.x-e,2)+Math.pow(v.y-t,2)))<d.radius&&p>g&&(0>(p=Math.atan2(t-v.y,e-v.x))&&(p+=2*Math.PI),p=Number(((p/Math.PI*180%360+360)%360).toFixed(12)),v=Number(((d.startAngle/Math.PI*180%360+360)%360).toFixed(12)),0===(g=Number(((d.endAngle/Math.PI*180%360+360)%360).toFixed(12)))&&1<d.endAngle&&(g=360),v>=g&&0!==f.y&&(g+=360,p<v&&(p+=360)),p>v&&p<g&&(i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:0}),o=!0));break;case"funnel":case"pyramid":t>(p=d.funnelSection).y1&&t<p.y4&&(p.y6?t>p.y6?(r=p.x6+(p.x5-p.x6)/(p.y5-p.y6)*(t-p.y6),p=p.x3+(p.x4-p.x3)/(p.y4-p.y3)*(t-p.y3)):(r=p.x1+(p.x6-p.x1)/(p.y6-p.y1)*(t-p.y1),p=p.x2+(p.x3-p.x2)/(p.y3-p.y2)*(t-p.y2)):(r=p.x1+(p.x4-p.x1)/(p.y4-p.y1)*(t-p.y1),p=p.x2+(p.x3-p.x2)/(p.y3-p.y2)*(t-p.y2)),e>r&&e<p&&(i.push({dataPoint:f,dataPointIndex:d.dataPointIndex,dataSeries:this,distance:0}),o=!0));break;case"boxAndWhisker":(e>=d.x1-d.borderThickness/2&&e<=d.x2+d.borderThickness/2&&t>=d.y4-d.borderThickness/2&&t<=d.y1+d.borderThickness/2||Math.abs(d.x2-e+d.x1-e)<d.borderThickness&&t>=d.y1&&t<=d.y4)&&(i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y2-t),Math.abs(d.y3-t))}),o=!0);break;case"candlestick":(e>=d.x1-d.borderThickness/2&&e<=d.x2+d.borderThickness/2&&t>=d.y2-d.borderThickness/2&&t<=d.y3+d.borderThickness/2||Math.abs(d.x2-e+d.x1-e)<d.borderThickness&&t>=d.y1&&t<=d.y4)&&(i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y2-t),Math.abs(d.y3-t))}),o=!0);break;case"ohlc":(Math.abs(d.x2-e+d.x1-e)<d.borderThickness&&t>=d.y2&&t<=d.y3||e>=d.x1&&e<=(d.x2+d.x1)/2&&t>=d.y1-d.borderThickness/2&&t<=d.y1+d.borderThickness/2||e>=(d.x1+d.x2)/2&&e<=d.x2&&t>=d.y4-d.borderThickness/2&&t<=d.y4+d.borderThickness/2)&&(i.push({dataPoint:f,dataPointIndex:r,dataSeries:this,distance:Math.min(Math.abs(d.x1-e),Math.abs(d.x2-e),Math.abs(d.y2-t),Math.abs(d.y3-t))}),o=!0)}if(o||1e3<u&&1e3<c)break}}else if(0>h-l&&h+l>=this.dataPoints.length)break;-1===a?(l++,a=1):a=-1}for(e=null,t=0;t<i.length;t++)e?i[t].distance<=e.distance&&(e=i[t]):e=i[t];return e},N.prototype.getMarkerProperties=function(e,t,n,i){var l=this.dataPoints;return{x:t,y:n,ctx:i,type:l[e].markerType?l[e].markerType:this.markerType,size:l[e].markerSize?l[e].markerSize:this.markerSize,color:l[e].markerColor?l[e].markerColor:this.markerColor?this.markerColor:l[e].color?l[e].color:this.color?this.color:this._colorSet[e%this._colorSet.length],borderColor:l[e].markerBorderColor?l[e].markerBorderColor:this.markerBorderColor?this.markerBorderColor:null,borderThickness:l[e].markerBorderThickness?l[e].markerBorderThickness:this.markerBorderThickness?this.markerBorderThickness:null}},n(L,P),L.prototype.createExtraLabelsForLog=function(e){if(!(5<(e=(e||0)+1))){var t=this.logLabelValues[0]||this.intervalStartPosition;if(Math.log(this.range)/Math.log(t/this.viewportMinimum)<this.noTicks-1){for(var n=L.getNiceNumber((t-this.viewportMinimum)/Math.min(Math.max(2,this.noTicks-this.logLabelValues.length),3),!0),i=Math.ceil(this.viewportMinimum/n)*n;i<t;i+=n)i<this.viewportMinimum||this.logLabelValues.push(i);this.logLabelValues.sort(s),this.createExtraLabelsForLog(e)}}},L.prototype.createLabels=function(){var e,t,n,i,r,a=0,o=0,s=0,u=0,c=(o=0,o=this.interval,0),h=.6*this.chart.height;e=!1;var f=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],p=f.length?d(this.scaleBreaks.firstBreakIndex)?0:this.scaleBreaks.firstBreakIndex:0;if("axisX"!==this.type||"dateTime"!==this.valueType||this.logarithmic){if(n=this.viewportMaximum,this.labels){e=Math.ceil(o);var v=!1;for(a=o=Math.ceil(this.intervalStartPosition);a<this.viewportMaximum;a+=e){if(!this.labels[a]){v=!1;break}v=!0}v&&(this.interval=e,this.intervalStartPosition=o)}if(this.logarithmic&&!this.equidistantInterval)for(this.logLabelValues||(this.logLabelValues=[],this.createExtraLabelsForLog()),o=0,v=p;o<this.logLabelValues.length;o++)if((a=this.logLabelValues[o])<this.viewportMinimum)o++;else{for(;v<f.length&&a>f[v].endValue;v++);r=a,(e=v<f.length&&a>=f[v].startValue&&a<=f[v].endValue)||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:r,label:this.labels[r]?this.labels[r]:null}):"axisX"===this.type&&this.labels[r]?this.labels[r]:re(r,this.valueFormatString,this.chart._cultureInfo),e=new A(this.ctx,_defineProperty2({x:0,y:0,maxWidth:s,maxHeight:u,angle:this.labelAngle,text:this.prefix+e+this.suffix,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"},"borderThickness",0)),this._labels.push({position:r,textBlock:e,effectiveHeight:null}))}for(v=p,a=this.intervalStartPosition;a<=n;a=parseFloat(1e-12>this.interval?this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval:(this.logarithmic&&this.equidistantInterval?a*Math.pow(this.logarithmBase,this.interval):a+this.interval).toFixed(12))){for(;v<f.length&&a>f[v].endValue;v++);r=a,(e=v<f.length&&a>=f[v].startValue&&a<=f[v].endValue)||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:r,label:this.labels[r]?this.labels[r]:null}):"axisX"===this.type&&this.labels[r]?this.labels[r]:re(r,this.valueFormatString,this.chart._cultureInfo),e=new A(this.ctx,{x:0,y:0,maxWidth:s,maxHeight:u,angle:this.labelAngle,text:this.prefix+e+this.suffix,horizontalAlign:"left",backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:r,textBlock:e,effectiveHeight:null}))}}else for(this.intervalStartPosition=this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval),n=l(new Date(this.viewportMaximum),this.interval,this.intervalType),v=p,a=this.intervalStartPosition;a<n;l(a,o,this.intervalType)){for(e=a.getTime();v<f.length&&e>f[v].endValue;v++);r=e,(e=v<f.length&&e>=f[v].startValue&&e<=f[v].endValue)||(e=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.options,value:new Date(r),label:this.labels[r]?this.labels[r]:null}):"axisX"===this.type&&this.labels[r]?this.labels[r]:le(r,this.valueFormatString,this.chart._cultureInfo),e=new A(this.ctx,{x:0,y:0,maxWidth:s,backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxHeight:u,angle:this.labelAngle,text:this.prefix+e+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this._labels.push({position:r,textBlock:e,effectiveHeight:null,breaksLabelType:void 0}))}for("bottom"===this._position||"top"===this._position?(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.width*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.width/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*J[this.intervalType+"Duration"]*this.interval,s=void 0===this.options.labelMaxWidth?.5*this.chart.width>>0:this.options.labelMaxWidth,this.chart.panEnabled||(u=void 0===this.options.labelWrap||this.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize)):"left"!==this._position&&"right"!==this._position||(c=this.logarithmic&&!this.equidistantInterval&&2<=this._labels.length?this.lineCoordinates.height*Math.log(Math.min(this._labels[this._labels.length-1].position/this._labels[this._labels.length-2].position,this._labels[1].position/this._labels[0].position))/Math.log(this.range):this.lineCoordinates.height/(this.logarithmic&&this.equidistantInterval?Math.log(this.range)/Math.log(this.logarithmBase):Math.abs(this.range))*J[this.intervalType+"Duration"]*this.interval,this.chart.panEnabled||(s=void 0===this.options.labelMaxWidth?.3*this.chart.width>>0:this.options.labelMaxWidth),u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize),o=0;o<this._labels.length;o++){(e=this._labels[o].textBlock).maxWidth=s,e.maxHeight=u;var g=e.measureText();i=g.height}if(n=[],p=f=0,this.labelAutoFit||this.options.labelAutoFit)if(d(this.labelAngle)||(this.labelAngle=(this.labelAngle%360+360)%360,90<this.labelAngle&&270>this.labelAngle?this.labelAngle-=180:270<=this.labelAngle&&360>=this.labelAngle&&(this.labelAngle-=360)),"bottom"===this._position||"top"===this._position)if(s=.9*c>>0,p=0,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++){var m;if(!this._labels[a].breaksLabelType)for(v=(e=this._labels[a].textBlock).text.split(" "),o=0;o<v.length;o++)r=v[o],this.ctx.font=e.fontStyle+" "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily,(r=this.ctx.measureText(r)).width>p&&(m=a,p=r.width)}for(a=0,a=this.intervalStartPosition<this.viewportMinimum?1:0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(e=this._labels[a].textBlock).measureText(),v=a+1;v<this._labels.length;v++)if(!this._labels[v].breaksLabelType){t=(t=this._labels[v].textBlock).measureText();break}if(n.push(e.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle)if(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o),r=(h-(i+e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(-25)))/Math.sin(Math.PI/180*Math.abs(-25)),d(this.options.labelWrap)){if(d(this.options.labelWrap))if(d(this.options.labelMaxWidth)){if(!d(t))if(o=g.width+t.width>>0,v=this.labelFontSize,p<s)o-2*s>f&&(f=o-2*s,o>=2*s&&o<2.2*s?(this.sessionVariables.labelMaxWidth=s,d(this.options.labelFontSize)&&12<v&&(v=Math.floor(12/13*v),e.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?v:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):o>=2.2*s&&o<2.8*s?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelFontSize=v):o>=2.8*s&&o<3.2*s?(this.sessionVariables.labelMaxWidth=Math.max(s,p),this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?v:this.options.labelFontSize,this.sessionVariables.labelAngle=this.labelAngle):o>=3.2*s&&o<3.6*s?(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelFontSize=this.labelFontSize):o>3.6*s&&o<5*s?(d(this.options.labelFontSize)&&12<v&&(v=Math.floor(12/13*v),e.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?v:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=r):o>5*s&&(this.sessionVariables.labelWrap=!0,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelFontSize=v,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=this.labelAngle));else if(m===a&&(0===m&&p+this._labels[m+1].textBlock.measureText().width-2*s>f||m===this._labels.length-1&&p+this._labels[m-1].textBlock.measureText().width-2*s>f||0<m&&m<this._labels.length-1&&p+this._labels[m+1].textBlock.measureText().width-2*s>f&&p+this._labels[m-1].textBlock.measureText().width-2*s>f))f=0===m?p+this._labels[m+1].textBlock.measureText().width-2*s:p+this._labels[m-1].textBlock.measureText().width-2*s,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?v:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=r;else if(0===f)for(this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?v:this.options.labelFontSize,this.sessionVariables.labelWrap=!0,o=0;o<this._labels.length;o++)(e=this._labels[o].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,p),r),g=e.measureText(),o<this._labels.length-1&&((t=this._labels[v=o+1].textBlock).maxWidth=this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,p),r),t=t.measureText(),g.width+t.width>>0>2*s&&(this.sessionVariables.labelAngle=-25))}else this.options.labelMaxWidth<s?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u)}else this.labelWrap?d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=Math.min(Math.max(s,p),r),this.sessionVariables.labelWrap=this.labelWrap,g.width+t.width>>0>2*s&&(this.sessionVariables.labelAngle=-25)):(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?-25:this.sessionVariables.labelAngle):d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=s,g.width+t.width>>0>2*s&&(this.sessionVariables.labelAngle=-25,this.sessionVariables.labelMaxWidth=r)):(this.sessionVariables.labelAngle=this.sessionVariables.labelMaxWidth>s?-25:this.sessionVariables.labelAngle,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=this.labelWrap);else this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:Math.min((o-s*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)),o),r=0!=this.labelAngle?(h-(i+e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))/Math.sin(Math.PI/180*Math.abs(this.labelAngle)):s,this.sessionVariables.labelMaxHeight=u=this.labelWrap?(h-r*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)):1.5*this.labelFontSize,d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:r,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=r,this.sessionVariables.labelMaxHeight=o<.9*c?.9*c:o,this.sessionVariables.labelWrap=this.labelWrap)):(this.options.labelWrap?(this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:r):(d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:r,this.sessionVariables.labelWrap=this.labelWrap),this.sessionVariables.labelMaxHeight=u)}for(o=0;o<this._labels.length;o++)(e=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,e.fontSize=this.sessionVariables.labelFontSize,e.angle=this.labelAngle=this.sessionVariables.labelAngle,e.wrap=this.labelWrap=this.sessionVariables.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText()}else for(a=0;a<this._labels.length;a++)(e=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,e.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,e.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,e.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText();else if("left"===this._position||"right"===this._position)if(s=d(this.options.labelMaxWidth)?.3*this.chart.width>>0:this.options.labelMaxWidth,u=void 0===this.options.labelWrap||this.labelWrap?.3*this.chart.height>>0:1.5*this.labelFontSize,!this.chart.panEnabled&&1<=this._labels.length){for(this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle,this.sessionVariables.labelWrap=this.labelWrap,a=0;a<this._labels.length;a++)if(!this._labels[a].breaksLabelType){for(g=(e=this._labels[a].textBlock).measureText(),v=a+1;v<this._labels.length;v++)if(!this._labels[v].breaksLabelType){t=(t=this._labels[v].textBlock).measureText();break}n.push(e.height),this.sessionVariables.labelMaxHeight=Math.max.apply(Math,n),o=s*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(u-e.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.cos(Math.PI/180*Math.abs(this.labelAngle)),Math.sin(Math.PI/180*Math.abs(this.labelAngle)),d(this.options.labelAngle)&&isNaN(this.options.labelAngle)&&0!==this.options.labelAngle?d(this.options.labelWrap)?d(this.options.labelWrap)&&(d(this.options.labelMaxWidth)?d(t)||(c=g.height+t.height>>0)-2*u>p&&(p=c-2*u,c>=2*u&&c<2.4*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize):c>=2.4*u&&c<2.8*u?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelFontSize=this.labelFontSize,this.sessionVariables.labelWrap=!0):c>=2.8*u&&c<3.2*u?(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelWrap=!0,d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>=3.2*u&&c<3.6*u?(this.sessionVariables.labelMaxHeight=o,this.sessionVariables.labelWrap=!0,this.sessionVariables.labelFontSize=this.labelFontSize):c>3.6*u&&c<10*u?(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle):c>10*u&&c<50*u&&(d(this.options.labelFontSize)&&12<this.labelFontSize&&(this.labelFontSize=Math.floor(12/13*this.labelFontSize),e.measureText()),this.sessionVariables.labelFontSize=d(this.options.labelFontSize)?this.labelFontSize:this.options.labelFontSize,this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=s,this.sessionVariables.labelAngle=d(this.sessionVariables.labelAngle)?0:this.sessionVariables.labelAngle)):(this.sessionVariables.labelMaxHeight=u,this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth)):(this.sessionVariables.labelMaxWidth=this.labelWrap?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:this.labelMaxWidth?this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth:s,this.sessionVariables.labelMaxHeight=u):(this.sessionVariables.labelAngle=this.labelAngle,this.sessionVariables.labelMaxWidth=0===this.labelAngle?s:Math.min((o-u*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))/Math.cos(Math.PI/180*Math.abs(this.labelAngle)),u),d(this.options.labelWrap)?d(this.options.labelWrap)&&(this.labelWrap&&!d(this.options.labelMaxWidth)?(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth>this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxHeight=o):(this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:s,this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:o,d(this.options.labelMaxWidth)&&(this.sessionVariables.labelAngle=this.labelAngle))):this.options.labelWrap?(this.sessionVariables.labelMaxHeight=0===this.labelAngle?u:o,this.sessionVariables.labelWrap=this.labelWrap,this.sessionVariables.labelMaxWidth=s):(this.sessionVariables.labelMaxHeight=u,d(this.options.labelMaxWidth),this.sessionVariables.labelMaxWidth=this.options.labelMaxWidth?this.options.labelMaxWidth:this.sessionVariables.labelMaxWidth,this.sessionVariables.labelWrap=this.labelWrap))}for(o=0;o<this._labels.length;o++)(e=this._labels[o].textBlock).maxWidth=this.labelMaxWidth=this.sessionVariables.labelMaxWidth,e.fontSize=this.labelFontSize=this.sessionVariables.labelFontSize,e.angle=this.labelAngle=this.sessionVariables.labelAngle,e.wrap=this.labelWrap=this.sessionVariables.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText()}else for(a=0;a<this._labels.length;a++)(e=this._labels[a].textBlock).maxWidth=this.labelMaxWidth=d(this.options.labelMaxWidth)?this.sessionVariables.labelMaxWidth:this.options.labelMaxWidth,e.fontSize=this.labelFontSize=d(this.options.labelFontSize)?this.sessionVariables.labelFontSize:this.options.labelFontSize,e.angle=this.labelAngle=d(this.options.labelAngle)?this.sessionVariables.labelAngle:this.labelAngle,e.wrap=this.labelWrap=d(this.options.labelWrap)?this.sessionVariables.labelWrap:this.options.labelWrap,e.maxHeight=this.sessionVariables.labelMaxHeight,e.measureText();for(a=0;a<this.stripLines.length;a++){var y;"outside"===(s=this.stripLines[a]).labelPlacement?(u=this.sessionVariables.labelMaxWidth,"bottom"!==this._position&&"top"!==this._position||(y=d(s.options.labelWrap)?this.sessionVariables.labelMaxHeight:s.labelWrap?.8*this.chart.height>>0:1.5*this.labelFontSize),"left"!==this._position&&"right"!==this._position||(y=d(s.options.labelWrap)?this.sessionVariables.labelMaxHeight:s.labelWrap?.8*this.chart.width>>0:1.5*this.labelFontSize),d(s.labelBackgroundColor)&&(s.labelBackgroundColor="#EEEEEE")):(u="bottom"===this._position||"top"===this._position?.9*this.chart.width>>0:.9*this.chart.height>>0,y=d(s.options.labelWrap)||s.labelWrap?"bottom"===this._position||"top"===this._position?.8*this.chart.width>>0:.8*this.chart.height>>0:1.5*this.labelFontSize,d(s.labelBackgroundColor)&&(s.labelBackgroundColor=d(s.startValue)&&0!==s.startValue?H?"transparent":null:"#EEEEEE")),e=new A(this.ctx,{x:0,y:0,backgroundColor:s.labelBackgroundColor,borderColor:s.labelBorderColor,borderThickness:s.labelBorderThickness,cornerRadius:s.labelCornerRadius,maxWidth:s.options.labelMaxWidth?s.options.labelMaxWidth:u,maxHeight:y,angle:this.labelAngle,text:s.labelFormatter?s.labelFormatter({chart:this.chart,axis:this,stripLine:s}):s.label,horizontalAlign:"left",fontSize:"outside"===s.labelPlacement?s.options.labelFontSize?s.labelFontSize:this.labelFontSize:s.labelFontSize,fontFamily:"outside"===s.labelPlacement?s.options.labelFontFamily?s.labelFontFamily:this.labelFontFamily:s.labelFontFamily,fontWeight:"outside"===s.labelPlacement?s.options.labelFontWeight?s.labelFontWeight:this.labelFontWeight:s.labelFontWeight,fontColor:s.labelFontColor||s.color,fontStyle:"outside"===s.labelPlacement?s.options.labelFontStyle?s.labelFontStyle:this.fontWeight:s.labelFontStyle,textBaseline:"middle"}),this._stripLineLabels.push({position:s.value,textBlock:e,effectiveHeight:null,stripLine:s})}},L.prototype.createLabelsAndCalculateWidth=function(){var e=0,t=0;this._labels=[],this._stripLineLabels=[];var n=this.chart.isNavigator?0:5;if("left"===this._position||"right"===this._position){for(this.createLabels(),t=0;t<this._labels.length;t++){var i=this._labels[t].textBlock,l=i.measureText(),r=0;e<(r=0===this.labelAngle?l.width:l.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(l.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(e=r),this._labels[t].effectiveWidth=r}for(t=0;t<this._stripLineLabels.length;t++)"outside"===this._stripLineLabels[t].stripLine.labelPlacement&&this._stripLineLabels[t].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[t].stripLine.value<=this.viewportMaximum&&(l=(i=this._stripLineLabels[t].textBlock).measureText(),e<(r=0===this.labelAngle?l.width:l.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+(l.height-i.fontSize/2)*Math.sin(Math.PI/180*Math.abs(this.labelAngle)))&&(e=r),this._stripLineLabels[t].effectiveWidth=r)}return t=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?i=t+n:t+e+this.tickLength+n},L.prototype.createLabelsAndCalculateHeight=function(){var e=0;this._labels=[],this._stripLineLabels=[];var t,n=0,i=this.chart.isNavigator?0:5;if(this.createLabels(),"bottom"===this._position||"top"===this._position){for(n=0;n<this._labels.length;n++){var l=(t=this._labels[n].textBlock).measureText(),r=0;e<(r=0===this.labelAngle?l.height:l.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(e=r),this._labels[n].effectiveHeight=r}for(n=0;n<this._stripLineLabels.length;n++)"outside"===this._stripLineLabels[n].stripLine.labelPlacement&&this._stripLineLabels[n].stripLine.value>=this.viewportMinimum&&this._stripLineLabels[n].stripLine.value<=this.viewportMaximum&&(l=(t=this._stripLineLabels[n].textBlock).measureText(),e<(r=0===this.labelAngle?l.height:l.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+(l.height-t.fontSize/2)*Math.cos(Math.PI/180*Math.abs(this.labelAngle)))&&(e=r),this._stripLineLabels[n].effectiveHeight=r)}return t=this.title?this._titleTextBlock.measureText().height+2:0,"inside"===this.labelPlacement?n=t+i:t+e+this.tickLength+i},L.setLayout=function(e,t,n,i,l,r){var a,o,s,u,c=e[0]?e[0].chart:t[0].chart,h=c.isNavigator?0:10,f=c._axes;if(e&&0<e.length)for(var p=0;p<e.length;p++)e[p]&&e[p].calculateAxisParameters();if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].calculateAxisParameters();if(n&&0<n.length)for(p=0;p<n.length;p++)n[p].calculateAxisParameters();if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].calculateAxisParameters();for(p=0;p<f.length;p++)if(f[p]&&f[p].scaleBreaks&&f[p].scaleBreaks._appliedBreaks.length)for(var v=f[p].scaleBreaks._appliedBreaks,g=0;g<v.length&&!(v[g].startValue>f[p].viewportMaximum);g++)v[g].endValue<f[p].viewportMinimum||(d(f[p].scaleBreaks.firstBreakIndex)&&(f[p].scaleBreaks.firstBreakIndex=g),v[g].startValue>=f[p].viewPortMinimum&&(f[p].scaleBreaks.lastBreakIndex=g));var m,y,b,k,_,w=g=0,x=0,C=0,S=0,T=0,P=0,M=o=0;for(v=b=k=_=!1,p=0;p<f.length;p++)f[p]&&f[p].title&&(f[p]._titleTextBlock=new A(f[p].ctx,{text:f[p].title,horizontalAlign:"center",fontSize:f[p].titleFontSize,fontFamily:f[p].titleFontFamily,fontWeight:f[p].titleFontWeight,fontColor:f[p].titleFontColor,fontStyle:f[p].titleFontStyle,borderColor:f[p].titleBorderColor,borderThickness:f[p].titleBorderThickness,backgroundColor:f[p].titleBackgroundColor,cornerRadius:f[p].titleCornerRadius,textBaseline:"top"}));for(p=0;p<f.length;p++)if(f[p].title)switch(f[p]._position){case"left":f[p]._titleTextBlock.maxWidth=f[p].titleMaxWidth||r.height,f[p]._titleTextBlock.maxHeight=f[p].titleWrap?.8*r.width:1.5*f[p].titleFontSize,f[p]._titleTextBlock.angle=-90;break;case"right":f[p]._titleTextBlock.maxWidth=f[p].titleMaxWidth||r.height,f[p]._titleTextBlock.maxHeight=f[p].titleWrap?.8*r.width:1.5*f[p].titleFontSize,f[p]._titleTextBlock.angle=90;break;default:f[p]._titleTextBlock.maxWidth=f[p].titleMaxWidth||r.width,f[p]._titleTextBlock.maxHeight=f[p].titleWrap?.8*r.height:1.5*f[p].titleFontSize,f[p]._titleTextBlock.angle=0}if("normal"===l){C=[],S=[],T=[],P=[];for(var I=[],E=[],D=[],O=[];4>g;){var F=0,R=0,N=0,L=0,B=l=0,V=0,z=0,j=0,H=0,W=0,U=0;if(n&&0<n.length)for(T=[],p=W=0;p<n.length;p++)T.push(Math.ceil(n[p]?n[p].createLabelsAndCalculateWidth():0)),W+=T[p],V+=n[p]&&!c.isNavigator?n[p].margin:0;else T.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateWidth():0));if(D.push(T),i&&0<i.length)for(P=[],p=U=0;p<i.length;p++)P.push(Math.ceil(i[p]?i[p].createLabelsAndCalculateWidth():0)),U+=P[p],z+=i[p]?i[p].margin:0;else P.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateWidth():0));if(O.push(P),a=Math.round(r.x1+W+V),s=Math.round(r.x2-U-z>c.width-h?c.width-h:r.x2-U-z),e&&0<e.length)for(C=[],p=j=0;p<e.length;p++)e[p]&&(e[p].lineCoordinates={}),e[p].lineCoordinates.width=Math.abs(s-a),e[p].title&&(e[p]._titleTextBlock.maxWidth=0<e[p].titleMaxWidth&&e[p].titleMaxWidth<e[p].lineCoordinates.width?e[p].titleMaxWidth:e[p].lineCoordinates.width),C.push(Math.ceil(e[p]?e[p].createLabelsAndCalculateHeight():0)),j+=C[p],l+=e[p]&&!c.isNavigator?e[p].margin:0;else C.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateHeight():0));if(I.push(C),t&&0<t.length)for(S=[],p=H=0;p<t.length;p++)t[p]&&(t[p].lineCoordinates={}),t[p].lineCoordinates.width=Math.abs(s-a),t[p].title&&(t[p]._titleTextBlock.maxWidth=0<t[p].titleMaxWidth&&t[p].titleMaxWidth<t[p].lineCoordinates.width?t[p].titleMaxWidth:t[p].lineCoordinates.width),S.push(Math.ceil(t[p]?t[p].createLabelsAndCalculateHeight():0)),H+=S[p],B+=t[p]&&!c.isNavigator?t[p].margin:0;else S.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateHeight():0));if(E.push(S),e&&0<e.length)for(p=0;p<e.length;p++)e[p]&&(e[p].lineCoordinates.x1=a,s=Math.round(r.x2-U-z>c.width-h?c.width-h:r.x2-U-z),e[p]._labels&&1<e[p]._labels.length&&(o=u=0,o="dateTime"===e[p].valueType?e[p]._labels[e[p]._labels.length-2]:e[p]._labels[e[p]._labels.length-1],w=(u=e[p]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),x=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle))),!e[p]||!e[p].labelAutoFit||d(m)||d(y)||c.isNavigator||(o=0,0<e[p].labelAngle?y+x>s&&(o+=0<e[p].labelAngle?y+x-s-U:0):0>e[p].labelAngle?m-w<a&&m-w<e[p].viewportMinimum&&(M=a-(V+e[p].tickLength+T+m-w+e[p].labelFontSize/2)):0===e[p].labelAngle&&(y+x>s&&(o=y+x/2-s-U),m-w<a&&m-w<e[p].viewportMinimum&&(M=a-V-e[p].tickLength-T-m+w/2)),e[p].viewportMaximum===e[p].maximum&&e[p].viewportMinimum===e[p].minimum&&0<e[p].labelAngle&&0<o?s-=o:e[p].viewportMaximum===e[p].maximum&&e[p].viewportMinimum===e[p].minimum&&0>e[p].labelAngle&&0<M?a+=M:e[p].viewportMaximum===e[p].maximum&&e[p].viewportMinimum===e[p].minimum&&0===e[p].labelAngle&&(0<M&&(a+=M),0<o&&(s-=o))),c.panEnabled?j=c.sessionVariables.axisX.height:c.sessionVariables.axisX.height=j,o=Math.round(r.y2-j-l+F),u=Math.round(r.y2),e[p].lineCoordinates.x2=s,e[p].lineCoordinates.width=s-a,e[p].lineCoordinates.y1=o,e[p].lineCoordinates.y2=o,e[p].bounds={x1:a,y1:o,x2:s,y2:u-(j+l-C[p]-F),width:s-a,height:u-o}),F+=C[p]+e[p].margin;if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].lineCoordinates.x1=Math.round(r.x1+W+V),t[p].lineCoordinates.x2=Math.round(r.x2-U-z>c.width-h?c.width-h:r.x2-U-z),t[p].lineCoordinates.width=Math.abs(s-a),t[p]._labels&&1<t[p]._labels.length&&(o="dateTime"===t[p].valueType?t[p]._labels[t[p]._labels.length-2]:t[p]._labels[t[p]._labels.length-1],w=(u=t[p]._labels[1]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),x=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle))),c.panEnabled?H=c.sessionVariables.axisX2.height:c.sessionVariables.axisX2.height=H,o=Math.round(r.y1),u=Math.round(r.y2+t[p].margin),t[p].lineCoordinates.y1=o+H+B-R,t[p].lineCoordinates.y2=o,t[p].bounds={x1:a,y1:o+(H+B-S[p]-R),x2:s,y2:u,width:s-a,height:u-o},R+=S[p]+t[p].margin;if(n&&0<n.length)for(p=0;p<n.length;p++)V=c.isNavigator?0:10,n[p]&&(a=Math.round(e[0]?e[0].lineCoordinates.x1:t[0].lineCoordinates.x1),V=n[p]._labels&&0<n[p]._labels.length?n[p]._labels[n[p]._labels.length-1].textBlock.height/2:h,o=Math.round(r.y1+H+B<Math.max(V,h)?Math.max(V,h):r.y1+H+B),s=Math.round(e[0]?e[0].lineCoordinates.x1:t[0].lineCoordinates.x1),V=0<e.length?0:n[p]._labels&&0<n[p]._labels.length?n[p]._labels[0].textBlock.height/2:h,u=Math.round(r.y2-j-l-V),n[p].lineCoordinates={x1:s-N,y1:o,x2:s-N,y2:u,height:Math.abs(u-o)},n[p].bounds={x1:a-(T[p]+N),y1:o,x2:s,y2:u,width:s-a,height:u-o},n[p].title&&(n[p]._titleTextBlock.maxWidth=0<n[p].titleMaxWidth&&n[p].titleMaxWidth<n[p].lineCoordinates.height?n[p].titleMaxWidth:n[p].lineCoordinates.height),N+=T[p]+n[p].margin);if(i&&0<i.length)for(p=0;p<i.length;p++)i[p]&&(a=Math.round(e[0]?e[0].lineCoordinates.x2:t[0].lineCoordinates.x2),s=Math.round(a),V=i[p]._labels&&0<i[p]._labels.length?i[p]._labels[i[p]._labels.length-1].textBlock.height/2:0,o=Math.round(r.y1+H+B<Math.max(V,h)?Math.max(V,h):r.y1+H+B),V=0<e.length?0:i[p]._labels&&0<i[p]._labels.length?i[p]._labels[0].textBlock.height/2:0,u=Math.round(r.y2-(j+l+V)),i[p].lineCoordinates={x1:a+L,y1:o,x2:a+L,y2:u,height:Math.abs(u-o)},i[p].bounds={x1:a,y1:o,x2:s+(P[p]+L),y2:u,width:s-a,height:u-o},i[p].title&&(i[p]._titleTextBlock.maxWidth=0<i[p].titleMaxWidth&&i[p].titleMaxWidth<i[p].lineCoordinates.height?i[p].titleMaxWidth:i[p].lineCoordinates.height),L+=P[p]+i[p].margin);if(e&&0<e.length)for(p=0;p<e.length;p++)e[p]&&(e[p].calculateValueToPixelConversionParameters(),e[p].calculateBreaksSizeInValues(),e[p]._labels&&1<e[p]._labels.length&&(m=(e[p].logarithmic?Math.log(e[p]._labels[1].position/e[p].viewportMinimum)/e[p].conversionParameters.lnLogarithmBase:e[p]._labels[1].position-e[p].viewportMinimum)*Math.abs(e[p].conversionParameters.pixelPerUnit)+e[p].lineCoordinates.x1,a=e[p].getApparentDifference(e[p].viewportMinimum,a=e[p]._labels[e[p]._labels.length-("dateTime"===e[p].valueType?2:1)].position),y=e[p].logarithmic?(1<a?Math.log(a)/e[p].conversionParameters.lnLogarithmBase*Math.abs(e[p].conversionParameters.pixelPerUnit):0)+e[p].lineCoordinates.x1:(0<a?a*Math.abs(e[p].conversionParameters.pixelPerUnit):0)+e[p].lineCoordinates.x1));if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].calculateValueToPixelConversionParameters(),t[p].calculateBreaksSizeInValues(),t[p]._labels&&1<t[p]._labels.length&&(m=(t[p].logarithmic?Math.log(t[p]._labels[1].position/t[p].viewportMinimum)/t[p].conversionParameters.lnLogarithmBase:t[p]._labels[1].position-t[p].viewportMinimum)*Math.abs(t[p].conversionParameters.pixelPerUnit)+t[p].lineCoordinates.x1,a=t[p].getApparentDifference(t[p].viewportMinimum,a=t[p]._labels[t[p]._labels.length-("dateTime"===t[p].valueType?2:1)].position),y=t[p].logarithmic?(1<a?Math.log(a)/t[p].conversionParameters.lnLogarithmBase*Math.abs(t[p].conversionParameters.pixelPerUnit):0)+t[p].lineCoordinates.x1:(0<a?a*Math.abs(t[p].conversionParameters.pixelPerUnit):0)+t[p].lineCoordinates.x1);for(p=0;p<f.length;p++)"axisY"===f[p].type&&(f[p].calculateValueToPixelConversionParameters(),f[p].calculateBreaksSizeInValues());if(0<g){if(e&&0<e.length)for(p=0;p<e.length;p++)v=I[g-1][p]===I[g][p];else v=!0;if(t&&0<t.length)for(p=0;p<t.length;p++)b=E[g-1][p]===E[g][p];else b=!0;if(n&&0<n.length)for(p=0;p<n.length;p++)k=D[g-1][p]===D[g][p];else k=!0;if(i&&0<i.length)for(p=0;p<i.length;p++)_=O[g-1][p]===O[g][p];else _=!0}if(v&&b&&k&&_)break;g++}if(e&&0<e.length)for(p=0;p<e.length;p++)e[p].calculateStripLinesThicknessInValues(),e[p].calculateBreaksInPixels();if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].calculateStripLinesThicknessInValues(),t[p].calculateBreaksInPixels();if(n&&0<n.length)for(p=0;p<n.length;p++)n[p].calculateStripLinesThicknessInValues(),n[p].calculateBreaksInPixels();if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].calculateStripLinesThicknessInValues(),i[p].calculateBreaksInPixels()}else{for(h=[],m=[],M=[],w=[],y=[],x=[],I=[],E=[];4>g;){if(j=L=R=N=z=V=B=l=O=D=F=H=0,e&&0<e.length)for(M=[],p=L=0;p<e.length;p++)M.push(Math.ceil(e[p]?e[p].createLabelsAndCalculateWidth():0)),L+=M[p],l+=e[p]&&!c.isNavigator?e[p].margin:0;else M.push(Math.ceil(e[0]?e[0].createLabelsAndCalculateWidth():0));if(I.push(M),t&&0<t.length)for(w=[],p=j=0;p<t.length;p++)w.push(Math.ceil(t[p]?t[p].createLabelsAndCalculateWidth():0)),j+=w[p],B+=t[p]?t[p].margin:0;else w.push(Math.ceil(t[0]?t[0].createLabelsAndCalculateWidth():0));if(E.push(w),n&&0<n.length)for(p=0;p<n.length;p++)n[p].lineCoordinates={},a=Math.round(r.x1+L+l),s=Math.round(r.x2-j-B>c.width-10?c.width-10:r.x2-j-B),n[p].labelAutoFit&&!d(C)&&(0<!e.length&&(a=0>n[p].labelAngle?Math.max(a,C):0===n[p].labelAngle?Math.max(a,C/2):a),0<!t.length&&(s=0<n[p].labelAngle?s-S/2:0===n[p].labelAngle?s-S/2:s)),n[p].lineCoordinates.x1=a,n[p].lineCoordinates.x2=s,n[p].lineCoordinates.width=Math.abs(s-a),n[p].title&&(n[p]._titleTextBlock.maxWidth=0<n[p].titleMaxWidth&&n[p].titleMaxWidth<n[p].lineCoordinates.width?n[p].titleMaxWidth:n[p].lineCoordinates.width);if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].lineCoordinates={},a=Math.round(r.x1+L+l),s=Math.round(r.x2-j-B>i[p].chart.width-10?i[p].chart.width-10:r.x2-j-B),i[p]&&i[p].labelAutoFit&&!d(T)&&(0<!e.length&&(a=0<i[p].labelAngle?Math.max(a,T):0===i[p].labelAngle?Math.max(a,T/2):a),0<!t.length&&(s-=P/2)),i[p].lineCoordinates.x1=a,i[p].lineCoordinates.x2=s,i[p].lineCoordinates.width=Math.abs(s-a),i[p].title&&(i[p]._titleTextBlock.maxWidth=0<i[p].titleMaxWidth&&i[p].titleMaxWidth<i[p].lineCoordinates.width?i[p].titleMaxWidth:i[p].lineCoordinates.width);if(n&&0<n.length)for(h=[],p=N=0;p<n.length;p++)h.push(Math.ceil(n[p]?n[p].createLabelsAndCalculateHeight():0)),N+=h[p]+n[p].margin,V+=n[p].margin;else h.push(Math.ceil(n[0]?n[0].createLabelsAndCalculateHeight():0));if(y.push(h),i&&0<i.length)for(m=[],p=R=0;p<i.length;p++)m.push(Math.ceil(i[p]?i[p].createLabelsAndCalculateHeight():0)),R+=m[p],z+=i[p].margin;else m.push(Math.ceil(i[0]?i[0].createLabelsAndCalculateHeight():0));if(x.push(m),n&&0<n.length)for(p=0;p<n.length;p++)0<n[p]._labels.length&&(o=n[p]._labels[n[p]._labels.length-1],C=(u=n[p]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),S=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle)));if(i&&0<i.length)for(p=0;p<i.length;p++)i[p]&&0<i[p]._labels.length&&(o=i[p]._labels[i[p]._labels.length-1],T=(u=i[p]._labels[0]).textBlock.width*Math.cos(Math.PI/180*Math.abs(u.textBlock.angle))+(u.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(u.textBlock.angle)),P=o.textBlock.width*Math.cos(Math.PI/180*Math.abs(o.textBlock.angle))+(o.textBlock.height-o.textBlock.fontSize/2)*Math.sin(Math.PI/180*Math.abs(o.textBlock.angle)));if(c.panEnabled)for(p=0;p<n.length;p++)h[p]=c.sessionVariables.axisY.height;else for(p=0;p<n.length;p++)c.sessionVariables.axisY.height=h[p];if(n&&0<n.length)for(p=n.length-1;0<=p;p--)o=Math.round(r.y2),u=Math.round(r.y2>n[p].chart.height-10?n[p].chart.height-10:r.y2),n[p].lineCoordinates.y1=o-(h[p]+n[p].margin+H),n[p].lineCoordinates.y2=o-(h[p]+n[p].margin+H),n[p].bounds={x1:a,y1:o-(h[p]+H+n[p].margin),x2:s,y2:u-(H+n[p].margin),width:s-a,height:h[p]},n[p].title&&(n[p]._titleTextBlock.maxWidth=0<n[p].titleMaxWidth&&n[p].titleMaxWidth<n[p].lineCoordinates.width?n[p].titleMaxWidth:n[p].lineCoordinates.width),H+=h[p]+n[p].margin;if(i&&0<i.length)for(p=i.length-1;0<=p;p--)i[p]&&(o=Math.round(r.y1),u=Math.round(r.y1+(m[p]+i[p].margin+F)),i[p].lineCoordinates.y1=u,i[p].lineCoordinates.y2=u,i[p].bounds={x1:a,y1:o+(i[p].margin+F),x2:s,y2:u,width:s-a,height:R},i[p].title&&(i[p]._titleTextBlock.maxWidth=0<i[p].titleMaxWidth&&i[p].titleMaxWidth<i[p].lineCoordinates.width?i[p].titleMaxWidth:i[p].lineCoordinates.width),F+=m[p]+i[p].margin);if(e&&0<e.length)for(p=0;p<e.length;p++){if(V=e[p]._labels&&0<e[p]._labels.length?e[p]._labels[0].textBlock.fontSize/2:0,a=Math.round(r.x1+l),o=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:r.y1<Math.max(V,10)?Math.max(V,10):r.y1):r.y1<Math.max(V,10)?Math.max(V,10):r.y1,s=Math.round(r.x1+L+l),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:r.y2-N>c.height-Math.max(V,10)?c.height-Math.max(V,10):r.y2-N):r.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):r.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(s=0>n[V].labelAngle?Math.max(s,C):0===n[V].labelAngle?Math.max(s,C/2):s,a=0>n[V].labelAngle||0===n[V].labelAngle?s-L:a);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(a=(s=i[V].lineCoordinates.x1)-L);e[p].lineCoordinates={x1:s-D,y1:o,x2:s-D,y2:u,height:Math.abs(u-o)},e[p].bounds={x1:s-(M[p]+D),y1:o,x2:s,y2:u,width:s-a,height:u-o},e[p].title&&(e[p]._titleTextBlock.maxWidth=0<e[p].titleMaxWidth&&e[p].titleMaxWidth<e[p].lineCoordinates.height?e[p].titleMaxWidth:e[p].lineCoordinates.height),e[p].calculateValueToPixelConversionParameters(),e[p].calculateBreaksSizeInValues(),D+=M[p]+e[p].margin}if(t&&0<t.length)for(p=0;p<t.length;p++){if(V=t[p]._labels&&0<t[p]._labels.length?t[p]._labels[0].textBlock.fontSize/2:0,a=Math.round(r.x1-l),o=i&&0<i.length?Math.round(i[0]?i[0].lineCoordinates.y2:r.y1<Math.max(V,10)?Math.max(V,10):r.y1):r.y1<Math.max(V,10)?Math.max(V,10):r.y1,s=Math.round(r.x2-j-B),u=n&&0<n.length?Math.round(n[0]?n[0].lineCoordinates.y1:r.y2-N>c.height-Math.max(V,10)?c.height-Math.max(V,10):r.y2-N):r.y2>c.height-Math.max(V,10)?c.height-Math.max(V,10):r.y2,n&&0<n.length)for(V=0;V<n.length;V++)n[V]&&n[V].labelAutoFit&&(s=0>n[V].labelAngle?Math.max(s,C):0===n[V].labelAngle?Math.max(s,C/2):s,a=0>n[V].labelAngle||0===n[V].labelAngle?s-j:a);if(i&&0<i.length)for(V=0;V<i.length;V++)i[V]&&i[V].labelAutoFit&&(a=(s=i[V].lineCoordinates.x2)-j);t[p].lineCoordinates={x1:s+O,y1:o,x2:s+O,y2:u,height:Math.abs(u-o)},t[p].bounds={x1:a,y1:o,x2:s+w[p]+O,y2:u,width:s-a,height:u-o},t[p].title&&(t[p]._titleTextBlock.maxWidth=0<t[p].titleMaxWidth&&t[p].titleMaxWidth<t[p].lineCoordinates.height?t[p].titleMaxWidth:t[p].lineCoordinates.height),t[p].calculateValueToPixelConversionParameters(),t[p].calculateBreaksSizeInValues(),O+=w[p]+t[p].margin}for(p=0;p<f.length;p++)"axisY"===f[p].type&&(f[p].calculateValueToPixelConversionParameters(),f[p].calculateBreaksSizeInValues());if(0<g){if(e&&0<e.length)for(p=0;p<e.length;p++)v=I[g-1][p]===I[g][p];else v=!0;if(t&&0<t.length)for(p=0;p<t.length;p++)b=E[g-1][p]===E[g][p];else b=!0;if(n&&0<n.length)for(p=0;p<n.length;p++)k=y[g-1][p]===y[g][p];else k=!0;if(i&&0<i.length)for(p=0;p<i.length;p++)_=x[g-1][p]===x[g][p];else _=!0}if(v&&b&&k&&_)break;g++}if(n&&0<n.length)for(p=0;p<n.length;p++)n[p].calculateStripLinesThicknessInValues(),n[p].calculateBreaksInPixels();if(i&&0<i.length)for(p=0;p<i.length;p++)i[p].calculateStripLinesThicknessInValues(),i[p].calculateBreaksInPixels();if(e&&0<e.length)for(p=0;p<e.length;p++)e[p].calculateStripLinesThicknessInValues(),e[p].calculateBreaksInPixels();if(t&&0<t.length)for(p=0;p<t.length;p++)t[p].calculateStripLinesThicknessInValues(),t[p].calculateBreaksInPixels()}},L.render=function(e,t,n,i,l){var r=e[0]?e[0].chart:t[0].chart;l=r.ctx;var a=r._axes;if(r.alignVerticalAxes&&r.alignVerticalAxes(),l.save(),l.beginPath(),e[0]&&l.rect(5,e[0].bounds.y1,e[0].chart.width-10,e[0].bounds.height),t[0]&&l.rect(5,t[t.length-1].bounds.y1,t[0].chart.width-10,t[0].bounds.height),l.clip(),e&&0<e.length)for(var o=0;o<e.length;o++)e[o].renderLabelsTicksAndTitle();if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderLabelsTicksAndTitle();if(l.restore(),n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderLabelsTicksAndTitle();if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderLabelsTicksAndTitle();if(r.preparePlotArea(),r=r.plotArea,l.save(),l.beginPath(),l.rect(r.x1,r.y1,Math.abs(r.x2-r.x1),Math.abs(r.y2-r.y1)),l.clip(),e&&0<e.length)for(o=0;o<a.length;o++)a[o].renderStripLinesOfThicknessType("value");if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderStripLinesOfThicknessType("value");if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderStripLinesOfThicknessType("value");if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderStripLinesOfThicknessType("value");if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderInterlacedColors();if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderInterlacedColors();if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderInterlacedColors();if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderInterlacedColors();if(l.restore(),e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderGrid(),H&&(e[o].createMask(),e[o].renderBreaksBackground());if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderGrid(),H&&(t[o].createMask(),t[o].renderBreaksBackground());if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderGrid(),H&&(n[o].createMask(),n[o].renderBreaksBackground());if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderGrid(),H&&(i[o].createMask(),i[o].renderBreaksBackground());if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderAxisLine();if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderAxisLine();if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderAxisLine();if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderAxisLine();if(e&&0<e.length)for(o=0;o<e.length;o++)e[o].renderStripLinesOfThicknessType("pixel");if(t&&0<t.length)for(o=0;o<t.length;o++)t[o].renderStripLinesOfThicknessType("pixel");if(n&&0<n.length)for(o=0;o<n.length;o++)n[o].renderStripLinesOfThicknessType("pixel");if(i&&0<i.length)for(o=0;o<i.length;o++)i[o].renderStripLinesOfThicknessType("pixel")},L.prototype.calculateStripLinesThicknessInValues=function(){for(var e=0;e<this.stripLines.length;e++)if(null!==this.stripLines[e].startValue&&null!==this.stripLines[e].endValue){var t=Math.min(this.stripLines[e].startValue,this.stripLines[e].endValue),n=Math.max(this.stripLines[e].startValue,this.stripLines[e].endValue);t=this.getApparentDifference(t,n),this.stripLines[e].value=this.logarithmic?this.stripLines[e].value*Math.sqrt(Math.log(this.stripLines[e].endValue/this.stripLines[e].startValue)/Math.log(t)):this.stripLines[e].value+(Math.abs(this.stripLines[e].endValue-this.stripLines[e].startValue)-t)/2,this.stripLines[e].thickness=t,this.stripLines[e]._thicknessType="value"}},L.prototype.calculateBreaksSizeInValues=function(){for(var e,t="left"===this._position||"right"===this._position?this.lineCoordinates.height||this.chart.height:this.lineCoordinates.width||this.chart.width,n=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[],i=this.conversionParameters.pixelPerUnit||t/(this.logarithmic?this.conversionParameters.maximum/this.conversionParameters.minimum:this.conversionParameters.maximum-this.conversionParameters.minimum),l=this.scaleBreaks&&!d(this.scaleBreaks.options.spacing),r=0;r<n.length;r++)e=l||!d(n[r].options.spacing),n[r].spacing=h(n[r].spacing,t,8,e?.1*t:8,e?0:3)<<0,n[r].size=0>n[r].spacing?0:Math.abs(n[r].spacing/i),this.logarithmic&&(n[r].size=Math.pow(this.logarithmBase,n[r].size))},L.prototype.calculateBreaksInPixels=function(){if(!(this.scaleBreaks&&0>=this.scaleBreaks._appliedBreaks.length)){var e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];e.length&&(this.scaleBreaks.firstBreakIndex=this.scaleBreaks.lastBreakIndex=null);for(var t=0;t<e.length&&!(e[t].startValue>this.conversionParameters.maximum);t++)e[t].endValue<this.conversionParameters.minimum||(d(this.scaleBreaks.firstBreakIndex)&&(this.scaleBreaks.firstBreakIndex=t),e[t].startValue>=this.conversionParameters.minimum&&(e[t].startPixel=this.convertValueToPixel(e[t].startValue),this.scaleBreaks.lastBreakIndex=t),e[t].endValue<=this.conversionParameters.maximum&&(e[t].endPixel=this.convertValueToPixel(e[t].endValue)))}},L.prototype.renderLabelsTicksAndTitle=function(){var e,t,n=this,i=!1,l=0,r=0,a=1,o=0;if(0!==this.labelAngle&&360!==this.labelAngle&&(a=1.2),void 0===this.options.interval){if("bottom"===this._position||"top"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){l=[],a=0!==this.labelAngle&&360!==this.labelAngle?1:1.2;for(var s,u=this.viewportMaximum,c=this.lineCoordinates.width/Math.log(this.range),h=this._labels.length-1;0<=h&&!((e=this._labels[h]).position<this.viewportMinimum);h--)e.position>this.viewportMaximum||!(h===this._labels.length-1||s<Math.log(u/e.position)*c/a)||(l.push(e),u=e.position,s=e.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+e.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||(l+=s=e.textBlock.width*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+e.textBlock.height*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));l>this.lineCoordinates.width*a&&this.labelAutoFit&&(i=!0)}if("left"===this._position||"right"===this._position)if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit){var d;for(l=[],u=this.viewportMaximum,c=this.lineCoordinates.height/Math.log(this.range),h=this._labels.length-1;0<=h&&!((e=this._labels[h]).position<this.viewportMinimum);h--)e.position>this.viewportMaximum||!(h===this._labels.length-1||d<Math.log(u/e.position)*c)||(l.push(e),u=e.position,d=e.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+e.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));this._labels=l}else{for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||(r+=d=e.textBlock.height*Math.abs(Math.cos(Math.PI/180*this.labelAngle))+e.textBlock.width*Math.abs(Math.sin(Math.PI/180*this.labelAngle)));r>this.lineCoordinates.height*a&&this.labelAutoFit&&(i=!0)}}if(this.logarithmic&&!this.equidistantInterval&&this.labelAutoFit&&this._labels.sort((function(e,t){return e.position-t.position})),h=0,"bottom"===this._position){for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||e.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(t=this.getPixelCoordinatesOnAxis(e.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,r=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(r,t.y<<0),this.ctx.lineTo(r,t.y+this.tickLength<<0),this.ctx.stroke()),0===e.textBlock.angle?(t.x-=e.textBlock.width/2,t.y="inside"===this.labelPlacement?t.y-(this.tickLength+e.textBlock.fontSize/2):t.y+this.tickLength+e.textBlock.fontSize/2):(t.x="inside"===this.labelPlacement?0>this.labelAngle?t.x:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):t.x-(0>this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y="inside"===this.labelPlacement?0>this.labelAngle?t.y-this.tickLength-5:t.y-this.tickLength-Math.abs(e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5):t.y+this.tickLength+Math.abs(0>this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)),e.textBlock.x=t.x,e.textBlock.y=t.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((e=n._labels[h]).position<n.viewportMinimum||e.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(t=n.getPixelCoordinatesOnAxis(e.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==n.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(l,t.y<<0),n.ctx.lineTo(l,t.y-n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y2-this._titleTextBlock.height-3,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("top"===this._position){for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||e.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(t=this.getPixelCoordinatesOnAxis(e.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,r=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0,this.ctx.beginPath(),this.ctx.moveTo(r,t.y<<0),this.ctx.lineTo(r,t.y-this.tickLength<<0),this.ctx.stroke()),0===e.textBlock.angle?(t.x-=e.textBlock.width/2,t.y="inside"===this.labelPlacement?t.y+this.labelFontSize/2+this.tickLength+5:t.y-(this.tickLength+e.textBlock.height-e.textBlock.fontSize/2)):(t.x="inside"===this.labelPlacement?0<this.labelAngle?t.x:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):t.x+(e.textBlock.height-this.tickLength-this.labelFontSize)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),t.y="inside"===this.labelPlacement?0<this.labelAngle?t.y+this.tickLength+5:t.y-e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength+5:t.y-(this.tickLength+((e.textBlock.height-e.textBlock.fontSize/2)*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))),e.textBlock.x=t.x,e.textBlock.y=t.y);"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((e=n._labels[h]).position<n.viewportMinimum||e.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(t=n.getPixelCoordinatesOnAxis(e.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==this.ctx.lineWidth%2?.5+(t.x<<0):t.x<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(l,t.y<<0),n.ctx.lineTo(l,t.y+n.tickLength<<0),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2,this._titleTextBlock.y=this.bounds.y1+1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("left"===this._position){for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||e.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(t=this.getPixelCoordinatesOnAxis(e.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,r=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,r),this.ctx.lineTo(t.x-this.tickLength<<0,r),this.ctx.stroke()),0===this.labelAngle?(e.textBlock.y=t.y,e.textBlock.x="inside"===this.labelPlacement?t.x+this.tickLength+5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5):(e.textBlock.y="inside"===this.labelPlacement?t.y:t.y-e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.textBlock.x="inside"===this.labelPlacement?t.x+this.tickLength+5:0<this.labelAngle?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((e=n._labels[h]).position<n.viewportMinimum||e.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(t=n.getPixelCoordinatesOnAxis(e.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==n.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(t.x<<0,l),n.ctx.lineTo(t.x+n.tickLength<<0,l),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x1+1,this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}else if("right"===this._position){for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||e.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||(t=this.getPixelCoordinatesOnAxis(e.position),this.tickThickness&&"inside"!=this.labelPlacement&&(this.ctx.lineWidth=this.tickThickness,this.ctx.strokeStyle=this.tickColor,r=1==this.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0,this.ctx.beginPath(),this.ctx.moveTo(t.x<<0,r),this.ctx.lineTo(t.x+this.tickLength<<0,r),this.ctx.stroke()),0===this.labelAngle?(e.textBlock.y=t.y,e.textBlock.x="inside"===this.labelPlacement?t.x-e.textBlock.width-this.tickLength-5:t.x+this.tickLength+5):(e.textBlock.y="inside"===this.labelPlacement?t.y-e.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0>this.labelAngle?t.y:t.y-(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),e.textBlock.x="inside"===this.labelPlacement?t.x-e.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:0<this.labelAngle?t.x+(e.textBlock.height-e.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:t.x+this.tickLength+5));"inside"===this.labelPlacement&&this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)if(!((e=n._labels[h]).position<n.viewportMinimum||e.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit)&&(t=n.getPixelCoordinatesOnAxis(e.position),n.tickThickness)){n.ctx.lineWidth=n.tickThickness,n.ctx.strokeStyle=n.tickColor;var l=1==n.ctx.lineWidth%2?.5+(t.y<<0):t.y<<0;n.ctx.save(),n.ctx.beginPath(),n.ctx.moveTo(t.x<<0,l),n.ctx.lineTo(t.x-n.tickLength<<0,l),n.ctx.stroke(),n.ctx.restore()}}),this),this.title&&(this._titleTextBlock.measureText(),this._titleTextBlock.x=this.bounds.x2-1,this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1,this.titleMaxWidth=this._titleTextBlock.maxWidth,this._titleTextBlock.render(!0))}if(o=0,"inside"===this.labelPlacement)this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(h=0;h<n._labels.length;h++)(e=n._labels[h]).position<n.viewportMinimum||e.position>n.viewportMaximum||i&&0!=o++%2&&n.labelAutoFit||(n.ctx.save(),n.ctx.beginPath(),e.textBlock.render(!0),n.ctx.restore())}),this);else for(h=0;h<this._labels.length;h++)(e=this._labels[h]).position<this.viewportMinimum||e.position>this.viewportMaximum||i&&0!=o++%2&&this.labelAutoFit||e.textBlock.render(!0)},L.prototype.renderInterlacedColors=function(){var e,t,n=this.chart.plotArea.ctx,i=this.chart.plotArea,l=0;if(e=!0,"bottom"!==this._position&&"top"!==this._position||!this.interlacedColor){if(("left"===this._position||"right"===this._position)&&this.interlacedColor)for(n.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)e?(t=this.getPixelCoordinatesOnAxis(this._labels[l].position),e=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),n.fillRect(i.x1,Math.min(t.y,e.y),Math.abs(i.x1-i.x2),Math.abs(e.y-t.y)),e=!1):e=!0}else for(n.fillStyle=this.interlacedColor,l=0;l<this._labels.length;l++)e?(e=this.getPixelCoordinatesOnAxis(this._labels[l].position),t=this.getPixelCoordinatesOnAxis(l+1>this._labels.length-1?this.viewportMaximum:this._labels[l+1].position),n.fillRect(Math.min(t.x,e.x),i.y1,Math.abs(t.x-e.x),Math.abs(i.y1-i.y2)),e=!1):e=!0;n.beginPath()},L.prototype.renderStripLinesOfThicknessType=function(e){if(this.stripLines&&0<this.stripLines.length&&e){var t,n=this,i=0,l=0,r=!1,a=!1,o=[],s=[];for(a=!1,i=0;i<this.stripLines.length;i++){var u=this.stripLines[i];u._thicknessType===e&&("pixel"===e&&(u.value<this.viewportMinimum||u.value>this.viewportMaximum||d(u.value)||isNaN(this.range))||o.push(u))}for(i=0;i<this._stripLineLabels.length;i++)if(u=this.stripLines[i],!((t=this._stripLineLabels[i]).position<this.viewportMinimum||t.position>this.viewportMaximum||isNaN(this.range))){if(e=this.getPixelCoordinatesOnAxis(t.position),"outside"===t.stripLine.labelPlacement)if(u&&(this.ctx.strokeStyle=u.color,"pixel"===u._thicknessType&&(this.ctx.lineWidth=u.thickness)),"bottom"===this._position){var c=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0;this.ctx.beginPath(),this.ctx.moveTo(c,e.y<<0),this.ctx.lineTo(c,e.y+this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(e.x-=t.textBlock.width/2,e.y+=this.tickLength+t.textBlock.fontSize/2):(e.x-=0>this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0,e.y+=this.tickLength+Math.abs(0>this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5))}else"top"===this._position?(c=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.ctx.beginPath(),this.ctx.moveTo(c,e.y<<0),this.ctx.lineTo(c,e.y-this.tickLength<<0),this.ctx.stroke(),0===this.labelAngle?(e.x-=t.textBlock.width/2,e.y-=this.tickLength+t.textBlock.height):(e.x+=(t.textBlock.height-this.tickLength-this.labelFontSize/2)*Math.sin(Math.PI/180*this.labelAngle)-(0<this.labelAngle?t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0),e.y-=this.tickLength+(t.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+(0<this.labelAngle?t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle):0)))):"left"===this._position?(c=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,c),this.ctx.lineTo(e.x-this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?e.x=e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:(e.y-=t.textBlock.width*Math.sin(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5:e.x-t.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)-this.tickLength)):"right"===this._position&&(c=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.ctx.beginPath(),this.ctx.moveTo(e.x<<0,c),this.ctx.lineTo(e.x+this.tickLength<<0,c),this.ctx.stroke(),0===this.labelAngle?e.x=e.x+this.tickLength+5:(e.y=0>this.labelAngle?e.y:e.y-(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.cos(Math.PI/180*this.labelAngle),e.x=0<this.labelAngle?e.x+(t.textBlock.height-t.textBlock.fontSize/2-5)*Math.sin(Math.PI/180*this.labelAngle)+this.tickLength:e.x+this.tickLength+5));else t.textBlock.angle=-90,"bottom"===this._position?(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,t.textBlock.measureText(),e.x-t.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?e.x-=t.textBlock.height-t.textBlock.fontSize/2:e.x-=t.textBlock.height/2-t.textBlock.fontSize/2+3:(t.textBlock.angle=90,d(u.startValue)?e.x+=t.textBlock.height-t.textBlock.fontSize/2:e.x+=t.textBlock.height/2-t.textBlock.fontSize/2+3),e.y=-90===t.textBlock.angle?"near"===t.stripLine.labelAlign?this.chart.plotArea.y2-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+t.textBlock.width)/2:this.chart.plotArea.y1+t.textBlock.width+3:"near"===t.stripLine.labelAlign?this.chart.plotArea.y2-t.textBlock.width-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-t.textBlock.width)/2:this.chart.plotArea.y1+3):"top"===this._position?(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.height-3,t.textBlock.measureText(),e.x-t.textBlock.height>this.chart.plotArea.x1?d(u.startValue)?e.x-=t.textBlock.height-t.textBlock.fontSize/2:e.x-=t.textBlock.height/2-t.textBlock.fontSize/2+3:(t.textBlock.angle=90,d(u.startValue)?e.x+=t.textBlock.height-t.textBlock.fontSize/2:e.x+=t.textBlock.height/2-t.textBlock.fontSize/2+3),e.y=-90===t.textBlock.angle?"near"===t.stripLine.labelAlign?this.chart.plotArea.y1+t.textBlock.width+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1+t.textBlock.width)/2:this.chart.plotArea.y2-3:"near"===t.stripLine.labelAlign?this.chart.plotArea.y1+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.y2+this.chart.plotArea.y1-t.textBlock.width)/2:this.chart.plotArea.y2-t.textBlock.width-3):"left"===this._position?(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,t.textBlock.angle=0,t.textBlock.measureText(),e.y-t.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize+3:e.y-t.textBlock.height<this.chart.plotArea.y2?e.y+=t.textBlock.fontSize/2+3:d(u.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize+3,e.x="near"===t.stripLine.labelAlign?this.chart.plotArea.x1+3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-t.textBlock.width/2:this.chart.plotArea.x2-t.textBlock.width-3):"right"===this._position&&(t.textBlock.maxWidth=this.options.stripLines[i].labelMaxWidth?this.options.stripLines[i].labelMaxWidth:this.chart.plotArea.width-3,t.textBlock.angle=0,t.textBlock.measureText(),e.y-+t.textBlock.height>this.chart.plotArea.y1?d(u.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize/2-3:e.y-t.textBlock.height<this.chart.plotArea.y2?e.y+=t.textBlock.fontSize/2+3:d(u.startValue)?e.y-=t.textBlock.height-t.textBlock.fontSize/2:e.y-=t.textBlock.height/2-t.textBlock.fontSize/2+3,e.x="near"===t.stripLine.labelAlign?this.chart.plotArea.x2-t.textBlock.width-3:"center"===t.stripLine.labelAlign?(this.chart.plotArea.x2+this.chart.plotArea.x1)/2-t.textBlock.width/2:this.chart.plotArea.x1+3);t.textBlock.x=e.x,t.textBlock.y=e.y,s.push(t)}if(!a){for(a=!1,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),i=0;i<o.length;i++)(u=o[i]).showOnTop?r||(r=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip(),l=0;l<o.length;l++)(u=o[l]).showOnTop&&u.render();this.ctx.restore()}),u)):u.render();for(i=0;i<s.length;i++)(t=s[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<s.length;l++)"inside"===(t=s[l]).stripLine.labelPlacement&&t.stripLine.showOnTop&&(n.ctx.save(),n.ctx.beginPath(),n.ctx.rect(n.chart.plotArea.x1,n.chart.plotArea.y1,n.chart.plotArea.width,n.chart.plotArea.height),n.ctx.clip(),t.textBlock.render(!0),n.ctx.restore())}),t.textBlock)):"inside"===t.stripLine.labelPlacement&&t.textBlock.render(!0);this.ctx.restore(),a=!0}if(a)for(a=!1,i=0;i<s.length;i++)(t=s[i]).stripLine.showOnTop?a||(a=!0,this.chart.addEventListener("dataAnimationIterationEnd",(function(){for(l=0;l<s.length;l++)"outside"===(t=s[l]).stripLine.labelPlacement&&t.stripLine.showOnTop&&t.textBlock.render(!0)}),t.textBlock)):"outside"===t.stripLine.labelPlacement&&t.textBlock.render(!0)}},L.prototype.renderBreaksBackground=function(){this.chart._breaksCanvas&&this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length&&this.maskCanvas&&(this.chart._breaksCanvasCtx.save(),this.chart._breaksCanvasCtx.beginPath(),this.chart._breaksCanvasCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.chart._breaksCanvasCtx.clip(),this.chart._breaksCanvasCtx.drawImage(this.maskCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx.restore())},L.prototype.createMask=function(){if(this.scaleBreaks&&0<this.scaleBreaks._appliedBreaks.length){var e=this.scaleBreaks._appliedBreaks;H?(this.maskCanvas=w(this.chart.width,this.chart.height),this.maskCtx=this.maskCanvas.getContext("2d")):(this.maskCanvas=this.chart.plotArea.canvas,this.maskCtx=this.chart.plotArea.ctx),this.maskCtx.save(),this.maskCtx.beginPath(),this.maskCtx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.maskCtx.clip();for(var t=0;t<e.length;t++)e[t].endValue<this.viewportMinimum||e[t].startValue>this.viewportMaximum||isNaN(this.range)||e[t].render(this.maskCtx);this.maskCtx.restore()}},L.prototype.renderCrosshair=function(e,t){this.crosshair.render(e,t)},L.prototype.renderGrid=function(){if(this.gridThickness&&0<this.gridThickness){var e=this.chart.ctx;e.save();var t,n=this.chart.plotArea;if(e.lineWidth=this.gridThickness,e.strokeStyle=this.gridColor,e.setLineDash&&e.setLineDash(g(this.gridDashType,this.gridThickness)),"bottom"===this._position||"top"===this._position)for(i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[i].position),e.moveTo(t=1==e.lineWidth%2?.5+(t.x<<0):t.x<<0,n.y1<<0),e.lineTo(t,n.y2<<0),e.stroke());else if("left"===this._position||"right"===this._position)for(var i=0;i<this._labels.length;i++)this._labels[i].position<this.viewportMinimum||this._labels[i].position>this.viewportMaximum||this._labels[i].breaksLabelType||(e.beginPath(),t=this.getPixelCoordinatesOnAxis(this._labels[i].position),e.moveTo(n.x1<<0,t=1==e.lineWidth%2?.5+(t.y<<0):t.y<<0),e.lineTo(n.x2<<0,t),e.stroke());e.restore()}},L.prototype.renderAxisLine=function(){var e,t,n=this.chart.ctx,i=H?this.chart._preRenderCtx:n,l=Math.ceil(this.tickThickness/(this.reversed?-2:2)),r=Math.ceil(this.tickThickness/(this.reversed?2:-2));if(i.save(),"bottom"===this._position||"top"===this._position){if(this.lineThickness){this.reversed?(e=this.lineCoordinates.x2,t=this.lineCoordinates.x1):(e=this.lineCoordinates.x1,t=this.lineCoordinates.x2),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor?this.lineColor:"black",i.setLineDash&&i.setLineDash(g(this.lineDashType,this.lineThickness));var a=1==this.lineThickness%2?.5+(this.lineCoordinates.y1<<0):this.lineCoordinates.y1<<0;if(i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))e=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+r;else for(var o=this.scaleBreaks.firstBreakIndex;o<=this.scaleBreaks.lastBreakIndex;o++)i.moveTo(e,a),i.lineTo(this.scaleBreaks._appliedBreaks[o].startPixel+l,a),e=this.scaleBreaks._appliedBreaks[o].endPixel+r;e&&(i.moveTo(e,a),i.lineTo(t,a)),i.stroke()}}else if(("left"===this._position||"right"===this._position)&&this.lineThickness){if(this.reversed?(e=this.lineCoordinates.y1,t=this.lineCoordinates.y2):(e=this.lineCoordinates.y2,t=this.lineCoordinates.y1),i.lineWidth=this.lineThickness,i.strokeStyle=this.lineColor,i.setLineDash&&i.setLineDash(g(this.lineDashType,this.lineThickness)),a=1==this.lineThickness%2?.5+(this.lineCoordinates.x1<<0):this.lineCoordinates.x1<<0,i.beginPath(),this.scaleBreaks&&!d(this.scaleBreaks.firstBreakIndex))if(d(this.scaleBreaks.lastBreakIndex))e=this.scaleBreaks._appliedBreaks[this.scaleBreaks.firstBreakIndex].endPixel+l;else for(o=this.scaleBreaks.firstBreakIndex;o<=this.scaleBreaks.lastBreakIndex;o++)i.moveTo(a,e),i.lineTo(a,this.scaleBreaks._appliedBreaks[o].startPixel+r),e=this.scaleBreaks._appliedBreaks[o].endPixel+l;e&&(i.moveTo(a,e),i.lineTo(a,t)),i.stroke()}H&&(n.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),this.chart._breaksCanvasCtx&&this.chart._breaksCanvasCtx.drawImage(this.chart._preRenderCanvas,0,0,this.chart.width,this.chart.height),i.clearRect(0,0,this.chart.width,this.chart.height)),i.restore()},L.prototype.getPixelCoordinatesOnAxis=function(e){var t={};return"bottom"!==this._position&&"top"!==this._position||(t.x=this.convertValueToPixel(e),t.y=this.lineCoordinates.y1),"left"!==this._position&&"right"!==this._position||(t.y=this.convertValueToPixel(e),t.x=this.lineCoordinates.x2),t},L.prototype.convertPixelToValue=function(e){if(void 0===e)return null;var t,n=0,i=0,l=(n=!0,this.scaleBreaks?this.scaleBreaks._appliedBreaks:[]);if(i="number"==typeof e?e:"left"===this._position||"right"===this._position?e.y:e.x,this.logarithmic){if(e=t=Math.pow(this.logarithmBase,(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit),i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<l.length;i++)if(!(l[i].endValue<this.conversionParameters.minimum))if(n)if(l[i].startValue<this.conversionParameters.minimum){if(1<l[i].size&&this.conversionParameters.minimum*Math.pow(l[i].endValue/l[i].startValue,Math.log(t)/Math.log(l[i].size))<l[i].endValue){e=Math.pow(l[i].endValue/l[i].startValue,Math.log(t)/Math.log(l[i].size));break}e*=l[i].endValue/this.conversionParameters.minimum/Math.pow(l[i].size,Math.log(l[i].endValue/this.conversionParameters.minimum)/Math.log(l[i].endValue/l[i].startValue)),t/=Math.pow(l[i].size,Math.log(l[i].endValue/this.conversionParameters.minimum)/Math.log(l[i].endValue/l[i].startValue)),n=!1}else{if(!(t>l[i].startValue/this.conversionParameters.minimum))break;if((t/=l[i].startValue/this.conversionParameters.minimum)<l[i].size){e*=Math.pow(l[i].endValue/l[i].startValue,1===l[i].size?1:Math.log(t)/Math.log(l[i].size))/t;break}e*=l[i].endValue/l[i].startValue/l[i].size,t/=l[i].size,n=!1}else{if(!(t>l[i].startValue/l[i-1].endValue))break;if((t/=l[i].startValue/l[i-1].endValue)<l[i].size){e*=Math.pow(l[i].endValue/l[i].startValue,1===l[i].size?1:Math.log(t)/Math.log(l[i].size))/t;break}e*=l[i].endValue/l[i].startValue/l[i].size,t/=l[i].size}}else for(i=l.length-1;0<=i;i--)if(!(l[i].startValue>this.conversionParameters.minimum))if(n)if(l[i].endValue>this.conversionParameters.minimum){if(1<l[i].size&&this.conversionParameters.minimum*Math.pow(l[i].endValue/l[i].startValue,Math.log(t)/Math.log(l[i].size))>l[i].startValue){e=Math.pow(l[i].endValue/l[i].startValue,Math.log(t)/Math.log(l[i].size));break}e*=l[i].startValue/this.conversionParameters.minimum*Math.pow(l[i].size,Math.log(l[i].startValue/this.conversionParameters.minimum)/Math.log(l[i].endValue/l[i].startValue))*t,t*=Math.pow(l[i].size,Math.log(this.conversionParameters.minimum/l[i].startValue)/Math.log(l[i].endValue/l[i].startValue)),n=!1}else{if(!(t<l[i].endValue/this.conversionParameters.minimum))break;if((t/=l[i].endValue/this.conversionParameters.minimum)>1/l[i].size){e*=Math.pow(l[i].endValue/l[i].startValue,1>=l[i].size?1:Math.log(t)/Math.log(l[i].size))*t;break}e/=l[i].endValue/l[i].startValue/l[i].size,t*=l[i].size,n=!1}else{if(!(t<l[i].endValue/l[i+1].startValue))break;if((t/=l[i].endValue/l[i+1].startValue)>1/l[i].size){e*=Math.pow(l[i].endValue/l[i].startValue,1>=l[i].size?1:Math.log(t)/Math.log(l[i].size))*t;break}e/=l[i].endValue/l[i].startValue/l[i].size,t*=l[i].size}n=e*this.viewportMinimum}else{if(e=t=(i-this.conversionParameters.reference)/this.conversionParameters.pixelPerUnit,i<=this.conversionParameters.reference==("left"===this._position||"right"===this._position)!==this.reversed){for(i=0;i<l.length;i++)if(!(l[i].endValue<this.conversionParameters.minimum))if(n)if(l[i].startValue<this.conversionParameters.minimum){if(l[i].size&&this.conversionParameters.minimum+t*(l[i].endValue-l[i].startValue)/l[i].size<l[i].endValue){e=0>=l[i].size?0:t*(l[i].endValue-l[i].startValue)/l[i].size;break}e+=l[i].endValue-this.conversionParameters.minimum-l[i].size*(l[i].endValue-this.conversionParameters.minimum)/(l[i].endValue-l[i].startValue),t-=l[i].size*(l[i].endValue-this.conversionParameters.minimum)/(l[i].endValue-l[i].startValue),n=!1}else{if(!(t>l[i].startValue-this.conversionParameters.minimum))break;if((t-=l[i].startValue-this.conversionParameters.minimum)<l[i].size){e+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:t/l[i].size)-t;break}e+=l[i].endValue-l[i].startValue-l[i].size,t-=l[i].size,n=!1}else{if(!(t>l[i].startValue-l[i-1].endValue))break;if((t-=l[i].startValue-l[i-1].endValue)<l[i].size){e+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:t/l[i].size)-t;break}e+=l[i].endValue-l[i].startValue-l[i].size,t-=l[i].size}}else for(i=l.length-1;0<=i;i--)if(!(l[i].startValue>this.conversionParameters.minimum))if(n)if(l[i].endValue>this.conversionParameters.minimum){if(l[i].size&&this.conversionParameters.minimum+t*(l[i].endValue-l[i].startValue)/l[i].size>l[i].startValue){e=0>=l[i].size?0:t*(l[i].endValue-l[i].startValue)/l[i].size;break}e+=l[i].startValue-this.conversionParameters.minimum+l[i].size*(this.conversionParameters.minimum-l[i].startValue)/(l[i].endValue-l[i].startValue),t+=l[i].size*(this.conversionParameters.minimum-l[i].startValue)/(l[i].endValue-l[i].startValue),n=!1}else{if(!(t<l[i].endValue-this.conversionParameters.minimum))break;if((t-=l[i].endValue-this.conversionParameters.minimum)>-1*l[i].size){e+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:t/l[i].size)+t;break}e-=l[i].endValue-l[i].startValue-l[i].size,t+=l[i].size,n=!1}else{if(!(t<l[i].endValue-l[i+1].startValue))break;if((t-=l[i].endValue-l[i+1].startValue)>-1*l[i].size){e+=(l[i].endValue-l[i].startValue)*(0===l[i].size?1:t/l[i].size)+t;break}e-=l[i].endValue-l[i].startValue-l[i].size,t+=l[i].size}n=this.conversionParameters.minimum+e}return n},L.prototype.convertValueToPixel=function(e){return e=this.getApparentDifference(this.conversionParameters.minimum,e,e),this.logarithmic?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*Math.log(e/this.conversionParameters.minimum)/this.conversionParameters.lnLogarithmBase+.5<<0:"axisX"===this.type?this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(e-this.conversionParameters.minimum)+.5<<0:this.conversionParameters.reference+this.conversionParameters.pixelPerUnit*(e-this.conversionParameters.minimum)+.5},L.prototype.getApparentDifference=function(e,t,n,i){var l=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];if(this.logarithmic){n=d(n)?t/e:n;for(var r=0;r<l.length&&!(t<l[r].startValue);r++)e>l[r].endValue||(e<=l[r].startValue&&t>=l[r].endValue?n=n/l[r].endValue*l[r].startValue*l[r].size:e>=l[r].startValue&&t>=l[r].endValue?n=n/l[r].endValue*e*Math.pow(l[r].size,Math.log(l[r].endValue/e)/Math.log(l[r].endValue/l[r].startValue)):e<=l[r].startValue&&t<=l[r].endValue?n=n/t*l[r].startValue*Math.pow(l[r].size,Math.log(t/l[r].startValue)/Math.log(l[r].endValue/l[r].startValue)):!i&&e>l[r].startValue&&t<l[r].endValue&&(n=e*Math.pow(l[r].size,Math.log(t/e)/Math.log(l[r].endValue/l[r].startValue))))}else for(n=d(n)?Math.abs(t-e):n,r=0;r<l.length&&!(t<l[r].startValue);r++)e>l[r].endValue||(e<=l[r].startValue&&t>=l[r].endValue?n=n-l[r].endValue+l[r].startValue+l[r].size:e>l[r].startValue&&t>=l[r].endValue?n=n-l[r].endValue+e+l[r].size*(l[r].endValue-e)/(l[r].endValue-l[r].startValue):e<=l[r].startValue&&t<l[r].endValue?n=n-t+l[r].startValue+l[r].size*(t-l[r].startValue)/(l[r].endValue-l[r].startValue):!i&&e>l[r].startValue&&t<l[r].endValue&&(n=e+l[r].size*(t-e)/(l[r].endValue-l[r].startValue)));return n},L.prototype.setViewPortRange=function(e,t){this.sessionVariables.newViewportMinimum=this.viewportMinimum=Math.min(e,t),this.sessionVariables.newViewportMaximum=this.viewportMaximum=Math.max(e,t)},L.prototype.getXValueAt=function(e){if(!e)return null;var t=null;return"left"===this._position?t=this.convertPixelToValue(e.y):"bottom"===this._position&&(t=this.convertPixelToValue(e.x)),t},L.prototype.calculateValueToPixelConversionParameters=function(e){e=this.scaleBreaks?this.scaleBreaks._appliedBreaks:[];var t={pixelPerUnit:null,minimum:null,reference:null},n=this.lineCoordinates.width,i=this.lineCoordinates.height;if(n="bottom"===this._position||"top"===this._position?n:i,i=Math.abs(this.range),this.logarithmic)for(var l=0;l<e.length&&!(this.viewportMaximum<e[l].startValue);l++)this.viewportMinimum>e[l].endValue||(this.viewportMinimum>=e[l].startValue&&this.viewportMaximum<=e[l].endValue?n=0:this.viewportMinimum<=e[l].startValue&&this.viewportMaximum>=e[l].endValue?(i=i/e[l].endValue*e[l].startValue,n=0<e[l].spacing.toString().indexOf("%")?n*(1-parseFloat(e[l].spacing)/100):n-Math.min(e[l].spacing,.1*n)):this.viewportMinimum>e[l].startValue&&this.viewportMaximum>=e[l].endValue?(i=i/e[l].endValue*this.viewportMinimum,n=0<e[l].spacing.toString().indexOf("%")?n*(1-parseFloat(e[l].spacing)/100*Math.log(e[l].endValue/this.viewportMinimum)/Math.log(e[l].endValue/e[l].startValue)):n-Math.min(e[l].spacing,.1*n)*Math.log(e[l].endValue/this.viewportMinimum)/Math.log(e[l].endValue/e[l].startValue)):this.viewportMinimum<=e[l].startValue&&this.viewportMaximum<e[l].endValue&&(i=i/this.viewportMaximum*e[l].startValue,n=0<e[l].spacing.toString().indexOf("%")?n*(1-parseFloat(e[l].spacing)/100*Math.log(this.viewportMaximum/e[l].startValue)/Math.log(e[l].endValue/e[l].startValue)):n-Math.min(e[l].spacing,.1*n)*Math.log(this.viewportMaximum/e[l].startValue)/Math.log(e[l].endValue/e[l].startValue)));else for(l=0;l<e.length&&!(this.viewportMaximum<e[l].startValue);l++)this.viewportMinimum>e[l].endValue||(this.viewportMinimum>=e[l].startValue&&this.viewportMaximum<=e[l].endValue?n=0:this.viewportMinimum<=e[l].startValue&&this.viewportMaximum>=e[l].endValue?(i=i-e[l].endValue+e[l].startValue,n=0<e[l].spacing.toString().indexOf("%")?n*(1-parseFloat(e[l].spacing)/100):n-Math.min(e[l].spacing,.1*n)):this.viewportMinimum>e[l].startValue&&this.viewportMaximum>=e[l].endValue?(i=i-e[l].endValue+this.viewportMinimum,n=0<e[l].spacing.toString().indexOf("%")?n*(1-parseFloat(e[l].spacing)/100*(e[l].endValue-this.viewportMinimum)/(e[l].endValue-e[l].startValue)):n-Math.min(e[l].spacing,.1*n)*(e[l].endValue-this.viewportMinimum)/(e[l].endValue-e[l].startValue)):this.viewportMinimum<=e[l].startValue&&this.viewportMaximum<e[l].endValue&&(i=i-this.viewportMaximum+e[l].startValue,n=0<e[l].spacing.toString().indexOf("%")?n*(1-parseFloat(e[l].spacing)/100*(this.viewportMaximum-e[l].startValue)/(e[l].endValue-e[l].startValue)):n-Math.min(e[l].spacing,.1*n)*(this.viewportMaximum-e[l].startValue)/(e[l].endValue-e[l].startValue)));t.minimum=this.viewportMinimum,t.maximum=this.viewportMaximum,t.range=i,"bottom"!==this._position&&"top"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?-1:1)*n*t.lnLogarithmBase/Math.log(Math.abs(i))):t.pixelPerUnit=(this.reversed?-1:1)*n/Math.abs(i),t.reference=this.reversed?this.lineCoordinates.x2:this.lineCoordinates.x1),"left"!==this._position&&"right"!==this._position||(this.logarithmic?(t.lnLogarithmBase=Math.log(this.logarithmBase),t.pixelPerUnit=(this.reversed?1:-1)*n*t.lnLogarithmBase/Math.log(Math.abs(i))):t.pixelPerUnit=(this.reversed?1:-1)*n/Math.abs(i),t.reference=this.reversed?this.lineCoordinates.y1:this.lineCoordinates.y2),this.conversionParameters=t},L.prototype.calculateAxisParameters=function(){if(this.logarithmic)this.calculateLogarithmicAxisParameters();else{var e=this.chart.layoutManager.getFreeSpace(),t=!1,n=!1;"bottom"===this._position||"top"===this._position?(this.maxWidth=e.width,this.maxHeight=e.height):(this.maxWidth=e.height,this.maxHeight=e.width),e="axisX"===this.type?"xySwapped"===this.chart.plotInfo.axisPlacement?62:70:"xySwapped"===this.chart.plotInfo.axisPlacement?50:40;var i,l,r,a=4;if("axisX"===this.type&&(a=600>this.maxWidth?8:6),e=Math.max(a,Math.floor(this.maxWidth/e)),a=0,!d(this.options.viewportMinimum)&&!d(this.options.viewportMaximum)&&this.options.viewportMinimum>=this.options.viewportMaximum&&(this.viewportMinimum=this.viewportMaximum=null),!d(this.options.viewportMinimum)||d(this.sessionVariables.newViewportMinimum)||isNaN(this.sessionVariables.newViewportMinimum)?(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum):this.viewportMinimum=this.sessionVariables.newViewportMinimum,!d(this.options.viewportMaximum)||d(this.sessionVariables.newViewportMaximum)||isNaN(this.sessionVariables.newViewportMaximum)?(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum):this.viewportMaximum=this.sessionVariables.newViewportMaximum,this.scaleBreaks)for(a=0;a<this.scaleBreaks._appliedBreaks.length;a++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[a].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[a].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[a].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[a].endValue)){this.scaleBreaks._appliedBreaks.splice(a,1);break}if("axisX"===this.type){if(this.dataSeries&&0<this.dataSeries.length)for(i=0;i<this.dataSeries.length;i++)"dateTime"===this.dataSeries[i].xValueType&&(n=!0);0==(l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)-(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(l+=a=void 0===this.options.interval?.4:this.options.interval,i-=a),1/0!==this.dataInfo.minDiff?r=this.dataInfo.minDiff:1<l-i?r=.5*Math.abs(l-i):(r=1,n&&(t=!0))}else"axisY"===this.type&&(i=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin,l=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,isFinite(i)||isFinite(l)?isFinite(i)?isFinite(l)||(l=i):i=l:(l=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),0===i&&0===l?(l+=9,i=0):0==l-i?(l+=a=Math.min(Math.abs(.01*Math.abs(l)),5),i-=a):i>l?(a=Math.min(.01*Math.abs(this.getApparentDifference(l,i,null,!0)),5),0<=l?i=l-a:l=isFinite(i)?i+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(i,l,null,!0)),.05),0!==l&&(l+=a),0!==i&&(i-=a)),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<l-i?.5*Math.abs(l-i):1,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&0<i&&(i=0),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&0>l&&(l=0));a=this.getApparentDifference(isNaN(this.viewportMinimum)||null===this.viewportMinimum?i:this.viewportMinimum,isNaN(this.viewportMaximum)||null===this.viewportMaximum?l:this.viewportMaximum,null,!0),"axisX"===this.type&&n?(this.intervalType||(a/1<=e?(this.interval=1,this.intervalType="millisecond"):a/2<=e?(this.interval=2,this.intervalType="millisecond"):a/5<=e?(this.interval=5,this.intervalType="millisecond"):a/10<=e?(this.interval=10,this.intervalType="millisecond"):a/20<=e?(this.interval=20,this.intervalType="millisecond"):a/50<=e?(this.interval=50,this.intervalType="millisecond"):a/100<=e?(this.interval=100,this.intervalType="millisecond"):a/200<=e?(this.interval=200,this.intervalType="millisecond"):a/250<=e?(this.interval=250,this.intervalType="millisecond"):a/300<=e?(this.interval=300,this.intervalType="millisecond"):a/400<=e?(this.interval=400,this.intervalType="millisecond"):a/500<=e?(this.interval=500,this.intervalType="millisecond"):a/(1*J.secondDuration)<=e?(this.interval=1,this.intervalType="second"):a/(2*J.secondDuration)<=e?(this.interval=2,this.intervalType="second"):a/(5*J.secondDuration)<=e?(this.interval=5,this.intervalType="second"):a/(10*J.secondDuration)<=e?(this.interval=10,this.intervalType="second"):a/(15*J.secondDuration)<=e?(this.interval=15,this.intervalType="second"):a/(20*J.secondDuration)<=e?(this.interval=20,this.intervalType="second"):a/(30*J.secondDuration)<=e?(this.interval=30,this.intervalType="second"):a/(1*J.minuteDuration)<=e?(this.interval=1,this.intervalType="minute"):a/(2*J.minuteDuration)<=e?(this.interval=2,this.intervalType="minute"):a/(5*J.minuteDuration)<=e?(this.interval=5,this.intervalType="minute"):a/(10*J.minuteDuration)<=e?(this.interval=10,this.intervalType="minute"):a/(15*J.minuteDuration)<=e?(this.interval=15,this.intervalType="minute"):a/(20*J.minuteDuration)<=e?(this.interval=20,this.intervalType="minute"):a/(30*J.minuteDuration)<=e?(this.interval=30,this.intervalType="minute"):a/(1*J.hourDuration)<=e?(this.interval=1,this.intervalType="hour"):a/(2*J.hourDuration)<=e?(this.interval=2,this.intervalType="hour"):a/(3*J.hourDuration)<=e?(this.interval=3,this.intervalType="hour"):a/(6*J.hourDuration)<=e?(this.interval=6,this.intervalType="hour"):a/(1*J.dayDuration)<=e?(this.interval=1,this.intervalType="day"):a/(2*J.dayDuration)<=e?(this.interval=2,this.intervalType="day"):a/(4*J.dayDuration)<=e?(this.interval=4,this.intervalType="day"):a/(1*J.weekDuration)<=e?(this.interval=1,this.intervalType="week"):a/(2*J.weekDuration)<=e?(this.interval=2,this.intervalType="week"):a/(3*J.weekDuration)<=e?(this.interval=3,this.intervalType="week"):a/(1*J.monthDuration)<=e?(this.interval=1,this.intervalType="month"):a/(2*J.monthDuration)<=e?(this.interval=2,this.intervalType="month"):a/(3*J.monthDuration)<=e?(this.interval=3,this.intervalType="month"):a/(6*J.monthDuration)<=e?(this.interval=6,this.intervalType="month"):(this.interval=a/(1*J.yearDuration)<=e?1:a/(2*J.yearDuration)<=e?2:a/(4*J.yearDuration)<=e?4:Math.floor(L.getNiceNumber(a/(e-1),!0)/J.yearDuration),this.intervalType="year")),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=i-r/2),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=l+r/2),t?this.autoValueFormatString="MMM DD YYYY HH:mm":"year"===this.intervalType?this.autoValueFormatString="YYYY":"month"===this.intervalType?this.autoValueFormatString="MMM YYYY":"week"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"day"===this.intervalType?this.autoValueFormatString="MMM DD YYYY":"hour"===this.intervalType?this.autoValueFormatString="hh:mm TT":"minute"===this.intervalType?this.autoValueFormatString="hh:mm TT":"second"===this.intervalType?this.autoValueFormatString="hh:mm:ss TT":"millisecond"===this.intervalType&&(this.autoValueFormatString="fff'ms'"),this.valueFormatString||(this.valueFormatString=this.autoValueFormatString)):(this.intervalType="number",a=L.getNiceNumber(a,!1),this.interval=this.options&&0<this.options.interval?this.options.interval:L.getNiceNumber(a/(e-1),!0),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?i-r/2:Math.floor(i/this.interval)*this.interval),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?l+r/2:Math.ceil(l/this.interval)*this.interval),0===this.viewportMaximum&&0===this.viewportMinimum&&(0===this.options.viewportMinimum?this.viewportMaximum+=10:0===this.options.viewportMaximum&&(this.viewportMinimum-=10),this.options&&void 0===this.options.interval&&(this.interval=L.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(e-1),!0)))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(0==(l=null!==this.maximum?this.maximum:this.dataInfo.max)-(i=null!==this.minimum?this.minimum:this.dataInfo.min)&&(l+=a=void 0===this.options.interval?.4:this.options.interval,i-=a),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<l-i?.5*Math.abs(l-i):1):"axisY"===this.type&&(i=null!==this.minimum?this.minimum:this.dataInfo.min,l=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(i)||isFinite(l)?0===i&&0===l?(l+=9,i=0):0==l-i?(l+=a=Math.min(Math.abs(.01*Math.abs(l)),5),i-=a):i>l?(a=Math.min(.01*Math.abs(this.getApparentDifference(l,i,null,!0)),5),0<=l?i=l-a:l=isFinite(i)?i+a:0):(a=Math.min(.01*Math.abs(this.getApparentDifference(i,l,null,!0)),.05),0!==l&&(l+=a),0!==i&&(i-=a)):(l=void 0===this.options.interval?-1/0:this.options.interval,i=void 0!==this.options.interval||isFinite(this.dataInfo.minDiff)?0:1/0),r=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:1<l-i?.5*Math.abs(l-i):1,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&0<i&&(i=0),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&0>l&&(l=0)),Math.abs(this.getApparentDifference(i,l,null,!0)),"axisX"===this.type&&n?(this.valueType="dateTime",(null===this.minimum||isNaN(this.minimum))&&(this.minimum=i-r/2),(null===this.maximum||isNaN(this.maximum))&&(this.maximum=l+r/2)):(this.intervalType=this.valueType="number",null===this.minimum&&(this.minimum="axisX"===this.type?i-r/2:Math.floor(i/this.interval)*this.interval,this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?1/0:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?l+r/2:Math.ceil(l/this.interval)*this.interval,this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?-1/0:this.sessionVariables.viewportMaximum)),0===this.maximum&&0===this.minimum&&(0===this.options.minimum?this.maximum+=10:0===this.options.maximum&&(this.minimum-=10)))),d(this.sessionVariables.newViewportMinimum)&&(this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum)),d(this.sessionVariables.newViewportMaximum)&&(this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum)),this.range=this.viewportMaximum-this.viewportMinimum,this.intervalStartPosition="axisX"===this.type&&n?this.getLabelStartPoint(new Date(this.viewportMinimum),this.intervalType,this.interval):Math.floor((this.viewportMinimum+.2*this.interval)/this.interval)*this.interval,this.valueFormatString||(this.valueFormatString=L.generateValueFormatString(this.range,2))}},L.prototype.calculateLogarithmicAxisParameters=function(){var e,t,n,i,l,r=this.chart.layoutManager.getFreeSpace(),a=Math.log(this.logarithmBase);if("bottom"===this._position||"top"===this._position?(this.maxWidth=r.width,this.maxHeight=r.height):(this.maxWidth=r.height,this.maxHeight=r.width),r="axisX"===this.type?500>this.maxWidth?7:Math.max(7,Math.floor(this.maxWidth/100)):Math.max(Math.floor(this.maxWidth/50),3),l=1,(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum=this.minimum),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum=this.maximum),this.scaleBreaks)for(l=0;l<this.scaleBreaks._appliedBreaks.length;l++)if((!d(this.sessionVariables.newViewportMinimum)&&this.sessionVariables.newViewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue||!d(this.options.minimum)&&this.options.minimum>=this.scaleBreaks._appliedBreaks[l].startValue||!d(this.options.viewportMinimum)&&this.viewportMinimum>=this.scaleBreaks._appliedBreaks[l].startValue)&&(!d(this.sessionVariables.newViewportMaximum)&&this.sessionVariables.newViewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue||!d(this.options.maximum)&&this.options.maximum<=this.scaleBreaks._appliedBreaks[l].endValue||!d(this.options.viewportMaximum)&&this.viewportMaximum<=this.scaleBreaks._appliedBreaks[l].endValue)){this.scaleBreaks._appliedBreaks.splice(l,1);break}"axisX"===this.type?(1==(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax)/(t=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&(n*=l=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),t/=l),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/t>this.logarithmBase?n/t*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(n=null!==this.viewportMaximum?this.viewportMaximum:this.dataInfo.viewPortMax,0>=(t=null!==this.viewportMinimum?this.viewportMinimum:this.dataInfo.viewPortMin)&&!isFinite(n)?(n=void 0===this.options.interval?0:this.options.interval,t=1):0>=t?t=n:isFinite(n)||(n=t),1===t&&1===n?(n*=this.logarithmBase-1/this.logarithmBase,t=1):1==n/t?(n*=l=Math.min(n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),t/=l):t>n?(l=Math.min(t/n*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,5)),1<=n?t=n/l:n=t*l):(l=Math.min(n/t*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=l),1!==t&&(t/=l)),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/t>this.logarithmBase?n/t*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&1<t&&(t=1),this.includeZero&&(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&1>n&&(n=1)),l=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)/(isNaN(this.viewportMinimum)||null===this.viewportMinimum?t:this.viewportMinimum);var o=(isNaN(this.viewportMaximum)||null===this.viewportMaximum?n:this.viewportMaximum)-(isNaN(this.viewportMinimum)||null===this.viewportMinimum?t:this.viewportMinimum);if(this.intervalType="number",l=Math.pow(this.logarithmBase,L.getNiceNumber(Math.abs(Math.log(l)/a),!1)),this.options&&0<this.options.interval?this.interval=this.options.interval:(this.interval=L.getNiceExponent(Math.log(l)/a/(r-1),!0),e=L.getNiceNumber(o/(r-1),!0)),(null===this.viewportMinimum||isNaN(this.viewportMinimum))&&(this.viewportMinimum="axisX"===this.type?t/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(t)/a/this.interval))),(null===this.viewportMaximum||isNaN(this.viewportMaximum))&&(this.viewportMaximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/a/this.interval))),1===this.viewportMaximum&&1===this.viewportMinimum&&(1===this.options.viewportMinimum?this.viewportMaximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.viewportMaximum&&(this.viewportMinimum/=this.logarithmBase-1/this.logarithmBase),this.options&&void 0===this.options.interval&&(this.interval=L.getNiceExponent(Math.ceil(Math.log(l)/a)/(r-1)),e=L.getNiceNumber((this.viewportMaximum-this.viewportMinimum)/(r-1),!0))),null!==this.minimum&&null!==this.maximum||("axisX"===this.type?(1==(n=null!==this.maximum?this.maximum:this.dataInfo.max)/(t=null!==this.minimum?this.minimum:this.dataInfo.min)&&(n*=l=Math.pow(this.logarithmBase,void 0===this.options.interval?.4:this.options.interval),t/=l),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/t>this.logarithmBase?n/t*Math.pow(this.logarithmBase,.5):this.logarithmBase):"axisY"===this.type&&(t=null!==this.minimum?this.minimum:this.dataInfo.min,n=null!==this.maximum?this.maximum:this.dataInfo.max,isFinite(t)||isFinite(n)?1===t&&1===n?(n*=this.logarithmBase,t/=this.logarithmBase):1==n/t?(n*=l=Math.pow(this.logarithmBase,this.interval),t/=l):t>n?(l=Math.min(t/n*.01,5),1<=n?t=n/l:n=t*l):(l=Math.min(n/t*Math.pow(this.logarithmBase,.01),Math.pow(this.logarithmBase,.04)),1!==n&&(n*=l),1!==t&&(t/=l)):(n=void 0===this.options.interval?0:this.options.interval,t=1),i=1/0!==this.dataInfo.minDiff?this.dataInfo.minDiff:n/t>this.logarithmBase?n/t*Math.pow(this.logarithmBase,.5):this.logarithmBase,this.includeZero&&(null===this.minimum||isNaN(this.minimum))&&1<t&&(t=1),this.includeZero&&(null===this.maximum||isNaN(this.maximum))&&1>n&&(n=1)),this.intervalType="number",null===this.minimum&&(this.minimum="axisX"===this.type?t/Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.floor(Math.log(t)/a/this.interval)),this.minimum=Math.min(this.minimum,null===this.sessionVariables.viewportMinimum||isNaN(this.sessionVariables.viewportMinimum)?void 0===this.sessionVariables.newViewportMinimum?1/0:this.sessionVariables.newViewportMinimum:this.sessionVariables.viewportMinimum)),null===this.maximum&&(this.maximum="axisX"===this.type?n*Math.sqrt(i):Math.pow(this.logarithmBase,this.interval*Math.ceil(Math.log(n)/a/this.interval)),this.maximum=Math.max(this.maximum,null===this.sessionVariables.viewportMaximum||isNaN(this.sessionVariables.viewportMaximum)?void 0===this.sessionVariables.newViewportMaximum?0:this.sessionVariables.newViewportMaximum:this.sessionVariables.viewportMaximum)),1===this.maximum&&1===this.minimum&&(1===this.options.minimum?this.maximum*=this.logarithmBase-1/this.logarithmBase:1===this.options.maximum&&(this.minimum/=this.logarithmBase-1/this.logarithmBase))),this.viewportMinimum=Math.max(this.viewportMinimum,this.minimum),this.viewportMaximum=Math.min(this.viewportMaximum,this.maximum),this.viewportMinimum>this.viewportMaximum&&(!this.options.viewportMinimum&&!this.options.minimum||this.options.viewportMaximum||this.options.maximum?this.options.viewportMinimum||this.options.minimum||!this.options.viewportMaximum&&!this.options.maximum||(this.viewportMinimum=this.minimum=(this.options.viewportMaximum||this.options.maximum)/Math.pow(this.logarithmBase,2*Math.ceil(this.interval))):this.viewportMaximum=this.maximum=this.options.viewportMinimum||this.options.minimum),t=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval),this.range=this.viewportMaximum/this.viewportMinimum,this.noTicks=r,!this.options.interval&&this.range<Math.pow(this.logarithmBase,8>this.viewportMaximum||3>r?2:3)){for(a=Math.floor(this.viewportMinimum/e+.5)*e;a<this.viewportMinimum;)a+=e;this.equidistantInterval=!1,this.intervalStartPosition=a,this.interval=e}else this.options.interval||(e=Math.ceil(this.interval),this.range>this.interval&&(this.interval=e,t=Math.pow(this.logarithmBase,Math.floor(Math.log(this.viewportMinimum)/(a*this.interval)+.2)*this.interval))),this.equidistantInterval=!0,this.intervalStartPosition=t;if(!this.valueFormatString&&(this.valueFormatString="#,##0.##",1>this.viewportMinimum)&&(a=Math.floor(Math.abs(Math.log(this.viewportMinimum)/Math.LN10))+2,!isNaN(a)&&isFinite(a)||(a=2),2<a))for(l=0;l<a-2;l++)this.valueFormatString+="#"},L.generateValueFormatString=function(e,t){var n="#,##0.",i=t;1>e&&(i+=Math.floor(Math.abs(Math.log(e)/Math.LN10)),isNaN(i)||!isFinite(i))&&(i=t);for(var l=0;l<i;l++)n+="#";return n},L.getNiceExponent=function(e,t){var n=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,n);return i=0>n?1>=i?1:5>=i?5:10:Math.max(Math.floor(i),1),-20>n?Number(i*Math.pow(10,n)):Number((i*Math.pow(10,n)).toFixed(20))},L.getNiceNumber=function(e,t){var n=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,n);return i=t?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10,-20>n?Number(i*Math.pow(10,n)):Number((i*Math.pow(10,n)).toFixed(20))},L.prototype.getLabelStartPoint=function(){var e=J[this.intervalType+"Duration"]*this.interval;return e=new Date(Math.floor(this.viewportMinimum/e)*e),"millisecond"!==this.intervalType&&("second"===this.intervalType?0<e.getMilliseconds()&&(e.setSeconds(e.getSeconds()+1),e.setMilliseconds(0)):"minute"===this.intervalType?(0<e.getSeconds()||0<e.getMilliseconds())&&(e.setMinutes(e.getMinutes()+1),e.setSeconds(0),e.setMilliseconds(0)):"hour"===this.intervalType?(0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setHours(e.getHours()+1),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"day"===this.intervalType?(0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"week"===this.intervalType?(0<e.getDay()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setDate(e.getDate()+(7-e.getDay())),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"month"===this.intervalType?(1<e.getDate()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setMonth(e.getMonth()+1),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)):"year"===this.intervalType&&(0<e.getMonth()||1<e.getDate()||0<e.getHours()||0<e.getMinutes()||0<e.getSeconds()||0<e.getMilliseconds())&&(e.setFullYear(e.getFullYear()+1),e.setMonth(0),e.setDate(1),e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0))),e},n(B,P),n(V,P),V.prototype.createUserOptions=function(e){if(void 0!==e||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent[this.optionsName]),t=this.parent.options[this.optionsName].indexOf(this.options)),this.options=void 0===e?{}:e,this.parent.options[this.optionsName][t]=this.options}},V.prototype.render=function(e){if(0!==this.spacing||0!==this.options.lineThickness&&(void 0!==this.options.lineThickness||0!==this.parent.lineThickness)){var t=this.ctx,n=this.ctx.globalAlpha;this.ctx=e||this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(this.chart.plotArea.x1,this.chart.plotArea.y1,this.chart.plotArea.width,this.chart.plotArea.height),this.ctx.clip();var i,l,r,a,o,s,u=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.startValue),h=this.scaleBreaks.parent.getPixelCoordinatesOnAxis(this.endValue);this.ctx.strokeStyle=this.lineColor,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.globalAlpha=1,c(this.id),e=Math.max(this.spacing,3);var d=Math.max(0,this.lineThickness);if(this.ctx.lineWidth=d,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,d)),"bottom"===this.scaleBreaks.parent._position||"top"===this.scaleBreaks.parent._position){if(l=1==d%2?.5+(h.x<<0):h.x<<0,"top"===this.scaleBreaks.parent._position?(h=this.chart.plotArea.y1,r=this.chart.plotArea.y2+d/2+.5<<0):(h=this.chart.plotArea.y2,r=this.chart.plotArea.y1-d/2+.5<<0,e*=-1),this.bounds={x1:(u=1==d%2?.5+(u.x<<0):u.x<<0)-d/2,y1:h,x2:l+d/2,y2:r},this.ctx.moveTo(u,h),"straight"===this.type||"top"===this.scaleBreaks.parent._position&&0>=e||"bottom"===this.scaleBreaks.parent._position&&0<=e)this.ctx.lineTo(u,r),this.ctx.lineTo(l,r),this.ctx.lineTo(l,h);else if("wavy"===this.type){a=u,i=.5,s=(r-(o=h))/e/3;for(var f=0;f<s;f++)this.ctx.bezierCurveTo(a+i*e,o+e,a+i*e,o+2*e,a,o+3*e),o+=3*e,i*=-1;for(this.ctx.bezierCurveTo(a+i*e,o+e,a+i*e,o+2*e,a,o+3*e),i*=-1,this.ctx.lineTo(a=l,o),f=0;f<s;f++)this.ctx.bezierCurveTo(a+i*e,o-e,a+i*e,o-2*e,a,o-3*e),o-=3*e,i*=-1}else if("zigzag"===this.type){for(i=-1,a=u+e,s=(r-(o=h+e))/e/2,f=0;f<s;f++)this.ctx.lineTo(a,o),a+=2*i*e,o+=2*e,i*=-1;for(this.ctx.lineTo(a,o),a+=l-u,f=0;f<s+1;f++)this.ctx.lineTo(a,o),a+=2*i*e,o-=2*e,i*=-1;this.ctx.lineTo(a+i*e,o+e)}}else if("left"===this.scaleBreaks.parent._position||"right"===this.scaleBreaks.parent._position)if(r=1==d%2?.5+(u.y<<0):u.y<<0,"left"===this.scaleBreaks.parent._position?(u=this.chart.plotArea.x1,l=this.chart.plotArea.x2+d/2+.5<<0):(u=this.chart.plotArea.x2,l=this.chart.plotArea.x1-d/2+.5<<0,e*=-1),this.bounds={x1:u,y1:(h=1==d%2?.5+(h.y<<0):h.y<<0)-d/2,x2:l,y2:r+d/2},this.ctx.moveTo(u,h),"straight"===this.type||"left"===this.scaleBreaks.parent._position&&0>=e||"right"===this.scaleBreaks.parent._position&&0<=e)this.ctx.lineTo(l,h),this.ctx.lineTo(l,r),this.ctx.lineTo(u,r);else if("wavy"===this.type){for(o=h,i=.5,s=(l-(a=u))/e/3,f=0;f<s;f++)this.ctx.bezierCurveTo(a+e,o+i*e,a+2*e,o+i*e,a+3*e,o),a+=3*e,i*=-1;for(this.ctx.bezierCurveTo(a+e,o+i*e,a+2*e,o+i*e,a+3*e,o),i*=-1,this.ctx.lineTo(a,o=r),f=0;f<s;f++)this.ctx.bezierCurveTo(a-e,o+i*e,a-2*e,o+i*e,a-3*e,o),a-=3*e,i*=-1}else if("zigzag"===this.type){for(i=1,o=h-e,s=(l-(a=u+e))/e/2,f=0;f<s;f++)this.ctx.lineTo(a,o),o+=2*i*e,a+=2*e,i*=-1;for(this.ctx.lineTo(a,o),o+=r-h,f=0;f<s+1;f++)this.ctx.lineTo(a,o),o+=2*i*e,a-=2*e,i*=-1;this.ctx.lineTo(a+e,o+i*e)}0<d&&this.ctx.stroke(),this.ctx.closePath(),this.ctx.globalAlpha=this.fillOpacity,this.ctx.globalCompositeOperation="destination-over",this.ctx.fill(),this.ctx.restore(),this.ctx.globalAlpha=n,this.ctx=t}},n(W,P),W.prototype.createUserOptions=function(e){if(void 0!==e||this.options._isPlaceholder){var t=0;this.parent.options._isPlaceholder&&this.parent.createUserOptions(),this.options._isPlaceholder||(f(this.parent.stripLines),t=this.parent.options.stripLines.indexOf(this.options)),this.options=void 0===e?{}:e,this.parent.options.stripLines[t]=this.options}},W.prototype.render=function(){this.ctx.save();var e=this.parent.getPixelCoordinatesOnAxis(this.value),t=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);if(0<t){var n=null===this.opacity?1:this.opacity;this.ctx.strokeStyle=this.color,this.ctx.beginPath();var i,l,r,a,o=this.ctx.globalAlpha;this.ctx.globalAlpha=n,c(this.id),this.ctx.lineWidth=t,this.ctx.setLineDash&&this.ctx.setLineDash(g(this.lineDashType,t)),"bottom"===this.parent._position||"top"===this.parent._position?(i=l=1==this.ctx.lineWidth%2?.5+(e.x<<0):e.x<<0,this.bounds={x1:i-t/2,y1:r=this.chart.plotArea.y1,x2:l+t/2,y2:a=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(r=a=1==this.ctx.lineWidth%2?.5+(e.y<<0):e.y<<0,this.bounds={x1:i=this.chart.plotArea.x1,y1:r-t/2,x2:l=this.chart.plotArea.x2,y2:a+t/2}),this.ctx.moveTo(i,r),this.ctx.lineTo(l,a),this.ctx.stroke(),this.ctx.globalAlpha=o}this.ctx.restore()},n(U,P),U.prototype.render=function(e,t){var n,i,l,r,a=null,o=a=null,s="";if(!this.valueFormatString)if("dateTime"===this.parent.valueType)this.valueFormatString=this.parent.valueFormatString;else{var u=0;u="xySwapped"===this.chart.plotInfo.axisPlacement?50<this.parent.range?0:500<this.chart.width&&25>this.parent.range?2:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0):50<this.parent.range?0:Math.floor(Math.abs(Math.log(this.parent.range)/Math.LN10))+(5>this.parent.range?2:10>this.parent.range?1:0),this.valueFormatString=L.generateValueFormatString(this.parent.range,u)}o=null===this.opacity?1:this.opacity,u=Math.abs("pixel"===this._thicknessType?this.thickness:this.parent.conversionParameters.pixelPerUnit*this.thickness);var c=this.chart.overlaidCanvasCtx,h=c.globalAlpha;if(c.globalAlpha=o,c.beginPath(),c.strokeStyle=this.color,c.lineWidth=u,c.save(),this.labelFontSize=d(this.options.labelFontSize)?this.parent.labelFontSize:this.labelFontSize,"left"===this.parent._position||"right"===this.parent._position?(this.labelMaxWidth=d(this.options.labelMaxWidth)?this.parent.bounds.x2-this.parent.bounds.x1:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?3*this.chart.height:2*this.labelFontSize):"top"!==this.parent._position&&"bottom"!==this.parent._position||(this.labelMaxWidth=d(this.options.labelMaxWidth)?3*this.chart.width:this.labelMaxWidth,this.labelMaxHeight=d(this.options.labelWrap)||this.labelWrap?this.parent.bounds.height:2*this.labelFontSize),0<u&&c.setLineDash&&c.setLineDash(g(this.lineDashType,u)),o=new A(c,{x:0,y:0,padding:{top:2,right:3,bottom:2,left:4},backgroundColor:this.labelBackgroundColor,borderColor:this.labelBorderColor,borderThickness:this.labelBorderThickness,cornerRadius:this.labelCornerRadius,maxWidth:this.labelMaxWidth,maxHeight:this.labelMaxHeight,angle:this.labelAngle,text:s,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"}),this.snapToDataPoint){var f=0;if(a=[],"xySwapped"===this.chart.plotInfo.axisPlacement){var p=null;"bottom"===this.parent._position||"top"===this.parent._position?f=this.parent.dataSeries[0].axisX.convertPixelToValue({y:t}):"left"!==this.parent._position&&"right"!==this.parent._position||(f=this.parent.convertPixelToValue({y:t}));for(var v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(p.dataSeries=this.parent.dataSeries[v],null!==p.dataPoint.y&&a.push(p));if(p=null,0===a.length)return;if(a.sort((function(e,t){return e.distance-t.distance})),p=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),v=0,"rangeBar"===a[0].dataSeries.type||"error"===a[0].dataSeries.type){p=Math.abs(e-this.parent.convertValueToPixel(a[v].dataPoint.y[0]));var m=0;for(f=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(e-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else(m=Math.abs(e-this.parent.convertValueToPixel(a[f].dataPoint.y)))<p&&(p=m,v=f)}else if("stackedBar"===a[0].dataSeries.type){p=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y));var y=m=0;for(f=v=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(e-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else y+=a[f].dataPoint.y,(m=Math.abs(e-this.parent.convertValueToPixel(y)))<p&&(p=m,v=f)}else if("stackedBar100"===a[0].dataSeries.type){p=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y));var b=y=m=0;for(f=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(e-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else y+=a[f].dataPoint.y,b=a[f].dataPoint.x.getTime?a[f].dataPoint.x.getTime():a[f].dataPoint.x,b=y/a[f].dataSeries.plotUnit.dataPointYSums[b]*100,(m=Math.abs(e-this.parent.convertValueToPixel(b)))<p&&(p=m,v=f)}else for(p=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),f=v=m=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(e-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else(m=Math.abs(e-this.parent.convertValueToPixel(a[f].dataPoint.y)))<p&&(p=m,v=f);if(s=a[v],"bottom"===this.parent._position||"top"===this.parent._position){if(n=0,"rangeBar"===this.parent.dataSeries[v].type||"error"===this.parent.dataSeries[v].type){for(p=Math.abs(e-this.parent.convertValueToPixel(s.dataPoint.y[0])),f=m=0;f<s.dataPoint.y.length;f++)(m=Math.abs(e-this.parent.convertValueToPixel(s.dataPoint.y[f])))<p&&(p=m,n=f);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataPoint.y[n])<<0):this.parent.convertValueToPixel(s.dataPoint.y[n])<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.y[n]}):d(this.options.label)?re(s.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar"===this.parent.dataSeries[v].type){for(p=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=m=0,f=v;0<=f;f--)y+=a[f].dataPoint.y,(m=Math.abs(e-this.parent.convertValueToPixel(y)))<p&&(p=m,n=f);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.y}):d(this.options.label)?re(s.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedBar100"===this.parent.dataSeries[v].type){for(p=Math.abs(e-this.parent.convertValueToPixel(a[0].dataPoint.y)),b=y=m=0,f=v;0<=f;f--)y+=a[f].dataPoint.y,b=a[f].dataPoint.x.getTime?a[f].dataPoint.x.getTime():a[f].dataPoint.x,b=y/a[f].dataSeries.plotUnit.dataPointYSums[b]*100,(m=Math.abs(e-this.parent.convertValueToPixel(b)))<p&&(p=m,n=f);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):d(this.options.label)?re(b,this.valueFormatString,this.chart._cultureInfo):this.label}else a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataPoint.y)<<0):this.parent.convertValueToPixel(s.dataPoint.y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.y}):d(this.options.label)?re(s.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label;n=i=a,this.bounds={x1:n-u/2,y1:l=this.chart.plotArea.y1,x2:i+u/2,y2:r=this.chart.plotArea.y2},o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2?o.x=this.chart.bounds.x2-o.width:o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2}else if("left"===this.parent._position||"right"===this.parent._position){if(l=r=a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataPoint.x)<<0):this.parent.convertValueToPixel(s.dataPoint.x)<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:l-u/2,x2:i=this.chart.plotArea.x2,y2:r+u/2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=a){if(!this.parent.labels[f]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(f=this.parent.convertPixelToValue({y:t}),p=null,v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.x}):d(this.options.label)?p.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.x}):d(this.options.label)?le(s.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.x}):d(this.options.label)?re(s.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);o.y=r+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x2-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2)}}else if("bottom"===this.parent._position||"top"===this.parent._position){for(f=this.parent.convertPixelToValue({x:e}),v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(p.dataSeries=this.parent.dataSeries[v],null!==p.dataPoint.y&&a.push(p));if(0===a.length)return;if(a.sort((function(e,t){return e.distance-t.distance})),s=a[0],n=i=a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataPoint.x)<<0):this.parent.convertValueToPixel(s.dataPoint.x)<<0,this.bounds={x1:n-u/2,y1:l=this.chart.plotArea.y1,x2:i+u/2,y2:r=this.chart.plotArea.y2},b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=a){if(!this.parent.labels[f]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(f=this.parent.convertPixelToValue({x:e}),p=null,v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.x}):d(this.options.label)?p.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.x}):d(this.options.label)?le(s.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.x}):d(this.options.label)?re(s.dataPoint.x,this.valueFormatString,this.chart._cultureInfo):this.label);o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2&&(o.x=this.chart.bounds.x2-o.width),o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),"bottom"===this.parent._position?o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2:"top"===this.parent._position&&(o.y=this.parent.lineCoordinates.y1-o.height+o.fontSize/2+2)}else if("left"===this.parent._position||"right"===this.parent._position){for(!d(this.parent.dataSeries)&&0<this.parent.dataSeries.length&&(f=this.parent.dataSeries[0].axisX.convertPixelToValue({x:e})),v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(p.dataSeries=this.parent.dataSeries[v],null!==p.dataPoint.y&&a.push(p));if(0===a.length)return;if(a.sort((function(e,t){return e.distance-t.distance})),v=0,"rangeColumn"===a[0].dataSeries.type||"rangeArea"===a[0].dataSeries.type||"error"===a[0].dataSeries.type||"rangeSplineArea"===a[0].dataSeries.type||"candlestick"===a[0].dataSeries.type||"ohlc"===a[0].dataSeries.type||"boxAndWhisker"===a[0].dataSeries.type)for(p=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y[0])),f=m=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else(m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y)))<p&&(p=m,v=f);else if("stackedColumn"===a[0].dataSeries.type||"stackedArea"===a[0].dataSeries.type)for(p=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),f=y=m=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else y+=a[f].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(y)))<p&&(p=m,v=f);else if("stackedColumn100"===a[0].dataSeries.type||"stackedArea100"===a[0].dataSeries.type)for(p=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),f=b=y=m=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else y+=a[f].dataPoint.y,b=a[f].dataPoint.x.getTime?a[f].dataPoint.x.getTime():a[f].dataPoint.x,b=y/a[f].dataSeries.plotUnit.dataPointYSums[b]*100,(m=Math.abs(t-this.parent.convertValueToPixel(b)))<p&&(p=m,v=f);else for(p=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),f=m=0;f<a.length;f++)if(a[f].dataPoint.y&&a[f].dataPoint.y.length)for(s=0;s<a[f].dataPoint.y.length;s++)(m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y[s])))<p&&(p=m,v=f);else(m=Math.abs(t-this.parent.convertValueToPixel(a[f].dataPoint.y)))<p&&(p=m,v=f);if(s=a[v],n=0,"rangeColumn"===this.parent.dataSeries[v].type||"rangeArea"===this.parent.dataSeries[v].type||"error"===this.parent.dataSeries[v].type||"rangeSplineArea"===this.parent.dataSeries[v].type||"candlestick"===this.parent.dataSeries[v].type||"ohlc"===this.parent.dataSeries[v].type||"boxAndWhisker"===this.parent.dataSeries[v].type){for(p=Math.abs(t-this.parent.convertValueToPixel(s.dataPoint.y[0])),f=m=0;f<s.dataPoint.y.length;f++)(m=Math.abs(t-this.parent.convertValueToPixel(s.dataPoint.y[f])))<p&&(p=m,n=f);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataPoint.y[n])<<0):this.parent.convertValueToPixel(s.dataPoint.y[n])<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.y[n]}):d(this.options.label)?re(s.dataPoint.y[n],this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn"===this.parent.dataSeries[v].type||"stackedArea"===this.parent.dataSeries[v].type){for(p=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=m=0,f=v;0<=f;f--)y+=a[f].dataPoint.y,(m=Math.abs(t-this.parent.convertValueToPixel(y)))<p&&(p=m,n=f);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(y)<<0):this.parent.convertValueToPixel(y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.y}):d(this.options.label)?re(s.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label}else if("stackedColumn100"===this.parent.dataSeries[v].type||"stackedArea100"===this.parent.dataSeries[v].type){for(p=Math.abs(t-this.parent.convertValueToPixel(a[0].dataPoint.y)),y=m=0,f=v;0<=f;f--)y+=a[f].dataPoint.y,b=a[f].dataPoint.x.getTime?a[f].dataPoint.x.getTime():a[f].dataPoint.x,b=y/a[f].dataSeries.plotUnit.dataPointYSums[b]*100,(m=Math.abs(t-this.parent.convertValueToPixel(b)))<p&&(p=m,n=f);a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(b)<<0):this.parent.convertValueToPixel(b)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:b}):d(this.options.label)?re(b,this.valueFormatString,this.chart._cultureInfo):this.label}else"waterfall"===this.parent.dataSeries[v].type?(a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataSeries.dataPointEOs[s.index].cumulativeSum)<<0):this.parent.convertValueToPixel(s.dataSeries.dataPointEOs[s.index].cumulativeSum)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataSeries.dataPointEOs[s.index].cumulativeSum}):d(this.options.label)?re(s.dataSeries.dataPointEOs[s.index].cumulativeSum,this.valueFormatString,this.chart._cultureInfo):this.label):(a=1==c.lineWidth%2?.5+(this.parent.convertValueToPixel(s.dataPoint.y)<<0):this.parent.convertValueToPixel(s.dataPoint.y)<<0,o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:s.dataPoint.y}):d(this.options.label)?re(s.dataPoint.y,this.valueFormatString,this.chart._cultureInfo):this.label);l=r=a,this.bounds={x1:n=this.chart.plotArea.x1,y1:l-u/2,x2:i=this.chart.plotArea.x2,y2:r+u/2},o.y=r+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x2-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2)}a=null,("bottom"===this.parent._position||"top"===this.parent._position)&&n>=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&i<=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&(0<u&&(c.moveTo(n,l),c.lineTo(i,r),c.stroke()),c.restore(),!d(o.text)&&("number"==typeof o.text.valueOf()||0<o.text.length)&&o.render(!0)),("left"===this.parent._position||"right"===this.parent._position)&&r>=this.parent.convertValueToPixel(this.parent.viewportMaximum)&&l<=this.parent.convertValueToPixel(this.parent.viewportMinimum)&&(0<u&&(c.moveTo(n,l),c.lineTo(i,r),c.stroke()),c.restore(),!d(o.text)&&("number"==typeof o.text.valueOf()||0<o.text.length)&&o.render(!0))}else{if("bottom"===this.parent._position||"top"===this.parent._position?(n=i=a=1==c.lineWidth%2?.5+(e<<0):e<<0,this.bounds={x1:n-u/2,y1:l=this.chart.plotArea.y1,x2:i+u/2,y2:r=this.chart.plotArea.y2}):"left"!==this.parent._position&&"right"!==this.parent._position||(l=r=a=1==c.lineWidth%2?.5+(t<<0):t<<0,this.bounds={x1:n=this.chart.plotArea.x1,y1:l-u/2,x2:i=this.chart.plotArea.x2,y2:r+u/2}),"xySwapped"===this.chart.plotInfo.axisPlacement)if("left"===this.parent._position||"right"===this.parent._position){if(b=!1,this.parent.labels)for(a=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=a){if(!this.parent.labels[f]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(f=this.parent.convertPixelToValue({y:t}),p=null,v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?p.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?le(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?re(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label);o.y=t+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x1-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2)}else"bottom"!==this.parent._position&&"top"!==this.parent._position||(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?re(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label,o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2&&(o.x=this.chart.bounds.x2-o.width),o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),"bottom"===this.parent._position&&(o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2),"top"===this.parent._position&&(o.y=this.parent.lineCoordinates.y1-o.height+o.fontSize/2+2));else if("bottom"===this.parent._position||"top"===this.parent._position){if(b=!1,s="",this.parent.labels)for(a=Math.ceil(this.parent.interval),f=0;f<this.parent.viewportMaximum;f+=a){if(!this.parent.labels[f]){b=!1;break}b=!0}if(b){if("axisX"===this.parent.type)for(f=this.parent.convertPixelToValue({x:e}),p=null,v=0;v<this.parent.dataSeries.length;v++)(p=this.parent.dataSeries[v].getDataPointAtX(f,!0))&&0<=p.index&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?p.dataPoint.label:this.label)}else"dateTime"===this.parent.valueType?o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(e)}):d(this.options.label)?le(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label:"number"===this.parent.valueType&&(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:0<this.parent.dataSeries.length?this.parent.convertPixelToValue(e):""}):d(this.options.label)?re(this.parent.convertPixelToValue(e),this.valueFormatString,this.chart._cultureInfo):this.label);o.x=n-o.measureText().width/2,o.x+o.width>this.chart.bounds.x2&&(o.x=this.chart.bounds.x2-o.width),o.x<this.chart.bounds.x1&&(o.x=this.chart.bounds.x1),"bottom"===this.parent._position?o.y=this.parent.lineCoordinates.y2+o.fontSize/2+2:"top"===this.parent._position&&(o.y=this.parent.lineCoordinates.y1-o.height+o.fontSize/2+2)}else"left"!==this.parent._position&&"right"!==this.parent._position||(o.text=this.labelFormatter?this.labelFormatter({chart:this.chart,axis:this.parent.options,crosshair:this.options,value:this.parent.convertPixelToValue(t)}):d(this.options.label)?re(this.parent.convertPixelToValue(t),this.valueFormatString,this.chart._cultureInfo):this.label,o.y=t+o.fontSize/2-o.measureText().height/2+2,o.y-o.fontSize/2<this.chart.bounds.y1?o.y=this.chart.bounds.y1+o.fontSize/2+2:o.y+o.measureText().height-o.fontSize/2>this.chart.bounds.y2&&(o.y=this.chart.bounds.y2-o.measureText().height+o.fontSize/2),"left"===this.parent._position?o.x=this.parent.lineCoordinates.x2-o.measureText().width:"right"===this.parent._position&&(o.x=this.parent.lineCoordinates.x2));0<u&&(c.moveTo(n,l),c.lineTo(i,r),c.stroke()),c.restore(),!d(o.text)&&("number"==typeof o.text.valueOf()||0<o.text.length)&&o.render(!0)}c.globalAlpha=h},n(Y,P),Y.prototype._initialize=function(){var e;this.enabled&&(this.container=document.createElement("div"),this.container.setAttribute("class","canvasjs-chart-tooltip"),this.container.style.position="absolute",this.container.style.height="auto",this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)",this.container.style.zIndex="1000",this.container.style.pointerEvents="none",this.container.style.display="none",e='<div style=" width: auto;height: auto;min-width: 50px;',e+="line-height: auto;",e+="margin: 0px 0px 0px 0px;",e+="padding: 5px;",e+="font-family: Calibri, Arial, Georgia, serif;",e+="font-weight: normal;",e+="font-style: "+(H?"italic;":"normal;"),e+="font-size: 14px;",e+="color: #000000;",e+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);",e+="text-align: left;",e+="border: 2px solid gray;",e+=H?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);",e+="text-indent: 0px;",e+="white-space: nowrap;",e+="border-radius: 5px;",e+="-moz-user-select:none;",e+="-khtml-user-select: none;",e+="-webkit-user-select: none;",e+="-ms-user-select: none;",e+="user-select: none;",H||(e+="filter: alpha(opacity = 90);",e+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"),this.container.innerHTML=e+='} "> Sample Tooltip</div>',this.contentDiv=this.container.firstChild,this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.chart._canvasJSContainer.appendChild(this.container))},Y.prototype.mouseMoveHandler=function(e,t){this._lastUpdated&&4>(new Date).getTime()-this._lastUpdated||(this._lastUpdated=(new Date).getTime(),this.chart.resetOverlayedCanvas(),this._updateToolTip(e,t))},Y.prototype._updateToolTip=function(e,n,i){if(i=void 0===i||i,this.container||this._initialize(),this.enabled||this.hide(),!this.chart.disableToolTip){if(void 0===e||void 0===n){if(isNaN(this._prevX)||isNaN(this._prevY))return;e=this._prevX,n=this._prevY}else this._prevX=e,this._prevY=n;var l=null,r=null,a=[],o=0;if(this.shared&&this.enabled&&"none"!==this.chart.plotInfo.axisPlacement){if("xySwapped"===this.chart.plotInfo.axisPlacement){var s=[];if(this.chart.axisX)for(var u=0;u<this.chart.axisX.length;u++){o=this.chart.axisX[u].convertPixelToValue({y:n});var c=null;for(l=0;l<this.chart.axisX[u].dataSeries.length;l++)(c=this.chart.axisX[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[l],null!==c.dataPoint.y&&s.push(c));c=null}if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++){for(o=this.chart.axisX2[u].convertPixelToValue({y:n}),c=null,l=0;l<this.chart.axisX2[u].dataSeries.length;l++)(c=this.chart.axisX2[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[l],null!==c.dataPoint.y&&s.push(c));c=null}}else{if(s=[],this.chart.axisX)for(u=0;u<this.chart.axisX.length;u++)for(o=this.chart.axisX[u].convertPixelToValue({x:e}),c=null,l=0;l<this.chart.axisX[u].dataSeries.length;l++)(c=this.chart.axisX[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX[u].dataSeries[l],null!==c.dataPoint.y&&s.push(c));if(this.chart.axisX2)for(u=0;u<this.chart.axisX2.length;u++)for(o=this.chart.axisX2[u].convertPixelToValue({x:e}),c=null,l=0;l<this.chart.axisX2[u].dataSeries.length;l++)(c=this.chart.axisX2[u].dataSeries[l].getDataPointAtX(o,i))&&0<=c.index&&(c.dataSeries=this.chart.axisX2[u].dataSeries[l],null!==c.dataPoint.y&&s.push(c))}if(0===s.length)return;for(s.sort((function(e,t){return e.distance-t.distance})),i=s[0],l=0;l<s.length;l++)s[l].dataPoint.x.valueOf()===i.dataPoint.x.valueOf()&&a.push(s[l]);s=null}else{if(c=this.chart.getDataPointAtXY(e,n,i))this.currentDataPointIndex=c.dataPointIndex,this.currentSeriesIndex=c.dataSeries.index;else if(H)if(0<(c=y(e,n,this.chart._eventManager.ghostCtx))&&void 0!==this.chart._eventManager.objectMap[c]){if("legendItem"===(c=this.chart._eventManager.objectMap[c]).objectType)return;this.currentSeriesIndex=c.dataSeriesIndex,this.currentDataPointIndex=0<=c.dataPointIndex?c.dataPointIndex:-1}else this.currentDataPointIndex=-1;else this.currentDataPointIndex=-1;if(0<=this.currentSeriesIndex){if(r=this.chart.data[this.currentSeriesIndex],c={},0<=this.currentDataPointIndex)l=r.dataPoints[this.currentDataPointIndex],c.dataSeries=r,c.dataPoint=l,c.index=this.currentDataPointIndex,c.distance=Math.abs(l.x-o),"waterfall"===r.type&&(c.cumulativeSumYStartValue=r.dataPointEOs[this.currentDataPointIndex].cumulativeSumYStartValue,c.cumulativeSum=r.dataPointEOs[this.currentDataPointIndex].cumulativeSum);else{if(!this.enabled||"line"!==r.type&&"stepLine"!==r.type&&"spline"!==r.type&&"area"!==r.type&&"stepArea"!==r.type&&"splineArea"!==r.type&&"stackedArea"!==r.type&&"stackedArea100"!==r.type&&"rangeArea"!==r.type&&"rangeSplineArea"!==r.type&&"candlestick"!==r.type&&"ohlc"!==r.type&&"boxAndWhisker"!==r.type)return;o=r.axisX.convertPixelToValue({x:e}),d(c=r.getDataPointAtX(o,i))||(c.dataSeries=r,this.currentDataPointIndex=c.index,l=c.dataPoint)}if(!d(c)&&!d(c.dataPoint)&&!d(c.dataPoint.y))if(c.dataSeries.axisY)if(0<c.dataPoint.y.length){for(l=i=0;l<c.dataPoint.y.length;l++)c.dataPoint.y[l]<c.dataSeries.axisY.viewportMinimum?i--:c.dataPoint.y[l]>c.dataSeries.axisY.viewportMaximum&&i++;i<c.dataPoint.y.length&&i>-c.dataPoint.y.length&&a.push(c)}else"column"===r.type||"bar"===r.type?0>c.dataPoint.y?0>c.dataSeries.axisY.viewportMinimum&&c.dataSeries.axisY.viewportMaximum>=c.dataPoint.y&&a.push(c):c.dataSeries.axisY.viewportMinimum<=c.dataPoint.y&&0<=c.dataSeries.axisY.viewportMaximum&&a.push(c):"bubble"===r.type?c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum-(i=this.chart._eventManager.objectMap[r.dataPointIds[c.index]].size/2)&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum+i&&a.push(c):"waterfall"===r.type?(i=0,c.cumulativeSumYStartValue<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSumYStartValue>c.dataSeries.axisY.viewportMaximum&&i++,c.cumulativeSum<c.dataSeries.axisY.viewportMinimum?i--:c.cumulativeSum>c.dataSeries.axisY.viewportMaximum&&i++,2>i&&-2<i&&a.push(c)):(0<=c.dataSeries.type.indexOf("100")||"stackedColumn"===r.type||"stackedBar"===r.type||c.dataPoint.y>=c.dataSeries.axisY.viewportMinimum&&c.dataPoint.y<=c.dataSeries.axisY.viewportMaximum)&&a.push(c);else a.push(c)}}if(0<a.length){if(this.highlightObjects(a),this.enabled)if(i="",null!==(i=this.getToolTipInnerHTML({entries:a}))){this.contentDiv.innerHTML=i,i=!1,"none"===this.container.style.display&&(i=!0,this.container.style.display="block");try{this.contentDiv.style.background=this.backgroundColor?this.backgroundColor:H?"rgba(255,255,255,.9)":"rgb(255,255,255)",this.borderColor=this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor="waterfall"===a[0].dataSeries.type?this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:0<a[0].dataPoint.y?a[0].dataSeries.risingColor:a[0].dataSeries.fallingColor:"error"===a[0].dataSeries.type?this.options.borderColor?this.options.borderColor:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[r.index%a[0].dataSeries._colorSet.length]:this.options.borderColor?this.options.borderColor:a[0].dataPoint.color?a[0].dataPoint.color:a[0].dataSeries.color?a[0].dataSeries.color:a[0].dataSeries._colorSet[a[0].index%a[0].dataSeries._colorSet.length],this.contentDiv.style.borderWidth=this.borderThickness||0===this.borderThickness?this.borderThickness+"px":"2px",this.contentDiv.style.borderRadius=this.cornerRadius||0===this.cornerRadius?this.cornerRadius+"px":"5px",this.container.style.borderRadius=this.contentDiv.style.borderRadius,this.contentDiv.style.fontSize=this.fontSize||0===this.fontSize?this.fontSize+"px":"14px",this.contentDiv.style.color=this.fontColor?this.fontColor:"#000000",this.contentDiv.style.fontFamily=this.fontFamily?this.fontFamily:"Calibri, Arial, Georgia, serif;",this.contentDiv.style.fontWeight=this.fontWeight?this.fontWeight:"normal",this.contentDiv.style.fontStyle=this.fontStyle?this.fontStyle:H?"italic":"normal"}catch(t){}"pie"===a[0].dataSeries.type||"doughnut"===a[0].dataSeries.type||"funnel"===a[0].dataSeries.type||"pyramid"===a[0].dataSeries.type||"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?e=e-10-this.container.clientWidth:(e=a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x)-this.container.clientWidth<<0,e-=10),0>e&&(e+=this.container.clientWidth+20),e+this.container.clientWidth>Math.max(this.chart.container.clientWidth,this.chart.width)&&(e=Math.max(0,Math.max(this.chart.container.clientWidth,this.chart.width)-this.container.clientWidth)),0<(n=10-(n=1!==a.length||this.shared||"line"!==a[0].dataSeries.type&&"stepLine"!==a[0].dataSeries.type&&"spline"!==a[0].dataSeries.type&&"area"!==a[0].dataSeries.type&&"stepArea"!==a[0].dataSeries.type&&"splineArea"!==a[0].dataSeries.type?"bar"===a[0].dataSeries.type||"rangeBar"===a[0].dataSeries.type||"stackedBar"===a[0].dataSeries.type||"stackedBar100"===a[0].dataSeries.type?a[0].dataSeries.axisX.convertValueToPixel(a[0].dataPoint.x):n:a[0].dataSeries.axisY.convertValueToPixel(a[0].dataPoint.y)))+this.container.clientHeight+5&&(n-=n+this.container.clientHeight+5-0),this.fixMozTransitionDelay(e,n),!this.animationEnabled||i?this.disableAnimation():(this.enableAnimation(),this.container.style.MozTransition=this.mozContainerTransition),this.container.style.left=e+"px",this.container.style.bottom=n+"px"}else this.hide(!1)}else this.hide()}},Y.prototype.highlightObjects=function(e){var t=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas(),t.clearRect(0,0,this.chart.width,this.chart.height),t.save();var n=this.chart.plotArea,i=0;for(t.beginPath(),t.rect(n.x1,n.y1,n.x2-n.x1,n.y2-n.y1),t.clip(),n=0;n<e.length;n++){var l=e[n];if((l=this.chart._eventManager.objectMap[l.dataSeries.dataPointIds[l.index]])&&l.objectType&&"dataPoint"===l.objectType){var a=(i=this.chart.data[l.dataSeriesIndex]).dataPoints[l.dataPointIndex],o=l.dataPointIndex;!1===a.highlightEnabled||!0!==i.highlightEnabled&&!0!==a.highlightEnabled||("line"===i.type||"stepLine"===i.type||"spline"===i.type||"scatter"===i.type||"area"===i.type||"stepArea"===i.type||"splineArea"===i.type||"stackedArea"===i.type||"stackedArea100"===i.type||"rangeArea"===i.type||"rangeSplineArea"===i.type?((a=i.getMarkerProperties(o,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),ee.drawMarkers([a]),void 0!==l.y2&&((a=i.getMarkerProperties(o,l.x1,l.y2,this.chart.overlaidCanvasCtx)).size=Math.max(1.5*a.size<<0,10),a.borderColor=a.borderColor||"#FFFFFF",a.borderThickness=a.borderThickness||Math.ceil(.1*a.size),ee.drawMarkers([a]))):"bubble"===i.type?((a=i.getMarkerProperties(o,l.x1,l.y1,this.chart.overlaidCanvasCtx)).size=l.size,a.color="white",a.borderColor="white",t.globalAlpha=.3,ee.drawMarkers([a]),t.globalAlpha=1):"column"===i.type||"stackedColumn"===i.type||"stackedColumn100"===i.type||"bar"===i.type||"rangeBar"===i.type||"stackedBar"===i.type||"stackedBar100"===i.type||"rangeColumn"===i.type||"waterfall"===i.type?he(t,l.x1,l.y1,l.x2,l.y2,"white",0,null,!1,!1,!1,!1,.3):"pie"===i.type||"doughnut"===i.type?K(t,l.center,l.radius,"white",i.type,l.startAngle,l.endAngle,.3,l.percentInnerRadius):"funnel"===i.type||"pyramid"===i.type?$(t,l.funnelSection,.3,"white"):"candlestick"===i.type?(t.globalAlpha=1,t.strokeStyle=l.color,t.lineWidth=2*l.borderThickness,i=0==t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(l.x3-i,Math.min(l.y2,l.y3)),t.lineTo(l.x3-i,Math.min(l.y1,l.y4)),t.stroke(),t.beginPath(),t.moveTo(l.x3-i,Math.max(l.y1,l.y4)),t.lineTo(l.x3-i,Math.max(l.y2,l.y3)),t.stroke(),he(t,l.x1,Math.min(l.y1,l.y4),l.x2,Math.max(l.y1,l.y4),"transparent",2*l.borderThickness,l.color,!1,!1,!1,!1),t.globalAlpha=1):"ohlc"===i.type?(t.globalAlpha=1,t.strokeStyle=l.color,t.lineWidth=2*l.borderThickness,i=0==t.lineWidth%2?0:.5,t.beginPath(),t.moveTo(l.x3-i,l.y2),t.lineTo(l.x3-i,l.y3),t.stroke(),t.beginPath(),t.moveTo(l.x3,l.y1),t.lineTo(l.x1,l.y1),t.stroke(),t.beginPath(),t.moveTo(l.x3,l.y4),t.lineTo(l.x2,l.y4),t.stroke(),t.globalAlpha=1):"boxAndWhisker"===i.type?(t.save(),t.globalAlpha=1,t.strokeStyle=l.stemColor,t.lineWidth=2*l.stemThickness,0<l.stemThickness&&(t.beginPath(),t.moveTo(l.x3,l.y2+l.borderThickness/2),t.lineTo(l.x3,l.y1+l.whiskerThickness/2),t.stroke(),t.beginPath(),t.moveTo(l.x3,l.y4-l.whiskerThickness/2),t.lineTo(l.x3,l.y3-l.borderThickness/2),t.stroke()),t.beginPath(),he(t,l.x1-l.borderThickness/2,Math.max(l.y2+l.borderThickness/2,l.y3+l.borderThickness/2),l.x2+l.borderThickness/2,Math.min(l.y2-l.borderThickness/2,l.y3-l.borderThickness/2),"transparent",l.borderThickness,l.color,!1,!1,!1,!1),t.globalAlpha=1,t.strokeStyle=l.whiskerColor,t.lineWidth=2*l.whiskerThickness,0<l.whiskerThickness&&(t.beginPath(),t.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y4),t.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y4),t.stroke(),t.beginPath(),t.moveTo(Math.floor(l.x3-l.whiskerLength/2),l.y1),t.lineTo(Math.ceil(l.x3+l.whiskerLength/2),l.y1),t.stroke()),t.globalAlpha=1,t.strokeStyle=l.lineColor,t.lineWidth=2*l.lineThickness,0<l.lineThickness&&(t.beginPath(),t.moveTo(l.x1,l.y5),t.lineTo(l.x2,l.y5),t.stroke()),t.restore(),t.globalAlpha=1):"error"===i.type&&r(t,l.x1,l.y1,l.x2,l.y2,"white",l.whiskerProperties,l.stemProperties,l.isXYSwapped,.3))}}t.restore(),t.globalAlpha=1,t.beginPath()},Y.prototype.getToolTipInnerHTML=function(e){e=e.entries;for(var t=null,n=null,i=null,l=0,r="",a=!0,o=0;o<e.length;o++)if(e[o].dataSeries.toolTipContent||e[o].dataPoint.toolTipContent){a=!1;break}if(a&&(this.content&&"function"==typeof this.content||this.contentFormatter))e={chart:this.chart,toolTip:this.options,entries:e},t=this.contentFormatter?this.contentFormatter(e):this.content(e);else if(this.shared&&"none"!==this.chart.plotInfo.axisPlacement){var s=null,u="";for(o=0;o<e.length;o++)n=e[o].dataSeries,i=e[o].dataPoint,l=e[o].index,r="",0===o&&a&&!this.content&&(this.chart.axisX&&0<this.chart.axisX.length?u+=void 0!==this.chart.axisX[0].labels[i.x]?this.chart.axisX[0].labels[i.x]:"{x}":this.chart.axisX2&&0<this.chart.axisX2.length&&(u+=void 0!==this.chart.axisX2[0].labels[i.x]?this.chart.axisX2[0].labels[i.x]:"{x}"),u=this.chart.replaceKeywordsWithValue(u+="</br>",i,n,l)),null===i.toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent||("line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=s!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}",s=n.axisXIndex):"bubble"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=s!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"):"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=s!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span>&nbsp;&nbsp;{y[0]},&nbsp;{y[1]}"):"candlestick"===n.type||"ohlc"===n.type?(this.chart.axisX&&1<this.chart.axisX.length&&(r+=s!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low:&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}"):"boxAndWhisker"===n.type&&(this.chart.axisX&&1<this.chart.axisX.length&&(r+=s!=n.axisXIndex?n.axisX.title?n.axisX.title+"<br/>":"X:{axisXIndex}<br/>":""),r+=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>{name}:</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),!0===this.reversed?(t=this.chart.replaceKeywordsWithValue(r,i,n,l)+t,o<e.length-1&&(t="</br>"+t)):(t+=this.chart.replaceKeywordsWithValue(r,i,n,l),o<e.length-1&&(t+="</br>")));null!==t&&(t=u+t)}else{if(n=e[0].dataSeries,null===(i=e[0].dataPoint).toolTipContent||void 0===i.toolTipContent&&null===n.options.toolTipContent)return null;"line"===n.type||"stepLine"===n.type||"spline"===n.type||"area"===n.type||"stepArea"===n.type||"splineArea"===n.type||"column"===n.type||"bar"===n.type||"scatter"===n.type||"stackedColumn"===n.type||"stackedColumn100"===n.type||"stackedBar"===n.type||"stackedBar100"===n.type||"stackedArea"===n.type||"stackedArea100"===n.type||"waterfall"===n.type?r=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}":"bubble"===n.type?r=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}":"pie"===n.type||"doughnut"===n.type||"funnel"===n.type||"pyramid"===n.type?r=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.name?"{name}:</span>&nbsp;&nbsp;":i.label?"{label}:</span>&nbsp;&nbsp;":"</span>")+"{y}":"rangeColumn"===n.type||"rangeBar"===n.type||"rangeArea"===n.type||"rangeSplineArea"===n.type||"error"===n.type?r=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y[0]}, &nbsp;{y[1]}":"candlestick"===n.type||"ohlc"===n.type?r=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Open: &nbsp;&nbsp;{y[0]}<br/>High: &nbsp;&nbsp;&nbsp;{y[1]}<br/>Low: &nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Close: &nbsp;&nbsp;{y[3]}":"boxAndWhisker"===n.type&&(r=i.toolTipContent?i.toolTipContent:n.toolTipContent?n.toolTipContent:this.content&&"function"!=typeof this.content?this.content:"<span style='\""+(this.options.fontColor?"":"'color:{color};'")+"\"'>"+(i.label?"{label}":"{x}")+"</span><br/>Minimum: &nbsp;&nbsp;{y[0]}<br/>Q1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[1]}<br/>Q2: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[4]}<br/>Q3: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{y[2]}<br/>Maximum: &nbsp;{y[3]}"),null===t&&(t=""),t+=this.chart.replaceKeywordsWithValue(r,i,n,l=e[0].index)}return t},Y.prototype.enableAnimation=function(){if(!this.container.style.WebkitTransition){var e=this.getContainerTransition(this.containerTransitionDuration);this.container.style.WebkitTransition=e,this.container.style.MsTransition=e,this.container.style.transition=e,this.container.style.MozTransition=this.mozContainerTransition}},Y.prototype.disableAnimation=function(){this.container.style.WebkitTransition&&(this.container.style.WebkitTransition="",this.container.style.MozTransition="",this.container.style.MsTransition="",this.container.style.transition="")},Y.prototype.hide=function(e){this.container&&(this.container.style.display="none",this.currentSeriesIndex=-1,this._prevY=this._prevX=NaN,(void 0===e||e)&&this.chart.resetOverlayedCanvas())},Y.prototype.show=function(e,t,n){this._updateToolTip(e,t,void 0!==n&&n)},Y.prototype.fixMozTransitionDelay=function(e,t){if(20<this.chart._eventManager.lastObjectId)this.mozContainerTransition=this.getContainerTransition(0);else{var n=parseFloat(this.container.style.left),i=(n=isNaN(n)?0:n,parseFloat(this.container.style.bottom));i=isNaN(i)?0:i,this.mozContainerTransition=10<Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))?this.getContainerTransition(.1):this.getContainerTransition(0)}},Y.prototype.getContainerTransition=function(e){return"left "+e+"s ease-out 0s, bottom "+e+"s ease-out 0s"},q.prototype.reset=function(){this.lastObjectId=0,this.objectMap=[],this.rectangularRegionEventSubscriptions=[],this.previousDataPointEventObject=null,this.eventObjects=[],H&&(this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height),this.ghostCtx.beginPath())},q.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId},q.prototype.mouseEventHandler=function(e){if("mousemove"===e.type||"click"===e.type){var t=[],n=ae(e),i=null;if((i=this.chart.getObjectAtXY(n.x,n.y,!1))&&void 0!==this.objectMap[i])if("dataPoint"===(i=this.objectMap[i]).objectType){var l=this.chart.data[i.dataSeriesIndex],r=l.dataPoints[i.dataPointIndex],a=i.dataPointIndex;i.eventParameter={x:n.x,y:n.y,dataPoint:r,dataSeries:l.options,dataPointIndex:a,dataSeriesIndex:l.index,chart:this.chart},i.eventContext={context:r,userContext:r,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(i),(i=this.objectMap[l.id]).eventParameter={x:n.x,y:n.y,dataPoint:r,dataSeries:l.options,dataPointIndex:a,dataSeriesIndex:l.index,chart:this.chart},i.eventContext={context:l,userContext:l.options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"},t.push(this.objectMap[l.id])}else"legendItem"===i.objectType&&(i.eventParameter={x:n.x,y:n.y,dataSeries:(l=this.chart.data[i.dataSeriesIndex]).options,dataPoint:r=null!==i.dataPointIndex?l.dataPoints[i.dataPointIndex]:null,dataPointIndex:i.dataPointIndex,dataSeriesIndex:i.dataSeriesIndex,chart:this.chart},i.eventContext={context:this.chart.legend,userContext:this.chart.legend.options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"},t.push(i));for(l=[],n=0;n<this.mouseoveredObjectMaps.length;n++){for(r=!0,i=0;i<t.length;i++)if(t[i].id===this.mouseoveredObjectMaps[n].id){r=!1;break}r?this.fireEvent(this.mouseoveredObjectMaps[n],"mouseout",e):l.push(this.mouseoveredObjectMaps[n])}for(this.mouseoveredObjectMaps=l,n=0;n<t.length;n++){for(l=!1,i=0;i<this.mouseoveredObjectMaps.length;i++)if(t[n].id===this.mouseoveredObjectMaps[i].id){l=!0;break}l||(this.fireEvent(t[n],"mouseover",e),this.mouseoveredObjectMaps.push(t[n])),"click"===e.type?this.fireEvent(t[n],"click",e):"mousemove"===e.type&&this.fireEvent(t[n],"mousemove",e)}}},q.prototype.fireEvent=function(e,t,n){if(e&&t){var i=e.eventParameter,l=e.eventContext,r=e.eventContext.userContext;r&&l&&r[l[t]]&&r[l[t]].call(r,i),"mouseout"!==t?r.cursor&&r.cursor!==n.target.style.cursor&&(n.target.style.cursor=r.cursor):(n.target.style.cursor=this.chart._defaultCursor,delete e.eventParameter,delete e.eventContext),"click"===t&&"dataPoint"===e.objectType&&this.chart.pieDoughnutClickHandler&&this.chart.pieDoughnutClickHandler.call(this.chart.data[e.dataSeriesIndex],i),"click"===t&&"dataPoint"===e.objectType&&this.chart.funnelPyramidClickHandler&&this.chart.funnelPyramidClickHandler.call(this.chart.data[e.dataSeriesIndex],i)}},X.prototype.animate=function(e,t,n,i,l){var r=this;for(this.chart.isAnimating=!0,l=l||Z.easing.linear,n&&this.animations.push({startTime:(new Date).getTime()+(e||0),duration:t,animationCallback:n,onComplete:i}),e=[];0<this.animations.length;)t=this.animations.shift(),n=(new Date).getTime(),i=0,t.startTime<=n&&(i=l(Math.min(n-t.startTime,t.duration),0,1,t.duration),i=Math.min(i,1),isNaN(i)||!isFinite(i))&&(i=1),1>i&&e.push(t),t.animationCallback(i),1<=i&&t.onComplete&&t.onComplete();this.animations=e,0<this.animations.length?this.animationRequestId=this.chart.requestAnimFrame.call(window,(function(){r.animate.call(r)})):this.chart.isAnimating=!1},X.prototype.cancelAllAnimations=function(){this.animations=[],this.animationRequestId&&this.chart.cancelRequestAnimFrame.call(window,this.animationRequestId),this.animationRequestId=null,this.chart.isAnimating=!1};var Z={yScaleAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas,l=t.animationBase;n.drawImage(i,0,0,i.width,i.height,0,l-l*e,n.canvas.width/ce,e*n.canvas.height/ce)}},xScaleAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas,l=t.animationBase;n.drawImage(i,0,0,i.width,i.height,l-l*e,0,e*n.canvas.width/ce,n.canvas.height/ce)}},xClipAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas;n.save(),0<e&&n.drawImage(i,0,0,i.width*e,i.height,0,0,i.width*e/ce,i.height/ce),n.restore()}},fadeInAnimation:function(e,t){if(0!==e){var n=t.dest,i=t.source.canvas;n.save(),n.globalAlpha=e,n.drawImage(i,0,0,i.width,i.height,0,0,n.canvas.width/ce,n.canvas.height/ce),n.restore()}},easing:{linear:function(e,t,n,i){return n*e/i+t},easeOutQuad:function(e,t,n,i){return-n*(e/=i)*(e-2)+t},easeOutQuart:function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},easeInQuad:function(e,t,n,i){return n*(e/=i)*e+t},easeInQuart:function(e,t,n,i){return n*(e/=i)*e*e*e+t}}},ee={drawMarker:function(e,t,n,i,l,r,a,o){if(n){var s=1;n.fillStyle=r||"#000000",n.strokeStyle=a||"#000000",n.lineWidth=o||0,n.setLineDash&&n.setLineDash(g("solid",o)),"circle"===i?(n.moveTo(e,t),n.beginPath(),n.arc(e,t,l/2,0,2*Math.PI,!1),r&&n.fill(),o&&(a?n.stroke():(s=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=s))):"square"===i?(n.beginPath(),n.rect(e-l/2,t-l/2,l,l),r&&n.fill(),o&&(a?n.stroke():(s=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=s))):"triangle"===i?(n.beginPath(),n.moveTo(e-l/2,t+l/2),n.lineTo(e+l/2,t+l/2),n.lineTo(e,t-l/2),n.closePath(),r&&n.fill(),o&&(a?n.stroke():(s=n.globalAlpha,n.globalAlpha=.15,n.strokeStyle="black",n.stroke(),n.globalAlpha=s)),n.beginPath()):"cross"===i&&(n.strokeStyle=r,n.lineWidth=l/4,n.beginPath(),n.moveTo(e-l/2,t-l/2),n.lineTo(e+l/2,t+l/2),n.stroke(),n.moveTo(e+l/2,t-l/2),n.lineTo(e-l/2,t+l/2),n.stroke())}},drawMarkers:function(e){for(var t=0;t<e.length;t++){var n=e[t];ee.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};return t}(),ge.Chart.version="v2.3.2 GA"}(),document.createElement("canvas").getContext||function(){function e(){return this.context_||(this.context_=new h(this))}function t(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function n(e){e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),e.styleSheets.ex_canvas_||((e=e.createStyleSheet()).owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}")}function i(e){var t=e.srcElement;switch(e.propertyName){case"width":t.getContext().clearRect(),t.style.width=t.attributes.width.nodeValue+"px",t.firstChild.style.width=t.clientWidth+"px";break;case"height":t.getContext().clearRect(),t.style.height=t.attributes.height.nodeValue+"px",t.firstChild.style.height=t.clientHeight+"px"}}function l(e){(e=e.srcElement).firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function r(e,t){for(var n=[[1,0,0],[0,1,0],[0,0,1]],i=0;3>i;i++)for(var l=0;3>l;l++){for(var r=0,a=0;3>a;a++)r+=e[i][a]*t[a][l];n[i][l]=r}return n}function a(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.font=e.font,t.textAlign=e.textAlign,t.textBaseline=e.textBaseline,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function o(e){var t=e.indexOf("(",3),n=e.indexOf(")",t+1);return 4==(t=e.substring(t+1,n).split(",")).length&&"a"==e.charAt(3)||(t[3]=1),t}function s(e,t,n){return Math.min(n,Math.max(t,e))}function u(e,t,n){return 0>n&&n++,1<n&&n--,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}function c(e){if(e in F)return F[e];var t,n=1;if("#"==(e=String(e)).charAt(0))t=e;else if(/^rgb/.test(e)){n=o(e),t="#";for(var i,l=0;3>l;l++)i=-1!=n[l].indexOf("%")?Math.floor(parseFloat(n[l])/100*255):+n[l],t+=I[s(i,0,255)];n=+n[3]}else if(/^hsl/.test(e)){if(l=n=o(e),0>(t=parseFloat(l[0])/360%360)&&t++,i=s(parseFloat(l[1])/100,0,1),l=s(parseFloat(l[2])/100,0,1),0==i)i=l=t=l;else{var r=.5>l?l*(1+i):l+i-l*i,a=2*l-r;i=u(a,r,t+1/3),l=u(a,r,t),t=u(a,r,t-1/3)}t="#"+I[Math.floor(255*i)]+I[Math.floor(255*l)]+I[Math.floor(255*t)],n=n[3]}else t=O[e]||e;return F[e]={color:t,alpha:n}}function h(e){this.m_=[[1,0,0],[0,1,0],[0,0,1]],this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.fillStyle=this.strokeStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=1*T,this.globalAlpha=1,this.font="10px sans-serif",this.textAlign="left",this.textBaseline="alphabetic",this.canvas=e;var t="width:"+e.clientWidth+"px;height:"+e.clientHeight+"px;overflow:hidden;position:absolute",n=e.ownerDocument.createElement("div");n.style.cssText=t,e.appendChild(n),(t=n.cloneNode(!1)).style.backgroundColor="red",t.style.filter="alpha(opacity=0)",e.appendChild(t),this.element_=n,this.lineScale_=this.arcScaleY_=this.arcScaleX_=1}function d(e,t,n,i){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:i.x,y:i.y}),e.currentX_=i.x,e.currentY_=i.y}function f(e,t){var n=(i=c(e.strokeStyle)).color,i=i.alpha*e.globalAlpha,l=e.lineScale_*e.lineWidth;1>l&&(i*=l),t.push("<g_vml_:stroke",' opacity="',i,'"',' joinstyle="',e.lineJoin,'"',' miterlimit="',e.miterLimit,'"',' endcap="',N[e.lineCap]||"square",'"',' weight="',l,'px"',' color="',n,'" />')}function p(e,t,n,i){var l=e.fillStyle,r=e.arcScaleX_,a=e.arcScaleY_,o=i.x-n.x,s=i.y-n.y;if(l instanceof m){var u=0,h=i=0,d=0,f=1;if("gradient"==l.type_){u=l.x1_/r,n=l.y1_/a;var p=v(e,l.x0_/r,l.y0_/a);u=v(e,u,n),0>(u=180*Math.atan2(u.x-p.x,u.y-p.y)/Math.PI)&&(u+=360),1e-6>u&&(u=0)}else i=((p=v(e,l.x0_,l.y0_)).x-n.x)/o,h=(p.y-n.y)/s,f=k.max(o/=r*T,s/=a*T),f=2*l.r1_/f-(d=2*l.r0_/f);(r=l.colors_).sort((function(e,t){return e.offset-t.offset})),p=r[0].color,n=r[(a=r.length)-1].color,o=r[0].alpha*e.globalAlpha,e=r[a-1].alpha*e.globalAlpha,s=[];for(var g=0;g<a;g++){var b=r[g];s.push(b.offset*f+d+" "+b.color)}t.push('<g_vml_:fill type="',l.type_,'"',' method="none" focus="100%"',' color="',p,'"',' color2="',n,'"',' colors="',s.join(","),'"',' opacity="',e,'"',' g_o_:opacity2="',o,'"',' angle="',u,'"',' focusposition="',i,",",h,'" />')}else l instanceof y?o&&s&&t.push("<g_vml_:fill",' position="',-n.x/o*r*r,",",-n.y/s*a*a,'"',' type="tile"',' src="',l.src_,'" />'):(l=c(e.fillStyle),t.push('<g_vml_:fill color="',l.color,'" opacity="',l.alpha*e.globalAlpha,'" />'))}function v(e,t,n){return{x:T*(t*(e=e.m_)[0][0]+n*e[1][0]+e[2][0])-P,y:T*(t*e[0][1]+n*e[1][1]+e[2][1])-P}}function g(e,t,n){isFinite(t[0][0])&&isFinite(t[0][1])&&isFinite(t[1][0])&&isFinite(t[1][1])&&isFinite(t[2][0])&&isFinite(t[2][1])&&(e.m_=t,n&&(e.lineScale_=S(C(t[0][0]*t[1][1]-t[0][1]*t[1][0]))))}function m(e){this.type_=e,this.r1_=this.y1_=this.x1_=this.r0_=this.y0_=this.x0_=0,this.colors_=[]}function y(e,t){if(!e||1!=e.nodeType||"IMG"!=e.tagName)throw new b("TYPE_MISMATCH_ERR");if("complete"!=e.readyState)throw new b("INVALID_STATE_ERR");switch(t){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=t;break;default:throw new b("SYNTAX_ERR")}this.src_=e.src,this.width_=e.width,this.height_=e.height}function b(e){this.code=this[e],this.message=e+": DOM Exception "+this.code}var k=Math,_=k.round,w=k.sin,x=k.cos,C=k.abs,S=k.sqrt,T=10,P=T/2;navigator.userAgent.match(/MSIE ([\d.]+)?/);var M=Array.prototype.slice;n(document);var A={init:function(e){(e=e||document).createElement("canvas"),e.attachEvent("onreadystatechange",function(e,t,n){var i=M.call(arguments,2);return function(){return e.apply(t,i.concat(M.call(arguments)))}}(this.init_,this,e))},init_:function(e){e=e.getElementsByTagName("canvas");for(var t=0;t<e.length;t++)this.initElement(e[t])},initElement:function(t){if(!t.getContext){t.getContext=e,n(t.ownerDocument),t.innerHTML="",t.attachEvent("onpropertychange",i),t.attachEvent("onresize",l);var r=t.attributes;r.width&&r.width.specified?t.style.width=r.width.nodeValue+"px":t.width=t.clientWidth,r.height&&r.height.specified?t.style.height=r.height.nodeValue+"px":t.height=t.clientHeight}return t}};A.init();for(var I=[],E=0;16>E;E++)for(var D=0;16>D;D++)I[16*E+D]=E.toString(16)+D.toString(16);var O={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"},F={},R={},N={butt:"flat",round:"round"};(E=h.prototype).clearRect=function(){this.textMeasureEl_&&(this.textMeasureEl_.removeNode(!0),this.textMeasureEl_=null),this.element_.innerHTML=""},E.beginPath=function(){this.currentPath_=[]},E.moveTo=function(e,t){var n=v(this,e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},E.lineTo=function(e,t){var n=v(this,e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},E.bezierCurveTo=function(e,t,n,i,l,r){l=v(this,l,r),d(this,e=v(this,e,t),n=v(this,n,i),l)},E.quadraticCurveTo=function(e,t,n,i){e=v(this,e,t),n=v(this,n,i),d(this,i={x:this.currentX_+2/3*(e.x-this.currentX_),y:this.currentY_+2/3*(e.y-this.currentY_)},{x:i.x+(n.x-this.currentX_)/3,y:i.y+(n.y-this.currentY_)/3},n)},E.arc=function(e,t,n,i,l,r){n*=T;var a=r?"at":"wa",o=e+x(i)*n-P,s=t+w(i)*n-P;i=e+x(l)*n-P,l=t+w(l)*n-P,o!=i||r||(o+=.125),e=v(this,e,t),o=v(this,o,s),i=v(this,i,l),this.currentPath_.push({type:a,x:e.x,y:e.y,radius:n,xStart:o.x,yStart:o.y,xEnd:i.x,yEnd:i.y})},E.rect=function(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()},E.strokeRect=function(e,t,n,i){var l=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.stroke(),this.currentPath_=l},E.fillRect=function(e,t,n,i){var l=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath(),this.fill(),this.currentPath_=l},E.createLinearGradient=function(e,t,n,i){var l=new m("gradient");return l.x0_=e,l.y0_=t,l.x1_=n,l.y1_=i,l},E.createRadialGradient=function(e,t,n,i,l,r){var a=new m("gradientradial");return a.x0_=e,a.y0_=t,a.r0_=n,a.x1_=i,a.y1_=l,a.r1_=r,a},E.drawImage=function(e,t){var n,i,l,r,a,o,s,u;l=e.runtimeStyle.width,r=e.runtimeStyle.height,e.runtimeStyle.width="auto",e.runtimeStyle.height="auto";var c=e.width,h=e.height;if(e.runtimeStyle.width=l,e.runtimeStyle.height=r,3==arguments.length)n=arguments[1],i=arguments[2],a=o=0,s=l=c,u=r=h;else if(5==arguments.length)n=arguments[1],i=arguments[2],l=arguments[3],r=arguments[4],a=o=0,s=c,u=h;else{if(9!=arguments.length)throw Error("Invalid number of arguments");a=arguments[1],o=arguments[2],s=arguments[3],u=arguments[4],n=arguments[5],i=arguments[6],l=arguments[7],r=arguments[8]}var d=v(this,n,i),f=[];if(f.push(" <g_vml_:group",' coordsize="',10*T,",",10*T,'"',' coordorigin="0,0"',' style="width:',10,"px;height:",10,"px;position:absolute;"),1!=this.m_[0][0]||this.m_[0][1]||1!=this.m_[1][1]||this.m_[1][0]){var p=[];p.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",_(d.x/T),",","Dy=",_(d.y/T),"");var g=v(this,n+l,i),m=v(this,n,i+r);n=v(this,n+l,i+r),d.x=k.max(d.x,g.x,m.x,n.x),d.y=k.max(d.y,g.y,m.y,n.y),f.push("padding:0 ",_(d.x/T),"px ",_(d.y/T),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",p.join(""),", sizingmethod='clip');")}else f.push("top:",_(d.y/T),"px;left:",_(d.x/T),"px;");f.push(' ">','<g_vml_:image src="',e.src,'"',' style="width:',T*l,"px;"," height:",T*r,'px"',' cropleft="',a/c,'"',' croptop="',o/h,'"',' cropright="',(c-a-s)/c,'"',' cropbottom="',(h-o-u)/h,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",f.join(""))},E.stroke=function(e){var t=[];t.push("<g_vml_:shape",' filled="',!!e,'"',' style="position:absolute;width:',10,"px;height:",10,'px;"',' coordorigin="0,0"',' coordsize="',10*T,",",10*T,'"',' stroked="',!e,'"',' path="');for(var n={x:null,y:null},i={x:null,y:null},l=0;l<this.currentPath_.length;l++){var r=this.currentPath_[l];switch(r.type){case"moveTo":t.push(" m ",_(r.x),",",_(r.y));break;case"lineTo":t.push(" l ",_(r.x),",",_(r.y));break;case"close":t.push(" x "),r=null;break;case"bezierCurveTo":t.push(" c ",_(r.cp1x),",",_(r.cp1y),",",_(r.cp2x),",",_(r.cp2y),",",_(r.x),",",_(r.y));break;case"at":case"wa":t.push(" ",r.type," ",_(r.x-this.arcScaleX_*r.radius),",",_(r.y-this.arcScaleY_*r.radius)," ",_(r.x+this.arcScaleX_*r.radius),",",_(r.y+this.arcScaleY_*r.radius)," ",_(r.xStart),",",_(r.yStart)," ",_(r.xEnd),",",_(r.yEnd))}r&&((null==n.x||r.x<n.x)&&(n.x=r.x),(null==i.x||r.x>i.x)&&(i.x=r.x),(null==n.y||r.y<n.y)&&(n.y=r.y),(null==i.y||r.y>i.y)&&(i.y=r.y))}t.push(' ">'),e?p(this,t,n,i):f(this,t),t.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",t.join(""))},E.fill=function(){this.stroke(!0)},E.closePath=function(){this.currentPath_.push({type:"close"})},E.save=function(){var e={};a(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=r([[1,0,0],[0,1,0],[0,0,1]],this.m_)},E.restore=function(){this.aStack_.length&&(a(this.aStack_.pop(),this),this.m_=this.mStack_.pop())},E.translate=function(e,t){g(this,r([[1,0,0],[0,1,0],[e,t,1]],this.m_),!1)},E.rotate=function(e){var t=x(e);g(this,r([[t,e=w(e),0],[-e,t,0],[0,0,1]],this.m_),!1)},E.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t,g(this,r([[e,0,0],[0,t,0],[0,0,1]],this.m_),!0)},E.transform=function(e,t,n,i,l,a){g(this,r([[e,t,0],[n,i,0],[l,a,1]],this.m_),!0)},E.setTransform=function(e,t,n,i,l,r){g(this,[[e,t,0],[n,i,0],[l,r,1]],!0)},E.drawText_=function(e,n,i,l,r){var a=this.m_;l=0;var o,s=1e3,u=0,c=[];if(R[o=this.font])o=R[o];else{var h=document.createElement("div").style;try{h.font=o}catch(m){}o=R[o]={style:h.fontStyle||"normal",variant:h.fontVariant||"normal",weight:h.fontWeight||"normal",size:h.fontSize||10,family:h.fontFamily||"sans-serif"}}h=o;var d=this.element_;for(var g in o={},h)o[g]=h[g];switch(g=parseFloat(d.currentStyle.fontSize),d=parseFloat(h.size),o.size="number"==typeof h.size?h.size:-1!=h.size.indexOf("px")?d:-1!=h.size.indexOf("em")?g*d:-1!=h.size.indexOf("%")?g/100*d:-1!=h.size.indexOf("pt")?d/.75:g,o.size*=.981,g=o.style+" "+o.variant+" "+o.weight+" "+o.size+"px "+o.family,d=this.element_.currentStyle,h=this.textAlign.toLowerCase()){case"left":case"center":case"right":break;case"end":h="ltr"==d.direction?"right":"left";break;case"start":h="rtl"==d.direction?"right":"left";break;default:h="left"}switch(this.textBaseline){case"hanging":case"top":u=o.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":u=-o.size/2.25}switch(h){case"right":l=1e3,s=.05;break;case"center":l=s=500}n=v(this,n+0,i+u),c.push('<g_vml_:line from="',-l,' 0" to="',s,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!r,'" stroked="',!!r,'" style="position:absolute;width:1px;height:1px;">'),r?f(this,c):p(this,c,{x:-l,y:0},{x:s,y:o.size}),r=a[0][0].toFixed(3)+","+a[1][0].toFixed(3)+","+a[0][1].toFixed(3)+","+a[1][1].toFixed(3)+",0,0",n=_(n.x/T)+","+_(n.y/T),c.push('<g_vml_:skew on="t" matrix="',r,'" ',' offset="',n,'" origin="',l,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',t(e),'" style="v-text-align:',h,";font:",t(g),'" /></g_vml_:line>'),this.element_.insertAdjacentHTML("beforeEnd",c.join(""))},E.fillText=function(e,t,n,i){this.drawText_(e,t,n,i,!1)},E.strokeText=function(e,t,n,i){this.drawText_(e,t,n,i,!0)},E.measureText=function(e){this.textMeasureEl_||(this.element_.insertAdjacentHTML("beforeEnd",'<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>'),this.textMeasureEl_=this.element_.lastChild);var t=this.element_.ownerDocument;return this.textMeasureEl_.innerHTML="",this.textMeasureEl_.style.font=this.font,this.textMeasureEl_.appendChild(t.createTextNode(e)),{width:this.textMeasureEl_.offsetWidth}},E.clip=function(){},E.arcTo=function(){},E.createPattern=function(e,t){return new y(e,t)},m.prototype.addColorStop=function(e,t){t=c(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},(E=b.prototype=Error()).INDEX_SIZE_ERR=1,E.DOMSTRING_SIZE_ERR=2,E.HIERARCHY_REQUEST_ERR=3,E.WRONG_DOCUMENT_ERR=4,E.INVALID_CHARACTER_ERR=5,E.NO_DATA_ALLOWED_ERR=6,E.NO_MODIFICATION_ALLOWED_ERR=7,E.NOT_FOUND_ERR=8,E.NOT_SUPPORTED_ERR=9,E.INUSE_ATTRIBUTE_ERR=10,E.INVALID_STATE_ERR=11,E.SYNTAX_ERR=12,E.INVALID_MODIFICATION_ERR=13,E.NAMESPACE_ERR=14,E.INVALID_ACCESS_ERR=15,E.VALIDATION_ERR=16,E.TYPE_MISMATCH_ERR=17,G_vmlCanvasManager=A,CanvasRenderingContext2D=h,CanvasGradient=m,CanvasPattern=y,DOMException=b}()},FpMW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.Output=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.channels={},this.keepMessages={}}return i(e,[{key:"push",value:function(e,t){this.channels[e]&&(this.channels[e].push(t),this.keepMessages[e]&&this.channels[e].length>this.keepMessages[e]&&this.channels[e].splice(0,this.channels[e].length-this.keepMessages[e]))}},{key:"get",value:function(e){return this.channels[e]?this.channels[e]:null}},{key:"clean",value:function(e){this.channels[e]&&(this.channels[e].length=0)}},{key:"subscribe",value:function(e,t){return!this.channels[e]&&(this.channels[e]=[],this.keepMessages[e]=t,!0)}},{key:"sort",value:function(e,t){this.channels[e]&&this.channels[e].sort((function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}))}},{key:"unsubscribe",value:function(e){this.channels[e]&&(this.clean(e),delete this.channels[e])}}]),e}()},HtwQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Broadcast=void 0;var i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(i=n("IMwA"))&&i.__esModule?i:{default:i};t.Broadcast=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.default.subscribe_listener_events_to_broadcast.forEach((function(e){var n="_".concat(e);t[n]={},t[e]=function(e,t){!function(e,t,n){Array.isArray(t)?t.forEach((function(t){e[t]=n})):e[t]=n}(this[n],e,t)}}))}return l(e,[{key:"emit",value:function(e,t,n){var i="_".concat(e);this[i]&&this[i][t]&&this[i][t].call(null,n)}},{key:"error",value:function(e){this._error=e}},{key:"emitError",value:function(e){this._error&&this._error.call(null,e)}},{key:"unsubscribe",value:function(e){var t=this;r.default.subscribe_listener_events_to_broadcast.forEach((function(n){var i="_".concat(n);!function(e,t){Array.isArray(t)?t.forEach((function(t){e[t]&&delete e[t]})):e[t]&&delete e[t]}(t[i],e)}))}}]),e}()},IMwA:function(e){e.exports=JSON.parse('{"pubnub_prefix":"pubnub","default_instance_name":"default","attributes_to_delegate":["channelGroups","push"],"methods_to_delegate":["addListener","removeListener","removeAllListeners","hereNow","whereNow","getState","setState","grant","audit","publish","fire","history","deleteMessages","fetchMessages","time","reconnect","stop","unsubscribeAll","getSubscribedChannels","getSubscribedChannelGroups","encrypt","decrypt","getAuthKey","setAuthKey","setCipherKey","getUUID","setUUID","getFilterExpression","setFilterExpression"],"common_callbacks_to_wrap":["callback","error"],"subscribe_listener_events_to_broadcast":["message","presence","status"],"history_sort_attribute":"timetoken"}')},"Ju5/":function(e,t,n){"use strict";var i=n("XqMk"),l="object"==typeof self&&self&&self.Object===Object&&self,r=i.a||l||Function("return this")();t.a=r},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},MPr3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mock=void 0;var i,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=(i=n("IMwA"))&&i.__esModule?i:{default:i};t.Mock=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listener=null,this.broadcaster=t,this.broadcastChannels={}}return l(e,[{key:"initializeListener",value:function(e){if(null===this.listener){var t=this;t.listener={},r.default.subscribe_listener_events_to_broadcast.forEach((function(e){t.listener[e]=function(n){n.subscription&&t.broadcastChannels[n.subscription]&&t.broadcastChannels[n.subscription].includes(e)&&(t.broadcaster.emit(e,n.subscription,n),n.channel&&t.broadcaster.emit(e,n.channel,n)),n.channel&&t.broadcastChannels[n.channel]&&t.broadcastChannels[n.channel].includes(e)&&t.broadcaster.emit(e,n.channel,n),"status"===e&&(n.error?t.broadcaster.emitError(n):n.affectedChannels||n.affectedChannelGroups?(n.affectedChannels.forEach((function(i){t.broadcastChannels[i]&&t.broadcastChannels[i].includes(e)&&t.broadcaster.emit(e,i,n)})),n.affectedChannelGroups.forEach((function(i){t.broadcastChannels[i]&&t.broadcastChannels[i].includes(e)&&t.broadcaster.emit(e,i,n)}))):Object.keys(t.broadcastChannels).forEach((function(i){t.broadcaster.emit(e,i,n)})))}})),e.getOriginalInstance().addListener(this.listener)}}},{key:"addEventsBroadcast",value:function(e,t){var n=this;e.forEach((function(e){"boolean"==typeof t?n.broadcastChannels[e]=r.default.subscribe_listener_events_to_broadcast:Array.isArray(t)&&(n.broadcastChannels[e]=[],t.forEach((function(t){r.default.subscribe_listener_events_to_broadcast.includes(t)&&n.broadcastChannels[e].push(t)})))}))}},{key:"removeEventBroadcast",value:function(e){var t=this;e.forEach((function(e){t.broadcastChannels[e]&&delete t.broadcastChannels[e]}))}},{key:"enableEventsBroadcast",value:function(e){e.channels&&this.addEventsBroadcast(e.channels,e.triggerEvents),e.channelGroups&&this.addEventsBroadcast(e.channelGroups,e.triggerEvents)}},{key:"disableEventsBroadcast",value:function(e){e.channels&&this.removeEventBroadcast(e.channels),e.channelGroups&&this.removeEventBroadcast(e.channelGroups)}}]),e}()},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},PSD3:function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t,n){return(o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var l=new(Function.bind.apply(e,i));return n&&a(l,n.prototype),l}).apply(null,arguments)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var l=Object.getOwnPropertyDescriptor(i,t);return l.get?l.get.call(n):l.value}})(e,t,n||e)}var u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},c=function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){return Array.prototype.slice.call(e)},d=function(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},f=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},p=[],v=function(e){return"function"==typeof e?e():e},g=function(e){return e&&Promise.resolve(e)===e},m=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),y=function(t){return t instanceof Element||function(t){return"object"===e(t)&&t.jquery}(t)},b=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},k=b(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),_=b(["success","warning","info","question","error"]),w=function(){return document.body.querySelector(".".concat(k.container))},x=function(e){var t=w();return t?t.querySelector(e):null},C=function(e){return x(".".concat(e))},S=function(){return C(k.popup)},T=function(){var e=S();return h(e.querySelectorAll(".".concat(k.icon)))},P=function(){var e=T().filter((function(e){return ie(e)}));return e.length?e[0]:null},M=function(){return C(k.title)},A=function(){return C(k.content)},I=function(){return C(k.image)},E=function(){return C(k["progress-steps"])},D=function(){return C(k["validation-message"])},O=function(){return x(".".concat(k.actions," .").concat(k.confirm))},F=function(){return x(".".concat(k.actions," .").concat(k.cancel))},R=function(){return C(k.actions)},N=function(){return C(k.header)},L=function(){return C(k.footer)},B=function(){return C(k["timer-progress-bar"])},V=function(){return C(k.close)},z=function(){var e=h(S().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=h(S().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return ie(e)}))},j=function(){return!H()&&!document.body.classList.contains(k["no-backdrop"])},H=function(){return document.body.classList.contains(k["toast-shown"])},W={previousBodyPadding:null},U=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),i=0;i<n.length;i++)if(!e.classList.contains(n[i]))return!1;return!0},Y=function(t,n,i){if(function(e,t){h(e.classList).forEach((function(n){-1===c(k).indexOf(n)&&-1===c(_).indexOf(n)&&-1===c(t.showClass).indexOf(n)&&e.classList.remove(n)}))}(t,n),n.customClass&&n.customClass[i]){if("string"!=typeof n.customClass[i]&&!n.customClass[i].forEach)return d("Invalid type of customClass.".concat(i,'! Expected string or iterable object, got "').concat(e(n.customClass[i]),'"'));$(t,n.customClass[i])}};function q(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return Q(e,k[t]);case"checkbox":return e.querySelector(".".concat(k.checkbox," input"));case"radio":return e.querySelector(".".concat(k.radio," input:checked"))||e.querySelector(".".concat(k.radio," input:first-child"));case"range":return e.querySelector(".".concat(k.range," input"));default:return Q(e,k.input)}}var G,X=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},K=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},$=function(e,t){K(e,t,!0)},Z=function(e,t){K(e,t,!1)},Q=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(U(e.childNodes[n],t))return e.childNodes[n]},J=function(e,t,n){n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.opacity="",e.style.display=t},te=function(e){e.style.opacity="",e.style.display="none"},ne=function(e,t,n){t?ee(e,n):te(e)},ie=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},le=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||i>0},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=B();ie(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},ae=function(){return"undefined"==typeof window||"undefined"==typeof document},oe='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k.content,'" class="').concat(k.popup,'" tabindex="-1">\n   <div class="').concat(k.header,'">\n     <ul class="').concat(k["progress-steps"],'"></ul>\n     <div class="').concat(k.icon," ").concat(_.error,'"></div>\n     <div class="').concat(k.icon," ").concat(_.question,'"></div>\n     <div class="').concat(k.icon," ").concat(_.warning,'"></div>\n     <div class="').concat(k.icon," ").concat(_.info,'"></div>\n     <div class="').concat(k.icon," ").concat(_.success,'"></div>\n     <img class="').concat(k.image,'" />\n     <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n     <button type="button" class="').concat(k.close,'"></button>\n   </div>\n   <div class="').concat(k.content,'">\n     <div id="').concat(k.content,'" class="').concat(k["html-container"],'"></div>\n     <input class="').concat(k.input,'" />\n     <input type="file" class="').concat(k.file,'" />\n     <div class="').concat(k.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(k.select,'"></select>\n     <div class="').concat(k.radio,'"></div>\n     <label for="').concat(k.checkbox,'" class="').concat(k.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(k.label,'"></span>\n     </label>\n     <textarea class="').concat(k.textarea,'"></textarea>\n     <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   </div>\n   <div class="').concat(k.actions,'">\n     <button type="button" class="').concat(k.confirm,'">OK</button>\n     <button type="button" class="').concat(k.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar"],'"></div>\n </div>\n').replace(/(^|\n)\s*/g,""),se=function(e){mt.isVisible()&&G!==e.target.value&&mt.resetValidationMessage(),G=e.target.value},ue=function(t,n){t instanceof HTMLElement?n.appendChild(t):"object"===e(t)?ce(t,n):t&&(n.innerHTML=t)},ce=function(e,t){e.jquery?he(t,e):t.innerHTML=e.toString()},he=function(e,t){if(e.innerHTML="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},de=function(){if(ae())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}();function fe(e,t,n){ne(e,n["show".concat(u(t),"Button")],"inline-block"),e.innerHTML=n["".concat(t,"ButtonText")],e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=k[t],Y(e,n,"".concat(t,"Button")),$(e,n["".concat(t,"ButtonClass")])}var pe={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},ve=["input","file","range","select","radio","checkbox","textarea"],ge=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},me=function(e){var t=k[e]?k[e]:k.input;return Q(A(),t)},ye={};ye.text=ye.email=ye.password=ye.number=ye.tel=ye.url=function(t,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?t.value=n.inputValue:g(n.inputValue)||d('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(n.inputValue),'"')),ge(t,n),t.type=n.input,t},ye.file=function(e,t){return ge(e,t),e},ye.range=function(e,t){var n=e.querySelector("input"),i=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,i.value=t.inputValue,e},ye.select=function(e,t){if(e.innerHTML="",t.inputPlaceholder){var n=document.createElement("option");n.innerHTML=t.inputPlaceholder,n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return e},ye.radio=function(e){return e.innerHTML="",e},ye.checkbox=function(e,t){var n=q(A(),"checkbox");return n.value=1,n.id=k.checkbox,n.checked=Boolean(t.inputValue),e.querySelector("span").innerHTML=t.inputPlaceholder,e},ye.textarea=function(e,t){if(e.value=t.inputValue,ge(e,t),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(S()).width),i=parseInt(window.getComputedStyle(S()).paddingLeft)+parseInt(window.getComputedStyle(S()).paddingRight);new MutationObserver((function(){var t=e.offsetWidth+i;S().style.width=t>n?"".concat(t,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var be=function(e){return'<div class="'.concat(k["icon-content"],'">').concat(e,"</div>")},ke=[],_e=function(){return w().getAttribute("data-queue-step")},we=function(e,t){!function(e,t){var n=S();J(n,"width",t.width),J(n,"padding",t.padding),t.background&&(n.style.background=t.background),function(e,t){e.className="".concat(k.popup," ").concat(ie(e)?t.showClass.popup:""),t.toast?($([document.documentElement,document.body],k["toast-shown"]),$(e,k.toast)):$(e,k.modal),Y(e,t,"popup"),"string"==typeof t.customClass&&$(e,t.customClass),t.icon&&$(e,k["icon-".concat(t.icon)])}(n,t)}(0,t),function(e,t){var n=w();if(n){!function(e,t){"string"==typeof t?e.style.background=t:t||$([document.documentElement,document.body],k["no-backdrop"])}(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&d('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(e,t){t in k?$(e,k[t]):(d('The "position" parameter is not valid, defaulting to "center"'),$(e,k.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in k&&$(e,k[n])}}(n,t.grow),Y(n,t,"container");var i=document.body.getAttribute("data-swal2-queue-step");i&&(n.setAttribute("data-queue-step",i),document.body.removeAttribute("data-swal2-queue-step"))}}(0,t),function(e,t){var n=N();Y(n,t,"header"),function(e,t){var n=E();if(!t.progressSteps||0===t.progressSteps.length)return te(n);ee(n),n.innerHTML="";var i=parseInt(void 0===t.currentProgressStep?_e():t.currentProgressStep);i>=t.progressSteps.length&&d("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,l){var r=function(e){var t=document.createElement("li");return $(t,k["progress-step"]),t.innerHTML=e,t}(e);if(n.appendChild(r),l===i&&$(r,k["active-progress-step"]),l!==t.progressSteps.length-1){var a=function(e){var t=document.createElement("li");return $(t,k["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(e);n.appendChild(a)}}))}(0,t),function(e,t){var n=pe.innerParams.get(e);if(n&&t.icon===n.icon&&P())Y(P(),t,"icon");else if(function(){for(var e=T(),t=0;t<e.length;t++)te(e[t])}(),t.icon)if(-1!==Object.keys(_).indexOf(t.icon)){var i=x(".".concat(k.icon,".").concat(_[t.icon]));ee(i),function(e,t){e.innerHTML="",e.innerHTML=t.iconHtml?be(t.iconHtml):"success"===t.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===t.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':be({question:"?",warning:"!",info:"i"}[t.icon])}(i,t),function(){for(var e=S(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),i=0;i<n.length;i++)n[i].style.backgroundColor=t}(),Y(i,t,"icon"),$(i,t.showClass.icon)}else f('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"'))}(e,t),function(e,t){var n=I();if(!t.imageUrl)return te(n);ee(n),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),J(n,"width",t.imageWidth),J(n,"height",t.imageHeight),n.className=k.image,Y(n,t,"image")}(0,t),function(e,t){var n=M();ne(n,t.title||t.titleText),t.title&&ue(t.title,n),t.titleText&&(n.innerText=t.titleText),Y(n,t,"title")}(0,t),function(e,t){var n=V();n.innerHTML=t.closeButtonHtml,Y(n,t,"closeButton"),ne(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t)}(e,t),function(e,t){var n=A().querySelector("#".concat(k.content));t.html?(ue(t.html,n),ee(n,"block")):t.text?(n.textContent=t.text,ee(n,"block")):te(n),function(e,t){var n=A(),i=pe.innerParams.get(e),l=!i||t.input!==i.input;ve.forEach((function(e){var i=k[e],r=Q(n,i);(function(e,t){var n=q(A(),e);if(n)for(var i in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;-1===["type","value","style"].indexOf(n)&&e.removeAttribute(n)}}(n),t)"range"===e&&"placeholder"===i||n.setAttribute(i,t[i])})(e,t.inputAttributes),r.className=i,l&&te(r)})),t.input&&(l&&function(e){if(!ye[e.input])return f('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=me(e.input),n=ye[e.input](t,e);ee(n),setTimeout((function(){X(n)}))}(t),function(e){var t=me(e.input);e.customClass&&$(t,e.customClass.input)}(t))}(e,t),Y(A(),t,"content")}(e,t),function(e,t){var n=R(),i=O(),l=F();t.showConfirmButton||t.showCancelButton||te(n),Y(n,t,"actions"),fe(i,"confirm",t),fe(l,"cancel",t),t.buttonsStyling?function(e,t,n){$([e,t],k.styled),n.confirmButtonColor&&(e.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(t.style.backgroundColor=n.cancelButtonColor);var i=window.getComputedStyle(e).getPropertyValue("background-color");e.style.borderLeftColor=i,e.style.borderRightColor=i}(i,l,t):(Z([i,l],k.styled),i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor="",l.style.backgroundColor=l.style.borderLeftColor=l.style.borderRightColor=""),t.reverseButtons&&i.parentNode.insertBefore(l,i)}(0,t),function(e,t){var n=L();ne(n,t.footer),t.footer&&ue(t.footer,n),Y(n,t,"footer")}(0,t),"function"==typeof t.onRender&&t.onRender(S())},xe=function(){return O()&&O().click()},Ce=function(){var e=S();e||mt.fire(),e=S();var t=R(),n=O();ee(t),ee(n,"inline-block"),$([e,t],k.loading),n.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Se={},Te=function(){return new Promise((function(e){var t=window.scrollX,n=window.scrollY;Se.restoreFocusTimeout=setTimeout((function(){Se.previousActiveElement&&Se.previousActiveElement.focus?(Se.previousActiveElement.focus(),Se.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)}))},Pe=function(){if(Se.timeout)return function(){var e=B(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),i=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(i,"%")}(),Se.timeout.stop()},Me=function(){if(Se.timeout){var e=Se.timeout.start();return re(e),e}},Ae={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Ie=["title","titleText","text","html","icon","customClass","allowOutsideClick","allowEscapeKey","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeight","imageAlt","progressSteps","currentProgressStep"],Ee={animation:'showClass" and "hideClass'},De=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Oe=function(e){return Object.prototype.hasOwnProperty.call(Ae,e)},Fe=function(e){return Ee[e]},Re=function(e){Oe(e)||d('Unknown parameter "'.concat(e,'"'))},Ne=function(e){-1!==De.indexOf(e)&&d('The parameter "'.concat(e,'" is incompatible with toasts'))},Le=function(e){var t,n,i;Fe(e)&&(t=e,n=Fe(e),i='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===p.indexOf(i)&&(p.push(i),d(i)))},Be=Object.freeze({isValidParameter:Oe,isUpdatableParameter:function(e){return-1!==Ie.indexOf(e)},isDeprecatedParameter:Fe,argsToParams:function(t){var n={};return"object"!==e(t[0])||y(t[0])?["title","html","icon"].forEach((function(i,l){var r=t[l];"string"==typeof r||y(r)?n[i]=r:void 0!==r&&f("Unexpected type of ".concat(i,'! Expected "string" or "Element", got ').concat(e(r)))})):l(n,t[0]),n},isVisible:function(){return ie(S())},clickConfirm:xe,clickCancel:function(){return F()&&F().click()},getContainer:w,getPopup:S,getTitle:M,getContent:A,getHtmlContainer:function(){return C(k["html-container"])},getImage:I,getIcon:P,getIcons:T,getCloseButton:V,getActions:R,getConfirmButton:O,getCancelButton:F,getHeader:N,getFooter:L,getFocusableElements:z,getValidationMessage:D,isLoading:function(){return S().hasAttribute("data-loading")},fire:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o(this,t)},mixin:function(e){return function(n){function o(){return t(this,o),function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,r(o).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,n),i(o,[{key:"_main",value:function(t){return s(r(o.prototype),"_main",this).call(this,l({},e,t))}}]),o}(this)},queue:function(e){var t=this;ke=e;var n=function(e,t){ke=[],e(t)},i=[];return new Promise((function(e){!function l(r,a){r<ke.length?(document.body.setAttribute("data-swal2-queue-step",r),t.fire(ke[r]).then((function(t){void 0!==t.value?(i.push(t.value),l(r+1,a)):n(e,{dismiss:t.dismiss})}))):n(e,{value:i})}(0)}))},getQueueStep:_e,insertQueueStep:function(e,t){return t&&t<ke.length?ke.splice(t,0,e):ke.push(e)},deleteQueueStep:function(e){void 0!==ke[e]&&ke.splice(e,1)},showLoading:Ce,enableLoading:Ce,getTimerLeft:function(){return Se.timeout&&Se.timeout.getTimerLeft()},stopTimer:Pe,resumeTimer:Me,toggleTimer:function(){var e=Se.timeout;return e&&(e.running?Pe():Me())},increaseTimer:function(e){if(Se.timeout){var t=Se.timeout.increase(e);return re(t,!0),t}},isTimerRunning:function(){return Se.timeout&&Se.timeout.isRunning()}});function Ve(){var e=pe.innerParams.get(this);if(e){var t=pe.domCache.get(this);e.showConfirmButton||(te(t.confirmButton),e.showCancelButton||te(t.actions)),Z([t.popup,t.actions],k.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}}var ze=function(){null!==W.previousBodyPadding&&(document.body.style.paddingRight="".concat(W.previousBodyPadding,"px"),W.previousBodyPadding=null)},je=function(){if(U(document.body,k.iosfix)){var e=parseInt(document.body.style.top,10);Z(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},He=function(){return!!window.MSInputMethodContext&&!!document.documentMode},We=function(){var e=w(),t=S();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},Ue=function(){"undefined"!=typeof window&&He()&&window.removeEventListener("resize",We)},Ye=function(){h(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},qe={swalPromiseResolve:new WeakMap};function Ge(e,t,n,i){n?Ze(e,i):(Te().then((function(){return Ze(e,i)})),Se.keydownTarget.removeEventListener("keydown",Se.keydownHandler,{capture:Se.keydownListenerCapture}),Se.keydownHandlerAdded=!1),t.parentNode&&t.parentNode.removeChild(t),j()&&(ze(),je(),Ue(),Ye()),Z([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"],k["toast-column"]])}function Xe(e){var t=S();if(t){var n=pe.innerParams.get(this);if(n&&!U(t,n.hideClass.popup)){var i=qe.swalPromiseResolve.get(this);Z(t,n.showClass.popup),$(t,n.hideClass.popup);var l=w();Z(l,n.showClass.backdrop),$(l,n.hideClass.backdrop),Ke(this,t,n),i(e||{})}}}var Ke=function(e,t,n){var i=w(),l=de&&le(t),r=n.onClose,a=n.onAfterClose;null!==r&&"function"==typeof r&&r(t),l?$e(e,t,i,a):Ge(e,i,H(),a)},$e=function(e,t,n,i){Se.swalCloseEventFinishedCallback=Ge.bind(null,e,n,H(),i),t.addEventListener(de,(function(e){e.target===t&&(Se.swalCloseEventFinishedCallback(),delete Se.swalCloseEventFinishedCallback)}))},Ze=function(e,t){setTimeout((function(){"function"==typeof t&&t(),e._destroy()}))};function Qe(e,t,n){var i=pe.domCache.get(e);t.forEach((function(e){i[e].disabled=n}))}function Je(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),i=0;i<n.length;i++)n[i].disabled=t;else e.disabled=t}var et=function(){function e(n,i){t(this,e),this.callback=n,this.remaining=i,this.running=!1,this.start()}return i(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),tt={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function nt(e){var t=S();if(e.target===t){var n=w();t.removeEventListener(de,nt),n.style.overflowY="auto"}}var it,lt={select:function(e,t,n){var i=Q(e,k.select);t.forEach((function(e){var t=e[0],l=e[1],r=document.createElement("option");r.value=t,r.innerHTML=l,n.inputValue.toString()===t.toString()&&(r.selected=!0),i.appendChild(r)})),i.focus()},radio:function(e,t,n){var i=Q(e,k.radio);t.forEach((function(e){var t=e[0],l=e[1],r=document.createElement("input"),a=document.createElement("label");r.type="radio",r.name=k.radio,r.value=t,n.inputValue.toString()===t.toString()&&(r.checked=!0);var o=document.createElement("span");o.innerHTML=l,o.className=k.label,a.appendChild(r),a.appendChild(o),i.appendChild(a)}));var l=i.querySelectorAll("input");l.length&&l[0].focus()}},rt=function(e,t){e.closePopup({value:t})},at=function(e,t,n){t.showLoaderOnConfirm&&Ce(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then((function(){return t.preConfirm(n,t.validationMessage)})).then((function(t){ie(D())||!1===t?e.hideLoading():rt(e,void 0===t?n:t)}))):rt(e,n)},ot=function(e,t,n){for(var i=z(),l=0;l<i.length;l++)return(t+=n)===i.length?t=0:-1===t&&(t=i.length-1),i[t].focus();S().focus()},st=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],ut=["Escape","Esc"],ct=!1,ht=function(e,t,n){var i=B();te(i),t.timer&&(e.timeout=new et((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ee(i),setTimeout((function(){re(t.timer)}))))},dt=function(e,t){if(!t.toast)return v(t.allowEnterKey)?t.focusCancel&&ie(e.cancelButton)?e.cancelButton.focus():t.focusConfirm&&ie(e.confirmButton)?e.confirmButton.focus():void ot(0,-1,1):ft()},ft=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},pt=function(e){for(var t in e)e[t]=new WeakMap},vt=Object.freeze({hideLoading:Ve,disableLoading:Ve,getInput:function(e){var t=pe.innerParams.get(e||this),n=pe.domCache.get(e||this);return n?q(n.content,t.input):null},close:Xe,closePopup:Xe,closeModal:Xe,closeToast:Xe,enableButtons:function(){Qe(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){Qe(this,["confirmButton","cancelButton"],!0)},enableInput:function(){return Je(this.getInput(),!1)},disableInput:function(){return Je(this.getInput(),!0)},showValidationMessage:function(e){var t=pe.domCache.get(this);t.validationMessage.innerHTML=e;var n=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),ee(t.validationMessage);var i=this.getInput();i&&(i.setAttribute("aria-invalid",!0),i.setAttribute("aria-describedBy",k["validation-message"]),X(i),$(i,k.inputerror))},resetValidationMessage:function(){var e=pe.domCache.get(this);e.validationMessage&&te(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),Z(t,k.inputerror))},getProgressSteps:function(){return pe.domCache.get(this).progressSteps},_main:function(t){(function(e){for(var t in e)Re(t),e.toast&&Ne(t),Le(t)})(t),Se.currentInstance&&Se.currentInstance._destroy(),Se.currentInstance=this;var n,i=function(e){var t=l({},Ae.showClass,e.showClass),n=l({},Ae.hideClass,e.hideClass),i=l({},Ae,e);return i.showClass=t,i.hideClass=n,!1===e.animation&&(i.showClass={popup:"",backdrop:"swal2-backdrop-show swal2-noanimation"},i.hideClass={}),i}(t);(function(e){e.inputValidator||Object.keys(tt).forEach((function(t){e.input===t&&(e.inputValidator=tt[t])}))})(n=i),n.showLoaderOnConfirm&&!n.preConfirm&&d("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),n.animation=v(n.animation),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(d('Target parameter is not valid, defaulting to "body"'),e.target="body")}(n),"string"==typeof n.title&&(n.title=n.title.split("\n").join("<br />")),function(e){var t;if((t=w())&&(t.parentNode.removeChild(t),Z([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]])),ae())f("SweetAlert2 requires document to initialize");else{var n=document.createElement("div");n.className=k.container,n.innerHTML=oe;var i,l,r,a,o,s,u,c,h,d="string"==typeof(i=e.target)?document.querySelector(i):i;d.appendChild(n),function(e){var t=S();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&$(w(),k.rtl)}(d),l=A(),r=Q(l,k.input),a=Q(l,k.file),o=l.querySelector(".".concat(k.range," input")),s=l.querySelector(".".concat(k.range," output")),u=Q(l,k.select),c=l.querySelector(".".concat(k.checkbox," input")),h=Q(l,k.textarea),r.oninput=se,a.onchange=se,u.onchange=se,c.onchange=se,h.oninput=se,o.oninput=function(e){se(e),s.value=o.value},o.onchange=function(e){se(e),o.nextSibling.value=o.value}}}(n),Object.freeze(i),Se.timeout&&(Se.timeout.stop(),delete Se.timeout),clearTimeout(Se.restoreFocusTimeout);var r=function(e){var t={popup:S(),container:w(),content:A(),actions:R(),confirmButton:O(),cancelButton:F(),closeButton:V(),validationMessage:D(),progressSteps:E()};return pe.domCache.set(e,t),t}(this);return we(this,i),pe.innerParams.set(this,i),function(t,n,i){return new Promise((function(l){var r,a,o,s=function(e){t.closePopup({dismiss:e})};qe.swalPromiseResolve.set(t,l),ht(Se,i,s),n.confirmButton.onclick=function(){return function(e,t){e.disableButtons(),t.input?function(e,t){var n=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return function(e){return e.checked?1:0}(n);case"radio":return function(e){return e.checked?e.value:null}(n);case"file":return function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null}(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,t);t.inputValidator?(e.disableInput(),Promise.resolve().then((function(){return t.inputValidator(n,t.validationMessage)})).then((function(i){e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):at(e,t,n)}))):e.getInput().checkValidity()?at(e,t,n):(e.enableButtons(),e.showValidationMessage(t.validationMessage))}(e,t):at(e,t,!0)}(t,i)},n.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(m.cancel)}(t,s)},n.closeButton.onclick=function(){return s(m.close)},function(e,t,n){pe.innerParams.get(e).toast?function(e,t,n){t.popup.onclick=function(){var t=pe.innerParams.get(e);t.showConfirmButton||t.showCancelButton||t.showCloseButton||t.input||n(m.close)}}(e,t,n):(function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(ct=!0)}}}(t),function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(ct=!0)}}}(t),function(e,t,n){t.container.onclick=function(i){var l=pe.innerParams.get(e);ct?ct=!1:i.target===t.container&&v(l.allowOutsideClick)&&n(m.backdrop)}}(e,t,n))}(t,n,s),function(e,t,n,i){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return function(e,t,n){var i,l,r=pe.innerParams.get(e);r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;xe(),t.preventDefault()}}(e,t,r):"Tab"===t.key?function(e,t){for(var n=e.target,i=z(),l=-1,r=0;r<i.length;r++)if(n===i[r]){l=r;break}ot(0,l,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()}(t):-1!==st.indexOf(t.key)?(i=O(),l=F(),document.activeElement===i&&ie(l)?l.focus():document.activeElement===l&&ie(i)&&i.focus()):-1!==ut.indexOf(t.key)&&function(e,t,n){v(t.allowEscapeKey)&&(e.preventDefault(),n(m.esc))}(t,r,n)}(e,t,i)},t.keydownTarget=n.keydownListenerCapture?window:S(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(t,Se,i,s),i.toast&&(i.input||i.footer||i.showCloseButton)?$(document.body,k["toast-column"]):Z(document.body,k["toast-column"]),function(t,n){"select"===n.input||"radio"===n.input?function(t,n){var i=A(),l=function(e){return lt[n.input](i,function(e){var t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach((function(e,n){t.push([n,e])})):Object.keys(e).forEach((function(n){t.push([n,e[n]])})),t}(e),n)};g(n.inputOptions)?(Ce(),n.inputOptions.then((function(e){t.hideLoading(),l(e)}))):"object"===e(n.inputOptions)?l(n.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(n.inputOptions)))}(t,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&g(n.inputValue)&&function(e,t){var n=e.getInput();te(n),t.inputValue.then((function(i){n.value="number"===t.input?parseFloat(i)||0:"".concat(i),ee(n),n.focus(),e.hideLoading()})).catch((function(t){f("Error in inputValue promise: ".concat(t)),n.value="",ee(n),n.focus(),e.hideLoading()}))}(t,n)}(t,i),r=i,a=w(),o=S(),"function"==typeof r.onBeforeOpen&&r.onBeforeOpen(o),function(e,t,n){$(e,n.showClass.backdrop),ee(t),$(t,n.showClass.popup),$([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&$([document.documentElement,document.body],k["height-auto"])}(a,o,r),function(e,t){de&&le(t)?(e.style.overflowY="hidden",t.addEventListener(de,nt)):e.style.overflowY="auto"}(a,o),j()&&function(e,t){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!U(document.body,k.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),$(document.body,k.iosfix),function(){var e,t=w();t.ontouchstart=function(n){var i;e=n.target===t||!((i=t).scrollHeight>i.clientHeight)&&"INPUT"!==n.target.tagName},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}()}}(),"undefined"!=typeof window&&He()&&(We(),window.addEventListener("resize",We)),h(document.body.children).forEach((function(e){e===w()||function(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,w())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})),t&&null===W.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(W.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(W.previousBodyPadding+function(){var e=document.createElement("div");e.className=k["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px")),setTimeout((function(){e.scrollTop=0}))}(a,r.scrollbarPadding),H()||Se.previousActiveElement||(Se.previousActiveElement=document.activeElement),"function"==typeof r.onOpen&&setTimeout((function(){return r.onOpen(o)})),dt(n,i),n.container.scrollTop=0}))}(this,r,i)},update:function(e){var t=S(),n=pe.innerParams.get(this);if(!t||U(t,n.hideClass.popup))return d("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var i={};Object.keys(e).forEach((function(t){mt.isUpdatableParameter(t)?i[t]=e[t]:d('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var r=l({},n,i);we(this,r),pe.innerParams.set(this,r),Object.defineProperties(this,{params:{value:l({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var e=pe.domCache.get(this),t=pe.innerParams.get(this);t&&(e.popup&&Se.swalCloseEventFinishedCallback&&(Se.swalCloseEventFinishedCallback(),delete Se.swalCloseEventFinishedCallback),Se.deferDisposalTimer&&(clearTimeout(Se.deferDisposalTimer),delete Se.deferDisposalTimer),"function"==typeof t.onDestroy&&t.onDestroy(),delete this.params,delete Se.keydownHandler,delete Se.keydownTarget,pt(pe),pt(qe))}});function gt(){if("undefined"!=typeof window){"undefined"==typeof Promise&&f("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),it=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});var l=this._main(this.params);pe.promise.set(this,l)}}gt.prototype.then=function(e){return pe.promise.get(this).then(e)},gt.prototype.finally=function(e){return pe.promise.get(this).finally(e)},l(gt.prototype,vt),l(gt,Be),Object.keys(vt).forEach((function(e){gt[e]=function(){var t;if(it)return(t=it)[e].apply(t,arguments)}})),gt.DismissReason=m,gt.version="9.7.2";var mt=gt;return mt.default=mt,mt}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.swal2-popup.swal2-toast .swal2-title{-webkit-box-flex:1;flex-grow:1;-webkit-box-pack:start;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{-webkit-box-pack:start;justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:2em 2em;transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;-webkit-transform-origin:0 1.5em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:-webkit-box;display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow-x:hidden;-webkit-transition:background-color .1s;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-center{-webkit-box-align:center;align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{-webkit-box-align:center;align-items:center;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:start;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{-webkit-box-align:end;align-items:flex-end;-webkit-box-pack:end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-self:stretch;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container.swal2-grow-column{-webkit-box-flex:1;flex:1;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{-webkit-box-align:center;align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{-webkit-box-align:start;align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{-webkit-box-align:end;align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:-webkit-box!important;display:flex!important;-webkit-box-flex:1;flex:1;align-content:center;-webkit-box-pack:center;justify-content:center}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:center;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:-webkit-box;display:flex;z-index:1;flex-wrap:wrap;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.1)),to(rgba(0,0,0,.1)));background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:-webkit-gradient(linear,left top,left bottom,from(rgba(0,0,0,.2)),to(rgba(0,0,0,.2)));background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{-webkit-box-pack:center;justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar{position:absolute;bottom:0;left:0;width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;-webkit-box-pack:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;-webkit-transition:color .1s ease-out;transition:color .1s ease-out;border:none;border-radius:0;outline:initial;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{-webkit-transform:none;transform:none;background:0 0;color:#f27474}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;-webkit-box-pack:center;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;-webkit-transition:border-color .3s,box-shadow .3s;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-webkit-input-placeholder,.swal2-input::-webkit-input-placeholder,.swal2-textarea::-webkit-input-placeholder{color:#ccc}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;-webkit-box-pack:center;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;-webkit-box-flex:1;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:3.75em 3.75em;transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 3.75em;transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{-webkit-box-align:center;align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{-webkit-transition:none;transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{-webkit-transform:translateY(-.625em) rotateZ(2deg);transform:translateY(-.625em) rotateZ(2deg)}33%{-webkit-transform:translateY(0) rotateZ(-2deg);transform:translateY(0) rotateZ(-2deg)}66%{-webkit-transform:translateY(.3125em) rotateZ(2deg);transform:translateY(.3125em) rotateZ(2deg)}100%{-webkit-transform:translateY(0) rotateZ(0);transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{-webkit-transform:rotateZ(1deg);transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes swal2-show{0%{-webkit-transform:scale(.7);transform:scale(.7)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}100%{-webkit-transform:scale(.5);transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}100%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}50%{margin-top:1.625em;-webkit-transform:scale(.4);transform:scale(.4);opacity:0}80%{margin-top:-.375em;-webkit-transform:scale(1.15);transform:scale(1.15)}100%{margin-top:0;-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}100%{-webkit-transform:rotateX(0);transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;-webkit-transform:translateY(-50%);transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:stretch;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{-webkit-box-flex:1;flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{-webkit-box-pack:center;justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},WOAq:function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),l=n("L3Qv"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===r?i.a.Buffer:void 0;t.a=(o?o.isBuffer:void 0)||l.a}).call(this,n("3UD+")(e))},XqMk:function(e,t,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;t.a=i},YcCt:function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,l){n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t=t||"&");var o=1e3;l&&"number"==typeof l.maxKeys&&(o=l.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var u=0;u<s;++u){var c,h,d,f,p=e[u].replace(a,"%20"),v=p.indexOf(n);v>=0?(c=p.substr(0,v),h=p.substr(v+1)):(c=p,h=""),d=decodeURIComponent(c),f=decodeURIComponent(h),i(r,d)?Array.isArray(r[d])?r[d].push(f):r[d]=[r[d],f]:r[d]=f}return r}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},r8II:function(e,t,n){"use strict";t.decode=t.parse=n("YcCt"),t.encode=t.stringify=n("6MUB")},rWzI:function(e,t,n){(function(e){var i;!function(l){"object"==typeof global&&global;var r,a=2147483647,o=36,s=1,u=26,c=38,h=700,d=72,f=128,p="-",v=/^xn--/,g=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=o-s,k=Math.floor,_=String.fromCharCode;function w(e){throw RangeError(y[e])}function x(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function C(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+x((e=e.replace(m,".")).split("."),t).join(".")}function S(e){for(var t,n,i=[],l=0,r=e.length;l<r;)(t=e.charCodeAt(l++))>=55296&&t<=56319&&l<r?56320==(64512&(n=e.charCodeAt(l++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),l--):i.push(t);return i}function T(e){return x(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)})).join("")}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function M(e,t,n){var i=0;for(e=n?k(e/h):e>>1,e+=k(e/t);e>b*u>>1;i+=o)e=k(e/b);return k(i+(b+1)*e/(e+c))}function A(e){var t,n,i,l,r,c,h,v,g,m,y,b=[],_=e.length,x=0,C=f,S=d;for((n=e.lastIndexOf(p))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&w("not-basic"),b.push(e.charCodeAt(i));for(l=n>0?n+1:0;l<_;){for(r=x,c=1,h=o;l>=_&&w("invalid-input"),((v=(y=e.charCodeAt(l++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:o)>=o||v>k((a-x)/c))&&w("overflow"),x+=v*c,!(v<(g=h<=S?s:h>=S+u?u:h-S));h+=o)c>k(a/(m=o-g))&&w("overflow"),c*=m;S=M(x-r,t=b.length+1,0==r),k(x/t)>a-C&&w("overflow"),C+=k(x/t),x%=t,b.splice(x++,0,C)}return T(b)}function I(e){var t,n,i,l,r,c,h,v,g,m,y,b,x,C,T,A=[];for(b=(e=S(e)).length,t=f,n=0,r=d,c=0;c<b;++c)(y=e[c])<128&&A.push(_(y));for(i=l=A.length,l&&A.push(p);i<b;){for(h=a,c=0;c<b;++c)(y=e[c])>=t&&y<h&&(h=y);for(h-t>k((a-n)/(x=i+1))&&w("overflow"),n+=(h-t)*x,t=h,c=0;c<b;++c)if((y=e[c])<t&&++n>a&&w("overflow"),y==t){for(v=n,g=o;!(v<(m=g<=r?s:g>=r+u?u:g-r));g+=o)A.push(_(P(m+(T=v-m)%(C=o-m),0))),v=k(T/C);A.push(_(P(v,0))),r=M(n,x,i==l),n=0,++i}++n,++t}return A.join("")}r={version:"1.3.2",ucs2:{decode:S,encode:T},decode:A,encode:I,toASCII:function(e){return C(e,(function(e){return g.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return C(e,(function(e){return v.test(e)?A(e.slice(4).toLowerCase()):e}))}},void 0===(i=(function(){return r}).call(t,n,t,e))||(e.exports=i)}()}).call(this,n("YuTi")(e))},rtfF:function(e,t,n){window,e.exports=function(){return n={},e.m=t=[function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={PNTimeOperation:"PNTimeOperation",PNHistoryOperation:"PNHistoryOperation",PNDeleteMessagesOperation:"PNDeleteMessagesOperation",PNFetchMessagesOperation:"PNFetchMessagesOperation",PNMessageCounts:"PNMessageCountsOperation",PNSubscribeOperation:"PNSubscribeOperation",PNUnsubscribeOperation:"PNUnsubscribeOperation",PNPublishOperation:"PNPublishOperation",PNSignalOperation:"PNSignalOperation",PNAddMessageActionOperation:"PNAddActionOperation",PNRemoveMessageActionOperation:"PNRemoveMessageActionOperation",PNGetMessageActionsOperation:"PNGetMessageActionsOperation",PNCreateUserOperation:"PNCreateUserOperation",PNUpdateUserOperation:"PNUpdateUserOperation",PNDeleteUserOperation:"PNDeleteUserOperation",PNGetUserOperation:"PNGetUsersOperation",PNGetUsersOperation:"PNGetUsersOperation",PNCreateSpaceOperation:"PNCreateSpaceOperation",PNUpdateSpaceOperation:"PNUpdateSpaceOperation",PNDeleteSpaceOperation:"PNDeleteSpaceOperation",PNGetSpaceOperation:"PNGetSpacesOperation",PNGetSpacesOperation:"PNGetSpacesOperation",PNGetMembersOperation:"PNGetMembersOperation",PNUpdateMembersOperation:"PNUpdateMembersOperation",PNGetMembershipsOperation:"PNGetMembershipsOperation",PNUpdateMembershipsOperation:"PNUpdateMembershipsOperation",PNPushNotificationEnabledChannelsOperation:"PNPushNotificationEnabledChannelsOperation",PNRemoveAllPushNotificationsOperation:"PNRemoveAllPushNotificationsOperation",PNWhereNowOperation:"PNWhereNowOperation",PNSetStateOperation:"PNSetStateOperation",PNHereNowOperation:"PNHereNowOperation",PNGetStateOperation:"PNGetStateOperation",PNHeartbeatOperation:"PNHeartbeatOperation",PNChannelGroupsOperation:"PNChannelGroupsOperation",PNRemoveGroupOperation:"PNRemoveGroupOperation",PNChannelsForGroupOperation:"PNChannelsForGroupOperation",PNAddChannelsToGroupOperation:"PNAddChannelsToGroupOperation",PNRemoveChannelsFromGroupOperation:"PNRemoveChannelsFromGroupOperation",PNAccessManagerGrant:"PNAccessManagerGrant",PNAccessManagerGrantToken:"PNAccessManagerGrantToken",PNAccessManagerAudit:"PNAccessManagerAudit"},e.exports=t.default},function(e,t,n){"use strict";function i(e){return encodeURIComponent(e).replace(/[!~*'()]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}e.exports={signPamFromParams:function(e){return function(e){return function(e){var t=[];return Object.keys(e).forEach((function(e){return t.push(e)})),t}(e).sort()}(e).map((function(t){return"".concat(t,"=").concat(i(e[t]))})).join("&")},endsWith:function(e,t){return-1!==e.indexOf(t,this.length-t.length)},createPromise:function(){var e,t;return{promise:new Promise((function(n,i){e=n,t=i})),reject:t,fulfill:e}},encodeString:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l=(i=n(5))&&i.__esModule?i:{default:i};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(0);var a,o=((a=[{key:"getAuthKey",value:function(){return this.authKey}},{key:"setAuthKey",value:function(e){return this.authKey=e,this}},{key:"setCipherKey",value:function(e){return this.cipherKey=e,this}},{key:"getUUID",value:function(){return this.UUID}},{key:"setUUID",value:function(e){return this._db&&this._db.set&&this._db.set("".concat(this.subscribeKey,"uuid"),e),this.UUID=e,this}},{key:"getFilterExpression",value:function(){return this.filterExpression}},{key:"setFilterExpression",value:function(e){return this.filterExpression=e,this}},{key:"getPresenceTimeout",value:function(){return this._presenceTimeout}},{key:"setPresenceTimeout",value:function(e){return 20<=e?this._presenceTimeout=e:(this._presenceTimeout=20,console.log("WARNING: Presence timeout is less than the minimum. Using minimum value: ",this._presenceTimeout)),this.setHeartbeatInterval(this._presenceTimeout/2-1),this}},{key:"setProxy",value:function(e){this.proxy=e}},{key:"getHeartbeatInterval",value:function(){return this._heartbeatInterval}},{key:"setHeartbeatInterval",value:function(e){return this._heartbeatInterval=e,this}},{key:"getSubscribeTimeout",value:function(){return this._subscribeRequestTimeout}},{key:"setSubscribeTimeout",value:function(e){return this._subscribeRequestTimeout=e,this}},{key:"getTransactionTimeout",value:function(){return this._transactionalRequestTimeout}},{key:"setTransactionTimeout",value:function(e){return this._transactionalRequestTimeout=e,this}},{key:"isSendBeaconEnabled",value:function(){return this._useSendBeacon}},{key:"setSendBeaconConfig",value:function(e){return this._useSendBeacon=e,this}},{key:"getVersion",value:function(){return"4.27.6"}},{key:"_addPnsdkSuffix",value:function(e,t){this._PNSDKSuffix[e]=t}},{key:"_getPnsdkSuffix",value:function(e){var t=this;return Object.keys(this._PNSDKSuffix).reduce((function(n,i){return n+e+t._PNSDKSuffix[i]}),"")}},{key:"_decideUUID",value:function(e){return e||(this._db&&this._db.get&&this._db.get("".concat(this.subscribeKey,"uuid"))?this._db.get("".concat(this.subscribeKey,"uuid")):"pn-".concat(l.default.createUUID()))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(s.prototype,a),s);function s(e){var t=e.setup,n=e.db;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r(this,"_db",void 0),r(this,"subscribeKey",void 0),r(this,"publishKey",void 0),r(this,"secretKey",void 0),r(this,"cipherKey",void 0),r(this,"authKey",void 0),r(this,"UUID",void 0),r(this,"proxy",void 0),r(this,"instanceId",void 0),r(this,"sdkName",void 0),r(this,"sdkFamily",void 0),r(this,"partnerId",void 0),r(this,"filterExpression",void 0),r(this,"suppressLeaveEvents",void 0),r(this,"secure",void 0),r(this,"origin",void 0),r(this,"logVerbosity",void 0),r(this,"useInstanceId",void 0),r(this,"useRequestId",void 0),r(this,"keepAlive",void 0),r(this,"keepAliveSettings",void 0),r(this,"autoNetworkDetection",void 0),r(this,"announceSuccessfulHeartbeats",void 0),r(this,"announceFailedHeartbeats",void 0),r(this,"_presenceTimeout",void 0),r(this,"_heartbeatInterval",void 0),r(this,"_subscribeRequestTimeout",void 0),r(this,"_transactionalRequestTimeout",void 0),r(this,"_useSendBeacon",void 0),r(this,"_PNSDKSuffix",void 0),r(this,"requestMessageCountThreshold",void 0),r(this,"restore",void 0),r(this,"dedupeOnSubscribe",void 0),r(this,"maximumCacheSize",void 0),r(this,"customEncrypt",void 0),r(this,"customDecrypt",void 0),this._PNSDKSuffix={},this._db=n,this.instanceId="pn-".concat(l.default.createUUID()),this.secretKey=t.secretKey||t.secret_key,this.subscribeKey=t.subscribeKey||t.subscribe_key,this.publishKey=t.publishKey||t.publish_key,this.sdkName=t.sdkName,this.sdkFamily=t.sdkFamily,this.partnerId=t.partnerId,this.setAuthKey(t.authKey),this.setCipherKey(t.cipherKey),this.setFilterExpression(t.filterExpression),this.origin=t.origin||"ps.pndsn.com",this.secure=t.ssl||!1,this.restore=t.restore||!1,this.proxy=t.proxy,this.keepAlive=t.keepAlive,this.keepAliveSettings=t.keepAliveSettings,this.autoNetworkDetection=t.autoNetworkDetection||!1,this.dedupeOnSubscribe=t.dedupeOnSubscribe||!1,this.maximumCacheSize=t.maximumCacheSize||100,this.customEncrypt=t.customEncrypt,this.customDecrypt=t.customDecrypt,"undefined"!=typeof location&&"https:"===location.protocol&&(this.secure=!0),this.logVerbosity=t.logVerbosity||!1,this.suppressLeaveEvents=t.suppressLeaveEvents||!1,this.announceFailedHeartbeats=t.announceFailedHeartbeats||!0,this.announceSuccessfulHeartbeats=t.announceSuccessfulHeartbeats||!1,this.useInstanceId=t.useInstanceId||!1,this.useRequestId=t.useRequestId||!1,this.requestMessageCountThreshold=t.requestMessageCountThreshold,this.setTransactionTimeout(t.transactionalRequestTimeout||15e3),this.setSubscribeTimeout(t.subscribeRequestTimeout||31e4),this.setSendBeaconConfig(t.useSendBeacon||!0),t.presenceTimeout?this.setPresenceTimeout(t.presenceTimeout):this._presenceTimeout=300,null!=t.heartbeatInterval&&this.setHeartbeatInterval(t.heartbeatInterval),this.setUUID(this._decideUUID(t.uuid))}t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={PNNetworkUpCategory:"PNNetworkUpCategory",PNNetworkDownCategory:"PNNetworkDownCategory",PNNetworkIssuesCategory:"PNNetworkIssuesCategory",PNTimeoutCategory:"PNTimeoutCategory",PNBadRequestCategory:"PNBadRequestCategory",PNAccessDeniedCategory:"PNAccessDeniedCategory",PNUnknownCategory:"PNUnknownCategory",PNReconnectedCategory:"PNReconnectedCategory",PNConnectedCategory:"PNConnectedCategory",PNRequestMessageCountExceededCategory:"PNRequestMessageCountExceededCategory"},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l=(i=n(14))&&i.__esModule?i:{default:i};t.default={createUUID:function(){return l.default.uuid?l.default.uuid():(0,l.default)()}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l(n(3));var i=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a,o=((a=[{key:"HMACSHA256",value:function(e){return i.default.HmacSHA256(e,this._config.secretKey).toString(i.default.enc.Base64)}},{key:"SHA256",value:function(e){return i.default.SHA256(e).toString(i.default.enc.Hex)}},{key:"_parseOptions",value:function(e){var t=e||{};return t.hasOwnProperty("encryptKey")||(t.encryptKey=this._defaultOptions.encryptKey),t.hasOwnProperty("keyEncoding")||(t.keyEncoding=this._defaultOptions.keyEncoding),t.hasOwnProperty("keyLength")||(t.keyLength=this._defaultOptions.keyLength),t.hasOwnProperty("mode")||(t.mode=this._defaultOptions.mode),-1===this._allowedKeyEncodings.indexOf(t.keyEncoding.toLowerCase())&&(t.keyEncoding=this._defaultOptions.keyEncoding),-1===this._allowedKeyLengths.indexOf(parseInt(t.keyLength,10))&&(t.keyLength=this._defaultOptions.keyLength),-1===this._allowedModes.indexOf(t.mode.toLowerCase())&&(t.mode=this._defaultOptions.mode),t}},{key:"_decodeKey",value:function(e,t){return"base64"===t.keyEncoding?i.default.enc.Base64.parse(e):"hex"===t.keyEncoding?i.default.enc.Hex.parse(e):e}},{key:"_getPaddedKey",value:function(e,t){return e=this._decodeKey(e,t),t.encryptKey?i.default.enc.Utf8.parse(this.SHA256(e).slice(0,32)):e}},{key:"_getMode",value:function(e){return"ecb"===e.mode?i.default.mode.ECB:i.default.mode.CBC}},{key:"_getIV",value:function(e){return"cbc"===e.mode?i.default.enc.Utf8.parse(this._iv):null}},{key:"encrypt",value:function(e,t,n){return this._config.customEncrypt?this._config.customEncrypt(e):this.pnEncrypt(e,t,n)}},{key:"decrypt",value:function(e,t,n){return this._config.customDecrypt?this._config.customDecrypt(e):this.pnDecrypt(e,t,n)}},{key:"pnEncrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var l=this._getIV(n),r=this._getMode(n),a=this._getPaddedKey(t||this._config.cipherKey,n);return i.default.AES.encrypt(e,a,{iv:l,mode:r}).ciphertext.toString(i.default.enc.Base64)||e}},{key:"pnDecrypt",value:function(e,t,n){if(!t&&!this._config.cipherKey)return e;n=this._parseOptions(n);var l=this._getIV(n),r=this._getMode(n),a=this._getPaddedKey(t||this._config.cipherKey,n);try{var o=i.default.enc.Base64.parse(e),s=i.default.AES.decrypt({ciphertext:o},a,{iv:l,mode:r}).toString(i.default.enc.Utf8);return JSON.parse(s)}catch(e){return null}}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(s.prototype,a),s);function s(e){var t=e.config;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r(this,"_config",void 0),r(this,"_iv",void 0),r(this,"_allowedKeyEncodings",void 0),r(this,"_allowedKeyLengths",void 0),r(this,"_allowedModes",void 0),r(this,"_defaultOptions",void 0),this._config=t,this._iv="0123456789012345",this._allowedKeyEncodings=["hex","utf8","base64","binary"],this._allowedKeyLengths=[128,256],this._allowedModes=["ecb","cbc"],this._defaultOptions={encryptKey:!0,keyEncoding:"utf8",keyLength:256,mode:"cbc"}}t.default=o,e.exports=t.default},function(e,t,n){"use strict";var i,l,r,a,o,s,u,c,h,d,f=f||function(e){function t(){}var n={},i=n.lib={},l=i.Base={extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),(n.init.prototype=n).$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},r=i.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||o).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var l=0;l<e;l++)t[i+l>>>2]|=(n[l>>>2]>>>24-l%4*8&255)<<24-(i+l)%4*8;else if(65535<n.length)for(l=0;l<e;l+=4)t[i+l>>>2]=n[l>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new r.init(n,t)}}),a=n.enc={},o=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var l=t[i>>>2]>>>24-i%4*8&255;n.push((l>>>4).toString(16)),n.push((15&l).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new r.init(n,t/2)}},s=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new r.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(s.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return s.parse(unescape(encodeURIComponent(e)))}},c=i.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,l=n.sigBytes,a=this.blockSize,o=l/(4*a);if(t=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*a,l=e.min(4*t,l),t){for(var s=0;s<t;s+=a)this._doProcessBlock(i,s);s=i.splice(0,t),n.sigBytes-=l}return new r.init(s,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=c.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}});var h=n.algo={};return n}(Math);!function(e){for(var t=f,n=(l=t.lib).WordArray,i=l.Hasher,l=t.algo,r=[],a=[],o=function(e){return 4294967296*(e-(0|e))|0},s=2,u=0;u<64;){var c;e:{for(var h=e.sqrt(c=s),d=2;d<=h;d++)if(!(c%d)){c=!1;break e}c=!0}c&&(u<8&&(r[u]=o(e.pow(s,.5))),a[u]=o(e.pow(s,1/3)),u++),s++}var p=[];l=l.SHA256=i.extend({_doReset:function(){this._hash=new n.init(r.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],l=n[1],r=n[2],o=n[3],s=n[4],u=n[5],c=n[6],h=n[7],d=0;d<64;d++){if(d<16)p[d]=0|e[t+d];else{var f=p[d-15],v=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+p[d-16]}f=h+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&c)+a[d]+p[d],v=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&l^i&r^l&r),h=c,c=u,u=s,s=o+f|0,o=r,r=l,l=i,i=f+v|0}n[0]=n[0]+i|0,n[1]=n[1]+l|0,n[2]=n[2]+r|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,l=8*t.sigBytes;return n[l>>>5]|=128<<24-l%32,n[14+(64+l>>>9<<4)]=e.floor(i/4294967296),n[15+(64+l>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=i._createHelper(l),t.HmacSHA256=i._createHmacHelper(l)}(Math),l=(i=f).enc.Utf8,i.algo.HMAC=i.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=l.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var r=this._oKey=t.clone(),a=this._iKey=t.clone(),o=r.words,s=a.words,u=0;u<n;u++)o[u]^=1549556828,s[u]^=909522486;r.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),a=(r=f).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var l=0;l<n;l+=3)for(var r=(t[l>>>2]>>>24-l%4*8&255)<<16|(t[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|t[l+2>>>2]>>>24-(l+2)%4*8&255,a=0;a<4&&l+.75*a<n;a++)e.push(i.charAt(r>>>6*(3-a)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,n=this._map;!(i=n.charAt(64))||-1!=(i=e.indexOf(i))&&(t=i);for(var i=[],l=0,r=0;r<t;r++)if(r%4){var o=n.indexOf(e.charAt(r-1))<<r%4*2,s=n.indexOf(e.charAt(r))>>>6-r%4*2;i[l>>>2]|=(o|s)<<24-l%4*8,l++}return a.create(i,l)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,i,l,r,a){return((e=e+(t&n|~t&i)+l+a)<<r|e>>>32-r)+t}function n(e,t,n,i,l,r,a){return((e=e+(t&i|n&~i)+l+a)<<r|e>>>32-r)+t}function i(e,t,n,i,l,r,a){return((e=e+(t^n^i)+l+a)<<r|e>>>32-r)+t}function l(e,t,n,i,l,r,a){return((e=e+(n^(t|~i))+l+a)<<r|e>>>32-r)+t}for(var r=f,a=(s=r.lib).WordArray,o=s.Hasher,s=r.algo,u=[],c=0;c<64;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;s=s.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var a=0;a<16;a++){var o=e[h=r+a];e[h]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var s,c,h=e[r+0],d=(o=e[r+1],e[r+2]),f=e[r+3],p=e[r+4],v=e[r+5],g=e[r+6],m=e[r+7],y=e[r+8],b=e[r+9],k=e[r+10],_=e[r+11],w=e[r+12],x=e[r+13],C=e[r+14],S=e[r+15],T=(a=this._hash.words)[0],P=l(P=l(P=l(P=l(P=i(P=i(P=i(P=i(P=n(P=n(P=n(P=n(P=t(P=t(P=t(P=t(P=a[1],c=t(c=a[2],s=t(s=a[3],T=t(T,P,c,s,h,7,u[0]),P,c,o,12,u[1]),T,P,d,17,u[2]),s,T,f,22,u[3]),c=t(c,s=t(s,T=t(T,P,c,s,p,7,u[4]),P,c,v,12,u[5]),T,P,g,17,u[6]),s,T,m,22,u[7]),c=t(c,s=t(s,T=t(T,P,c,s,y,7,u[8]),P,c,b,12,u[9]),T,P,k,17,u[10]),s,T,_,22,u[11]),c=t(c,s=t(s,T=t(T,P,c,s,w,7,u[12]),P,c,x,12,u[13]),T,P,C,17,u[14]),s,T,S,22,u[15]),c=n(c,s=n(s,T=n(T,P,c,s,o,5,u[16]),P,c,g,9,u[17]),T,P,_,14,u[18]),s,T,h,20,u[19]),c=n(c,s=n(s,T=n(T,P,c,s,v,5,u[20]),P,c,k,9,u[21]),T,P,S,14,u[22]),s,T,p,20,u[23]),c=n(c,s=n(s,T=n(T,P,c,s,b,5,u[24]),P,c,C,9,u[25]),T,P,f,14,u[26]),s,T,y,20,u[27]),c=n(c,s=n(s,T=n(T,P,c,s,x,5,u[28]),P,c,d,9,u[29]),T,P,m,14,u[30]),s,T,w,20,u[31]),c=i(c,s=i(s,T=i(T,P,c,s,v,4,u[32]),P,c,y,11,u[33]),T,P,_,16,u[34]),s,T,C,23,u[35]),c=i(c,s=i(s,T=i(T,P,c,s,o,4,u[36]),P,c,p,11,u[37]),T,P,m,16,u[38]),s,T,k,23,u[39]),c=i(c,s=i(s,T=i(T,P,c,s,x,4,u[40]),P,c,h,11,u[41]),T,P,f,16,u[42]),s,T,g,23,u[43]),c=i(c,s=i(s,T=i(T,P,c,s,b,4,u[44]),P,c,w,11,u[45]),T,P,S,16,u[46]),s,T,d,23,u[47]),c=l(c,s=l(s,T=l(T,P,c,s,h,6,u[48]),P,c,m,10,u[49]),T,P,C,15,u[50]),s,T,v,21,u[51]),c=l(c,s=l(s,T=l(T,P,c,s,w,6,u[52]),P,c,f,10,u[53]),T,P,k,15,u[54]),s,T,o,21,u[55]),c=l(c,s=l(s,T=l(T,P,c,s,y,6,u[56]),P,c,S,10,u[57]),T,P,g,15,u[58]),s,T,x,21,u[59]),c=l(c,s=l(s,T=l(T,P,c,s,p,6,u[60]),P,c,_,10,u[61]),T,P,d,15,u[62]),s,T,b,21,u[63]);a[0]=a[0]+T|0,a[1]=a[1]+P|0,a[2]=a[2]+c|0,a[3]=a[3]+s|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,l=8*t.sigBytes;n[l>>>5]|=128<<24-l%32;var r=e.floor(i/4294967296);for(n[15+(l+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(l+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;i<4;i++)n[i]=16711935&((l=n[i])<<8|l>>>24)|4278255360&(l<<24|l>>>8);return t},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=o._createHelper(s),r.HmacMD5=o._createHmacHelper(s)}(Math),u=(o=(s=f).lib).Base,c=o.WordArray,h=(o=s.algo).EvpKDF=u.extend({cfg:u.extend({keySize:4,hasher:o.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(a=this.cfg).hasher.create(),i=c.create(),l=i.words,r=a.keySize,a=a.iterations;l.length<r;){o&&n.update(o);var o=n.update(e).finalize(t);n.reset();for(var s=1;s<a;s++)o=n.finalize(o),n.reset();i.concat(o)}return i.sigBytes=4*r,i}}),s.EvpKDF=function(e,t,n){return h.create(n).compute(e,t)},f.lib.Cipher||function(){var e=(d=f).lib,t=e.Base,n=e.WordArray,i=e.BufferedBlockAlgorithm,l=d.enc.Base64,r=d.algo.EvpKDF,a=e.Cipher=i.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?p:h).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?p:h).decrypt(e,t,n,i)}}}});function o(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var l=0;l<n;l++)e[t+l]^=i[l]}e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=d.mode={},u=(e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;o.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,l=e.slice(t,t+i);n.decryptBlock(e,t),o.call(this,e,t,i),this._prevBlock=l}}),s=s.CBC=u,u=(d.pad={}).Pkcs7={pad:function(e,t){for(var i,l=(i=(i=4*t)-e.sigBytes%i)<<24|i<<16|i<<8|i,r=[],a=0;a<i;a+=4)r.push(l);i=n.create(r,i),e.concat(i)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:s,padding:u}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var c=e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(s=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(l)},parse:function(e){var t=(e=l.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var i=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return c.create({ciphertext:e,salt:i})}},e.SerializableCipher=t.extend({cfg:t.extend({format:s}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var l=e.createEncryptor(n,i);return t=l.finalize(t),c.create({ciphertext:t,key:n,iv:(l=l.cfg).iv,algorithm:e,mode:l.mode,padding:l.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),d=(d.kdf={}).OpenSSL={execute:function(e,t,i,l){return l=l||n.random(8),e=r.create({keySize:t+i}).compute(e,l),i=n.create(e.words.slice(t),4*i),e.sigBytes=4*t,c.create({key:e,iv:i,salt:l})}},p=e.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:d}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=h.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,h.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=f,t=e.lib.BlockCipher,n=e.algo,i=[],l=[],r=[],a=[],o=[],s=[],u=[],c=[],h=[],d=[],p=[],v=0;v<256;v++)p[v]=v<128?v<<1:v<<1^283;var g=0,m=0;for(v=0;v<256;v++){var y=(y=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&y^99;i[g]=y;var b=p[l[y]=g],k=p[b],_=p[k],w=257*p[y]^16843008*y;r[g]=w<<24|w>>>8,a[g]=w<<16|w>>>16,o[g]=w<<8|w>>>24,s[g]=w,u[y]=(w=16843009*_^65537*k^257*b^16843008*g)<<24|w>>>8,c[y]=w<<16|w>>>16,h[y]=w<<8|w>>>24,d[y]=w,g?(g=b^p[p[p[_^b]]],m^=p[p[m]]):g=m=1}var x=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),l=this._keySchedule=[],r=0;r<n;r++)if(r<t)l[r]=e[r];else{var a=l[r-1];r%t?6<t&&4==r%t&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=x[r/t|0]<<24),l[r]=l[r-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)r=n-t,a=t%4?l[r]:l[r-4],e[t]=t<4||r<=4?a:u[i[a>>>24]]^c[i[a>>>16&255]]^h[i[a>>>8&255]]^d[i[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,a,o,s,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,c,h,d,l),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,l,r,a,o){for(var s=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<s;p++){var v=i[u>>>24]^l[c>>>16&255]^r[h>>>8&255]^a[255&d]^n[f++],g=i[c>>>24]^l[h>>>16&255]^r[d>>>8&255]^a[255&u]^n[f++],m=i[h>>>24]^l[d>>>16&255]^r[u>>>8&255]^a[255&c]^n[f++];d=i[d>>>24]^l[u>>>16&255]^r[c>>>8&255]^a[255&h]^n[f++],u=v,c=g,h=m}v=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&d])^n[f++],g=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[d>>>8&255]<<8|o[255&u])^n[f++],m=(o[h>>>24]<<24|o[d>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^n[f++],d=(o[d>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^n[f++],e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=d},keySize:8}),e.AES=t._createHelper(n)}(),f.mode.ECB=((d=f.lib.BlockCipherMode.extend()).Encryptor=d.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),d.Decryptor=d.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),d),e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(0);var i,l,r=(i=n(4))&&i.__esModule?i:{default:i},a=((l=[{key:"addListener",value:function(e){this._listeners.push(e)}},{key:"removeListener",value:function(e){var t=[];this._listeners.forEach((function(n){n!==e&&t.push(n)})),this._listeners=t}},{key:"removeAllListeners",value:function(){this._listeners=[]}},{key:"announcePresence",value:function(e){this._listeners.forEach((function(t){t.presence&&t.presence(e)}))}},{key:"announceStatus",value:function(e){this._listeners.forEach((function(t){t.status&&t.status(e)}))}},{key:"announceMessage",value:function(e){this._listeners.forEach((function(t){t.message&&t.message(e)}))}},{key:"announceSignal",value:function(e){this._listeners.forEach((function(t){t.signal&&t.signal(e)}))}},{key:"announceMessageAction",value:function(e){this._listeners.forEach((function(t){t.messageAction&&t.messageAction(e)}))}},{key:"announceUser",value:function(e){this._listeners.forEach((function(t){t.user&&t.user(e)}))}},{key:"announceSpace",value:function(e){this._listeners.forEach((function(t){t.space&&t.space(e)}))}},{key:"announceMembership",value:function(e){this._listeners.forEach((function(t){t.membership&&t.membership(e)}))}},{key:"announceNetworkUp",value:function(){var e={};e.category=r.default.PNNetworkUpCategory,this.announceStatus(e)}},{key:"announceNetworkDown",value:function(){var e={};e.category=r.default.PNNetworkDownCategory,this.announceStatus(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(o.prototype,l),o);function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"_listeners",void 0),this._listeners=[]}t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNTimeOperation},t.getURL=function(){return"/time/0"},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.isAuthSupported=function(){return!1},t.handleResponse=function(e,t){return{timetoken:t[0]}},t.validateParams=function(){},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n(12)),l=c(n(13)),r=c(n(68)),a=c(n(7)),o=c(n(69)),s=c(n(70)),u=n(71);function c(e){return e&&e.__esModule?e:{default:e}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){if(!navigator||!navigator.sendBeacon)return!1;navigator.sendBeacon(e)}function v(e){for(var t=a.default.enc.Base64.parse(e).words,n=new ArrayBuffer(4*t.length),i=new Uint8Array(n),l=0;l<t.length;l+=1){var r=t[l],o=4*l;i[o]=(4278190080&r)>>24,i[1+o]=(16711680&r)>>16,i[2+o]=(65280&r)>>8,i[3+o]=255&r}return i.buffer}n(0);var g=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(m,l.default),m);function m(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m);var n=e.listenToBrowserNetworkEvents,l=void 0===n||n;return e.db=o.default,e.sdkFamily="Web",e.networking=new r.default({del:u.del,get:u.get,post:u.post,patch:u.patch,sendBeacon:p}),e.cbor=new s.default((function(e){return function e(t){function n(e){return e&&"object"===f(e)&&e.constructor===Object}if(!n(t))return t;var i={};return Object.keys(t).forEach((function(l){var r=function(e){return"string"==typeof e||e instanceof String}(l),a=l,o=t[l];Array.isArray(l)||r&&0<=l.indexOf(",")?a=(r?l.split(","):l).reduce((function(e,t){return e+String.fromCharCode(t)}),""):(function(e){return"number"==typeof e&&isFinite(e)}(l)||r&&!isNaN(l))&&(a=String.fromCharCode(r?parseInt(l,10):10)),i[a]=n(o)?e(o):o})),i}(i.default.decode(e))}),v),t=function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,h(m).call(this,e)),l&&(window.addEventListener("offline",(function(){t.networkDownDetected()})),window.addEventListener("online",(function(){t.networkUpDetected()}))),t}t.default=g,e.exports=t.default},function(e,t,n){var i,l;!function(r,a){"use strict";var o=Math.pow(2,-24),s=Math.pow(2,32),u=Math.pow(2,53);(l="function"==typeof(i={encode:function(e){var t,n=new ArrayBuffer(256),i=new DataView(n),l=0;function r(e){for(var r=n.byteLength,a=l+e;r<a;)r*=2;if(r!==n.byteLength){var o=i;n=new ArrayBuffer(r),i=new DataView(n);for(var s=l+3>>2,u=0;u<s;++u)i.setUint32(4*u,o.getUint32(4*u))}return t=e,i}function o(){l+=t}function c(e){o(r(1).setUint8(l,e))}function h(e){for(var t=r(e.length),n=0;n<e.length;++n)t.setUint8(l+n,e[n]);o()}function d(e,t){t<24?c(e<<5|t):t<256?(c(e<<5|24),c(t)):t<65536?(c(e<<5|25),function(e){o(r(2).setUint16(l,e))}(t)):t<4294967296?(c(e<<5|26),function(e){o(r(4).setUint32(l,e))}(t)):(c(e<<5|27),function(e){var t=e%s,n=(e-t)/s,i=r(8);i.setUint32(l,n),i.setUint32(l+4,t),o()}(t))}if(function e(t){var n;if(!1===t)return c(244);if(!0===t)return c(245);if(null===t)return c(246);if(t===a)return c(247);switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=u)return d(0,t);if(-u<=t&&t<0)return d(1,-(t+1))}return c(251),function(e){o(r(8).setFloat64(l,e))}(t);case"string":var i=[];for(n=0;n<t.length;++n){var s=t.charCodeAt(n);s<128?i.push(s):(s<2048?i.push(192|s>>6):(s<55296?i.push(224|s>>12):(s=(1023&s)<<10,s|=1023&t.charCodeAt(++n),i.push(240|(s+=65536)>>18),i.push(128|s>>12&63)),i.push(128|s>>6&63)),i.push(128|63&s))}return d(3,i.length),h(i);default:var f;if(Array.isArray(t))for(d(4,f=t.length),n=0;n<f;++n)e(t[n]);else if(t instanceof Uint8Array)d(2,t.length),h(t);else{var p=Object.keys(t);for(d(5,f=p.length),n=0;n<f;++n){var v=p[n];e(v),e(t[v])}}}}(e),"slice"in n)return n.slice(0,l);for(var f=new ArrayBuffer(l),p=new DataView(f),v=0;v<l;++v)p.setUint8(v,i.getUint8(v));return f},decode:function(e,t,n){var i=new DataView(e),l=0;function r(e,t){return l+=t,e}function u(t){return r(new Uint8Array(e,l,t),t)}function c(){return r(i.getUint8(l),1)}function h(){return r(i.getUint16(l),2)}function d(){return r(i.getUint32(l),4)}function f(){return 255===i.getUint8(l)&&(l+=1,!0)}function p(e){if(e<24)return e;if(24===e)return c();if(25===e)return h();if(26===e)return d();if(27===e)return d()*s+d();if(31===e)return-1;throw"Invalid length encoding"}function v(e){var t=c();if(255===t)return-1;var n=p(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function g(e,t){for(var n=0;n<t;++n){var i=c();128&i&&(i<224?(i=(31&i)<<6|63&c(),t-=1):i<240?(i=(15&i)<<12|(63&c())<<6|63&c(),t-=2):(i=(15&i)<<18|(63&c())<<12|(63&c())<<6|63&c(),t-=3)),i<65536?e.push(i):(e.push(55296|(i-=65536)>>10),e.push(56320|1023&i))}}"function"!=typeof t&&(t=function(e){return e}),"function"!=typeof n&&(n=function(){return a});var m=function e(){var s,d,m=c(),y=m>>5,b=31&m;if(7==y)switch(b){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=h(),i=31744&n,l=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!=l)return l*o;return t.setUint32(0,(32768&n)<<16|i<<13|l<<13),t.getFloat32(0)}();case 26:return r(i.getFloat32(l),4);case 27:return r(i.getFloat64(l),8)}if((d=p(b))<0&&(y<2||6<y))throw"Invalid length";switch(y){case 0:return d;case 1:return-1-d;case 2:if(d<0){for(var k=[],_=0;0<=(d=v(y));)_+=d,k.push(u(d));var w=new Uint8Array(_),x=0;for(s=0;s<k.length;++s)w.set(k[s],x),x+=k[s].length;return w}return u(d);case 3:var C=[];if(d<0)for(;0<=(d=v(y));)g(C,d);else g(C,d);return String.fromCharCode.apply(null,C);case 4:var S;if(d<0)for(S=[];!f();)S.push(e());else for(S=new Array(d),s=0;s<d;++s)S[s]=e();return S;case 5:var T={};for(s=0;s<d||d<0&&!f();++s)T[e()]=e();return T;case 6:return t(e(),d);case 7:switch(d){case 20:return!1;case 21:return!0;case 22:return null;case 23:return a;default:return n(d)}}}();if(l!==e.byteLength)throw"Remaining bytes";return m}})?i.call(t,n,t,e):i)===a||(e.exports=l)}()},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=ce(n(3)),r=ce(n(6)),a=ce(n(15)),o=ce(n(18)),s=ce(n(19)),u=ce(n(8)),c=ce(n(20)),h=ce(n(21)),d=ue(n(22)),f=ue(n(23)),p=ue(n(24)),v=ue(n(25)),g=ue(n(26)),m=ue(n(27)),y=ue(n(28)),b=ue(n(29)),k=ue(n(30)),_=ue(n(31)),w=ue(n(32)),x=ue(n(33)),C=ue(n(34)),S=ue(n(35)),T=ue(n(36)),P=ue(n(37)),M=ue(n(38)),A=ue(n(39)),I=ue(n(40)),E=ue(n(41)),D=ue(n(42)),O=ue(n(43)),F=ue(n(44)),R=ue(n(45)),N=ue(n(46)),L=ue(n(47)),B=ue(n(48)),V=ue(n(49)),z=ue(n(50)),j=ue(n(51)),H=ue(n(52)),W=ue(n(53)),U=ue(n(54)),Y=ue(n(55)),q=ue(n(56)),G=ue(n(57)),X=ue(n(58)),K=ue(n(59)),$=ue(n(60)),Z=ue(n(61)),Q=ue(n(62)),J=ue(n(63)),ee=ue(n(64)),te=ue(n(65)),ne=ue(n(66)),ie=ue(n(9)),le=ue(n(67)),re=ce(n(1)),ae=ce(n(4)),oe=(n(0),ce(n(5)));function se(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return se=function(){return e},e}function ue(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=se();if(t&&t.has(e))return t.get(e);var n={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=l?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r]}return n.default=e,t&&t.set(e,n),n}function ce(e){return e&&e.__esModule?e:{default:e}}function he(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe,pe,ve,ge=(fe=me,ve=[{key:"notificationPayload",value:function(e,t){return new s.default(e,t)}},{key:"generateUUID",value:function(){return oe.default.createUUID()}}],(pe=[{key:"getVersion",value:function(){return this._config.getVersion()}},{key:"_addPnsdkSuffix",value:function(e,t){this._config._addPnsdkSuffix(e,t)}},{key:"networkDownDetected",value:function(){this._listenerManager.announceNetworkDown(),this._config.restore?this.disconnect():this.destroy(!0)}},{key:"networkUpDetected",value:function(){this._listenerManager.announceNetworkUp(),this.reconnect()}}])&&he(fe.prototype,pe),ve&&he(fe,ve),me);function me(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,me),de(this,"_config",void 0),de(this,"_telemetryManager",void 0),de(this,"_listenerManager",void 0),de(this,"_tokenManager",void 0),de(this,"time",void 0),de(this,"publish",void 0),de(this,"fire",void 0),de(this,"history",void 0),de(this,"deleteMessages",void 0),de(this,"messageCounts",void 0),de(this,"fetchMessages",void 0),de(this,"channelGroups",void 0),de(this,"push",void 0),de(this,"hereNow",void 0),de(this,"whereNow",void 0),de(this,"getState",void 0),de(this,"setState",void 0),de(this,"grant",void 0),de(this,"grantToken",void 0),de(this,"audit",void 0),de(this,"subscribe",void 0),de(this,"signal",void 0),de(this,"presence",void 0),de(this,"unsubscribe",void 0),de(this,"unsubscribeAll",void 0),de(this,"addMessageAction",void 0),de(this,"removeMessageAction",void 0),de(this,"getMessageActions",void 0),de(this,"createUser",void 0),de(this,"updateUser",void 0),de(this,"deleteUser",void 0),de(this,"getUser",void 0),de(this,"getUsers",void 0),de(this,"createSpace",void 0),de(this,"updateSpace",void 0),de(this,"deleteSpace",void 0),de(this,"getSpaces",void 0),de(this,"getSpace",void 0),de(this,"getMembers",void 0),de(this,"addMembers",void 0),de(this,"updateMembers",void 0),de(this,"removeMembers",void 0),de(this,"getMemberships",void 0),de(this,"joinSpaces",void 0),de(this,"updateMemberships",void 0),de(this,"leaveSpaces",void 0),de(this,"disconnect",void 0),de(this,"reconnect",void 0),de(this,"destroy",void 0),de(this,"stop",void 0),de(this,"getSubscribedChannels",void 0),de(this,"getSubscribedChannelGroups",void 0),de(this,"addListener",void 0),de(this,"removeListener",void 0),de(this,"removeAllListeners",void 0),de(this,"parseToken",void 0),de(this,"setToken",void 0),de(this,"setTokens",void 0),de(this,"getToken",void 0),de(this,"getTokens",void 0),de(this,"clearTokens",void 0),de(this,"getAuthKey",void 0),de(this,"setAuthKey",void 0),de(this,"setCipherKey",void 0),de(this,"setUUID",void 0),de(this,"getUUID",void 0),de(this,"getFilterExpression",void 0),de(this,"setFilterExpression",void 0),de(this,"setHeartbeatInterval",void 0),de(this,"setProxy",void 0),de(this,"encrypt",void 0),de(this,"decrypt",void 0);var n=e.networking,i=e.cbor,s=this._config=new l.default({setup:e,db:e.db}),re=new r.default({config:s});n.init(s);var ae=this._tokenManager=new c.default(s,i),oe={config:s,networking:n,crypto:re,tokenManager:ae,telemetryManager:this._telemetryManager=new o.default({maximumSamplesCount:6e4})},se=h.default.bind(this,oe,ie),ue=h.default.bind(this,oe,_),ce=h.default.bind(this,oe,x),he=h.default.bind(this,oe,S),fe=h.default.bind(this,oe,le),pe=this._listenerManager=new u.default,ve=new a.default({timeEndpoint:se,leaveEndpoint:ue,heartbeatEndpoint:ce,setStateEndpoint:he,subscribeEndpoint:fe,crypto:oe.crypto,config:oe.config,listenerManager:pe});this.addListener=pe.addListener.bind(pe),this.removeListener=pe.removeListener.bind(pe),this.removeAllListeners=pe.removeAllListeners.bind(pe),this.parseToken=ae.parseToken.bind(ae),this.setToken=ae.setToken.bind(ae),this.setTokens=ae.setTokens.bind(ae),this.getToken=ae.getToken.bind(ae),this.getTokens=ae.getTokens.bind(ae),this.clearTokens=ae.clearTokens.bind(ae),this.channelGroups={listGroups:h.default.bind(this,oe,v),listChannels:h.default.bind(this,oe,g),addChannels:h.default.bind(this,oe,d),removeChannels:h.default.bind(this,oe,f),deleteGroup:h.default.bind(this,oe,p)},this.push={addChannels:h.default.bind(this,oe,m),removeChannels:h.default.bind(this,oe,y),deleteDevice:h.default.bind(this,oe,k),listChannels:h.default.bind(this,oe,b)},this.hereNow=h.default.bind(this,oe,T),this.whereNow=h.default.bind(this,oe,w),this.getState=h.default.bind(this,oe,C),this.setState=ve.adaptStateChange.bind(ve),this.grant=h.default.bind(this,oe,K),this.grantToken=h.default.bind(this,oe,$),this.audit=h.default.bind(this,oe,X),this.publish=h.default.bind(this,oe,Z),this.fire=function(e,n){return e.replicate=!1,e.storeInHistory=!1,t.publish(e,n)},this.signal=h.default.bind(this,oe,Q),this.history=h.default.bind(this,oe,J),this.deleteMessages=h.default.bind(this,oe,ee),this.messageCounts=h.default.bind(this,oe,te),this.fetchMessages=h.default.bind(this,oe,ne),this.addMessageAction=h.default.bind(this,oe,P),this.removeMessageAction=h.default.bind(this,oe,M),this.getMessageActions=h.default.bind(this,oe,A),this.createUser=h.default.bind(this,oe,I),this.updateUser=h.default.bind(this,oe,E),this.deleteUser=h.default.bind(this,oe,D),this.getUser=h.default.bind(this,oe,O),this.getUsers=h.default.bind(this,oe,F),this.createSpace=h.default.bind(this,oe,R),this.updateSpace=h.default.bind(this,oe,N),this.deleteSpace=h.default.bind(this,oe,L),this.getSpaces=h.default.bind(this,oe,B),this.getSpace=h.default.bind(this,oe,V),this.addMembers=h.default.bind(this,oe,j),this.updateMembers=h.default.bind(this,oe,H),this.removeMembers=h.default.bind(this,oe,W),this.getMembers=h.default.bind(this,oe,z),this.getMemberships=h.default.bind(this,oe,U),this.joinSpaces=h.default.bind(this,oe,q),this.updateMemberships=h.default.bind(this,oe,Y),this.leaveSpaces=h.default.bind(this,oe,G),this.time=se,this.subscribe=ve.adaptSubscribeChange.bind(ve),this.presence=ve.adaptPresenceChange.bind(ve),this.unsubscribe=ve.adaptUnsubscribeChange.bind(ve),this.disconnect=ve.disconnect.bind(ve),this.reconnect=ve.reconnect.bind(ve),this.destroy=function(e){ve.unsubscribeAll(e),ve.disconnect()},this.stop=this.destroy,this.unsubscribeAll=ve.unsubscribeAll.bind(ve),this.getSubscribedChannels=ve.getSubscribedChannels.bind(ve),this.getSubscribedChannelGroups=ve.getSubscribedChannelGroups.bind(ve),this.encrypt=re.encrypt.bind(re),this.decrypt=re.decrypt.bind(re),this.getAuthKey=oe.config.getAuthKey.bind(oe.config),this.setAuthKey=oe.config.setAuthKey.bind(oe.config),this.setCipherKey=oe.config.setCipherKey.bind(oe.config),this.getUUID=oe.config.getUUID.bind(oe.config),this.setUUID=oe.config.setUUID.bind(oe.config),this.getFilterExpression=oe.config.getFilterExpression.bind(oe.config),this.setFilterExpression=oe.config.setFilterExpression.bind(oe.config),this.setHeartbeatInterval=oe.config.setHeartbeatInterval.bind(oe.config),n.hasModule("proxy")&&(this.setProxy=function(e){oe.config.setProxy(e),t.reconnect()})}de(t.default=ge,"OPERATIONS",re.default),de(ge,"CATEGORIES",ae.default),e.exports=t.default},function(e,t,n){var i,l;void 0===(l="function"==typeof(i=function(e){var t={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};function n(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}function i(e,n){var i=t[n||"all"];return i&&i.test(e)||!1}n.isUUID=i,n.VERSION="0.1.0",e.uuid=n,e.isUUID=i})?i.apply(t,[t]):i)||(e.exports=l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,o(n(6)),o(n(3)),o(n(8));var i=o(n(16)),l=o(n(17)),r=o(n(2)),a=(n(0),o(n(4)));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,c=((u=[{key:"adaptStateChange",value:function(e,t){var n=this,i=e.state,l=e.channels,r=void 0===l?[]:l,a=e.channelGroups,o=void 0===a?[]:a;return r.forEach((function(e){e in n._channels&&(n._channels[e].state=i)})),o.forEach((function(e){e in n._channelGroups&&(n._channelGroups[e].state=i)})),this._setStateEndpoint({state:i,channels:r,channelGroups:o},t)}},{key:"adaptPresenceChange",value:function(e){var t=this,n=e.channels,i=void 0===n?[]:n,l=e.channelGroups,r=void 0===l?[]:l;e.connected?(i.forEach((function(e){t._heartbeatChannels[e]={state:{}}})),r.forEach((function(e){t._heartbeatChannelGroups[e]={state:{}}}))):(i.forEach((function(e){e in t._heartbeatChannels&&delete t._heartbeatChannels[e]})),r.forEach((function(e){e in t._heartbeatChannelGroups&&delete t._heartbeatChannelGroups[e]})),!1===this._config.suppressLeaveEvents&&this._leaveEndpoint({channels:i,channelGroups:r},(function(e){t._listenerManager.announceStatus(e)}))),this.reconnect()}},{key:"adaptSubscribeChange",value:function(e){var t=this,n=e.timetoken,i=e.channels,l=void 0===i?[]:i,r=e.channelGroups,a=void 0===r?[]:r,o=e.withPresence,s=void 0!==o&&o,u=e.withHeartbeats,c=void 0!==u&&u;this._config.subscribeKey&&""!==this._config.subscribeKey?(n&&(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=n),"0"!==this._currentTimetoken&&0!==this._currentTimetoken&&(this._storedTimetoken=this._currentTimetoken,this._currentTimetoken=0),l.forEach((function(e){t._channels[e]={state:{}},s&&(t._presenceChannels[e]={}),(c||t._config.getHeartbeatInterval())&&(t._heartbeatChannels[e]={}),t._pendingChannelSubscriptions.push(e)})),a.forEach((function(e){t._channelGroups[e]={state:{}},s&&(t._presenceChannelGroups[e]={}),(c||t._config.getHeartbeatInterval())&&(t._heartbeatChannelGroups[e]={}),t._pendingChannelGroupSubscriptions.push(e)})),this._subscriptionStatusAnnounced=!1,this.reconnect()):console&&console.log&&console.log("subscribe key missing; aborting subscribe")}},{key:"adaptUnsubscribeChange",value:function(e,t){var n=this,i=e.channels,l=e.channelGroups,r=void 0===l?[]:l,a=[],o=[];(void 0===i?[]:i).forEach((function(e){e in n._channels&&(delete n._channels[e],a.push(e),e in n._heartbeatChannels&&delete n._heartbeatChannels[e]),e in n._presenceChannels&&(delete n._presenceChannels[e],a.push(e))})),r.forEach((function(e){e in n._channelGroups&&(delete n._channelGroups[e],o.push(e),e in n._heartbeatChannelGroups&&delete n._heartbeatChannelGroups[e]),e in n._presenceChannelGroups&&(delete n._channelGroups[e],o.push(e))})),0===a.length&&0===o.length||(!1!==this._config.suppressLeaveEvents||t||this._leaveEndpoint({channels:a,channelGroups:o},(function(e){e.affectedChannels=a,e.affectedChannelGroups=o,e.currentTimetoken=n._currentTimetoken,e.lastTimetoken=n._lastTimetoken,n._listenerManager.announceStatus(e)})),0===Object.keys(this._channels).length&&0===Object.keys(this._presenceChannels).length&&0===Object.keys(this._channelGroups).length&&0===Object.keys(this._presenceChannelGroups).length&&(this._lastTimetoken=0,this._currentTimetoken=0,this._storedTimetoken=null,this._region=null,this._reconnectionManager.stopPolling()),this.reconnect())}},{key:"unsubscribeAll",value:function(e){this.adaptUnsubscribeChange({channels:this.getSubscribedChannels(),channelGroups:this.getSubscribedChannelGroups()},e)}},{key:"getHeartbeatChannels",value:function(){return Object.keys(this._heartbeatChannels)}},{key:"getHeartbeatChannelGroups",value:function(){return Object.keys(this._heartbeatChannelGroups)}},{key:"getSubscribedChannels",value:function(){return Object.keys(this._channels)}},{key:"getSubscribedChannelGroups",value:function(){return Object.keys(this._channelGroups)}},{key:"reconnect",value:function(){this._startSubscribeLoop(),this._registerHeartbeatTimer()}},{key:"disconnect",value:function(){this._stopSubscribeLoop(),this._stopHeartbeatTimer(),this._reconnectionManager.stopPolling()}},{key:"_registerHeartbeatTimer",value:function(){this._stopHeartbeatTimer(),0!==this._config.getHeartbeatInterval()&&(this._performHeartbeatLoop(),this._heartbeatTimer=setInterval(this._performHeartbeatLoop.bind(this),1e3*this._config.getHeartbeatInterval()))}},{key:"_stopHeartbeatTimer",value:function(){this._heartbeatTimer&&(clearInterval(this._heartbeatTimer),this._heartbeatTimer=null)}},{key:"_performHeartbeatLoop",value:function(){var e=this,t=this.getHeartbeatChannels(),n=this.getHeartbeatChannelGroups(),i={};0===t.length&&0===n.length||(this.getSubscribedChannels().forEach((function(t){var n=e._channels[t].state;Object.keys(n).length&&(i[t]=n)})),this.getSubscribedChannelGroups().forEach((function(t){var n=e._channelGroups[t].state;Object.keys(n).length&&(i[t]=n)})),this._heartbeatEndpoint({channels:t,channelGroups:n,state:i},(function(t){t.error&&e._config.announceFailedHeartbeats&&e._listenerManager.announceStatus(t),t.error&&e._config.autoNetworkDetection&&e._isOnline&&(e._isOnline=!1,e.disconnect(),e._listenerManager.announceNetworkDown(),e.reconnect()),!t.error&&e._config.announceSuccessfulHeartbeats&&e._listenerManager.announceStatus(t)}).bind(this)))}},{key:"_startSubscribeLoop",value:function(){var e=this;this._stopSubscribeLoop();var t={},n=[],i=[];Object.keys(this._channels).forEach((function(i){var l=e._channels[i].state;Object.keys(l).length&&(t[i]=l),n.push(i)})),Object.keys(this._presenceChannels).forEach((function(e){n.push("".concat(e,"-pnpres"))})),Object.keys(this._channelGroups).forEach((function(n){var l=e._channelGroups[n].state;Object.keys(l).length&&(t[n]=l),i.push(n)})),Object.keys(this._presenceChannelGroups).forEach((function(e){i.push("".concat(e,"-pnpres"))})),(0!==n.length||0!==i.length)&&(this._subscribeCall=this._subscribeEndpoint({channels:n,channelGroups:i,state:t,timetoken:this._currentTimetoken,filterExpression:this._config.filterExpression,region:this._region},this._processSubscribeResponse.bind(this)))}},{key:"_processSubscribeResponse",value:function(e,t){var n=this;if(e.error)e.category===a.default.PNTimeoutCategory?this._startSubscribeLoop():(e.category===a.default.PNNetworkIssuesCategory?(this.disconnect(),e.error&&this._config.autoNetworkDetection&&this._isOnline&&(this._isOnline=!1,this._listenerManager.announceNetworkDown()),this._reconnectionManager.onReconnection((function(){n._config.autoNetworkDetection&&!n._isOnline&&(n._isOnline=!0,n._listenerManager.announceNetworkUp()),n.reconnect(),n._subscriptionStatusAnnounced=!0,n._listenerManager.announceStatus({category:a.default.PNReconnectedCategory,operation:e.operation,lastTimetoken:n._lastTimetoken,currentTimetoken:n._currentTimetoken})})),this._reconnectionManager.startPolling()):e.category===a.default.PNBadRequestCategory&&this._stopHeartbeatTimer(),this._listenerManager.announceStatus(e));else{if(this._storedTimetoken?(this._currentTimetoken=this._storedTimetoken,this._storedTimetoken=null):(this._lastTimetoken=this._currentTimetoken,this._currentTimetoken=t.metadata.timetoken),!this._subscriptionStatusAnnounced){var i={};i.category=a.default.PNConnectedCategory,i.operation=e.operation,i.affectedChannels=this._pendingChannelSubscriptions,i.subscribedChannels=this.getSubscribedChannels(),i.affectedChannelGroups=this._pendingChannelGroupSubscriptions,i.lastTimetoken=this._lastTimetoken,i.currentTimetoken=this._currentTimetoken,this._subscriptionStatusAnnounced=!0,this._listenerManager.announceStatus(i),this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[]}var l=t.messages||[],o=this._config,s=o.requestMessageCountThreshold,u=o.dedupeOnSubscribe;if(s&&l.length>=s){var c={};c.category=a.default.PNRequestMessageCountExceededCategory,c.operation=e.operation,this._listenerManager.announceStatus(c)}l.forEach((function(e){var t=e.channel,i=e.subscriptionMatch,l=e.publishMetaData;if(t===i&&(i=null),u){if(n._dedupingManager.isDuplicate(e))return;n._dedupingManager.addEntry(e)}if(r.default.endsWith(e.channel,"-pnpres")){var a={channel:null,subscription:null};a.actualChannel=null!=i?t:null,a.subscribedChannel=null!=i?i:t,t&&(a.channel=t.substring(0,t.lastIndexOf("-pnpres"))),i&&(a.subscription=i.substring(0,i.lastIndexOf("-pnpres"))),a.action=e.payload.action,a.state=e.payload.data,a.timetoken=l.publishTimetoken,a.occupancy=e.payload.occupancy,a.uuid=e.payload.uuid,a.timestamp=e.payload.timestamp,e.payload.join&&(a.join=e.payload.join),e.payload.leave&&(a.leave=e.payload.leave),e.payload.timeout&&(a.timeout=e.payload.timeout),n._listenerManager.announcePresence(a)}else if(1===e.messageType){var o={channel:null,subscription:null};o.channel=t,o.subscription=i,o.timetoken=l.publishTimetoken,o.publisher=e.issuingClientId,e.userMetadata&&(o.userMetadata=e.userMetadata),o.message=e.payload,n._listenerManager.announceSignal(o)}else if(2===e.messageType){var s={channel:null,subscription:null};s.channel=t,s.subscription=i,s.timetoken=l.publishTimetoken,s.publisher=e.issuingClientId,e.userMetadata&&(s.userMetadata=e.userMetadata),s.message={event:e.payload.event,type:e.payload.type,data:e.payload.data},"user"===e.payload.type?n._listenerManager.announceUser(s):"space"===e.payload.type?n._listenerManager.announceSpace(s):"membership"===e.payload.type&&n._listenerManager.announceMembership(s)}else if(3===e.messageType){var c={};c.channel=t,c.subscription=i,c.timetoken=l.publishTimetoken,c.publisher=e.issuingClientId,c.data={messageTimetoken:e.payload.data.messageTimetoken,actionTimetoken:e.payload.data.actionTimetoken,type:e.payload.data.type,uuid:e.issuingClientId,value:e.payload.data.value},c.event=e.payload.event,n._listenerManager.announceMessageAction(c)}else{var h={channel:null,subscription:null};h.actualChannel=null!=i?t:null,h.subscribedChannel=null!=i?i:t,h.channel=t,h.subscription=i,h.timetoken=l.publishTimetoken,h.publisher=e.issuingClientId,e.userMetadata&&(h.userMetadata=e.userMetadata),h.message=n._config.cipherKey?n._crypto.decrypt(e.payload):e.payload,n._listenerManager.announceMessage(h)}})),this._region=t.metadata.region,this._startSubscribeLoop()}}},{key:"_stopSubscribeLoop",value:function(){this._subscribeCall&&("function"==typeof this._subscribeCall.abort&&this._subscribeCall.abort(),this._subscribeCall=null)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(h.prototype,u),h);function h(e){var t=e.subscribeEndpoint,n=e.leaveEndpoint,r=e.heartbeatEndpoint,a=e.setStateEndpoint,o=e.timeEndpoint,u=e.config,c=e.crypto,d=e.listenerManager;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),s(this,"_crypto",void 0),s(this,"_config",void 0),s(this,"_listenerManager",void 0),s(this,"_reconnectionManager",void 0),s(this,"_leaveEndpoint",void 0),s(this,"_heartbeatEndpoint",void 0),s(this,"_setStateEndpoint",void 0),s(this,"_subscribeEndpoint",void 0),s(this,"_channels",void 0),s(this,"_presenceChannels",void 0),s(this,"_heartbeatChannels",void 0),s(this,"_heartbeatChannelGroups",void 0),s(this,"_channelGroups",void 0),s(this,"_presenceChannelGroups",void 0),s(this,"_currentTimetoken",void 0),s(this,"_lastTimetoken",void 0),s(this,"_storedTimetoken",void 0),s(this,"_region",void 0),s(this,"_subscribeCall",void 0),s(this,"_heartbeatTimer",void 0),s(this,"_subscriptionStatusAnnounced",void 0),s(this,"_autoNetworkDetection",void 0),s(this,"_isOnline",void 0),s(this,"_pendingChannelSubscriptions",void 0),s(this,"_pendingChannelGroupSubscriptions",void 0),s(this,"_dedupingManager",void 0),this._listenerManager=d,this._config=u,this._leaveEndpoint=n,this._heartbeatEndpoint=r,this._setStateEndpoint=a,this._subscribeEndpoint=t,this._crypto=c,this._channels={},this._presenceChannels={},this._heartbeatChannels={},this._heartbeatChannelGroups={},this._channelGroups={},this._presenceChannelGroups={},this._pendingChannelSubscriptions=[],this._pendingChannelGroupSubscriptions=[],this._currentTimetoken=0,this._lastTimetoken=0,this._storedTimetoken=null,this._subscriptionStatusAnnounced=!1,this._isOnline=!0,this._reconnectionManager=new i.default({timeEndpoint:o}),this._dedupingManager=new l.default({config:u})}t.default=c,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(9),n(0);var l,r=((l=[{key:"onReconnection",value:function(e){this._reconnectionCallback=e}},{key:"startPolling",value:function(){this._timeTimer=setInterval(this._performTimeLoop.bind(this),3e3)}},{key:"stopPolling",value:function(){clearInterval(this._timeTimer)}},{key:"_performTimeLoop",value:function(){var e=this;this._timeEndpoint((function(t){t.error||(clearInterval(e._timeTimer),e._reconnectionCallback())}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(a.prototype,l),a);function a(e){var t=e.timeEndpoint;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i(this,"_reconnectionCallback",void 0),i(this,"_timeEndpoint",void 0),i(this,"_timeTimer",void 0),this._timeEndpoint=t}t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(3),n(0);var l,r=((l=[{key:"getKey",value:function(e){var t=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n+=1)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t}(JSON.stringify(e.payload)).toString();return"".concat(e.publishMetaData.publishTimetoken,"-").concat(t)}},{key:"isDuplicate",value:function(e){return this.hashHistory.includes(this.getKey(e))}},{key:"addEntry",value:function(e){this.hashHistory.length>=this._config.maximumCacheSize&&this.hashHistory.shift(),this.hashHistory.push(this.getKey(e))}},{key:"clearHistory",value:function(){this.hashHistory=[]}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(a.prototype,l),a);function a(e){var t=e.config;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i(this,"_config",void 0),i(this,"hashHistory",void 0),this.hashHistory=[],this._config=t}t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,l=(i=n(1))&&i.__esModule?i:{default:i};function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a,o=((a=[{key:"operationsLatencyForRequest",value:function(){var e=this,t={};return Object.keys(this._latencies).forEach((function(n){var i=e._averageLatency(e._latencies[n]);0<i&&(t["l_".concat(n)]=i)})),t}},{key:"startLatencyMeasure",value:function(e,t){e!==l.default.PNSubscribeOperation&&t&&(this._trackedLatencies[t]=Date.now())}},{key:"stopLatencyMeasure",value:function(e,t){if(e!==l.default.PNSubscribeOperation&&t){var n=this._endpointName(e),i=this._latencies[n],r=this._trackedLatencies[t];(i=i||(this._latencies[n]=[])).push(Date.now()-r),i.length>this._maximumSamplesCount&&i.splice(0,i.length-this._maximumSamplesCount),delete this._trackedLatencies[t]}}},{key:"_averageLatency",value:function(e){return Math.floor(e.reduce((function(e,t){return e+t}),0)/e.length)}},{key:"_endpointName",value:function(e){var t=null;switch(e){case l.default.PNPublishOperation:t="pub";break;case l.default.PNSignalOperation:t="sig";break;case l.default.PNHistoryOperation:case l.default.PNFetchMessagesOperation:case l.default.PNDeleteMessagesOperation:case l.default.PNMessageCounts:t="hist";break;case l.default.PNUnsubscribeOperation:case l.default.PNWhereNowOperation:case l.default.PNHereNowOperation:case l.default.PNHeartbeatOperation:case l.default.PNSetStateOperation:case l.default.PNGetStateOperation:t="pres";break;case l.default.PNAddChannelsToGroupOperation:case l.default.PNRemoveChannelsFromGroupOperation:case l.default.PNChannelGroupsOperation:case l.default.PNRemoveGroupOperation:case l.default.PNChannelsForGroupOperation:t="cg";break;case l.default.PNPushNotificationEnabledChannelsOperation:case l.default.PNRemoveAllPushNotificationsOperation:t="push";break;case l.default.PNCreateUserOperation:case l.default.PNUpdateUserOperation:case l.default.PNDeleteUserOperation:case l.default.PNGetUserOperation:case l.default.PNGetUsersOperation:case l.default.PNCreateSpaceOperation:case l.default.PNUpdateSpaceOperation:case l.default.PNDeleteSpaceOperation:case l.default.PNGetSpaceOperation:case l.default.PNGetSpacesOperation:case l.default.PNGetMembersOperation:case l.default.PNUpdateMembersOperation:case l.default.PNGetMembershipsOperation:case l.default.PNUpdateMembershipsOperation:t="obj";break;case l.default.PNAddMessageActionOperation:case l.default.PNRemoveMessageActionOperation:case l.default.PNGetMessageActionsOperation:t="msga";break;case l.default.PNAccessManagerGrant:case l.default.PNAccessManagerAudit:t="pam";break;case l.default.PNAccessManagerGrantToken:t="pam3";break;default:t="time"}return t}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(s.prototype,a),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r(this,"_maximumSamplesCount",100),r(this,"_trackedLatencies",{}),r(this,"_latencies",{}),this._maximumSamplesCount=e.maximumSamplesCount||this._maximumSamplesCount}t.default=o,e.exports=t.default},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?s(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function d(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FCMNotificationPayload=t.MPNSNotificationPayload=t.APNSNotificationPayload=void 0,n(0);var p=(d(v,[{key:"payload",get:function(){return this._payload}},{key:"title",set:function(e){this._title=e}},{key:"subtitle",set:function(e){this._subtitle=e}},{key:"body",set:function(e){this._body=e}},{key:"badge",set:function(e){this._badge=e}},{key:"sound",set:function(e){this._sound=e}}]),d(v,[{key:"_setDefaultPayloadStructure",value:function(){}},{key:"toObject",value:function(){return{}}}]),v);function v(e,t,n){c(this,v),f(this,"_subtitle",void 0),f(this,"_payload",void 0),f(this,"_badge",void 0),f(this,"_sound",void 0),f(this,"_title",void 0),f(this,"_body",void 0),this._payload=e,this._setDefaultPayloadStructure(),this.title=t,this.body=n}var g=(u(m,p),d(m,[{key:"_setDefaultPayloadStructure",value:function(){this._payload.aps={alert:{}}}},{key:"toObject",value:function(){var e=this,t=r({},this._payload),n=t.aps,i=n.alert;if(this._isSilent&&(n["content-available"]=1),"apns2"===this._apnsPushType){if(!this._configurations||!this._configurations.length)throw new ReferenceError("APNS2 configuration is missing");var l=[];this._configurations.forEach((function(t){l.push(e._objectFromAPNS2Configuration(t))})),l.length&&(t.pn_push=l)}return i&&Object.keys(i).length||delete n.alert,this._isSilent&&(delete n.alert,delete n.badge,delete n.sound,i={}),this._isSilent||Object.keys(i).length?t:null}},{key:"_objectFromAPNS2Configuration",value:function(e){var t=this;if(!e.targets||!e.targets.length)throw new ReferenceError("At least one APNS2 target should be provided");var n=[];e.targets.forEach((function(e){n.push(t._objectFromAPNSTarget(e))}));var i=e.collapseId,l=e.expirationDate,r={auth_method:"token",targets:n,version:"v2"};return i&&i.length&&(r.collapse_id=i),l&&(r.expiration=l.toISOString()),r}},{key:"_objectFromAPNSTarget",value:function(e){if(!e.topic||!e.topic.length)throw new TypeError("Target 'topic' undefined.");var t=e.environment,n=e.excludedDevices,i=void 0===n?[]:n,l={topic:e.topic,environment:void 0===t?"development":t};return i.length&&(l.excluded_devices=i),l}},{key:"configurations",set:function(e){e&&e.length&&(this._configurations=e)}},{key:"notification",get:function(){return this._payload.aps}},{key:"title",get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.aps.alert.title=e,this._title=e)}},{key:"subtitle",get:function(){return this._subtitle},set:function(e){e&&e.length&&(this._payload.aps.alert.subtitle=e,this._subtitle=e)}},{key:"body",get:function(){return this._body},set:function(e){e&&e.length&&(this._payload.aps.alert.body=e,this._body=e)}},{key:"badge",get:function(){return this._badge},set:function(e){null!=e&&(this._payload.aps.badge=e,this._badge=e)}},{key:"sound",get:function(){return this._sound},set:function(e){e&&e.length&&(this._payload.aps.sound=e,this._sound=e)}},{key:"silent",set:function(e){this._isSilent=e}}]),m);function m(){var e,t;c(this,m);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return f(s(t=a(this,(e=o(m)).call.apply(e,[this].concat(i)))),"_configurations",void 0),f(s(t),"_apnsPushType",void 0),f(s(t),"_isSilent",void 0),t}t.APNSNotificationPayload=g;var y=(u(b,p),d(b,[{key:"toObject",value:function(){return Object.keys(this._payload).length?r({},this._payload):null}},{key:"backContent",get:function(){return this._backContent},set:function(e){e&&e.length&&(this._payload.back_content=e,this._backContent=e)}},{key:"backTitle",get:function(){return this._backTitle},set:function(e){e&&e.length&&(this._payload.back_title=e,this._backTitle=e)}},{key:"count",get:function(){return this._count},set:function(e){null!=e&&(this._payload.count=e,this._count=e)}},{key:"title",get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.title=e,this._title=e)}},{key:"type",get:function(){return this._type},set:function(e){e&&e.length&&(this._payload.type=e,this._type=e)}},{key:"subtitle",get:function(){return this.backTitle},set:function(e){this.backTitle=e}},{key:"body",get:function(){return this.backContent},set:function(e){this.backContent=e}},{key:"badge",get:function(){return this.count},set:function(e){this.count=e}}]),b);function b(){var e,t;c(this,b);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return f(s(t=a(this,(e=o(b)).call.apply(e,[this].concat(i)))),"_backContent",void 0),f(s(t),"_backTitle",void 0),f(s(t),"_count",void 0),f(s(t),"_type",void 0),t}t.MPNSNotificationPayload=y;var k=(u(_,p),d(_,[{key:"_setDefaultPayloadStructure",value:function(){this._payload.notification={},this._payload.data={}}},{key:"toObject",value:function(){var e=r({},this._payload.data),t=null,n={};return 2<Object.keys(this._payload).length&&(e=r({},e,{},function(e,t){if(null==e)return{};var n,i,l=function(e,t){if(null==e)return{};var n,i,l={},r=Object.keys(e);for(i=0;i<r.length;i++)0<=t.indexOf(n=r[i])||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)0<=t.indexOf(n=r[i])||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}(this._payload,["notification","data"]))),this._isSilent?e.notification=this._payload.notification:t=this._payload.notification,Object.keys(e).length&&(n.data=e),t&&Object.keys(t).length&&(n.notification=t),Object.keys(n).length?n:null}},{key:"notification",get:function(){return this._payload.notification}},{key:"data",get:function(){return this._payload.data}},{key:"title",get:function(){return this._title},set:function(e){e&&e.length&&(this._payload.notification.title=e,this._title=e)}},{key:"body",get:function(){return this._body},set:function(e){e&&e.length&&(this._payload.notification.body=e,this._body=e)}},{key:"sound",get:function(){return this._sound},set:function(e){e&&e.length&&(this._payload.notification.sound=e,this._sound=e)}},{key:"icon",get:function(){return this._icon},set:function(e){e&&e.length&&(this._payload.notification.icon=e,this._icon=e)}},{key:"tag",get:function(){return this._tag},set:function(e){e&&e.length&&(this._payload.notification.tag=e,this._tag=e)}},{key:"silent",set:function(e){this._isSilent=e}}]),_);function _(){var e,t;c(this,_);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return f(s(t=a(this,(e=o(_)).call.apply(e,[this].concat(i)))),"_isSilent",void 0),f(s(t),"_icon",void 0),f(s(t),"_tag",void 0),t}function w(e,t){c(this,w),f(this,"_payload",void 0),f(this,"_debugging",void 0),f(this,"_subtitle",void 0),f(this,"_badge",void 0),f(this,"_sound",void 0),f(this,"_title",void 0),f(this,"_body",void 0),f(this,"apns",void 0),f(this,"mpns",void 0),f(this,"fcm",void 0),this._payload={apns:{},mpns:{},fcm:{}},this._title=e,this._body=t,this.apns=new g(this._payload.apns,e,t),this.mpns=new y(this._payload.mpns,e,t),this.fcm=new k(this._payload.fcm,e,t)}t.FCMNotificationPayload=k;var x=(d(w,[{key:"debugging",set:function(e){this._debugging=e}},{key:"title",get:function(){return this._title}},{key:"body",get:function(){return this._body}},{key:"subtitle",get:function(){return this._subtitle},set:function(e){this._subtitle=e,this.apns.subtitle=e,this.mpns.subtitle=e,this.fcm.subtitle=e}},{key:"badge",get:function(){return this._badge},set:function(e){this._badge=e,this.apns.badge=e,this.mpns.badge=e,this.fcm.badge=e}},{key:"sound",get:function(){return this._sound},set:function(e){this._sound=e,this.apns.sound=e,this.mpns.sound=e,this.fcm.sound=e}}]),d(w,[{key:"buildPayload",value:function(e){var t={};if(e.includes("apns")||e.includes("apns2")){this.apns._apnsPushType=e.includes("apns")?"apns":"apns2";var n=this.apns.toObject();n&&Object.keys(n).length&&(t.pn_apns=n)}if(e.includes("mpns")){var i=this.mpns.toObject();i&&Object.keys(i).length&&(t.pn_mpns=i)}if(e.includes("fcm")){var l=this.fcm.toObject();l&&Object.keys(l).length&&(t.pn_gcm=l)}return Object.keys(t).length&&this._debugging&&(t.pn_debug=!0),t}}]),w);t.default=x},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(3),n(0);var r,a=((r=[{key:"_initializeTokens",value:function(){this._userTokens={},this._spaceTokens={},this._userToken=void 0,this._spaceToken=void 0}},{key:"_setToken",value:function(e){var t=this,n=this.parseToken(e);n&&n.resources&&(n.resources.users&&Object.keys(n.resources.users).forEach((function(n){t._userTokens[n]=e})),n.resources.spaces&&Object.keys(n.resources.spaces).forEach((function(n){t._spaceTokens[n]=e}))),n&&n.patterns&&(n.patterns.users&&0<Object.keys(n.patterns.users).length&&(this._userToken=e),n.patterns.spaces&&0<Object.keys(n.patterns.spaces).length&&(this._spaceToken=e))}},{key:"setToken",value:function(e){e&&0<e.length&&this._setToken(e)}},{key:"setTokens",value:function(e){var t=this;e&&e.length&&"object"===i(e)&&e.forEach((function(e){t.setToken(e)}))}},{key:"getTokens",value:function(e){var t=this,n={users:{},spaces:{}};return e?(e.user&&(n.user=this._userToken),e.space&&(n.space=this._spaceToken),e.users&&e.users.forEach((function(e){n.users[e]=t._userTokens[e]})),e.space&&e.spaces.forEach((function(e){n.spaces[e]=t._spaceTokens[e]}))):(this._userToken&&(n.user=this._userToken),this._spaceToken&&(n.space=this._spaceToken),Object.keys(this._userTokens).forEach((function(e){n.users[e]=t._userTokens[e]})),Object.keys(this._spaceTokens).forEach((function(e){n.spaces[e]=t._spaceTokens[e]}))),n}},{key:"getToken",value:function(e,t){var n;return t?"user"===e?n=this._userTokens[t]:"space"===e&&(n=this._spaceTokens[t]):"user"===e?n=this._userToken:"space"===e&&(n=this._spaceToken),n}},{key:"extractPermissions",value:function(e){var t={create:!1,read:!1,write:!1,manage:!1,delete:!1};return 16==(16&e)&&(t.create=!0),8==(8&e)&&(t.delete=!0),4==(4&e)&&(t.manage=!0),2==(2&e)&&(t.write=!0),1==(1&e)&&(t.read=!0),t}},{key:"parseToken",value:function(e){var t=this,n=this._cbor.decodeToken(e);if(void 0!==n){var i=Object.keys(n.res.usr),l=Object.keys(n.res.spc),r=Object.keys(n.pat.usr),a=Object.keys(n.pat.spc),o={version:n.v,timestamp:n.t,ttl:n.ttl},s=0<i.length,u=0<l.length;(s||u)&&(o.resources={},s&&(o.resources.users={},i.forEach((function(e){o.resources.users[e]=t.extractPermissions(n.res.usr[e])}))),u&&(o.resources.spaces={},l.forEach((function(e){o.resources.spaces[e]=t.extractPermissions(n.res.spc[e])}))));var c=0<r.length,h=0<a.length;return(c||h)&&(o.patterns={},c&&(o.patterns.users={},r.forEach((function(e){o.patterns.users[e]=t.extractPermissions(n.pat.usr[e])}))),h&&(o.patterns.spaces={},a.forEach((function(e){o.patterns.spaces[e]=t.extractPermissions(n.pat.spc[e])})))),0<Object.keys(n.meta).length&&(o.meta=n.meta),o.signature=n.sig,o}}},{key:"clearTokens",value:function(){this._initializeTokens()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(o.prototype,r),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l(this,"_config",void 0),l(this,"_cbor",void 0),l(this,"_userTokens",void 0),l(this,"_spaceTokens",void 0),l(this,"_userToken",void 0),l(this,"_spaceToken",void 0),this._config=e,this._cbor=t,this._initializeTokens()}t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.networking,a=e.config,u=e.telemetryManager,c=i.default.createUUID(),h=null,d=null,p={};h=t.getOperation()===r.default.PNTimeOperation||t.getOperation()===r.default.PNChannelGroupsOperation?arguments.length<=2?void 0:arguments[2]:(p=arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]),"undefined"==typeof Promise||h||(d=l.default.createPromise());var m=t.validateParams(e,p);if(m)return h?h(v(m)):d?(d.reject(new f("Validation failed, check status for details",v(m))),d.promise):void 0;var y,b=t.prepareParams(e,p),k=function(e,t,n){return e.usePost&&e.usePost(t,n)?e.postURL(t,n):e.usePatch&&e.usePatch(t,n)?e.patchURL(t,n):e.getURL(t,n)}(t,e,p),_={url:k,operation:t.getOperation(),timeout:t.getRequestTimeout(e),headers:t.getRequestHeaders?t.getRequestHeaders():{}};b.uuid=a.UUID,b.pnsdk=function(e){if(e.sdkName)return e.sdkName;var t="PubNub-JS-".concat(e.sdkFamily);e.partnerId&&(t+="-".concat(e.partnerId)),t+="/".concat(e.getVersion());var n=e._getPnsdkSuffix(" ");return 0<n.length&&(t+=n),t}(a);var w=u.operationsLatencyForRequest();if(Object.keys(w).length&&(b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b,{},w)),a.useInstanceId&&(b.instanceid=a.instanceId),a.useRequestId&&(b.requestid=c),t.isAuthSupported()){var x=function(e,t,n){var i;return e.getAuthToken&&(i=e.getAuthToken(t,n)),i}(t,e,p)||a.getAuthKey();x&&(b.auth=x)}function C(n,i){if(n.error)h?h(n):d&&d.reject(new f("PubNub call failed, check status for details",n));else{u.stopLatencyMeasure(t.getOperation(),c);var l=t.handleResponse(e,i,p);h?h(n,l):d&&d.fulfill(l)}}if(a.secretKey&&function(e,t,n,i,r){var a=e.config,o=e.crypto,s=g(e,r,i);n.timestamp=Math.floor((new Date).getTime()/1e3);var u="".concat(s,"\n").concat(a.publishKey,"\n").concat(t,"\n").concat(l.default.signPamFromParams(n),"\n");if("POST"===s){var c=r.postPayload(e,i);u+="string"==typeof c?c:JSON.stringify(c)}else if("PATCH"===s){var h=r.patchPayload(e,i);u+="string"==typeof h?h:JSON.stringify(h)}var d="v2.".concat(o.HMACSHA256(u));d=(d=(d=d.replace(/\+/g,"-")).replace(/\//g,"_")).replace(/=+$/,""),n.signature=d}(e,k,b,p,t),u.startLatencyMeasure(t.getOperation(),c),"POST"===g(e,t,p)){var S=t.postPayload(e,p);y=n.POST(b,S,_,C)}else if("PATCH"===g(e,t,p)){var T=t.patchPayload(e,p);y=n.PATCH(b,T,_,C)}else y="DELETE"===g(e,t,p)?n.DELETE(b,_,C):n.GET(b,_,C);return t.getOperation()===r.default.PNSubscribeOperation?y:d?d.promise:void 0};var i=a(n(5)),l=(n(0),a(n(2))),r=(a(n(3)),a(n(1)));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var l=new(Function.bind.apply(e,i));return n&&h(l,n.prototype),l}).apply(null,arguments)}(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(p,c(Error)),p);function p(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(n=function(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}(this,d(p).call(this,e))).name=n.constructor.name,n.status=t,n.message=e,n}function v(e){return function(e,t){return e.type="validationError",e.error=!0,e}({message:e})}function g(e,t,n){return t.usePost&&t.usePost(e,n)?"POST":t.usePatch&&t.usePatch(e,n)?"PATCH":t.useDelete&&t.useDelete(e,n)?"DELETE":"GET"}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNAddChannelsToGroupOperation},t.validateParams=function(e,t){var n=t.channels;return t.channelGroup?n&&0!==n.length?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/".concat(e.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{add:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveChannelsFromGroupOperation},t.validateParams=function(e,t){var n=t.channels;return t.channelGroup?n&&0!==n.length?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/".concat(e.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channels;return{remove:(void 0===n?[]:n).join(",")}},t.handleResponse=function(){return{}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNRemoveGroupOperation},t.validateParams=function(e,t){return t.channelGroup?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/".concat(e.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n),"/remove")},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(){return{}},t.handleResponse=function(){return{}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNChannelGroupsOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v1/channel-registration/sub-key/".concat(e.config.subscribeKey,"/channel-group")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{groups:t.payload.groups}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNChannelsForGroupOperation},t.validateParams=function(e,t){return t.channelGroup?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channel Group"},t.getURL=function(e,t){var n=t.channelGroup;return"/v1/channel-registration/sub-key/".concat(e.config.subscribeKey,"/channel-group/").concat(l.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{channels:t.payload.channels}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.pushGateway,i=t.channels;return t.device?n?"apns2"!==n||t.topic?i&&0!==i.length?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,i=e.config;return"apns2"!==t.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,i=t.channels,l=t.environment,r=void 0===l?"development":l,a=t.topic,o={type:n,add:(void 0===i?[]:i).join(",")};return"apns2"===n&&delete(o=Object.assign({},o,{environment:r,topic:a})).type,o},t.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.pushGateway,i=t.channels;return t.device?n?"apns2"!==n||t.topic?i&&0!==i.length?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Channels":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,i=e.config;return"apns2"!==t.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,i=t.channels,l=t.environment,r=void 0===l?"development":l,a=t.topic,o={type:n,remove:(void 0===i?[]:i).join(",")};return"apns2"===n&&delete(o=Object.assign({},o,{environment:r,topic:a})).type,o},t.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNPushNotificationEnabledChannelsOperation},t.validateParams=function(e,t){var n=t.pushGateway;return t.device?n?"apns2"!==n||t.topic?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,i=e.config;return"apns2"!==t.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,i=t.environment,l={type:n};return"apns2"===n&&delete(l=Object.assign({},l,{environment:void 0===i?"development":i,topic:t.topic})).type,l},t.handleResponse=function(e,t){return{channels:t}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNRemoveAllPushNotificationsOperation},t.validateParams=function(e,t){var n=t.pushGateway;return t.device?n?"apns2"!==n||t.topic?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing APNS2 topic":"Missing GW Type (pushGateway: gcm, apns or apns2)":"Missing Device ID (device)"},t.getURL=function(e,t){var n=t.device,i=e.config;return"apns2"!==t.pushGateway?"/v1/push/sub-key/".concat(i.subscribeKey,"/devices/").concat(n,"/remove"):"/v2/push/sub-key/".concat(i.subscribeKey,"/devices-apns2/").concat(n,"/remove")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.pushGateway,i=t.environment,l={type:n};return"apns2"===n&&delete(l=Object.assign({},l,{environment:void 0===i?"development":i,topic:t.topic})).type,l},t.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNUnsubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,a=0<r.length?r.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(a),"/leave")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,l={};return 0<i.length&&(l["channel-group"]=i.join(",")),l},t.handleResponse=function(){return{}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNWhereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.uuid,l=void 0===i?n.UUID:i;return"/v2/presence/sub-key/".concat(n.subscribeKey,"/uuid/").concat(l)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t.payload?{channels:t.payload.channels}:{channels:[]}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHeartbeatOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,a=0<r.length?r.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(a),"/heartbeat")},t.isAuthSupported=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,l=t.state,r=void 0===l?{}:l,a=e.config,o={};return 0<i.length&&(o["channel-group"]=i.join(",")),o.state=JSON.stringify(r),o.heartbeat=a.getPresenceTimeout(),o},t.handleResponse=function(){return{}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNGetStateOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.uuid,r=void 0===i?n.UUID:i,a=t.channels,o=void 0===a?[]:a,s=0<o.length?o.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(s),"/uuid/").concat(r)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,l={};return 0<i.length&&(l["channel-group"]=i.join(",")),l},t.handleResponse=function(e,t,n){var i=n.channels,l=void 0===i?[]:i,r=n.channelGroups,a={};return 1===l.length&&0===(void 0===r?[]:r).length?a[l[0]]=t.payload:a=t.payload,{channels:a}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSetStateOperation},t.validateParams=function(e,t){var n=t.channels,i=t.channelGroups;return t.state?e.config.subscribeKey?0===(void 0===n?[]:n).length&&0===(void 0===i?[]:i).length?"Please provide a list of channels and/or channel-groups":void 0:"Missing Subscribe Key":"Missing State"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,a=0<r.length?r.join(","):",";return"/v2/presence/sub-key/".concat(n.subscribeKey,"/channel/").concat(l.default.encodeString(a),"/uuid/").concat(n.UUID,"/data")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,l={};return l.state=JSON.stringify(t.state),0<i.length&&(l["channel-group"]=i.join(",")),l},t.handleResponse=function(e,t){return{state:t.payload}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHereNowOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=t.channels,i=void 0===n?[]:n,r=t.channelGroups,a=void 0===r?[]:r,o="/v2/presence/sub-key/".concat(e.config.subscribeKey);if(0<i.length||0<a.length){var s=0<i.length?i.join(","):",";o+="/channel/".concat(l.default.encodeString(s))}return o},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.channelGroups,i=void 0===n?[]:n,l=t.includeUUIDs,r=t.includeState,s=void 0!==r&&r,u=t.queryParameters,c=void 0===u?{}:u,h={};return void 0===l||l||(h.disable_uuids=1),s&&(h.state=1),0<i.length&&(h["channel-group"]=i.join(",")),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h,{},c)},t.handleResponse=function(e,t,n){var i=n.channels,l=void 0===i?[]:i,r=n.channelGroups,a=void 0===r?[]:r,o=n.includeUUIDs,s=void 0===o||o,u=n.includeState,c=void 0!==u&&u;return 1<l.length||0<a.length||0===a.length&&0===l.length?function(){var e={};return e.totalChannels=t.payload.total_channels,e.totalOccupancy=t.payload.total_occupancy,e.channels={},Object.keys(t.payload.channels).forEach((function(n){var i=t.payload.channels[n],l=[];return e.channels[n]={occupants:l,name:n,occupancy:i.occupancy},s&&i.uuids.forEach((function(e){l.push(c?{state:e.state,uuid:e.uuid}:{state:null,uuid:e})})),e})),e}():function(){var e={},n=[];return e.totalChannels=1,e.totalOccupancy=t.occupancy,e.channels={},e.channels[l[0]]={occupants:n,name:l[0],occupancy:t.occupancy},s&&t.uuids&&t.uuids.forEach((function(e){n.push(c?{state:e.state,uuid:e.uuid}:{state:null,uuid:e})})),e}()},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNAddMessageActionOperation},t.validateParams=function(e,t){var n=t.action;return t.messageTimetoken?e.config.subscribeKey?t.channel?n?n.value?n.type?15<n.type.length?"Action.type value exceed maximum length of 15":void 0:"Missing Action.type":"Missing Action.value":"Missing Action":"Missing message channel":"Missing Subscribe Key":"Missing message timetoken"},t.usePost=function(){return!0},t.postURL=function(e,t){var n=t.channel,i=t.messageTimetoken;return"/v1/message-actions/".concat(e.config.subscribeKey,"/channel/").concat(n,"/message/").concat(i)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.getRequestHeaders=function(){return{"Content-Type":"application/json"}},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.postPayload=function(e,t){return t.action},t.handleResponse=function(e,t){return{data:t.data}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNRemoveMessageActionOperation},t.validateParams=function(e,t){return t.messageTimetoken?t.actionTimetoken?e.config.subscribeKey?t.channel?void 0:"Missing message channel":"Missing Subscribe Key":"Missing action timetoken":"Missing message timetoken"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=t.channel,i=t.actionTimetoken,l=t.messageTimetoken;return"/v1/message-actions/".concat(e.config.subscribeKey,"/channel/").concat(n,"/message/").concat(l,"/action/").concat(i)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{data:t.data}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetMessageActionsOperation},t.validateParams=function(e,t){return e.config.subscribeKey?t.channel?void 0:"Missing message channel":"Missing Subscribe Key"},t.getURL=function(e,t){var n=t.channel;return"/v1/message-actions/".concat(e.config.subscribeKey,"/channel/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.limit,i=t.start,l=t.end,r={};return n&&(r.limit=n),i&&(r.start=i),l&&(r.end=l),r},t.handleResponse=function(e,t){var n={data:t.data,start:null,end:null};return n.data.length&&(n.end=n.data[n.data.length-1].actionTimetoken,n.start=n.data[0].actionTimetoken),n},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNCreateUserOperation},t.validateParams=function(e,t){var n=t.custom;return t.id?t.name?e.config.subscribeKey?n&&!Object.values(n).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing User.name":"Missing User.id"},t.usePost=function(){return!0},t.getURL=function(e){return"/v1/objects/".concat(e.config.subscribeKey,"/users")},t.postURL=function(e){return"/v1/objects/".concat(e.config.subscribeKey,"/users")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.id)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var r=l.join(",");0<r.length&&(i.include=r)}return i},t.postPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateUserOperation},t.validateParams=function(e,t){var n=t.custom;return t.id?t.name?e.config.subscribeKey?n&&!Object.values(n).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing User.name":"Missing User.id"},t.usePatch=function(){return!0},t.getURL=function(e,t){var n=t.id;return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(n)},t.patchURL=function(e,t){var n=t.id;return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.id)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var r=l.join(",");0<r.length&&(i.include=r)}return i},t.patchPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNDeleteUserOperation},t.validateParams=function(e,t){return t?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing UserId"},t.useDelete=function(){return!0},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t)||e.tokenManager.getToken("user")},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetUserOperation},t.validateParams=function(e,t){if(!t.userId)return"Missing userId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var r=l.join(",");0<r.length&&(i.include=r)}return i},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetUsersOperation},t.validateParams=function(){},t.getURL=function(e){return"/v1/objects/".concat(e.config.subscribeKey,"/users")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e){return e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r=t.filter,a={};if(i&&(a.limit=i),n){var o=[];n.totalCount&&(a.count=!0),n.customFields&&o.push("custom");var s=o.join(",");0<s.length&&(a.include=s)}return l&&(l.next&&(a.start=l.next),l.prev&&(a.end=l.prev)),r&&(a.filter=r),a},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNCreateSpaceOperation},t.validateParams=function(e,t){var n=t.custom;return t.id?t.name?e.config.subscribeKey?n&&!Object.values(n).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing Space.name":"Missing Space.id"},t.usePost=function(){return!0},t.getURL=function(e){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces")},t.postURL=function(e){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.id)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var r=l.join(",");0<r.length&&(i.include=r)}return i},t.postPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateSpaceOperation},t.validateParams=function(e,t){var n=t.custom;return t.id?t.name?e.config.subscribeKey?n&&!Object.values(n).every((function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e}))?"Invalid custom type, only string, number and boolean values are allowed.":void 0:"Missing Subscribe Key":"Missing Space.name":"Missing Space.id"},t.usePatch=function(){return!0},t.getURL=function(e,t){var n=t.id;return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(n)},t.patchURL=function(e,t){var n=t.id;return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(n)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.id)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var r=l.join(",");0<r.length&&(i.include=r)}return i},t.patchPayload=function(e,t){return function(e,t){return t}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNDeleteSpaceOperation},t.validateParams=function(e,t){return t?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing SpaceId"},t.useDelete=function(){return!0},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t)||e.tokenManager.getToken("space")},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetSpacesOperation},t.validateParams=function(){},t.getURL=function(e){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e){return e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r=t.filter,a={};if(i&&(a.limit=i),n){var o=[];n.totalCount&&(a.count=!0),n.customFields&&o.push("custom");var s=o.join(",");0<s.length&&(a.include=s)}return l&&(l.next&&(a.start=l.next),l.prev&&(a.end=l.prev)),r&&(a.filter=r),a},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetSpaceOperation},t.validateParams=function(e,t){if(!t.spaceId)return"Missing spaceId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i={};if(n?void 0===n.customFields&&(n.customFields=!0):n={customFields:!0},n){var l=[];n.customFields&&l.push("custom");var r=l.join(",");0<r.length&&(i.include=r)}return i},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetMembersOperation},t.validateParams=function(e,t){if(!t.spaceId)return"Missing spaceId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r=t.filter,a={};if(i&&(a.limit=i),n){var o=[];n.totalCount&&(a.count=!0),n.customFields&&o.push("custom"),n.userFields&&o.push("user"),n.customUserFields&&o.push("user.custom");var s=o.join(",");0<s.length&&(a.include=s)}return l&&(l.next&&(a.start=l.next),l.prev&&(a.end=l.prev)),r&&(a.filter=r),a},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateMembersOperation},t.validateParams=function(e,t){return t.spaceId?t.users?void 0:"Missing users":"Missing spaceId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.patchURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r={};if(i&&(r.limit=i),n){var a=[];n.totalCount&&(r.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var o=a.join(",");0<o.length&&(r.include=o)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),r},t.patchPayload=function(e,t){return function(e,t){var n=t.users,i={};return n&&0<n.length&&(i.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),i.add.push(t)}))),i}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateMembersOperation},t.validateParams=function(e,t){return t.spaceId?t.users?void 0:"Missing users":"Missing spaceId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.patchURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r={};if(i&&(r.limit=i),n){var a=[];n.totalCount&&(r.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var o=a.join(",");0<o.length&&(r.include=o)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),r},t.patchPayload=function(e,t){return function(e,t){var n=t.addMembers,i=t.updateMembers,l=t.removeMembers,r=t.users,a={};return n&&0<n.length&&(a.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.add.push(t)}))),i&&0<i.length&&(a.update=[],i.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),r&&0<r.length&&(a.update=a.update||[],r.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),l&&0<l.length&&(a.remove=[],l.forEach((function(e){a.remove.push({id:e})}))),a}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateMembersOperation},t.validateParams=function(e,t){return t.spaceId?t.users?void 0:"Missing users":"Missing spaceId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.patchURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/spaces/").concat(t.spaceId,"/users")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("space",t.spaceId)||e.tokenManager.getToken("space")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r={};if(i&&(r.limit=i),n){var a=[];n.totalCount&&(r.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var o=a.join(",");0<o.length&&(r.include=o)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),r},t.patchPayload=function(e,t){return function(e,t){var n=t.users,i={};return n&&0<n.length&&(i.remove=[],n.forEach((function(e){i.remove.push({id:e})}))),i}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNGetMembershipsOperation},t.validateParams=function(e,t){if(!t.userId)return"Missing userId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r=t.filter,a={};if(i&&(a.limit=i),n){var o=[];n.totalCount&&(a.count=!0),n.customFields&&o.push("custom"),n.spaceFields&&o.push("space"),n.customSpaceFields&&o.push("space.custom");var s=o.join(",");0<s.length&&(a.include=s)}return l&&(l.next&&(a.start=l.next),l.prev&&(a.end=l.prev)),r&&(a.filter=r),a},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateMembershipsOperation},t.validateParams=function(e,t){return t.userId?t.spaces?void 0:"Missing spaces":"Missing userId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.patchURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r={};if(i&&(r.limit=i),n){var a=[];n.totalCount&&(r.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var o=a.join(",");0<o.length&&(r.include=o)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),r},t.patchPayload=function(e,t){return function(e,t){var n=t.addMemberships,i=t.updateMemberships,l=t.removeMemberships,r=t.spaces,a={};return n&&0<n.length&&(a.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.add.push(t)}))),i&&0<i.length&&(a.update=[],i.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),r&&0<r.length&&(a.update=a.update||[],r.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),a.update.push(t)}))),l&&0<l.length&&(a.remove=[],l.forEach((function(e){a.remove.push({id:e})}))),a}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateMembershipsOperation},t.validateParams=function(e,t){return t.userId?t.spaces?void 0:"Missing spaces":"Missing userId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.patchURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r={};if(i&&(r.limit=i),n){var a=[];n.totalCount&&(r.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var o=a.join(",");0<o.length&&(r.include=o)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),r},t.patchPayload=function(e,t){return function(e,t){var n=t.spaces,i={};return n&&0<n.length&&(i.add=[],n.forEach((function(e){var t={id:e.id};e.custom&&(t.custom=e.custom),i.add.push(t)}))),i}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNUpdateMembershipsOperation},t.validateParams=function(e,t){return t.userId?t.spaces?void 0:"Missing spaces":"Missing userId"},t.getURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.patchURL=function(e,t){return"/v1/objects/".concat(e.config.subscribeKey,"/users/").concat(t.userId,"/spaces")},t.usePatch=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.getAuthToken=function(e,t){return e.tokenManager.getToken("user",t.userId)||e.tokenManager.getToken("user")},t.prepareParams=function(e,t){var n=t.include,i=t.limit,l=t.page,r={};if(i&&(r.limit=i),n){var a=[];n.totalCount&&(r.count=!0),n.customFields&&a.push("custom"),n.spaceFields&&a.push("space"),n.customSpaceFields&&a.push("space.custom");var o=a.join(",");0<o.length&&(r.include=o)}return l&&(l.next&&(r.start=l.next),l.prev&&(r.end=l.prev)),r},t.patchPayload=function(e,t){return function(e,t){var n=t.spaces,i={};return n&&0<n.length&&(i.remove=[],n.forEach((function(e){i.remove.push({id:e})}))),i}(0,t)},t.handleResponse=function(e,t){return t},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNAccessManagerAudit},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/audit/sub-key/".concat(e.config.subscribeKey)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channel,i=t.channelGroup,l=t.authKeys,r=void 0===l?[]:l,a={};return n&&(a.channel=n),i&&(a["channel-group"]=i),0<r.length&&(a.auth=r.join(",")),a},t.handleResponse=function(e,t){return t.payload},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNAccessManagerGrant},t.validateParams=function(e){var t=e.config;return t.subscribeKey?t.publishKey?t.secretKey?void 0:"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.getURL=function(e){return"/v2/auth/grant/sub-key/".concat(e.config.subscribeKey)},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(e,t){var n=t.channels,i=void 0===n?[]:n,l=t.channelGroups,r=void 0===l?[]:l,a=t.ttl,o=t.read,s=t.write,u=void 0!==s&&s,c=t.manage,h=void 0!==c&&c,d=t.authKeys,f=void 0===d?[]:d,p=t.delete,v={};return v.r=void 0!==o&&o?"1":"0",v.w=u?"1":"0",v.m=h?"1":"0",v.d=p?"1":"0",0<i.length&&(v.channel=i.join(",")),0<r.length&&(v["channel-group"]=r.join(",")),0<f.length&&(v.auth=f.join(",")),!a&&0!==a||(v.ttl=a),v},t.handleResponse=function(){return{}},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return l.default.PNAccessManagerGrantToken},t.extractPermissions=r,t.validateParams=function(e,t){var n=e.config;return n.subscribeKey?n.publishKey?n.secretKey?t.resources||t.patterns?(!t.resources||t.resources.users&&0!==Object.keys(t.resources.users).length||t.resources.spaces&&0!==Object.keys(t.resources.spaces).length)&&(!t.patterns||t.patterns.users&&0!==Object.keys(t.patterns.users).length||t.patterns.spaces&&0!==Object.keys(t.patterns.spaces).length)?void 0:"Missing values for either Resources or Patterns.":"Missing either Resources or Patterns.":"Missing Secret Key":"Missing Publish Key":"Missing Subscribe Key"},t.postURL=function(e){return"/v3/pam/".concat(e.config.subscribeKey,"/grant")},t.usePost=function(){return!0},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!1},t.prepareParams=function(){return{}},t.postPayload=function(e,t){return function(e,t){var n=t.ttl,i=t.resources,l=t.patterns,a=t.meta,o={ttl:0,permissions:{resources:{channels:{},groups:{},users:{},spaces:{}},patterns:{channels:{},groups:{},users:{},spaces:{}},meta:{}}};if(i){var s=i.users,u=i.spaces;s&&Object.keys(s).forEach((function(e){o.permissions.resources.users[e]=r(s[e])})),u&&Object.keys(u).forEach((function(e){o.permissions.resources.spaces[e]=r(u[e])}))}if(l){var c=l.users,h=l.spaces;c&&Object.keys(c).forEach((function(e){o.permissions.patterns.users[e]=r(c[e])})),h&&Object.keys(h).forEach((function(e){o.permissions.patterns.spaces[e]=r(h[e])}))}return!n&&0!==n||(o.ttl=n),a&&(o.permissions.meta=a),o}(0,t)},t.handleResponse=function(e,t){return t.data.token},n(0);var i,l=(i=n(1))&&i.__esModule?i:{default:i};function r(e){var t=0;return e.create&&(t|=16),e.delete&&(t|=8),e.manage&&(t|=4),e.write&&(t|=2),e.read&&(t|=1),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNPublishOperation},t.validateParams=function(e,t){return t.channel?t.message?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.usePost=function(e,t){var n=t.sendByPost;return void 0!==n&&n},t.getURL=function(e,t){var n=e.config,i=t.channel,r=a(e,t.message);return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(l.default.encodeString(i),"/0/").concat(l.default.encodeString(r))},t.postURL=function(e,t){var n=e.config,i=t.channel;return"/publish/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(l.default.encodeString(i),"/0")},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.postPayload=function(e,t){return a(e,t.message)},t.prepareParams=function(e,t){var n=t.meta,i=t.replicate,l=void 0===i||i,r=t.storeInHistory,a=t.ttl,o={};return null!=r&&(o.store=r?"1":"0"),a&&(o.ttl=a),!1===l&&(o.norep="true"),n&&"object"===function(e){return("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(n)&&(o.meta=JSON.stringify(n)),o},t.handleResponse=function(e,t){return{timetoken:t[2]}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=e.crypto,i=e.config,l=JSON.stringify(t);return i.cipherKey&&(l=n.encrypt(l),l=JSON.stringify(l)),l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSignalOperation},t.validateParams=function(e,t){return t.channel?t.message?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing Message":"Missing Channel"},t.getURL=function(e,t){var n=e.config,i=t.channel,r=function(e,t){return JSON.stringify(t)}(0,t.message);return"/signal/".concat(n.publishKey,"/").concat(n.subscribeKey,"/0/").concat(l.default.encodeString(i),"/0/").concat(l.default.encodeString(r))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(){return{}},t.handleResponse=function(e,t){return{timetoken:t[2]}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNHistoryOperation},t.validateParams=function(e,t){return t.channel?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=t.channel;return"/v2/history/sub-key/".concat(e.config.subscribeKey,"/channel/").concat(l.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,i=t.end,l=t.reverse,r=t.count,a=t.stringifiedTimeToken,o=void 0!==a&&a,s=t.includeMeta,u=void 0!==s&&s,c={include_token:"true"};return c.count=void 0===r?100:r,n&&(c.start=n),i&&(c.end=i),o&&(c.string_message_token="true"),null!=l&&(c.reverse=l.toString()),u&&(c.include_meta="true"),c},t.handleResponse=function(e,t){var n={messages:[],startTimeToken:t[1],endTimeToken:t[2]};return Array.isArray(t[0])&&t[0].forEach((function(t){var i={timetoken:t.timetoken,entry:function(e,t){var n=e.crypto;if(!e.config.cipherKey)return t;try{return n.decrypt(t)}catch(e){return t}}(e,t.message)};t.meta&&(i.meta=t.meta),n.messages.push(i)})),n},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNDeleteMessagesOperation},t.validateParams=function(e,t){return t.channel?e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.useDelete=function(){return!0},t.getURL=function(e,t){var n=t.channel;return"/v3/history/sub-key/".concat(e.config.subscribeKey,"/channel/").concat(l.default.encodeString(n))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,i=t.end,l={};return n&&(l.start=n),i&&(l.end=i),l},t.handleResponse=function(e,t){return t.payload},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNMessageCounts},t.validateParams=function(e,t){var n=t.channels,i=t.timetoken,l=t.channelTimetokens;return n?i&&l?"timetoken and channelTimetokens are incompatible together":i&&l&&1<l.length&&n.length!==l.length?"Length of channelTimetokens and channels do not match":e.config.subscribeKey?void 0:"Missing Subscribe Key":"Missing channel"},t.getURL=function(e,t){var n=e.config,i=t.channels.join(",");return"/v3/history/sub-key/".concat(n.subscribeKey,"/message-counts/").concat(l.default.encodeString(i))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.timetoken,i=t.channelTimetokens,l={};if(i&&1===i.length){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),1!==n.length);i=!0);}catch(e){l=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(i)[0];l.timetoken=r}else i?l.channelsTimetoken=i.join(","):n&&(l.timetoken=n);return l},t.handleResponse=function(e,t){return{channels:t.channels}};var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNFetchMessagesOperation},t.validateParams=function(e,t){var n=t.channels,i=t.includeMessageActions;if(!n||0===n.length)return"Missing channels";if(!e.config.subscribeKey)return"Missing Subscribe Key";if(void 0!==i&&i&&1<n.length)throw new TypeError("History can return actions data for a single channel only. Either pass a single channel or disable the includeMessageActions flag.")},t.getURL=function(e,t){var n=t.channels,i=void 0===n?[]:n,r=t.includeMessageActions,a=e.config,o=void 0!==r&&r?"history-with-actions":"history",s=0<i.length?i.join(","):",";return"/v3/".concat(o,"/sub-key/").concat(a.subscribeKey,"/channel/").concat(l.default.encodeString(s))},t.getRequestTimeout=function(e){return e.config.getTransactionTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.start,i=t.end,l=t.count,r=t.stringifiedTimeToken,a=void 0!==r&&r,o=t.includeMeta,s=void 0!==o&&o,u={};return l&&(u.max=l),n&&(u.start=n),i&&(u.end=i),a&&(u.string_message_token="true"),s&&(u.include_meta="true"),u},t.handleResponse=function(e,t){var n={channels:{}};return Object.keys(t.channels||{}).forEach((function(i){n.channels[i]=[],(t.channels[i]||[]).forEach((function(t){var l={};l.channel=i,l.timetoken=t.timetoken,l.message=function(e,t){var n=e.crypto;if(!e.config.cipherKey)return t;try{return n.decrypt(t)}catch(e){return t}}(e,t.message),t.actions&&(l.actions=t.actions,l.data=t.actions),t.meta&&(l.meta=t.meta),n.channels[i].push(l)}))})),n},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getOperation=function(){return i.default.PNSubscribeOperation},t.validateParams=function(e){if(!e.config.subscribeKey)return"Missing Subscribe Key"},t.getURL=function(e,t){var n=e.config,i=t.channels,r=void 0===i?[]:i,a=0<r.length?r.join(","):",";return"/v2/subscribe/".concat(n.subscribeKey,"/").concat(l.default.encodeString(a),"/0")},t.getRequestTimeout=function(e){return e.config.getSubscribeTimeout()},t.isAuthSupported=function(){return!0},t.prepareParams=function(e,t){var n=t.state,i=t.channelGroups,l=void 0===i?[]:i,r=t.timetoken,a=t.filterExpression,o=t.region,s={heartbeat:e.config.getPresenceTimeout()};return 0<l.length&&(s["channel-group"]=l.join(",")),a&&0<a.length&&(s["filter-expr"]=a),Object.keys(n).length&&(s.state=JSON.stringify(n)),r&&(s.tt=r),o&&(s.tr=o),s},t.handleResponse=function(e,t){var n=[];return t.m.forEach((function(e){var t={publishTimetoken:e.p.t,region:e.p.r},i={shard:parseInt(e.a,10),subscriptionMatch:e.b,channel:e.c,messageType:e.e,payload:e.d,flags:e.f,issuingClientId:e.i,subscribeKey:e.k,originationTimetoken:e.o,userMetadata:e.u,publishMetaData:t};n.push(i)})),{messages:n,metadata:{timetoken:t.t.t,region:t.t.r}}},n(0);var i=r(n(1)),l=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,l(n(3));var i=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(0);var a,o=((a=[{key:"init",value:function(e){this._config=e,this._maxSubDomain=20,this._currentSubDomain=Math.floor(Math.random()*this._maxSubDomain),this._providedFQDN=(this._config.secure?"https://":"http://")+this._config.origin,this._coreParams={},this.shiftStandardOrigin()}},{key:"nextOrigin",value:function(){return this._providedFQDN.match(/ps\.pndsn\.com$/i)?(this._currentSubDomain=this._currentSubDomain+1,this._currentSubDomain>=this._maxSubDomain&&(this._currentSubDomain=1),e=this._currentSubDomain.toString(),this._providedFQDN.replace("ps.pndsn.com","ps".concat(e,".pndsn.com"))):this._providedFQDN;var e}},{key:"hasModule",value:function(e){return e in this._modules}},{key:"shiftStandardOrigin",value:function(){return this._standardOrigin=this.nextOrigin(),this._standardOrigin}},{key:"getStandardOrigin",value:function(){return this._standardOrigin}},{key:"POST",value:function(e,t,n,i){return this._modules.post(e,t,n,i)}},{key:"PATCH",value:function(e,t,n,i){return this._modules.patch(e,t,n,i)}},{key:"GET",value:function(e,t,n){return this._modules.get(e,t,n)}},{key:"DELETE",value:function(e,t,n){return this._modules.del(e,t,n)}},{key:"_detectErrorCategory",value:function(e){if("ENOTFOUND"===e.code)return i.default.PNNetworkIssuesCategory;if("ECONNREFUSED"===e.code)return i.default.PNNetworkIssuesCategory;if("ECONNRESET"===e.code)return i.default.PNNetworkIssuesCategory;if("EAI_AGAIN"===e.code)return i.default.PNNetworkIssuesCategory;if(0===e.status||e.hasOwnProperty("status")&&void 0===e.status)return i.default.PNNetworkIssuesCategory;if(e.timeout)return i.default.PNTimeoutCategory;if("ETIMEDOUT"===e.code)return i.default.PNNetworkIssuesCategory;if(e.response){if(e.response.badRequest)return i.default.PNBadRequestCategory;if(e.response.forbidden)return i.default.PNAccessDeniedCategory}return i.default.PNUnknownCategory}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(s.prototype,a),s);function s(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r(this,"_modules",void 0),r(this,"_config",void 0),r(this,"_maxSubDomain",void 0),r(this,"_currentSubDomain",void 0),r(this,"_standardOrigin",void 0),r(this,"_subscribeOrigin",void 0),r(this,"_providedFQDN",void 0),r(this,"_requestTimeout",void 0),r(this,"_coreParams",void 0),this._modules={},Object.keys(e).forEach((function(n){t._modules[n]=e[n].bind(t)}))}t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={get:function(e){try{return localStorage.getItem(e)}catch(e){return null}},set:function(e,t){try{return localStorage.setItem(e,t)}catch(e){return null}}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=((r=[{key:"decodeToken",value:function(e){var t="";e.length%4==3?t="=":e.length%4==2&&(t="==");var n=e.replace(/-/gi,"+").replace(/_/gi,"/")+t,l=this._decode(this._base64ToBinary(n));if("object"===i(l))return l}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(o.prototype,r),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),l(this,"_base64ToBinary",void 0),l(this,"_cborReader",void 0),this._base64ToBinary=t,this._decode=e}t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){var i=l.default.get(this.getStandardOrigin()+t.url).set(t.headers).query(e);return a.call(this,i,t,n)},t.post=function(e,t,n,i){var r=l.default.post(this.getStandardOrigin()+n.url).query(e).set(n.headers).send(t);return a.call(this,r,n,i)},t.patch=function(e,t,n,i){var r=l.default.patch(this.getStandardOrigin()+n.url).query(e).set(n.headers).send(t);return a.call(this,r,n,i)},t.del=function(e,t,n){var i=l.default.delete(this.getStandardOrigin()+t.url).set(t.headers).query(e);return a.call(this,i,t,n)};var i,l=(i=n(72))&&i.__esModule?i:{default:i};function r(e){var t=(new Date).getTime(),n=(new Date).toISOString(),i=console&&console.log?console:window&&window.console&&window.console.log?window.console:console;i.log("<<<<<"),i.log("[".concat(n,"]"),"\n",e.url,"\n",e.qs),i.log("-----"),e.on("response",(function(n){var l=(new Date).getTime()-t,r=(new Date).toISOString();i.log(">>>>>>"),i.log("[".concat(r," / ").concat(l,"]"),"\n",e.url,"\n",e.qs,"\n",n.text),i.log("-----")}))}function a(e,t,n){var i=this;return this._config.logVerbosity&&(e=e.use(r)),this._config.proxy&&this._modules.proxy&&(e=this._modules.proxy.call(this,e)),this._config.keepAlive&&this._modules.keepAlive&&(e=this._modules.keepAlive(e)),e.timeout(t.timeout).end((function(e,l){var r,a={};if(a.error=null!==e,a.operation=t.operation,l&&l.status&&(a.statusCode=l.status),e){if(e.response&&e.response.text&&!i._config.logVerbosity)try{a.errorData=JSON.parse(e.response.text)}catch(r){a.errorData=e}else a.errorData=e;return a.category=i._detectErrorCategory(e),n(a,null)}try{r=JSON.parse(l.text)}catch(r){return a.errorData=l,a.error=!0,n(a,null)}return r.error&&1===r.error&&r.status&&r.message&&r.service?(a.errorData=r,a.statusCode=r.status,a.error=!0,a.category=i._detectErrorCategory(a),n(a,null)):(r.error&&r.error.message&&(a.errorData=r.error),n(a,r))}))}n(0)},function(e,t,n){var i;i="undefined"!=typeof window?window:"undefined"!=typeof self?self:(console.warn("Using browser-only version of superagent in non-browser environment"),this);var l=n(73),r=n(74),a=n(10),o=n(75),s=n(77);function u(){}var c=t=e.exports=function(e,n){return"function"==typeof n?new t.Request("GET",e).end(n):1==arguments.length?new t.Request("GET",e):new t.Request(e,n)};t.Request=m,c.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var h="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!a(e))return e;var t=[];for(var n in e)f(t,n,e[n]);return t.join("&")}function f(e,t,n){if(null!=n)if(Array.isArray(n))n.forEach((function(n){f(e,t,n)}));else if(a(n))for(var i in n)f(e,t+"["+i+"]",n[i]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else null===n&&e.push(encodeURIComponent(t))}function p(e){for(var t,n,i={},l=e.split("&"),r=0,a=l.length;r<a;++r)-1==(n=(t=l[r]).indexOf("="))?i[decodeURIComponent(t)]="":i[decodeURIComponent(t.slice(0,n))]=decodeURIComponent(t.slice(n+1));return i}function v(e){return/[\/+]json($|[^-\w])/.test(e)}function g(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,n,i,l,r=e.split(/\r?\n/),a={},o=0,s=r.length;o<s;++o)-1!==(t=(n=r[o]).indexOf(":"))&&(i=n.slice(0,t).toLowerCase(),l=h(n.slice(t+1)),a[i]=l);return a}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body=null===this.text&&e._responseType?this.xhr.response:"HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function m(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",(function(){var e,t=null,i=null;try{i=new g(n)}catch(i){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=i,n.xhr?(t.rawResponse=void 0===n.xhr.responseType?n.xhr.responseText:n.xhr.response,t.status=n.xhr.status?n.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),n.callback(t)}n.emit("response",i);try{n._isResponseOK(i)||(e=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(i){e=i}e?(e.original=t,e.response=i,e.status=i.status,n.callback(e,i)):n.callback(null,i)}))}function y(e,t,n){var i=c("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}c.serializeObject=d,c.parseString=p,c.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":p,"application/json":JSON.parse},o(g.prototype),g.prototype._parseBody=function(e){var t=c.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&v(this.type)&&(t=c.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},g.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i=new Error("cannot "+t+" "+n+" ("+this.status+")");return i.status=this.status,i.method=t,i.url=n,i},c.Response=g,l(m.prototype),r(m.prototype),m.prototype.type=function(e){return this.set("Content-Type",c.types[e]||e),this},m.prototype.accept=function(e){return this.set("Accept",c.types[e]||e),this},m.prototype.auth=function(e,t,n){return 1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(n=t,t=""),n=n||{type:"function"==typeof btoa?"basic":"auto"},this._auth(e,t,n,(function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")}))},m.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},m.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},m.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},m.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},m.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},m.prototype.buffer=m.prototype.ca=m.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},m.prototype.pipe=m.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},m.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},m.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||u,this._finalizeQueryString(),this._end()},m.prototype._end=function(){var e=this,t=this.xhr=c.getXHR(),n=this._formData||this._data;function i(t,n){0<n.total&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)}if(this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;if(2<=n&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==n){var i;try{i=t.status}catch(n){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}},this.hasListeners("progress"))try{t.onprogress=i.bind(null,"download"),t.upload&&(t.upload.onprogress=i.bind(null,"upload"))}catch(n){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(n){return this.callback(n)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var l=this._header["content-type"],r=this._serializer||c.serialize[l?l.split(";")[0]:""];!r&&v(l)&&(r=c.serialize["application/json"]),r&&(n=r(n))}for(var a in this.header)null!=this.header[a]&&this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==n?n:null),this},c.agent=function(){return new s},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach((function(e){s.prototype[e.toLowerCase()]=function(t,n){var i=new c.Request(e,t);return this._setDefaults(i),n&&i.end(n),i}})),s.prototype.del=s.prototype.delete,c.get=function(e,t,n){var i=c("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},c.head=function(e,t,n){var i=c("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},c.options=function(e,t,n){var i=c("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},c.del=y,c.delete=y,c.patch=function(e,t,n){var i=c("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},c.post=function(e,t,n){var i=c("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},c.put=function(e,t,n){var i=c("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}},function(e,t,n){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}(e.exports=i).prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var l=0;l<i.length;l++)if((n=i[l])===t||n.fn===t){i.splice(l,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var l=(n=n.slice(0)).length;i<l;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var i=n(10);function l(e){if(e)return function(e){for(var t in l.prototype)e[t]=l.prototype[t];return e}(e)}(e.exports=l).prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},l.prototype.parse=function(e){return this._parser=e,this},l.prototype.responseType=function(e){return this._responseType=e,this},l.prototype.serialize=function(e){return this._serializer=e,this},l.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},l.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var r=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];l.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var n=this._retryCallback(e,t);if(!0===n)return!0;if(!1===n)return!1}catch(e){console.error(e)}if(t&&t.status&&500<=t.status&&501!=t.status)return!0;if(e){if(e.code&&~r.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},l.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},l.prototype.then=function(e,t){if(!this._fullfilledPromise){var n=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((function(e,t){n.end((function(n,i){n?t(n):e(i)}))}))}return this._fullfilledPromise.then(e,t)},l.prototype.catch=function(e){return this.then(void 0,e)},l.prototype.use=function(e){return e(this),this},l.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},l.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):200<=e.status&&e.status<300)},l.prototype.getHeader=l.prototype.get=function(e){return this._header[e.toLowerCase()]},l.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},l.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},l.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var l in t)this.field(e,t[l]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},l.prototype.abort=function(){return this._aborted||(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort")),this},l.prototype._auth=function(e,t,n,i){switch(n.type){case"basic":this.set("Authorization","Basic "+i(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},l.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},l.prototype.redirects=function(e){return this._maxRedirects=e,this},l.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},l.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},l.prototype.send=function(e){var t=i(e),n=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var l in e)this._data[l]=e[l];else"string"==typeof e?(n||this.type("form"),this._data="application/x-www-form-urlencoded"==(n=this._header["content-type"])?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)||n||this.type("json"),this},l.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},l.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(0<=this.url.indexOf("?")?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(0<=t){var n=this.url.substring(t+1).split("&");"function"==typeof this._sort?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},l.prototype._appendQueryString=function(){console.trace("Unsupported")},l.prototype._timeoutError=function(e,t,n){if(!this._aborted){var i=new Error(e+t+"ms exceeded");i.timeout=t,i.code="ECONNABORTED",i.errno=n,this.timedout=!0,this.abort(),this.callback(i)}},l.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout((function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")}),this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout((function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")}),this._responseTimeout))}},function(e,t,n){"use strict";var i=n(76);function l(e){if(e)return function(e){for(var t in l.prototype)e[t]=l.prototype[t];return e}(e)}(e.exports=l).prototype.get=function(e){return this.header[e.toLowerCase()]},l.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var n=i.params(t);for(var l in n)this[l]=n[l];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},l.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,n){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce((function(e,t){var n=t.split(/ *= */),i=n.shift(),l=n.shift();return i&&l&&(e[i]=l),e}),{})},t.parseLinks=function(e){return e.split(/ *, */).reduce((function(e,t){var n=t.split(/ *; */),i=n[0].slice(1,-1);return e[n[1].split(/ *= */)[1].slice(1,-1)]=i,e}),{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function n(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach((function(e){n.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}})),n.prototype._setDefaults=function(e){this._defaults.forEach((function(t){e[t.fn].apply(e,t.arguments)}))},e.exports=n}],e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var l in t)e.d(i,l,(function(e){return t[e]}).bind(null,l));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=11);function e(i){if(n[i])return n[i].exports;var l=n[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,e),l.l=!0,l.exports}var t,n}()},sayU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PubNubAngular=void 0;var i=r(n("rtfF")),l=r(n("Dcaw"));function r(e){return e&&e.__esModule?e:{default:e}}t.PubNubAngular=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i.default))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(l.default)},"wSl+":function(e,t,n){var i;e.exports=function e(t,n,l){function r(o,s){if(!n[o]){if(!t[o]){if(!s&&"function"==typeof i&&i)return i(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return r(t[o][1][e]||e)}),c,c.exports,e,t,n,l)}return n[o].exports}for(var a="function"==typeof i&&i,o=0;o<l.length;o++)r(l[o]);return r}({1:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)l(n,i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,l){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),l);else for(var r=0;r<i;r++)e[l+r]=t[n+r]},flattenChunks:function(e){var t,n,i,l,r,a;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),l=0,t=0,n=e.length;t<n;t++)a.set(r=e[t],l),l+=r.length;return a}},a={arraySet:function(e,t,n,i,l){for(var r=0;r<i;r++)e[l+r]=t[n+r]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],2:[function(e,t,n){"use strict";var i=e("./common"),l=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(u){l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){r=!1}for(var a=new i.Buf8(256),o=0;o<256;o++)a[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;function s(e,t){if(t<65534&&(e.subarray&&r||!e.subarray&&l))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,l,r,a,o=e.length,s=0;for(r=0;r<o;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(l=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(l-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(s),a=0,r=0;a<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<o&&56320==(64512&(l=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(l-56320),r++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return s(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,l=t.length;n<l;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,l,r,o=t||e.length,u=new Array(2*o);for(i=0,n=0;n<o;)if((l=e[n++])<128)u[i++]=l;else if((r=a[l])>4)u[i++]=65533,n+=r-1;else{for(l&=2===r?31:3===r?15:7;r>1&&n<o;)l=l<<6|63&e[n++],r--;r>1?u[i++]=65533:l<65536?u[i++]=l:(u[i++]=55296|(l-=65536)>>10&1023,u[i++]=56320|1023&l)}return s(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var l=65535&e|0,r=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{r=r+(l=l+t[i++]|0)|0}while(--a);l%=65521,r%=65521}return l|r<<16|0}},{}],4:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,l){var r=i,a=l+n;e^=-1;for(var o=l;o<a;o++)e=e>>>8^r[255&(e^t[o])];return-1^e}},{}],5:[function(e,t,n){"use strict";var i,l=e("../utils/common"),r=e("./trees"),a=e("./adler32"),o=e("./crc32"),s=e("./messages"),u=0,c=4,h=0,d=-2,f=-1,p=1,v=4,g=2,m=8,y=9,b=286,k=30,_=19,w=2*b+1,x=15,C=3,S=258,T=S+C+1,P=42,M=113,A=1,I=2,E=3,D=4;function O(e,t){return e.msg=s[t],t}function F(e){return(e<<1)-(e>4?9:0)}function R(e){for(var t=e.length;--t>=0;)e[t]=0}function N(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(l.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function L(e,t){r._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,N(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function V(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function z(e,t){var n,i,l=e.max_chain_length,r=e.strstart,a=e.prev_length,o=e.nice_match,s=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+S,f=u[r+a-1],p=u[r+a];e.prev_length>=e.good_match&&(l>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(n=t)+a]===p&&u[n+a-1]===f&&u[n]===u[r]&&u[++n]===u[r+1]){r+=2,n++;do{}while(u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&u[++r]===u[++n]&&r<d);if(i=S-(d-r),r=d-S,i>a){if(e.match_start=t,a=i,i>=o)break;f=u[r+a-1],p=u[r+a]}}}while((t=h[t&c])>s&&0!=--l);return a<=e.lookahead?a:e.lookahead}function j(e){var t,n,i,r,s,u,c,h,d,f,p=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-T)){l.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=p?i-p:0}while(--n);t=n=p;do{i=e.prev[--t],e.prev[t]=i>=p?i-p:0}while(--n);r+=p}if(0===e.strm.avail_in)break;if(c=e.window,h=e.strstart+e.lookahead,f=void 0,(f=(u=e.strm).avail_in)>(d=r)&&(f=d),n=0===f?0:(u.avail_in-=f,l.arraySet(c,u.input,u.next_in,f,h),1===u.state.wrap?u.adler=a(u.adler,c,f,h):2===u.state.wrap&&(u.adler=o(u.adler,c,f,h)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=C)for(e.ins_h=e.window[s=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+C-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<C)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function H(e,t){for(var n,i;;){if(e.lookahead<T){if(j(e),e.lookahead<T&&t===u)return A;if(0===e.lookahead)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-T&&(e.match_length=z(e,n)),e.match_length>=C)if(i=r._tr_tally(e,e.strstart-e.match_start,e.match_length-C),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=C){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(L(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<C-1?e.strstart:C-1,t===c?(L(e,!0),0===e.strm.avail_out?E:D):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var n,i,l;;){if(e.lookahead<T){if(j(e),e.lookahead<T&&t===u)return A;if(0===e.lookahead)break}if(n=0,e.lookahead>=C&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=C-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=z(e,n),e.match_length<=5&&(e.strategy===p||e.match_length===C&&e.strstart-e.match_start>4096)&&(e.match_length=C-1)),e.prev_length>=C&&e.match_length<=e.prev_length){l=e.strstart+e.lookahead-C,i=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-C),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=l&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+C-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=C-1,e.strstart++,i&&(L(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((i=r._tr_tally(e,0,e.window[e.strstart-1]))&&L(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<C-1?e.strstart:C-1,t===c?(L(e,!0),0===e.strm.avail_out?E:D):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?A:I}function U(e,t,n,i,l){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=l}function Y(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*w),this.dyn_dtree=new l.Buf16(2*(2*k+1)),this.bl_tree=new l.Buf16(2*(2*_+1)),R(this.dyn_ltree),R(this.dyn_dtree),R(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(x+1),this.heap=new l.Buf16(2*b+1),R(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*b+1),R(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function q(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?P:M,e.adler=2===t.wrap?0:1,t.last_flush=u,r._tr_init(t),h):O(e,d)}function G(e){var t,n=q(e);return n===h&&((t=e.state).window_size=2*t.w_size,R(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0),n}function X(e,t,n,i,r,a){if(!e)return d;var o=1;if(t===f&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),r<1||r>y||n!==m||i<8||i>15||t<0||t>9||a<0||a>v)return O(e,d);8===i&&(i=9);var s=new Y;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+C-1)/C),s.window=new l.Buf8(2*s.w_size),s.head=new l.Buf16(s.hash_size),s.prev=new l.Buf16(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new l.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,G(e)}i=[new U(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===u)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,L(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-T&&(L(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===c?(L(e,!0),0===e.strm.avail_out?E:D):(e.strstart>e.block_start&&L(e,!1),A)})),new U(4,4,8,4,H),new U(4,5,16,8,H),new U(4,6,32,32,H),new U(4,4,16,16,W),new U(8,16,32,32,W),new U(8,16,128,128,W),new U(8,32,128,256,W),new U(32,128,258,1024,W),new U(32,258,258,4096,W)],n.deflateInit=function(e,t){return X(e,t,m,15,8,0)},n.deflateInit2=X,n.deflateReset=G,n.deflateResetKeep=q,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,h):d},n.deflate=function(e,t){var n,l,a,s;if(!e||!e.state||t>5||t<0)return e?O(e,d):d;if(l=e.state,!e.output||!e.input&&0!==e.avail_in||666===l.status&&t!==c)return O(e,0===e.avail_out?-5:d);if(l.strm=e,n=l.last_flush,l.last_flush=t,l.status===P)if(2===l.wrap)e.adler=0,B(l,31),B(l,139),B(l,8),l.gzhead?(B(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),B(l,255&l.gzhead.time),B(l,l.gzhead.time>>8&255),B(l,l.gzhead.time>>16&255),B(l,l.gzhead.time>>24&255),B(l,9===l.level?2:l.strategy>=2||l.level<2?4:0),B(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(B(l,255&l.gzhead.extra.length),B(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=o(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=69):(B(l,0),B(l,0),B(l,0),B(l,0),B(l,0),B(l,9===l.level?2:l.strategy>=2||l.level<2?4:0),B(l,3),l.status=M);else{var f=m+(l.w_bits-8<<4)<<8;f|=(l.strategy>=2||l.level<2?0:l.level<6?1:6===l.level?2:3)<<6,0!==l.strstart&&(f|=32),f+=31-f%31,l.status=M,V(l,f),0!==l.strstart&&(V(l,e.adler>>>16),V(l,65535&e.adler)),e.adler=1}if(69===l.status)if(l.gzhead.extra){for(a=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>a&&(e.adler=o(e.adler,l.pending_buf,l.pending-a,a)),N(e),a=l.pending,l.pending!==l.pending_buf_size));)B(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>a&&(e.adler=o(e.adler,l.pending_buf,l.pending-a,a)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=73)}else l.status=73;if(73===l.status)if(l.gzhead.name){a=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>a&&(e.adler=o(e.adler,l.pending_buf,l.pending-a,a)),N(e),a=l.pending,l.pending===l.pending_buf_size)){s=1;break}s=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,B(l,s)}while(0!==s);l.gzhead.hcrc&&l.pending>a&&(e.adler=o(e.adler,l.pending_buf,l.pending-a,a)),0===s&&(l.gzindex=0,l.status=91)}else l.status=91;if(91===l.status)if(l.gzhead.comment){a=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>a&&(e.adler=o(e.adler,l.pending_buf,l.pending-a,a)),N(e),a=l.pending,l.pending===l.pending_buf_size)){s=1;break}s=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,B(l,s)}while(0!==s);l.gzhead.hcrc&&l.pending>a&&(e.adler=o(e.adler,l.pending_buf,l.pending-a,a)),0===s&&(l.status=103)}else l.status=103;if(103===l.status&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&N(e),l.pending+2<=l.pending_buf_size&&(B(l,255&e.adler),B(l,e.adler>>8&255),e.adler=0,l.status=M)):l.status=M),0!==l.pending){if(N(e),0===e.avail_out)return l.last_flush=-1,h}else if(0===e.avail_in&&F(t)<=F(n)&&t!==c)return O(e,-5);if(666===l.status&&0!==e.avail_in)return O(e,-5);if(0!==e.avail_in||0!==l.lookahead||t!==u&&666!==l.status){var p=2===l.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===u)return A;break}if(e.match_length=0,n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(L(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===c?(L(e,!0),0===e.strm.avail_out?E:D):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?A:I}(l,t):3===l.strategy?function(e,t){for(var n,i,l,a,o=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===u)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=C&&e.strstart>0&&(i=o[l=e.strstart-1])===o[++l]&&i===o[++l]&&i===o[++l]){a=e.strstart+S;do{}while(i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&i===o[++l]&&l<a);e.match_length=S-(a-l),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=C?(n=r._tr_tally(e,1,e.match_length-C),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(L(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===c?(L(e,!0),0===e.strm.avail_out?E:D):e.last_lit&&(L(e,!1),0===e.strm.avail_out)?A:I}(l,t):i[l.level].func(l,t);if(p!==E&&p!==D||(l.status=666),p===A||p===E)return 0===e.avail_out&&(l.last_flush=-1),h;if(p===I&&(1===t?r._tr_align(l):5!==t&&(r._tr_stored_block(l,0,0,!1),3===t&&(R(l.head),0===l.lookahead&&(l.strstart=0,l.block_start=0,l.insert=0))),N(e),0===e.avail_out))return l.last_flush=-1,h}return t!==c?h:l.wrap<=0?1:(2===l.wrap?(B(l,255&e.adler),B(l,e.adler>>8&255),B(l,e.adler>>16&255),B(l,e.adler>>24&255),B(l,255&e.total_in),B(l,e.total_in>>8&255),B(l,e.total_in>>16&255),B(l,e.total_in>>24&255)):(V(l,e.adler>>>16),V(l,65535&e.adler)),N(e),l.wrap>0&&(l.wrap=-l.wrap),0!==l.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==P&&69!==t&&73!==t&&91!==t&&103!==t&&t!==M&&666!==t?O(e,d):(e.state=null,t===M?O(e,-3):h):d},n.deflateSetDictionary=function(e,t){var n,i,r,o,s,u,c,f,p=t.length;if(!e||!e.state)return d;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==P||n.lookahead)return d;for(1===o&&(e.adler=a(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===o&&(R(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new l.Buf8(n.w_size),l.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),s=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,j(n);n.lookahead>=C;){i=n.strstart,r=n.lookahead-(C-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+C-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--r);n.strstart=i,n.lookahead=C-1,j(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=s,n.wrap=o,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){"use strict";var i=e("../utils/common");function l(e){for(var t=e.length;--t>=0;)e[t]=0}var r=0,a=256,o=a+1+29,s=30,u=19,c=2*o+1,h=15,d=16,f=256,p=16,v=17,g=18,m=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=new Array(2*(o+2));l(_);var w=new Array(2*s);l(w);var x=new Array(512);l(x);var C=new Array(256);l(C);var S=new Array(29);l(S);var T,P,M,A=new Array(s);function I(e,t,n,i,l){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=l,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function D(e){return e<256?x[e]:x[256+(e>>>7)]}function O(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,n){e.bi_valid>d-n?(e.bi_buf|=t<<e.bi_valid&65535,O(e,e.bi_buf),e.bi_buf=t>>d-e.bi_valid,e.bi_valid+=n-d):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function R(e,t,n){F(e,n[2*t],n[2*t+1])}function N(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function L(e,t,n){var i,l,r=new Array(h+1),a=0;for(i=1;i<=h;i++)r[i]=a=a+n[i-1]<<1;for(l=0;l<=t;l++){var o=e[2*l+1];0!==o&&(e[2*l]=N(r[o]++,o))}}function B(e){var t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<u;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*f]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){e.bi_valid>8?O(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function z(e,t,n,i){var l=2*t,r=2*n;return e[l]<e[r]||e[l]===e[r]&&i[t]<=i[n]}function j(e,t,n){for(var i=e.heap[n],l=n<<1;l<=e.heap_len&&(l<e.heap_len&&z(t,e.heap[l+1],e.heap[l],e.depth)&&l++,!z(t,i,e.heap[l],e.depth));)e.heap[n]=e.heap[l],n=l,l<<=1;e.heap[n]=i}function H(e,t,n){var i,l,r,o,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],l=e.pending_buf[e.l_buf+s],s++,0===i?R(e,l,t):(R(e,(r=C[l])+a+1,t),0!==(o=m[r])&&F(e,l-=S[r],o),R(e,r=D(--i),n),0!==(o=y[r])&&F(e,i-=A[r],o))}while(s<e.last_lit);R(e,f,t)}function W(e,t){var n,i,l,r=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=c,n=0;n<s;n++)0!==r[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):r[2*n+1]=0;for(;e.heap_len<2;)r[2*(l=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=a[2*l+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)j(e,r,n);l=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],j(e,r,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,r[2*l]=r[2*n]+r[2*i],e.depth[l]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,r[2*n+1]=r[2*i+1]=l,e.heap[1]=l++,j(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,l,r,a,o,s=t.dyn_tree,u=t.max_code,d=t.stat_desc.static_tree,f=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,v=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(r=0;r<=h;r++)e.bl_count[r]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<c;n++)(r=s[2*s[2*(i=e.heap[n])+1]+1]+1)>g&&(r=g,m++),s[2*i+1]=r,i>u||(e.bl_count[r]++,a=0,i>=v&&(a=p[i-v]),e.opt_len+=(o=s[2*i])*(r+a),f&&(e.static_len+=o*(d[2*i+1]+a)));if(0!==m){do{for(r=g-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[g]--,m-=2}while(m>0);for(r=g;0!==r;r--)for(i=e.bl_count[r];0!==i;)(l=e.heap[--n])>u||(s[2*l+1]!==r&&(e.opt_len+=(r-s[2*l+1])*s[2*l],s[2*l+1]=r),i--)}}(e,t),L(r,u,e.bl_count)}function U(e,t,n){var i,l,r=-1,a=t[1],o=0,s=7,u=4;for(0===a&&(s=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)l=a,a=t[2*(i+1)+1],++o<s&&l===a||(o<u?e.bl_tree[2*l]+=o:0!==l?(l!==r&&e.bl_tree[2*l]++,e.bl_tree[2*p]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*g]++,o=0,r=l,0===a?(s=138,u=3):l===a?(s=6,u=3):(s=7,u=4))}function Y(e,t,n){var i,l,r=-1,a=t[1],o=0,s=7,u=4;for(0===a&&(s=138,u=3),i=0;i<=n;i++)if(l=a,a=t[2*(i+1)+1],!(++o<s&&l===a)){if(o<u)do{R(e,l,e.bl_tree)}while(0!=--o);else 0!==l?(l!==r&&(R(e,l,e.bl_tree),o--),R(e,p,e.bl_tree),F(e,o-3,2)):o<=10?(R(e,v,e.bl_tree),F(e,o-3,3)):(R(e,g,e.bl_tree),F(e,o-11,7));o=0,r=l,0===a?(s=138,u=3):l===a?(s=6,u=3):(s=7,u=4)}}l(A);var q=!1;function G(e,t,n,l){F(e,(r<<1)+(l?1:0),3),function(e,t,n,l){V(e),O(e,n),O(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){q||(function(){var e,t,n,i,l,r=new Array(h+1);for(n=0,i=0;i<28;i++)for(S[i]=n,e=0;e<1<<m[i];e++)C[n++]=i;for(C[n-1]=i,l=0,i=0;i<16;i++)for(A[i]=l,e=0;e<1<<y[i];e++)x[l++]=i;for(l>>=7;i<s;i++)for(A[i]=l<<7,e=0;e<1<<y[i]-7;e++)x[256+l++]=i;for(t=0;t<=h;t++)r[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,r[8]++;for(;e<=255;)_[2*e+1]=9,e++,r[9]++;for(;e<=279;)_[2*e+1]=7,e++,r[7]++;for(;e<=287;)_[2*e+1]=8,e++,r[8]++;for(L(_,o+1,r),e=0;e<s;e++)w[2*e+1]=5,w[2*e]=N(e,5);T=new I(_,m,a+1,o,h),P=new I(w,y,0,s,h),M=new I(new Array(0),b,0,u,7)}(),q=!0),e.l_desc=new E(e.dyn_ltree,T),e.d_desc=new E(e.dyn_dtree,P),e.bl_desc=new E(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,B(e)},n._tr_stored_block=G,n._tr_flush_block=function(e,t,n,i){var l,r,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),W(e,e.l_desc),W(e,e.d_desc),o=function(e){var t;for(U(e,e.dyn_ltree,e.l_desc.max_code),U(e,e.dyn_dtree,e.d_desc.max_code),W(e,e.bl_desc),t=u-1;t>=3&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(r=e.static_len+3+7>>>3)<=(l=e.opt_len+3+7>>>3)&&(l=r)):l=r=n+5,n+4<=l&&-1!==t?G(e,t,n,i):4===e.strategy||r===l?(F(e,2+(i?1:0),3),H(e,_,w)):(F(e,4+(i?1:0),3),function(e,t,n,i){var l;for(F(e,t-257,5),F(e,n-1,5),F(e,i-4,4),l=0;l<i;l++)F(e,e.bl_tree[2*k[l]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),H(e,e.dyn_ltree,e.dyn_dtree)),B(e),i&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+a+1)]++,e.dyn_dtree[2*D(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){F(e,2,3),R(e,f,_),function(e){16===e.bi_valid?(O(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":1}],8:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){"use strict";var i=e("./zlib/deflate"),l=e("./utils/common"),r=e("./utils/strings"),a=e("./zlib/messages"),o=e("./zlib/zstream"),s=Object.prototype.toString,u=0,c=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=l.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?r.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,o=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,o.input="string"==typeof e?r.string2buf(e):"[object ArrayBuffer]"===s.call(e)?new Uint8Array(e):e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new l.Buf8(c),o.next_out=0,o.avail_out=c),1!==(n=i.deflate(o,a))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?r.buf2binstring(l.shrinkBuf(o.output,o.next_out)):l.shrinkBuf(o.output,o.next_out))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),o.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===u&&(this.result="string"===this.options.to?this.chunks.join(""):l.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js")},xutz:function(e,t,n){"use strict";(function(e){var i=n("XqMk"),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,r=l&&"object"==typeof e&&e&&!e.nodeType&&e,a=r&&r.exports===l&&i.a.process,o=function(){try{return r&&r.require&&r.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=o}).call(this,n("3UD+")(e))},zUnb:function(e,t,n){"use strict";var i,l,r,a,o,s,u,c,h;n.r(t);var d={};n.r(d),n.d(d,"byMonth",(function(){return IA})),n.d(d,"byMonthDay",(function(){return EA})),n.d(d,"byYearDay",(function(){return DA})),n.d(d,"byWeekNumber",(function(){return OA})),n.d(d,"byWeekDay",(function(){return FA})),n.d(d,"byHour",(function(){return RA})),n.d(d,"byMinute",(function(){return NA})),n.d(d,"bySecond",(function(){return LA}));var f={};function p(e){return"function"==typeof e}n.r(f),n.d(f,"swing",(function(){return xR})),n.d(f,"linear",(function(){return CR})),n.d(f,"easeOutElastic",(function(){return SR}));var v=!1,g={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else v&&console.log("RxJS: Back to a better error behavior. Thank you. <3");v=e},get useDeprecatedSynchronousErrorHandling(){return v}};function m(e){setTimeout((function(){throw e}))}var y={closed:!0,next:function(e){},error:function(e){if(g.useDeprecatedSynchronousErrorHandling)throw e;m(e)},complete:function(){}},b=Array.isArray||function(e){return e&&"number"==typeof e.length};function k(e){return null!==e&&"object"==typeof e}function _(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}_.prototype=Object.create(Error.prototype);var w,x=_,C=((w=function(){function e(t){_classCallCheck2(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass2(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,l=this._unsubscribe,r=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,o=i?i.length:0;n;)n.remove(this),n=++a<o&&i[a]||null;if(p(l))try{l.call(this)}catch(u){t=!0,e=u instanceof x?S(u.errors):[u]}if(b(r))for(a=-1,o=r.length;++a<o;){var s=r[a];if(k(s))try{s.unsubscribe()}catch(u){t=!0,e=e||[],u instanceof x?e=e.concat(S(u.errors)):e.push(u)}}if(t)throw new x(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var l=this._subscriptions;l?l.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new w),w);function S(e){return e.reduce((function(e,t){return e.concat(t instanceof x?t.errors:t)}),[])}var T="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),P=function(e){function t(e,n,i){var l;switch(_classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).syncErrorValue=null,l.syncErrorThrown=!1,l.syncErrorThrowable=!1,l.isStopped=!1,arguments.length){case 0:l.destination=y;break;case 1:if(!e){l.destination=y;break}if("object"==typeof e){e instanceof t?(l.syncErrorThrowable=e.syncErrorThrowable,l.destination=e,e.add(_assertThisInitialized(l))):(l.syncErrorThrowable=!0,l.destination=new M(_assertThisInitialized(l),e));break}default:l.syncErrorThrowable=!0,l.destination=new M(_assertThisInitialized(l),e,n,i)}return l}return _inherits(t,e),_createClass2(t,[{key:T,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get2(_getPrototypeOf2(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,n,i){var l=new t(e,n,i);return l.syncErrorThrowable=!1,l}}]),t}(C),M=function(e){function t(e,n,i,l){var r,a;_classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._parentSubscriber=e;var o=_assertThisInitialized(r);return p(n)?a=n:n&&(a=n.next,i=n.error,l=n.complete,n!==y&&(p((o=Object.create(n)).unsubscribe)&&r.add(o.unsubscribe.bind(o)),o.unsubscribe=r.unsubscribe.bind(_assertThisInitialized(r)))),r._context=o,r._next=a,r._error=i,r._complete=l,r}return _inherits(t,e),_createClass2(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;g.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=g.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):m(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;m(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};g.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),g.useDeprecatedSynchronousErrorHandling)throw n;m(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!g.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return g.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(m(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(P),A="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(){}function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return D(t)}function D(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:I}var O,F=((O=function(){function e(t){_classCallCheck2(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass2(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,l=function(e,t,n){if(e){if(e instanceof P)return e;if(e[T])return e[T]()}return e||t||n?new P(e,t,n):new P(y)}(e,t,n);if(l.add(i?i.call(l,this.source):this.source||g.useDeprecatedSynchronousErrorHandling&&!l.syncErrorThrowable?this._subscribe(l):this._trySubscribe(l)),g.useDeprecatedSynchronousErrorHandling&&l.syncErrorThrowable&&(l.syncErrorThrowable=!1,l.syncErrorThrown))throw l.syncErrorValue;return l}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){g.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,l=t.isStopped;if(n||l)return!1;e=i&&i instanceof P?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=R(t))((function(t,i){var l;l=n.subscribe((function(t){try{e(t)}catch(n){i(n),l&&l.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:A,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:D(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=R(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new O(e)},O);function R(e){if(e||(e=g.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function N(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}N.prototype=Object.create(Error.prototype);var L,B=N,V=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).subject=e,i.subscriber=n,i.closed=!1,i}return _inherits(t,e),_createClass2(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(C),z=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(P),j=((L=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass2(t,[{key:T,value:function(){return new z(this)}},{key:"lift",value:function(e){var t=new H(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new B;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),l=0;l<n;l++)i[l].next(e)}},{key:"error",value:function(e){if(this.closed)throw new B;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),l=0;l<n;l++)i[l].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new B;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new B;return _get2(_getPrototypeOf2(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new B;return this.hasError?(e.error(this.thrownError),C.EMPTY):this.isStopped?(e.complete(),C.EMPTY):(this.observers.push(e),new V(this,e))}},{key:"asObservable",value:function(){var e=new F;return e.source=this,e}}]),t}(F)).create=function(e,t){return new H(e,t)},L),H=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).destination=e,i.source=n,i}return _inherits(t,e),_createClass2(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):C.EMPTY}}]),t}(j);function W(e){return e&&"function"==typeof e.schedule}var U=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).parent=e,l.outerValue=n,l.outerIndex=i,l.index=0,l}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(P),Y=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},q=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,m),t}};var G="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",X=function(e){return function(t){for(var n=e[G]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},K=function(e){return function(t){var n=e[A]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},$=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Z(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Q=function(e){if(e instanceof F)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[A])return K(e);if($(e))return Y(e);if(Z(e))return q(e);if(e&&"function"==typeof e[G])return X(e);var t=k(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function J(e,t,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new U(e,n,i);if(!l.closed)return Q(t)(l)}var ee=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"notifyNext",value:function(e,t,n,i,l){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(P);function te(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ne(e,t))}}var ne=function(){function e(t,n){_classCallCheck2(this,e),this.project=t,this.thisArg=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ie(e,this.project,this.thisArg))}}]),e}(),ie=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).project=n,l.count=0,l.thisArg=i||_assertThisInitialized(l),l}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(P);function le(e,t){return new F(t?function(n){var i=new C,l=0;return i.add(t.schedule((function(){l!==e.length?(n.next(e[l++]),n.closed||i.add(this.schedule())):n.complete()}))),i}:Y(e))}function re(e,t){if(!t)return e instanceof F?e:new F(Q(e));if(null!=e){if(function(e){return e&&"function"==typeof e[A]}(e))return function(e,t){return new F(t?function(n){var i=new C;return i.add(t.schedule((function(){var l=e[A]();i.add(l.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}:K(e))}(e,t);if(Z(e))return function(e,t){return new F(t?function(n){var i=new C;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}:q(e))}(e,t);if($(e))return le(e,t);if(function(e){return e&&"function"==typeof e[G]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new F(t?function(n){var i,l=new C;return l.add((function(){i&&"function"==typeof i.return&&i.return()})),l.add(t.schedule((function(){i=e[G](),l.add(t.schedule((function(){if(!n.closed){var e,t;try{var l=i.next();e=l.value,t=l.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}})))}))),l}:X(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(ae((function(n,i){return re(e(n,i)).pipe(te((function(e,l){return t(n,e,i,l)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new oe(e,n))})}var oe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck2(this,e),this.project=t,this.concurrent=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new se(e,this.project,this.concurrent))}}]),e}(),se=function(e){function t(e,n){var i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).project=n,i.concurrent=l,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new U(this,void 0,void 0);this.destination.add(i),J(this,e,t,n,i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,l){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(ee);function ue(e){return e}function ce(){return ae(ue,arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY)}function he(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,l=null,r=t[t.length-1];return W(r)?(l=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof r&&(i=t.pop()),null===l&&1===t.length&&t[0]instanceof F?t[0]:ce(i)(le(t,l))}function de(){return function(e){return e.lift(new fe(e))}}var fe=function(){function e(t){_classCallCheck2(this,e),this.connectable=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new pe(e,n),l=t.subscribe(i);return i.closed||(i.connection=n.connect()),l}}]),e}(),pe=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).connectable=n,i}return _inherits(t,e),_createClass2(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),t}(P),ve=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return _inherits(t,e),_createClass2(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new C).add(this.source.subscribe(new me(this.getSubject(),this))),e.closed?(this._connection=null,e=C.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return de()(this)}}]),t}(F).prototype,ge={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ve._subscribe},_isComplete:{value:ve._isComplete,writable:!0},getSubject:{value:ve.getSubject},connect:{value:ve.connect},refCount:{value:ve.refCount}},me=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).connectable=n,i}return _inherits(t,e),_createClass2(t,[{key:"_error",value:function(e){this._unsubscribe(),_get2(_getPrototypeOf2(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get2(_getPrototypeOf2(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(z);function ye(){return new j}var be="__annotations__",ke="__parameters__",_e="__prop__metadata__";function we(e,t,n,i,l){var r=xe(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return r.call.apply(r,[this].concat(t)),this;var o=_construct2(a,t);return function(e){return l&&l.apply(void 0,[e].concat(t)),(e.hasOwnProperty(be)?e[be]:Object.defineProperty(e,be,{value:[]})[be]).push(o),i&&i(e),e}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}function xe(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function Ce(e,t,n){var i=xe(t);function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof l)return i.apply(this,t),this;var r=_construct2(l,t);return a.annotation=r,a;function a(e,t,n){for(var i=e.hasOwnProperty(ke)?e[ke]:Object.defineProperty(e,ke,{value:[]})[ke];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(r),e}}return n&&(l.prototype=Object.create(n.prototype)),l.prototype.ngMetadataName=e,l.annotationCls=l,l}function Se(e,t,n,i){var l=xe(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return l.apply(this,t),this;var a=_construct2(r,t);return function(e,n){var l=e.constructor,r=l.hasOwnProperty(_e)?l[_e]:Object.defineProperty(l,_e,{value:{}})[_e];r[n]=r.hasOwnProperty(n)&&r[n]||[],r[n].unshift(a),i&&i.apply(void 0,[e,n].concat(t))}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}var Te=Ce("Inject",(function(e){return{token:e}})),Pe=Ce("Optional"),Me=Ce("Self"),Ae=Ce("SkipSelf"),Ie=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function Ee(e){for(var t in e)if(e[t]===Ee)return t;throw Error("Could not find renamed property on target object.")}function De(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var Oe=De;function Fe(e){var t=e[Re];return t&&t.token===e?t:null}var Re=Ee({ngInjectableDef:Ee});function Ne(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var Le=Ee({__forward_ref__:Ee});function Be(e){return e.__forward_ref__=Be,e.toString=function(){return Ne(this())},e}function Ve(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(Le)&&t.__forward_ref__===Be?t():e}var ze,je="undefined"!=typeof globalThis&&globalThis,He="undefined"!=typeof window&&window,We="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ue="undefined"!=typeof global&&global,Ye=je||Ue||He||We,qe=function(){function e(t,n){_classCallCheck2(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=De({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass2(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),Ge=new qe("INJECTOR",-1),Xe=new Object,Ke=/\n/gm,$e="\u0275",Ze="__source",Qe=Ee({provide:String,useValue:Ee}),Je=void 0;function et(e){var t=Je;return Je=e,t}function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie.Default;if(void 0===Je)throw new Error("inject() must be called from an injection context");return null===Je?function(e,t,n){var i=Fe(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&Ie.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(Ne(e),"]"))}(e,0,t):Je.get(e,t&Ie.Optional?null:void 0,t)}function nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ie.Default;return(ze||tt)(e,t)}var it=nt;function lt(e){for(var t=[],n=0;n<e.length;n++){var i=Ve(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var l=void 0,r=Ie.Default,a=0;a<i.length;a++){var o=i[a];o instanceof Pe||"Optional"===o.ngMetadataName||o===Pe?r|=Ie.Optional:o instanceof Ae||"SkipSelf"===o.ngMetadataName||o===Ae?r|=Ie.SkipSelf:o instanceof Me||"Self"===o.ngMetadataName||o===Me?r|=Ie.Self:l=o instanceof Te||o===Te?o.token:o}t.push(nt(l,r))}else t.push(nt(i))}return t}var rt=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xe;if(t===Xe){var n=new Error("NullInjectorError: No provider for ".concat(Ne(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function at(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&e.charAt(1)==$e?e.substr(2):e;var l=Ne(t);if(t instanceof Array)l=t.map(Ne).join(" -> ");else if("object"==typeof t){var r=[];for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];r.push(a+":"+("string"==typeof o?JSON.stringify(o):Ne(o)))}l="{".concat(r.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(l,"]: ").concat(e.replace(Ke,"\n  "))}var ot=function e(){_classCallCheck2(this,e)},st=function e(){_classCallCheck2(this,e)};function ut(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ct(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var ht=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),dt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ft=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ye),pt="ngDebugContext",vt="ngOriginalError",gt="ngErrorLogger";function mt(e){return e[pt]}function yt(e){return e[vt]}function bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var kt=function(){function e(){_classCallCheck2(this,e),this._console=console}return _createClass2(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e[gt]||bt}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?mt(e)?mt(e):this._findContext(yt(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=yt(e);t&&yt(t);)t=yt(t);return t}}]),e}(),_t=!0,wt=!1;function xt(){return wt=!0,_t}var Ct=function(){function e(t){if(_classCallCheck2(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass2(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var l=e.firstChild;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}]),e}(),St=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Tt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Pt(e){return(e=String(e)).match(St)||e.match(Tt)?e:(xt()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Mt(e){var t={},n=!0,i=!1,l=void 0;try{for(var r,a=e.split(",")[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){t[r.value]=!0}}catch(o){i=!0,l=o}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return t}function At(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var l=0,r=n;l<r.length;l++){var a=r[l];for(var o in a)a.hasOwnProperty(o)&&(e[o]=!0)}return e}var It,Et=Mt("area,br,col,hr,img,wbr"),Dt=Mt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ot=Mt("rp,rt"),Ft=At(Ot,Dt),Rt=At(Et,At(Dt,Mt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),At(Ot,Mt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ft),Nt=Mt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lt=Mt("srcset"),Bt=At(Nt,Lt,Mt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Mt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vt=Mt("script,style,template"),zt=function(){function e(){_classCallCheck2(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass2(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!Rt.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vt.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,l=0;l<i.length;l++){var r=i.item(l),a=r.name,o=a.toLowerCase();if(Bt.hasOwnProperty(o)){var s=r.value;Nt[o]&&(s=Pt(s)),Lt[o]&&(n=s,s=(n=String(n)).split(",").map((function(e){return Pt(e.trim())})).join(", ")),this.buf.push(" ",a,'="',Wt(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();Rt.hasOwnProperty(t)&&!Et.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Wt(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(e.outerHTML));return t}}]),e}(),jt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ht=/([^\#-~ |!])/g;function Wt(e){return e.replace(/&/g,"&amp;").replace(jt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ht,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ut(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Yt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),qt=function e(){_classCallCheck2(this,e)},Gt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Xt=/^url\(([^)]+)\)$/,Kt=/([A-Z])/g;function $t(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var Zt=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return Qt()},e}(),Qt=function(){},Jt=Function;function en(e){return"function"==typeof e}var tn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,nn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,ln=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,rn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,an=function(){function e(t){_classCallCheck2(this,e),this._reflect=t||Ye.Reflect}return _createClass2(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return _construct2(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=void 0===e?new Array(t.length):new Array(e.length);for(var i=0;i<n.length;i++)n[i]=void 0===e?[]:e[i]&&e[i]!=Object?[e[i]]:[],t&&null!=t[i]&&(n[i]=n[i].concat(t[i]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),tn.test(n)||rn.test(n)||nn.test(n)&&!ln.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var i=e.ctorParameters;if(i&&i!==t.ctorParameters){var l="function"==typeof i?i():i,r=l.map((function(e){return e&&e.type})),a=l.map((function(e){return e&&on(e.decorators)}));return this._zipTypesAndAnnotations(r,a)}var o=e.hasOwnProperty(ke)&&e[ke],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||o?this._zipTypesAndAnnotations(s,o):new Array(e.length).fill(void 0)}},{key:"parameters",value:function(e){if(!en(e))return[];var t=sn(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?on(e.decorators):e.hasOwnProperty(be)?e[be]:null}},{key:"annotations",value:function(e){if(!en(e))return[];var t=sn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var i=e.propDecorators,l={};return Object.keys(i).forEach((function(e){l[e]=on(i[e])})),l}return e.hasOwnProperty(_e)?e[_e]:null}},{key:"propMetadata",value:function(e){if(!en(e))return{};var t=sn(e),n={};if(t!==Object){var i=this.propMetadata(t);Object.keys(i).forEach((function(e){n[e]=i[e]}))}var l=this._ownPropMetadata(e,t);return l&&Object.keys(l).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray(n[e])),t.push.apply(t,_toConsumableArray(l[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return en(e)&&this._ownPropMetadata(e,sn(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Jt&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./".concat(Ne(e))}},{key:"resourceUri",value:function(e){return"./".concat(Ne(e))}},{key:"resolveIdentifier",value:function(e,t,n,i){return i}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function on(e){return e?e.map((function(e){return _construct2(e.type.annotationCls,_toConsumableArray(e.args?e.args:[]))})):[]}function sn(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var un=Ee({provide:String,useValue:Ee}),cn=[];function hn(e,t){if(!t){var n=(new an).parameters(e);return function(){return _construct2(e,_toConsumableArray(lt(n)))}}if(un in t){var i=t;return function(){return i.useValue}}if(t.useExisting){var l=t;return function(){return nt(l.useExisting)}}if(t.useFactory){var r=t;return function(){return r.useFactory.apply(r,_toConsumableArray(lt(r.deps||cn)))}}if(t.useClass){var a=t,o=t.deps;if(!o){var s=new an;o=s.parameters(e)}return function(){return _construct2(a.useClass,_toConsumableArray(lt(o)))}}var u=t.deps;if(!u){var c=new an;u=c.parameters(e)}return function(){return _construct2(e,_toConsumableArray(lt(u)))}}var dn=new qe("The presence of this token marks an injector as being the root injector."),fn=function(e,t,n){return new bn(e,t,n)},pn=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?fn(e,t,""):fn(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Xe,e.NULL=new rt,e.ngInjectableDef=De({token:e,providedIn:"any",factory:function(){return nt(Ge)}}),e.__NG_ELEMENT_ID__=-1,e}(),vn=function(e){return e},gn=[],mn=vn,yn=function(){return Array.prototype.slice.call(arguments)},bn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn.NULL,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck2(this,e),this.parent=n,this.source=i;var l=this._records=new Map;l.set(pn,{token:pn,fn:vn,deps:gn,value:this,useNew:!1}),l.set(Ge,{token:Ge,fn:vn,deps:gn,value:this,useNew:!1}),function e(t,n){if(n)if((n=Ve(n))instanceof Array)for(var i=0;i<n.length;i++)e(t,n[i]);else{if("function"==typeof n)throw _n("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw _n("Unexpected provider",n);var l=Ve(n.provide),r=function(e){var t=function(e){var t=gn,n=e.deps;if(n&&n.length){t=[];for(var i=0;i<n.length;i++){var l=6,r=Ve(n[i]);if(r instanceof Array)for(var a=0,o=r;a<o.length;a++){var s=o[a];s instanceof Pe||s==Pe?l|=1:s instanceof Ae||s==Ae?l&=-3:s instanceof Me||s==Me?l&=-5:r=s instanceof Te?s.token:Ve(s)}t.push({token:r,options:l})}}else if(e.useExisting)t=[{token:Ve(e.useExisting),options:6}];else if(!(n||Qe in e))throw _n("'deps' required",e);return t}(e),n=vn,i=gn,l=!1,r=Ve(e.provide);if(Qe in e)i=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)l=!0,n=Ve(e.useClass);else{if("function"!=typeof r)throw _n("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);l=!0,n=r}return{deps:t,fn:n,useNew:l,value:i}}(n);if(!0===n.multi){var a=t.get(l);if(a){if(a.fn!==yn)throw kn(l)}else t.set(l,a={token:n.provide,deps:[],useNew:!1,fn:yn,value:gn});a.deps.push({token:l=n,options:6})}var o=t.get(l);if(o&&o.fn==yn)throw kn(l);t.set(l,r)}}(l,t)}return _createClass2(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie.Default,i=this._records.get(e);try{return function e(t,n,i,l,r,a){try{return function(t,n,i,l,r,a){var o;if(!n||a&Ie.SkipSelf)a&Ie.Self||(o=l.get(t,r,Ie.Default));else{if((o=n.value)==mn)throw Error("\u0275Circular dependency");if(o===gn){n.value=mn;var s=n.useNew,u=n.fn,c=n.deps,h=gn;if(c.length){h=[];for(var d=0;d<c.length;d++){var f=c[d],p=f.options,v=2&p?i.get(f.token):void 0;h.push(e(f.token,v,i,v||4&p?l:pn.NULL,1&p?null:pn.THROW_IF_NOT_FOUND,Ie.Default))}}n.value=o=s?_construct2(u,_toConsumableArray(h)):u.apply(void 0,h)}}return o}(t,n,i,l,r,a)}catch(o){throw o instanceof Error||(o=new Error(o)),(o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(t),n&&n.value==mn&&(n.value=gn),o}}(e,i,this._records,this.parent,t,n)}catch(l){return function(e,t,n,i){var l=e.ngTempTokenPath;throw t[Ze]&&l.unshift(t[Ze]),e.message=at("\n"+e.message,l,"StaticInjectorError",i),e.ngTokenPath=l,e.ngTempTokenPath=null,e}(l,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(Ne(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function kn(e){return _n("Cannot mix multi providers and regular providers",e)}function _n(e,t){return new Error(at(e,t,"StaticInjectorError"))}var wn=new qe("AnalyzeForEntryComponents"),xn=null;function Cn(){if(!xn){var e=Ye.Symbol;if(e&&e.iterator)xn=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(xn=i)}}return xn}function Sn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function Tn(e,t){var n=Mn(e),i=Mn(t);return n&&i?function(e,t,n){for(var i=e[Cn()](),l=t[Cn()]();;){var r=i.next(),a=l.next();if(r.done&&a.done)return!0;if(r.done||a.done)return!1;if(!n(r.value,a.value))return!1}}(e,t,Tn):!(n||!(e&&("object"==typeof e||"function"==typeof e))||i||!(t&&("object"==typeof t||"function"==typeof t)))||Sn(e,t)}var Pn=function(){function e(t){_classCallCheck2(this,e),this.wrapped=t}return _createClass2(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Mn(e){return!!An(e)&&(Array.isArray(e)||!(e instanceof Map)&&Cn()in e)}function An(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function In(e){return!!e&&"function"==typeof e.then}function En(e){return!!e&&"function"==typeof e.subscribe}var Dn=function(){function e(t,n,i){_classCallCheck2(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass2(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),On=function e(){_classCallCheck2(this,e)},Fn=function e(){_classCallCheck2(this,e)};function Rn(e){var t=Error("No component factory found for ".concat(Ne(e),". Did you add it to @NgModule.entryComponents?"));return t[Nn]=e,t}var Nn="ngComponent",Ln=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"resolveComponentFactory",value:function(e){throw Rn(e)}}]),e}(),Bn=function(){var e=function e(){_classCallCheck2(this,e)};return e.NULL=new Ln,e}(),Vn=function(){function e(t,n,i){_classCallCheck2(this,e),this._parent=n,this._ngModule=i,this._factories=new Map;for(var l=0;l<t.length;l++){var r=t[l];this._factories.set(r.componentType,r)}}return _createClass2(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw Rn(e);return new zn(t,this._ngModule)}}]),e}(),zn=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).factory=e,i.ngModule=n,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _inherits(t,e),_createClass2(t,[{key:"create",value:function(e,t,n,i){return this.factory.create(e,t,n,i||this.ngModule)}}]),t}(Fn);function jn(){}var Hn=function(){var e=function e(t){_classCallCheck2(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Wn(e)},e}(),Wn=jn,Un=function e(){_classCallCheck2(this,e)},Yn=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),qn=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return Gn()},e}(),Gn=jn,Xn=new function e(t){_classCallCheck2(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("8.2.14"),Kn=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"supports",value:function(e){return Mn(e)}},{key:"create",value:function(e){return new Zn(e)}}]),e}(),$n=function(e,t){return t},Zn=function(){function e(t){_classCallCheck2(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||$n}return _createClass2(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,l=null;t||n;){var r=!n||t&&t.currentIndex<ti(n,i,l)?t:n,a=ti(r,i,l),o=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{l||(l=[]);var s=a-i,u=o-i;if(s!=u){for(var c=0;c<s;c++){var h=c<l.length?l[c]:l[c]=0,d=h+c;u<=d&&d<s&&(l[c]=h+1)}l[r.previousIndex]=u-s}}a!==o&&e(r,a,o)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Mn(e))throw new Error("Error trying to diff '".concat(Ne(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,l,r=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var o=0;o<this.length;o++)l=this._trackByFn(o,i=e[o]),null!==r&&Sn(r.trackById,l)?(a&&(r=this._verifyReinsertion(r,i,l,o)),Sn(r.item,i)||this._addIdentityChange(r,i)):(r=this._mismatch(r,i,l,o),a=!0),r=r._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,l=e[Cn()]();!(i=l.next()).done;)t(i.value)}(e,(function(e){l=t._trackByFn(n,e),null!==r&&Sn(r.trackById,l)?(a&&(r=t._verifyReinsertion(r,e,l,n)),Sn(r.item,e)||t._addIdentityChange(r,e)):(r=t._mismatch(r,e,l,n),a=!0),r=r._next,n++})),this.length=n;return this._truncate(r),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var l;return null===e?l=this._itTail:(l=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Sn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,l,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Sn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,l,i)):e=this._addAfter(new Qn(t,n),l,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==l?e=this._reinsertAfter(l,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,l=e._nextRemoved;return null===i?this._removalsHead=l:i._nextRemoved=l,null===l?this._removalsTail=i:l._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ei),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ei),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),Qn=function e(t,n){_classCallCheck2(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Jn=function(){function e(){_classCallCheck2(this,e),this._head=null,this._tail=null}return _createClass2(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Sn(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ei=function(){function e(){_classCallCheck2(this,e),this.map=new Map}return _createClass2(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Jn,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function ti(e,t,n){var i=e.previousIndex;if(null===i)return i;var l=0;return n&&i<n.length&&(l=n[i]),i+t+l}var ni=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"supports",value:function(e){return e instanceof Map||An(e)}},{key:"create",value:function(){return new ii}}]),e}(),ii=function(){function e(){_classCallCheck2(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass2(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||An(e)))throw new Error("Error trying to diff '".concat(Ne(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var l=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,l)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,l=n._next;return i&&(i._next=l),l&&(l._prev=i),n._next=null,n._prev=null,n}var r=new li(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Sn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),li=function e(t){_classCallCheck2(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},ri=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass2(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ae,new Pe]]}}}]),e}();return e.ngInjectableDef=De({token:e,providedIn:"root",factory:function(){return new e([new Kn])}}),e}(),ai=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass2(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ae,new Pe]]}}}]),e}();return e.ngInjectableDef=De({token:e,providedIn:"root",factory:function(){return new e([new ni])}}),e}(),oi=[new ni],si=new ri([new Kn]),ui=new ai(oi),ci=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return hi(e,Hn)},e}(),hi=jn,di=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return fi(e,Hn)},e}(),fi=jn;function pi(e,t,n,i){var l="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return i&&(l+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return vi(n,t),n}(l,e)}function vi(e,t){e[pt]=t,e[gt]=t.logError.bind(t)}function gi(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: ".concat(e))}function mi(e,t,n){var i=e.state,l=1792&i;return l===t?(e.state=-1793&i|n,e.initIndex=-1,!0):l===n}function yi(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function bi(e,t){return e.nodes[t]}function ki(e,t){return e.nodes[t]}function _i(e,t){return e.nodes[t]}function wi(e,t){return e.nodes[t]}function xi(e,t){return e.nodes[t]}var Ci={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},Si=function(){},Ti=new Map;function Pi(e){var t=Ti.get(e);return t||(t=Ne(e)+"_"+Ti.size,Ti.set(e,t)),t}function Mi(e,t,n,i){if(Pn.isWrapped(i)){i=Pn.unwrap(i);var l=e.def.nodes[t].bindingIndex+n,r=Pn.unwrap(e.oldValues[l]);e.oldValues[l]=new Pn(r)}return i}var Ai="$$undefined",Ii="$$empty";function Ei(e){return{id:Ai,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var Di=0;function Oi(e,t,n,i){return!(!(2&e.state)&&Sn(e.oldValues[t.bindingIndex+n],i))}function Fi(e,t,n,i){return!!Oi(e,t,n,i)&&(e.oldValues[t.bindingIndex+n]=i,!0)}function Ri(e,t,n,i){var l=e.oldValues[t.bindingIndex+n];if(1&e.state||!Tn(l,i)){var r=t.bindings[n].name;throw pi(Ci.createDebugContext(e,t.nodeIndex),"".concat(r,": ").concat(l),"".concat(r,": ").concat(i),0!=(1&e.state))}}function Ni(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Li(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Bi(e,t,n,i){try{return Ni(33554432&e.def.nodes[t].flags?ki(e,t).componentView:e),Ci.handleEvent(e,t,n,i)}catch(l){e.root.errorHandler.handleError(l)}}function Vi(e){return e.parent?ki(e.parent,e.parentNodeDef.nodeIndex):null}function zi(e){return e.parent?e.parentNodeDef.parent:null}function ji(e,t){switch(201347067&t.flags){case 1:return ki(e,t.nodeIndex).renderElement;case 2:return bi(e,t.nodeIndex).renderText}}function Hi(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Wi(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Ui(e){return 1<<e%32}function Yi(e){var t={},n=0,i={};return e&&e.forEach((function(e){var l=_slicedToArray(e,2),r=l[0],a=l[1];"number"==typeof r?(t[r]=a,n|=Ui(r)):i[r]=a})),{matchedQueries:t,references:i,matchedQueryIds:n}}function qi(e,t){return e.map((function(e){var n,i,l;return Array.isArray(e)?(l=(n=_slicedToArray(e,2))[0],i=n[1]):(l=0,i=e),i&&("function"==typeof i||"object"==typeof i)&&t&&Object.defineProperty(i,Ze,{value:t,configurable:!0}),{flags:l,token:i,tokenKey:Pi(i)}}))}function Gi(e,t,n){var i=n.renderParent;return i?0==(1&i.flags)||0==(33554432&i.flags)||i.element.componentRendererType&&i.element.componentRendererType.encapsulation===dt.Native?ki(e,n.renderParent.nodeIndex).renderElement:void 0:t}var Xi=new WeakMap;function Ki(e){var t=Xi.get(e);return t||((t=e((function(){return Si}))).factory=e,Xi.set(e,t)),t}function $i(e,t,n,i,l){3===t&&(n=e.renderer.parentNode(ji(e,e.def.lastRenderRootNode))),Zi(e,t,0,e.def.nodes.length-1,n,i,l)}function Zi(e,t,n,i,l,r,a){for(var o=n;o<=i;o++){var s=e.def.nodes[o];11&s.flags&&Ji(e,s,t,l,r,a),o+=s.childCount}}function Qi(e,t,n,i,l,r){for(var a=e;a&&!Hi(a);)a=a.parent;for(var o=a.parent,s=zi(a),u=s.nodeIndex+s.childCount,c=s.nodeIndex+1;c<=u;c++){var h=o.def.nodes[c];h.ngContentIndex===t&&Ji(o,h,n,i,l,r),c+=h.childCount}if(!o.parent){var d=e.root.projectableNodes[t];if(d)for(var f=0;f<d.length;f++)el(e,d[f],n,i,l,r)}}function Ji(e,t,n,i,l,r){if(8&t.flags)Qi(e,t.ngContent.index,n,i,l,r);else{var a=ji(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&el(e,a,n,i,l,r),32&t.bindingFlags&&el(ki(e,t.nodeIndex).componentView,a,n,i,l,r)):el(e,a,n,i,l,r),16777216&t.flags)for(var o=ki(e,t.nodeIndex).viewContainer._embeddedViews,s=0;s<o.length;s++)$i(o[s],n,i,l,r);1&t.flags&&!t.element.name&&Zi(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,i,l,r)}}function el(e,t,n,i,l,r){var a=e.renderer;switch(n){case 1:a.appendChild(i,t);break;case 2:a.insertBefore(i,t,l);break;case 3:a.removeChild(i,t);break;case 0:r.push(t)}}var tl=/^:([^:]+):(.+)$/;function nl(e){if(":"===e[0]){var t=e.match(tl);return[t[1],t[2]]}return["",e]}function il(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function ll(e,t,n,i,l,r,a,o,s,u,c,h,d,f,p,v,g,m,y,b){switch(e){case 1:return t+rl(n)+i;case 2:return t+rl(n)+i+rl(l)+r;case 3:return t+rl(n)+i+rl(l)+r+rl(a)+o;case 4:return t+rl(n)+i+rl(l)+r+rl(a)+o+rl(s)+u;case 5:return t+rl(n)+i+rl(l)+r+rl(a)+o+rl(s)+u+rl(c)+h;case 6:return t+rl(n)+i+rl(l)+r+rl(a)+o+rl(s)+u+rl(c)+h+rl(d)+f;case 7:return t+rl(n)+i+rl(l)+r+rl(a)+o+rl(s)+u+rl(c)+h+rl(d)+f+rl(p)+v;case 8:return t+rl(n)+i+rl(l)+r+rl(a)+o+rl(s)+u+rl(c)+h+rl(d)+f+rl(p)+v+rl(g)+m;case 9:return t+rl(n)+i+rl(l)+r+rl(a)+o+rl(s)+u+rl(c)+h+rl(d)+f+rl(p)+v+rl(g)+m+rl(y)+b;default:throw new Error("Does not support more than 9 expressions")}}function rl(e){return null!=e?e.toString():""}var al=new Object,ol=Pi(pn),sl=Pi(Ge),ul=Pi(ot);function cl(e,t,n,i){return n=Ve(n),{index:-1,deps:qi(i,Ne(t)),flags:e,token:t,value:n}}function hl(e,t){var n,i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pn.THROW_IF_NOT_FOUND,r=et(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(l=null),1&t.flags)return e._parent.get(t.token,l);var a=t.tokenKey;switch(a){case ol:case sl:case ul:return e}var o,s=e._def.providersByKey[a];if(s){var u=e._providers[s.index];return void 0===u&&(u=e._providers[s.index]=dl(e,s)),u===al?void 0:u}if((o=Fe(t.token))&&(n=e,null!=(i=o).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,i.providedIn)||"root"===i.providedIn&&n._def.isRoot))){var c=e._providers.length;return e._def.providers[c]=e._def.providersByKey[t.tokenKey]={flags:5120,value:o.factory,deps:[],index:c,token:t.token},e._providers[c]=al,e._providers[c]=dl(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?l:e._parent.get(t.token,l)}finally{et(r)}}function dl(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var i=n.length;switch(i){case 0:return new t;case 1:return new t(hl(e,n[0]));case 2:return new t(hl(e,n[0]),hl(e,n[1]));case 3:return new t(hl(e,n[0]),hl(e,n[1]),hl(e,n[2]));default:for(var l=new Array(i),r=0;r<i;r++)l[r]=hl(e,n[r]);return _construct2(t,l)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var i=n.length;switch(i){case 0:return t();case 1:return t(hl(e,n[0]));case 2:return t(hl(e,n[0]),hl(e,n[1]));case 3:return t(hl(e,n[0]),hl(e,n[1]),hl(e,n[2]));default:for(var l=Array(i),r=0;r<i;r++)l[r]=hl(e,n[r]);return t.apply(void 0,l)}}(e,t.value,t.deps);break;case 2048:n=hl(e,t.deps[0]);break;case 256:n=t.value}return n===al||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?al:n}function fl(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var i=n[t];return i.viewContainerParent=null,ct(n,t),Ci.dirtyParentQueries(i),vl(i),i}function pl(e,t,n){var i=t?ji(t,t.def.lastRenderRootNode):e.renderElement,l=n.renderer.parentNode(i),r=n.renderer.nextSibling(i);$i(n,2,l,r,void 0)}function vl(e){$i(e,3,null,null,void 0)}var gl=new Object;function ml(e,t,n,i,l,r){return new yl(e,t,n,i,l,r)}var yl=function(e){function t(e,n,i,l,r,a){var o;return _classCallCheck2(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).selector=e,o.componentType=n,o._inputs=l,o._outputs=r,o.ngContentSelectors=a,o.viewDefFactory=i,o}return _inherits(t,e),_createClass2(t,[{key:"create",value:function(e,t,n,i){if(!i)throw new Error("ngModule should be provided");var l=Ki(this.viewDefFactory),r=l.nodes[0].element.componentProvider.nodeIndex,a=Ci.createRootView(e,t||[],n,l,i,gl),o=_i(a,r).instance;return n&&a.renderer.setAttribute(ki(a,0).renderElement,"ng-version",Xn.full),new bl(a,new xl(a),o)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),t}(Fn),bl=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._view=e,l._viewRef=n,l._component=i,l._elDef=l._view.def.nodes[0],l.hostView=n,l.changeDetectorRef=n,l.instance=i,l}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new Hn(ki(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new Pl(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),t}(On);function kl(e,t,n){return new _l(e,t,n)}var _l=function(){function e(t,n,i){_classCallCheck2(this,e),this._view=t,this._elDef=n,this._data=i,this._embeddedViews=[]}return _createClass2(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=fl(this._data,e);Ci.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new xl(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,l){var r=n||this.parentInjector;l||e instanceof zn||(l=r.get(ot));var a=e.create(r,i,void 0,l);return this.insert(a.hostView,t),a}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,i,l,r,a,o=e;return n=this._view,i=this._data,l=t,r=o._view,a=i.viewContainer._embeddedViews,null==l&&(l=a.length),r.viewContainerParent=n,ut(a,l,r),function(e,t){var n=Vi(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var i=n.template._projectedViews;i||(i=n.template._projectedViews=[]),i.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(i,r),Ci.dirtyParentQueries(r),pl(i,l>0?a[l-1]:null,r),o.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,i,l,r,a,o=this._embeddedViews.indexOf(e._view);return n=this._data,i=o,l=t,r=n.viewContainer._embeddedViews,a=r[i],ct(r,i),null==l&&(l=r.length),ut(r,l,a),Ci.dirtyParentQueries(a),vl(a),pl(n,l>0?r[l-1]:null,a),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=fl(this._data,e);t&&Ci.destroyView(t)}},{key:"detach",value:function(e){var t=fl(this._data,e);return t?new xl(t):null}},{key:"element",get:function(){return new Hn(this._data.renderElement)}},{key:"injector",get:function(){return new Pl(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=zi(e),e=e.parent;return e?new Pl(e,t):new Pl(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function wl(e){return new xl(e)}var xl=function(){function e(t){_classCallCheck2(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass2(e,[{key:"markForCheck",value:function(){Ni(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ci.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){Ci.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ci.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,vl(this._view),Ci.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return $i(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function Cl(e,t){return new Sl(e,t)}var Sl=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._parentView=e,i._def=n,i}return _inherits(t,e),_createClass2(t,[{key:"createEmbeddedView",value:function(e){return new xl(Ci.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new Hn(ki(this._parentView,this._def.nodeIndex).renderElement)}}]),t}(ci);function Tl(e,t){return new Pl(e,t)}var Pl=function(){function e(t,n){_classCallCheck2(this,e),this.view=t,this.elDef=n}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn.THROW_IF_NOT_FOUND;return Ci.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Pi(e)},t)}}]),e}();function Ml(e,t){var n=e.def.nodes[t];if(1&n.flags){var i=ki(e,n.nodeIndex);return n.element.template?i.template:i.renderElement}if(2&n.flags)return bi(e,n.nodeIndex).renderText;if(20240&n.flags)return _i(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index ".concat(t))}function Al(e){return new Il(e.renderer)}var Il=function(){function e(t){_classCallCheck2(this,e),this.delegate=t}return _createClass2(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(nl(t),2),i=n[0],l=n[1],r=this.delegate.createElement(l,i);return e&&this.delegate.appendChild(e,r),r}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),i=this.delegate.nextSibling(e),l=0;l<t.length;l++)this.delegate.insertBefore(n,t[l],i)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this.delegate.parentNode(n);this.delegate.removeChild(i,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var i=_slicedToArray(nl(t),2),l=i[0],r=i[1];null!=n?this.delegate.setAttribute(e,r,n,l):this.delegate.removeAttribute(e,r,l)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function El(e,t,n,i){return new Dl(e,t,n,i)}var Dl=function(){function e(t,n,i,l){_classCallCheck2(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=i,this._def=l,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),i=0;i<t.providers.length;i++){var l=t.providers[i];4096&l.flags||void 0===n[i]&&(n[i]=dl(e,l))}}(this)}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ie.Default,i=0;return n&Ie.SkipSelf?i|=1:n&Ie.Self&&(i|=4),hl(this,{token:e,tokenKey:Pi(e),flags:i},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(Ne(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,i=new Set,l=0;l<n.providers.length;l++)if(131072&n.providers[l].flags){var r=e._providers[l];if(r&&r!==al){var a=r.ngOnDestroy;"function"!=typeof a||i.has(r)||(a.apply(r),i.add(r))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(Bn)}}]),e}(),Ol=Pi((function e(){_classCallCheck2(this,e)})),Fl=Pi(qn),Rl=Pi(Hn),Nl=Pi(di),Ll=Pi(ci),Bl=Pi(Zt),Vl=Pi(pn),zl=Pi(Ge);function jl(e,t,n,i,l,r,a,o){var s=[];if(a)for(var u in a){var c=_slicedToArray(a[u],2),h=c[0],d=c[1];s[h]={flags:8,name:u,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var f=[];if(o)for(var p in o)f.push({type:1,propName:p,target:null,eventName:o[p]});return Ul(e,t|=16384,n,i,l,l,r,s,f)}function Hl(e,t,n){return Ul(-1,e|=16,null,0,t,t,n)}function Wl(e,t,n,i,l){return Ul(-1,e,t,0,n,i,l)}function Ul(e,t,n,i,l,r,a,o,s){var u=Yi(n),c=u.matchedQueries,h=u.references,d=u.matchedQueryIds;s||(s=[]),o||(o=[]),r=Ve(r);var f=qi(a,Ne(l));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:i,bindings:o,bindingFlags:il(o),outputs:s,element:null,provider:{token:l,value:r,deps:f},text:null,query:null,ngContent:null}}function Yl(e,t){return Kl(e,t)}function ql(e,t){for(var n=e;n.parent&&!Hi(n);)n=n.parent;return $l(n.parent,zi(n),!0,t.provider.value,t.provider.deps)}function Gl(e,t){var n=$l(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var i=0;i<t.outputs.length;i++){var l=t.outputs[i],r=n[l.propName];if(!En(r))throw new Error("@Output ".concat(l.propName," not initialized in '").concat(n.constructor.name,"'."));var a=r.subscribe(Xl(e,t.parent.nodeIndex,l.eventName));e.disposables[t.outputIndex+i]=a.unsubscribe.bind(a)}return n}function Xl(e,t,n){return function(i){return Bi(e,t,n,i)}}function Kl(e,t){var n=(8192&t.flags)>0,i=t.provider;switch(201347067&t.flags){case 512:return $l(e,t.parent,n,i.value,i.deps);case 1024:return function(e,t,n,i,l){var r=l.length;switch(r){case 0:return i();case 1:return i(Ql(e,t,n,l[0]));case 2:return i(Ql(e,t,n,l[0]),Ql(e,t,n,l[1]));case 3:return i(Ql(e,t,n,l[0]),Ql(e,t,n,l[1]),Ql(e,t,n,l[2]));default:for(var a=Array(r),o=0;o<r;o++)a[o]=Ql(e,t,n,l[o]);return i.apply(void 0,a)}}(e,t.parent,n,i.value,i.deps);case 2048:return Ql(e,t.parent,n,i.deps[0]);case 256:return i.value}}function $l(e,t,n,i,l){var r=l.length;switch(r){case 0:return new i;case 1:return new i(Ql(e,t,n,l[0]));case 2:return new i(Ql(e,t,n,l[0]),Ql(e,t,n,l[1]));case 3:return new i(Ql(e,t,n,l[0]),Ql(e,t,n,l[1]),Ql(e,t,n,l[2]));default:for(var a=new Array(r),o=0;o<r;o++)a[o]=Ql(e,t,n,l[o]);return _construct2(i,a)}}var Zl={};function Ql(e,t,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pn.THROW_IF_NOT_FOUND;if(8&i.flags)return i.token;var r=e;2&i.flags&&(l=null);var a=i.tokenKey;a===Bl&&(n=!(!t||!t.element.componentView)),t&&1&i.flags&&(n=!1,t=t.parent);for(var o=e;o;){if(t)switch(a){case Ol:return Al(Jl(o,t,n));case Fl:return Jl(o,t,n).renderer;case Rl:return new Hn(ki(o,t.nodeIndex).renderElement);case Nl:return ki(o,t.nodeIndex).viewContainer;case Ll:if(t.element.template)return ki(o,t.nodeIndex).template;break;case Bl:return wl(Jl(o,t,n));case Vl:case zl:return Tl(o,t);default:var s=(n?t.element.allProviders:t.element.publicProviders)[a];if(s){var u=_i(o,s.nodeIndex);return u||(u={instance:Kl(o,s)},o.nodes[s.nodeIndex]=u),u.instance}}n=Hi(o),t=zi(o),o=o.parent,4&i.flags&&(o=null)}var c=r.root.injector.get(i.token,Zl);return c!==Zl||l===Zl?c:r.root.ngModule.injector.get(i.token,l)}function Jl(e,t,n){var i;if(n)i=ki(e,t.nodeIndex).componentView;else for(i=e;i.parent&&!Hi(i);)i=i.parent;return i}function er(e,t,n,i,l,r){if(32768&n.flags){var a=ki(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[i].name]=l,524288&n.flags){r=r||{};var o=Pn.unwrap(e.oldValues[n.bindingIndex+i]);r[n.bindings[i].nonMinifiedName]=new Dn(o,l,0!=(2&e.state))}return e.oldValues[n.bindingIndex+i]=l,r}function tr(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,i=0,l=0;l<n.length;l++){var r=n[l],a=r.parent;for(!a&&r.flags&t&&ir(e,l,r.flags&t,i++),0==(r.childFlags&t)&&(l+=r.childCount);a&&1&a.flags&&l===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(i=nr(e,a,t,i)),a=a.parent}}function nr(e,t,n,i){for(var l=t.nodeIndex+1;l<=t.nodeIndex+t.childCount;l++){var r=e.def.nodes[l];r.flags&n&&ir(e,l,r.flags&n,i++),l+=r.childCount}return i}function ir(e,t,n,i){var l=_i(e,t);if(l){var r=l.instance;r&&(Ci.setCurrentNode(e,t),1048576&n&&yi(e,512,i)&&r.ngAfterContentInit(),2097152&n&&r.ngAfterContentChecked(),4194304&n&&yi(e,768,i)&&r.ngAfterViewInit(),8388608&n&&r.ngAfterViewChecked(),131072&n&&r.ngOnDestroy())}}var lr=new qe("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return ft}}),rr={},ar=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),or=void 0,sr=["en",[["a","p"],["AM","PM"],or],[["AM","PM"],or,or],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],or,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],or,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",or,"{1} 'at' {0}",or],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function ur(e){var t=e.toLowerCase().replace(/_/g,"-"),n=rr[t];if(n)return n;var i=t.split("-")[0];if(n=rr[i])return n;if("en"===i)return sr;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var cr="en-US";function hr(e){null==e&&function(e){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"))}(),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var dr=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass2(t,[{key:"emit",value:function(e){_get2(_getPrototypeOf2(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,i){var l,r=function(e){return null},a=function(){return null};e&&"object"==typeof e?(l=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(r=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(l=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(r=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),i&&(a=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var o=_get2(_getPrototypeOf2(t.prototype),"subscribe",this).call(this,l,r,a);return e instanceof C&&e.add(o),o}}]),t}(j);function fr(){return this._results[Cn()]()}var pr=function(){function e(){_classCallCheck2(this,e),this.dirty=!0,this._results=[],this.changes=new dr,this.length=0;var t=Cn(),n=e.prototype;n[t]||(n[t]=fr)}return _createClass2(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var i=0;i<t.length;i++){var l=t[i];Array.isArray(l)?(n===t&&(n=t.slice(0,i)),e(l,n)):n!==t&&n.push(l)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),vr=we("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return _r(e,t)})),gr=we("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:ht.Default},e)}),vr,void 0,(function(e,t){return kr(e,t)})),mr=we("Pipe",(function(e){return Object.assign({pure:!0},e)}),void 0,void 0,(function(e,t){return wr(e,t)})),yr=Se("Input",(function(e){return{bindingPropertyName:e}})),br=Se("Output",(function(e){return{bindingPropertyName:e}})),kr=jn,_r=jn,wr=jn,xr=we("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return Cr(e,t)})),Cr=function(e,t){var n,i=t&&t.imports||[];t&&t.exports&&(i=[].concat(_toConsumableArray(i),[t.exports])),e.ngInjectorDef={factory:(n={factory:hn(e,{useClass:e}),providers:t&&t.providers,imports:i}).factory,providers:n.providers||[],imports:n.imports||[]}},Sr=new qe("Application Initializer"),Tr=function(){function e(t){var n=this;_classCallCheck2(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass2(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var l=this.appInits[i]();In(l)&&t.push(l)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),Pr=new qe("AppId");function Mr(){return"".concat(Ar()).concat(Ar()).concat(Ar())}function Ar(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ir=new qe("Platform Initializer"),Er=new qe("Platform ID"),Dr=new qe("appBootstrapListener"),Or=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),Fr=new qe("LocaleId"),Rr=!1;function Nr(){throw new Error("Runtime compiler is not loaded")}var Lr,Br,Vr=Nr,zr=Nr,jr=Nr,Hr=Nr,Wr=function(){function e(){_classCallCheck2(this,e),this.compileModuleSync=Vr,this.compileModuleAsync=zr,this.compileModuleAndAllComponentsSync=jr,this.compileModuleAndAllComponentsAsync=Hr}return _createClass2(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),Ur=function e(){_classCallCheck2(this,e)};var Yr,qr=!(!(Yr=Ye.wtf)||!(Lr=Yr.trace)||(Br=Lr.events,0));function Gr(e,t){return null}var Xr=qr?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Br.createScope(e,t)}:function(e,t){return Gr},Kr=qr?function(e,t){return Lr.leaveScope(e,t),t}:function(e,t){return t},$r=Promise.resolve(0);function Zr(e){"undefined"==typeof Zone?$r.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Qr=function(){function e(t){var n,i=t.enableLongStackTrace,l=void 0!==i&&i;if(_classCallCheck2(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dr(!1),this.onMicrotaskEmpty=new dr(!1),this.onStable=new dr(!1),this.onError=new dr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,i,l,r,a){try{return na(n),e.invokeTask(i,l,r,a)}finally{ia(n)}},onInvoke:function(e,t,i,l,r,a,o){try{return na(n),e.invoke(i,l,r,a,o)}finally{ia(n)}},onHasTask:function(e,t,i,l){e.hasTask(i,l),t===i&&("microTask"==l.change?(n.hasPendingMicrotasks=l.microTask,ta(n)):"macroTask"==l.change&&(n.hasPendingMacrotasks=l.macroTask))},onHandleError:function(e,t,i,l){return e.handleError(i,l),n.runOutsideAngular((function(){return n.onError.emit(l)})),!1}})}return _createClass2(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var l=this._inner,r=l.scheduleEventTask("NgZoneEvent: "+i,e,ea,Jr,Jr);try{return l.runTask(r,t,n)}finally{l.cancelTask(r)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Jr(){}var ea={};function ta(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function na(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ia(e){e._nesting--,ta(e)}var la,ra=function(){function e(){_classCallCheck2(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dr,this.onMicrotaskEmpty=new dr,this.onStable=new dr,this.onError=new dr}return _createClass2(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),aa=function(){function e(t){var n=this;_classCallCheck2(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass2(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Qr.assertNotInAngularZone(),Zr((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Zr((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,l=-1;t&&t>0&&(l=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==l})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:l,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),oa=function(){function e(){_classCallCheck2(this,e),this._applications=new Map,sa.addToWindow(this)}return _createClass2(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return sa.findTestabilityInTree(this,e,t)}}]),e}(),sa=new(function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),ua=function(e,t,n){return e.get(Ur).createCompiler([t]).compileModuleAsync(n)},ca=new qe("AllowMultipleToken"),ha=function e(t,n){_classCallCheck2(this,e),this.name=t,this.token=n};function da(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(t),l=new qe(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=fa();if(!r||r.injector.get(ca,!1))if(e)e(n.concat(t).concat({provide:l,useValue:!0}));else{var a=n.concat(t).concat({provide:l,useValue:!0});!function(e){if(la&&!la.destroyed&&!la.injector.get(ca,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");la=e.get(pa);var t=e.get(Ir,null);t&&t.forEach((function(e){return e()}))}(pn.create({providers:a,name:i}))}return function(e){var t=fa();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(l)}}function fa(){return la&&!la.destroyed?la:null}var pa=function(){function e(t){_classCallCheck2(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass2(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i=this,l="noop"===(n=t?t.ngZone:void 0)?new ra:("zone.js"===n?void 0:n)||new Qr({enableLongStackTrace:xt()}),r=[{provide:Qr,useValue:l}];return l.run((function(){var t=pn.create({providers:r,parent:i.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(kt,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Rr&&hr(n.injector.get(Fr,cr)||cr),n.onDestroy((function(){return ya(i._modules,n)})),l.runOutsideAngular((function(){return l.onError.subscribe({next:function(e){a.handleError(e)}})})),function(e,t,l){try{var r=((a=n.injector.get(Tr)).runInitializers(),a.donePromise.then((function(){return i._moduleDoBootstrap(n),n})));return In(r)?r.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):r}catch(o){throw t.runOutsideAngular((function(){return e.handleError(o)})),o}var a}(a,l)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=va({},n);return ua(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(ma);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(Ne(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function va(e,t){return Array.isArray(t)?t.reduce(va,e):Object.assign({},e,t)}var ga,ma=((ga=function(){function e(t,n,i,l,r,a){var o=this;_classCallCheck2(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=l,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=xt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run((function(){o.tick()}))}});var s=new F((function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular((function(){e.next(o._stable),e.complete()}))})),u=new F((function(e){var t;o._zone.runOutsideAngular((function(){t=o._zone.onStable.subscribe((function(){Qr.assertNotInAngularZone(),Zr((function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))}))}))}));var n=o._zone.onUnstable.subscribe((function(){Qr.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=he(s,u.pipe((function(e){return de()((t=ye,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,ge);return i.source=e,i.subjectFactory=n,i})(e));var t})))}return _createClass2(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Fn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var l=n instanceof zn?null:this._injector.get(ot),r=n.create(pn.NULL,[],t||n.selector,l);r.onDestroy((function(){i._unloadComponent(r)}));var a=r.injector.get(aa,null);return a&&r.injector.get(oa).registerApplication(r.location.nativeElement,a),this._loadComponent(r),xt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var i=!0,l=!1,r=void 0;try{for(var a,o=this._views[Symbol.iterator]();!(i=(a=o.next()).done);i=!0)a.value.detectChanges()}catch(f){l=!0,r=f}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}if(this._enforceNoNewChanges){var s=!0,u=!1,c=void 0;try{for(var h,d=this._views[Symbol.iterator]();!(s=(h=d.next()).done);s=!0)h.value.checkNoChanges()}catch(f){u=!0,c=f}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}}}catch(p){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(p)}))}finally{this._runningTick=!1,Kr(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;ya(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Dr,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),ya(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=Xr("ApplicationRef#tick()"),ga);function ya(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var ba=function e(){_classCallCheck2(this,e)},ka=function e(){_classCallCheck2(this,e)},_a={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},wa=function(){function e(t,n){_classCallCheck2(this,e),this._compiler=t,this._config=n||_a}return _createClass2(e,[{key:"load",value:function(e){return!Rr&&this._compiler instanceof Wr?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=_slicedToArray(e.split("#"),2),l=i[0],r=i[1];return void 0===r&&(r="default"),n("zn8P")(l).then((function(e){return e[r]})).then((function(e){return xa(e,l,r)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),i=t[0],l=t[1],r="NgFactory";return void 0===l&&(l="default",r=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[l+r]})).then((function(e){return xa(e,i,l)}))}}]),e}();function xa(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Ca=function e(t,n){_classCallCheck2(this,e),this.name=t,this.callback=n},Sa=function(){function e(t,n,i){_classCallCheck2(this,e),this.listeners=[],this.parent=null,this._debugContext=i,this.nativeNode=t,n&&n instanceof Ta&&n.addChild(this)}return _createClass2(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),Ta=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))).properties={},l.attributes={},l.classes={},l.styles={},l.childNodes=[],l.nativeElement=e,l}return _inherits(t,e),_createClass2(t,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,i=this,l=this.childNodes.indexOf(e);-1!==l&&((n=this.childNodes).splice.apply(n,[l+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=i})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var n=[];return function e(n,i,l){n.childNodes.forEach((function(n){n instanceof t&&(i(n)&&l.push(n),e(n,i,l))}))}(this,e,n),n}},{key:"queryAllNodes",value:function(e){var n=[];return function e(n,i,l){n instanceof t&&n.childNodes.forEach((function(n){i(n)&&l.push(n),n instanceof t&&e(n,i,l)}))}(this,e,n),n}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof t}))}}]),t}(Sa),Pa=new Map,Ma=function(e){return Pa.get(e)||null};function Aa(e){Pa.set(e.nativeNode,e)}var Ia=da(null,"core",[{provide:Er,useValue:"unknown"},{provide:pa,deps:[pn]},{provide:oa,deps:[]},{provide:Or,deps:[]}]);function Ea(){return si}function Da(){return ui}function Oa(e){return e?(Rr&&hr(e),e):cr}function Fa(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var Ra=function e(t){_classCallCheck2(this,e)};function Na(e,t,n,i,l,r){e|=1;var a=Yi(t),o=a.matchedQueries,s=a.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:a.matchedQueryIds,references:s,ngContentIndex:n,childCount:i,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:r?Ki(r):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:l||Si},provider:null,text:null,query:null,ngContent:null}}function La(e,t,n,i,l,r){var a,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;c||(c=Si);var f=Yi(n),p=f.matchedQueries,v=f.references,g=f.matchedQueryIds,m=null,y=null;r&&(m=(a=_slicedToArray(nl(r),2))[0],y=a[1]),s=s||[];for(var b=new Array(s.length),k=0;k<s.length;k++){var _=_slicedToArray(s[k],3),w=_[0],x=_[1],C=_[2],S=_slicedToArray(nl(x),2),T=S[0],P=S[1],M=void 0,A=void 0;switch(15&w){case 4:A=C;break;case 1:case 8:M=C}b[k]={flags:w,ns:T,name:P,nonMinifiedName:P,securityContext:M,suffix:A}}u=u||[];for(var I=new Array(u.length),E=0;E<u.length;E++){var D=_slicedToArray(u[E],2),O=D[0],F=D[1];I[E]={type:0,target:O,eventName:F,propName:null}}var R=(o=o||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],l=_slicedToArray(nl(n),2);return[l[0],l[1],i]}));return d=function(e){if(e&&e.id===Ai){var t=null!=e.encapsulation&&e.encapsulation!==dt.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c".concat(Di++):Ii}return e&&e.id===Ii&&(e=null),e||null}(d),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:g,references:v,ngContentIndex:i,childCount:l,bindings:b,bindingFlags:il(b),outputs:I,element:{ns:m,name:y,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:c||Si},provider:null,text:null,query:null,ngContent:null}}function Ba(e,t,n){var i,l=n.element,r=e.root.selectorOrNode,a=e.renderer;if(e.parent||!r){i=l.name?a.createElement(l.name,l.ns):a.createComment("");var o=Gi(e,t,n);o&&a.appendChild(o,i)}else i=a.selectRootElement(r,!!l.componentRendererType&&l.componentRendererType.encapsulation===dt.ShadowDom);if(l.attrs)for(var s=0;s<l.attrs.length;s++){var u=_slicedToArray(l.attrs[s],3),c=u[0],h=u[1],d=u[2];a.setAttribute(i,h,d,c)}return i}function Va(e,t,n,i){for(var l=0;l<n.outputs.length;l++){var r=n.outputs[l],a=za(e,n.nodeIndex,(h=r.eventName,(c=r.target)?"".concat(c,":").concat(h):h)),o=r.target,s=e;"component"===r.target&&(o=null,s=t);var u=s.renderer.listen(o||i,r.eventName,a);e.disposables[n.outputIndex+l]=u}var c,h}function za(e,t,n){return function(i){return Bi(e,t,n,i)}}function ja(e,t,n,i){if(!Fi(e,t,n,i))return!1;var l=t.bindings[n],r=ki(e,t.nodeIndex),a=r.renderElement,o=l.name;switch(15&l.flags){case 1:!function(e,t,n,i,l,r){var a=t.securityContext,o=a?e.root.sanitizer.sanitize(a,r):r;o=null!=o?o.toString():null;var s=e.renderer;null!=r?s.setAttribute(n,l,o,i):s.removeAttribute(n,l,i)}(e,l,a,l.ns,o,i);break;case 2:!function(e,t,n,i){var l=e.renderer;i?l.addClass(t,n):l.removeClass(t,n)}(e,a,o,i);break;case 4:!function(e,t,n,i,l){var r=e.root.sanitizer.sanitize(Yt.STYLE,l);if(null!=r){r=r.toString();var a=t.suffix;null!=a&&(r+=a)}else r=null;var o=e.renderer;null!=r?o.setStyle(n,i,r):o.removeStyle(n,i)}(e,l,a,o,i);break;case 8:!function(e,t,n,i,l){var r=t.securityContext,a=r?e.root.sanitizer.sanitize(r,l):l;e.renderer.setProperty(n,i,a)}(33554432&t.flags&&32&l.flags?r.componentView:e,l,a,o,i)}return!0}function Ha(e,t,n){var i=[];for(var l in n)i.push({propName:l,bindingType:n[l]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Ui(t),bindings:i},ngContent:null}}function Wa(e){for(var t=e.def.nodeMatchedQueries;e.parent&&Wi(e);){var n=e.parentNodeDef;e=e.parent;for(var i=n.nodeIndex+n.childCount,l=0;l<=i;l++){var r=e.def.nodes[l];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&t)===r.query.filterId&&xi(e,l).setDirty(),!(1&r.flags&&l+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(l+=r.childCount)}}if(134217728&e.def.nodeFlags)for(var a=0;a<e.def.nodes.length;a++){var o=e.def.nodes[a];134217728&o.flags&&536870912&o.flags&&xi(e,a).setDirty(),a+=o.childCount}}function Ua(e,t){var n=xi(e,t.nodeIndex);if(n.dirty){var i,l=void 0;if(67108864&t.flags){var r=t.parent.parent;l=Ya(e,r.nodeIndex,r.nodeIndex+r.childCount,t.query,[]),i=_i(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(l=Ya(e,0,e.def.nodes.length-1,t.query,[]),i=e.component);n.reset(l);for(var a=t.query.bindings,o=!1,s=0;s<a.length;s++){var u=a[s],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,o=!0}i[u.propName]=c}o&&n.notifyOnChanges()}}function Ya(e,t,n,i,l){for(var r=t;r<=n;r++){var a=e.def.nodes[r],o=a.matchedQueries[i.id];if(null!=o&&l.push(qa(e,a,o)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&i.filterId)===i.filterId){var s=ki(e,r);if((a.childMatchedQueries&i.filterId)===i.filterId&&(Ya(e,r+1,r+a.childCount,i,l),r+=a.childCount),16777216&a.flags)for(var u=s.viewContainer._embeddedViews,c=0;c<u.length;c++){var h=u[c],d=Vi(h);d&&d===s&&Ya(h,0,h.def.nodes.length-1,i,l)}var f=s.template._projectedViews;if(f)for(var p=0;p<f.length;p++){var v=f[p];Ya(v,0,v.def.nodes.length-1,i,l)}}(a.childMatchedQueries&i.filterId)!==i.filterId&&(r+=a.childCount)}return l}function qa(e,t,n){if(null!=n)switch(n){case 1:return ki(e,t.nodeIndex).renderElement;case 0:return new Hn(ki(e,t.nodeIndex).renderElement);case 2:return ki(e,t.nodeIndex).template;case 3:return ki(e,t.nodeIndex).viewContainer;case 4:return _i(e,t.nodeIndex).instance}}function Ga(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Xa(e,t,n){var i=Gi(e,t,n);i&&Qi(e,n.ngContent.index,1,i,null,void 0)}function Ka(e,t){return Qa(128,e,new Array(t+1))}function $a(e,t){return Qa(32,e,new Array(t))}function Za(e,t){for(var n=Object.keys(t),i=n.length,l=new Array(i),r=0;r<i;r++){var a=n[r];l[t[a]]=a}return Qa(64,e,l)}function Qa(e,t,n){for(var i=new Array(n.length),l=0;l<n.length;l++){var r=n[l];i[l]={flags:8,name:r,ns:null,nonMinifiedName:r,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:i,bindingFlags:il(i),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Ja(e,t,n){for(var i=new Array(n.length-1),l=1;l<n.length;l++)i[l-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[l]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:i,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function eo(e,t,n){var i,l=e.renderer;i=l.createText(n.text.prefix);var r=Gi(e,t,n);return r&&l.appendChild(r,i),{renderText:i}}function to(e,t){return(null!=e?e.toString():"")+t.suffix}function no(e,t,n,i){for(var l=0,r=0,a=0,o=0,s=0,u=null,c=null,h=!1,d=!1,f=null,p=0;p<t.length;p++){var v=t[p];if(v.nodeIndex=p,v.parent=u,v.bindingIndex=l,v.outputIndex=r,v.renderParent=c,a|=v.flags,s|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,d=!1,v.element.template&&(s|=v.element.template.nodeMatchedQueries)}if(lo(u,v,t.length),l+=v.bindings.length,r+=v.outputs.length,!c&&3&v.flags&&(f=v),20224&v.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?u.element.publicProviders[Pi(v.provider.token)]=v:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Pi(v.provider.token)]=v),m&&(u.element.componentProvider=v)}if(u?(u.childFlags|=v.flags,u.directChildFlags|=v.flags,u.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(u.childMatchedQueries|=v.element.template.nodeMatchedQueries)):o|=v.flags,v.childCount>0)u=v,io(v)||(c=v);else for(;u&&p===u.nodeIndex+u.childCount;){var y=u.parent;y&&(y.childFlags|=u.childFlags,y.childMatchedQueries|=u.childMatchedQueries),c=(u=y)&&io(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:o,nodeMatchedQueries:s,flags:e,nodes:t,updateDirectives:n||Si,updateRenderer:i||Si,handleEvent:function(e,n,i,l){return t[n].element.handleEvent(e,i,l)},bindingCount:l,outputCount:r,lastRenderRootNode:f}}function io(e){return 0!=(1&e.flags)&&null===e.element.name}function lo(e,t,n){var i=t.element&&t.element.template;if(i){if(!i.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(i.lastRenderRootNode&&16777216&i.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var l=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=l&&t.nodeIndex+t.childCount>l)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function ro(e,t,n,i){var l=so(e.root,e.renderer,e,t,n);return uo(l,e.component,i),co(l),l}function ao(e,t,n){var i=so(e,e.renderer,null,null,t);return uo(i,n,n),co(i),i}function oo(e,t,n,i){var l,r=t.element.componentRendererType;return l=r?e.root.rendererFactory.createRenderer(i,r):e.root.renderer,so(e.root,l,e,t.element.componentProvider,n)}function so(e,t,n,i,l){var r=new Array(l.nodes.length),a=l.outputCount?new Array(l.outputCount):null;return{def:l,parent:n,viewContainerParent:null,parentNodeDef:i,context:null,component:null,nodes:r,state:13,root:e,renderer:t,oldValues:new Array(l.bindingCount),disposables:a,initIndex:-1}}function uo(e,t,n){e.component=t,e.context=n}function co(e){var t;Hi(e)&&(t=ki(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,i=e.nodes,l=0;l<n.nodes.length;l++){var r=n.nodes[l],a=void 0;switch(Ci.setCurrentNode(e,l),201347067&r.flags){case 1:var o=Ba(e,t,r),s=void 0;if(33554432&r.flags){var u=Ki(r.element.componentView);s=Ci.createComponentView(e,r,u,o)}Va(e,s,r,o),a={renderElement:o,componentView:s,viewContainer:null,template:r.element.template?Cl(e,r):void 0},16777216&r.flags&&(a.viewContainer=kl(e,r,a));break;case 2:a=eo(e,t,r);break;case 512:case 1024:case 2048:case 256:(a=i[l])||4096&r.flags||(a={instance:Yl(e,r)});break;case 16:a={instance:ql(e,r)};break;case 16384:(a=i[l])||(a={instance:Gl(e,r)}),32768&r.flags&&uo(ki(e,r.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new pr;break;case 8:Xa(e,t,r),a=void 0}i[l]=a}ko(e,bo.CreateViewNodes),Co(e,201326592,268435456,0)}function ho(e){vo(e),Ci.updateDirectives(e,1),_o(e,bo.CheckNoChanges),Ci.updateRenderer(e,1),ko(e,bo.CheckNoChanges),e.state&=-97}function fo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,mi(e,0,256),vo(e),Ci.updateDirectives(e,0),_o(e,bo.CheckAndUpdate),Co(e,67108864,536870912,0);var t=mi(e,256,512);tr(e,2097152|(t?1048576:0)),Ci.updateRenderer(e,0),ko(e,bo.CheckAndUpdate),Co(e,134217728,536870912,0),tr(e,8388608|((t=mi(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,mi(e,768,1024)}function po(e,t,n,i,l,r,a,o,s,u,c,h,d){return 0===n?function(e,t,n,i,l,r,a,o,s,u,c,h){switch(201347067&t.flags){case 1:return function(e,t,n,i,l,r,a,o,s,u,c,h){var d=t.bindings.length,f=!1;return d>0&&ja(e,t,0,n)&&(f=!0),d>1&&ja(e,t,1,i)&&(f=!0),d>2&&ja(e,t,2,l)&&(f=!0),d>3&&ja(e,t,3,r)&&(f=!0),d>4&&ja(e,t,4,a)&&(f=!0),d>5&&ja(e,t,5,o)&&(f=!0),d>6&&ja(e,t,6,s)&&(f=!0),d>7&&ja(e,t,7,u)&&(f=!0),d>8&&ja(e,t,8,c)&&(f=!0),d>9&&ja(e,t,9,h)&&(f=!0),f}(e,t,n,i,l,r,a,o,s,u,c,h);case 2:return function(e,t,n,i,l,r,a,o,s,u,c,h){var d=!1,f=t.bindings,p=f.length;if(p>0&&Fi(e,t,0,n)&&(d=!0),p>1&&Fi(e,t,1,i)&&(d=!0),p>2&&Fi(e,t,2,l)&&(d=!0),p>3&&Fi(e,t,3,r)&&(d=!0),p>4&&Fi(e,t,4,a)&&(d=!0),p>5&&Fi(e,t,5,o)&&(d=!0),p>6&&Fi(e,t,6,s)&&(d=!0),p>7&&Fi(e,t,7,u)&&(d=!0),p>8&&Fi(e,t,8,c)&&(d=!0),p>9&&Fi(e,t,9,h)&&(d=!0),d){var v=t.text.prefix;p>0&&(v+=to(n,f[0])),p>1&&(v+=to(i,f[1])),p>2&&(v+=to(l,f[2])),p>3&&(v+=to(r,f[3])),p>4&&(v+=to(a,f[4])),p>5&&(v+=to(o,f[5])),p>6&&(v+=to(s,f[6])),p>7&&(v+=to(u,f[7])),p>8&&(v+=to(c,f[8])),p>9&&(v+=to(h,f[9]));var g=bi(e,t.nodeIndex).renderText;e.renderer.setValue(g,v)}return d}(e,t,n,i,l,r,a,o,s,u,c,h);case 16384:return function(e,t,n,i,l,r,a,o,s,u,c,h){var d=_i(e,t.nodeIndex),f=d.instance,p=!1,v=void 0,g=t.bindings.length;return g>0&&Oi(e,t,0,n)&&(p=!0,v=er(e,d,t,0,n,v)),g>1&&Oi(e,t,1,i)&&(p=!0,v=er(e,d,t,1,i,v)),g>2&&Oi(e,t,2,l)&&(p=!0,v=er(e,d,t,2,l,v)),g>3&&Oi(e,t,3,r)&&(p=!0,v=er(e,d,t,3,r,v)),g>4&&Oi(e,t,4,a)&&(p=!0,v=er(e,d,t,4,a,v)),g>5&&Oi(e,t,5,o)&&(p=!0,v=er(e,d,t,5,o,v)),g>6&&Oi(e,t,6,s)&&(p=!0,v=er(e,d,t,6,s,v)),g>7&&Oi(e,t,7,u)&&(p=!0,v=er(e,d,t,7,u,v)),g>8&&Oi(e,t,8,c)&&(p=!0,v=er(e,d,t,8,c,v)),g>9&&Oi(e,t,9,h)&&(p=!0,v=er(e,d,t,9,h,v)),v&&f.ngOnChanges(v),65536&t.flags&&yi(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,i,l,r,a,o,s,u,c,h);case 32:case 64:case 128:return function(e,t,n,i,l,r,a,o,s,u,c,h){var d=t.bindings,f=!1,p=d.length;if(p>0&&Fi(e,t,0,n)&&(f=!0),p>1&&Fi(e,t,1,i)&&(f=!0),p>2&&Fi(e,t,2,l)&&(f=!0),p>3&&Fi(e,t,3,r)&&(f=!0),p>4&&Fi(e,t,4,a)&&(f=!0),p>5&&Fi(e,t,5,o)&&(f=!0),p>6&&Fi(e,t,6,s)&&(f=!0),p>7&&Fi(e,t,7,u)&&(f=!0),p>8&&Fi(e,t,8,c)&&(f=!0),p>9&&Fi(e,t,9,h)&&(f=!0),f){var v,g=wi(e,t.nodeIndex);switch(201347067&t.flags){case 32:v=new Array(d.length),p>0&&(v[0]=n),p>1&&(v[1]=i),p>2&&(v[2]=l),p>3&&(v[3]=r),p>4&&(v[4]=a),p>5&&(v[5]=o),p>6&&(v[6]=s),p>7&&(v[7]=u),p>8&&(v[8]=c),p>9&&(v[9]=h);break;case 64:v={},p>0&&(v[d[0].name]=n),p>1&&(v[d[1].name]=i),p>2&&(v[d[2].name]=l),p>3&&(v[d[3].name]=r),p>4&&(v[d[4].name]=a),p>5&&(v[d[5].name]=o),p>6&&(v[d[6].name]=s),p>7&&(v[d[7].name]=u),p>8&&(v[d[8].name]=c),p>9&&(v[d[9].name]=h);break;case 128:var m=n;switch(p){case 1:v=m.transform(n);break;case 2:v=m.transform(i);break;case 3:v=m.transform(i,l);break;case 4:v=m.transform(i,l,r);break;case 5:v=m.transform(i,l,r,a);break;case 6:v=m.transform(i,l,r,a,o);break;case 7:v=m.transform(i,l,r,a,o,s);break;case 8:v=m.transform(i,l,r,a,o,s,u);break;case 9:v=m.transform(i,l,r,a,o,s,u,c);break;case 10:v=m.transform(i,l,r,a,o,s,u,c,h)}}g.value=v}return f}(e,t,n,i,l,r,a,o,s,u,c,h);default:throw"unreachable"}}(e,t,i,l,r,a,o,s,u,c,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var i=!1,l=0;l<n.length;l++)ja(e,t,l,n[l])&&(i=!0);return i}(e,t,n);case 2:return function(e,t,n){for(var i=t.bindings,l=!1,r=0;r<n.length;r++)Fi(e,t,r,n[r])&&(l=!0);if(l){for(var a="",o=0;o<n.length;o++)a+=to(n[o],i[o]);a=t.text.prefix+a;var s=bi(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return l}(e,t,n);case 16384:return function(e,t,n){for(var i=_i(e,t.nodeIndex),l=i.instance,r=!1,a=void 0,o=0;o<n.length;o++)Oi(e,t,o,n[o])&&(r=!0,a=er(e,i,t,o,n[o],a));return a&&l.ngOnChanges(a),65536&t.flags&&yi(e,256,t.nodeIndex)&&l.ngOnInit(),262144&t.flags&&l.ngDoCheck(),r}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var i=t.bindings,l=!1,r=0;r<n.length;r++)Fi(e,t,r,n[r])&&(l=!0);if(l){var a,o=wi(e,t.nodeIndex);switch(201347067&t.flags){case 32:a=n;break;case 64:a={};for(var s=0;s<n.length;s++)a[i[s].name]=n[s];break;case 128:var u=n[0],c=n.slice(1);a=u.transform.apply(u,_toConsumableArray(c))}o.value=a}return l}(e,t,n);default:throw"unreachable"}}(e,t,i)}function vo(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var i=t.nodes[n];if(4&i.flags){var l=ki(e,n).template._projectedViews;if(l)for(var r=0;r<l.length;r++){var a=l[r];a.state|=32,Li(a,e)}}else 0==(4&i.childFlags)&&(n+=i.childCount)}}function go(e,t,n,i,l,r,a,o,s,u,c,h,d){return 0===n?function(e,t,n,i,l,r,a,o,s,u,c,h){var d=t.bindings.length;d>0&&Ri(e,t,0,n),d>1&&Ri(e,t,1,i),d>2&&Ri(e,t,2,l),d>3&&Ri(e,t,3,r),d>4&&Ri(e,t,4,a),d>5&&Ri(e,t,5,o),d>6&&Ri(e,t,6,s),d>7&&Ri(e,t,7,u),d>8&&Ri(e,t,8,c),d>9&&Ri(e,t,9,h)}(e,t,i,l,r,a,o,s,u,c,h,d):function(e,t,n){for(var i=0;i<n.length;i++)Ri(e,t,i,n[i])}(e,t,i),!1}function mo(e,t){if(xi(e,t.nodeIndex).dirty)throw pi(Ci.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function yo(e){if(!(128&e.state)){if(_o(e,bo.Destroy),ko(e,bo.Destroy),tr(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Vi(e);if(t){var n=t.template._projectedViews;n&&(ct(n,n.indexOf(e)),Ci.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var i=e.def.nodes[n];1&i.flags?e.renderer.destroyNode(ki(e,n).renderElement):2&i.flags?e.renderer.destroyNode(bi(e,n).renderText):(67108864&i.flags||134217728&i.flags)&&xi(e,n).destroy()}}(e),Hi(e)&&e.renderer.destroy(),e.state|=128}}var bo=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function ko(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var l=n.nodes[i];33554432&l.flags?wo(ki(e,i).componentView,t):0==(33554432&l.childFlags)&&(i+=l.childCount)}}function _o(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var i=0;i<n.nodes.length;i++){var l=n.nodes[i];if(16777216&l.flags)for(var r=ki(e,i).viewContainer._embeddedViews,a=0;a<r.length;a++)wo(r[a],t);else 0==(16777216&l.childFlags)&&(i+=l.childCount)}}function wo(e,t){var n=e.state;switch(t){case bo.CheckNoChanges:0==(128&n)&&(12==(12&n)?ho(e):64&n&&xo(e,bo.CheckNoChangesProjectedViews));break;case bo.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ho(e):64&n&&xo(e,t));break;case bo.CheckAndUpdate:0==(128&n)&&(12==(12&n)?fo(e):64&n&&xo(e,bo.CheckAndUpdateProjectedViews));break;case bo.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?fo(e):64&n&&xo(e,t));break;case bo.Destroy:yo(e);break;case bo.CreateViewNodes:co(e)}}function xo(e,t){_o(e,t),ko(e,t)}function Co(e,t,n,i){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var l=e.def.nodes.length,r=0;r<l;r++){var a=e.def.nodes[r];if(a.flags&t&&a.flags&n)switch(Ci.setCurrentNode(e,a.nodeIndex),i){case 0:Ua(e,a);break;case 1:mo(e,a)}a.childFlags&t&&a.childFlags&n||(r+=a.childCount)}}var So=!1;function To(e,t,n,i,l,r){var a=l.injector.get(Un);return ao(Mo(e,l,a,t,n),i,r)}function Po(e,t,n,i,l,r){var a=l.injector.get(Un),o=Mo(e,l,new as(a),t,n),s=Bo(i);return ls(Go.create,ao,null,[o,s,r])}function Mo(e,t,n,i,l){var r=t.injector.get(qt),a=t.injector.get(kt),o=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:i,selectorOrNode:l,sanitizer:r,rendererFactory:n,renderer:o,errorHandler:a}}function Ao(e,t,n,i){var l=Bo(n);return ls(Go.create,ro,null,[e,t,l,i])}function Io(e,t,n,i){return n=Fo.get(t.element.componentProvider.provider.token)||Bo(n),ls(Go.create,oo,null,[e,t,n,i])}function Eo(e,t,n,i){return El(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===Do.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach((function(e){var i=Do.get(e.token);3840&e.flags&&i&&(t=!0,n=n||i.deprecatedBehavior)})),e.modules.forEach((function(e){Oo.forEach((function(i,l){Fe(l).providedIn===e&&(t=!0,n=n||i.deprecatedBehavior)}))})),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasOverrides,i=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];i&&(n.flags|=4096);var l=Do.get(n.token);l&&(n.flags=-3841&n.flags|l.flags,n.deps=qi(l.deps),n.value=l.value)}if(Oo.size>0){var r=new Set(e.modules);Oo.forEach((function(t,n){if(r.has(Fe(n).providedIn)){var l={token:n,flags:t.flags|(i?4096:0),deps:qi(t.deps),value:t.value,index:e.providers.length};e.providers.push(l),e.providersByKey[Pi(n)]=l}}))}}(e=e.factory((function(){return Si}))),e):e}(i))}var Do=new Map,Oo=new Map,Fo=new Map;function Ro(e){var t;Do.set(e.token,e),"function"==typeof e.token&&(t=Fe(e.token))&&"function"==typeof t.providedIn&&Oo.set(e.token,e)}function No(e,t){var n=Ki(t.viewDefFactory),i=Ki(n.nodes[0].element.componentView);Fo.set(e,i)}function Lo(){Do.clear(),Oo.clear(),Fo.clear()}function Bo(e){if(0===Do.size)return e;var t=function(e){for(var t=[],n=null,i=0;i<e.nodes.length;i++){var l=e.nodes[i];1&l.flags&&(n=l),n&&3840&l.flags&&Do.has(l.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return Si}));for(var n=0;n<t.length;n++)i(e,t[n]);return e;function i(e,t){for(var n=t+1;n<e.nodes.length;n++){var i=e.nodes[n];if(1&i.flags)return;if(3840&i.flags){var l=i.provider,r=Do.get(l.token);r&&(i.flags=-3841&i.flags|r.flags,l.deps=qi(r.deps),l.value=r.value)}}}}function Vo(e,t,n,i,l,r,a,o,s,u,c,h,d){var f=e.def.nodes[t];return po(e,f,n,i,l,r,a,o,s,u,c,h,d),224&f.flags?wi(e,t).value:void 0}function zo(e,t,n,i,l,r,a,o,s,u,c,h,d){var f=e.def.nodes[t];return go(e,f,n,i,l,r,a,o,s,u,c,h,d),224&f.flags?wi(e,t).value:void 0}function jo(e){return ls(Go.detectChanges,fo,null,[e])}function Ho(e){return ls(Go.checkNoChanges,ho,null,[e])}function Wo(e){return ls(Go.destroy,yo,null,[e])}var Uo,Yo,qo,Go=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Xo(e,t){Yo=e,qo=t}function Ko(e,t,n,i){return Xo(e,t),ls(Go.handleEvent,e.def.handleEvent,null,[e,t,n,i])}function $o(e,t){if(128&e.state)throw gi(Go[Uo]);return Xo(e,es(e,0)),e.def.updateDirectives((function(e,n,i){for(var l=e.def.nodes[n],r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return 0===t?Qo(e,l,i,a):Jo(e,l,i,a),16384&l.flags&&Xo(e,es(e,n)),224&l.flags?wi(e,l.nodeIndex).value:void 0}),e)}function Zo(e,t){if(128&e.state)throw gi(Go[Uo]);return Xo(e,ts(e,0)),e.def.updateRenderer((function(e,n,i){for(var l=e.def.nodes[n],r=arguments.length,a=new Array(r>3?r-3:0),o=3;o<r;o++)a[o-3]=arguments[o];return 0===t?Qo(e,l,i,a):Jo(e,l,i,a),3&l.flags&&Xo(e,ts(e,n)),224&l.flags?wi(e,l.nodeIndex).value:void 0}),e)}function Qo(e,t,n,i){if(po.apply(void 0,[e,t,n].concat(_toConsumableArray(i)))){var l=1===n?i[0]:i;if(16384&t.flags){for(var r={},a=0;a<t.bindings.length;a++){var o=t.bindings[a],s=l[a];8&o.flags&&(r[(f=o.nonMinifiedName,p=void 0,p=f.replace(/[$@]/g,"_"),"ng-reflect-".concat(f=p.replace(Kt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()}))))]=$t(s))}var u=t.parent,c=ki(e,u.nodeIndex).renderElement;if(u.element.name)for(var h in r){var d=r[h];null!=d?e.renderer.setAttribute(c,h,d):e.renderer.removeAttribute(c,h)}else e.renderer.setValue(c,"bindings=".concat(JSON.stringify(r,null,2)))}}var f,p}function Jo(e,t,n,i){go.apply(void 0,[e,t,n].concat(_toConsumableArray(i)))}function es(e,t){for(var n=t;n<e.def.nodes.length;n++){var i=e.def.nodes[n];if(16384&i.flags&&i.bindings&&i.bindings.length)return n}return null}function ts(e,t){for(var n=t;n<e.def.nodes.length;n++){var i=e.def.nodes[n];if(3&i.flags&&i.bindings&&i.bindings.length)return n}return null}var ns=function(){function e(t,n){_classCallCheck2(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var i=this.nodeDef,l=t;i&&0==(1&i.flags);)i=i.parent;if(!i)for(;!i&&l;)i=zi(l),l=l.parent;this.elDef=i,this.elView=l}return _createClass2(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l,r;2&this.nodeDef.flags?(l=this.view.def,r=this.nodeDef.nodeIndex):(l=this.elView.def,r=this.elDef.nodeIndex);var a=function(e,t){for(var n=-1,i=0;i<=t;i++)3&e.nodes[i].flags&&n++;return n}(l,r),o=-1;l.factory((function(){var t;return++o===a?(t=e.error).bind.apply(t,[e].concat(n)):Si})),o<a&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return ki(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return Tl(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){is(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&is(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!Hi(e);)e=e.parent;return e.parent?ki(e.parent,zi(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?ji(this.view,this.nodeDef):ji(this.elView,this.elDef)}}]),e}();function is(e,t,n){for(var i in t.references)n[i]=qa(e,t,t.references[i])}function ls(e,t,n,i){var l,r,a=Uo,o=Yo,s=qo;try{Uo=e;var u=t.apply(n,i);return Yo=o,qo=s,Uo=a,u}catch(c){if(mt(c)||!Yo)throw c;throw l=c,r=rs(),l instanceof Error||(l=new Error(l.toString())),vi(l,r),l}}function rs(){return Yo?new ns(Yo,qo):null}var as=function(){function e(t){_classCallCheck2(this,e),this.delegate=t}return _createClass2(e,[{key:"createRenderer",value:function(e,t){return new os(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),os=function(){function e(t){_classCallCheck2(this,e),this.delegate=t,this.debugContextFactory=rs,this.data=this.delegate.data}return _createClass2(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=Ma(e);!function(e){Pa.delete(e.nativeNode)}(t),t instanceof Sa&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),i=this.createDebugContext(n);if(i){var l=new Ta(n,null,i);l.name=e,Aa(l)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Aa(new Sa(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Aa(new Sa(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=Ma(e),i=Ma(t);n&&i&&n instanceof Ta&&n.addChild(i),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var i=Ma(e),l=Ma(t),r=Ma(n);i&&l&&i instanceof Ta&&i.insertBefore(r,l),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=Ma(e),i=Ma(t);n&&i&&n instanceof Ta&&n.removeChild(i),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),i=rs();return i&&Aa(new Ta(n,null,i)),n}},{key:"setAttribute",value:function(e,t,n,i){var l=Ma(e);l&&l instanceof Ta&&(l.attributes[i?i+":"+t:t]=n),this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){var i=Ma(e);i&&i instanceof Ta&&(i.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=Ma(e);n&&n instanceof Ta&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=Ma(e);n&&n instanceof Ta&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){var l=Ma(e);l&&l instanceof Ta&&(l.styles[t]=n),this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){var i=Ma(e);i&&i instanceof Ta&&(i.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var i=Ma(e);i&&i instanceof Ta&&(i.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var i=Ma(e);i&&i.listeners.push(new Ca(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();var ss,us=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).moduleType=e,l._bootstrapComponents=n,l._ngModuleDefFactory=i,l}return _inherits(t,e),_createClass2(t,[{key:"create",value:function(e){!function(){if(!So){So=!0;var e=xt()?{setCurrentNode:Xo,createRootView:Po,createEmbeddedView:Ao,createComponentView:Io,createNgModuleRef:Eo,overrideProvider:Ro,overrideComponentView:No,clearOverrides:Lo,checkAndUpdateView:jo,checkNoChangesView:Ho,destroyView:Wo,createDebugContext:function(e,t){return new ns(e,t)},handleEvent:Ko,updateDirectives:$o,updateRenderer:Zo}:{setCurrentNode:function(){},createRootView:To,createEmbeddedView:ro,createComponentView:oo,createNgModuleRef:El,overrideProvider:Si,overrideComponentView:Si,clearOverrides:Si,checkAndUpdateView:fo,checkNoChangesView:ho,destroyView:yo,createDebugContext:function(e,t){return new ns(e,t)},handleEvent:function(e,t,n,i){return e.def.handleEvent(e,t,n,i)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?Vo:zo,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?Vo:zo,e)}};Ci.setCurrentNode=e.setCurrentNode,Ci.createRootView=e.createRootView,Ci.createEmbeddedView=e.createEmbeddedView,Ci.createComponentView=e.createComponentView,Ci.createNgModuleRef=e.createNgModuleRef,Ci.overrideProvider=e.overrideProvider,Ci.overrideComponentView=e.overrideComponentView,Ci.clearOverrides=e.clearOverrides,Ci.checkAndUpdateView=e.checkAndUpdateView,Ci.checkNoChangesView=e.checkNoChangesView,Ci.destroyView=e.destroyView,Ci.resolveDep=Ql,Ci.createDebugContext=e.createDebugContext,Ci.handleEvent=e.handleEvent,Ci.updateDirectives=e.updateDirectives,Ci.updateRenderer=e.updateRenderer,Ci.dirtyParentQueries=Wa}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),i={};for(var l in e.providersByKey)i[l]=e.providersByKey[l];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:i}}(Ki(this._ngModuleDefFactory));return Ci.createNgModuleRef(this.moduleType,e||pn.NULL,this._bootstrapComponents,t)}}]),t}(st),cs={production:!0,urlApi:"https://baphuc10081998.pythonanywhere.com/",token:localStorage.getItem("bearToken")},hs=function e(){_classCallCheck2(this,e)},ds=function e(){_classCallCheck2(this,e),this.title="GDentalAdminsite"},fs=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._value=e,n}return _inherits(t,e),_createClass2(t,[{key:"_subscribe",value:function(e){var n=_get2(_getPrototypeOf2(t.prototype),"_subscribe",this).call(this,e);return n&&!n.closed&&e.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B;return this._value}},{key:"next",value:function(e){_get2(_getPrototypeOf2(t.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),t}(j),ps=function(){function e(t,n){_classCallCheck2(this,e),this.elementRef=t,this.renderer=n,this._renderClass="default",this._imgSrc="default",this.completed=new dr}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"setCustomClass",value:function(){var e=this.elementRef.nativeElement;this.renderer.removeClass(e,"default"),this.renderer.addClass(e,this._renderClass)}},{key:"addImage",value:function(e){var t=this,n=this.elementRef.nativeElement,i=this.renderer.createElement("img");this.renderer.setAttribute(i,"src",e),this.renderer.listen(i,"load",(function(e){console.log("loading completed",e),t.completed.emit(!0)})),this.renderer.appendChild(n,i)}},{key:"renderClass",get:function(){return this._renderClass},set:function(e){this._renderClass=e,this.setCustomClass()}},{key:"imgSrc",get:function(){return this._imgSrc},set:function(e){this._imgSrc=e,this.addImage(this._imgSrc)}}]),e}(),vs=function e(){_classCallCheck2(this,e),this.printOpenWindow=!0,this.timeToWaitRender=200},gs=((ss=function(){function e(t,n,i){_classCallCheck2(this,e),this.resolver=n,this.injector=i,this.printWindowOpen=new fs(!1),this._printItems=new fs([]),this.$printItems=this._printItems.asObservable(),this.timeToWaitRender=200,this.renderClass="default",this.printOpenWindow=!0,this.$printWindowOpen=this.printWindowOpen.asObservable(),this.setRootConfigOptions(t)}return _createClass2(e,[{key:"setRootConfigOptions",value:function(e){e&&(e.printOpenWindow&&(this.printOpenWindow=e.printOpenWindow),e.timeToWaitRender&&(this.timeToWaitRender=e.timeToWaitRender),e.renderClass&&(this.renderClass=e.renderClass))}},{key:"printDiv",value:function(e){var t=document.getElementById(e);t?this.print(t,this.printOpenWindow):console.log("div with id ${divID} not found..")}},{key:"printByClassName",value:function(e){var t=document.getElementsByClassName(e);t&&t.length>0?this.print(t[0],this.printOpenWindow):console.log("element with id ${className} not found..")}},{key:"printAngular",value:function(e){var t=this.createComponent(e);this.print(t.nativeElement,this.printOpenWindow)}},{key:"printImg",value:function(e){var t=this,n=this.createComponent(null,e),i=this.printOpenWindow;n.instance.completed.subscribe((function(e){n.hostView.detectChanges(),console.log("completed:",e),t.print(n.location.nativeElement,i)}))}},{key:"printHTMLElement",value:function(e){this.print(e,this.printOpenWindow)}},{key:"createComponent",value:function(e,t){var n,i=this.resolver.resolveComponentFactory(ps);if(e){var l=this.resolveNgContent(e);n=i.create(this.injector,l)}else n=i.create(this.injector);return n.instance.renderClass=this.renderClass,t?(n.instance.imgSrc=t,n):(n.hostView.detectChanges(),n.location)}},{key:"print",value:function(e,t){if(t){var n=e.cloneNode(!0);this.printInNewWindow(n)}else{var i=e.cloneNode(!0),l=this.createComponent(i).nativeElement;this.openNgxPrinter=l,document.body.appendChild(this.openNgxPrinter),this.printCurrentWindow()}}},{key:"printInNewWindow",value:function(e){var t=this,n=window.open("","PRINT"),i=document.title;n.document.write("<HTML><HEAD><TITLE>"+i+"</TITLE></HEAD><BODY></BODY></HTML>");var l=n.document;l.body.style.margin="0 0",l.body.appendChild(e),n.document.close(),setTimeout((function(){return t.printWindow(n,l)}),this.timeToWaitRender)}},{key:"printWindow",value:function(e,t){var n=this;this.printWindowOpen.next(!0),t.close(),e.focus(),!1===e.document.execCommand("print")&&e.print(),console.log("close print window"),e.close(),setTimeout((function(){e.close(),n.printWindowOpen.next(!1)}),20)}},{key:"printCurrentWindow",value:function(){var e=this;setTimeout((function(){e.printWindowOpen.next(!0),!1===document.execCommand("print")&&window.print(),document.body.removeChild(e.openNgxPrinter),e.printWindowOpen.next(!1)}),this.timeToWaitRender)}},{key:"resolveNgContent",value:function(e){if("string"==typeof e)return[[document.createTextNode(e)]];if(e instanceof ci)return[e.createEmbeddedView(null).rootNodes];if(e instanceof HTMLElement)return[[e]];var t=this.resolver.resolveComponentFactory(e).create(this.injector);return t.changeDetectorRef.detectChanges(),[[t.location.nativeElement]]}},{key:"addPrintItem",value:function(e){var t=this._printItems.getValue();t.push(e),this._printItems.next(t)}},{key:"removePrintItem",value:function(e){var t=this._printItems.getValue().filter((function(t){return t.id!==e}));this._printItems.next(t)}},{key:"printPrintItem",value:function(e){this.printHTMLElement(e.nativeElement)}}]),e}()).ngInjectableDef=De({factory:function(){return new ss(nt(vs,8),nt(Bn),nt(Ge))},token:ss,providedIn:"root"}),ss),ms=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:vs,useValue:t}]}}}]),e}(),ys=Ei({encapsulation:0,styles:[".default[_nghost-%COMP%]{background-color:#fff;height:100%;width:100%;position:fixed;top:0;left:0;margin:0;z-index:1000000}"],data:{}});function bs(e){return no(0,[Ga(null,0)],null,null)}var ks=ml("ngx-printer",ps,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"ngx-printer",[],null,null,null,bs,ys)),jl(1,114688,null,0,ps,[Hn,qn],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{completed:"completed"},["*"]),_s=function e(){_classCallCheck2(this,e)},ws=new qe("Location Initialized"),xs=function e(){_classCallCheck2(this,e)},Cs=new qe("appBaseHref"),Ss=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this._subject=new dr,this._urlChangeListeners=[],this._platformStrategy=t;var l=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(Ts(l)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass2(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Ts(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),i)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(i,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),i)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function Ts(e){return e.replace(/\/index.html$/,"")}var Ps=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._platformLocation=e,i._baseHref="",null!=n&&(i._baseHref=n),i}return _inherits(t,e),_createClass2(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Ss.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var l=this.prepareExternalUrl(n+Ss.normalizeQueryParams(i));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,t,l)}},{key:"replaceState",value:function(e,t,n,i){var l=this.prepareExternalUrl(n+Ss.normalizeQueryParams(i));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(xs),Ms=function(e){function t(e,n){var i;if(_classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._platformLocation=e,null==n&&(n=i._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=n,_possibleConstructorReturn(i)}return _inherits(t,e),_createClass2(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Ss.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Ss.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var l=this.prepareExternalUrl(n+Ss.normalizeQueryParams(i));this._platformLocation.pushState(e,t,l)}},{key:"replaceState",value:function(e,t,n,i){var l=this.prepareExternalUrl(n+Ss.normalizeQueryParams(i));this._platformLocation.replaceState(e,t,l)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(xs),As=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),Is=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Es=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),Ds=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Os=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),Fs=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Rs(e,t){return zs(ur(e)[ar.DateFormat],t)}function Ns(e,t){return zs(ur(e)[ar.TimeFormat],t)}function Ls(e,t){return zs(ur(e)[ar.DateTimeFormat],t)}function Bs(e,t){var n=ur(e),i=n[ar.NumberSymbols][t];if(void 0===i){if(t===Fs.CurrencyDecimal)return n[ar.NumberSymbols][Fs.Decimal];if(t===Fs.CurrencyGroup)return n[ar.NumberSymbols][Fs.Group]}return i}function Vs(e){if(!e[ar.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[ar.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function zs(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function js(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var Hs=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ws={},Us=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ys=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),qs=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Gs=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Xs(e,t,n,i){var l=function(e){if(ru(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=_slicedToArray(e.split("-").map((function(e){return+e})),3),l=i[0],r=i[1],a=i[2];return new Date(l,r-1,a)}if(t=e.match(Hs))return function(e){var t=new Date(0),n=0,i=0,l=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),l.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,o=Number(e[5]||0)-i,s=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,a,o,s,u),t}(t)}var o=new Date(e);if(!ru(o))throw new Error('Unable to convert "'.concat(e,'" into a date'));return o}(e);t=function e(t,n){var i=function(e){return ur(e)[ar.LocaleId]}(t);if(Ws[i]=Ws[i]||{},Ws[i][n])return Ws[i][n];var l="";switch(n){case"shortDate":l=Rs(t,Os.Short);break;case"mediumDate":l=Rs(t,Os.Medium);break;case"longDate":l=Rs(t,Os.Long);break;case"fullDate":l=Rs(t,Os.Full);break;case"shortTime":l=Ns(t,Os.Short);break;case"mediumTime":l=Ns(t,Os.Medium);break;case"longTime":l=Ns(t,Os.Long);break;case"fullTime":l=Ns(t,Os.Full);break;case"short":var r=e(t,"shortTime"),a=e(t,"shortDate");l=Ks(Ls(t,Os.Short),[r,a]);break;case"medium":var o=e(t,"mediumTime"),s=e(t,"mediumDate");l=Ks(Ls(t,Os.Medium),[o,s]);break;case"long":var u=e(t,"longTime"),c=e(t,"longDate");l=Ks(Ls(t,Os.Long),[u,c]);break;case"full":var h=e(t,"fullTime"),d=e(t,"fullDate");l=Ks(Ls(t,Os.Full),[h,d])}return l&&(Ws[i][n]=l),l}(n,t)||t;for(var r,a=[];t;){if(!(r=Us.exec(t))){a.push(t);break}var o=(a=a.concat(r.slice(1))).pop();if(!o)break;t=o}var s=l.getTimezoneOffset();i&&(s=lu(i,s),l=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(lu(t,i)-i))}(l,i));var u="";return a.forEach((function(e){var t=function(e){if(iu[e])return iu[e];var t;switch(e){case"G":case"GG":case"GGG":t=Qs(Gs.Eras,Ds.Abbreviated);break;case"GGGG":t=Qs(Gs.Eras,Ds.Wide);break;case"GGGGG":t=Qs(Gs.Eras,Ds.Narrow);break;case"y":t=Zs(qs.FullYear,1,0,!1,!0);break;case"yy":t=Zs(qs.FullYear,2,0,!0,!0);break;case"yyy":t=Zs(qs.FullYear,3,0,!1,!0);break;case"yyyy":t=Zs(qs.FullYear,4,0,!1,!0);break;case"M":case"L":t=Zs(qs.Month,1,1);break;case"MM":case"LL":t=Zs(qs.Month,2,1);break;case"MMM":t=Qs(Gs.Months,Ds.Abbreviated);break;case"MMMM":t=Qs(Gs.Months,Ds.Wide);break;case"MMMMM":t=Qs(Gs.Months,Ds.Narrow);break;case"LLL":t=Qs(Gs.Months,Ds.Abbreviated,Es.Standalone);break;case"LLLL":t=Qs(Gs.Months,Ds.Wide,Es.Standalone);break;case"LLLLL":t=Qs(Gs.Months,Ds.Narrow,Es.Standalone);break;case"w":t=nu(1);break;case"ww":t=nu(2);break;case"W":t=nu(1,!0);break;case"d":t=Zs(qs.Date,1);break;case"dd":t=Zs(qs.Date,2);break;case"E":case"EE":case"EEE":t=Qs(Gs.Days,Ds.Abbreviated);break;case"EEEE":t=Qs(Gs.Days,Ds.Wide);break;case"EEEEE":t=Qs(Gs.Days,Ds.Narrow);break;case"EEEEEE":t=Qs(Gs.Days,Ds.Short);break;case"a":case"aa":case"aaa":t=Qs(Gs.DayPeriods,Ds.Abbreviated);break;case"aaaa":t=Qs(Gs.DayPeriods,Ds.Wide);break;case"aaaaa":t=Qs(Gs.DayPeriods,Ds.Narrow);break;case"b":case"bb":case"bbb":t=Qs(Gs.DayPeriods,Ds.Abbreviated,Es.Standalone,!0);break;case"bbbb":t=Qs(Gs.DayPeriods,Ds.Wide,Es.Standalone,!0);break;case"bbbbb":t=Qs(Gs.DayPeriods,Ds.Narrow,Es.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qs(Gs.DayPeriods,Ds.Abbreviated,Es.Format,!0);break;case"BBBB":t=Qs(Gs.DayPeriods,Ds.Wide,Es.Format,!0);break;case"BBBBB":t=Qs(Gs.DayPeriods,Ds.Narrow,Es.Format,!0);break;case"h":t=Zs(qs.Hours,1,-12);break;case"hh":t=Zs(qs.Hours,2,-12);break;case"H":t=Zs(qs.Hours,1);break;case"HH":t=Zs(qs.Hours,2);break;case"m":t=Zs(qs.Minutes,1);break;case"mm":t=Zs(qs.Minutes,2);break;case"s":t=Zs(qs.Seconds,1);break;case"ss":t=Zs(qs.Seconds,2);break;case"S":t=Zs(qs.FractionalSeconds,1);break;case"SS":t=Zs(qs.FractionalSeconds,2);break;case"SSS":t=Zs(qs.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Js(Ys.Short);break;case"ZZZZZ":t=Js(Ys.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Js(Ys.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Js(Ys.Long);break;default:return null}return iu[e]=t,t}(e);u+=t?t(l,n,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}function Ks(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function $s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,r="";(e<0||l&&e<=0)&&(l?e=1-e:(e=-e,r=n));for(var a=String(e);a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),r+a}function Zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(r,a){var o,s=function(e,t){switch(e){case qs.FullYear:return t.getFullYear();case qs.Month:return t.getMonth();case qs.Date:return t.getDate();case qs.Hours:return t.getHours();case qs.Minutes:return t.getMinutes();case qs.Seconds:return t.getSeconds();case qs.FractionalSeconds:return t.getMilliseconds();case qs.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,r);if((n>0||s>-n)&&(s+=n),e===qs.Hours)0===s&&-12===n&&(s=12);else if(e===qs.FractionalSeconds)return o=t,$s(s,3).substr(0,o);var u=Bs(a,Fs.MinusSign);return $s(s,t,u,i,l)}}function Qs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Es.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(l,r){return function(e,t,n,i,l,r){switch(n){case Gs.Months:return function(e,t,n){var i=ur(e),l=zs([i[ar.MonthsFormat],i[ar.MonthsStandalone]],t);return zs(l,n)}(t,l,i)[e.getMonth()];case Gs.Days:return function(e,t,n){var i=ur(e),l=zs([i[ar.DaysFormat],i[ar.DaysStandalone]],t);return zs(l,n)}(t,l,i)[e.getDay()];case Gs.DayPeriods:var a=e.getHours(),o=e.getMinutes();if(r){var s,u=function(e){var t=ur(e);return Vs(t),(t[ar.ExtraData][2]||[]).map((function(e){return"string"==typeof e?js(e):[js(e[0]),js(e[1])]}))}(t),c=function(e,t,n){var i=ur(e);Vs(i);var l=zs([i[ar.ExtraData][0],i[ar.ExtraData][1]],t)||[];return zs(l,n)||[]}(t,l,i);if(u.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],i=n.hours,l=n.minutes,r=e[1],u=r.hours,h=r.minutes;a>=i&&o>=l&&(a<u||a===u&&o<h)&&(s=c[t])}else{var d=e.hours,f=e.minutes;d===a&&f===o&&(s=c[t])}})),s)return s}return function(e,t,n){var i=ur(e),l=zs([i[ar.DayPeriodsFormat],i[ar.DayPeriodsStandalone]],t);return zs(l,n)}(t,l,i)[a<12?0:1];case Gs.Eras:return function(e,t){return zs(ur(e)[ar.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(n))}}(l,r,e,t,n,i)}}function Js(e){return function(t,n,i){var l=-1*i,r=Bs(n,Fs.MinusSign),a=l>0?Math.floor(l/60):Math.ceil(l/60);switch(e){case Ys.Short:return(l>=0?"+":"")+$s(a,2,r)+$s(Math.abs(l%60),2,r);case Ys.ShortGMT:return"GMT"+(l>=0?"+":"")+$s(a,1,r);case Ys.Long:return"GMT"+(l>=0?"+":"")+$s(a,2,r)+":"+$s(Math.abs(l%60),2,r);case Ys.Extended:return 0===i?"Z":(l>=0?"+":"")+$s(a,2,r)+":"+$s(Math.abs(l%60),2,r);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}var eu=0,tu=4;function nu(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var l,r,a,o;if(t){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();l=1+Math.floor((u+s)/7)}else{var c=(r=n.getFullYear(),a=new Date(r,eu,1).getDay(),new Date(r,0,1+(a<=tu?tu:tu+7)-a)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(tu-o.getDay()))).getTime()-c.getTime();l=1+Math.round(h/6048e5)}return $s(l,e,Bs(i,Fs.MinusSign))}}var iu={};function lu(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ru(e){return e instanceof Date&&!isNaN(e.valueOf())}var au=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ou(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var su=new qe("UseV4Plurals"),uu=function e(){_classCallCheck2(this,e)},cu=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).locale=e,i.deprecatedPluralFn=n,i}return _inherits(t,e),_createClass2(t,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return ur(e)[ar.PluralCase]}(t||this.locale)(e)){case Is.Zero:return"zero";case Is.One:return"one";case Is.Two:return"two";case Is.Few:return"few";case Is.Many:return"many";default:return"other"}}}]),t}(uu);function hu(e,t){t=encodeURIComponent(t);var n=!0,i=!1,l=void 0;try{for(var r,a=e.split(";")[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=r.value,s=o.indexOf("="),u=_slicedToArray(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=u[0],h=u[1];if(c.trim()===t)return decodeURIComponent(h)}}catch(d){i=!0,l=d}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return null}var du=function e(){_classCallCheck2(this,e)},fu=function(){function e(t,n,i,l){_classCallCheck2(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=l,this._initialClasses=[]}return _createClass2(e,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Mn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Ne(e.item)));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}(),pu=function(e){function t(e){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))}return _inherits(t,e),_createClass2(t,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(e){this._delegate.setClass(e)}},{key:"ngClass",set:function(e){this._delegate.setNgClass(e)}}]),t}(function(){var e=function(){function e(t){_classCallCheck2(this,e),this._delegate=t}return _createClass2(e,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),e}();return e.ngDirectiveDef=void 0,e}()),vu=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=l}return _createClass2(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),gu=function(){function e(t,n,i){_classCallCheck2(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOfDirty=!0,this._differ=null}return _createClass2(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,l){if(null==e.previousIndex){var r=t._viewContainer.createEmbeddedView(t._template,new vu(null,t._ngForOf,-1,-1),null===l?void 0:l),a=new mu(e,r);n.push(a)}else if(null==l)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var o=t._viewContainer.get(i);t._viewContainer.move(o,l);var s=new mu(e,o);n.push(s)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var l=0,r=this._viewContainer.length;l<r;l++){var a=this._viewContainer.get(l);a.context.index=l,a.context.count=r,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){xt()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),mu=function e(t,n){_classCallCheck2(this,e),this.record=t,this.view=n},yu=function(){function e(t,n){_classCallCheck2(this,e),this._viewContainer=t,this._context=new bu,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass2(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){ku("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){ku("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}]),e}(),bu=function e(){_classCallCheck2(this,e),this.$implicit=null,this.ngIf=null};function ku(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Ne(t),"'."))}var _u=function e(){_classCallCheck2(this,e)},wu=function(){function e(t,n,i){_classCallCheck2(this,e),this._ngEl=t,this._differs=n,this._renderer=i}return _createClass2(e,[{key:"getValue",value:function(){return null}},{key:"setNgStyle",value:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"applyChanges",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),i=n[0],l=n[1];null!=(t=null!=t&&l?"".concat(t).concat(l):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}}]),e}(),xu=function(e){function t(e){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))}return _inherits(t,e),_createClass2(t,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"ngStyle",set:function(e){this._delegate.setNgStyle(e)}}]),t}(function(){var e=function(){function e(t){_classCallCheck2(this,e),this._delegate=t}return _createClass2(e,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),e}();return e.ngDirectiveDef=void 0,e}()),Cu=function(){function e(t){_classCallCheck2(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i=!0,l=!1,r=void 0;try{for(var a,o=n[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(-1===t.indexOf(s))return!0}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}();function Su(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Ne(e),"'"))}var Tu,Pu=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Mu=new(function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"createSubscription",value:function(e,t){return e.then(t,(function(e){throw e}))}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Au=new Pu,Iu=function(){function e(t){_classCallCheck2(this,e),this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):Sn(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Pn.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,(function(n){return t._updateLatestValue(e,n)}))}},{key:"_selectStrategy",value:function(t){if(In(t))return Mu;if(En(t))return Au;throw Su(e,t)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}(),Eu=function(){function e(t){_classCallCheck2(this,e),this.locale=t}return _createClass2(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return Xs(t,n,l||this.locale,i)}catch(r){throw Su(e,r.message)}}}]),e}(),Du=function(){function e(t){_classCallCheck2(this,e),this._locale=t}return _createClass2(e,[{key:"transform",value:function(t,n,i){if(function(e){return null==e||""===e||e!=e}(t))return null;i=i||this._locale;try{return function(e,t,n){return function(e,t,n,i,l,r){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o="",s=!1;if(isFinite(e)){var u=function(e){var t,n,i,l,r,a=Math.abs(e)+"",o=0;for((n=a.indexOf("."))>-1&&(a=a.replace(".","")),(i=a.search(/e/i))>0?(n<0&&(n=i),n+=+a.slice(i+1),a=a.substring(0,i)):n<0&&(n=a.length),i=0;"0"===a.charAt(i);i++);if(i===(r=a.length))t=[0],n=1;else{for(r--;"0"===a.charAt(r);)r--;for(n-=i,t=[],l=0;i<=r;i++,l++)t[l]=Number(a.charAt(i))}return n>22&&(t=t.splice(0,21),o=n-1,n=1),{digits:t,exponent:o,integerLen:n}}(e);a&&(u=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));var c=t.minInt,h=t.minFrac,d=t.maxFrac;if(r){var f=r.match(au);if(null===f)throw new Error("".concat(r," is not a valid digit info"));var p=f[1],v=f[3],g=f[5];null!=p&&(c=ou(p)),null!=v&&(h=ou(v)),null!=g?d=ou(g):null!=v&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var i=e.digits,l=i.length-e.integerLen,r=Math.min(Math.max(t,l),n),a=r+e.integerLen,o=i[a];if(a>0){i.splice(Math.max(e.integerLen,a));for(var s=a;s<i.length;s++)i[s]=0}else{l=Math.max(0,l),e.integerLen=1,i.length=Math.max(1,a=r+1),i[0]=0;for(var u=1;u<a;u++)i[u]=0}if(o>=5)if(a-1<0){for(var c=0;c>a;c--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[a-1]++;for(;l<Math.max(0,r);l++)i.push(0);var h=0!==r,d=t+e.integerLen,f=i.reduceRight((function(e,t,n,i){return i[n]=(t+=e)<10?t:t-10,h&&(0===i[n]&&n>=d?i.pop():h=!1),t>=10?1:0}),0);f&&(i.unshift(f),e.integerLen++)}(u,h,d);var m=u.digits,y=u.integerLen,b=u.exponent,k=[];for(s=m.every((function(e){return!e}));y<c;y++)m.unshift(0);for(;y<0;y++)m.unshift(0);y>0?k=m.splice(y,m.length):(k=m,m=[0]);var _=[];for(m.length>=t.lgSize&&_.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)_.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&_.unshift(m.join("")),o=_.join(Bs(n,i)),k.length&&(o+=Bs(n,l)+k.join("")),b&&(o+=Bs(n,Fs.Exponential)+"+"+b)}else o=Bs(n,Fs.Infinity);return e<0&&!s?t.negPre+o+t.negSuf:t.posPre+o+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(";"),l=i[0],r=i[1],a=-1!==l.indexOf(".")?l.split("."):[l.substring(0,l.lastIndexOf("0")+1),l.substring(l.lastIndexOf("0")+1)],o=a[0],s=a[1]||"";n.posPre=o.substr(0,o.indexOf("#"));for(var u=0;u<s.length;u++){var c=s.charAt(u);"0"===c?n.minFrac=n.maxFrac=u+1:"#"===c?n.maxFrac=u+1:n.posSuf+=c}var h=o.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,r){var d=l.length-n.posPre.length-n.posSuf.length,f=r.indexOf("#");n.negPre=r.substr(0,f).replace(/'/g,""),n.negSuf=r.substr(f+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return ur(e)[ar.NumberFormats][t]}(t,As.Decimal),Bs(t,Fs.MinusSign)),t,Fs.Group,Fs.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error("".concat(e," is not a number"));return e}(t),i,n)}catch(l){throw Su(e,l.message)}}}]),e}(),Ou=function e(){_classCallCheck2(this,e)},Fu=new qe("DocumentToken"),Ru="server",Nu=((Tu=function e(){_classCallCheck2(this,e)}).ngInjectableDef=De({token:Tu,providedIn:"root",factory:function(){return new Lu(nt(Fu),window,nt(kt))}}),Tu),Lu=function(){function e(t,n,i){_classCallCheck2(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass2(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(n-l[0],i-l[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Bu=new F((function(e){return e.complete()}));function Vu(e){return e?function(e){return new F((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Bu}function zu(e){var t=new F((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function ju(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];switch(W(i)?t.pop():i=void 0,t.length){case 0:return Vu(i);case 1:return i?le(t,i):zu(t[0]);default:return le(t,i)}}function Hu(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Hu.prototype=Object.create(Error.prototype);var Wu=Hu,Uu={};function Yu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=null,l=null;return W(t[t.length-1])&&(l=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&b(t[0])&&(t=t[0]),le(t,l).lift(new qu(i))}var qu=function(){function e(t){_classCallCheck2(this,e),this.resultSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Gu(e,this.resultSelector))}}]),e}(),Gu=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.values.push(Uu),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(J(this,i,i,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,l){var r=this.values,a=this.toRespond?r[n]===Uu?--this.toRespond:this.toRespond:0;r[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(ee);function Xu(e){return new F((function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?re(n):Vu()).subscribe(t)}))}function Ku(){return ce(1)}function $u(e,t){return function(n){return n.lift(new Zu(e,t))}}var Zu=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.thisArg=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Qu(e,this.predicate,this.thisArg))}}]),e}(),Qu=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).predicate=n,l.thisArg=i,l.count=0,l}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),t}(P);function Ju(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ju.prototype=Object.create(Error.prototype);var ec=Ju;function tc(e){return function(t){return 0===e?Vu():t.lift(new nc(e))}}var nc=function(){function e(t){if(_classCallCheck2(this,e),this.total=t,this.total<0)throw new ec}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ic(e,this.total))}}]),e}(),ic=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).total=n,i.ring=new Array,i.count=0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,l=0;l<n;l++){var r=t++%n;e.next(i[r])}e.complete()}}]),t}(P);function lc(e,t,n){return function(i){return i.lift(new rc(e,t,n))}}var rc=function(){function e(t,n,i){_classCallCheck2(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ac(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),ac=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._tapNext=I,r._tapError=I,r._tapComplete=I,r._tapError=i||I,r._tapComplete=l||I,p(n)?(r._context=_assertThisInitialized(r),r._tapNext=n):n&&(r._context=n,r._tapNext=n.next||I,r._tapError=n.error||I,r._tapComplete=n.complete||I),r}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),t}(P),oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc;return lc({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function sc(){return new Wu}function uc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new cc(e))}}var cc=function(){function e(t){_classCallCheck2(this,e),this.defaultValue=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new hc(e,this.defaultValue))}}]),e}(),hc=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).defaultValue=n,i.isEmpty=!0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),t}(P);function dc(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?$u((function(t,n){return e(t,n,i)})):ue,tc(1),n?uc(t):oc((function(){return new Wu})))}}function fc(e){return function(t){var n=new pc(e),i=t.lift(n);return n.caught=i}}var pc=function(){function e(t){_classCallCheck2(this,e),this.selector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new vc(e,this.selector,this.caught))}}]),e}(),vc=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).selector=n,l.caught=i,l}return _inherits(t,e),_createClass2(t,[{key:"error",value:function(e){if(!this.isStopped){var n;try{n=this.selector(e,this.caught)}catch(l){return void _get2(_getPrototypeOf2(t.prototype),"error",this).call(this,l)}this._unsubscribeAndRecycle();var i=new U(this,void 0,void 0);this.add(i),J(this,n,void 0,void 0,i)}}}]),t}(ee);function gc(e){return function(t){return 0===e?Vu():t.lift(new mc(e))}}var mc=function(){function e(t){if(_classCallCheck2(this,e),this.total=t,this.total<0)throw new ec}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new yc(e,this.total))}}]),e}(),yc=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).total=n,i.count=0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),t}(P);function bc(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?$u((function(t,n){return e(t,n,i)})):ue,gc(1),n?uc(t):oc((function(){return new Wu})))}}var kc=function(){function e(t,n,i){_classCallCheck2(this,e),this.predicate=t,this.thisArg=n,this.source=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new _c(e,this.predicate,this.thisArg,this.source))}}]),e}(),_c=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).predicate=n,r.thisArg=i,r.source=l,r.index=0,r.thisArg=i||_assertThisInitialized(r),r}return _inherits(t,e),_createClass2(t,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),t}(P);function wc(e,t){return"function"==typeof t?function(n){return n.pipe(wc((function(n,i){return re(e(n,i)).pipe(te((function(e,l){return t(n,e,i,l)})))})))}:function(t){return t.lift(new xc(e))}}var xc=function(){function e(t){_classCallCheck2(this,e),this.project=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Cc(e,this.project))}}]),e}(),Cc=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).project=n,i.index=0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var l=new U(this,void 0,void 0);this.destination.add(l),this.innerSubscription=J(this,e,t,n,l)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get2(_getPrototypeOf2(t.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get2(_getPrototypeOf2(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,i,l){this.destination.next(t)}}]),t}(ee);function Sc(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Tc(e,t,n))}}var Tc=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck2(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Pc(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Pc=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).accumulator=n,r._seed=i,r.hasSeed=l,r.index=0,r}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),t}(P);function Mc(e,t){return ae(e,t,1)}var Ac=function(){function e(t){_classCallCheck2(this,e),this.callback=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ic(e,this.callback))}}]),e}(),Ic=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).add(new C(n)),i}return _inherits(t,e),t}(P),Ec=null;function Dc(){return Ec}var Oc,Fc=function(e){function t(){var e;_classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],l=0;l<i.length;l++)if(null!=e.getStyle(n,i[l]+"AnimationName")){e._animationPrefix="-"+i[l].toLowerCase()+"-";break}var r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(r).forEach((function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=r[t])}))}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return _inherits(t,e),_createClass2(t,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),t}(function(){function e(){_classCallCheck2(this,e),this.resourceLoaderType=null}return _createClass2(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}()),Rc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Nc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bc=function(){if(Ye.Node)return Ye.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),Vc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return Bc.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),i=0;i<t.length;i++)n[i]=t[i];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var i=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return i.setAttribute(e,t),i}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var i=this.getStyle(e,t)||"";return n?i==n:i.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,i=0;i<n.length;i++){var l=n.item(i);t.set(l.name,l.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,i){e.setAttributeNS(t,n,i)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Lc.hasOwnProperty(t)&&(t=Lc[t]))}return Nc[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=zc||(zc=document.querySelector("base"))?zc.getAttribute("href"):null;return null==n?null:(t=n,Oc||(Oc=document.createElement("a")),Oc.setAttribute("href",t),"/"===Oc.pathname.charAt(0)?Oc.pathname:"/"+Oc.pathname)}},{key:"resetBaseElement",value:function(){zc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return hu(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return Rc}}],[{key:"makeCurrent",value:function(){var e;e=new t,Ec||(Ec=e)}}]),t}(Fc),zc=null;function jc(){return!!window.history.pushState}var Hc=new qe("TRANSITION_ID"),Wc=[{provide:Sr,useFactory:function(e,t,n){return function(){n.get(Tr).donePromise.then((function(){var n=Dc();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Hc,Fu,pn],multi:!0}],Uc=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToWindow",value:function(e){Ye.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Ye.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ye.getAllAngularRootElements=function(){return e.getAllRootElements()},Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push((function(e){var t=Ye.getAllAngularTestabilities(),n=t.length,i=!1,l=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(l)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Dc().isShadowRoot(t)?this.findTestabilityInTree(e,Dc().getHost(t),!0):this.findTestabilityInTree(e,Dc().parentElement(t),!0):null}}],[{key:"init",value:function(){var t;t=new e,sa=t}}]),e}();function Yc(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ye.ng=Ye.ng||{})[e]=t)}var qc={ApplicationRef:ma,NgZone:Qr};function Gc(e){return Ma(e)}var Xc=new qe("EventManagerPlugins"),Kc=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass2(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var l=n[i];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}(),$c=function(){function e(t){_classCallCheck2(this,e),this._doc=t}return _createClass2(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Dc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),Zc=function(){function e(){_classCallCheck2(this,e),this._stylesSet=new Set}return _createClass2(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),Qc=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return _inherits(t,e),_createClass2(t,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Dc().remove(e)}))}}]),t}(Zc),Jc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},eh=/%COMP%/g,th="_nghost-%COMP%",nh="_ngcontent-%COMP%";function ih(e,t,n){for(var i=0;i<t.length;i++){var l=t[i];Array.isArray(l)?ih(e,l,n):(l=l.replace(eh,e),n.push(l))}return n}function lh(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var rh=function(){function e(t,n,i){_classCallCheck2(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ah(t)}return _createClass2(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case dt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new uh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case dt.Native:case dt.ShadowDom:return new ch(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=ih(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),ah=function(){function e(t){_classCallCheck2(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass2(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Jc[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var l=Jc[i];l?e.setAttributeNS(l,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=Jc[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&Yn.DashCase?e.style.setProperty(t,n,i&Yn.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&Yn.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){sh(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return sh(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,lh(n)):this.eventManager.addEventListener(e,t,lh(n))}}]),e}(),oh="@".charCodeAt(0);function sh(e,t){if(e.charCodeAt(0)===oh)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var uh=function(e){function t(e,n,i,l){var r;_classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).component=i;var a=ih(l+"-"+i.id,i.styles,[]);return n.addStyles(a),r.contentAttr=nh.replace(eh,l+"-"+i.id),r.hostAttr=th.replace(eh,l+"-"+i.id),r}return _inherits(t,e),_createClass2(t,[{key:"applyToHost",value:function(e){_get2(_getPrototypeOf2(t.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,n){var i=_get2(_getPrototypeOf2(t.prototype),"createElement",this).call(this,e,n);return _get2(_getPrototypeOf2(t.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),t}(ah),ch=function(e){function t(e,n,i,l){var r;_classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).sharedStylesHost=n,r.hostEl=i,r.component=l,r.shadowRoot=l.encapsulation===dt.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),r.sharedStylesHost.addHost(r.shadowRoot);for(var a=ih(l.id,l.styles,[]),o=0;o<a.length;o++){var s=document.createElement("style");s.textContent=a[o],r.shadowRoot.appendChild(s)}return r}return _inherits(t,e),_createClass2(t,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,n){return _get2(_getPrototypeOf2(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"insertBefore",value:function(e,n,i){return _get2(_getPrototypeOf2(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),n,i)}},{key:"removeChild",value:function(e,n){return _get2(_getPrototypeOf2(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get2(_getPrototypeOf2(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),t}(ah),hh="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},dh=hh("addEventListener"),fh=hh("removeEventListener"),ph={},vh="__zone_symbol__propagationStopped",gh=function(){var e="undefined"!=typeof Zone&&Zone[hh("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),mh=function(e){return!!gh&&gh.hasOwnProperty(e)},yh=function(e){var t=ph[e.type];if(t){var n=this[t];if(n){var i=[e];if(1===n.length){var l=n[0];return l.zone!==Zone.current?l.zone.run(l.handler,this,i):l.handler.apply(this,i)}for(var r=n.slice(),a=0;a<r.length&&!0!==e[vh];a++){var o=r[a];o.zone!==Zone.current?o.zone.run(o.handler,this,i):o.handler.apply(this,i)}}}},bh=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).ngZone=n,i&&function(e){return e===Ru}(i)||l.patchEvent(),l}return _inherits(t,e),_createClass2(t,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[vh]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this,l=n;if(!e[dh]||Qr.isInAngularZone()&&!mh(t))e.addEventListener(t,l,!1);else{var r=ph[t];r||(r=ph[t]=hh("ANGULAR"+t+"FALSE"));var a=e[r],o=a&&a.length>0;a||(a=e[r]=[]);var s=mh(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:s,handler:l});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===l){u=!0;break}u||a.push({zone:s,handler:l})}o||e[dh](t,yh,!1)}return function(){return i.removeEventListener(e,t,l)}}},{key:"removeEventListener",value:function(e,t,n){var i=e[fh];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);var l=ph[t],r=l&&e[l];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,o=0;o<r.length;o++)if(r[o].handler===n){a=!0,r.splice(o,1);break}a?0===r.length&&i.apply(e,[t,yh,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),t}($c),kh={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},_h=new qe("HammerGestureConfig"),wh=new qe("HammerLoader"),xh=function(){function e(){_classCallCheck2(this,e),this.events=[],this.overrides={}}return _createClass2(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),Ch=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)))._config=n,r.console=i,r.loader=l,r}return _inherits(t,e),_createClass2(t,[{key:"supports",value:function(e){return!(!kh.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not ')+"loaded and no custom loader has been specified."),1))}},{key:"addEventListener",value:function(e,t,n){var i=this,l=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var r=!1,a=function(){r=!0};return this.loader().then((function(){if(!window.Hammer)return i.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});r||(a=i.addEventListener(e,t,n))})).catch((function(){i.console.warn('The "'.concat(t,'" event cannot be bound because the custom ')+"Hammer.JS loader failed."),a=function(){}})),function(){a()}}return l.runOutsideAngular((function(){var r=i._config.buildHammer(e),a=function(e){l.runGuarded((function(){n(e)}))};return r.on(t,a),function(){r.off(t,a),"function"==typeof r.destroy&&r.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),t}($c),Sh=["alt","control","meta","shift"],Th={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Ph=function(e){function t(e){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))}return _inherits(t,e),_createClass2(t,[{key:"supports",value:function(e){return null!=t.parseEventName(e)}},{key:"addEventListener",value:function(e,n,i){var l=t.parseEventName(n),r=t.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Dc().onAndCancel(e,l.domEventName,r)}))}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;var l=t._normalizeKey(n.pop()),r="";if(Sh.forEach((function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")})),r+=l,0!=n.length||0===l.length)return null;var a={};return a.domEventName=i,a.fullKey=r,a}},{key:"getEventFullKey",value:function(e){var t="",n=Dc().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Sh.forEach((function(i){i!=n&&(0,Th[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,n,i){return function(l){t.getEventFullKey(l)===e&&i.runGuarded((function(){return n(l)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),t}($c),Mh=function e(){_classCallCheck2(this,e)},Ah=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._doc=e,n}return _inherits(t,e),_createClass2(t,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case Yt.NONE:return t;case Yt.HTML:return t instanceof Eh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{It=It||new Ct(e);var i=t?String(t):"";n=It.getInertBodyElement(i);var l=5,r=i;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,i=r,r=n.innerHTML,n=It.getInertBodyElement(i)}while(i!==r);var a=new zt,o=a.sanitizeChildren(Ut(n)||n);return xt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n)for(var s=Ut(n)||n;s.firstChild;)s.removeChild(s.firstChild)}}(this._doc,String(t)));case Yt.STYLE:return t instanceof Dh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(Xt);return t&&Pt(t[1])===t[1]||e.match(Gt)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var l=e.charAt(i);"'"===l&&n?t=!t:'"'===l&&t&&(n=!n)}return t&&n}(e)?e:(xt()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t));case Yt.SCRIPT:if(t instanceof Oh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Yt.URL:return t instanceof Rh||t instanceof Fh?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),Pt(String(t)));case Yt.RESOURCE_URL:if(t instanceof Rh)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof Ih)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," ")+"(see http://g.co/ng/security#xss)")}},{key:"bypassSecurityTrustHtml",value:function(e){return new Eh(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Dh(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new Oh(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Fh(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Rh(e)}}]),t}(Mh),Ih=function(){function e(t){_classCallCheck2(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass2(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}(),Eh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getTypeName",value:function(){return"HTML"}}]),t}(Ih),Dh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getTypeName",value:function(){return"Style"}}]),t}(Ih),Oh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getTypeName",value:function(){return"Script"}}]),t}(Ih),Fh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getTypeName",value:function(){return"URL"}}]),t}(Ih),Rh=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),t}(Ih),Nh=da(Ia,"browser",[{provide:Er,useValue:"browser"},{provide:Ir,useValue:function(){Vc.makeCurrent(),Uc.init()},multi:!0},{provide:_s,useClass:function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._doc=e,n._init(),n}return _inherits(t,e),_createClass2(t,[{key:"_init",value:function(){this.location=Dc().getLocation(),this._history=Dc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Dc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Dc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Dc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){jc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){jc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),t}(_s),deps:[Fu]},{provide:Fu,useFactory:function(){return document},deps:[]}]);function Lh(){return new kt}var Bh=function(){function e(t){if(_classCallCheck2(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass2(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Pr,useValue:t.appId},{provide:Hc,useExisting:Pr},Wc]}}}]),e}();"undefined"!=typeof window&&window;var Vh=function e(t,n){_classCallCheck2(this,e),this.id=t,this.url=n},zh=function(e){function t(e,n){var i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).navigationTrigger=l,i.restoredState=r,i}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(Vh),jh=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).urlAfterRedirects=i,l}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),t}(Vh),Hh=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).reason=i,l}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(Vh),Wh=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).error=i,l}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),t}(Vh),Uh=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).urlAfterRedirects=i,r.state=l,r}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Vh),Yh=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).urlAfterRedirects=i,r.state=l,r}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Vh),qh=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).urlAfterRedirects=i,a.state=l,a.shouldActivate=r,a}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),t}(Vh),Gh=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).urlAfterRedirects=i,r.state=l,r}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Vh),Xh=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).urlAfterRedirects=i,r.state=l,r}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(Vh),Kh=function(){function e(t){_classCallCheck2(this,e),this.route=t}return _createClass2(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),$h=function(){function e(t){_classCallCheck2(this,e),this.route=t}return _createClass2(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Zh=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Qh=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Jh=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),ed=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),td=function(){function e(t,n,i){_classCallCheck2(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return _createClass2(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),nd=function e(){_classCallCheck2(this,e)},id="primary",ld=function(){function e(t){_classCallCheck2(this,e),this.params=t||{}}return _createClass2(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function rd(e){return new ld(e)}var ad="ngNavigationCancelingError";function od(e){var t=Error("NavigationCancelingError: "+e);return t[ad]=!0,t}function sd(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var l={},r=0;r<i.length;r++){var a=i[r],o=e[r];if(a.startsWith(":"))l[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:e.slice(0,i.length),posParams:l}}var ud=function e(t,n){_classCallCheck2(this,e),this.routes=t,this.module=n};function cd(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];hd(i,dd(t,i))}}function hd(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==id)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&cd(e.children,t)}function dd(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function fd(e){var t=e.children&&e.children.map(fd),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==id&&(n.component=nd),n}function pd(e,t){var n,i=Object.keys(e),l=Object.keys(t);if(!i||!l||i.length!=l.length)return!1;for(var r=0;r<i.length;r++)if(e[n=i[r]]!==t[n])return!1;return!0}function vd(e){return Array.prototype.concat.apply([],e)}function gd(e){return e.length>0?e[e.length-1]:null}function md(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function yd(e){return En(e)?e:In(e)?re(Promise.resolve(e)):ju(e)}function bd(e,t,n){return n?function(e,t){return pd(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!xd(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,l){if(n.segments.length>l.length)return!!xd(n.segments.slice(0,l.length),l)&&!i.hasChildren();if(n.segments.length===l.length){if(!xd(n.segments,l))return!1;for(var r in i.children){if(!n.children[r])return!1;if(!e(n.children[r],i.children[r]))return!1}return!0}var a=l.slice(0,n.segments.length),o=l.slice(n.segments.length);return!!xd(n.segments,a)&&!!n.children[id]&&t(n.children[id],i,o)}(t,n,n.segments)}(e.root,t.root)}var kd=function(){function e(t,n,i){_classCallCheck2(this,e),this.root=t,this.queryParams=n,this.fragment=i}return _createClass2(e,[{key:"toString",value:function(){return Pd.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=rd(this.queryParams)),this._queryParamMap}}]),e}(),_d=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.segments=t,this.children=n,this.parent=null,md(n,(function(e,t){return e.parent=i}))}return _createClass2(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Md(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),wd=function(){function e(t,n){_classCallCheck2(this,e),this.path=t,this.parameters=n}return _createClass2(e,[{key:"toString",value:function(){return Fd(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=rd(this.parameters)),this._parameterMap}}]),e}();function xd(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Cd(e,t){var n=[];return md(e.children,(function(e,i){i===id&&(n=n.concat(t(e,i)))})),md(e.children,(function(e,i){i!==id&&(n=n.concat(t(e,i)))})),n}var Sd=function e(){_classCallCheck2(this,e)},Td=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"parse",value:function(e){var t=new Vd(e);return new kd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,i;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Md(t);if(n){var i=t.children[id]?e(t.children[id],!1):"",l=[];return md(t.children,(function(t,n){n!==id&&l.push("".concat(n,":").concat(e(t,!1)))})),l.length>0?"".concat(i,"(").concat(l.join("//"),")"):i}var r=Cd(t,(function(n,i){return i===id?[e(t.children[id],!1)]:["".concat(i,":").concat(e(n,!1))]}));return"".concat(Md(t),"/(").concat(r.join("//"),")")}(e.root,!0)),(n=e.queryParams,i=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Id(e),"=").concat(Id(t))})).join("&"):"".concat(Id(e),"=").concat(Id(t))})),i.length?"?".concat(i.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Pd=new Td;function Md(e){return e.segments.map((function(e){return Fd(e)})).join("/")}function Ad(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Id(e){return Ad(e).replace(/%3B/gi,";")}function Ed(e){return Ad(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dd(e){return decodeURIComponent(e)}function Od(e){return Dd(e.replace(/\+/g,"%20"))}function Fd(e){return"".concat(Ed(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Ed(e),"=").concat(Ed(t[e]))})).join("")));var t}var Rd=/^[^\/()?;=#]+/;function Nd(e){var t=e.match(Rd);return t?t[0]:""}var Ld=/^[^=?&#]+/,Bd=/^[^?&#]+/,Vd=function(){function e(t){_classCallCheck2(this,e),this.url=t,this.remaining=t}return _createClass2(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _d([],{}):new _d([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[id]=new _d(e,t)),n}},{key:"parseSegment",value:function(){var e=Nd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new wd(Dd(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Nd(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=Nd(this.remaining);i&&this.capture(n=i)}e[Dd(t)]=Dd(n)}}},{key:"parseQueryParam",value:function(e){var t,n,i=(t=this.remaining,(n=t.match(Ld))?n[0]:"");if(i){this.capture(i);var l="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Bd);return t?t[0]:""}(this.remaining);r&&this.capture(l=r)}var a=Od(i),o=Od(l);if(e.hasOwnProperty(a)){var s=e[a];Array.isArray(s)||(e[a]=s=[s]),s.push(o)}else e[a]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nd(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var l=void 0;n.indexOf(":")>-1?(l=n.substr(0,n.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=id);var r=this.parseChildren();t[l]=1===Object.keys(r).length?r[id]:new _d([],r),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),zd=function(){function e(t){_classCallCheck2(this,e),this._root=t}return _createClass2(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=jd(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=jd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Hd(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Hd(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function jd(e,t){if(e===t.value)return t;var n=!0,i=!1,l=void 0;try{for(var r,a=t.children[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=jd(e,r.value);if(o)return o}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return null}function Hd(e,t){if(e===t.value)return[t];var n=!0,i=!1,l=void 0;try{for(var r,a=t.children[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var o=Hd(e,r.value);if(o.length)return o.unshift(t),o}}catch(s){i=!0,l=s}finally{try{n||null==a.return||a.return()}finally{if(i)throw l}}return[]}var Wd=function(){function e(t,n){_classCallCheck2(this,e),this.value=t,this.children=n}return _createClass2(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ud(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var Yd=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).snapshot=n,Zd(_assertThisInitialized(i),e),i}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return this.snapshot.toString()}}]),t}(zd);function qd(e,t){var n=function(e,t){var n=new Kd([],{},{},"",{},id,t,null,e.root,-1,{});return new $d("",new Wd(n,[]))}(e,t),i=new fs([new wd("",{})]),l=new fs({}),r=new fs({}),a=new fs({}),o=new fs(""),s=new Gd(i,l,a,o,r,id,t,n.root);return s.snapshot=n.root,new Yd(new Wd(s,[]),n)}var Gd=function(){function e(t,n,i,l,r,a,o,s){_classCallCheck2(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=l,this.data=r,this.outlet=a,this.component=o,this._futureSnapshot=s}return _createClass2(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(te((function(e){return rd(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(te((function(e){return rd(e)})))),this._queryParamMap}}]),e}();function Xd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var l=n[i],r=n[i-1];if(l.routeConfig&&""===l.routeConfig.path)i--;else{if(r.component)break;i--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var Kd=function(){function e(t,n,i,l,r,a,o,s,u,c,h){_classCallCheck2(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=l,this.data=r,this.outlet=a,this.component=o,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass2(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=rd(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=rd(this.queryParams)),this._queryParamMap}}]),e}(),$d=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n))).url=e,Zd(_assertThisInitialized(i),n),i}return _inherits(t,e),_createClass2(t,[{key:"toString",value:function(){return Qd(this._root)}}]),t}(zd);function Zd(e,t){t.value._routerState=e,t.children.forEach((function(t){return Zd(e,t)}))}function Qd(e){var t=e.children.length>0?" { ".concat(e.children.map(Qd).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Jd(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,pd(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),pd(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!pd(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),pd(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ef(e,t){var n,i;return pd(e.params,t.params)&&xd(n=e.url,i=t.url)&&n.every((function(e,t){return pd(e.parameters,i[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||ef(e.parent,t.parent))}function tf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function nf(e,t,n,i,l){var r={};return i&&md(i,(function(e,t){r[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new kd(n.root===e?t:function e(t,n,i){var l={};return md(t.children,(function(t,r){l[r]=t===n?i:e(t,n,i)})),new _d(t.segments,l)}(n.root,e,t),r,l)}var lf=function(){function e(t,n,i){if(_classCallCheck2(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&tf(i[0]))throw new Error("Root segment cannot have matrix parameters");var l=i.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(l&&l!==gd(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass2(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),rf=function e(t,n,i){_classCallCheck2(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function af(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[id]:"".concat(e)}function of(e,t,n){if(e||(e=new _d([],{})),0===e.segments.length&&e.hasChildren())return sf(e,t,n);var i=function(e,t,n){for(var i=0,l=t,r={match:!1,pathIndex:0,commandIndex:0};l<e.segments.length;){if(i>=n.length)return r;var a=e.segments[l],o=af(n[i]),s=i<n.length-1?n[i+1]:null;if(l>0&&void 0===o)break;if(o&&s&&"object"==typeof s&&void 0===s.outlets){if(!df(o,s,a))return r;i+=2}else{if(!df(o,{},a))return r;i++}l++}return{match:!0,pathIndex:l,commandIndex:i}}(e,t,n),l=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var r=new _d(e.segments.slice(0,i.pathIndex),{});return r.children[id]=new _d(e.segments.slice(i.pathIndex),e.children),sf(r,0,l)}return i.match&&0===l.length?new _d(e.segments,{}):i.match&&!e.hasChildren()?uf(e,t,n):i.match?sf(e,0,l):uf(e,t,n)}function sf(e,t,n){if(0===n.length)return new _d(e.segments,{});var i=function(e){return"object"!=typeof e[0]?_defineProperty2({},id,e):void 0===e[0].outlets?_defineProperty2({},id,e):e[0].outlets}(n),l={};return md(i,(function(n,i){null!==n&&(l[i]=of(e.children[i],t,n))})),md(e.children,(function(e,t){void 0===i[t]&&(l[t]=e)})),new _d(e.segments,l)}function uf(e,t,n){for(var i=e.segments.slice(0,t),l=0;l<n.length;){if("object"==typeof n[l]&&void 0!==n[l].outlets){var r=cf(n[l].outlets);return new _d(i,r)}if(0===l&&tf(n[0]))i.push(new wd(e.segments[t].path,n[0])),l++;else{var a=af(n[l]),o=l<n.length-1?n[l+1]:null;a&&o&&tf(o)?(i.push(new wd(a,hf(o))),l+=2):(i.push(new wd(a,{})),l++)}}return new _d(i,{})}function cf(e){var t={};return md(e,(function(e,n){null!==e&&(t[n]=uf(new _d([],{}),0,e))})),t}function hf(e){var t={};return md(e,(function(e,n){return t[n]="".concat(e)})),t}function df(e,t,n){return e==n.path&&pd(t,n.parameters)}var ff=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=l}return _createClass2(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Jd(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,l=Ud(t);e.children.forEach((function(e){var t=e.value.outlet;i.deactivateRoutes(e,l[t],n),delete l[t]})),md(l,(function(e,t){i.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,l=t?t.value:null;if(i===l)if(i.component){var r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else l&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:l})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var l=Ud(e),r=e.value.component?i.children:t;md(l,(function(e,t){return n.deactivateRouteAndItsChildren(e,r)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,l=Ud(t);e.children.forEach((function(e){i.activateRoutes(e,l[e.value.outlet],n),i.forwardEvent(new ed(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Qh(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,l=t?t.value:null;if(Jd(i),i===l)if(i.component){var r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),pf(o.route)}else{var s=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=s?s.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function pf(e){Jd(e.value),e.children.forEach(pf)}function vf(e){return"function"==typeof e}function gf(e){return e instanceof kd}var mf=function e(t){_classCallCheck2(this,e),this.segmentGroup=t||null},yf=function e(t){_classCallCheck2(this,e),this.urlTree=t};function bf(e){return new F((function(t){return t.error(new mf(e))}))}function kf(e){return new F((function(t){return t.error(new yf(e))}))}function _f(e){return new F((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var wf=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=l,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ot)}return _createClass2(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,id).pipe(te((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(fc((function(t){if(t instanceof yf)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof mf)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,id).pipe(te((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(fc((function(e){if(e instanceof mf)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new _d([],_defineProperty2({},id,e)):e;return new kd(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(te((function(e){return new _d([],e)}))):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,l){if(0===Object.keys(n).length)return ju({});var r=[],a=[],o={};return md(n,(function(n,l){var s,u,c=(s=l,u=n,i.expandSegmentGroup(e,t,u,s)).pipe(te((function(e){return o[l]=e})));l===id?r.push(c):a.push(c)})),ju.apply(null,r.concat(a)).pipe(Ku(),dc(),te((function(){return o})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,l,r){var a=this;return ju.apply(void 0,_toConsumableArray(n)).pipe(te((function(o){return a.expandSegmentAgainstRoute(e,t,n,o,i,l,r).pipe(fc((function(e){if(e instanceof mf)return ju(null);throw e})))})),Ku(),bc((function(e){return!!e})),fc((function(e,n){if(e instanceof Wu||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,i,l))return ju(new _d([],{}));throw new mf(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,l,r,a){return Tf(i)!==r?bf(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,l,r):bf(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,l,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,l,r)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var l=this,r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?kf(r):this.lineralizeSegments(n,r).pipe(ae((function(n){var r=new _d(n,{});return l.expandSegment(e,r,t,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,l,r){var a=this,o=xf(t,i,l),s=o.matched,u=o.consumedSegments,c=o.lastChild,h=o.positionalParamSegments;if(!s)return bf(t);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?kf(d):this.lineralizeSegments(i,d).pipe(ae((function(i){return a.expandSegment(e,t,n,i.concat(l.slice(c)),r,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var l=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(te((function(e){return n._loadedConfig=e,new _d(i,{})}))):ju(new _d(i,{}));var r=xf(t,n,i),a=r.matched,o=r.consumedSegments,s=r.lastChild;if(!a)return bf(t);var u=i.slice(s);return this.getChildConfig(e,n,i).pipe(ae((function(e){var n=e.module,i=e.routes,r=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some((function(n){return Sf(e,t,n)&&Tf(n)!==id}))}(e,n,i)?{segmentGroup:Cf(new _d(t,function(e,t){var n={};n[id]=t;var i=!0,l=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;""===s.path&&Tf(s)!==id&&(n[Tf(s)]=new _d([],{}))}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return n}(i,new _d(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Sf(e,t,n)}))}(e,n,i)?{segmentGroup:Cf(new _d(e.segments,function(e,t,n,i){var l={},r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;Sf(e,t,c)&&!i[Tf(c)]&&(l[Tf(c)]=new _d([],{}))}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return Object.assign({},i,l)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,u,i),a=r.segmentGroup,s=r.slicedSegments;return 0===s.length&&a.hasChildren()?l.expandChildren(n,i,a).pipe(te((function(e){return new _d(o,e)}))):0===i.length&&0===s.length?ju(new _d(o,{})):l.expandSegment(n,a,i,s,id,!0).pipe(te((function(e){return new _d(o.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?ju(new ud(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ju(t._loadedConfig):function(e,t,n){var i,l=t.canLoad;return l&&0!==l.length?re(l).pipe(te((function(i){var l,r=e.get(i);if(function(e){return e&&vf(e.canLoad)}(r))l=r.canLoad(t,n);else{if(!vf(r))throw new Error("Invalid CanLoad guard");l=r(t,n)}return yd(l)}))).pipe(Ku(),(i=function(e){return!0===e},function(e){return e.lift(new kc(i,void 0,e))})):ju(!0)}(e.injector,t,n).pipe(ae((function(n){return n?i.configLoader.load(e.injector,t).pipe(te((function(e){return t._loadedConfig=e,e}))):function(e){return new F((function(t){return t.error(od("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):ju(new ud([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return ju(n);if(i.numberOfChildren>1||!i.children[id])return _f(e.redirectTo);i=i.children[id]}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var l=this.createSegmentGroup(e,t.root,n,i);return new kd(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return md(e,(function(e,i){if("string"==typeof e&&e.startsWith(":")){var l=e.substring(1);n[i]=t[l]}else n[i]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var l=this,r=this.createSegments(e,t.segments,n,i),a={};return md(t.children,(function(t,r){a[r]=l.createSegmentGroup(e,t,n,i)})),new _d(r,a)}},{key:"createSegments",value:function(e,t,n,i){var l=this;return t.map((function(t){return t.path.startsWith(":")?l.findPosParam(e,t,i):l.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n=0,i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(s.path===e.path)return t.splice(n),s;n++}}catch(u){l=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return e}}]),e}();function xf(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||sd)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Cf(e){if(1===e.numberOfChildren&&e.children[id]){var t=e.children[id];return new _d(e.segments.concat(t.segments),t.children)}return e}function Sf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Tf(e){return e.outlet||id}var Pf=function e(t){_classCallCheck2(this,e),this.path=t,this.route=this.path[this.path.length-1]},Mf=function e(t,n){_classCallCheck2(this,e),this.component=t,this.route=n};function Af(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function If(e,t,n){var i=Ud(e),l=e.value;md(i,(function(e,i){If(e,l.component?t?t.children.getContext(i):null:t,n)})),n.canDeactivateChecks.push(new Mf(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}var Ef=Symbol("INITIAL_VALUE");function Df(){return wc((function(e){return Yu.apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(gc(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];W(n)?t.pop():n=null;var i=t.length;return function(){return Ku()(ju.apply(void 0,arguments))}(1!==i||n?i>0?le(t,n):Vu(n):zu(t[0]),e)}}(Ef))})))).pipe(Sc((function(e,t){var n=!1;return t.reduce((function(e,i,l){if(e!==Ef)return e;if(i===Ef&&(n=!0),!n){if(!1===i)return i;if(l===t.length-1||gf(i))return i}return e}),e)}),Ef),$u((function(e){return e!==Ef})),te((function(e){return gf(e)?e:!0===e})),gc(1))}))}function Of(e,t){return null!==e&&t&&t(new Jh(e)),ju(!0)}function Ff(e,t){return null!==e&&t&&t(new Zh(e)),ju(!0)}function Rf(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?ju(i.map((function(i){return Xu((function(){var l,r=Af(i,t,n);if(function(e){return e&&vf(e.canActivate)}(r))l=yd(r.canActivate(t,e));else{if(!vf(r))throw new Error("Invalid CanActivate guard");l=yd(r(t,e))}return l.pipe(bc())}))}))).pipe(Df()):ju(!0)}function Nf(e,t,n){var i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Xu((function(){return ju(t.guards.map((function(l){var r,a=Af(l,t.node,n);if(function(e){return e&&vf(e.canActivateChild)}(a))r=yd(a.canActivateChild(i,e));else{if(!vf(a))throw new Error("Invalid CanActivateChild guard");r=yd(a(i,e))}return r.pipe(bc())}))).pipe(Df())}))}));return ju(l).pipe(Df())}var Lf=function e(){_classCallCheck2(this,e)},Bf=function(){function e(t,n,i,l,r,a){_classCallCheck2(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=a}return _createClass2(e,[{key:"recognize",value:function(){try{var e=jf(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,id),n=new Kd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},id,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Wd(n,t),l=new $d(this.url,i);return this.inheritParamsAndData(l._root),ju(l)}catch(r){return new F((function(e){return e.error(r)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=Xd(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,l=Cd(t,(function(t,n){return i.processSegmentGroup(e,t,n)}));return n={},l.forEach((function(e){var t=n[e.value.outlet];if(t){var i=t.url.map((function(e){return e.toString()})).join("/"),l=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(l,"'."))}n[e.value.outlet]=e.value})),l.sort((function(e,t){return e.value.outlet===id?-1:t.value.outlet===id?1:e.value.outlet.localeCompare(t.value.outlet)})),l}},{key:"processSegment",value:function(e,t,n,i){var l=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;try{return this.processSegmentAgainstRoute(u,t,n,i)}catch(c){if(!(c instanceof Lf))throw c}}}catch(h){r=!0,a=h}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}if(this.noLeftoversInUrl(t,n,i))return[];throw new Lf}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new Lf;if((e.outlet||id)!==i)throw new Lf;var l,r=[],a=[];if("**"===e.path){var o=n.length>0?gd(n).parameters:{};l=new Kd(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uf(e),i,e.component,e,Vf(t),zf(t)+n.length,Yf(e))}else{var s=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Lf;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||sd)(n,e,t);if(!i)throw new Lf;var l={};md(i.posParams,(function(e,t){l[t]=e.path}));var r=i.consumed.length>0?Object.assign({},l,i.consumed[i.consumed.length-1].parameters):l;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(t,e,n);r=s.consumedSegments,a=n.slice(s.lastChild),l=new Kd(r,s.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uf(e),i,e.component,e,Vf(t),zf(t)+r.length,Yf(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=jf(t,r,a,u,this.relativeLinkResolution),h=c.segmentGroup,d=c.slicedSegments;if(0===d.length&&h.hasChildren()){var f=this.processChildren(u,h);return[new Wd(l,f)]}if(0===u.length&&0===d.length)return[new Wd(l,[])];var p=this.processSegment(u,h,d,id);return[new Wd(l,p)]}}]),e}();function Vf(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function zf(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function jf(e,t,n,i,l){if(n.length>0&&function(e,t,n){return n.some((function(n){return Hf(e,t,n)&&Wf(n)!==id}))}(e,n,i)){var r=new _d(t,function(e,t,n,i){var l={};l[id]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var r=!0,a=!1,o=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(""===c.path&&Wf(c)!==id){var h=new _d([],{});h._sourceSegment=e,h._segmentIndexShift=t.length,l[Wf(c)]=h}}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}return l}(e,t,i,new _d(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Hf(e,t,n)}))}(e,n,i)){var a=new _d(e.segments,function(e,t,n,i,l,r){var a={},o=!0,s=!1,u=void 0;try{for(var c,h=i[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var d=c.value;if(Hf(e,n,d)&&!l[Wf(d)]){var f=new _d([],{});f._sourceSegment=e,f._segmentIndexShift="legacy"===r?e.segments.length:t.length,a[Wf(d)]=f}}}catch(p){s=!0,u=p}finally{try{o||null==h.return||h.return()}finally{if(s)throw u}}return Object.assign({},l,a)}(e,t,n,i,e.children,l));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var o=new _d(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Hf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Wf(e){return e.outlet||id}function Uf(e){return e.data||{}}function Yf(e){return e.resolve||{}}function qf(e,t,n,i){var l=Af(e,t,i);return yd(l.resolve?l.resolve(t,n):l(t,n))}function Gf(e){return function(t){return t.pipe(wc((function(t){var n=e(t);return n?re(n).pipe(te((function(){return t}))):re([t])})))}}var Xf=function e(){_classCallCheck2(this,e)},Kf=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),$f=new qe("ROUTES"),Zf=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=l}return _createClass2(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(te((function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var l=i.create(e);return new ud(vd(l.injector.get($f)).map(fd),l)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?re(this.loader.load(e)):yd(e()).pipe(ae((function(e){return e instanceof st?ju(e):re(t.compiler.compileModuleAsync(e))})))}}]),e}(),Qf=function e(){_classCallCheck2(this,e)},Jf=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function ep(e){throw e}function tp(e,t,n){return t.parse("/")}function np(e,t){return ju(null)}var ip=function(){function e(t,n,i,l,r,a,o,s){var u=this;_classCallCheck2(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=l,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new j,this.errorHandler=ep,this.malformedUriErrorHandler=tp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:np,afterPreactivation:np},this.urlHandlingStrategy=new Jf,this.routeReuseStrategy=new Kf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(ot),this.console=r.get(Or);var c=r.get(Qr);this.isNgZoneEnabled=c instanceof Qr,this.resetConfig(s),this.currentUrlTree=new kd(new _d([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zf(a,o,(function(e){return u.triggerEvent(new Kh(e))}),(function(e){return u.triggerEvent(new $h(e))})),this.routerState=qd(this.currentUrlTree,this.rootComponentType),this.transitions=new fs({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass2(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe($u((function(e){return 0!==e.id})),te((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),wc((function(e){var i,l,r,a=!1,o=!1;return ju(e).pipe(lc((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),wc((function(e){var i,l,r,a,o=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||o)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return ju(e).pipe(wc((function(e){var i=t.transitions.getValue();return n.next(new zh(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?Bu:[e]})),wc((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,l=t.configLoader,r=t.urlSerializer,a=t.config,function(e){return e.pipe(wc((function(e){return function(e,t,n,i,l){return new wf(e,t,n,i,l).apply()}(i,l,r,e.extractedUrl,a).pipe(te((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),lc((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,i,l,r){return function(i){return i.pipe(ae((function(i){return function(e,t,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Bf(e,t,n,i,l,r).recognize()}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),l,r).pipe(te((function(e){return Object.assign({},i,{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),lc((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),lc((function(e){var i=new Uh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)})));if(o&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var s=e.id,u=e.extractedUrl,c=e.source,h=e.restoredState,d=e.extras,f=new zh(s,t.serializeUrl(u),c,h);n.next(f);var p=qd(u,t.rootComponentType).snapshot;return ju(Object.assign({},e,{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Bu})),Gf((function(e){var n=e.targetSnapshot,i=e.id,l=e.extractedUrl,r=e.rawUrl,a=e.extras,o=a.skipLocationChange,s=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:l,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})})),lc((function(e){var n=new Yh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),te((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,i=e.currentSnapshot,l=t.rootContexts,r=n._root,function e(t,n,i,l){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Ud(n);return t.children.forEach((function(t){!function(t,n,i,l){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=n?n.value:null,s=i?i.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!xd(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xd(e.url,t.url)||!pd(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ef(e,t)||!pd(e.queryParams,t.queryParams);case"paramsChange":default:return!ef(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Pf(l)):(a.data=o.data,a._resolvedData=o._resolvedData),e(t,n,a.component?s?s.children:null:i,l,r),u&&r.canDeactivateChecks.push(new Mf(s&&s.outlet&&s.outlet.component||null,o))}else o&&If(n,s,r),r.canActivateChecks.push(new Pf(l)),e(t,null,a.component?s?s.children:null:i,l,r)}(t,a[t.value.outlet],i,l.concat([t.value]),r),delete a[t.value.outlet]})),md(a,(function(e,t){return If(e,i.getContext(t),r)})),r}(r,i?i._root:null,l,[r.value]))});var n,i,l,r})),(l=t.ngModule.injector,r=function(e){return t.triggerEvent(e)},function(e){return e.pipe(ae((function(e){var t=e.targetSnapshot,n=e.currentSnapshot,i=e.guards,a=i.canActivateChecks,o=i.canDeactivateChecks;return 0===o.length&&0===a.length?ju(Object.assign({},e,{guardsResult:!0})):function(e,t,n,i){return re(e).pipe(ae((function(e){return function(e,t,n,i,l){var r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?ju(r.map((function(r){var a,o=Af(r,t,l);if(function(e){return e&&vf(e.canDeactivate)}(o))a=yd(o.canDeactivate(e,t,n,i));else{if(!vf(o))throw new Error("Invalid CanDeactivate guard");a=yd(o(e,t,n,i))}return a.pipe(bc())}))).pipe(Df()):ju(!0)}(e.component,e.route,n,t,i)})),bc((function(e){return!0!==e}),!0))}(o,t,n,l).pipe(ae((function(e){return e&&"boolean"==typeof e?function(e,t,n,i){return re(t).pipe(Mc((function(t){return re([Ff(t.route.parent,i),Of(t.route,i),Nf(e,t.path,n),Rf(e,t.route,n)]).pipe(Ku(),bc((function(e){return!0!==e}),!0))})),bc((function(e){return!0!==e}),!0))}(t,a,l,r):ju(e)})),te((function(t){return Object.assign({},e,{guardsResult:t})})))})))}),lc((function(e){if(gf(e.guardsResult)){var n=od('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),lc((function(e){var n=new qh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),$u((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new Hh(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0})),Gf((function(e){if(e.guards.canActivateChecks.length)return ju(e).pipe(lc((function(e){var n=new Gh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),function(e,t){return function(n){return n.pipe(ae((function(n){var i=n.targetSnapshot,l=n.guards.canActivateChecks;return l.length?re(l).pipe(Mc((function(n){return function(e,t,n,i){return function(e,t,n,i){var l=Object.keys(e);if(0===l.length)return ju({});if(1===l.length){var r=l[0];return qf(e[r],t,n,i).pipe(te((function(e){return _defineProperty2({},r,e)})))}var a={};return re(l).pipe(ae((function(l){return qf(e[l],t,n,i).pipe(te((function(e){return a[l]=e,e})))}))).pipe(dc(),te((function(){return a})))}(e._resolve,e,t,i).pipe(te((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,Xd(e,n).resolve),null})))}(n.route,i,e,t)})),function(e,t){return arguments.length>=2?function(n){return E(Sc(e,t),tc(1),uc(t))(n)}:function(t){return E(Sc((function(t,n,i){return e(t,n,i+1)})),tc(1))(t)}}((function(e,t){return e})),te((function(e){return n}))):ju(n)})))}}(t.paramsInheritanceStrategy,t.ngModule.injector),lc((function(e){var n=new Xh(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})))})),Gf((function(e){var n=e.targetSnapshot,i=e.id,l=e.extractedUrl,r=e.rawUrl,a=e.extras,o=a.skipLocationChange,s=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:l,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})})),te((function(e){var n,i,l,r,a=(n=t.routeReuseStrategy,i=e.targetSnapshot,l=e.currentRouterState,r=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){var l=i.value;l._futureSnapshot=n.value;var r=function(t,n,i){return n.children.map((function(n){var l=!0,r=!1,a=void 0;try{for(var o,s=i.children[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;if(t.shouldReuseRoute(u.value.snapshot,n.value))return e(t,n,u)}}catch(c){r=!0,a=c}finally{try{l||null==s.return||s.return()}finally{if(r)throw a}}return e(t,n)}))}(t,n,i);return new Wd(l,r)}var a=t.retrieve(n.value);if(a){var o=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,o),o}var s,u=new Gd(new fs((s=n.value).url),new fs(s.params),new fs(s.queryParams),new fs(s.fragment),new fs(s.data),s.outlet,s.component,s),c=n.children.map((function(n){return e(t,n)}));return new Wd(u,c)}(n,i._root,l?l._root:void 0),new Yd(r,i));return Object.assign({},e,{targetRouterState:a})})),lc((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),function(e,t,n){return te((function(i){return new ff(t,i.targetRouterState,i.currentRouterState,n).activate(e),i}))}(t.rootContexts,t.routeReuseStrategy,(function(e){return t.triggerEvent(e)})),lc({next:function(){a=!0},complete:function(){a=!0}}),(i=function(){if(!a&&!o){t.resetUrlToCurrentUrlTree();var i=new Hh(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Ac(i))}),fc((function(i){if(o=!0,(s=i)&&s[ad]){var l=gf(i.url);l||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var r=new Hh(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(r),e.resolve(!1),l&&t.navigateByUrl(i.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new Wh(e.id,t.serializeUrl(e.extractedUrl),i);n.next(a);try{e.resolve(t.errorHandler(i))}catch(u){e.reject(u)}}var s;return Bu})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),i="popstate"===t.type?"popstate":"hashchange",l=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,i,l,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){cd(e),this.config=e.map(fd),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,l=t.fragment,r=t.preserveQueryParams,a=t.queryParamsHandling,o=t.preserveFragment;xt()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var s=n||this.routerState.root,u=o?this.currentUrlTree.fragment:l,c=null;if(a)switch(a){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=r?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,l){if(0===n.length)return nf(t.root,t.root,t,i,l);var r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new lf(!0,0,e);var t=0,n=!1,i=e.reduce((function(e,i,l){if("object"==typeof i&&null!=i){if(i.outlets){var r={};return md(i.outlets,(function(e,t){r[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:r}])}if(i.segmentPath)return[].concat(_toConsumableArray(e),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(e),[i]):0===l?(i.split("/").forEach((function(i,l){0==l&&"."===i||(0==l&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))})),e):[].concat(_toConsumableArray(e),[i])}),[]);return new lf(n,t,i)}(n);if(r.toRoot())return nf(t.root,new _d([],{}),t,i,l);var a=function(e,t,n){if(e.isAbsolute)return new rf(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new rf(n.snapshot._urlSegment,!0,0);var i=tf(e.commands[0])?0:1;return function(e,t,n){for(var i=e,l=t,r=n;r>l;){if(r-=l,!(i=i.parent))throw new Error("Invalid number of '../'");l=i.segments.length}return new rf(i,!1,l-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(r,t,e),o=a.processChildren?sf(a.segmentGroup,a.index,r.commands):of(a.segmentGroup,a.index,r.commands);return nf(a.segmentGroup,o,t,i,l)}(s,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};xt()&&this.isNgZoneEnabled&&!Qr.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=gf(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(gf(e))return bd(this.currentUrlTree,e,t);var n=this.parseUrl(e);return bd(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new jh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,i){var l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);var r=null,a=null,o=new Promise((function(e,t){r=e,a=t})),s=++this.navigationId;return this.setTransition({id:s,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:r,reject:a,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,i){var l=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(l)||t?this.location.replaceState(l,"",Object.assign({},i,{navigationId:n})):this.location.go(l,"",Object.assign({},i,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),lp=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.router=t,this.route=n,this.commands=[],null==i&&l.setAttribute(r.nativeElement,"tabindex","0")}return _createClass2(e,[{key:"onClick",value:function(){var e={skipLocationChange:ap(this.skipLocationChange),replaceUrl:ap(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){xt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ap(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ap(this.preserveFragment)})}}]),e}(),rp=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof jh&&l.updateTargetUrlAndHref()}))}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var l={skipLocationChange:ap(this.skipLocationChange),replaceUrl:ap(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,l),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){xt()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ap(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ap(this.preserveFragment)})}}]),e}();function ap(e){return""===e||!!e}var op=function e(){_classCallCheck2(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new sp,this.attachRef=null},sp=function(){function e(){_classCallCheck2(this,e),this.contexts=new Map}return _createClass2(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new op,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),up=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new dr,this.deactivateEvents=new dr,this.name=l||id,t.onChildOutletCreated(this.name,this)}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,l=new cp(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),cp=function(){function e(t,n,i){_classCallCheck2(this,e),this.route=t,this.childContexts=n,this.parent=i}return _createClass2(e,[{key:"get",value:function(e,t){return e===Gd?this.route:e===sp?this.childContexts:this.parent.get(e,t)}}]),e}(),hp=function e(){_classCallCheck2(this,e)},dp=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"preload",value:function(e,t){return t().pipe(fc((function(){return ju(null)})))}}]),e}(),fp=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"preload",value:function(e,t){return ju(null)}}]),e}(),pp=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.router=t,this.injector=l,this.preloadingStrategy=r,this.loader=new Zf(n,i,(function(e){return t.triggerEvent(new Kh(e))}),(function(e){return t.triggerEvent(new $h(e))}))}return _createClass2(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe($u((function(e){return e instanceof jh})),Mc((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(ot);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n=[],i=!0,l=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(i=(a=o.next()).done);i=!0){var s=a.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var u=s._loadedConfig;n.push(this.processRoutes(u.module,u.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(e,s)):s.children&&n.push(this.processRoutes(e,s.children))}}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return re(n).pipe(ce(),te((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(ae((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),vp=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck2(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass2(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof zh?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jh&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof td&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new td(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),gp=new qe("ROUTER_CONFIGURATION"),mp=new qe("ROUTER_FORROOT_GUARD"),yp=[Ss,{provide:Sd,useClass:Td},{provide:ip,useFactory:Sp,deps:[ma,Sd,sp,Ss,pn,ba,Wr,$f,gp,[Qf,new Pe],[Xf,new Pe]]},sp,{provide:Gd,useFactory:Tp,deps:[ip]},{provide:ba,useClass:wa},pp,fp,dp,{provide:gp,useValue:{enableTracing:!1}}];function bp(){return new ha("Router",ip)}var kp=function(){function e(t,n){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[yp,Cp(t),{provide:mp,useFactory:xp,deps:[[ip,new Pe,new Ae]]},{provide:gp,useValue:n||{}},{provide:xs,useFactory:wp,deps:[_s,[new Te(Cs),new Pe],gp]},{provide:vp,useFactory:_p,deps:[ip,Nu,gp]},{provide:hp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:fp},{provide:ha,multi:!0,useFactory:bp},[Pp,{provide:Sr,multi:!0,useFactory:Mp,deps:[Pp]},{provide:Ip,useFactory:Ap,deps:[Pp]},{provide:Dr,multi:!0,useExisting:Ip}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Cp(t)]}}}]),e}();function _p(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new vp(e,t,n)}function wp(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useHash?new Ps(e,t):new Ms(e,t)}function xp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Cp(e){return[{provide:wn,multi:!0,useValue:e},{provide:$f,multi:!0,useValue:e}]}function Sp(e,t,n,i,l,r,a,o){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},u=arguments.length>9?arguments[9]:void 0,c=arguments.length>10?arguments[10]:void 0,h=new ip(null,t,n,i,l,r,a,vd(o));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),s.errorHandler&&(h.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(h.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var d=Dc();h.events.subscribe((function(e){d.logGroup("Router Event: ".concat(e.constructor.name)),d.log(e.toString()),d.log(e),d.logGroupEnd()}))}return s.onSameUrlNavigation&&(h.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(h.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(h.relativeLinkResolution=s.relativeLinkResolution),h}function Tp(e){return e.routerState.root}var Pp=function(){function e(t){_classCallCheck2(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new j}return _createClass2(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(ws,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),i=e.injector.get(ip),l=e.injector.get(gp);if(e.isLegacyDisabled(l)||e.isLegacyEnabled(l))t(!0);else if("disabled"===l.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==l.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(l.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return e.initNavigation?ju(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(gp),n=this.injector.get(pp),i=this.injector.get(vp),l=this.injector.get(ip),r=this.injector.get(ma);e===r.components[0]&&(this.isLegacyEnabled(t)?l.initialNavigation():this.isLegacyDisabled(t)&&l.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),l.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function Mp(e){return e.appInitializer.bind(e)}function Ap(e){return e.bootstrapListener.bind(e)}var Ip=new qe("Router Initializer"),Ep=Ei({encapsulation:2,styles:[],data:{}});function Dp(e){return no(0,[(e()(),La(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(1,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null)],(function(e,t){e(t,1,0)}),null)}var Op,Fp=ml("ng-component",nd,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"ng-component",[],null,null,null,Dp,Ep)),jl(1,49152,null,0,nd,[],null,null)],null,null)}),{},{},[]),Rp=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).scheduler=e,i.work=n,i.pending=!1,i}return _inherits(t,e),_createClass2(t,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(l){n=!0,i=!!l&&l||new Error(l)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),t}(function(e){function t(e,n){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))}return _inherits(t,e),_createClass2(t,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),t}(C)),Np=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).scheduler=e,i.work=n,i}return _inherits(t,e),_createClass2(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n>0?_get2(_getPrototypeOf2(t.prototype),"schedule",this).call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,n){return n>0||this.closed?_get2(_getPrototypeOf2(t.prototype),"execute",this).call(this,e,n):this._execute(e,n)}},{key:"requestAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get2(_getPrototypeOf2(t.prototype),"requestAsyncId",this).call(this,e,n,i):e.flush(this)}}]),t}(Rp),Lp=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck2(this,e),this.SchedulerAction=t,this.now=n}return _createClass2(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),Bp=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Lp.now;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,(function(){return t.delegate&&t.delegate!==_assertThisInitialized(n)?t.delegate.now():i()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(t,e),_createClass2(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,i):_get2(_getPrototypeOf2(t.prototype),"schedule",this).call(this,e,n,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),t}(Lp),Vp=new(function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Bp))(Np),zp=((Op=function(){function e(t,n,i){_classCallCheck2(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass2(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return ju(this.value);case"E":return e=this.error,new F((function(t){return t.error(e)}));case"C":return Vu()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Op("C"),Op.undefinedValueNotification=new Op("N",void 0),Op),jp=function(e){function t(e,n){var i,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).scheduler=n,i.delay=l,i}return _inherits(t,e),_createClass2(t,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new Hp(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(zp.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(zp.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(zp.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),t}(P),Hp=function e(t,n){_classCallCheck2(this,e),this.notification=t,this.destination=n},Wp=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,l=arguments.length>2?arguments[2]:void 0;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).scheduler=l,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=n<1?1:n,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _inherits(t,e),_createClass2(t,[{key:"nextInfiniteTimeWindow",value:function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),_get2(_getPrototypeOf2(t.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new Up(this._getNow(),e)),this._trimBufferThenGetEvents(),_get2(_getPrototypeOf2(t.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,r=i.length;if(this.closed)throw new B;if(this.isStopped||this.hasError?t=C.EMPTY:(this.observers.push(e),t=new V(this,e)),l&&e.add(e=new jp(e,l)),n)for(var a=0;a<r&&!e.closed;a++)e.next(i[a]);else for(var o=0;o<r&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||Vp).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,l=i.length,r=0;r<l&&!(e-i[r].time<n);)r++;return l>t&&(r=Math.max(r,l-t)),r>0&&i.splice(0,r),i}}]),t}(j),Up=function e(t,n){_classCallCheck2(this,e),this.time=t,this.value=n},Yp=function(){function e(){_classCallCheck2(this,e),this.emitter=new Wp(1)}return _createClass2(e,[{key:"emitChangeEvent",value:function(e){this.emitter.next(e)}}]),e}(),qp=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"mobileCheck",value:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}}]),e}(),Gp=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,i))).elementRef=e,l.ref=n,l.eventService=i,l.spinnerHeight=30,l.minTimeout=30,l.preloaderTimeout=100,l.spinnerStyles={transform:""},l.configThumbnailPreloader=!0,l.events=new dr,l.hostShown=!1,l.hideControls=!1,l}return _inherits(t,e),_createClass2(t,[{key:"scrolling",value:function(){"initial-thumbnail-image"!==this.showState&&"initial-virtual-image"!==this.showState&&"animation"!==this.closingState||this.updateThumbnailPosition()}},{key:"onKeyDown",value:function(e){switch(e.key){case"ArrowLeft":this.prev();break;case"ArrowRight":this.next();break;case"Escape":this.closeLightbox()}}},{key:"onMouseEnter",value:function(e){this.hideControls=!1}},{key:"transitionEnd",value:function(e){"transform"===e.propertyName&&this.hostAnimation&&(this.hostAnimation=!1)}},{key:"ngOnInit",value:function(){this.currentImageIndex=this.properties.index,this.initialLightbox()}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout((function(){"not-loaded"===e.currImageLoadingState&&(e.currImageLoadingState="loading")}),this.preloaderTimeout),"default"===this.animationMode&&setTimeout((function(){e.showLightboxAnimation()}),this.minTimeout)}},{key:"onImageLoaded",value:function(){var e=this;"zoom-preloader"===this.animationMode&&"initial-thumbnail-image"===this.showState&&(this.initialLightboxVirtualImage(),setTimeout((function(){e.currImageLoadingState="uploaded",e.showLightboxAnimation(),e.properties.hideThumbnail&&e.hideThumbnailImage()}),this.minTimeout)),"animation-end"===this.showState&&(this.currImageLoadingState="uploaded",this.properties.hideThumbnail&&this.hideThumbnailImage()),this.ref.detectChanges()}},{key:"onImageError",value:function(e){var t=this;this.currImageLoadingState="error",this.initialLightboxDefault(),setTimeout((function(){t.showLightboxAnimation()}),this.minTimeout)}},{key:"onContainerClick",value:function(e){(e.target===this.lightboxContainerElem.nativeElement||this.simpleMode)&&this.closeLightbox()}},{key:"initialLightbox",value:function(){switch(this.setMaxDimensions(),this.setAnimationDuration(),this.animationMode){case"zoom-preloader":this.initialLightboxThumbnailImage();break;case"default":this.initialLightboxDefault()}}},{key:"initialLightboxDefault",value:function(){this.showState="initial-default",this.containerStyles={transform:"translate3d(0, 0, 0)",height:"100%",width:"100%",opacity:"0"}}},{key:"initialLightboxVirtualImage",value:function(){this.setShowState("initial-virtual-image"),this.containerStyles={transform:this.containerInitialPosition,height:this.virtualImageDimension.height+"px",width:this.virtualImageDimension.width+"px"}}},{key:"initialLightboxThumbnailImage",value:function(){this.setShowState("initial-thumbnail-image"),this.containerStyles={transform:this.containerInitialPosition,height:this.thumbnailImagePosition.height+"px",width:this.thumbnailImagePosition.width+"px"}}},{key:"showLightboxAnimation",value:function(){this.hostAnimation=!0,this.setShowState("animation"),this.hostShown=!0,this.setBackgroundColor(),this.setAnimationDuration(),"zoom-preloader"===this.animationMode&&"error"!==this.currImageLoadingState&&(this.containerStyles.transform=this.containerFullscreenPosition),"default"===this.animationMode&&(this.containerStyles.opacity="1")}},{key:"showLightboxAnimationEnd",value:function(){this.setShowState("animation-end"),this.containerStyles={transform:"translate3d(0, 0, 0)",height:"100%",width:"100%"}}},{key:"closeLightbox",value:function(){this.setClosingState("initial"),this.hostShown=!1,this.closeLightboxInitial()}},{key:"closeLightboxInitial",value:function(){var e=this;this.setClosingState("initial-styles"),"zoom-preloader"===this.animationMode&&(this.containerStyles={transform:this.containerFullscreenPosition,height:this.virtualImageDimension.height+"px",width:this.virtualImageDimension.width+"px"}),"default"===this.animationMode&&(this.containerStyles.opacity="1"),setTimeout((function(){e.closeLightboxAnimation()}),this.minTimeout)}},{key:"closeLightboxAnimation",value:function(){this.setClosingState("animation"),"zoom-preloader"===this.animationMode&&(this.hostAnimation=!0,this.containerStyles={transform:this.containerInitialPosition,height:this.getContainerHeight(),width:this.getContainerWidth()},this.hostStyleBackgroundColor=""),"default"===this.animationMode&&(this.hostAnimation=!0,this.containerStyles.opacity="0",this.hostStyleBackgroundColor=""),this.setAnimationDuration(),0===this.animationDuration&&this.closeLightboxAnimationEnd()}},{key:"closeLightboxAnimationEnd",value:function(){this.setClosingState("animation-end"),this.events.emit({type:"close"}),"zoom-preloader"===this.animationMode&&this.showThumbnailImage()}},{key:"handleLightboxTransitionEnd",value:function(e){"animation"===this.showState&&this.showLightboxAnimationEnd(),"animation"===this.closingState&&this.closeLightboxAnimationEnd()}},{key:"next",value:function(){var e=this;if("zoom-preloader"===this.animationMode&&this.showThumbnailImage(),this.isLastImage){if(!this.properties.loop)return;this.currentImageIndex=0}else this.currentImageIndex++,this.currImageLoadingState="loading";setTimeout((function(){"uploaded"!==e.currImageLoadingState&&(e.currImageLoadingState="loading")}),this.preloaderTimeout)}},{key:"prev",value:function(){var e=this;if("zoom-preloader"===this.animationMode&&this.showThumbnailImage(),this.isFirstImage){if(!this.properties.loop)return;this.currentImageIndex=this.latestImageIndex}else this.currentImageIndex--,this.currImageLoadingState="loading";setTimeout((function(){"uploaded"!==e.currImageLoadingState&&(e.currImageLoadingState="loading")}),this.preloaderTimeout)}},{key:"setMaxDimensions",value:function(){this.lightboxImage.nativeElement.style.maxHeight="calc("+this.properties.imageMaxHeight+")",this.lightboxImage.nativeElement.style.maxWidth=this.properties.imageMaxWidth}},{key:"handlePinchZoomEvents",value:function(e){"zoom-in"===e.type&&(this.isZoomIn=!0),"zoom-out"===e.type&&(this.isZoomIn=!1)}},{key:"getContainerWidth",value:function(){return this.thumbnailImagePosition.width/this.containerScale+"px"}},{key:"simpleMode",get:function(){return this.properties.simpleMode}},{key:"hostLightTheme",get:function(){return"white"===this.properties.backgroundColor}},{key:"currImagePath",get:function(){var e,t=this.images[this.index];return!!t&&(t.fullImage&&t.fullImage.path?e=t.fullImage.path:t.thumbnailImage&&t.thumbnailImage.path?e=t.thumbnailImage.path:t.path&&(e=t.path),e)}},{key:"prevImagePath",get:function(){return this.images[this.prevIndex]},set:function(e){this.images[this.prevIndex]=e}},{key:"isHiddenPrevArrow",get:function(){return this.isFirstImage&&!this.properties.loop||this.isZoomIn}},{key:"isHiddenNextArrow",get:function(){return this.isLastImage&&!this.properties.loop||this.isZoomIn}},{key:"isPreloader",get:function(){return"zoom-preloader"===this.animationMode&&"animation-end"!=this.showState&&"loading"===this.currImageLoadingState}},{key:"imageOrientation",get:function(){return this.thumbnailImage.naturalWidth>this.thumbnailImage.naturalHeight?"horizontal":"vertical"}}]),t}(function(){function e(t){_classCallCheck2(this,e),this.eventService=t,this.currentImageIndex=0,this.indexCurrentSlide=1,this.containerStyles={transition:"",transform:"",width:"",height:"",opacity:""},this.currImageLoadingState="not-loaded",this.isMobile=qp.mobileCheck()}return _createClass2(e,[{key:"emitState",value:function(e,t){"initial-virtual-image"!==t&&"initial-styles"!==t&&("initial-default"!==t&&"initial-thumbnail-image"!==t||(t="initial"),this.eventService.emitChangeEvent({type:e+":"+t}))}},{key:"setShowState",value:function(e){this.showState=e,this.emitState("show-state",e)}},{key:"setClosingState",value:function(e){this.closingState=e,this.emitState("closing-state",e)}},{key:"setAnimationDuration",value:function(){this.hostStyleTransition="background-color "+this.animationDuration+"ms",this.containerStyles.transition="all "+this.animationDuration+"ms "+this.animationTimingFunction}},{key:"setBackgroundColor",value:function(){this.hostStyleBackgroundColor=this.backgroundColor}},{key:"getContainerHeight",value:function(){return this.thumbnailImagePosition.height/this.containerScale+"px"}},{key:"showThumbnailImage",value:function(){this.thumbnailImage.style.opacity=""}},{key:"hideThumbnailImage",value:function(){this.thumbnailImage.style.opacity=0}},{key:"updateThumbnailPosition",value:function(){this.containerStyles.transform=this.containerInitialPosition}},{key:"lightboxImage",get:function(){return this._lightboxImage}},{key:"lightboxImageElement",get:function(){if(this.lightboxImage)return this.lightboxImage.nativeElement}},{key:"lightboxImageNaturalHeight",get:function(){if(this.lightboxImageElement)return this.lightboxImageElement.naturalHeight}},{key:"lightboxImageNaturalWidth",get:function(){if(this.lightboxImageElement)return this.lightboxImageElement.naturalWidth}},{key:"index",get:function(){return this.currentImageIndex}},{key:"properties",get:function(){return this.lightboxData.properties}},{key:"images",get:function(){return this.lightboxData.images||[this.lightboxData.image]}},{key:"thumbnailImage",get:function(){return this.images[this.currentImageIndex].nativeElement}},{key:"thumbnailImagePosition",get:function(){return this.thumbnailImage.getBoundingClientRect()}},{key:"virtualImageDimension",get:function(){var e=this.lightboxImageNaturalHeight,t=e*this.imageAspectRatio,n=document.body.clientWidth,i=window.innerHeight;return this.isImageLargerWindow?(e>i&&(t=(e=i)*this.imageAspectRatio),t>n&&(e=(t=n)/this.imageAspectRatio)):(t=this.lightboxImageNaturalWidth,e=this.lightboxImageNaturalHeight),0===t||0===Number.parseInt(e)?{width:200,height:200}:{width:t,height:e}}},{key:"containerInitialPosition",get:function(){var e="initial-thumbnail-image"===this.showState?1:this.containerScale;return"matrix("+e+", 0, 0, "+e+","+this.thumbnailImagePosition.left+","+this.thumbnailImagePosition.top+")"}},{key:"containerFullscreenPosition",get:function(){return"translate3d("+(document.body.clientWidth-this.virtualImageDimension.width)/2+"px, "+(window.innerHeight-this.virtualImageDimension.height)/2+"px, 0)"}},{key:"containerScale",get:function(){return this.thumbnailImagePosition.width/this.virtualImageDimension.width}},{key:"imageAspectRatio",get:function(){return this.thumbnailImage.naturalWidth/this.thumbnailImage.naturalHeight}},{key:"isImageLargerWindow",get:function(){var e=document.body.clientWidth,t=window.innerHeight;return this.lightboxImageNaturalWidth>e||this.lightboxImageNaturalHeight>t}},{key:"isFirstImage",get:function(){return!this.properties.loop&&0===this.index}},{key:"isLastImage",get:function(){return!this.properties.loop&&this.index===this.latestImageIndex}},{key:"latestImageIndex",get:function(){return this.images.length-1}},{key:"backgroundColor",get:function(){var e=this.properties.backgroundOpacity;return"black"===this.properties.backgroundColor?"rgba(0, 0, 0, "+e+")":"rgba(255, 255, 255, "+e+")"}},{key:"animationDuration",get:function(){var e=this.properties.animationDuration;return"string"==typeof e?Number.parseInt(e):e}},{key:"animationMode",get:function(){return"error"===this.currImageLoadingState?"default":this.properties.animationMode}},{key:"animationTimingFunction",get:function(){return this.properties.animationTimingFunction}},{key:"closeButtonText",get:function(){return this.properties.closeButtonText}},{key:"counterSeparator",get:function(){return this.properties.counterSeparator}},{key:"counter",get:function(){return this.currentImageIndex+1+this.counterSeparator+this.images.length}}]),e}()),Xp={loop:!1,index:0,counter:!1,imageMaxHeight:"100%",imageMaxWidth:"100%",animationDuration:350,animationMode:"zoom-preloader",animationTimingFunction:"cubic-bezier(0.475, 0.105, 0.445, 0.945)",closeButtonText:"Close",counterSeparator:"/",disable:!1,simpleMode:!1,backgroundColor:"black",backgroundOpacity:1,hideThumbnail:!0,gestureEnable:!1},Kp=function(){function e(t,n,i){_classCallCheck2(this,e),this.componentFactoryResolver=t,this.appRef=n,this.injector=i}return _createClass2(e,[{key:"appendComponentToBody",value:function(e,t){var n=this,i=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector);i.instance.lightboxData=t,this.appRef.attachView(i.hostView),document.body.appendChild(i.hostView.rootNodes[0]),i.instance.events.subscribe((function(e){"close"===e.type&&(n.appRef.detachView(i.hostView),i.destroy())}))}},{key:"open",value:function(e){e.properties=this.applyPropertieDefaults(Xp,e.properties);var t=this.getLightboxComponent();this.appendComponentToBody(t,e)}},{key:"getLightboxComponent",value:function(){return Gp}},{key:"applyPropertieDefaults",value:function(e,t){return t||(t={}),t.index||(t.index=0),this._defaultProperties=Object.assign({},e),Object.assign(this._defaultProperties,t)}}]),e}(),$p=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.lightbox=t,this.eventService=n,this.elementRef=i,this.properties={},this.events=new dr,this.hostLightboxGroup=!0,this.globalEventsSubscription=this.eventService.emitter.subscribe((function(e){l.handleGlobalEvents(e)}))}return _createClass2(e,[{key:"onClick",value:function(e){this.disable||(this.isGroupImage?this.eventService.emitChangeEvent({type:"thumbnail:click",elementRef:this.elementRef,properties:this.properties}):(this.image=this.getImage(),this.lightbox.open({images:[this.image],properties:this.properties,index:0})))}},{key:"ngOnChanges",value:function(e){this.properties=this.getProperties(e)}},{key:"handleGlobalEvents",value:function(e){this.events.emit(e)}},{key:"getImage",value:function(){var e={},t=this.elementRef.nativeElement;return this.fullImage&&(e.fullImage=this.fullImage),e.thumbnailImage={path:t.src,height:t.naturalHeight,width:t.naturalWidth},e.nativeElement=t,e}},{key:"getProperties",value:function(e){var t={};for(var n in e)"fullImage"!==n&&(t[n]=e[n].currentValue);return t}},{key:"hostSimpleMode",get:function(){return this.simpleMode}},{key:"isGroupImage",get:function(){return this.elementRef.nativeElement.closest(".lightbox-group")}}]),e}(),Zp=function e(){_classCallCheck2(this,e)},Qp=Ei({encapsulation:0,styles:[".lightbox-spinner[_ngcontent-%COMP%], .lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite lightbox-load;animation:1.5s ease-in-out infinite lightbox-load}.lightbox-spinner[_ngcontent-%COMP%]{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.lightbox-spinner[_ngcontent-%COMP%]:after, .lightbox-spinner[_ngcontent-%COMP%]:before{content:'';position:absolute;top:0}.lightbox-spinner[_ngcontent-%COMP%]:before{left:-32px;-webkit-animation-delay:-.32s;animation-delay:-.32s}.lightbox-spinner[_ngcontent-%COMP%]:after{left:32px}@-webkit-keyframes lightbox-load{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes lightbox-load{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}.lightbox-shown[_nghost-%COMP%]{opacity:1}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:.5;transition-delay:.1s}.lightbox-shown[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]:hover, .lightbox-shown[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]:hover{opacity:1;transition-delay:0}.lightbox-shown[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{opacity:1}.lightbox-hide-controls[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], .lightbox-hide-controls[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0}.lightbox-simple-mode[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{cursor:zoom-out}[_nghost-%COMP%]:not(.lightbox-animation)   .lightbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;top:0;left:0;height:100%}.lightbox-light[_nghost-%COMP%]{color:#000;text-shadow:none}[_nghost-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;text-shadow:0 0 1px rgba(0,0,0,.65);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10000}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{opacity:1;max-width:100%;max-height:100%}[_nghost-%COMP%]   img.lightbox-curr-image.lightbox-show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   img.lightbox-curr-image[_ngcontent-%COMP%]{opacity:0;z-index:10}[_nghost-%COMP%]   .lightbox-container.lightbox-hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .lightbox-container[_ngcontent-%COMP%]{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-transform-origin:top left;transform-origin:top left}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]{background:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;width:100%;height:100%;position:absolute}[_nghost-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{position:absolute;top:51%;left:50%;margin-top:-15px;margin-left:-5px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]{margin-top:-9px;margin-left:-3px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after, [_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{width:6px;height:6px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:before{left:-21px}[_nghost-%COMP%]   .lightbox-preloader[_ngcontent-%COMP%]   .lightbox-spinner[_ngcontent-%COMP%]:after{left:21px}[_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%]{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;z-index:30}[_nghost-%COMP%]   .lightbox-description[_ngcontent-%COMP%]{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}[_nghost-%COMP%]   .lightbox-error[_ngcontent-%COMP%]{color:rgba(255,255,255,.75);font-size:19px}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{width:100px;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}[_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}[_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%]{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}[_nghost-%COMP%]   .lightbox-close[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-counter[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .lightbox-prev[_ngcontent-%COMP%]{opacity:0;transition:opacity 150ms cubic-bezier(.475,.105,.445,.945)}"],data:{}});function Jp(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","lightbox-counter"]],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.counter)}))}function ev(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","lightbox-close"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.closeLightbox()&&i),i}),null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.closeButtonText)}))}function tv(e){return no(0,[(e()(),La(0,0,null,null,0,"div",[["class","lightbox-spinner"]],null,null,null,null,null))],null,null)}function nv(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","lightbox-preloader"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"div",[["class","lightbox-spinner"]],null,null,null,null,null))],null,null)}function iv(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","lightbox-error"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Failed to load image"]))],null,null)}function lv(e){return no(0,[Ha(402653184,1,{_imageFirst:0}),Ha(402653184,2,{_imageSecond:0}),Ha(402653184,3,{_imageLast:0}),Ha(402653184,4,{_lightboxImage:0}),Ha(402653184,5,{prevImageElem:0}),Ha(402653184,6,{lightboxContainerElem:0}),(e()(),Na(16777216,null,null,1,null,Jp)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,ev)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,tv)),jl(11,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(12,0,[[6,0],["lightboxContainer",1]],null,7,"div",[["class","lightbox-container"]],null,[[null,"transitionend"],[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"transitionend"===t&&(i=!1!==l.handleLightboxTransitionEnd(n)&&i),"click"===t&&(i=!1!==l.onContainerClick(n)&&i),i}),null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(14,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),(e()(),Na(16777216,null,null,1,null,nv)),jl(16,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,iv)),jl(18,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(19,0,[[4,0],["lightboxImage",1]],null,0,"img",[["class","lightbox-curr-image"]],[[8,"src",4],[2,"lightbox-show",null]],[[null,"load"],[null,"error"]],(function(e,t,n){var i=!0,l=e.component;return"load"===t&&(i=!1!==l.onImageLoaded()&&i),"error"===t&&(i=!1!==l.onImageError(n)&&i),i}),null,null)),(e()(),La(20,0,null,null,0,"div",[["class","lightbox-prev"]],[[8,"hidden",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.prev()&&i),i}),null,null)),(e()(),La(21,0,null,null,0,"div",[["class","lightbox-next"]],[[8,"hidden",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.next()&&i),i}),null,null))],(function(e,t){var n=t.component;e(t,7,0,n.properties.counter&&n.images.length>1),e(t,9,0,!n.simpleMode),e(t,11,0,"loading"===n.currImageLoadingState&&"animation-end"===n.showState),e(t,14,0,n.containerStyles),e(t,16,0,n.isPreloader),e(t,18,0,"error"===n.currImageLoadingState&&!n.closingState)}),(function(e,t){var n=t.component;e(t,19,0,n.currImagePath,"uploaded"===n.currImageLoadingState),e(t,20,0,n.isHiddenPrevArrow),e(t,21,0,n.isHiddenNextArrow)}))}var rv=ml("crystal-lightbox",Gp,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"crystal-lightbox",[],[[4,"backgroundColor",null],[4,"transition",null],[2,"lightbox-shown",null],[2,"lightbox-hide-controls",null],[2,"lightbox-animation",null],[2,"lightbox-simple-mode",null],[2,"lightbox-light",null]],[["window","scroll"],["window","keydown"],[null,"mouseenter"],[null,"transitionend"]],(function(e,t,n){var i=!0;return"window:scroll"===t&&(i=!1!==Ml(e,1).scrolling()&&i),"window:keydown"===t&&(i=!1!==Ml(e,1).onKeyDown(n)&&i),"mouseenter"===t&&(i=!1!==Ml(e,1).onMouseEnter(n)&&i),"transitionend"===t&&(i=!1!==Ml(e,1).transitionEnd(n)&&i),i}),lv,Qp)),jl(1,4308992,null,0,Gp,[Hn,Zt,Yp],null,null)],(function(e,t){e(t,1,0)}),(function(e,t){e(t,0,0,Ml(t,1).hostStyleBackgroundColor,Ml(t,1).hostStyleTransition,Ml(t,1).hostShown,Ml(t,1).hideControls,Ml(t,1).hostAnimation,Ml(t,1).simpleMode,Ml(t,1).hostLightTheme)}))}),{lightboxData:"lightboxData"},{},[]);function av(e){return e.ownerDocument||e.document||e}var ov=function(e){return av(e).defaultView},sv=function(e){return av(e).documentElement},uv=0;function cv(){if(!uv&&"undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),uv=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return uv}function hv(e){var t=ov(e),n=sv(e),i={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=cv()),i}var dv=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||sv(e)},fv=function(e){var t=e.getBoundingClientRect(),n=t,i=n.left,l=n.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,i=t.left,l=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var r=e.getBoundingClientRect();return e.style.display=n,e.style.left=i,e.style.position=l,r}(e)),{top:l,left:i,height:t.height,width:t.width}},pv=function(e,t){for(var n=[],i=e.parentNode;i&&(n.push(i),i!==t);)i=i.parentNode;return n};function vv(e){var t=sv(e),n=ov(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var gv=function(e){return e===(e.ownerDocument||{}).body?vv(e):{x:e.scrollLeft,y:e.scrollTop}},mv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t?dv(t):null,l=function(e,t){var n=ov(e),i=n.getComputedStyle(e),l=fv(e),r=t||dv(e),a=e.ownerDocument,o={top:0,left:0};if("fixed"!==i.position&&r!==a.body&&r!==a.documentElement){var s=n.getComputedStyle(r);(o=fv(r)).top+=parseInt(s.borderTopWidth,10),o.left+=parseInt(s.borderLeftWidth,10)}return{top:l.top-o.top,left:l.left-o.left,height:l.height,width:l.width}}(e,i),r=l.top,a=l.left,o=l.height,s=l.width,u=function(e,t){return e?gv(e):function(e){var t=dv(e);return t?gv(t):{x:0,y:0}}(t)}(i,e),c=u.x,h=u.y,d=e.ownerDocument,f=i===d.body||i===d.documentElement?1:n;return{top:r+h*f,left:a+c*f,height:o,width:s}},yv=function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},bv=function(e){var t=e.offset,n=e.size,i=e.anchorSize,l=e.viewPortSize,r=e.anchorAlignPoint,a=e.elementAlignPoint,o=0,s=2*e.margin;if(a!==r&&"center"!==a&&"middle"!==a&&"center"!==r&&"middle"!==r){var u="top"===r||"left"===r;t<0&&u?t+(o=n+i+s)+n>l&&(o=0):t>=0&&!u&&(t+n>l&&(o+=-(i+n+s)),t+o<0&&(o=0))}return o},kv=function(e){for(var t=[],n=e.parentNode.firstElementChild;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t},_v=function(e,t){return function(n){return t(e(n))}},wv=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},xv=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},Cv=function(){},Sv=function(e){return e.preventDefault()},Tv=/touch/,Pv=2e3;function Mv(e){return e.type.match(Tv)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var Av,Iv=((Av=function(){function e(t){var n=this,i=t.press,l=void 0===i?Cv:i,r=t.drag,a=void 0===r?Cv:r,o=t.release,s=void 0===o?Cv:o,u=t.mouseOnly,c=void 0!==u&&u;_classCallCheck2(this,e),this._pressHandler=_v(Mv,l),this._dragHandler=_v(Mv,a),this._releaseHandler=_v(Mv,s),this._ignoreMouse=!1,this._mouseOnly=c,this._touchstart=function(e){1===e.touches.length&&n._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&n._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(n._releaseHandler(e),n._ignoreMouse=!0,setTimeout(n._restoreMouse,Pv))},this._restoreMouse=function(){n._ignoreMouse=!1},this._mousedown=function(e){var t=e.which;t&&t>1||n._ignoreMouse||(wv(document,"mousemove",n._mousemove),wv(document,"mouseup",n._mouseup),n._pressHandler(e))},this._mousemove=function(e){n._dragHandler(e)},this._mouseup=function(e){xv(document,"mousemove",n._mousemove),xv(document,"mouseup",n._mouseup),n._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&(wv(document,"pointermove",n._pointermove),wv(document,"pointerup",n._pointerup),wv(document,"pointercancel",n._pointerup),wv(document,"contextmenu",Sv),n._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&n._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(xv(document,"pointermove",n._pointermove),xv(document,"pointerup",n._pointerup),xv(document,"pointercancel",n._pointerup),xv(document,"contextmenu",Sv),n._releaseHandler(e))}}return _createClass2(e,null,[{key:"supportPointerEvent",value:function(){return"undefined"!=typeof window&&window.PointerEvent}}]),_createClass2(e,[{key:"bindTo",value:function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}},{key:"_bindToCurrent",value:function(){var e=this._element;this._usePointers()?wv(e,"pointerdown",this._pointerdown):(wv(e,"mousedown",this._mousedown),this._mouseOnly||(wv(e,"touchstart",this._touchstart),wv(e,"touchmove",this._touchmove),wv(e,"touchend",this._touchend)))}},{key:"_unbindFromCurrent",value:function(){var e=this._element;if(this._usePointers())return xv(e,"pointerdown",this._pointerdown),xv(document,"pointermove",this._pointermove),xv(document,"pointerup",this._pointerup),xv(document,"contextmenu",Sv),void xv(document,"pointercancel",this._pointerup);xv(e,"mousedown",this._mousedown),this._mouseOnly||(xv(e,"touchstart",this._touchstart),xv(e,"touchmove",this._touchmove),xv(e,"touchend",this._touchend))}},{key:"_usePointers",value:function(){return!this._mouseOnly&&e.supportPointerEvent()}},{key:"update",value:function(e){var t=e.press,n=void 0===t?Cv:t,i=e.drag,l=void 0===i?Cv:i,r=e.release,a=void 0===r?Cv:r,o=e.mouseOnly,s=void 0!==o&&o;this._pressHandler=_v(Mv,n),this._dragHandler=_v(Mv,l),this._releaseHandler=_v(Mv,a),this._mouseOnly=s}},{key:"destroy",value:function(){this._unbindFromCurrent(),this._element=null}}]),e}()).default=Av,Av),Ev=new Bp(Rp),Dv=function(){function e(t){_classCallCheck2(this,e),this.durationSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ov(e,this.durationSelector))}}]),e}(),Ov=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).durationSelector=n,i.hasValue=!1,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=J(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),t}(ee);function Fv(e){return!b(e)&&e-parseFloat(e)+1>=0}function Rv(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function Nv(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ev;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Fv(t)?i=Number(t)<1?1:Number(t):W(t)&&(n=t),W(n)||(n=Ev),new F((function(t){var l=Fv(e)?e:+e-n.now();return n.schedule(Rv,l,{index:0,period:i,subscriber:t})}))}(e,n)},function(e){return e.lift(new Dv(t))}}function Lv(e,t,n,i){return p(n)&&(i=n,n=void 0),i?Lv(e,t,n).pipe(te((function(e){return b(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new F((function(i){!function e(t,n,i,l,r){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var o=t;t.addEventListener(n,i,r),a=function(){return o.removeEventListener(n,i,r)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var s=t;t.on(n,i),a=function(){return s.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,i),a=function(){return u.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,i,l,r)}l.add(a)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}var Bv=function(){return"undefined"!=typeof document},Vv=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)},zv=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.some((function(e){return Vv(e,t,n)}))},jv=function(e){return e&&e.observers.length>0},Hv=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},Wv=function(){function e(t,n,i){_classCallCheck2(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.events={}}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,e.scope?t[n].bind(e.scope):t[n]))}))}}},{key:"ngOnDestroy",value:function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}]),e}(),Uv=function e(){_classCallCheck2(this,e)},Yv=function(){function e(t){_classCallCheck2(this,e),this.resizeBatchService=t,this.resize=new dr,this.acceptedSize=!1,this.state=0}return _createClass2(e,[{key:"acceptSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.measure();this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}},{key:"checkChanges",value:function(){Bv()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}},{key:"destroy",value:function(){this.resizeBatchService.cancel(this)}},{key:"checkSize",value:function(){if(this.parentElement){var e=this.measure(),t=e.width,n=e.height;return t===this.lastWidth&&n===this.lastHeight?void 0:(this.lastWidth=t,this.lastHeight=n,this.acceptedSize=!1,this.resize.emit(),!0)}}},{key:"initSize",value:function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}},{key:"measure",value:function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}]),e}(),qv=function(e){var t=document.createElement("div");return t.style.cssText=e,t},Gv="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",Xv=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).element=n,l.ngZone=i,l}return _inherits(t,e),_createClass2(t,[{key:"checkChanges",value:function(){2!==this.state?_get2(_getPrototypeOf2(t.prototype),"checkChanges",this).call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}},{key:"destroy",value:function(){if(_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}},{key:"checkSize",value:function(){if(_get2(_getPrototypeOf2(t.prototype),"checkSize",this).call(this))return this.reset(),!0}},{key:"init",value:function(){var e,t=this.parentElement=this.element.nativeElement.parentElement;"static"===(e="position",getComputedStyle(t,null).getPropertyValue(e))&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}},{key:"render",value:function(){var e=this.element.nativeElement;e.style.cssText=Gv,e.setAttribute("dir","ltr"),this.expand=qv(Gv),this.expandChild=qv("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=qv(Gv);var t=qv("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}},{key:"reset",value:function(){var e=this.expandChild;e.style.width=1e5+"px",e.style.height=1e5+"px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}},{key:"subscribe",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=he(Lv(e.shrink,"scroll"),Lv(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))}}]),t}(Yv),Kv="undefined"!=typeof ResizeObserver,$v=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).element=n,l.ngZone=i,l}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}},{key:"init",value:function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))}}],[{key:"supported",value:function(){return Kv}}]),t}(Yv),Zv=function(){function e(t){_classCallCheck2(this,e),this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return _createClass2(e,[{key:"schedule",value:function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=re(n.resolvedPromise).subscribe(n.flush)}))}},{key:"isScheduled",value:function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))}},{key:"cancel",value:function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"flush",value:function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()}}]),e}(),Qv=10,Jv=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.rateLimit=Qv,this.resize=new dr;var r=$v.supported()?$v:Xv;this.resizeService=new r(t,n,i),this.subscription=this.resizeService.resize.pipe(Nv(1e3/(this.rateLimit||Qv))).subscribe((function(){l.resizeService.acceptedSize||l.resize.emit()}))}return _createClass2(e,[{key:"ngAfterViewChecked",value:function(){this.resizeService.checkChanges()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.resizeService.destroy()}},{key:"acceptSize",value:function(e){this.resizeService.acceptSize(e)}}]),e}(),eg=function e(){_classCallCheck2(this,e)},tg=function e(){_classCallCheck2(this,e)},ng=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({}),ig=function e(){_classCallCheck2(this,e)},lg=function e(){_classCallCheck2(this,e)},rg="*";function ag(e){return{type:4,styles:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,timings:e}}function og(e){return{type:2,steps:e,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}function sg(e){return{type:6,styles:e,offset:null}}function ug(e){Promise.resolve(null).then(e)}var cg=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;ug((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),hg=function(){function e(t){var n=this;_classCallCheck2(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,l=0,r=0,a=this.players.length;0==a?ug((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==a&&n._onFinish()})),e.onDestroy((function(){++l==a&&n._onDestroy()})),e.onStart((function(){++r==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),dg="!",fg=function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},pg=function(){return"undefined"!=typeof window},vg=/auto|scroll/,gg=function(e){return function(e){return"".concat(e.style.overflow).concat(e.style.overflowX).concat(e.style.overflowY)}(e)||function(e){var t=window.getComputedStyle(e);return"".concat(t.overflow).concat(t.overflowX).concat(t.overflowY)}(e)};var mg,yg,bg,kg=(mg=function(){if(!Bv()&&null!==document.body)return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t},bg=!1,function(){return bg?yg:(yg=mg.apply(void 0,arguments),bg=!0,yg)}),_g=function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},wg=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],xg=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addOffset",value:function(e,t){return{left:e.left+t.left,top:e.top+t.top}}},{key:"addScroll",value:function(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}},{key:"align",value:function(e){return n=(t=e).anchorRect,i=t.anchorAlign,l=t.elementRect,r=t.elementAlign,a=t.margin,o=void 0===a?{}:a,s=i.horizontal,u=i.vertical,c=r.horizontal,h=r.vertical,d=o.horizontal||0,f=o.vertical||0,p=n.top,v=n.left,"bottom"===u&&(p+=n.height),"center"!==u&&"middle"!==u||(p+=Math.round(n.height/2)),"bottom"===h&&(p-=l.height,f*=-1),"center"!==h&&"middle"!==h||(p-=Math.round(l.height/2),f*=-1),"right"===s&&(v+=n.width),"center"!==s&&"middle"!==s||(v+=Math.round(n.width/2)),"right"===c&&(v-=l.width,d*=-1),"center"!==c&&"middle"!==c||(v-=Math.round(l.width/2),d*=-1),{top:p+f,left:v+d};var t,n,i,l,r,a,o,s,u,c,h,d,f,p,v}},{key:"boundingOffset",value:function(e){return function(e){if(!e.getBoundingClientRect){var t=hv(e);return{bottom:t.height,left:0,right:t.width,top:0}}var n=e.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}}(this.nativeElement(e))}},{key:"getFontStyles",value:function(e){var t=this.getWindow();if(!t||!e)return[];var n=t.getComputedStyle(this.nativeElement(e));return wg.map((function(e){return{key:e,value:n[e]}}))}},{key:"getWindow",value:function(){return pg()?window:null}},{key:"hasOffsetParent",value:function(e){return!!e&&!!this.nativeElement(e).offsetParent}},{key:"offset",value:function(e){return e?fv(this.nativeElement(e)):null}},{key:"offsetAtPoint",value:function(e,t){if(!e)return null;var n=this.nativeElement(e),i=n.style,l=i.left,r=i.top,a=i.transition;n.style.transition="none",n.style.left="".concat(t.left,"px"),n.style.top="".concat(t.top,"px");var o=fv(n);return n.style.left=l,n.style.top=r,n.style.transition=a,o}},{key:"nativeElement",value:function(e){return e?e.nativeElement||e:null}},{key:"position",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e&&t?mv(this.nativeElement(e),this.nativeElement(t),n):null}},{key:"removeScroll",value:function(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}},{key:"restrictToView",value:function(e){return function(e){var t=e.anchorRect,n=e.anchorAlign,i=e.elementRect,l=e.elementAlign,r=e.collisions,a=e.viewPort,o=e.margin,s=void 0===o?{}:o,u=i.top,c=i.left,h=i.height,d=i.width,f=a.height,p=a.width,v=s.horizontal||0,g=s.vertical||0,m=0,y=0,b="flip"===r.horizontal,k="flip"===r.vertical;"fit"===r.vertical&&(y+=yv(u,h,f)),"fit"===r.horizontal&&(m+=yv(c,d,p)),k&&(y+=bv({margin:g,offset:u,size:h,anchorSize:t.height,viewPortSize:f,anchorAlignPoint:n.vertical,elementAlignPoint:l.vertical})),b&&(m+=bv({margin:v,offset:c,size:d,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:n.horizontal,elementAlignPoint:l.horizontal}));var _=b&&0!==m,w=k&&0!==y;return{flipped:_||w,flip:{horizontal:_,vertical:w},offset:{left:m,top:y}}}(e)}},{key:"scrollPosition",value:function(e){return vv(this.nativeElement(e))}},{key:"scrollableParents",value:function(e){return function(e){var t=[];if(!Bv()||!pg())return t;for(var n=e.parentElement;n;)(vg.test(gg(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t}(this.nativeElement(e))}},{key:"stackingElementOffset",value:function(e){var t=this.getRelativeContextElement(e);return t?fv(t):null}},{key:"stackingElementScroll",value:function(e){var t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}},{key:"getRelativeContextElement",value:function(e){if(!e||!kg())return null;for(var t=this.nativeElement(e).parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}},{key:"useRelativePosition",value:function(e){return!!this.getRelativeContextElement(e)}},{key:"windowViewPort",value:function(e){return hv(this.nativeElement(e))}},{key:"zIndex",value:function(e,t){return function(e,t){if(!e||!Bv()||!pg())return null;var n=function(e,t){for(var n,i,l=pv(e),r=t;r&&(n=kv(r),!(i=l.reduce((function(e,t){return e.concat(n.filter((function(e){return e===t})))}),[])[0]));)r=r.parentElement;return i}(e,t);if(!n)return null;var i=[e].concat(pv(e,n)).reduce((function(e,t){var n=t.style.zIndex||window.getComputedStyle(t).zIndex,i=parseInt(n,10);return i>e?i:e}),0);return i?i+1:null}(this.nativeElement(e),this.nativeElement(t))}},{key:"zoomLevel",value:function(){return Bv()&&pg()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}},{key:"isZoomed",value:function(){return this.zoomLevel()>1}}]),e}(),Cg=new qe("Popup Document Scale"),Sg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck2(this,e),this._dom=t,this.scale=n}return _createClass2(e,[{key:"alignElement",value:function(e){var t=e.anchor,n=e.element,i=e.anchorAlign,l=e.elementAlign,r=e.margin,a=e.offset,o=e.positionMode,s=this.scale||1,u="fixed"!==o&&this._dom.hasOffsetParent(n)?this.relativeRect(t,n,a,s):this.absoluteRect(t,n,a,s),c=_g(this._dom.offset(n),s);return this._dom.align({anchorAlign:i,anchorRect:u,elementAlign:l,elementRect:c,margin:r})}},{key:"absoluteRect",value:function(e,t,n,i){var l=this.elementScrollPosition(e,t),r=fg(this._dom.offset(e),n),a=2*i,o=this._dom.stackingElementScroll(t);1!==i&&o&&(o.x/=a,o.y/=a);var s=this._dom.stackingElementOffset(t);return 1!==i&&s&&(s.left/=a,s.top/=a),this._dom.removeScroll(this._dom.addScroll(function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e}(_g(r,i),s),o),l)}},{key:"elementScrollPosition",value:function(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}},{key:"relativeRect",value:function(e,t,n,i){var l=fg(this._dom.position(e,t,i),n);return _g(l,i)}}]),e}(),Tg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck2(this,e),this._dom=t,this.scale=n}return _createClass2(e,[{key:"positionElement",value:function(e){var t=e.anchor,n=e.currentLocation,i=e.element,l=e.anchorAlign,r=e.elementAlign,a=e.collisions,o=e.margin,s=this._dom,u=this.scale||1,c=s.offsetAtPoint(i,n),h=_g(c,u),d=_g(s.offset(t),u),f=fg(d,n),p=e.viewPort||s.windowViewPort(i);p.width=p.width/u,p.height=p.height/u;var v=s.restrictToView({anchorAlign:l,anchorRect:f,collisions:a,elementAlign:r,elementRect:h,margin:o,viewPort:p}),g=s.addOffset(n,v.offset);return{flip:v.flip,flipped:v.flipped,offset:g}}}]),e}(),Pg=function(){function e(t,n){_classCallCheck2(this,e),this._dom=t,this._zone=n}return _createClass2(e,[{key:"subscribe",value:function(e){var t=this;Bv()&&this._zone.runOutsideAngular((function(){t.subscription=Lv(t._dom.getWindow(),"resize").pipe(Nv(1e3/60)).subscribe((function(){return e()}))}))}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isUnsubscribed",value:function(){return this.subscription&&this.subscription.closed}}]),e}(),Mg=function(){function e(t,n){_classCallCheck2(this,e),this._dom=t,this._zone=n}return _createClass2(e,[{key:"forElement",value:function(e){return this.unsubscribe(),this.element=e,this}},{key:"subscribe",value:function(e){var t=this;if(e&&Bv()&&this.element){var n=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular((function(){var l=i.map((function(e){return Lv(e,"scroll").pipe(Nv(1e3/60))}));t.subscription=he.apply(void 0,_toConsumableArray(l)).subscribe((function(l){var r=l.target,a=i.filter((function(e){return e===r})).length>0,o=r===document,s=r===window;(a||o||s)&&e(t.isVisible(n,r))}))}))}}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isVisible",value:function(e,t){var n=this._dom.boundingOffset(e),i=this._dom.boundingOffset(t);return!(1<i.top-n.bottom||1<n.top-i.bottom||1<n.left-i.right||1<i.left-n.right)}}]),e}(),Ag={expand:function(e){var t="up"===e||"down"===e?"scaleY":"scaleX";return{start:{transform:"".concat(t,"(0)"),transformOrigin:"down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom"},end:{transform:"".concat(t,"(1)")}}},slide:function(e){var t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:"".concat(t,"(").concat("right"===e||"down"===e?-100:100,"%)")},end:{transform:"".concat(t,"(0%)")}}},fade:function(){return{start:{opacity:0},end:{opacity:1}}},zoom:function(){return{start:{transform:"scale(0)"},end:{transform:"scale(1)"}}}},Ig=function(){function e(t){_classCallCheck2(this,e),this.animationBuilder=t,this.start=new dr,this.end=new dr}return _createClass2(e,[{key:"play",value:function(e,t,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;var i=t.type||"slide",l=Ag[i];if(l){var r=l(this.getDirection(n,t));this.playStates(e,r,t)}else if(xt())throw new Error('Unsupported animation type: "'.concat(i,'". The supported types are slide, expand, fade and zoom.'))}}},{key:"ngOnDestroy",value:function(){this.stopPlayer()}},{key:"playStates",value:function(e,t,n){var i=this;this.stopPlayer();var l=n.duration||100,r=this.animationBuilder.build([sg(t.start),ag("".concat(l,"ms ease-in"),sg(t.end))]),a=this.player=r.create(e);a.onDone((function(){i.end.emit(),i.stopPlayer()})),this.start.emit(),a.play()}},{key:"getDirection",value:function(e,t){var n=t.direction||"down";return e.horizontal&&("left"===n?n="right":"right"===n&&(n="left")),e.vertical&&("down"===n?n="up":"up"===n&&(n="down")),n}},{key:"stopPlayer",value:function(){this.player&&(this.player.destroy(),this.player=null)}}]),e}(),Eg={left:-1e4,top:0},Dg="k-animation-container",Og=function(){function e(t,n,i,l,r,a,o,s,u){_classCallCheck2(this,e),this.container=t,this._alignService=n,this.domService=i,this._positionService=l,this._resizeService=r,this._scrollableService=a,this.animationService=o,this._renderer=s,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Eg,this.anchorViewportLeave=new dr,this.close=new dr,this.open=new dr,this.positionChange=new dr,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,Dg),this.updateFixedClass()}return _createClass2(e,[{key:"ngOnInit",value:function(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=Eg,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}},{key:"ngOnChanges",value:function(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}},{key:"ngAfterViewInit",value:function(){var e=this;this.reposition(),this.animate||this.resolvedPromise.then((function(){e.onAnimationEnd()}))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular((function(){e.unsubscribeReposition(),e.repositionSubscription=re(e.resolvedPromise).subscribe(e.reposition)}))}},{key:"ngOnDestroy",value:function(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}},{key:"onResize",value:function(){this.reposition()}},{key:"onAnimationStart",value:function(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}},{key:"onAnimationEnd",value:function(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}},{key:"setZIndex",value:function(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}},{key:"reposition",value:function(){var e=this;if(Bv()){var t,n,i,l,r,a,o=this.position(),s=o.flip,u=o.offset;this.currentOffset&&(t=this.currentOffset,n=u,i=t.left,l=t.top,r=n.left,a=n.top,!(Math.abs(i-r)>=1||Math.abs(l-a)>=1))||(this.currentOffset=u,jv(this.positionChange)&&this._zone.run((function(){return e.positionChange.emit({offset:u,flip:s})}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,s),this.resizeSensor.acceptSize()}}},{key:"position",value:function(){var e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}},{key:"onScroll",value:function(e){var t=this,n=jv(this.anchorViewportLeave);e||!n?this.reposition():n&&this._zone.run((function(){t.anchorViewportLeave.emit()}))}},{key:"copyFontStyles",value:function(){var e=this;this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach((function(t){return e.setContainerStyle(t.key,t.value)}))}},{key:"updateFixedClass",value:function(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}},{key:"setContainerStyle",value:function(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}},{key:"unsubscribeReposition",value:function(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}},{key:"currentOffset",get:function(){return this._currentOffset},set:function(e){this.setContainerStyle("left","".concat(e.left,"px")),this.setContainerStyle("top","".concat(e.top,"px")),this._currentOffset=e}}]),e}(),Fg=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Rg=new qe("Popup Container"),Ng=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.applicationRef=t,this.componentFactoryResolver=n,this.injector=i,this.container=l}return _createClass2(e,[{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.contentFrom(e.content),n=t.component,i=t.nodes,l=this.appendPopup(i,e.appendTo),r=l.instance;this.projectComponentInputs(l,e),l.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();var a=this.getComponentRootNode(l);return{close:function(){n&&n.destroy(),l.destroy(),Fg(a)},content:n,popup:l,popupAnchorViewportLeave:r.anchorViewportLeave,popupClose:r.close,popupElement:a,popupOpen:r.open,popupPositionChange:r.positionChange}}},{key:"appendPopup",value:function(e,t){var n=this.createComponent(Og,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}},{key:"getComponentRootNode",value:function(e){return e.location.nativeElement}},{key:"getComponentFactory",value:function(e){return this.componentFactoryResolver.resolveComponentFactory(e)}},{key:"createComponent",value:function(e,t,n){var i=this.getComponentFactory(e);if(n)return n.createComponent(i,void 0,this.injector,t);var l=i.create(this.injector,t);return this.applicationRef.attachView(l.hostView),l}},{key:"projectComponentInputs",value:function(e,t){return Object.getOwnPropertyNames(t).filter((function(e){return"content"!==e||t.content instanceof ci})).map((function(n){e.instance[n]=t[n]})),e}},{key:"contentFrom",value:function(e){if(!e||e instanceof ci)return{component:null,nodes:[[]]};var t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}},{key:"rootViewContainer",get:function(){var e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}},{key:"rootViewContainerNode",get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}}]),e}(),Lg=function e(){_classCallCheck2(this,e)},Bg=Ei({encapsulation:2,styles:[],data:{}});function Vg(e){return no(0,[],null,null)}var zg=Ei({encapsulation:2,styles:[],data:{}});function jg(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function Hg(e){return no(0,[Ha(402653184,1,{contentContainer:0}),Ha(402653184,2,{resizeSensor:0}),(e()(),La(2,0,[[1,0],["container",1]],null,8,"div",[["class","k-popup"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(4,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Ga(null,0),(e()(),Na(16777216,null,null,2,null,jg)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(8,540672,null,0,Cu,[di],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),La(9,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(e,t,n){var i=!0;return"resize"===t&&(i=!1!==e.component.onResize()&&i),i}),Vg,Bg)),jl(10,8568832,[[2,4]],0,Jv,[Zv,Hn,Qr],{rateLimit:[0,"rateLimit"]},{resize:"resize"})],(function(e,t){var n=t.component;e(t,4,0,"k-popup",n.popupClass),e(t,7,0,n.content),e(t,8,0,n.content),e(t,10,0,100)}),null)}var Wg=ml("kendo-popup",Og,(function(e){return no(0,[(e()(),La(0,0,null,null,7,"kendo-popup",[],null,null,null,Hg,zg)),Wl(512,null,xg,xg,[]),Wl(512,null,Sg,Sg,[xg,[2,Cg]]),Wl(512,null,Tg,Tg,[xg,[2,Cg]]),Wl(512,null,Pg,Pg,[xg,Qr]),Wl(512,null,Mg,Mg,[xg,Qr]),Wl(131584,null,Ig,Ig,[ig]),jl(7,13352960,null,0,Og,[Hn,Sg,xg,Tg,Pg,Mg,Ig,qn,Qr],null,null)],(function(e,t){e(t,7,0)}),null)}),{animate:"animate",anchor:"anchor",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",popupClass:"popupClass",positionMode:"positionMode",offset:"offset",margin:"margin"},{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},["*"]),Ug=function(){function e(t){_classCallCheck2(this,e),this.total=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Yg(e,this.total))}}]),e}(),Yg=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).total=n,i.count=0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),t}(P),qg=function(){function e(){_classCallCheck2(this,e),this.changes=new j}return _createClass2(e,[{key:"notify",value:function(e){this.changes.next({rtl:e})}},{key:"get",value:function(e){}}]),e}(),Gg=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.register(e),Object.keys(e).some((function(t){return!e[t].isFirstChange()}))&&this.service.notifyChanges()}},{key:"ngOnInit",value:function(){var e=this;this.subscription=this.service.changes.pipe((function(e){return e.lift(new Ug(1))})).subscribe((function(){return e.register(e)}))}},{key:"register",value:function(e){var t=this;Object.keys(e).forEach((function(e){return t.service.register(e,t[e],t.override)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"override",get:function(){return!1}}]),e}(),Xg=new qe("Kendo UI Right-to-Left token"),Kg=new qe("Localization key prefix"),$g=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.prefix=t,this.messageService=n,this._rtl=i,this.changes=new fs({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe(te((function(e){var t=e.rtl;return void 0!==t?t:l._rtl})),lc((function(e){return l._rtl=e}))).subscribe((function(e){l.dictionary={},l.changes.next({rtl:e})})))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"get",value:function(e){var t=this.key(e);return this.dictionary[t]}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.key(e),l=t;if(!n){if(this.dictionary.hasOwnProperty(i))return;l=this.defaultValue(i,t)}this.dictionary[i]=l}},{key:"notifyChanges",value:function(){this.changes.next({rtl:this.rtl})}},{key:"key",value:function(e){return this.prefix+"."+e}},{key:"defaultValue",value:function(e,t){if(!this.messageService)return t;var n=this.messageService.get(e);return void 0===n?t:n}},{key:"rtl",get:function(){return this._rtl}}]),e}();function Zg(e){return function(t){return t.lift(new Qg(e))}}var Qg=function(){function e(t){_classCallCheck2(this,e),this.notifier=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=new Jg(e),i=J(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),Jg=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).seenValue=!1,n}return _inherits(t,e),_createClass2(t,[{key:"notifyNext",value:function(e,t,n,i,l){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),t}(ee),em=function(){function e(){_classCallCheck2(this,e),this.buttonLookChange=new fs("default"),this.buttonClicked=new j,this.buttonClicked$=this.buttonClicked.asObservable()}return _createClass2(e,[{key:"click",value:function(e){this.buttonClicked.next(e)}},{key:"setButtonLook",value:function(e){this.buttonLookChange.next(e)}}]),e}(),tm=function(){function e(t,n,i,l,r){var a=this;_classCallCheck2(this,e),this.service=i,this.ngZone=r,this.toggleable=!1,this.primary=!1,this.look="default",this.role="button",this.selectedChange=new dr,this.click=new dr,this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this._focused=!1,this.domEvents=[],this.direction=l.rtl?"rtl":"ltr",this.localizationChangeSubscription=l.changes.subscribe((function(e){var t=e.rtl;return a.direction=t?"rtl":"ltr"})),this.element=t.nativeElement,this.renderer=n}return _createClass2(e,[{key:"onFocus",value:function(){this.isFocused=!0}},{key:"onBlur",value:function(){this.isFocused=!1}},{key:"ngOnInit",value:function(){var e=this,t="SPAN"===this.element.tagName;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe($u((function(e){return"default"!==e}))).subscribe((function(t){return e.look=t}))),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.role&&this.setAttribute("role",this.role),this.ngZone.runOutsideAngular((function(){e.domEvents.push(e.renderer.listen(e.element,"click",e._onButtonClick.bind(e))),e.domEvents.push(e.renderer.listen(e.element,"keydown",(function(n){!t||n.keyCode!==ng.Space&&n.keyCode!==ng.Enter||(e.click.emit(n),e._onButtonClick())})))}))}},{key:"ngOnChanges",value:function(e){(Vv("togglable",e)||Vv("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}},{key:"ngAfterViewChecked",value:function(){this.setIconTextClasses()}},{key:"ngOnDestroy",value:function(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach((function(e){return e()}))}},{key:"focus",value:function(){Bv()&&(this.element.focus(),this.isFocused=!0)}},{key:"blur",value:function(){Bv()&&(this.element.blur(),this.isFocused=!1)}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element,e,t)}},{key:"removeAttribute",value:function(e){this.renderer.removeAttribute(this.element,e)}},{key:"setSelected",value:function(e){var t=this,n=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),n&&jv(this.selectedChange)&&this.ngZone.run((function(){t.selectedChange.emit(e)}))}},{key:"toggleAriaCheckbox",value:function(e){Bv()&&(e?(this.role="checkbox",this.setAttribute("role",this.role),this.setAttribute("aria-checked",this.selected.toString())):(this.role="button",this.setAttribute("role",this.role),this.removeAttribute("aria-checked")))}},{key:"hasText",value:function(){return!!Bv()&&String(this.element.textContent).trim().length>0}},{key:"addImgIcon",value:function(e){var t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):Bv()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}},{key:"addIcon",value:function(e){var t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):Bv()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}},{key:"prependChild",value:function(e){var t=this;this.defer((function(){t.renderer&&e!==t.element.firstChild&&t.renderer.insertBefore(t.element,e,t.element.firstChild)}))}},{key:"defer",value:function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.deferTimeout=setTimeout(e,0)}))}},{key:"iconSetter",value:function(e,t){e&&t(e),this.setIconTextClasses()}},{key:"removeImageNode",value:function(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}},{key:"removeIconNode",value:function(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}},{key:"updateIconNode",value:function(){this.isIcon||this.isIconClass||this.removeIconNode()}},{key:"setIconTextClasses",value:function(){var e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}},{key:"toggleClass",value:function(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}},{key:"_onButtonClick",value:function(){var e=this;!this.disabled&&this.service&&this.ngZone.run((function(){e.service.click(e)})),this.togglable&&!this.service&&this.setSelected(!this.selected)}},{key:"togglable",get:function(){return this.toggleable},set:function(e){this.toggleable=e}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=e}},{key:"tabIndex",set:function(e){this.element.tabIndex=e},get:function(){return this.element.tabIndex}},{key:"icon",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIcon=!0,t.addIcon("k-icon k-i-"+e)})):(this.isIcon=!1,this.updateIconNode())}},{key:"iconClass",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIconClass=!0,t.addIcon(e)})):(this.isIconClass=!1,this.updateIconNode())}},{key:"imageUrl",set:function(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}},{key:"disabled",set:function(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)},get:function(){return this.isDisabled}},{key:"isFocused",set:function(e){this.toggleClass("k-state-focused",e),this._focused=e},get:function(){return this._focused}},{key:"classButton",get:function(){return!0}},{key:"classPrimary",get:function(){return this.primary}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"classDisabled",get:function(){return this.isDisabled}},{key:"classActive",get:function(){return this.selected}},{key:"getDirection",get:function(){return this.direction}}]),e}(),nm=function(){function e(){_classCallCheck2(this,e),this.prevented=!1}return _createClass2(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),im=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.service=t,this.element=i,this.selection="multiple",this.look="default",this.navigate=new dr,this._tabIndex=0,this.currentTabIndex=0,this.localizationChangeSubscription=n.changes.subscribe((function(e){var t=e.rtl;return l.direction=t?"rtl":"ltr"}))}return _createClass2(e,[{key:"keydown",value:function(e){this.disabled||this.navigateFocus(e)}},{key:"onFocus",value:function(){this.currentTabIndex=-1;var e=this.buttons.toArray().findIndex((function(e){return-1!==e.element.tabIndex})),t=-1===e?0:e;this.focus(this.buttons.filter((function(e,n){return n===t})))}},{key:"focusout",value:function(e){e.relatedTarget&&e.relatedTarget.parentNode!==this.element.nativeElement&&(this.defocus(this.buttons.toArray()),this.currentTabIndex=this.tabIndex)}},{key:"ngOnInit",value:function(){var e=this;this.service.setButtonLook(this.look),this.subscription=this.service.buttonClicked$.subscribe((function(t){var n;e.isSelectionSingle()?(n=!0,e.deactivate(e.buttons.filter((function(e){return e!==t})))):(e.defocus(e.buttons.toArray()),n=!t.selected),t.togglable&&(t.setSelected(n),t.setAttribute("aria-checked",n.toString())),t.setAttribute("tabindex","0")}))}},{key:"ngOnChanges",value:function(e){var t=this;Vv("disabled",e)&&this.buttons.forEach((function(e){null!=t.disabled&&(e.disabled=t.disabled)}))}},{key:"ngAfterContentInit",value:function(){var e=this.isSelectionSingle()?"radio":"checkbox";this.buttons.forEach((function(t){t.togglable&&(t.setAttribute("aria-checked",t.selected.toString()),t.setAttribute("role",e)),t.setAttribute("tabindex",t.selected?"0":"-1")}))}},{key:"ngAfterViewChecked",value:function(){this.buttons.length&&(this.buttons.first.renderer.addClass(this.buttons.first.element,"k-group-start"),this.buttons.last.renderer.addClass(this.buttons.last.element,"k-group-end"))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.localizationChangeSubscription.unsubscribe()}},{key:"ngAfterContentChecked",value:function(){this.verifySettings()}},{key:"navigateFocus",value:function(e){var t=this.buttons.toArray().findIndex((function(e){return-1!==e.element.tabIndex})),n=this.buttons.length-1,i=new nm;e.keyCode===ng.ArrowRight&&t<n&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((function(e,n){return n===t+1}))))),e.keyCode===ng.ArrowLeft&&t>0&&(this.navigate.emit(i),i.isDefaultPrevented()||(this.defocus(this.buttons.toArray()),this.focus(this.buttons.filter((function(e,n){return n===t-1})))))}},{key:"deactivate",value:function(e){e.forEach((function(e){e.setSelected(!1),e.setAttribute("aria-checked",e.selected.toString()),e.setAttribute("tabindex","-1")}))}},{key:"activate",value:function(e){e.forEach((function(e){e.setSelected(!0),e.setAttribute("aria-checked",e.selected.toString()),e.setAttribute("tabindex","0"),e.focus()}))}},{key:"defocus",value:function(e){e.forEach((function(e){e.setAttribute("tabindex","-1")}))}},{key:"focus",value:function(e){e.forEach((function(e){e.setAttribute("tabindex","0"),e.focus()}))}},{key:"verifySettings",value:function(){if(xt()&&this.isSelectionSingle()&&this.buttons.filter((function(e){return e.selected})).length>1)throw new Error("Having multiple selected buttons with single selection mode is not supported")}},{key:"isSelectionSingle",value:function(){return"single"===this.selection}},{key:"tabIndex",set:function(e){this._tabIndex=e,this.currentTabIndex=e},get:function(){return this._tabIndex}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"stretchedClass",get:function(){return!!this.width}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"getRole",get:function(){return this.isSelectionSingle()?"radiogroup":"group"}},{key:"dir",get:function(){return this.direction}},{key:"ariaDisabled",get:function(){return this.disabled}},{key:"wrapperWidth",get:function(){return this.width}},{key:"wrapperTabIndex",get:function(){return this.disabled?void 0:this.currentTabIndex}}]),e}(),lm=function e(){_classCallCheck2(this,e)},rm=function e(){_classCallCheck2(this,e)},am=function e(){_classCallCheck2(this,e)},om=function e(){_classCallCheck2(this,e)},sm=function e(){_classCallCheck2(this,e)},um=function e(){_classCallCheck2(this,e)},cm=function e(){_classCallCheck2(this,e)},hm=function(){function e(t){_classCallCheck2(this,e),this.el=t,this.layout="stretched",this.action=new dr,this.buttonGroupClassName=!0}return _createClass2(e,[{key:"actionTemplate",value:function(){return this.actions instanceof ci}},{key:"onButtonClick",value:function(e,t){this.action.emit(e)}},{key:"buttonClass",value:function(e){var t=["k-button"];return e.primary&&t.push("k-primary"),t.join(" ")}},{key:"className",get:function(){return"stretched"===this.layout}}]),e}(),dm=new qe("Dialog LocalizationService"),fm=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))).dialogLocalization=l,r}return _inherits(t,e),_createClass2(t,[{key:"get",value:function(e){return this.dialogLocalization?this.dialogLocalization.get(e):_get2(_getPrototypeOf2(t.prototype),"get",this).call(this,e)}}]),t}($g),pm=function(){function e(t,n){_classCallCheck2(this,e),this.hostElement=t,this.localizationService=n,this.close=new dr}return _createClass2(e,[{key:"ngAfterViewChecked",value:function(){this.hostElement.nativeElement.setAttribute("id",this.id)}},{key:"onCloseClick",value:function(e){e.preventDefault(),this.close.emit()}},{key:"className",get:function(){return!0}},{key:"closeButtonTitle",get:function(){return this.closeTitle||this.localizationService.get("closeTitle")}}]),e}(),vm=function(e){return null!=e},gm=function(e){return String(e).trim().split(" ")},mm=/^(?:a|input|select|textarea|button|object)$/i,ym=function(e){return e[e.esc=27]="esc",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.space=32]="space",e[e.ctrl=17]="ctrl",e[e.shift=16]="shift",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e}({}),bm=function(e,t){var n=gm(t);return Boolean(gm(e.className).find((function(e){return n.indexOf(e)>=0})))},km=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(","),_m=function(e){return e+(function(e){return"number"==typeof e&&isFinite(e)}(e)?"px":"")},wm=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this._elRef=t,this._renderer=n,this.actionsLayout="stretched",this.titleId=null,this.action=new dr,this.close=new dr,this.tabIndex=0,this.subscriptions=[],this.direction=i.rtl?"rtl":"ltr",this.subscriptions.push(i.changes.subscribe((function(e){var t=e.rtl;return l.direction=t?"rtl":"ltr"}))),this.titleId=this.generateTitleId()}return _createClass2(e,[{key:"onComponentKeydown",value:function(e){var t=e.target,n=t.parentElement;(bm(t,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action")||bm(n,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action"))&&e.keyCode===ym.esc&&this.close.emit(),bm(t,"k-button")&&bm(n,"k-dialog-buttongroup")&&(e.keyCode===ym.left||e.keyCode===ym.right)&&this.handleActionButtonFocus(n,e.keyCode),e.keyCode===ym.tab&&this.keepFocusWithinComponent(t,e)}},{key:"ngAfterContentInit",value:function(){this.bubble("close",this.titlebarContent),this.titlebarContent&&(this.titlebarContent.id=this.titleId)}},{key:"ngAfterViewInit",value:function(){this.handleInitialFocus(),this.bubble("close",this.titlebarView),this.bubble("action",this.actionsView),(this.titlebarView||this.titlebarContent)&&this._renderer.setAttribute(this._elRef.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}},{key:"ngOnInit",value:function(){this._renderer.removeAttribute(this._elRef.nativeElement,"title")}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions=[]}},{key:"focus",value:function(){var e=this._elRef.nativeElement;vm(e)&&e.focus()}},{key:"handleInitialFocus",value:function(){var e=this._elRef.nativeElement,t=e.querySelector(".k-primary");if(this.autoFocusedElement){var n=e.querySelector(this.autoFocusedElement);n&&n.focus()}else this.shouldFocusPrimary(t)?t.focus():e.focus()}},{key:"handleActionButtonFocus",value:function(e,t){for(var n=this.getAllFocusableChildren(e),i=0;i<n.length;i++)if(n[i]===document.activeElement){if(t===ym.left&&i>0){n[i-1].focus();break}if(t===ym.right&&i<n.length-1){n[i+1].focus();break}}}},{key:"keepFocusWithinComponent",value:function(e,t){var n=this._elRef.nativeElement,i=this.getLastFocusableElement(n),l=e===n&&t.shiftKey,r=!t.shiftKey&&vm(i)&&e===i,a=!vm(i)&&!t.shiftKey;(l||a)&&(t.preventDefault(),n.focus()),r&&(t.preventDefault(),i.focus())}},{key:"shouldFocusPrimary",value:function(e){return vm(e)&&function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.tagName){var n=e.tagName.toLowerCase(),i=e.getAttribute("tabIndex"),l=null!==i&&!isNaN(i)&&i>-1;return(mm.test(n)?!e.disabled:l)&&(!t||function(e){var t=e.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(e).visibility}(e))}return!1}(e)}},{key:"getAllFocusableChildren",value:function(e){return e.querySelectorAll(km)}},{key:"getLastFocusableElement",value:function(e){var t=this.getAllFocusableChildren(e);return t.length>0?t[t.length-1]:null}},{key:"generateTitleId",value:function(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}},{key:"bubble",value:function(e,t){var n=this;if(t){var i=t[e].subscribe((function(t){return n[e].emit(t)}));this.subscriptions.push(i)}}},{key:"dir",get:function(){return this.direction}},{key:"wrapperClass",get:function(){return!0}},{key:"styles",get:function(){var e={};return this.width&&(e.width=_m(this.width)),this.height&&(e.height=_m(this.height)),this.minWidth&&(e.minWidth=_m(this.minWidth)),this.maxWidth&&(e.maxWidth=_m(this.maxWidth)),this.minHeight&&(e.minHeight=_m(this.minHeight)),this.maxHeight&&(e.maxHeight=_m(this.maxHeight)),e}}]),e}(),xm=function(){function e(t){_classCallCheck2(this,e),this.dialog=t}return _createClass2(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.dialogTitleBar&&this.dialogTitleBar.close.subscribe((function(){e.dialog.close()})),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe((function(t){return e.dialog.dialog.instance.action.emit(t)}))}}]),e}(),Cm=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"container",set:function(t){e.container=t},get:function(){return e.container}}]),e}();return e.container=null,e}(),Sm=function e(){_classCallCheck2(this,e)},Tm=function e(){_classCallCheck2(this,e)},Pm=function(){function e(t,n){_classCallCheck2(this,e),this.getDialogRef=t,this.parentInjector=n}return _createClass2(e,[{key:"get",value:function(e,t){return e===Tm?this.getDialogRef():this.parentInjector.get(e,t)}}]),e}(),Mm=function(){function e(t,n){_classCallCheck2(this,e),this.resolver=t,this.containerService=n}return _createClass2(e,[{key:"open",value:function(e){var t=this.resolver.resolveComponentFactory(wm),n=e.appendTo||this.containerService.container;if(!n)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,t,n,{close:function(){},content:null,dialog:null,result:null},e)}},{key:"initializeDialog",value:function(e,t,n,i,l){var r=this.contentFrom(e,n,i),a=n.createComponent(t,void 0,void 0,r.nodes);i.dialog=a,a.changeDetectorRef.markForCheck(),this.applyOptions(a.instance,l);var o=new j,s=function(e){o.next(e||new Sm),r.componentRef&&r.componentRef.destroy(),a.destroy()},u=he(o,a.instance.close,a.instance.action).pipe(gc(1));if(u.subscribe(s),i.close=s,i.result=u,e&&xt()){var c=r.nodes[0]&&r.nodes[0].length>0,h=r.nodes[2]&&r.nodes[2].length>0,d=l.title&&c,f=l.actions&&h;e.prototype instanceof xm?(d||f)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'"):(c||h)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'")}return i}},{key:"applyOptions",value:function(e,t){e.title=t.title,e.actions=t.actions,e.actionsLayout=t.actionsLayout||"stretched",e.width=t.width,e.minWidth=t.minWidth,e.maxWidth=t.maxWidth,e.height=t.height,e.minHeight=t.minHeight,e.maxHeight=t.maxHeight,e.autoFocusedElement=t.autoFocusedElement,e.closeTitle=t.closeTitle,t.content instanceof ci&&(e.contentTemplate=t.content)}},{key:"contentFrom",value:function(e,t,n){var i=t.injector.get(qn),l=[],r=[],a=[],o=null;if("string"==typeof e)l=[i.createText(e)];else if(e&&!(e instanceof ci)){var s=new Pm((function(){return n}),t.injector),u=this.resolver.resolveComponentFactory(e);o=t.createComponent(u,void 0,s),r=Array.from(o.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),l=[o.location.nativeElement],a=Array.from(o.location.nativeElement.querySelectorAll("kendo-dialog-actions")),n.content=o}return{componentRef:o,nodes:[r,l,a]}}}]),e}(),Am=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),Im=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(Am),Em=function e(){_classCallCheck2(this,e)},Dm=function e(){_classCallCheck2(this,e)},Om=Ei({encapsulation:2,styles:[],data:{animation:[{type:7,name:"overlayAppear",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:.1},offset:null},{type:4,styles:null,timings:".3s cubic-bezier(.2, .6, .4, 1)"}],options:null}],options:{}},{type:7,name:"dialogSlideInAppear",definitions:[{type:0,name:"in",styles:{type:6,styles:{transform:"translate(0, 0)"},offset:null},options:void 0},{type:1,expr:"void => *",animation:[{type:6,styles:{transform:"translate(0, -10%)"},offset:null},{type:4,styles:null,timings:".3s cubic-bezier(.2, 1, .2, 1)"}],options:null}],options:{}}]}});function Fm(e){return no(0,[(e()(),La(0,0,null,null,5,"kendo-dialog-titlebar",[],[[2,"k-window-titlebar",null],[2,"k-dialog-titlebar",null]],null,null,Um,Wm)),Wl(256,null,Kg,"kendo.dialog",[]),Wl(131584,null,fm,fm,[Kg,[2,qg],[2,Xg],[2,dm]]),Wl(2048,null,$g,null,[fm]),jl(4,8437760,[[1,4]],0,pm,[Hn,[2,$g]],{id:[0,"id"],closeTitle:[1,"closeTitle"]},null),(e()(),Ja(5,0,["",""]))],(function(e,t){var n=t.component;e(t,4,0,n.titleId,n.closeTitle)}),(function(e,t){var n=t.component;e(t,0,0,Ml(t,4).className,Ml(t,4).className),e(t,5,0,n.title)}))}function Rm(e){return no(0,[Ga(null,0),(e()(),Na(0,null,null,0))],null,null)}function Nm(e){return no(0,[Ga(null,1),(e()(),Na(0,null,null,0))],null,null)}function Lm(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function Bm(e){return no(0,[(e()(),Na(16777216,null,null,1,null,Lm)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.component.contentTemplate)}),null)}function Vm(e){return no(0,[Ga(null,2),(e()(),Na(0,null,null,0))],null,null)}function zm(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-dialog-actions",[],[[2,"k-dialog-buttongroup",null],[2,"k-dialog-button-layout-stretched",null]],null,null,Qm,qm)),jl(1,49152,[[2,4]],0,hm,[Hn],{actions:[0,"actions"],layout:[1,"layout"]},null)],(function(e,t){var n=t.component;e(t,1,0,n.actions,n.actionsLayout)}),(function(e,t){e(t,0,0,Ml(t,1).buttonGroupClassName,Ml(t,1).className)}))}function jm(e){return no(0,[Ha(671088640,1,{titlebarView:0}),Ha(671088640,2,{actionsView:0}),(e()(),La(2,0,null,null,0,"div",[["class","k-overlay"]],[[24,"@overlayAppear",0]],null,null,null,null)),(e()(),La(3,0,null,null,15,"div",[["class","k-widget k-window k-dialog"],["role","dialog"]],[[24,"@dialogSlideInAppear",0]],null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(5,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),(e()(),Na(16777216,null,null,1,null,Fm)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Rm)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(10,0,null,null,4,"div",[["class","k-content k-window-content k-dialog-content"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Nm)),jl(12,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Bm)),jl(14,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Vm)),jl(16,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,zm)),jl(18,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.styles),e(t,7,0,n.title),e(t,9,0,!n.title),e(t,12,0,!n.contentTemplate),e(t,14,0,n.contentTemplate),e(t,16,0,!n.actions),e(t,18,0,n.actions)}),(function(e,t){e(t,2,0,void 0),e(t,3,0,void 0)}))}var Hm=ml("kendo-dialog",wm,(function(e){return no(0,[(e()(),La(0,0,null,null,5,"kendo-dialog",[],[[1,"dir",0],[1,"tabIndex",0],[2,"k-dialog-wrapper",null]],[[null,"keydown"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==Ml(e,4).onComponentKeydown(n)&&i),i}),jm,Om)),Wl(6144,null,dm,null,[$g]),Wl(256,null,Kg,"kendo.dialog",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(4,5488640,null,1,wm,[Hn,qn,$g],null,null),Ha(335544320,1,{titlebarContent:0})],(function(e,t){e(t,4,0)}),(function(e,t){e(t,0,0,Ml(t,4).dir,Ml(t,4).tabIndex,Ml(t,4).wrapperClass)}))}),{actions:"actions",actionsLayout:"actionsLayout",autoFocusedElement:"autoFocusedElement",title:"title",width:"width",minWidth:"minWidth",maxWidth:"maxWidth",height:"height",minHeight:"minHeight",maxHeight:"maxHeight"},{action:"action",close:"close"},["kendo-dialog-titlebar","*","kendo-dialog-actions"]),Wm=Ei({encapsulation:2,styles:[],data:{}});function Um(e){return no(0,[(e()(),La(0,0,null,null,8,null,null,null,null,null,null,null)),Wl(6144,null,Am,null,[Im]),jl(2,737280,null,0,Im,[$g],{closeTitle:[0,"closeTitle"]},null),(e()(),La(3,0,null,null,5,null,null,null,null,null,null,null)),(e()(),La(4,0,null,null,1,"div",[["class","k-window-title k-dialog-title"]],null,null,null,null,null)),Ga(null,0),(e()(),La(6,0,null,null,2,"div",[["class","k-window-actions k-dialog-actions"]],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"a",[["class","k-button k-bare k-button-icon k-window-action k-dialog-action k-dialog-close"],["href","#"],["role","button"]],[[1,"title",0],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCloseClick(n)&&i),i}),null,null)),(e()(),La(8,0,null,null,0,"span",[["class","k-icon k-i-x"]],null,null,null,null,null))],(function(e,t){e(t,2,0,"Close")}),(function(e,t){var n=t.component;e(t,7,0,n.closeButtonTitle,n.closeButtonTitle)}))}var Ym=ml("kendo-dialog-titlebar",pm,(function(e){return no(0,[(e()(),La(0,0,null,null,4,"kendo-dialog-titlebar",[],[[2,"k-window-titlebar",null],[2,"k-dialog-titlebar",null]],null,null,Um,Wm)),Wl(256,null,Kg,"kendo.dialog",[]),Wl(131584,null,fm,fm,[Kg,[2,qg],[2,Xg],[2,dm]]),Wl(2048,null,$g,null,[fm]),jl(4,8437760,null,0,pm,[Hn,[2,$g]],null,null)],null,(function(e,t){e(t,0,0,Ml(t,4).className,Ml(t,4).className)}))}),{id:"id",closeTitle:"closeTitle"},{close:"close"},["*"]),qm=Ei({encapsulation:2,styles:[],data:{}});function Gm(e){return no(0,[Ga(null,0),(e()(),Na(0,null,null,0))],null,null)}function Xm(e){return no(0,[(e()(),La(0,0,null,null,3,"button",[["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onButtonClick(e.context.$implicit,n)&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),(e()(),Ja(3,null,[" "," "]))],(function(e,t){e(t,2,0,t.component.buttonClass(t.context.$implicit))}),(function(e,t){e(t,3,0,t.context.$implicit.text)}))}function Km(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Xm)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.component.actions)}),null)}function $m(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function Zm(e){return no(0,[(e()(),Na(16777216,null,null,1,null,$m)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.component.actions)}),null)}function Qm(e){return no(0,[(e()(),Na(16777216,null,null,1,null,Gm)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Km)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Zm)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,1,0,!n.actions),e(t,3,0,!n.actionTemplate()),e(t,5,0,n.actionTemplate())}),null)}var Jm=n("PSD3"),ey=n.n(Jm),ty=function(){function e(t,n){_classCallCheck2(this,e),this.userService=t,this.pubnub=n,this.User={image:"loading"},this.publishkey="pub-c-6bfb7caa-4d1d-4fa6-94bb-7477d332e368",this.subscribekey="sub-c-68048820-90a6-11e9-90d9-8a9dabba299e"}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadProfile(),this.pubnubInit()}},{key:"onLogout",value:function(){this.subscription=this.userService.logoutUser().subscribe((function(e){localStorage.removeItem("bearToken"),window.location.reload()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"}),localStorage.removeItem("bearToken"),window.location.reload()}))}},{key:"loadProfile",value:function(){var e=this;this.subscription=this.userService.getUserProfile().subscribe((function(t){e.User=t.results[0]}),(function(t){if(401==t.status)e.userService.refreshToken(localStorage.getItem("refresh")).subscribe((function(e){localStorage.setItem("bearToken",e.access),window.location.reload()}),(function(e){console.log(e),localStorage.removeItem("bearToken"),localStorage.removeItem("refresh"),window.location.reload()}));else{var n=JSON.stringify(t.error);ey.a.fire({title:"Error!",text:n,icon:"error",confirmButtonText:"Cool"})}}))}},{key:"pubnubInit",value:function(){var e=this;this.pubnub.init({publishKey:this.publishkey,subscribeKey:this.subscribekey,ssl:!0,uuid:"staff"}),this.pubnub.addListener({message:function(t){console.log(t.message.content),e.number_notify=t.message.content}}),this.pubnub.history({channel:"pubnub_onboarding_channel",reverse:!1,count:5,stringifiedTimeToken:!0}).then((function(t){e.number_notify=t.messages[t.messages.length-1].entry.content})).catch((function(e){console.log(e)})),this.pubnub.subscribe({channels:["pubnub_onboarding_channel"],withPresence:!0,triggerEvents:["message","presence","status"]})}}]),e}(),ny=function e(){_classCallCheck2(this,e)},iy=function e(){_classCallCheck2(this,e)},ly=function(){function e(t){var n=this;_classCallCheck2(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),l=i.toLowerCase(),r=e.slice(t+1).trim();n.maybeSetNormalizedName(i,l),n.headers.has(l)?n.headers.get(l).push(r):n.headers.set(l,[r])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var i=t[e],l=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(l,i),n.maybeSetNormalizedName(e,l))}))}:this.headers=new Map}return _createClass2(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(t,i);break;case"d":var l=e.value;if(l){var r=this.headers.get(t);if(!r)return;0===(r=r.filter((function(e){return-1===l.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,r)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),ry=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"encodeKey",value:function(e){return ay(e)}},{key:"encodeValue",value:function(e){return ay(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function ay(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var oy=function(){function e(){var t,n,i,l=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck2(this,e),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new ry,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=r.fromString,n=this.encoder,i=new Map,t.length>0&&t.split("&").forEach((function(e){var t=e.indexOf("="),l=_slicedToArray(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),r=l[0],a=l[1],o=i.get(r)||[];o.push(a),i.set(r,o)})),i)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach((function(e){var t=r.fromObject[e];l.map.set(e,Array.isArray(t)?t:[t])}))):this.map=null}return _createClass2(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],l=i.indexOf(t.value);-1!==l&&i.splice(l,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function sy(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function uy(e){return"undefined"!=typeof Blob&&e instanceof Blob}function cy(e){return"undefined"!=typeof FormData&&e instanceof FormData}var hy=function(){function e(t,n,i,l){var r;if(_classCallCheck2(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==i?i:null,r=l):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new ly),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var o=n.indexOf("?");this.urlWithParams=n+(-1===o?"?":o<n.length-1?"&":"")+a}}else this.params=new oy,this.urlWithParams=n}return _createClass2(e,[{key:"serializeBody",value:function(){return null===this.body?null:sy(this.body)||uy(this.body)||cy(this.body)||"string"==typeof this.body?this.body:this.body instanceof oy?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:cy(this.body)?null:uy(this.body)?this.body.type||null:sy(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oy?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,l=t.responseType||this.responseType,r=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,s=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(s=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),s)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,i,r,{params:u,headers:s,reportProgress:o,responseType:l,withCredentials:a})}}]),e}(),dy=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),fy=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck2(this,e),this.headers=t.headers||new ly,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},py=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n))).type=dy.ResponseHeader,e}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),t}(fy),vy=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n))).type=dy.Response,e.body=void 0!==n.body?n.body:null,e}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),t}(fy),gy=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,0,"Unknown Error"))).name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),n.error=e.error||null,n}return _inherits(t,e),t}(fy);function my(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var yy,by=function(){function e(t){_classCallCheck2(this,e),this.handler=t}return _createClass2(e,[{key:"request",value:function(e,t){var n,i=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof hy)n=e;else{var r=void 0;r=l.headers instanceof ly?l.headers:new ly(l.headers);var a=void 0;l.params&&(a=l.params instanceof oy?l.params:new oy({fromObject:l.params})),n=new hy(e,t,void 0!==l.body?l.body:null,{headers:r,params:a,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}var o=ju(n).pipe(Mc((function(e){return i.handler.handle(e)})));if(e instanceof hy||"events"===l.observe)return o;var s=o.pipe($u((function(e){return e instanceof vy})));switch(l.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return s.pipe(te((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return s.pipe(te((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return s.pipe(te((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return s.pipe(te((function(e){return e.body})))}case"response":return s;default:throw new Error("Unreachable: unhandled observe type ".concat(l.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new oy).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,my(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,my(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,my(n,t))}}]),e}(),ky=function(){function e(t,n){_classCallCheck2(this,e),this.next=t,this.interceptor=n}return _createClass2(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),_y=new qe("HTTP_INTERCEPTORS"),wy=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}(),xy=/^\)\]\}',?\n/,Cy=function e(){_classCallCheck2(this,e)},Sy=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}(),Ty=function(){function e(t){_classCallCheck2(this,e),this.xhrFactory=t}return _createClass2(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new F((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var l=e.detectContentTypeHeader();null!==l&&i.setRequestHeader("Content-Type",l)}if(e.responseType){var r=e.responseType.toLowerCase();i.responseType="json"!==r?r:"text"}var a=e.serializeBody(),o=null,s=function(){if(null!==o)return o;var t=1223===i.status?204:i.status,n=i.statusText||"OK",l=new ly(i.getAllResponseHeaders()),r=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return o=new py({headers:l,status:t,statusText:n,url:r})},u=function(){var t=s(),l=t.headers,r=t.status,a=t.statusText,o=t.url,u=null;204!==r&&(u=void 0===i.response?i.responseText:i.response),0===r&&(r=u?200:0);var c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(xy,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new vy({body:u,headers:l,status:r,statusText:a,url:o||void 0})),n.complete()):n.error(new gy({error:u,headers:l,status:r,statusText:a,url:o||void 0}))},c=function(e){var t=s().url,l=new gy({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(l)},h=!1,d=function(t){h||(n.next(s()),h=!0);var l={type:dy.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(l.total=t.total),"text"===e.responseType&&i.responseText&&(l.partialText=i.responseText),n.next(l)},f=function(e){var t={type:dy.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",u),i.addEventListener("error",c),e.reportProgress&&(i.addEventListener("progress",d),null!==a&&i.upload&&i.upload.addEventListener("progress",f)),i.send(a),n.next({type:dy.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),e.reportProgress&&(i.removeEventListener("progress",d),null!==a&&i.upload&&i.upload.removeEventListener("progress",f)),i.abort()}}))}}]),e}(),Py=new qe("XSRF_COOKIE_NAME"),My=new qe("XSRF_HEADER_NAME"),Ay=function e(){_classCallCheck2(this,e)},Iy=function(){function e(t,n,i){_classCallCheck2(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass2(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=hu(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}(),Ey=function(){function e(t,n){_classCallCheck2(this,e),this.tokenService=t,this.headerName=n}return _createClass2(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}(),Dy=function(){function e(t,n){_classCallCheck2(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass2(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(_y,[]);this.chain=t.reduceRight((function(e,t){return new ky(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}(),Oy=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Ey,useClass:wy}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Py,useValue:t.cookieName}:[],t.headerName?{provide:My,useValue:t.headerName}:[]]}}}]),e}(),Fy=function e(){_classCallCheck2(this,e)},Ry={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},Ny={headers:new ly({"Content-Type":"application/json"})},Ly=((yy=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getListUser",value:function(e){return this.http.get("".concat(this.API,"/api/admin/user/?page=").concat(e),Ry)}},{key:"getDetailUser",value:function(e){return this.http.get("".concat(this.API,"/api/admin/user/").concat(e,"/"),Ry)}},{key:"createUser",value:function(e,t,n,i,l,r){var a=JSON.stringify({username:e,password:t,name:n,phone:i,is_docter:l,is_manager:r});return this.http.post("".concat(this.API,"/api/admin/user/"),a,Ry)}},{key:"updateUser",value:function(e,t,n,i){var l=JSON.stringify({name:t,phone:i,email:n});return this.http.patch("".concat(this.API,"/api/admin/user/").concat(e,"/"),l,Ry)}},{key:"resetPassUser",value:function(e,t){var n=JSON.stringify({password:t});return this.http.patch("".concat(this.API,"/api/admin/user/").concat(e,"/"),n,Ry)}},{key:"deleteUser",value:function(e){return this.http.delete("".concat(this.API,"/api/admin/user/").concat(e,"/"),Ry)}},{key:"getListDoctor",value:function(){return this.http.get("".concat(this.API,"/api/staff/user/"),Ry)}},{key:"getUserProfile",value:function(){return this.http.get("".concat(this.API,"/api/user/profile/"),Ry)}},{key:"refreshToken",value:function(e){var t=JSON.stringify({refresh:e});return this.http.post("".concat(this.API,"/api/token/refresh/"),t,Ny)}},{key:"checkToken",value:function(){return this.http.get("".concat(this.API,"/api/token/check/"),Ry)}},{key:"logoutUser",value:function(){var e=JSON.stringify({token:"Bearer "+cs.token});return this.http.post("".concat(this.API,"/api/user/logout/"),e,Ry)}}]),e}()).ngInjectableDef=De({factory:function(){return new yy(nt(by))},token:yy,providedIn:"root"}),yy),By=n("sayU"),Vy=Ei({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{padding:0!important}.navbar-header[_ngcontent-%COMP%]{height:60px}.inline-display[_ngcontent-%COMP%]{display:inline}"]],data:{}});function zy(e){return no(0,[(e()(),La(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["width","36"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,ll(1,"",t.component.User.image,""))}))}function jy(e){return no(0,[(e()(),La(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/img/staff.png"],["width","36"]],null,null,null,null,null))],null,null)}function Hy(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[["class","preloader"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,":svg:svg",[["class","circular"],["viewBox","25 25 50 50"]],null,null,null,null,null)),(e()(),La(2,0,null,null,0,":svg:circle",[["class","path"],["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(e()(),La(3,0,null,null,73,"div",[["id","wrapper"]],null,null,null,null,null)),(e()(),La(4,0,null,null,21,"nav",[["class","navbar navbar-default navbar-static-top m-b-0"]],null,null,null,null,null)),(e()(),La(5,0,null,null,20,"div",[["class","navbar-header"]],null,null,null,null,null)),(e()(),La(6,0,null,null,7,"div",[["class","top-left-part"]],null,null,null,null,null)),(e()(),La(7,0,null,null,6,"a",[["class","logo"],["href","/admin"]],null,null,null,null,null)),(e()(),La(8,0,null,null,2,"b",[],null,null,null,null,null)),(e()(),La(9,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(e()(),La(10,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["src","assets/plugins/images/logo01-dark.png"]],null,null,null,null,null)),(e()(),La(11,0,null,null,2,"span",[["class","hidden-xs"]],null,null,null,null,null)),(e()(),La(12,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(e()(),La(13,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["height","24px"],["src","assets/plugins/images/gdental.png"],["width","139px"]],null,null,null,null,null)),(e()(),La(14,0,null,null,11,"ul",[["class","nav navbar-top-links navbar-right pull-right"]],null,null,null,null,null)),(e()(),La(15,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),La(16,0,null,null,1,"a",[["class","nav-toggler open-close waves-effect waves-light hidden-md hidden-lg"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(17,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(e()(),La(18,0,null,null,0,"li",[],null,null,null,null,null)),(e()(),La(19,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),La(20,0,null,null,3,"a",[["class","profile-pic inline-display"],["href","./"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,zy)),jl(22,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NoAvatar",2]],null,0,null,jy)),(e()(),La(24,0,null,null,1,"button",[["class","btn btn-danger profile-pic inline-display"],["data-dismiss","modal"],["style","margin-right: 10px"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onLogout()&&i),i}),null,null)),(e()(),Ja(-1,null,["\u0110\u0103ng xu\u1ea5t"])),(e()(),La(26,0,null,null,40,"div",[["class","navbar-default sidebar"],["role","navigation"]],null,null,null,null,null)),(e()(),La(27,0,null,null,39,"div",[["class","sidebar-nav slimscrollsidebar"]],null,null,null,null,null)),(e()(),La(28,0,null,null,5,"div",[["class","sidebar-head"]],null,null,null,null,null)),(e()(),La(29,0,null,null,4,"h3",[],null,null,null,null,null)),(e()(),La(30,0,null,null,1,"span",[["class","fa-fw open-close"]],null,null,null,null,null)),(e()(),La(31,0,null,null,0,"i",[["class","ti-close ti-menu"]],null,null,null,null,null)),(e()(),La(32,0,null,null,1,"span",[["class","hide-menu"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Navigation"])),(e()(),La(34,0,null,null,32,"ul",[["class","nav"],["id","side-menu"]],null,null,null,null,null)),(e()(),La(35,0,null,null,5,"li",[["style","padding: 70px 0 0;"]],null,null,null,null,null)),(e()(),La(36,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,37).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(37,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(38,1),(e()(),La(39,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-user fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(41,0,null,null,7,"li",[],null,null,null,null,null)),(e()(),La(42,0,null,null,6,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,43).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(43,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(44,1),(e()(),La(45,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-table fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Danh s\xe1ch \u0111\u0103ng k\xfd \xa0\xa0"])),(e()(),La(47,0,null,null,1,"span",[["class","badge badge-danger"]],null,null,null,null,null)),(e()(),Ja(48,null,["",""])),(e()(),La(49,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(50,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,51).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(51,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(52,1),(e()(),La(53,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clock-o fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch kh\xe1m"])),(e()(),La(55,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(56,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,57).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(57,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(58,1),(e()(),La(59,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-book fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(e()(),La(61,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(62,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,63).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(63,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(64,1),(e()(),La(65,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-edit fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\xf3a \u0111\u01a1n"])),(e()(),La(67,0,null,null,9,"div",[["id","page-wrapper"]],null,null,null,null,null)),(e()(),La(68,0,null,null,8,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),La(69,0,null,null,4,"div",[["class","row bg-title"]],null,null,null,null,null)),(e()(),La(70,0,null,null,2,"div",[["class","col-lg-3 col-md-4 col-sm-4 col-xs-12"]],null,null,null,null,null)),(e()(),La(71,0,null,null,1,"h4",[["class","page-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Dashboard"])),(e()(),La(73,0,null,null,0,"div",[["class","col-lg-9 col-sm-8 col-md-8 col-xs-12"]],null,null,null,null,null)),(e()(),La(74,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(75,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(76,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null)],(function(e,t){e(t,22,0,t.component.User.image,Ml(t,23));var n=e(t,38,0,"");e(t,37,0,n);var i=e(t,44,0,"/registration");e(t,43,0,i);var l=e(t,52,0,"/schedule");e(t,51,0,l);var r=e(t,58,0,"/examination");e(t,57,0,r);var a=e(t,64,0,"/invoice");e(t,63,0,a),e(t,76,0)}),(function(e,t){var n=t.component;e(t,36,0,Ml(t,37).target,Ml(t,37).href),e(t,42,0,Ml(t,43).target,Ml(t,43).href),e(t,48,0,n.number_notify),e(t,50,0,Ml(t,51).target,Ml(t,51).href),e(t,56,0,Ml(t,57).target,Ml(t,57).href),e(t,62,0,Ml(t,63).target,Ml(t,63).href)}))}var Wy=ml("app-home-page",ty,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-home-page",[],null,null,null,Hy,Vy)),jl(1,114688,null,0,ty,[Ly,By.PubNubAngular],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Uy=function(e){function t(e,n){var i;_classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).sources=n,i.completed=0,i.haveValues=0;var l=n.length;i.values=new Array(l);for(var r=0;r<l;r++){var a=J(_assertThisInitialized(i),n[r],null,r);a&&i.add(a)}return i}return _inherits(t,e),_createClass2(t,[{key:"notifyNext",value:function(e,t,n,i,l){this.values[n]=t,l._hasValue||(l._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,i=this.values,l=i.length;e._hasValue?(this.completed++,this.completed===l&&(n===l&&t.next(i),t.complete())):t.complete()}}]),t}(ee),Yy=new qe("NgValueAccessor"),qy=function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),Gy=new qe("CompositionEventMode"),Xy=function(){function e(t,n,i){var l;_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(l=Dc()?Dc().getUserAgent():"",!/android (\d+)/.test(l.toLowerCase())))}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),Ky=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),$y=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(Ky);function Zy(){throw new Error("unimplemented")}var Qy=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments)))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _inherits(t,e),_createClass2(t,[{key:"validator",get:function(){return Zy()}},{key:"asyncValidator",get:function(){return Zy()}}]),t}(Ky),Jy=function(){function e(t){_classCallCheck2(this,e),this._cd=t}return _createClass2(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),eb=function(e){function t(e){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))}return _inherits(t,e),t}(Jy),tb=function(e){function t(e){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))}return _inherits(t,e),t}(Jy);function nb(e){return null==e||0===e.length}var ib=new qe("NgValidators"),lb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,rb=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"min",value:function(e){return function(t){if(nb(t.value)||nb(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(nb(t.value)||nb(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return nb(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return nb(e.value)?null:lb.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(nb(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if(nb(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(ab);return 0==t.length?null:function(e){return sb(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(ab);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var l;return"function"==typeof n[n.length-1]&&(l=n.pop()),1===n.length&&b(n[0])&&(n=n[0]),0===n.length?Bu:l?e(n).pipe(te((function(e){return l.apply(void 0,_toConsumableArray(e))}))):new F((function(e){return new Uy(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(ob)).pipe(te(sb))}}}]),e}();function ab(e){return null!=e}function ob(e){var t=In(e)?re(e):e;if(!En(t))throw new Error("Expected validator to return Promise or Observable.");return t}function sb(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function ub(e){return e.validate?function(t){return e.validate(t)}:e}function cb(e){return e.validate?function(t){return e.validate(t)}:e}var hb=function(){function e(){_classCallCheck2(this,e),this._accessors=[]}return _createClass2(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),db='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',fb='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',pb='\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',vb='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',gb='\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ',mb=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(db))}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(fb,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(vb))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ".concat(db))}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ".concat(fb))}},{key:"arrayParentException",value:function(){throw new Error("formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ".concat(pb))}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}();function yb(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var bb=function(){function e(t,n,i){_classCallCheck2(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption())}return _createClass2(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(yb(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();function kb(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var _b=function(){function e(t,n,i){_classCallCheck2(this,e),this._element=t,this._renderer=n,this._select=i,this._select&&(this.id=this._select._registerOption(this))}return _createClass2(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(kb(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(kb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();function wb(e,t){return[].concat(_toConsumableArray(t.path),[e])}function xb(e,t){e||Pb(t,"Cannot find control with"),t.valueAccessor||Pb(t,"No value accessor for form control with"),e.validator=rb.compose([e.validator,t.validator]),e.asyncValidator=rb.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Cb(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Cb(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Cb(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Sb(e,t){null==e&&Pb(t,"Cannot find control with"),e.validator=rb.compose([e.validator,t.validator]),e.asyncValidator=rb.composeAsync([e.asyncValidator,t.asyncValidator])}function Tb(e){return Pb(e,"There is no FormControl instance attached to form control element with")}function Pb(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Mb(e){return null!=e?rb.compose(e.map(ub)):null}function Ab(e){return null!=e?rb.composeAsync(e.map(cb)):null}function Ib(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Sn(t,n.currentValue)}var Eb=[qy,function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Sn}return _createClass2(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=yb(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Sn}return _createClass2(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var l=n.selectedOptions,r=0;r<l.length;r++){var a=l.item(r),o=t._getOptionValue(a.value);i.push(o)}else for(var s=n.options,u=0;u<s.length;u++){var c=s.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}(),function(){function e(t,n,i,l){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=l,this.onChange=function(){},this.onTouched=function(){}}return _createClass2(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Qy),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function Db(e,t){e._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}))}function Ob(e,t){if(!t)return null;Array.isArray(t)||Pb(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,l=void 0;return t.forEach((function(t){var r;t.constructor===Xy?n=t:(r=t,Eb.some((function(e){return r.constructor===e}))?(i&&Pb(e,"More than one built-in value accessor matches form control with"),i=t):(l&&Pb(e,"More than one custom value accessor matches form control with"),l=t))})),l||i||n||(Pb(e,"No valid value accessor for form control with"),null)}function Fb(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function Rb(e,t,n,i){xt()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||n._ngModelWarningSent)||(mb.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}function Nb(e){var t=Bb(e)?e.validators:e;return Array.isArray(t)?Mb(t):t||null}function Lb(e,t){var n=Bb(t)?t.asyncValidators:e;return Array.isArray(n)?Ab(n):n||null}function Bb(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Vb,zb=function(){function e(t,n){_classCallCheck2(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass2(e,[{key:"setValidators",value:function(e){this.validator=Nb(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Lb(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=ob(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof Hb?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Wb&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new dr,this.statusChanges=new dr}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Bb(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),jb=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,l=arguments.length>2?arguments[2]:void 0;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,Nb(i),Lb(l,i))))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _inherits(t,e),_createClass2(t,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),t}(zb),Hb=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,Nb(n),Lb(i,n)))).controls=e,l._initObservables(),l._setUpdateStrategy(n),l._setUpControls(),l.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),l}return _inherits(t,e),_createClass2(t,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof jb?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,l){n=n||t.contains(l)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),t}(zb),Wb=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,Nb(n),Lb(i,n)))).controls=e,l._initObservables(),l._setUpdateStrategy(n),l._setUpControls(),l.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),l}return _inherits(t,e),_createClass2(t,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof jb?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,l=this.controls[Symbol.iterator]();!(e=(i=l.next()).done);e=!0){if(i.value.enabled)return!1}}catch(r){t=!0,n=r}finally{try{e||null==l.return||l.return()}finally{if(t)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),t}(zb),Ub=Promise.resolve(null),Yb=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).submitted=!1,i._directives=[],i.ngSubmit=new dr,i.form=new Hb({},Mb(e),Ab(n)),i}return _inherits(t,e),_createClass2(t,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Ub.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),xb(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Ub.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name),Fb(t._directives,e)}))}},{key:"addFormGroup",value:function(e){var t=this;Ub.then((function(){var n=t._findContainer(e.path),i=new Hb({});Sb(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Ub.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Ub.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Db(this.form,this._directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),t}($y),qb=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(db,"\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ").concat(gb))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(fb,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(vb))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(fb,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(vb))}},{key:"ngFormWarning",value:function(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}]),e}(),Gb=new qe("NgFormSelectorWarning"),Xb=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return wb(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Mb(this._validators)}},{key:"asyncValidator",get:function(){return Ab(this._asyncValidators)}}]),t}($y),Kb=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._parent=e,l._validators=n,l._asyncValidators=i,l}return _inherits(t,e),_createClass2(t,[{key:"_checkParentType",value:function(){this._parent instanceof t||this._parent instanceof Yb||qb.modelGroupParentException()}}]),t}(Xb),$b=Promise.resolve(null),Zb=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).control=new jb,r._registered=!1,r.update=new dr,r._parent=e,r._rawValidators=n||[],r._rawAsyncValidators=i||[],r.valueAccessor=Ob(_assertThisInitialized(r),l),r}return _inherits(t,e),_createClass2(t,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Ib(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){xb(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof Kb)&&this._parent instanceof Xb?qb.formGroupNameException():this._parent instanceof Kb||this._parent instanceof Yb||qb.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||qb.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;$b.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;$b.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?wb(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Mb(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ab(this._rawAsyncValidators)}}]),t}(Qy),Qb=function e(){_classCallCheck2(this,e)},Jb=new qe("NgModelWithFormControlWarning"),ek=((Vb=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._ngModelWarningConfig=l,r.update=new dr,r._ngModelWarningSent=!1,r._rawValidators=e||[],r._rawAsyncValidators=n||[],r.valueAccessor=Ob(_assertThisInitialized(r),i),r}return _inherits(t,e),_createClass2(t,[{key:"ngOnChanges",value:function(e){this._isControlChanged(e)&&(xb(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Ib(e,this.viewModel)&&(Rb("formControl",t,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}},{key:"isDisabled",set:function(e){mb.disabledAttrWarning()}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return Mb(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ab(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}}]),t}(Qy))._ngModelWarningSentOnce=!1,Vb),tk=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._validators=e,i._asyncValidators=n,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new dr,i}return _inherits(t,e),_createClass2(t,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return xb(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){Fb(this.directives,e)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);Sb(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);Sb(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,Db(this.form,this.directives),this.ngSubmit.emit(e),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return Tb(t)})),t.valueAccessor.registerOnTouched((function(){return Tb(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&xb(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Mb(this._validators);this.form.validator=rb.compose([this.form.validator,e]);var t=Ab(this._asyncValidators);this.form.asyncValidator=rb.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||mb.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),t}($y),nk=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._parent=e,l._validators=n,l._asyncValidators=i,l}return _inherits(t,e),_createClass2(t,[{key:"_checkParentType",value:function(){lk(this._parent)&&mb.groupParentException()}}]),t}(Xb),ik=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._parent=e,l._validators=n,l._asyncValidators=i,l}return _inherits(t,e),_createClass2(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){lk(this._parent)&&mb.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return wb(this.name,this._parent)}},{key:"validator",get:function(){return Mb(this._validators)}},{key:"asyncValidator",get:function(){return Ab(this._asyncValidators)}}]),t}($y);function lk(e){return!(e instanceof nk||e instanceof tk||e instanceof ik)}var rk,ak=((rk=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._ngModelWarningConfig=r,a._added=!1,a.update=new dr,a._ngModelWarningSent=!1,a._parent=e,a._rawValidators=n||[],a._rawAsyncValidators=i||[],a.valueAccessor=Ob(_assertThisInitialized(a),l),a}return _inherits(t,e),_createClass2(t,[{key:"ngOnChanges",value:function(e){this._added||this._setUpControl(),Ib(e,this.viewModel)&&(Rb("formControlName",t,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof nk)&&this._parent instanceof Xb?mb.ngModelGroupException():this._parent instanceof nk||this._parent instanceof tk||this._parent instanceof ik||mb.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){mb.disabledAttrWarning()}},{key:"path",get:function(){return wb(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Mb(this._rawValidators)}},{key:"asyncValidator",get:function(){return Ab(this._rawAsyncValidators)}}]),t}(Qy))._ngModelWarningSentOnce=!1,rk),ok=function e(){_classCallCheck2(this,e)},sk=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,l=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,l=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,l=null!=t.asyncValidator?t.asyncValidator:null)),new Hb(n,{asyncValidators:l,updateOn:r,validators:i})}},{key:"control",value:function(e,t,n){return new jb(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,l=e.map((function(e){return i._createControl(e)}));return new Wb(l,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof jb||e instanceof Hb||e instanceof Wb?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}(),uk=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Gb,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),ck=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Jb,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}(),hk=function(){function e(){this.change=new dr,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return e.prototype.defaultId=function(){return this.DEFAULT_ID},e.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},e.prototype.updateInstance=function(e){var t=!1;for(var n in this.instances[e.id])e[n]!==this.instances[e.id][n]&&(this.instances[e.id][n]=e[n],t=!0);return t},e.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},e.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var n=this.instances[e];t<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},e.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},e.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},e.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},e.prototype.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e}(),dk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fk=Number.MAX_SAFE_INTEGER,pk=function(){function e(e){this.service=e,this.state={}}return e.prototype.transform=function(e,t){if(!(e instanceof Array)){var n=t.id||this.service.defaultId();return this.state[n]?this.state[n].slice:e}var i,l,r=t.totalItems&&t.totalItems!==e.length,a=this.createInstance(e,t),o=a.id,s=a.itemsPerPage,u=this.service.register(a);if(!r&&e instanceof Array){if(this.stateIsIdentical(o,e,i=(a.currentPage-1)*(s=+s||fk),l=i+s))return this.state[o].slice;var c=e.slice(i,l);return this.saveState(o,e,c,i,l),this.service.change.emit(o),c}return u&&this.service.change.emit(o),this.saveState(o,e,e,i,l),e},e.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},e.prototype.checkConfig=function(e){var t=["itemsPerPage","currentPage"].filter((function(t){return!(t in e)}));if(0<t.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+t.join(", "))},e.prototype.saveState=function(e,t,n,i,l){this.state[e]={collection:t,size:t.length,slice:n,start:i,end:l}},e.prototype.stateIsIdentical=function(e,t,n,i){var l=this.state[e];return!!l&&!(l.size!==t.length||l.start!==n||l.end!==i)&&l.slice.every((function(e,i){return e===t[n+i]}))},function(e,t,n,i){var l,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}([mr({name:"paginate",pure:!1}),dk("design:paramtypes",[hk])],e)}(),vk=function(e,t,n,i){var l,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},gk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function mk(e){return!!e&&"false"!==e}var yk=function(){function e(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new dr,this.pageBoundsCorrection=new dr,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(e.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=mk(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=mk(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=mk(e)},enumerable:!0,configurable:!0}),vk([yr(),gk("design:type",String)],e.prototype,"id",void 0),vk([yr(),gk("design:type",Number)],e.prototype,"maxSize",void 0),vk([yr(),gk("design:type",Boolean),gk("design:paramtypes",[Boolean])],e.prototype,"directionLinks",null),vk([yr(),gk("design:type",Boolean),gk("design:paramtypes",[Boolean])],e.prototype,"autoHide",null),vk([yr(),gk("design:type",Boolean),gk("design:paramtypes",[Boolean])],e.prototype,"responsive",null),vk([yr(),gk("design:type",String)],e.prototype,"previousLabel",void 0),vk([yr(),gk("design:type",String)],e.prototype,"nextLabel",void 0),vk([yr(),gk("design:type",String)],e.prototype,"screenReaderPaginationLabel",void 0),vk([yr(),gk("design:type",String)],e.prototype,"screenReaderPageLabel",void 0),vk([yr(),gk("design:type",String)],e.prototype,"screenReaderCurrentLabel",void 0),vk([br(),gk("design:type",dr)],e.prototype,"pageChange",void 0),vk([br(),gk("design:type",dr)],e.prototype,"pageBoundsCorrection",void 0),vk([gr({selector:"pagination-controls",template:'\n    <pagination-template  #p="paginationApi"\n                         [id]="id"\n                         [maxSize]="maxSize"\n                         (pageChange)="pageChange.emit($event)"\n                         (pageBoundsCorrection)="pageBoundsCorrection.emit($event)">\n    <ul class="ngx-pagination" \n        role="navigation" \n        [attr.aria-label]="screenReaderPaginationLabel" \n        [class.responsive]="responsive"\n        *ngIf="!(autoHide && p.pages.length <= 1)">\n\n        <li class="pagination-previous" [class.disabled]="p.isFirstPage()" *ngIf="directionLinks"> \n            <a tabindex="0" *ngIf="1 < p.getCurrent()" (keyup.enter)="p.previous()" (click)="p.previous()" [attr.aria-label]="previousLabel + \' \' + screenReaderPageLabel">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isFirstPage()">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li> \n\n        <li class="small-screen">\n            {{ p.getCurrent() }} / {{ p.getLastPage() }}\n        </li>\n\n        <li [class.current]="p.getCurrent() === page.value" \n            [class.ellipsis]="page.label === \'...\'"\n            *ngFor="let page of p.pages">\n            <a tabindex="0" (keyup.enter)="p.setCurrent(page.value)" (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">\n                <span class="show-for-sr">{{ screenReaderPageLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span>\n            </a>\n            <ng-container *ngIf="p.getCurrent() === page.value">\n                <span class="show-for-sr">{{ screenReaderCurrentLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span> \n            </ng-container>\n        </li>\n\n        <li class="pagination-next" [class.disabled]="p.isLastPage()" *ngIf="directionLinks">\n            <a tabindex="0" *ngIf="!p.isLastPage()" (keyup.enter)="p.next()" (click)="p.next()" [attr.aria-label]="nextLabel + \' \' + screenReaderPageLabel">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isLastPage()">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li>\n\n    </ul>\n    </pagination-template>\n    ',styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],changeDetection:ht.OnPush,encapsulation:dt.None})],e)}(),bk=function(e,t,n,i){var l,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},kk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_k=function(){function e(e,t){var n=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new dr,this.pageBoundsCorrection=new dr,this.pages=[],this.changeSub=this.service.change.subscribe((function(e){n.id===e&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return e.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},e.prototype.ngOnChanges=function(e){this.updatePageLinks()},e.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},e.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},e.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},e.prototype.isFirstPage=function(){return 1===this.getCurrent()},e.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},e.prototype.setCurrent=function(e){this.pageChange.emit(e)},e.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},e.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},e.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},e.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},e.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),n=this.outOfBoundCorrection(t);n!==t.currentPage?setTimeout((function(){e.pageBoundsCorrection.emit(n),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)})):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},e.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},e.prototype.createPageArray=function(e,t,n,i){i=+i;for(var l=[],r=Math.ceil(n/t),a=Math.ceil(i/2),o=e<=a,s=r-a<e,u=!o&&!s,c=i<r,h=1;h<=r&&h<=i;){var d=this.calculatePageNumber(h,e,i,r);l.push({label:c&&(2===h&&(u||s)||h===i-1&&(u||o))?"...":d,value:d}),h++}return l},e.prototype.calculatePageNumber=function(e,t,n,i){var l=Math.ceil(n/2);return e===n?i:1===e?e:n<i?i-l<t?i-n+e:l<t?t-l+e:e:e},bk([yr(),kk("design:type",String)],e.prototype,"id",void 0),bk([yr(),kk("design:type",Number)],e.prototype,"maxSize",void 0),bk([br(),kk("design:type",dr)],e.prototype,"pageChange",void 0),bk([br(),kk("design:type",dr)],e.prototype,"pageBoundsCorrection",void 0),bk([vr({selector:"pagination-template,[pagination-template]",exportAs:"paginationApi"}),kk("design:paramtypes",[hk,Zt])],e)}(),wk=function(e,t,n,i){var l,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var o=e.length-1;o>=0;o--)(l=e[o])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}([xr({imports:[Ou],declarations:[pk,yk,_k],providers:[hk],exports:[pk,yk,_k]})],(function(){})),xk=Ei({encapsulation:2,styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],data:{}});function Ck(e){return no(0,[(e()(),La(0,0,null,null,3,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var i=!0;return"keyup.enter"===t&&(i=!1!==Ml(e.parent.parent.parent,2).previous()&&i),"click"===t&&(i=!1!==Ml(e.parent.parent.parent,2).previous()&&i),i}),null,null)),(e()(),Ja(1,null,[" "," "])),(e()(),La(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),Ja(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.previousLabel+" "+n.screenReaderPageLabel),e(t,1,0,n.previousLabel),e(t,3,0,n.screenReaderPageLabel)}))}function Sk(e){return no(0,[(e()(),La(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(1,null,[" "," "])),(e()(),La(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),Ja(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.previousLabel),e(t,3,0,n.screenReaderPageLabel)}))}function Tk(e){return no(0,[(e()(),La(0,0,null,null,4,"li",[["class","pagination-previous"]],[[2,"disabled",null]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Ck)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Sk)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,1<Ml(t.parent.parent,2).getCurrent()),e(t,4,0,Ml(t.parent.parent,2).isFirstPage())}),(function(e,t){e(t,0,0,Ml(t.parent.parent,2).isFirstPage())}))}function Pk(e){return no(0,[(e()(),La(0,0,null,null,5,"a",[["tabindex","0"]],null,[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var i=!0;return"keyup.enter"===t&&(i=!1!==Ml(e.parent.parent.parent,2).setCurrent(e.parent.context.$implicit.value)&&i),"click"===t&&(i=!1!==Ml(e.parent.parent.parent,2).setCurrent(e.parent.context.$implicit.value)&&i),i}),null,null)),(e()(),La(1,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),Ja(2,null,[""," "])),(e()(),La(3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),Ka(5,2)],null,(function(e,t){e(t,2,0,t.component.screenReaderPageLabel);var n="..."===t.parent.context.$implicit.label?t.parent.context.$implicit.label:Mi(t,4,0,e(t,5,0,Ml(t.parent.parent.parent,0),t.parent.context.$implicit.label,""));e(t,4,0,n)}))}function Mk(e){return no(0,[(e()(),La(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),Ja(2,null,[""," "])),(e()(),La(3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),Ka(5,2)],null,(function(e,t){e(t,2,0,t.component.screenReaderCurrentLabel);var n="..."===t.parent.context.$implicit.label?t.parent.context.$implicit.label:Mi(t,4,0,e(t,5,0,Ml(t.parent.parent.parent,0),t.parent.context.$implicit.label,""));e(t,4,0,n)}))}function Ak(e){return no(0,[(e()(),La(0,0,null,null,4,"li",[],[[2,"current",null],[2,"ellipsis",null]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Pk)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Mk)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,Ml(t.parent.parent,2).getCurrent()!==t.context.$implicit.value),e(t,4,0,Ml(t.parent.parent,2).getCurrent()===t.context.$implicit.value)}),(function(e,t){e(t,0,0,Ml(t.parent.parent,2).getCurrent()===t.context.$implicit.value,"..."===t.context.$implicit.label)}))}function Ik(e){return no(0,[(e()(),La(0,0,null,null,3,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var i=!0;return"keyup.enter"===t&&(i=!1!==Ml(e.parent.parent.parent,2).next()&&i),"click"===t&&(i=!1!==Ml(e.parent.parent.parent,2).next()&&i),i}),null,null)),(e()(),Ja(1,null,[" "," "])),(e()(),La(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),Ja(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.nextLabel+" "+n.screenReaderPageLabel),e(t,1,0,n.nextLabel),e(t,3,0,n.screenReaderPageLabel)}))}function Ek(e){return no(0,[(e()(),La(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(1,null,[" "," "])),(e()(),La(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),Ja(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.nextLabel),e(t,3,0,n.screenReaderPageLabel)}))}function Dk(e){return no(0,[(e()(),La(0,0,null,null,4,"li",[["class","pagination-next"]],[[2,"disabled",null]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Ik)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Ek)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!Ml(t.parent.parent,2).isLastPage()),e(t,4,0,Ml(t.parent.parent,2).isLastPage())}),(function(e,t){e(t,0,0,Ml(t.parent.parent,2).isLastPage())}))}function Ok(e){return no(0,[(e()(),La(0,0,null,null,8,"ul",[["class","ngx-pagination"],["role","navigation"]],[[1,"aria-label",0],[2,"responsive",null]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Tk)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(3,0,null,null,1,"li",[["class","small-screen"]],null,null,null,null,null)),(e()(),Ja(4,null,[" "," / "," "])),(e()(),Na(16777216,null,null,1,null,Ak)),jl(6,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(16777216,null,null,1,null,Dk)),jl(8,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.directionLinks),e(t,6,0,Ml(t.parent,2).pages),e(t,8,0,n.directionLinks)}),(function(e,t){var n=t.component;e(t,0,0,n.screenReaderPaginationLabel,n.responsive),e(t,4,0,Ml(t.parent,2).getCurrent(),Ml(t.parent,2).getLastPage())}))}function Fk(e){return no(2,[Hl(0,Du,[Fr]),(e()(),La(1,0,null,null,3,"pagination-template",[],null,[[null,"pageChange"],[null,"pageBoundsCorrection"]],(function(e,t,n){var i=!0,l=e.component;return"pageChange"===t&&(i=!1!==l.pageChange.emit(n)&&i),"pageBoundsCorrection"===t&&(i=!1!==l.pageBoundsCorrection.emit(n)&&i),i}),null,null)),jl(2,737280,[["p",4]],0,_k,[hk,Zt],{id:[0,"id"],maxSize:[1,"maxSize"]},{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"}),(e()(),Na(16777216,null,null,1,null,Ok)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.id,n.maxSize),e(t,4,0,!(n.autoHide&&Ml(t,2).pages.length<=1))}),null)}var Rk,Nk,Lk=function(){function e(t,n,i){_classCallCheck2(this,e),this.customerService=t,this.userService=n,this.staffService=i,this.gender=!0,this.genderDetail=!0,this.id_patient=null,this.patient_name=null,this._p=1,this.is_reexam=!1,this.id_ers=null,this.isToggleChecked=!1,this.ExamResult=[],this.UserDetail={name:"loading",phone:"loading",gender:!0,qrcoce:"loading",birthday:1900,email:"loading"},this.currentYear=(new Date).getFullYear(),this.ArrYear=[]}return _createClass2(e,[{key:"ngOnInit",value:function(){for(var e=0;e<100;e++)this.ArrYear.push(this.currentYear-e);this.loadCustomer()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadCustomer",value:function(){var e=this;this.subscription=this.customerService.getListCustomer().subscribe((function(t){e.customer=t.results,e._total=t.count}),(function(e){ey.a.fire({title:"Error!",text:e.message,icon:"error",confirmButtonText:"Cool"})}))}},{key:"addUser",value:function(e,t,n){var i=this;this.customerService.addCustomer(e,t,n,this.gender).subscribe((function(e){i.loadCustomer(),ey.a.fire({title:"Success",text:"\u0110\xe3 th\xeam th\xf4ng tin m\u1ed9t kh\xe1ch h\xe0ng",icon:"success"})}),(function(e){ey.a.fire({title:"Error!",text:"Kh\xf4ng th\xe0nh c\xf4ng",icon:"error",confirmButtonText:"Cool"})}))}},{key:"onChangeGender",value:function(e){this.gender=e}},{key:"onChangeDetailGender",value:function(e){this.genderDetail=e}},{key:"getCustomer",value:function(e){this.currentUserID=e}},{key:"detailCustomer",value:function(e){var t=this;this.customerService.getDetailCustomer(e).subscribe((function(e){t.UserDetail=e,console.log(t.UserDetail),t.genderDetail=e.gender}))}},{key:"deleteCustomer",value:function(e){var t=this;this.customerService.deleteCustomer(e).subscribe((function(e){t.loadCustomer(),ey.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"})}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"updateUser",value:function(e,t,n,i){var l=this;this.customerService.updateCustomer(this.UserDetail.id,e,t,this.genderDetail,n,i).subscribe((function(e){l.loadCustomer(),ey.a.fire({title:"Success",text:"Ch\u1ec9nh s\u1eeda th\xf4ng tin th\xe0nh c\xf4ng",icon:"success"})}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"loadListDoctor",value:function(e,t){var n=this;this.id_patient=e,this.patient_name=t,this.userService.getListDoctor().subscribe((function(e){n.doctors=e})),this.staffService.getQueueList().subscribe((function(e){n.queue=e})),this.staffService.filterExamResult(e).subscribe((function(e){n.ExamResult=e.results,n.ExamResult.length>0?(n.selectedERS=e.results[0].id,n.is_reexam=!0):n.is_reexam=!1}),(function(e){console.log(e)}))}},{key:"onCreateExamination",value:function(e,t){var n=this;this.staffService.createExamination(e,this.id_patient,t,this.isToggleChecked,null).subscribe((function(e){n.id_patient=null,localStorage.setItem("id_exam",e),window.open(window.location.href+"/printer/printexamination","_blank")}))}},{key:"onCreateReExamination",value:function(e,t){var n=this;this.staffService.createExamination(e,this.id_patient,t,this.is_reexam,this.selectedERS).subscribe((function(e){n.id_patient=null,localStorage.setItem("id_exam",e),window.open(window.location.href+"/printer/printexamination","_blank")}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.customerService.getPageCustomer(this._p).subscribe((function(e){t.customer=e.results}))}},{key:"onSearch",value:function(e){var t=this;this.subscription.unsubscribe(),this.subscription=this.customerService.searchCustomer(e).subscribe((function(n){t.customer=n.results,console.log(e)}))}},{key:"onCheck",value:function(){this.isToggleChecked=!this.isToggleChecked,console.log(this.isToggleChecked)}},{key:"changeSelect",value:function(e){console.log(e),this.selectedERS=e}},{key:"requiredReset",value:function(e){}}]),e}(),Bk={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},Vk=((Rk=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getListCustomer",value:function(){return this.http.get("".concat(this.API,"/api/customer/"),Bk)}},{key:"getPageCustomer",value:function(e){return this.http.get("".concat(this.API,"/api/customer/?page=").concat(e),Bk)}},{key:"filterCustomerByDoctor",value:function(e){return this.http.get("".concat(this.API,"/api/doctor/customer/?page=").concat(e),Bk)}},{key:"searchCustomer",value:function(e){return this.http.get("".concat(this.API,"/api/customer/?search=").concat(e),Bk)}},{key:"getDetailCustomer",value:function(e){return this.http.get("".concat(this.API,"/api/customer/").concat(e,"/"),Bk)}},{key:"updateCustomer",value:function(e,t,n,i,l,r){var a=JSON.stringify({name:t,phone:n,gender:i,email:l,birthday:r});return this.http.patch("".concat(this.API,"/api/customer/").concat(e,"/"),a,Bk)}},{key:"addCustomer",value:function(e,t,n,i){var l=JSON.stringify({name:e,phone:t,gender:i,birthday:n});return this.http.post("".concat(this.API,"/api/customer/"),l,Bk)}},{key:"deleteCustomer",value:function(e){return this.http.delete("".concat(this.API,"/api/customer/").concat(e,"/"),Bk)}},{key:"getListExamResult",value:function(e){return this.http.get("".concat(this.API,"/api/examresult/?page=").concat(e),Bk)}},{key:"filterExamResult",value:function(e,t){return this.http.get("".concat(this.API,"/api/examresult/?page=").concat(e,"&customer=").concat(t),Bk)}},{key:"getExamResultById",value:function(e){return this.http.get("".concat(this.API,"/api/examresult/").concat(e),Bk)}},{key:"getListExamination",value:function(e){return this.http.get("".concat(this.API,"/api/public/examination/?page=").concat(e),Bk)}},{key:"filterExaminationByPatient",value:function(e,t){return this.http.get("".concat(this.API,"/api/public/examination/?page=").concat(e,"&patient=").concat(t),Bk)}},{key:"filterDiagnosisByExam",value:function(e){return this.http.get("".concat(this.API,"/api/public/diagnosis/?examination=").concat(e),Bk)}}]),e}()).ngInjectableDef=De({factory:function(){return new Rk(nt(by))},token:Rk,providedIn:"root"}),Rk),zk={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},jk=((Nk=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getCustomerById",value:function(e){return this.http.get("".concat(this.API,"/api/customer/").concat(e,"/"),zk)}},{key:"createExamination",value:function(e,t,n,i,l){var r;return r=0==i?JSON.stringify({docter:e,patient:t,note:n,is_reexam:i}):JSON.stringify({docter:e,patient:t,note:n,is_reexam:i,id_examresult:l}),this.http.post("".concat(this.API,"/api/examination/"),r,zk)}},{key:"updateExamination",value:function(e,t,n){var i=JSON.stringify({docter:t,note:n});return this.http.patch("".concat(this.API,"/api/staff/examination/").concat(e,"/"),i,zk)}},{key:"deleteExamination",value:function(e){return this.http.delete("".concat(this.API,"/api/examination/").concat(e,"/"),zk)}},{key:"getListRegistration",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?page=").concat(e,"&is_active=false"),zk)}},{key:"filterExamResult",value:function(e){return this.http.get("".concat(this.API,"/api/examresult/?customer=").concat(e,"&re_examination=true"),zk)}},{key:"getListExamination",value:function(e){return this.http.get("".concat(this.API,"/api/examination/?page=").concat(e),zk)}},{key:"getExaminationById",value:function(e){return this.http.get("".concat(this.API,"/api/examination/").concat(e,"/"),zk)}},{key:"createInvolve",value:function(e){var t=JSON.stringify({examination:e});return this.http.post("".concat(this.API,"/api/involve/"),t,zk)}},{key:"updateInvolve",value:function(e,t,n,i){var l=JSON.stringify({paid:i,payment:"ti\u1ec1n m\u1eb7t",received:n});return this.http.patch("".concat(this.API,"/api/involve/").concat(e,"/"),l,zk)}},{key:"editInvolve",value:function(e,t,n){var i=JSON.stringify({paid:n,received:t});return this.http.patch("".concat(this.API,"/api/involve/").concat(e,"/"),i,zk)}},{key:"deleteInvolve",value:function(e){return this.http.post("".concat(this.API,"/api/involve/").concat(e,"/"),zk)}},{key:"getInvoice",value:function(e){return this.http.get("".concat(this.API,"/api/involve/").concat(e,"/"),zk)}},{key:"getListInvoice",value:function(e){return this.http.get("".concat(this.API,"/api/involve/?page=").concat(e),zk)}},{key:"getDiagnosisByExam",value:function(e){return this.http.get("".concat(this.API,"/api/public/diagnosis/?examination=").concat(e),zk)}},{key:"getScheduleByExam",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?pre_examination=").concat(e),zk)}},{key:"getScheduleByTime",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?page=").concat(e,"&ordering=-date,-time"),zk)}},{key:"getScheduleToday",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?page=").concat(e,"&today=1"),zk)}},{key:"approveScheduleRegistration",value:function(e){var t=JSON.stringify({is_active:!0});return this.http.patch("".concat(this.API,"/api/schedule/").concat(e,"/"),t,zk)}},{key:"RejectScheduleRegistration",value:function(e){return this.http.delete("".concat(this.API,"/api/schedule/").concat(e,"/"),zk)}},{key:"updateSchedule",value:function(e,t,n,i,l,r,a){var o=JSON.stringify({name:t,email:n,phone:i,date:l,time:r,note:a});return this.http.patch("".concat(this.API,"/api/schedule/").concat(e,"/"),o,zk)}},{key:"createSchedule",value:function(e,t,n,i,l,r){var a=JSON.stringify({name:e,email:t,phone:n,date:i,time:l,message:r});return this.http.post("".concat(this.API,"/api/staff/schedule/"),a,zk)}},{key:"getScheduler",value:function(){return this.http.get("".concat(this.API,"/api/scheduler/?ordering=date,time"),zk)}},{key:"getFreeTimeList",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/freetime/?date=").concat(e),zk)}},{key:"getUserProfile",value:function(){return this.http.get("".concat(this.API,"/api/user/profile/"),zk)}},{key:"getQueueList",value:function(){return this.http.get("".concat(this.API,"/api/public/queue/"),zk)}},{key:"getInvoicetoPrint",value:function(e){return this.http.get("".concat(this.API,"/api/involve/").concat(e,"/"),zk).toPromise()}},{key:"getDiagnosisByExamtoPrint",value:function(e){return this.http.get("".concat(this.API,"/api/public/diagnosis/?examination=").concat(e),zk).toPromise()}},{key:"getScheduleByExamtoPrint",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?pre_examination=").concat(e),zk).toPromise()}},{key:"getUserProfiletoPrint",value:function(){return this.http.get("".concat(this.API,"/api/user/profile/"),zk).toPromise()}},{key:"getExaminationByIdtoPrint",value:function(e){return this.http.get("".concat(this.API,"/api/examination/").concat(e,"/"),zk).toPromise()}}]),e}()).ngInjectableDef=De({factory:function(){return new Nk(nt(by))},token:Nk,providedIn:"root"}),Nk),Hk=Ei({encapsulation:0,styles:[['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:35px;height:80%}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;-webkit-transition:.4s;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:80%;width:45%;left:8%;bottom:10%;background-color:#fff;-webkit-transition:.4s;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(13px);transform:translateX(13px)}.slider.round[_ngcontent-%COMP%]{border-radius:1rem}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}']],data:{}});function Wk(e){return no(0,[(e()(),La(0,0,null,null,26,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailCustomer(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(2,null,[" ",""])),(e()(),La(3,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailCustomer(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailCustomer(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailCustomer(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailCustomer(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(10,null,[" ",""])),(e()(),La(11,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Ja(12,null,[" "," "])),Ka(13,2),(e()(),La(14,0,null,null,4,"td",[["style","width: 20%;"]],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#addexamination"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.loadListDoctor(e.context.$implicit.id,e.context.$implicit.name)&&i),i}),null,null)),(e()(),Ja(-1,null,["T\u1ea1o phi\u1ebfu kh\xe1m"])),(e()(),La(17,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteCustomer(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"])),(e()(),La(19,0,null,null,7,"td",[["style","cursor: pointer;"]],null,null,null,null,null)),(e()(),La(20,0,null,null,6,"div",[["class","hvr-forward"]],null,null,null,null,null)),(e()(),La(21,0,null,null,5,"a",[["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,22).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(22,671744,null,0,rp,[ip,Gd,xs],{target:[0,"target"],routerLink:[1,"routerLink"]},null),$a(23,2),(e()(),La(24,0,null,null,0,"i",[["class","fa fa-mail-forward"]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch s\u1eed kh\xe1m"])),(e()(),La(26,0,null,null,0,"span",[["class","text-muted"]],null,null,null,null,null))],(function(e,t){var n=e(t,23,0,"/comon/customer/",t.context.$implicit.id);e(t,22,0,"_blank",n)}),(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.phone),e(t,8,0,t.context.$implicit.birthday),e(t,10,0,t.context.$implicit.gender?"Nam":"N\u1eef");var n=Mi(t,12,0,e(t,13,0,Ml(t.parent,0),t.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));e(t,12,0,n),e(t,21,0,Ml(t,22).target,Ml(t,22).href)}))}function Uk(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit,"")),e(t,2,0,ll(1,"",t.context.$implicit,""))}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function Yk(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),La(1,0,[["detailmale",1]],null,0,"input",[["checked",""],["name","gender"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeDetailGender(Ml(e,1).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" Nam"])),(e()(),La(3,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(4,0,[["detailfemale",1]],null,0,"input",[["name","gender"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeDetailGender(Ml(e,4).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" N\u1eef"])),(e()(),La(6,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function qk(e){return no(0,[(e()(),La(0,0,[["detailmale",1]],null,0,"input",[["name","gender"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeDetailGender(Ml(e,0).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" Nam"])),(e()(),La(2,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(3,0,[["detailfemale",1]],null,0,"input",[["checked",""],["name","gender"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeDetailGender(Ml(e,3).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" N\u1eef"])),(e()(),La(5,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Gk(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,[""," - ",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit.id,"")),e(t,2,0,ll(1,"",t.context.$implicit.id,""))}),(function(e,t){e(t,3,0,t.context.$implicit.name,t.context.$implicit.num_patient)}))}function Xk(e){return no(0,[(e()(),La(0,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(1,0,null,null,2,"label",[["class","switch mr-2"]],null,null,null,null,null)),(e()(),La(2,0,null,null,0,"input",[["type","checkbox"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onCheck()&&i),i}),null,null)),(e()(),La(3,0,null,null,0,"span",[["class","slider round"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xe1i kh\xe1m "]))],null,null)}function Kk(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,[""," - ",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit.id,"")),e(t,2,0,ll(1,"",t.context.$implicit.id,""))}),(function(e,t){e(t,3,0,t.context.$implicit.id,t.context.$implicit.examresult_in_examination[0].note)}))}function $k(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5 t\xe1i kh\xe1m"])),(e()(),La(3,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"select",[],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeSelect(n.target.value)&&i),i}),null,null)),(e()(),Na(16777216,null,null,1,null,Kk)),jl(6,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,6,0,t.component.ExamResult)}),null)}function Zk(e){return no(0,[Hl(0,Eu,[Fr]),(e()(),La(1,0,null,null,48,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(2,0,null,null,47,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(3,0,null,null,46,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(4,0,null,null,12,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(6,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(8,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(9,0,null,null,7,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(10,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(11,0,null,null,5,"nav",[["class","navbar navbar-light"],["style","width: 100% !important;"]],null,null,null,null,null)),(e()(),La(12,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(e()(),La(13,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 100% !important;"],["type","search"]],null,[[null,"keyup"]],(function(e,t,n){var i=!0;return"keyup"===t&&(i=!1!==e.component.onSearch(Ml(e,13).value)&&i),i}),null,null)),(e()(),La(14,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSearch(Ml(e,13).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(17,0,null,null,32,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(18,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(19,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),La(20,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean"])),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Li\xean l\u1ea1c"])),(e()(),La(27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u0103m sinh"])),(e()(),La(29,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edbi t\xednh"])),(e()(),La(31,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y t\u1ea1o"])),(e()(),La(33,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(35,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(37,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,Wk)),jl(39,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(40,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(42,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(43,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(44,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(45,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(46,0,null,null,2,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#adduser"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam kh\xe1ch h\xe0ng"])),(e()(),La(49,0,null,null,0,"div",[["class","col-sm-1"]],null,null,null,null,null)),(e()(),La(50,0,null,null,40,"div",[["class","modal fade"],["id","adduser"],["role","dialog"]],null,null,null,null,null)),(e()(),La(51,0,null,null,39,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(e()(),La(52,0,null,null,38,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(53,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(54,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),La(55,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Th\xeam kh\xe1ch h\xe0ng "])),(e()(),La(57,0,null,null,30,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(58,0,null,null,29,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(59,0,null,null,28,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(60,0,null,null,27,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(61,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(62,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean Kh\xe1ch h\xe0ng"])),(e()(),La(64,0,[["fullname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(65,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(66,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"])),(e()(),La(68,0,[["phonenumber",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(69,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(70,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u0103m sinh"])),(e()(),La(72,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),La(73,0,[["birthday",1]],null,2,"select",[["class","form-group"],["style","height: 38px;"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Uk)),jl(75,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(76,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(77,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edbi t\xednh"])),(e()(),La(79,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(80,0,[["male",1]],null,0,"input",[["checked",""],["name","gender"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeGender(Ml(e,80).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" Nam"])),(e()(),La(82,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(83,0,[["female",1]],null,0,"input",[["name","gender"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeGender(Ml(e,83).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" N\u1eef"])),(e()(),La(85,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(86,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.addUser(Ml(e,64).value,Ml(e,68).value,Ml(e,73).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["L\u01b0u th\xf4ng tin"])),(e()(),La(88,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(89,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"])),(e()(),La(91,0,null,null,42,"div",[["class","modal fade"],["id","detailcustomer"],["role","dialog"]],null,null,null,null,null)),(e()(),La(92,0,null,null,41,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(93,0,null,null,40,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(94,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(95,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(96,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(97,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft"])),(e()(),La(99,0,null,null,31,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(100,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(101,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(102,0,null,null,25,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6"]],null,null,null,null,null)),(e()(),La(103,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(104,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean Kh\xe1ch h\xe0ng"])),(e()(),La(106,0,[["detailName",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(107,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(108,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"])),(e()(),La(110,0,[["detailPhone",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(111,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(112,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(114,0,[["detailEmail",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(115,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(116,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u0103m sinh"])),(e()(),La(118,0,[["detailYear",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(119,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(120,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edbi t\xednh"])),(e()(),La(122,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Yk)),jl(124,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["elseGender",2]],null,0,null,qk)),(e()(),La(126,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.updateUser(Ml(e,106).value,Ml(e,110).value,Ml(e,114).value,Ml(e,118).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["L\u01b0u thay \u0111\u1ed5i"])),(e()(),La(128,0,null,null,2,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6 text-center"]],null,null,null,null,null)),(e()(),La(129,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(130,0,null,null,0,"img",[["alt",""],["height","60%"],["width","60%"]],[[8,"src",4]],null,null,null,null)),(e()(),La(131,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(132,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"])),(e()(),La(134,0,null,null,29,"div",[["class","modal fade"],["id","addexamination"],["role","dialog"]],null,null,null,null,null)),(e()(),La(135,0,null,null,28,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(e()(),La(136,0,null,null,27,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(137,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(138,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(139,null,[" "," "])),(e()(),La(140,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(141,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(142,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(143,0,null,null,17,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(144,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(145,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["B\xe1c s\u0129"])),(e()(),La(147,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),La(148,0,[["doctor",1]],null,2,"select",[["id",""],["name",""]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Gk)),jl(150,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(151,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(152,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(154,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Xk)),jl(156,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,$k)),jl(158,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(159,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==(0==l.isToggleChecked?l.onCreateExamination(Ml(e,148).value,Ml(e,154).value):l.onCreateReExamination(Ml(e,148).value,Ml(e,154).value))&&i),i}),null,null)),(e()(),Ja(-1,null,["T\u1ea1o phi\u1ebfu kh\xe1m"])),(e()(),La(161,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(162,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,39,0,Ml(t,41).transform(n.customer,e(t,40,0,10,n._p,n._total)));e(t,39,0,i),e(t,75,0,n.ArrYear),e(t,124,0,n.UserDetail.gender,Ml(t,125)),e(t,150,0,n.queue),e(t,156,0,1==n.is_reexam),e(t,158,0,n.isToggleChecked&&n.is_reexam)}),(function(e,t){var n=t.component;e(t,106,0,n.UserDetail.name),e(t,110,0,n.UserDetail.phone),e(t,114,0,n.UserDetail.email),e(t,118,0,n.UserDetail.birthday),e(t,130,0,ll(1,"",n.UserDetail.qrcoce,"")),e(t,139,0,n.patient_name)}))}var Qk=ml("app-customer",Lk,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-customer",[],null,null,null,Zk,Hk)),jl(1,245760,null,0,Lk,[Vk,Ly,jk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Jk=function(){function e(t,n,i){_classCallCheck2(this,e),this.activatedRouterService=t,this.routerService=n,this.staffService=i,this.Customer={}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;this.subscriptionParams=this.activatedRouterService.params.subscribe((function(t){e.subscription=e.staffService.getCustomerById(t.id).subscribe((function(t){e.Customer=t,console.log(e.Customer)}))}))}}]),e}(),e_=Ei({encapsulation:0,styles:[[""]],data:{}});function t_(e){return no(0,[(e()(),La(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ja(-1,null,["staff-history works!"]))],null,null)}var n_=ml("app-staff-history",Jk,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-history",[],null,null,null,t_,e_)),jl(1,114688,null,0,Jk,[Gd,ip,jk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),i_=function(){function e(t){_classCallCheck2(this,e),this.staffService=t,this.registration=[],this._p=1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData(1)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(e){var t=this;this._p=e,this.subscription=this.staffService.getListRegistration(this._p).subscribe((function(e){t.registration=e.results,t._total=e.count}))}},{key:"onApproveRegister",value:function(e){var t=this;this.subscription=this.staffService.approveScheduleRegistration(e).subscribe((function(e){ey.a.fire({title:"Success",text:"Duy\u1ec7t th\xe0nh c\xf4ng",icon:"success"}),t.loadData(t._p)}),(function(e){ey.a.fire({title:"Error",text:e.error,icon:"error"})}))}},{key:"checkFile",value:function(e){return["mp4","mov","MP4","MOV"].indexOf(e.substring(e.lastIndexOf(".")+1))>-1}},{key:"onDelete",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a \u0111\u0103ng k\xfd n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&t.staffService.RejectScheduleRegistration(e).subscribe((function(e){t.loadData(t._p),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}))}},{key:"changePage",value:function(e){this._p=e,this.loadData(this._p)}}]),e}(),l_=Ei({encapsulation:0,styles:[[""]],data:{}});function r_(e){return no(0,[(e()(),La(0,0,null,null,1,"video",[["controls",""],["height","70px"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"source",[["type","video/mp4"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,1,0,ll(1,"",t.parent.parent.context.$implicit.attachment,""))}))}function a_(e){return no(0,[(e()(),La(0,0,null,null,1,"img",[["height","70px"],["lightbox",""]],[[8,"src",4],[2,"lightbox-single",null],[2,"lightbox-simple-mode",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,1).onClick(n)&&i),i}),null,null)),jl(1,540672,null,0,$p,[Kp,Yp,Hn],null,null)],null,(function(e,t){e(t,0,0,ll(1,"",t.parent.parent.context.$implicit.attachment,""),Ml(t,1).hostLightboxGroup,Ml(t,1).hostSimpleMode)}))}function o_(e){return no(0,[(e()(),La(0,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,r_)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["typeImage",2]],null,0,null,a_))],(function(e,t){e(t,2,0,t.component.checkFile(t.parent.context.$implicit.attachment),Ml(t,3))}),null)}function s_(e){return no(0,[(e()(),La(0,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xf4ng c\xf3"]))],null,null)}function u_(e){return no(0,[(e()(),La(0,0,null,null,20,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(2,null,[" ",""])),(e()(),La(3,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,[" "," "," "])),(e()(),La(11,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(12,null,[" ",""])),(e()(),Na(16777216,null,null,1,null,o_)),jl(14,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["noneAttachment",2]],null,0,null,s_)),(e()(),La(16,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onApproveRegister(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["Duy\u1ec7t"])),(e()(),La(19,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDelete(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],(function(e,t){e(t,14,0,t.context.$implicit.attachment,Ml(t,15))}),(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.email),e(t,8,0,t.context.$implicit.phone),e(t,10,0,t.context.$implicit.date,t.context.$implicit.time),e(t,12,0,t.context.$implicit.message)}))}function c_(e){return no(0,[(e()(),La(0,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,36,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,35,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,5,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(7,0,null,null,0,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(8,0,null,null,0,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(e()(),La(9,0,null,null,28,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(10,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(11,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),La(12,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),La(13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u0110T"])),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\u1eddi gian"])),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ec7p \u0111\xednh k\xe8m"])),(e()(),La(27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(29,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,u_)),jl(31,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(32,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(34,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(35,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(36,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(37,49152,null,0,yk,[],null,{pageChange:"pageChange"})],(function(e,t){var n=t.component,i=Mi(t,31,0,Ml(t,33).transform(n.registration,e(t,32,0,10,n._p,n._total)));e(t,31,0,i)}),null)}var h_=ml("app-registration",i_,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-registration",[],null,null,null,c_,l_)),jl(1,245760,null,0,i_,[jk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),d_=function(){function e(t){_classCallCheck2(this,e),this.staffService=t,this.Schedule=[],this._p=1}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}(),f_=Ei({encapsulation:0,styles:[[""]],data:{}});function p_(e){return no(0,[(e()(),La(0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,18,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,17,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,13,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,10,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,9,"nav",[],null,null,null,null,null)),(e()(),La(6,0,null,null,8,"div",[["class","nav nav-tabs"],["id","nav-tab"],["role","tablist"]],null,null,null,null,null)),(e()(),La(7,0,null,null,3,"a",[["aria-controls","nav-home"],["aria-selected","true"],["class","nav-item nav-link active"],["data-toggle","tab"],["id","nav-home-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(8,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(9,1),(e()(),Ja(-1,null,["B\u1ea3ng"])),(e()(),La(11,0,null,null,3,"a",[["aria-controls","nav-profile"],["aria-selected","false"],["class","nav-item nav-link"],["data-toggle","tab"],["id","nav-profile-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(12,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(13,1),(e()(),Ja(-1,null,["L\u1ecbch"])),(e()(),La(15,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(16,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(17,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(18,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(19,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null)],(function(e,t){var n=e(t,9,0,"./");e(t,8,0,n);var i=e(t,13,0,"./scheduler");e(t,12,0,i),e(t,19,0)}),(function(e,t){e(t,7,0,Ml(t,8).target,Ml(t,8).href),e(t,11,0,Ml(t,12).target,Ml(t,12).href)}))}var v_=ml("app-staff-schedule",d_,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-schedule",[],null,null,null,p_,f_)),jl(1,245760,null,0,d_,[jk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),g_=function(){function e(t){_classCallCheck2(this,e),this.staffService=t,this.Schedule=[],this._p=1,this.options=!1,this.ScheduleDetail={name:null,email:null,phone:null,date:null,time:null,note:null},this.listFreeTime=["8:00","9:00","10:00","11:00","13:00","14:00","15:00","16:00","17:00","18:00"]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData(1)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(e){var t=this;this._p=e,this.subscription=this.staffService.getScheduleByTime(this._p).subscribe((function(e){t.Schedule=e.results}))}},{key:"getScheduleDetail",value:function(e,t){var n=this;this.ScheduleDetail=this.Schedule[t],this.subscription=this.staffService.getFreeTimeList(this.ScheduleDetail.date).subscribe((function(e){n.listFreeTime=e}),(function(e){console.log(e)}))}},{key:"onPickDate",value:function(e){var t=this;this.subscription=this.staffService.getFreeTimeList(e).subscribe((function(e){t.listFreeTime=e,console.log(e)}),(function(e){console.log(e)}))}},{key:"onUpdateSchedule",value:function(e,t,n,i,l,r){var a=this;this.subscription=this.staffService.updateSchedule(this.ScheduleDetail.id,e,t,n,i,l,r).subscribe((function(e){a.loadData(1),ey.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"})}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"changeOption",value:function(e){this.options=e,e?this.loadToday(1):this.loadData(1)}},{key:"loadToday",value:function(e){var t=this;this._p=e,this.staffService.getScheduleToday(this._p).subscribe((function(e){t.Schedule=e.results,t._total=e.count}),(function(e){console.log(e)}))}},{key:"deleteSchedule",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&t.staffService.RejectScheduleRegistration(e).subscribe((function(e){t.loadData(1),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}))}},{key:"createSchedule",value:function(e,t,n,i,l,r){var a=this;this.staffService.createSchedule(e,n,t,i,l,r).subscribe((function(e){a.loadData(a._p),ey.a.fire("Th\xe0nh c\xf4ng!","\u0110\xe3 th\xeam v\xe0o l\u1ecbch kh\xe1m th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),m_=Ei({encapsulation:0,styles:[[""]],data:{}});function y_(e){return no(0,[(e()(),La(0,0,null,null,19,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,[" "," "])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,[" "," "," "])),(e()(),La(11,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(12,null,[" ",""])),(e()(),La(13,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(14,null,[" "," "])),(e()(),La(15,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),La(16,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#ModalSchedule"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getScheduleDetail(e.context.$implicit.id,e.context.index)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(18,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteSchedule(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],null,(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.is_reexam?t.context.$implicit.pre_examination.patient.name:t.context.$implicit.name),e(t,6,0,t.context.$implicit.is_reexam?t.context.$implicit.pre_examination.patient.email:t.context.$implicit.email),e(t,8,0,t.context.$implicit.is_reexam?t.context.$implicit.pre_examination.patient.phone:t.context.$implicit.phone),e(t,10,0,t.context.$implicit.date,t.context.$implicit.time),e(t,12,0,t.context.$implicit.is_reexam?t.context.$implicit.detail:t.context.$implicit.message),e(t,14,0,t.context.$implicit.note)}))}function b_(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit,"")),e(t,2,0,ll(1,"",t.context.$implicit,""))}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function k_(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[["class","form-control"]],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit,"")),e(t,2,0,ll(1,"",t.context.$implicit,""))}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function __(e){return no(0,[(e()(),La(0,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,46,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,45,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,15,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch kh\xe1m"])),(e()(),La(7,0,null,null,8,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(8,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(e()(),La(9,0,null,null,0,"input",[["class","form-check-input"],["id","inlineRadio1"],["name","inlineRadioOptions"],["type","radio"],["value","option1"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeOption(!0)&&i),i}),null,null)),(e()(),La(10,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio1"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\xf4m nay"])),(e()(),La(12,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(e()(),La(13,0,null,null,0,"input",[["checked",""],["class","form-check-input"],["id","inlineRadio2"],["name","inlineRadioOptions"],["type","radio"],["value","option2"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeOption(!1)&&i),i}),null,null)),(e()(),La(14,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio2"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ea5t c\u1ea3"])),(e()(),La(16,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"button",[["class","btn btn-success"],["data-target","#addSchedule"],["data-toggle","modal"],["style","width: 50%;"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam l\u1ecbch kh\xe1m"])),(e()(),La(19,0,null,null,28,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(20,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(21,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),La(22,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(29,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u0110T"])),(e()(),La(31,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\u1eddi gian"])),(e()(),La(33,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Tin nh\u1eafn"])),(e()(),La(35,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(37,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(39,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,y_)),jl(41,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(42,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(44,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(45,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(46,0,null,null,1,"pagination-controls",[],null,null,null,Fk,xk)),jl(47,49152,null,0,yk,[],null,null),(e()(),La(48,0,null,null,49,"div",[["class","modal fade"],["id","ModalSchedule"],["role","dialog"]],null,null,null,null,null)),(e()(),La(49,0,null,null,48,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(50,0,null,null,47,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(51,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(52,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(53,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Th\xf4ng tin "])),(e()(),La(55,0,null,null,39,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(56,0,null,null,38,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(57,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(58,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(59,0,null,null,34,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(60,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(61,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(63,0,[["name",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(64,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(65,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(67,0,[["email",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(68,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(69,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u0110T"])),(e()(),La(71,0,[["phone",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(72,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(73,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(74,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(75,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y"])),(e()(),La(77,0,[["date",1]],null,0,"input",[["class","form-control"],["type","date"]],[[8,"value",0]],[[null,"input"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.onPickDate(n.target.value)&&i),i}),null,null)),(e()(),La(78,0,null,null,9,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(79,0,null,null,1,"label",[["class","font-weight-bold"],["for","email"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edd"])),(e()(),La(81,0,[["time",1]],null,6,"select",[["class","form-control"]],null,null,null,null,null)),(e()(),La(82,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),jl(83,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(84,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(85,null,["",""])),(e()(),Na(16777216,null,null,1,null,b_)),jl(87,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(88,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(89,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(91,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(92,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onUpdateSchedule(Ml(e,63).value,Ml(e,67).value,Ml(e,71).value,Ml(e,77).value,Ml(e,81).value,Ml(e,91).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(94,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(95,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(96,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"])),(e()(),La(98,0,null,null,45,"div",[["class","modal fade"],["id","addSchedule"],["role","dialog"]],null,null,null,null,null)),(e()(),La(99,0,null,null,44,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(100,0,null,null,43,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(101,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(102,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(103,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Th\xf4ng tin "])),(e()(),La(105,0,null,null,35,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(106,0,null,null,34,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(107,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(108,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(109,0,null,null,30,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(110,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(111,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(113,0,[["addname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(114,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(115,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(117,0,[["addemail",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(118,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(119,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u0110T"])),(e()(),La(121,0,[["addphone",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(122,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(123,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(124,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(125,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y"])),(e()(),La(127,0,[["adddate",1]],null,0,"input",[["class","form-control"],["type","date"]],null,[[null,"input"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.onPickDate(n.target.value)&&i),i}),null,null)),(e()(),La(128,0,null,null,5,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(129,0,null,null,1,"label",[["class","font-weight-bold"],["for","email"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edd"])),(e()(),La(131,0,[["addtime",1]],null,2,"select",[["class","form-control"],["style","height: 38px;"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,k_)),jl(133,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(134,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(135,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(137,0,[["addnote",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(138,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.createSchedule(Ml(e,113).value,Ml(e,121).value,Ml(e,117).value,Ml(e,127).value,Ml(e,131).value,Ml(e,137).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Th\xeam l\u1ecbch kh\xe1m"])),(e()(),La(140,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(141,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(142,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,41,0,Ml(t,43).transform(n.Schedule,e(t,42,0,10,n._p,n._total)));e(t,41,0,i),e(t,83,0,n.ScheduleDetail.time),e(t,84,0,n.ScheduleDetail.time),e(t,87,0,n.listFreeTime),e(t,133,0,n.listFreeTime)}),(function(e,t){var n=t.component;e(t,63,0,ll(1,"",n.ScheduleDetail.name,"")),e(t,67,0,n.ScheduleDetail.email),e(t,71,0,n.ScheduleDetail.phone),e(t,77,0,n.ScheduleDetail.date),e(t,85,0,n.ScheduleDetail.time),e(t,91,0,n.ScheduleDetail.note)}))}var w_=ml("app-staff-schedule-table",g_,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-schedule-table",[],null,null,null,__,m_)),jl(1,245760,null,0,g_,[jk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),x_=function(e){return e?new Date(e.getTime()):null},C_=function(e,t){var n=x_(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},S_=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=new Date(e,t,n,i,l,r,a);return e>-1&&e<100&&o.setFullYear(o.getFullYear()-1900),C_(o,i)},T_=function(e){return S_(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},P_=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({}),M_={rules:{},titles:{},zones:{}},A_={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},I_={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6},E_=function(e,t,n){var i,l=t[3],r=t[4],a=t[5],o="u"===a[3]?6e4*-n:0;if(isNaN(r)){if(0===r.indexOf("last")){i=new Date(Date.UTC(e,A_[l]+1,1,a[0]-24,a[1],a[2])+o);var s=I_[r.substr(4,3)],u=i.getUTCDay();i.setUTCDate(i.getUTCDate()+s-u-(s>u?7:0))}else if(r.indexOf(">=")>=0){i=new Date(Date.UTC(e,A_[l],r.substr(5),a[0],a[1],a[2],0)+o);var c=I_[r.substr(0,3)],h=i.getUTCDay();i.setUTCDate(i.getUTCDate()+c-h+(c<h?7:0))}}else i=new Date(Date.UTC(e,A_[l],r,a[0],a[1],a[2])+o);return i},D_=(new Date).getTime(),O_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D_,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=M_.rules[e];if(!i){var l=e.split(":"),r=0;return l.length>1&&(r=60*l[0]+Number(l[1])),[-1e6,"max","-","Jan",1,[0,0,0],r,"-"]}var a=new Date(t).getUTCFullYear();(i=i.filter((function(e){var t=e[0],n=e[1];return t<=a&&(n>=a||t===a&&"only"===n||"max"===n)}))).push(t),i.sort((function(e,t){return"number"!=typeof e&&(e=Number(E_(a,e,n))),"number"!=typeof t&&(t=Number(E_(a,t,n))),e-t}));var o=i[i.indexOf(t)-1]||i[i.length-1];return isNaN(o)?o:null},F_="The required {0} timezone information is not provided!",R_=/\{(\d+)}?\}/g,N_=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var l=n.reduce((function(e,t){return e.concat(t)}),[]);return e.replace(R_,(function(e,t){return l[parseInt(t,10)]}))},L_=function(e,t){var n=t.getTime(),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new Date).getTime();if("Etc/UTC"===e||"Etc/GMT"===e)return[0,"-","UTC",null];for(var n=function(e){var t=M_.zones;if(!t)throw new Error(N_(F_,e));var n=t[e],i="string"==typeof n?t[n]:n;if(!i)throw new Error(N_(F_,e));return i}(e),i=n.length-1;i>=0;i--){var l=n[i][3];if(l&&t>l)break}var r=n[i+1];if(!r)throw new Error(N_(F_,e));return r}(e,n);return{rule:O_(i[1],n,i[0]),zone:i}},B_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if("Etc/UTC"===e||"Etc/GMT"===e)return 0;if(""===e)return t.getTimezoneOffset();var n=L_(e,t),i=n.rule,l=n.zone;return parseFloat(i?l[0]-i[6]:l[0])};function V_(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}var z_=function(e,t){return new Date(e.getTime()+6e4*t)},j_=function(e,t){return new Date(e.getTime()+36e5*t)},H_=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],W_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dev"],U_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return(e<0?"-":"")+new Array(t).concat([Math.abs(e)]).join("0").slice(-t)};function Y_(e,t){var n=B_(t,e),i=j_(e,-1);return n<B_(t,i)}function q_(e,t){var n=Y_(e,t)?1:0;return j_(e,n)}function G_(e,t,n){if(t===n)return e;var i=B_(t,e),l=B_(n,e),r=i-l,a=z_(e,r),o=B_(n,a);return z_(e,r+(l-o))}var X_=function(){function e(t,n){_classCallCheck2(this,e),this._utcDate=x_(t),this.timezone=n;var i=B_(n,t);this.timezoneOffset=i;var l=q_(t,n);this._localDate=G_(l,n,"Etc/UTC")}return _createClass2(e,[{key:"toLocalDate",value:function(){return x_(this._localDate)}},{key:"toUTCDate",value:function(){return x_(this._utcDate)}},{key:"toTimezone",value:function(t){if(this.timezone===t)return this.clone();var n=B_(this.timezone,this._utcDate),i=z_(this._utcDate,n);return e.fromLocalDate(i,t)}},{key:"clone",value:function(){return e.fromUTCDate(this._utcDate,this.timezone)}},{key:"addDays",value:function(t){var n=new Date(this._utcDate.getTime());return n.setUTCDate(n.getUTCDate()+t),e.fromUTCDate(n,this.timezone)}},{key:"addTime",value:function(t){var n=q_(new Date(this._utcDate.getTime()),this.timezone);n.setTime(n.getTime()+t);var i=q_(n,this.timezone);return e.fromUTCDate(i,this.timezone)}},{key:"stripTime",value:function(){var t=this._utcDate,n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0);return e.fromUTCDate(new Date(n),this.timezone)}},{key:"getTime",value:function(){return this._localDate.getTime()}},{key:"getTimezoneOffset",value:function(){return this.timezoneOffset}},{key:"getFullYear",value:function(){return this._utcDate.getUTCFullYear()}},{key:"getMonth",value:function(){return this._utcDate.getUTCMonth()}},{key:"getDate",value:function(){return this._utcDate.getUTCDate()}},{key:"getDay",value:function(){return this._utcDate.getUTCDay()}},{key:"getHours",value:function(){return this._utcDate.getUTCHours()}},{key:"getMinutes",value:function(){return this._utcDate.getUTCMinutes()}},{key:"getSeconds",value:function(){return this._utcDate.getUTCSeconds()}},{key:"getMilliseconds",value:function(){return this._utcDate.getUTCMilliseconds()}},{key:"getUTCDate",value:function(){return this._localDate.getUTCDate()}},{key:"getUTCDay",value:function(){return this._localDate.getUTCDay()}},{key:"getUTCFullYear",value:function(){return this._localDate.getUTCFullYear()}},{key:"getUTCHours",value:function(){return this._localDate.getUTCHours()}},{key:"getUTCMilliseconds",value:function(){return this._localDate.getUTCMilliseconds()}},{key:"getUTCMinutes",value:function(){return this._localDate.getUTCMinutes()}},{key:"getUTCMonth",value:function(){return this._localDate.getUTCMonth()}},{key:"getUTCSeconds",value:function(){return this._localDate.getUTCSeconds()}},{key:"setTime",value:function(e){throw new Error("Method not implemented.")}},{key:"setMilliseconds",value:function(e){throw new Error("Method not implemented.")}},{key:"setUTCMilliseconds",value:function(e){throw new Error("Method not implemented.")}},{key:"setSeconds",value:function(e,t){throw new Error("Method not implemented.")}},{key:"setUTCSeconds",value:function(e,t){throw new Error("Method not implemented.")}},{key:"setMinutes",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"setUTCMinutes",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"setHours",value:function(e,t,n,i){throw new Error("Method not implemented.")}},{key:"setUTCHours",value:function(e,t,n,i){throw new Error("Method not implemented.")}},{key:"setDate",value:function(e){throw new Error("Method not implemented.")}},{key:"setUTCDate",value:function(e){throw new Error("Method not implemented.")}},{key:"setMonth",value:function(e,t){throw new Error("Method not implemented.")}},{key:"setUTCMonth",value:function(e,t){throw new Error("Method not implemented.")}},{key:"setFullYear",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"setUTCFullYear",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"toISOString",value:function(){return this._localDate.toISOString()}},{key:"toJSON",value:function(){return this._localDate.toJSON()}},{key:"toString",value:function(){var e,t=(e=this._utcDate,H_[e.getUTCDay()]+" "+W_[e.getUTCMonth()]),n=this.toTimeString();return"".concat(t," ").concat(this.getDate()," ").concat(this.getFullYear()," ").concat(n)}},{key:"toDateString",value:function(){return V_(this._utcDate).toDateString()}},{key:"toTimeString",value:function(){var e="".concat(U_(this.getHours()),":").concat(U_(this.getMinutes()),":").concat(U_(this.getSeconds())),t=function(e){var t=e<=0?"+":"-",n=Math.abs(e);return"GMT".concat(t).concat(U_(Math.floor(n/60))).concat(U_(n%60))}(this.timezoneOffset),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if("Etc/UTC"===e)return"UTC";if("Etc/GMT"===e)return"GMT";if(""===e)return"";var n=L_(e,t),i=n.zone,l=n.rule,r=i[2];return r.indexOf("/")>=0?r.split("/")[l&&+l[6]?1:0]:r.indexOf("%s")>=0?r.replace("%s",l&&"-"!==l[7]?l[7]:""):r}(this.timezone,this._utcDate);return n&&(n=" (".concat(n,")")),"".concat(e," ").concat(t).concat(n)}},{key:"toLocaleString",value:function(e,t){return this._localDate.toLocaleString(e,t)}},{key:"toLocaleDateString",value:function(e,t){return this._localDate.toLocaleDateString(e,t)}},{key:"toLocaleTimeString",value:function(e,t){return this._localDate.toLocaleTimeString(e,t)}},{key:"toUTCString",value:function(){return this.toTimezone("Etc/UTC").toString()}},{key:Symbol.toPrimitive,value:function(e){return"string"===e||"default"===e?this.toString():this._localDate.getTime()}},{key:"valueOf",value:function(){return this.getTime()}},{key:"getVarDate",value:function(){throw new Error("Not implemented.")}},{key:"format",value:function(e){throw new Error("Not implemented.")}},{key:"formatUTC",value:function(e){throw new Error("Not implemented.")}},{key:"cachedLocalDate",get:function(){return this._localDate}},{key:"cachedUTCDate",get:function(){return this._utcDate}}],[{key:"fromLocalDate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=G_(t,"Etc/UTC",n),l=Y_(i,n),r=B_(n,i),a=0;l&&(a=r>0?-1:1);var o=j_(i,a);return e.fromUTCDate(o,n)}},{key:"fromUTCDate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new e(t,n)}}]),e}(),K_=function(e,t){var n=x_(e);return n.setDate(n.getDate()+t),C_(n,e.getHours())},$_=function(e){return S_(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},Z_=function(e){var t=S_(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return K_(t,-1)},Q_=function e(t,n){var i=x_(t),l=(12+(i.getMonth()+n)%12)%12;return i.setMonth(i.getMonth()+n),function(t,n){return t.getMonth()!==n?Z_(e(t,-1)):t}(C_(i,t.getHours()),l)},J_=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P_.Sunday,n=x_(e);n.getDay()!==t;)n.setDate(n.getDate()-1);return n},ew=function(){return Object.keys(M_.zones)},tw=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()},nw=function(e,t){var n=e.getMonth(),i=S_(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getMonth()===n?i:Z_(Q_(i,-1))},iw=function(e,t){return C_(nw(e,e.getFullYear()+t),e.getHours())},lw=function(e,t){return iw(e,10*t)},rw=function(e,t){return iw(e,100*t)},aw=function(e,t){return nw(e,t(e.getFullYear()))},ow=function(e){return aw(e,(function(e){return e-e%100}))},sw=function(e){return aw(e,(function(e){return e-e%100+90}))},uw=function(e){return aw(e,(function(e){return e-e%10}))},cw=function(e,t){return(ow(t).getFullYear()-ow(e).getFullYear())/100},hw=function(e){return aw(e,(function(e){return e-e%10+9}))},dw=function(e,t){return(uw(t).getFullYear()-uw(e).getFullYear())/10},fw=function(e,t){return K_(e,7*t)},pw=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({}),vw=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pw.Forward,i=x_(e),l=(t-i.getDay()+7*n)%7;return i.setDate(i.getDate()+l),C_(i,e.getHours())},gw=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},mw=function(e,t){var n=e.getDate(),i=S_(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getDate()===n?i:Z_(Q_(i,-1))},yw=function(e){return mw(e,0)},bw=function(e){return mw(e,11)},kw=function(e,t){return t.getFullYear()-e.getFullYear()},_w=function(e,t){var n=S_(e.getFullYear(),0,1,-6),i=function(e,t){return t!==P_.Monday?K_(function(e,t){return vw(e,t,pw.Backward)}(e,t),4):K_(e,4-(e.getDay()||7))}(e,t).getTime()-n.getTime(),l=Math.floor(i/864e5);return 1+Math.floor(l/7)},ww=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P_.Monday,n=K_(e,-7),i=K_(e,7),l=_w(e,t);return 0===l?_w(n,t)+1:53===l&&_w(i,t)>1?1:l};function xw(e){return"string"==typeof e}var Cw,Sw=/\{(\d+)}?\}/g,Tw=function(){function e(t){var n=t.name,i=t.message;if(_classCallCheck2(this,e),!n||!i)throw new Error("{ name: string, message: string } object is required!");this.name=n,this.message=i}return _createClass2(e,[{key:"formatMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Pw(t),l=this.message.replace(Sw,(function(e,t){return i[parseInt(t,10)]}));return"".concat(this.name,": ").concat(l)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Error(this.formatMessage(t))}}]),e}(),Pw=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},Mw=(Cw={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(Cw).reduce((function(e,t){return e[t]=new Tw({name:t,message:Cw[t]}),e}),{})),Aw={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function Iw(e){return xw(e)?Ew(e):e}function Ew(e){if(Aw[e])return Aw[e];if(Aw.supplemental.likelySubtags){var t=e.split("-"),n=t[0],i=t.slice(1),l=function(e,t){for(var n=Aw.supplemental.likelySubtags,i=0;i<t.length;i++){var l=n[e+"-"+t[i]];if(l)return l}if(n[e])return n[e]}(n,i),r=l?function(e,t){var n=e.split("-"),i=n[0],l=n[1],r=n[2];return Aw[e]||-1!==t.indexOf(r)&&Aw[i+"-"+r]||-1!==t.indexOf(l)&&Aw[i+"-"+l]||Aw[i]}(l,i):null;if(r)return r}throw Mw.NoLocale.error(e)}var Dw="decimal",Ow="currency",Fw="accounting",Rw="percent",Nw="scientific",Lw="$",Bw="%",Vw="n",zw=";",jw=",",Hw=".",Ww="",Uw="en";function Yw(e){if(e.territory)return e.territory;var t,n=e.identity;return t=n&&n.territory?n.territory:function(e,t){var n=Aw.supplemental.likelySubtags,i=e.split("-");if(n){var l=n[e]||n[i[0]];l&&(i=l.split("-"))}if(t)for(var r=i.length-1;r>=1;r--){var a=i[r];a!==t.variant&&a!==t.script||i.splice(r,1)}var o=i.length;if(o>1)return i[o-1].toUpperCase()}(e.name,n),e.territory=t,t}function qw(e,t){var n,i=t.type,l=t.nameType,r=t.standAlone,a=t.lower,o=Iw(e),s=(a?"lower-":Ww)+l,u=o.calendar[i][r?"stand-alone":"format"],c=u[s];return!c&&a&&(c=u[s]=(n=u[l],Array.isArray(n)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(n):function(e){var t={};for(var n in e)t[n]=e[n].toLowerCase();return t}(n))),c}function Gw(e){var t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,l=parseInt(t[2],10);return new Date(n,i,l)}var Xw=Mw.NoCurrency,Kw=Mw.NoCurrencyDisplay,$w=Mw.NoSupplementalCurrency,Zw=Mw.NoCurrencyRegion,Qw=Mw.NoValidCurrency,Jw=2,ex="symbol",tx="XXX",nx={"001":"USD",150:"EUR"};function ix(e,t,n){var i=Iw(e).numbers.currencies;if(i){var l=i[t];if(l)return l;if(n)throw Kw.error()}else if(n)throw Xw.error()}function lx(e,t){return t.length-e.length}function rx(e,t){var n=Iw(e),i=n.numbers;if(!i.localeCurrency){var l=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(nx[e])return nx[e];var n=Aw.supplemental.currencyData;if(n){var i=n.region[e];if(i)return function(e){for(var t,n,i,l,r=0;r<e.length;r++){var a=e[r],o=Object.keys(a)[0],s=a[o];if(o!==tx&&"false"!==s._tender&&s._from)if(s._to){if(!i){var u=Gw(s._from),c=Gw(s._to);(!n||n.to<c||n.from<u)&&(t=o,n={from:u,to:c})}}else{var h=Gw(s._from);(!l||l<h)&&(i=o,l=h)}}return i||t}(i);if(t)throw Zw.error(e)}else if(t)throw $w.error()}(Yw(n),t);if(!l&&t)throw Qw.error(n.name);i.localeCurrency=l}return i.localeCurrency}var ax=["sun","mon","tue","wed","thu","fri","sat"],ox="001",sx=Mw.NoWeekData,ux=Mw.NoFirstDay;function cx(e){var t=Iw(e);if(!isNaN(t.firstDay))return t.firstDay;var n=Aw.supplemental.weekData;if(!n)throw sx.error();var i=n.firstDay[Yw(t)]||n.firstDay[ox];if(!i)throw ux.error();return t.firstDay=ax.indexOf(i),t.firstDay}var hx=Mw.NoWeekData;function dx(e){return 1/e==-1/0}function fx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.currency||(t.currency=rx(e,!0)),function(e,t){var n=t.value,i=t.currency,l=t.currencyDisplay,r=void 0===l?ex:l;if("code"===r)return i;var a=ix(e,i,!0);return r===ex?a["symbol-alt-narrow"]||a[ex]:void 0===typeof n||1!==n?a["displayName-count-other"]:a["displayName-count-one"]}(e,t)}function px(e,t,n,i,l){var r=l.numbers.symbols,a=e.indexOf(r.decimal),o=i.groupSize.slice(),s=o.shift(),u=-1!==a?a:n+1,c=e.substring(t,u),h=e,d=c.length;if(d>=s){for(var f=d,p=[];f>-1;){var v=c.substring(f-s,f);v&&p.push(v),f-=s;var g=o.shift();if(0===(s=void 0!==g?g:s)){(v=c.substring(0,f))&&p.push(v);break}}c=p.reverse().join(r.group),h=e.substring(0,t)+c+e.substring(u)}return h}function vx(e){return e===Ow||e===Fw}function gx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t-String(e).length,l=e;if(i>0){var r=new Array(i+1).join("0");l=n?e+r:r+e}return l}var mx=20;function yx(e,t){var n=e,i=t||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i))).toFixed(Math.min(i,mx))}var bx=3,kx=0,_x=/0+$/,wx=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,xx="__??__";function Cx(e,t){var n=e.format;-1!==n.indexOf(Bw)&&(e.style=Rw,e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf(Lw)&&(e.style=Ow,e.symbol=fx(t))}function Sx(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var n=e.literals=[];e.format=t.replace(wx,(function(e){var t=e.charAt(0).replace("\\",Ww),i=e.slice(1).replace(t,Ww);return n.push(i),xx}))}}var Tx="#",Px="0",Mx=/(\.(?:[0-9]*[1-9])?)0+$/g,Ax=/\.$/,Ix=/\,/g;function Ex(e,t,n){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t)}var Dx=/^(n|c|p|e|a)(\d*)$/i;function Ox(e){return xw(e)?function(e){var t=Dx.exec(e);if(t){var n={style:Dw},i=t[1].toLowerCase();return"c"===i?n.style=Ow:"a"===i?n.style=Fw:"p"===i?n.style=Rw:"e"===i&&(n.style=Nw),t[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(t[2],10)),n}}(e):e}function Fx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vw,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uw;if(null==e)return Ww;if(!isFinite(e))return String(e);var i=Ew(n),l=Ox(t);return l?function(e,t,n){var i=n.numbers.symbols,l=t.style,r=vx(l);if(l===Nw)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(Hw,i.decimal);var a,o=e;r&&(t.value=o,a=fx(n,t)),l===Rw&&(o*=100,a=i.percentSign);var s=function(e){var t,n=e.minimumFractionDigits,i=e.maximumFractionDigits,l=e.style,r=vx(l);return r&&(t=function(e){var t=Jw,n=Jw,i=((Aw.supplemental.currencyData||{}).fractions||{})[e];return i&&i._digits&&(n=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===n&&(n=r?t.minimumFractionDigits:0),void 0===i&&(i=l===Rw?Math.max(n,kx):r?Math.max(n,t.maximumFractionDigits):Math.max(n,bx)),{minimumFractionDigits:n,maximumFractionDigits:i}}(t),u=s.minimumFractionDigits,c=(o=yx(o,s.maximumFractionDigits))<0,h=dx(e),d=o.split(Hw),f=d[0],p=gx(d[1]?d[1].replace(_x,Ww):Ww,u,!0);c&&(f=f.substring(1)),t.minimumIntegerDigits&&(f=gx(f,t.minimumIntegerDigits));var v,g=!1!==t.useGrouping?px(f,0,f.length,t,n):f;if(p&&(g+=i.decimal+p),r&&"name"===t.currencyDisplay)v=function(e,t){var n=e.numbers.currency,i=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(i=i.replace(Vw,"-".concat(Vw))),i}(n,e);else{var m=t.patterns;v=c||h?m[1]||"-"+m[0]:m[0]}return v!==Vw||c?function(e,t,n){for(var i=Ww,l=0,r=t.length;l<r;l++){var a=t.charAt(l);i+=a===Vw?e:a===Lw||a===Bw?n:a}return i}(g,v,a):g}(e,Object.assign({},i.numbers[l.style||Dw],l),i):function(e,t,n){var i={negative:e<0,number:Math.abs(e),negativeZero:dx(e),format:t};return function(e){var t=e.number,n=e.format;if(n=n.split(zw),(e.negative||e.negativeZero)&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){var i=n[2];n=i||n[0],i&&function(e){return-1===e.indexOf(Tx)&&-1===e.indexOf(Px)}(i)&&(e.constant=i)}else n=n[0];e.format=n}(i),i.constant?i.constant:(Sx(i),Cx(i,n),function(e){e.hasGroup=e.format.indexOf(jw)>-1,e.hasGroup&&(e.format=e.format.replace(Ix,Ww))}(i),function(e){var t,n,i,l=e.number,r=e.format,a=r.indexOf(Hw);if(-1!==a){var o=r.lastIndexOf(Px)-a,s=r.lastIndexOf(Tx)-a,u=o>-1,c=s>-1,h=l.toString().split("e"),d=(h=(h=h[1]?yx(l,Math.abs(h[1])):h[0]).split(Hw)[1]||Ww).length,f=-1;u||c?u&&o>s?d=o:s>o&&(c&&d>s?d=s:u&&d<o&&(d=o),f=u?o:0):(e.format=r.substring(0,a)+r.substring(a+1),a=-1,d=0),d>-1&&(l=yx(l,d),f>-1&&(t=l,i=0===(n=f)?Mx:new RegExp("(\\.[0-9]{".concat(n,"}[1-9]*)0+$"),"g"),l=t.replace(i,"$1").replace(Ax,Ww)))}else l=yx(l);e.negative&&-1*l>=0&&!e.negativeZero&&(e.negative=!1),e.number=l,e.decimalIndex=a}(i),function(e){var t=e.format,n=t.indexOf(Tx),i=t.indexOf(Px),l=Ex(n,i,!0),r=Ex(n=t.lastIndexOf(Tx),i=t.lastIndexOf(Px));l===t.length&&(r=l),e.start=l,e.end=r,e.lastZeroIndex=i}(i),function(e,t){var n=e.number;return-1!==e.start&&(n=function(e,t){var n=e;if(t)for(var i=t.length,l=0;l<i;l++)n=n.replace(xx,t[l]);return n}(n=function(e,t,n){var i=e;if(t===Ow||t===Rw){i=Ww;for(var l=0,r=e.length;l<r;l++){var a=e.charAt(l);i+=a===Lw||a===Bw?n:a}}return i}(n=function(e,t){var n=e.start,i=e.end,l=e.negative,r=e.negativeZero,a=e.format,o=e.decimalIndex,s=e.lastZeroIndex,u=e.hasNegativeFormat,c=e.hasGroup,h=e.number,d=h.toString().split(Hw),f=a.length,p=d[0],v=d[1]||Ww,g=p.length,m=Ww;h=a.substring(0,n),!l&&!r||u||(h+="-");for(var y=n;y<f;y++){var b=a.charAt(y);if(-1===o){if(i-y<g){h+=p;break}}else if(-1!==s&&s<y&&(m=Ww),o-y<=g&&o-y>-1&&(h+=p,y=o),o===y){h+=(v?t.numbers.symbols.decimal:Ww)+v,y+=i-o+1;continue}b===Px?(h+=b,m=b):b===Tx&&(h+=m)}return c&&(h=px(h,n+(l&&!u?1:0),Math.max(i,g+n),t.numbers.decimal,t)),i>=n&&(h+=a.substring(i+1)),h}(e,t),e.style,e.symbol),e.literals)),n}(i,n))}(e,t,i)}function Rx(e){return"number"==typeof e}var Nx=/[eE][\-+]?[0-9]+/,Lx=/\u00A0/g;function Bx(e,t){if(t.length>1){var n=(t[1]||Ww).replace(Lw,Ww).split(Vw);if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],Ww).replace(n[1],Ww)}}var Vx=/\{(\d+)}/g;function zx(e){var t=arguments;return e.replace(Vx,(function(e,n){return t[parseInt(n,10)+1]}))}var jx=120,Hx=20,Wx=[2,1,5,3,4],Ux=(_defineProperty2(i={},(-2).toString(),8),_defineProperty2(i,(-1).toString(),6),_defineProperty2(i,2..toString(),6),_defineProperty2(i,1..toString(),3),i),Yx={numeric:1,"2-digit":2,short:3,long:4,narrow:5},qx=/[hHmsSzZoOvVxX]/,Gx=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],Xx={e:"c",E:"c",M:"L",Q:"q"},Kx={},$x={};function Zx(e){return Kx[e]||(Kx[e]=new RegExp(e+"+")),Kx[e]}function Qx(e){for(var t=[],n=e.charAt(0),i=n,l=1;l<e.length;l++){var r=e.charAt(l);r===i?n+=r:(t.push(n),n=i=r)}return t.push(n),t}function Jx(e,t){var n,i,l=e.length,r=-Number.MAX_VALUE;for(var a in t){for(var o=[],s=a.replace("v","z"),u=0,c=0;c<l;c++){var h=e[c],d=(Zx(h[0]).exec(s)||[])[0];if(d){if(s=s.replace(d,Ww),d.length!==h.length){var f=Math.max(Math.min(Wx[d.length]-Wx[h.length],2),-2);u-=Ux[f]}}else u-=jx;if(o.push(d),u<r)break}s.length&&(u-=Qx(s).length*Hx),u>r&&(r=u,n=o,i=t[a])}i=i.replace("v","z");for(var p=0;p<l;p++){var v=n[p];if(v&&v!==e[p]){var g=n[p][0];i=i.replace(Zx(g),e[p]),Xx[g]&&(i=i.replace(Zx(Xx[g]),e[p]))}}return i}function eC(e,t){var n,i=t.calendar;if(xw(e))n=i.patterns[e]?i.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var l=e.skeleton;l||(e.datetime?n=zx(i.dateTimeFormats[e.datetime],i.timeFormats[e.datetime],i.dateFormats[e.datetime]):e.date?n=i.dateFormats[e.date]:e.time?n=i.timeFormats[e.time]:l=function(e){for(var t=[],n=0;n<Gx.length;n++){var i=Gx[n],l=e[i.key];if(l){var r=i.specifier||i.getSpecifier(e);t.push(r.repeat(Yx[l]))}}return t.join(Ww)}(e)),l&&(n=function(e,t){var n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if($x[t.name]&&$x[t.name][e])return $x[t.name][e];var i,l=e.search(qx);if(l>0){var r=e.substr(0,l),a=e.substr(l);i=zx(t.calendar.dateTimeFormats.short,n[a]||Jx(Qx(a),n),n[r]||Jx(Qx(r),n))}else i=Jx(Qx(e),n);return function(e,t,n){$x[n]||($x[n]={}),$x[n][e]=t}(e,i,t.name),i}(l,t))}return n||(n=i.patterns.d),n}function tC(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function nC(e,t,n,i,l){return qw(e,{type:t,nameType:tC(n),standAlone:i,lower:l})}function iC(e){return"function"==typeof e}function lC(e){return Boolean(e)&&iC(e.getTime)&&iC(e.getMonth)}var rC={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},aC=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function oC(e,t,n,i){return t<=2?gx(e+1,t):nC(n,"months",t,i)[e]}function sC(e,t,n,i){var l=Math.floor(e.getMonth()/3);return t<3?l+1:nC(n,"quarters",t,i)[l]}function uC(e,t,n){var i=n.shortHours,l=n.optionalMinutes,r=n.separator,a=n.localizedName,o=n.zZeroOffset,s=e.getTimezoneOffset()/60;if(0===s&&o)return"Z";var u=s<=0?"+":"-",c=Math.abs(s).toString().split("."),h=c[1]||0,d=u+(i?c[0]:gx(c[0],2));return!h&&l||(d+=(r?":":Ww)+gx(h,2)),a&&(d=zx(0===s?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,d)),d}function cC(e,t,n,i){return t<3?(l=e.getDay(),r=cx(n),(l<r?7-r+l:l-r)+1):nC(n,"days",t,i)[e.getDay()];var l,r}var hC,dC=((hC={d:function(e,t){return gx(e.getDate(),t)},E:function(e,t,n){return nC(n,"days",t)[e.getDay()]},M:function(e,t,n){return oC(e.getMonth(),t,n,!1)},L:function(e,t,n){return oC(e.getMonth(),t,n,!0)},y:function(e,t){var n=e.getFullYear();return 2===t&&(n%=100),gx(n,t)},h:function(e,t){return gx(e.getHours()%12||12,t)},H:function(e,t){return gx(e.getHours(),t)},k:function(e,t){return gx(e.getHours()||24,t)},K:function(e,t){return gx(e.getHours()%12,t)},m:function(e,t){return gx(e.getMinutes(),t)},s:function(e,t){return gx(e.getSeconds(),t)},S:function(e,t){return 0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):gx(Ww,t)},a:function(e,t,n){return nC(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,n){return uC(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,n){return uC(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,n){return uC(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,n){return uC(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,n){var i=e.getFullYear()>=0?1:0;return nC(n,"eras",t)[i]}}).e=cC,hC.c=function(e,t,n){return cC(e,t,n,!0)},hC.q=function(e,t,n){return sC(e,t,n,!0)},hC.Q=sC,hC);function fC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uw;if(!lC(e))return null==e?Ww:e;var i=Ew(n);return eC(t,i).replace(aC,(function(t){var n=t.length;return t.includes("'")||t.includes('"')?t.slice(1,n-1):dC[t[0]](e,n,i)}))}function pC(e,t,n){var i=e.getTimezoneOffset(),l=new Date(e.getTime()+6e4*(t-n)),r=l.getTimezoneOffset();return new Date(l.getTime()+6e4*(r-i))}var vC=/([+|\-]\d{1,2})(:?)(\d{2})?/,gC=/^\/Date\((.*?)\)\/$/,mC=/[+-]\d*/,yC={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},bC=/\d+/,kC="{0}",_C=/^ */,wC=/ *$/,xC=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],CC=["G","g","F","Y","y","M","m","D","d","y","T","t"];function SC(e,t,n){return!(e>=t&&e<=n)}function TC(e,t){for(var n=t.format,i=t.idx,l=0;n[i]===e;)l++,i++;return l>0&&(i-=1),t.idx=i,l}function PC(e,t){var n=e?yC[e]||new RegExp("^\\d{1,"+e+"}"):bC,i=t.value.substr(t.valueIdx,e).match(n);return i?(t.valueIdx+=(i=i[0]).length,parseInt(i,10)):null}function MC(e,t,n){for(var i,l,r,a=0,o=e.length,s=0,u=0;a<o;a++)r=t.value.substr(t.valueIdx,l=(i=e[a]).length),n&&(r=r.toLowerCase()),r===i&&l>s&&(s=l,u=a);return s?(t.valueIdx+=s,u+1):null}function AC(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function IC(e,t,n){var i=n.shortHours,l=n.noSeparator,r=n.optionalMinutes,a=n.localizedName,o=n.zLiteral;if(e.UTC=!0,o&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(a&&!MC(function(e){var t=e.gmtFormat,n=e.gmtZeroFormat;if(!t)throw Mw.NoGMTInfo.error();return[t.replace(kC,Ww).toLowerCase(),n.replace(kC,Ww).toLowerCase()]}(t.calendar),e,!0))return!0;var s=vC.exec(e.value.substr(e.valueIdx,6));if(!s)return!a;var u=s[1],c=s[3],h=parseInt(u,10),d=s[2],f=parseInt(c,10);return!!(isNaN(h)||!i&&3!==u.length||!r&&isNaN(f)||l&&d)||(isNaN(f)&&(f=null),!!(SC(h,-12,13)||f&&SC(f,0,59))||(e.valueIdx+=s[0].length,e.hoursOffset=h,void(e.minutesOffset=f)))}function EC(e,t,n){var i=TC(e,t),l=nC(n,"months",i,"L"===e,!0),r=i<3?PC(2,t):MC(l,t,!0);if(null===r||SC(r,1,12))return!0;t.month=r-1}function DC(e,t,n){var i=TC(e,t),l=nC(n,"days",i,"c"===e,!0),r=i<3?PC(1,t):MC(l,t,!0);if(!r&&0!==r||SC(r,1,7))return!0}var OC={d:function(e){TC("d",e);var t=PC(2,e);if(null===t||SC(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===MC(nC(t,"days",TC("E",e),!1,!0),e,!0))return!0},M:function(e,t){return EC("M",e,t)},L:function(e,t){return EC("L",e,t)},y:function(e){var t=TC("y",e),n=PC(1===t?void 0:t,e);if(null===n)return!0;if(2===t){var i=(new Date).getFullYear();(n=i-i%100+n)>2029&&(n-=100)}e.year=n},h:function(e){TC("h",e);var t=PC(2,e);if(12===t&&(t=0),null===t||SC(t,0,11))return!0;e.hours=t},K:function(e){TC("K",e);var t=PC(2,e);if(null===t||SC(t,0,11))return!0;e.hours=t},a:function(e,t){var n=nC(t,"dayPeriods",TC("a",e),!1,!0),i=MC([n.pm],e,!0);if(!i&&!MC([n.am],e,!0))return!0;e.pmHour=i},H:function(e){TC("H",e);var t=PC(2,e);if(null===t||SC(t,0,23))return!0;e.hours=t},k:function(e){TC("k",e);var t=PC(2,e);if(null===t||SC(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){TC("m",e);var t=PC(2,e);if(null===t||SC(t,0,59))return!0;e.minutes=t},s:function(e){TC("s",e);var t=PC(2,e);if(null===t||SC(t,0,59))return!0;e.seconds=t},S:function(e){var t=TC("S",e),n=e.value.substr(e.valueIdx,t),i=null;if(isNaN(parseInt(n,10))||(i=yx(i=parseFloat("0."+n,10),3),i*=1e3,e.valueIdx+=t),null===i||SC(i,0,999))return!0;e.milliseconds=i},z:function(e,t){var n=TC("z",e)<4,i=IC(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Z:function(e,t){var n=TC("Z",e),i=IC(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},x:function(e,t){var n=TC("x",e),i=IC(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},X:function(e,t){var n=TC("X",e),i=IC(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},G:function(e,t){var n=nC(t,"eras",TC("G",e),!1,!0);if(null===MC([n[0],n[1]],e,!0))return!0},e:function(e,t){return DC("e",e,t)},c:function(e,t){return DC("c",e,t)}};function FC(e,t){return"".concat(_C.exec(t)[0]).concat(e).concat(wC.exec(t)[0])}function RC(e,t,n){for(var i=eC(t,n).split(Ww),l={format:i,idx:0,value:FC(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=i.length,a=!1;l.idx<r;l.idx++){var o=i[l.idx];if(a)"'"===o&&(a=!1),AC(l);else if(OC[o]){if(OC[o](l,n))return null}else if("'"===o)a=!0,AC(l);else if(!AC(l))return null}return l.valueIdx<e.length?null:function(e){var t,n=e.year,i=e.month,l=e.day,r=e.hours,a=e.minutes,o=e.seconds,s=e.milliseconds,u=e.pmHour,c=e.UTC,h=e.hoursOffset,d=e.minutesOffset,f=null!==r||null!==a||o||null,p=new Date;return null===n&&null===i&&null===l&&f?(n=p.getFullYear(),i=p.getMonth(),l=p.getDate()):(null===n&&(n=p.getFullYear()),null===l&&(l=1)),u&&r<12&&(r+=12),c?(h&&(r+=-h),d&&(a+=-d*(h<0?-1:1)),t=new Date(Date.UTC(n,i,l,r,a,o,s))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(n,i,l,r,a,o,s),r),n<100&&t.setFullYear(n),t.getDate()!==l&&void 0===c?null:t}(l)||null}function NC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uw;if(!e)return null;if(lC(e))return e;var i=String(e).trim(),l=function(e){if(e&&0===e.indexOf("/D")){var t=gC.exec(e);if(t){var n=mC.exec((t=t[1]).substring(1));return t=new Date(parseInt(t,10)),n&&(n=function(e){var t="-"===e.substr(0,1)?-1:1,n=e.substring(1);return t*(60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(n[0]),t=pC(t,t.getTimezoneOffset(),0),t=pC(t,0,-1*n)),t}}}(i);if(l)return l;for(var r=Ew(n),a=t||function(e){for(var t=[],n=e.patterns,i=CC.length,l=0;l<i;l++)t.push(n[CC[l]]);return t.concat(xC)}(r.calendar),o=(a=Array.isArray(a)?a:[a]).length,s=0;s<o;s++)if(l=RC(i,a[s],r))return l;return l}var LC={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}},BC="literal";function VC(e,t){var n=e[e.length-1];n&&n.type===BC?n.pattern+=t:e.push({type:BC,pattern:t})}function zC(e){return"h"===e||"K"===e}var jC=/\{(\d+)(:[^\}]+)?\}/g;function HC(e,t,n){if(t){if(lC(e))return fC(e,t,n);if(Rx(e))return Fx(e,t,n)}return null!=e?e:Ww}var WC="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",UC={NoCurrency:"Solution: ".concat(WC,"#toc-no-currency"),NoCurrencyDisplay:"Solution: ".concat(WC,"#toc-no-currency-display"),NoCurrencyRegion:"Solution: ".concat(WC,"#toc-no-currency-region"),NoDateFieldNames:"Solution: ".concat(WC,"#toc-no-date-filed-names"),NoFirstDay:"Solution: ".concat(WC,"#toc-no-first-day"),NoGMTInfo:"Solution: ".concat(WC,"#toc-no-gmt-info"),NoLocale:"Solution: ".concat(WC,"#toc-no-locale"),NoValidCurrency:"Solution: ".concat(WC,"#toc-no-valid-currency"),NoWeekData:"Solution: ".concat(WC,"#toc-no-week-data")};function YC(e){return function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(null,n)}catch(l){throw l.message=function(e){var t=e.message,n=UC[Object.keys(UC).filter((function(e){return 0===t.indexOf(e)}))[0]];return n?"".concat(t," ").concat(n):t}(l),l}}}var qC,GC=YC(qw),XC=YC((function(e){var t=Ew(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uw).calendar.dateFields;if(!t)throw Mw.NoDateFieldNames.error();var n=t[e.type]||{};return n[e.nameType]||n.wide})),KC=YC(cx),$C=YC((function(e,t,n){return e.replace(jC,(function(e,i,l){return HC(t[parseInt(i,10)],l?l.substring(1):Ww,n)}))})),ZC=YC(fC),QC=YC(Fx),JC=YC((function(e){return Iw(e).numbers.symbols})),eS=YC(NC),tS=YC((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uw,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&0!==e)return null;if(Rx(e))return e;var i,l=Ew(t),r=l.numbers.symbols,a=e.toString(),o=n||{};if(xw(n)&&(Sx(o={format:n}),a=function(e,t){var n=t.literals,i=e;if(n)for(var l=0;l<n.length;l++)i=i.replace(n[l],Ww);return i}(a,o),Cx(o,l)),(o.style===Rw||a.indexOf(r.percentSign)>-1)&&(a=a.replace(r.percentSign,Ww),i=!0),Nx.test(a))return a=parseFloat(a.replace(r.decimal,Hw)),isNaN(a)?null:a;var s=function(e,t,n){var i,l=Ox(n)||{},r=vx(l.style),a=e,o=l.currency||rx(t,r);if(o){var s=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=ix(e,t,n);if(i){if(!i.displays){var l=[t];for(var r in i)l.push(i[r]);l.sort(lx),i.displays=l}return i.displays}}(t,o,r);if(s)for(var u=0;u<s.length;u++){var c=s[u];if(a.includes(c)){a=a.replace(c,Ww),r=!0;break}}if(r){var h=Bx(a,t.numbers.currency.patterns)||Bx(a,t.numbers.accounting.patterns);h&&(i=!0,a=h)}}return{number:a,negative:i}}(a,l,o),u=s.negative,c=s.number,h=(a=String(c).trim()).indexOf("-");if(h>0)return null;var d=h>-1;return d=void 0!==u?u:d,a=a.replace("-",Ww).replace(Lx," ").split(r.group.replace(Lx," ")).join(Ww).replace(r.decimal,Hw),a=parseFloat(a),isNaN(a)?a=null:d&&(a*=-1),a&&i&&(a/=100),a})),nS=YC((function(e){for(var t=eC(e,Ew(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uw)),n=[],i=aC.lastIndex=0,l=aC.exec(t);l;){var r=l[0];if(i<l.index&&VC(n,t.substring(i,l.index)),r.startsWith('"')||r.startsWith("'"))VC(n,r);else{var a=r[0],o=rC[a],s={type:o,pattern:r};"hour"===o&&(s.hour12=zC(r));var u=LC[o];if(u){var c=Rx(u.minLength)?u.minLength:u.minLength[a],h=r.length;h>=c&&(s.names={type:u.type,nameType:tC(h),standAlone:u.standAlone===a})}n.push(s)}i=aC.lastIndex,l=aC.exec(t)}return i<t.length&&VC(n,t.substring(i)),n})),iS=YC(HC),lS=YC((function(e){var t=Iw(e);if(t.weekendRange)return t.weekendRange;var n=Aw.supplemental.weekData;if(!n)throw hx.error();var i=Yw(t),l=n.weekendEnd[i]||n.weekendEnd[ox];return t.weekendRange={start:ax.indexOf(n.weekendStart[i]||n.weekendStart[ox]),end:ax.indexOf(l)},t.weekendRange})),rS=/_/g,aS=((qC=function(){function e(){_classCallCheck2(this,e),this.changes=new dr}return _createClass2(e,[{key:"notify",value:function(){this.changes.emit()}}]),e}()).ngInjectableDef=Oe({factory:function(){return e=it(Fr),new oS(e);var e},token:qC,providedIn:"root"}),qC),oS=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).localeId=e,n}return _inherits(t,e),_createClass2(t,[{key:"format",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return $C(e,n,this.localeId)}},{key:"toString",value:function(e,t,n){return iS(e,t,n||this.localeId)}},{key:"formatDate",value:function(e,t,n){return ZC(e,t,n||this.localeId)}},{key:"parseDate",value:function(e,t,n){return eS(e,t,n||this.localeId)}},{key:"parseNumber",value:function(e,t,n){return tS(e,n||this.localeId,t)}},{key:"formatNumber",value:function(e,t,n){return QC(e,t,n||this.localeId)}},{key:"dateFieldName",value:function(e,t){return XC(e,t||this.localeId)}},{key:"dateFormatNames",value:function(e,t){return GC(t||this.localeId,e)}},{key:"splitDateFormat",value:function(e,t){return nS(e,t||this.localeId)}},{key:"numberSymbols",value:function(e){return JC(e||this.localeId)}},{key:"firstDay",value:function(e){return KC(e||this.localeId)}},{key:"weekendRange",value:function(e){return lS(e||this.localeId)}},{key:"localeId",get:function(){return this.locale},set:function(e){var t=e.replace(rS,"-");t!==this.locale&&(this.locale=t,this.notify())}}]),t}(aS),sS=function(){function e(t){_classCallCheck2(this,e),this.intlService=t}return _createClass2(e,[{key:"transform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return(e=this.normalize(e))?this.intlService.formatDate(e,t,n):e}},{key:"normalize",value:function(e){return e&&"string"==typeof e?e=this.intlService.parseDate(e):e&&function(e){return!isNaN(e-parseFloat(e))}(e)&&(e=new Date(parseFloat(e))),e}}]),e}(),uS=function e(){_classCallCheck2(this,e)};function cS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ev;return(!Fv(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Ev),new F((function(n){return n.add(t.schedule(hS,e,{subscriber:n,counter:0,period:e})),n}))}function hS(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var dS=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).scheduler=e,i.work=n,i}return _inherits(t,e),_createClass2(t,[{key:"requestAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get2(_getPrototypeOf2(t.prototype),"requestAsyncId",this).call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get2(_getPrototypeOf2(t.prototype),"recycleAsyncId",this).call(this,e,n,i);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)}}]),t}(Rp),fS=new(function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,l=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<l&&(e=n.shift()));if(this.active=!1,t){for(;++i<l&&(e=n.shift());)e.unsubscribe();throw t}}}]),t}(Bp))(dS),pS=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.inclusive=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new vS(e,this.predicate,this.inclusive))}}]),e}(),vS=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).predicate=n,l.inclusive=i,l.index=0,l}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),t}(P);function gS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ev;return function(n){return n.lift(new mS(e,t))}}var mS=function(){function e(t,n){_classCallCheck2(this,e),this.dueTime=t,this.scheduler=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new yS(e,this.dueTime,this.scheduler))}}]),e}(),yS=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).dueTime=n,l.scheduler=i,l.debouncedSubscription=null,l.lastValue=null,l.hasValue=!1,l}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(bS,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),t}(P);function bS(e){e.debouncedNext()}var kS,_S,wS=function(){return"undefined"!=typeof window},xS={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},CS={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},SS={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},TS={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},PS=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},MS=wS()&&window.navigator?window.navigator.userAgent:null,AS=MS?function(e){var t=null,n=[];for(var i in SS)if(SS.hasOwnProperty(i)&&(n=e.match(SS[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(MS):null,IS=MS?function(e){var t,n=[];for(var i in xS)if(xS.hasOwnProperty(i)){if(!(n=e.match(xS[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var l={};return l.device=i,l.browser=PS(e,TS,"default"),l.name=PS(i,CS),l[l.name]=!0,l.majorVersion=n[2],l.minorVersion=n[3].replace("_","."),t=l.minorVersion.replace(".","").substr(0,2),l.flatVersion=l.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),l.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,l.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||l.cordova,l}return null}(MS):null,ES=wS()&&"ontouchstart"in window,DS=AS&&!AS.chrome&&window.MSPointerEvent,OS=AS&&!AS.chrome&&window.PointerEvent,FS=IS&&(ES||DS||OS),RS=((kS={})[kS.Left=0]="Left",kS[kS.Right=1]="Right",kS[kS.Up=2]="Up",kS[kS.Down=3]="Down",kS[kS.PrevView=4]="PrevView",kS[kS.NextView=5]="NextView",kS[kS.FirstInView=6]="FirstInView",kS[kS.LastInView=7]="LastInView",kS[kS.LowerView=8]="LowerView",kS[kS.UpperView=9]="UpperView",kS),NS={start:null,end:null},LS=new Date(1980,0,1),BS=new Date(1900,0,1),VS=new Date(2099,11,31),zS=new Date(1980,0,1),jS=new Date(1980,0,1,23,59,59),HS=function(e){return null!=e},WS=function(e){return function(t,n){var i=x_(t);return i[e](n),i}},US=function(e,t){var n=x_(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},YS=function(e,t,n){return{candidateValue:US(LS,e),maxValue:K_(US(LS,n),t.getHours()<n.getHours()||t.getHours()===n.getHours()&&t.getMinutes()<n.getMinutes()?0:1),minValue:US(LS,t)}},qS=WS("setHours"),GS=WS("setMinutes"),XS=WS("setSeconds"),KS=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],l=e;l<t;l+=n)i.push(l);return i},$S=function(e,t,n){return!e||!(t&&t>e||n&&n<e)},ZS=function(e,t,n){if(!e||!t||!n)return!0;var i=YS(e,t,n),l=i.candidateValue,r=i.minValue,a=i.maxValue;return r<=l&&l<=a},QS=function(e,t){return!HS(e)||!HS(t)||e<=t},JS=function(e,t,n){return e?t&&e<t?x_(t):n&&e>n?x_(n):e:e},eT=function(){return new Date},tT=function(){return T_(new Date)},nT=function(e){},iT=function(){return"undefined"!=typeof window},lT=function(e,t){return e.slice(t).concat(e.slice(0,t))},rT=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=document.createElement(e);return l.className=n,Object.keys(i).map((function(e){return l.style[e]=i[e]})),"string"==typeof t?l.innerHTML=t||"":(t||[]).forEach((function(e){return e&&l.appendChild(e)})),l}},aT=function(e,t){return void 0!==e[t]},oT=function(e,t){return e[t]&&null!=e[t].currentValue},sT=function(e,t){var n=t||NS,i=n.start,l=n.end;return!(!i||!l)&&i<e&&e<l},uT=[[]],cT=(_defineProperty2(l={},RS.Left,(function(e){return lw(e,-1)})),_defineProperty2(l,RS.Up,(function(e){return lw(e,-5)})),_defineProperty2(l,RS.Right,(function(e){return lw(e,1)})),_defineProperty2(l,RS.Down,(function(e){return lw(e,5)})),_defineProperty2(l,RS.PrevView,(function(e){return rw(e,-1)})),_defineProperty2(l,RS.NextView,(function(e){return rw(e,1)})),_defineProperty2(l,RS.FirstInView,(function(e){return ow(e)})),_defineProperty2(l,RS.LastInView,(function(e){return sw(e)})),l),hT=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToDate",value:function(e,t){return rw(e,t)}},{key:"datesList",value:function(e,t){return KS(0,t).map((function(t){return rw(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,l=e.isActiveView,r=e.max,a=e.min,o=e.selectedDate,s=e.selectionRange,u=void 0===s?NS:s,c=e.viewDate;if(!c)return uT;var h=KS(0,5),d=ow(c),f=sw(c),p=$S(o,a,r),v=tT();return KS(0,2).map((function(e){var s=lw(d,5*e);return h.map((function(e){var c=t.normalize(lw(s,e),a,r);if(!t.isInRange(c,a,r))return null;var h=t.isEqual(c,u.start),g=t.isEqual(c,u.end),m=!h&&!g&&sT(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:l&&p&&t.isEqual(c,o),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(c,f),isRangeSplitStart:m&&t.isEqual(c,d),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&uw(e).getFullYear()===uw(t).getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}},{key:"isInRange",value:function(e,t,n){var i=uw(e).getFullYear(),l=!t||uw(t).getFullYear()<=i,r=!n||i<=uw(n).getFullYear();return l&&r}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=uw(ow(e));return S_(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%1e3==0}},{key:"move",value:function(e,t){var n=cT[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return uw(e).getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?ow(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(ow(e).getFullYear()," - ").concat(sw(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return cw(t,e)}},{key:"total",value:function(e,t){return cw(e,t)+1}},{key:"value",value:function(e){return e?uw(e).getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?rw(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?x_(t):e>n&&this.isEqual(e,n)?x_(n):e}}]),e}(),dT=[[]],fT=(_defineProperty2(r={},RS.Left,(function(e){return iw(e,-1)})),_defineProperty2(r,RS.Up,(function(e){return iw(e,-5)})),_defineProperty2(r,RS.Right,(function(e){return iw(e,1)})),_defineProperty2(r,RS.Down,(function(e){return iw(e,5)})),_defineProperty2(r,RS.PrevView,(function(e){return lw(e,-1)})),_defineProperty2(r,RS.NextView,(function(e){return lw(e,1)})),_defineProperty2(r,RS.FirstInView,(function(e){return uw(e)})),_defineProperty2(r,RS.LastInView,(function(e){return hw(e)})),r),pT=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToDate",value:function(e,t){return lw(e,t)}},{key:"datesList",value:function(e,t){return KS(0,t).map((function(t){return lw(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,l=e.isActiveView,r=e.max,a=e.min,o=e.selectedDate,s=e.selectionRange,u=void 0===s?NS:s,c=e.viewDate;if(!c)return dT;var h=KS(0,5),d=uw(c),f=hw(c),p=$S(o,a,r),v=tT();return KS(0,2).map((function(e){var s=iw(d,5*e);return h.map((function(e){var c=t.normalize(iw(s,e),a,r);if(!t.isInRange(c,a,r))return null;var h=t.isEqual(c,u.start),g=t.isEqual(c,u.end),m=!h&&!g&&sT(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:l&&p&&t.isEqual(c,o),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(c,f),isRangeSplitStart:m&&t.isEqual(c,d),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}},{key:"isInRange",value:function(e,t,n){var i=e.getFullYear(),l=!t||t.getFullYear()<=i,r=!n||i<=n.getFullYear();return l&&r}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=uw(e);return S_(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%100==0}},{key:"move",value:function(e,t){var n=fT[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return e.getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?uw(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(uw(e).getFullYear()," - ").concat(hw(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return dw(t,e)}},{key:"total",value:function(e,t){return dw(e,t)+1}},{key:"value",value:function(e){return e?e.getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?lw(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?x_(t):e>n&&this.isEqual(e,n)?x_(n):e}}]),e}(),vT=[[]],gT=(_defineProperty2(a={},RS.Left,(function(e){return K_(e,-1)})),_defineProperty2(a,RS.Up,(function(e){return fw(e,-1)})),_defineProperty2(a,RS.Right,(function(e){return K_(e,1)})),_defineProperty2(a,RS.Down,(function(e){return fw(e,1)})),_defineProperty2(a,RS.PrevView,(function(e){return Q_(e,-1)})),_defineProperty2(a,RS.NextView,(function(e){return Q_(e,1)})),_defineProperty2(a,RS.FirstInView,(function(e){return $_(e)})),_defineProperty2(a,RS.LastInView,(function(e){return Z_(e)})),a),mT=function(){function e(t){_classCallCheck2(this,e),this._intlService=t}return _createClass2(e,[{key:"addToDate",value:function(e,t){return Q_(e,t)}},{key:"datesList",value:function(e,t){return KS(0,t).map((function(t){return Q_(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,l=e.isActiveView,r=e.max,a=e.min,o=e.selectedDate,s=e.selectionRange,u=void 0===s?NS:s,c=e.viewDate,h=e.isDateDisabled,d=void 0===h?function(){return!1}:h;if(!c)return vT;var f=$_(c),p=T_(f),v=Z_(c),g=T_(v),m=$S(o,a,r),y=vw(f,this._intlService.firstDay(),-1),b=KS(0,7),k=tT();return KS(0,6).map((function(e){var s=K_(y,7*e);return b.map((function(e){var c=t.normalize(K_(s,e),a,r),h=T_(c);if(h<p||h>g||c<a||c>r)return null;var y=t.isEqual(c,u.start),b=t.isEqual(c,u.end),_=!y&&!b&&sT(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:l&&m&&t.isEqual(c,o),isWeekend:t.isWeekend(c),isRangeStart:y,isRangeMid:_,isRangeEnd:b,isRangeSplitStart:_&&t.isEqual(c,f),isRangeSplitEnd:_&&t.isEqual(c,v),isToday:t.isEqual(c,k),title:t.cellTitle(c),value:c,isDisabled:d(c)}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&T_(e).getTime()===T_(t).getTime()}},{key:"isInArray",value:function(e,t){if(0===t.length)return!1;var n=this.beginningOfPeriod(t[0]),i=this.beginningOfPeriod(Q_(t[t.length-1],1));return n<=e&&e<i}},{key:"isInRange",value:function(e,t,n){var i=T_(e),l=!t||T_(t)<=i,r=!n||i<=T_(n);return l&&r}},{key:"beginningOfPeriod",value:function(e){return e?S_(e.getFullYear(),e.getMonth(),1):e}},{key:"isRangeStart",value:function(e){return!e.getMonth()}},{key:"move",value:function(e,t){var n=gT[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return this._intlService.formatDate(e,"D")}},{key:"navigationTitle",value:function(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}},{key:"title",value:function(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}},{key:"rowLength",value:function(e){return 7+(e?1:0)}},{key:"skip",value:function(e,t){return gw(t,e)}},{key:"total",value:function(e,t){return gw(e,t)+1}},{key:"value",value:function(e){return e?e.getDate().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?Q_(e,-1*(n-i)):e}},{key:"isWeekend",value:function(e){var t=this._intlService.weekendRange(),n=t.start,i=t.end,l=e.getDay();return i<n?l<=i||n<=l:n<=l&&l<=i}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?x_(t):e>n&&this.isEqual(e,n)?x_(n):e}},{key:"wideMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}]),e}(),yT=[[]],bT=(_defineProperty2(o={},RS.Left,(function(e){return Q_(e,-1)})),_defineProperty2(o,RS.Up,(function(e){return Q_(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t})),_defineProperty2(o,RS.Right,(function(e){return Q_(e,1)})),_defineProperty2(o,RS.Down,(function(e){return Q_(e,(t=e.getMonth())<7?5:t<10?7:2);var t})),_defineProperty2(o,RS.PrevView,(function(e){return iw(e,-1)})),_defineProperty2(o,RS.NextView,(function(e){return iw(e,1)})),_defineProperty2(o,RS.FirstInView,(function(e){return yw(e)})),_defineProperty2(o,RS.LastInView,(function(e){return bw(e)})),o),kT=function(){function e(t){_classCallCheck2(this,e),this._intlService=t}return _createClass2(e,[{key:"addToDate",value:function(e,t){return iw(e,t)}},{key:"datesList",value:function(e,t){return KS(0,t).map((function(t){return iw(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,l=e.isActiveView,r=e.max,a=e.min,o=e.selectedDate,s=e.selectionRange,u=void 0===s?NS:s,c=e.viewDate;if(!c)return yT;var h=this.abbrMonthNames(),d=$S(o,a,r),f=yw(c),p=bw(c),v=f.getFullYear(),g=KS(0,5),m=tT();return KS(0,3).map((function(e){var s=Q_(f,5*e);return g.map((function(e){var c=t.normalize(Q_(s,e),a,r),g=v<c.getFullYear();if(!t.isInRange(c,a,r)||g)return null;var y=t.isEqual(c,u.start),b=t.isEqual(c,u.end),k=!y&&!b&&sT(c,u);return{formattedValue:h[c.getMonth()],id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:l&&d&&t.isEqual(c,o),isWeekend:!1,isRangeStart:y,isRangeMid:k,isRangeEnd:b,isRangeSplitEnd:k&&t.isEqual(c,p),isRangeSplitStart:k&&t.isEqual(c,f),isToday:t.isEqual(c,m),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}},{key:"isInRange",value:function(e,t,n){var i=S_(e.getFullYear(),e.getMonth(),1),l=!t||S_(t.getFullYear(),t.getMonth(),1)<=i,r=!n||i<=S_(n.getFullYear(),n.getMonth(),1);return l&&r}},{key:"beginningOfPeriod",value:function(e){return e?S_(e.getFullYear(),0,1):e}},{key:"isRangeStart",value:function(e){return e.getFullYear()%10==0}},{key:"move",value:function(e,t){var n=bT[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}},{key:"navigationTitle",value:function(e){return this.title(e)}},{key:"title",value:function(e){return e?e.getFullYear().toString():""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return kw(t,e)}},{key:"total",value:function(e,t){return kw(e,t)+1}},{key:"value",value:function(e){return e?this.abbrMonthNames()[e.getMonth()]:""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?iw(e,-1*(n-i)):e}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?x_(t):e>n&&this.isEqual(e,n)?x_(n):e}}]),e}(),_T=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({}),wT=(_defineProperty2(s={},_T.month,mT),_defineProperty2(s,_T.year,kT),_defineProperty2(s,_T.decade,pT),_defineProperty2(s,_T.century,hT),s),xT=function(){function e(t){_classCallCheck2(this,e),this.injector=t,this.viewChanged=new dr,this.bottom=_T.month,this.top=_T.century}return _createClass2(e,[{key:"configure",value:function(e,t){this.bottom=e,this.top=t}},{key:"service",value:function(e){var t=wT[e];return t?this.injector.get(t):null}},{key:"moveDown",value:function(e){this.move(e,-1)}},{key:"moveUp",value:function(e){this.move(e,1)}},{key:"moveToBottom",value:function(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}},{key:"canMoveDown",value:function(e){return this.bottom<e}},{key:"canMoveUp",value:function(e){return e<this.top}},{key:"clamp",value:function(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}},{key:"move",value:function(e,t){var n=this.clamp(function(e,t){var n=_T[_T[e+t]];return void 0!==n?n:e}(e,t));n!==e&&this.viewChanged.emit({view:n})}}]),e}(),CT=rT("div"),ST=rT("ul"),TT=rT("li"),PT=rT("td"),MT=rT("th"),AT=rT("tr"),IT=rT("tbody"),ET=rT("thead"),DT=rT("table"),OT=function(e,t){return new Array(e).fill("1").map(t)},FT=function(e){return CT(e,"k-content k-scrollable")},RT=function(){return Bv?(_S||(_S=CT([FT([ST([TT("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),_S):null},NT=function(e,t,n){var i,l=e.cells,r=e.rows;return function(){return Bv?(i||(i=function(e,t,n){return CT([CT('\n            <span class="k-calendar-title">March 2017</span>\n            <span class="k-calendar-today">TODAY</span>\n        ',"k-calendar-header"),n?DT([ET([AT([MT("MO")])])],"k-calendar-weekdays"):null,FT([e,e])],t,{left:"-10000px",position:"absolute"})}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return DT([IT([AT([MT("1")])].concat(OT(e,(function(){return AT(OT(t,(function(e){return PT('<span class="k-link">'.concat(e,"</span>"))})))}))))])}(r,l),t,n)),i):null}},LT=function(e){return e.querySelector(".k-scrollable")},BT=function(e){return LT(e).classList.add("k-scrollable-horizontal"),e},VT=NT({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),zT=NT({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),jT=NT({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),HT=function(e){return parseFloat(window.getComputedStyle(e).height)||e.offsetHeight},WT=function(e){var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},UT=function(e){return e.querySelector("tbody")},YT=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ensureHeights",value:function(){void 0===this.calendarHeight&&this.calculateHeights()}},{key:"calculateHeights",value:function(e){var t=this;Bv()&&(this.hostContainer=e,this.batch(VT(),(function(e){var n=UT(e);t.calendarHeight=HT(e),t.monthViewHeight=HT(n),t.headerHeight=HT(n.children[0]),t.scrollableContentHeight=HT(LT(e))})),this.batch(BT(VT()),(function(e){var n=UT(e);t.calendarWidth=WT(e),t.monthViewWidth=WT(n),t.scrollableContentWidth=WT(LT(e))})),this.batch(zT(),(function(e){t.yearViewHeight=HT(UT(e)),t.scrollableYearContentHeight=HT(LT(e))})),this.batch(BT(zT()),(function(e){t.yearViewWidth=WT(UT(e))})),this.batch(jT(),(function(e){t.decadeViewHeight=HT(UT(e)),t.centuryViewHeight=t.decadeViewHeight})),this.batch(BT(jT()),(function(e){t.decadeViewWidth=WT(UT(e)),t.centuryViewWidth=t.decadeViewWidth})),this.batch(RT(),(function(e){t.navigationItemHeight=HT(e.querySelector("li"))})))}},{key:"viewHeight",value:function(e){return this.viewDimension(e,"height")}},{key:"viewWidth",value:function(e){return this.viewDimension(e,"width")}},{key:"viewDimension",value:function(e,t){var n="height"===t?"ViewHeight":"ViewWidth";switch(e){case _T.month:return this["month".concat(n)];case _T.year:return this["year".concat(n)];case _T.decade:return this["decade".concat(n)];case _T.century:return this["century".concat(n)];default:return 1}}},{key:"batch",value:function(e,t){var n=this.hostContainer||document.body,i=n.appendChild(e);t(i),n.removeChild(i)}}]),e}(),qT=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck2(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var l=0,r=0;r<t;r++)this.offsets.push(l),l+=n,this.heights.push(n)}return _createClass2(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t)}}]),e}(),GT=function(e){return Math.max(e,0)},XT=function e(t){_classCallCheck2(this,e),this.offset=t},KT=function e(t){_classCallCheck2(this,e),this.skip=t},$T=function(){function e(t){_classCallCheck2(this,e),this.scrollObservable=t,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}return _createClass2(e,[{key:"create",value:function(e,t,n,i){var l=this,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=r,this.bottomOffset=a,this.direction=o;var s=new Wp(2),u=this.rowsForHeight(r),c=GT(t-u);return s.next(new XT(this.rowOffset(c))),u&&s.next(new KT(c)),this.subscription=F.create((function(e){l.unsubscribe(),l.scrollSubscription=l.scrollObservable.subscribe((function(t){return l.onScroll(t,e)}))})).subscribe((function(e){return s.next(e)})),s}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollLeft,i=e.scrollTop,l=e.offsetHeight,r=e.offsetWidth,a="vertical"===this.direction?i:n,o="vertical"===this.direction?l:r;if(this.lastScroll!==a){var s=this.lastScroll>=a;this.lastScroll=a;var u=this.rowHeightService.index(GT(a-this.topOffset)),c=this.rowHeightService.index(GT(a+o-this.bottomOffset));if(!s&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=u,t.next(new XT(this.rowOffset(u))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new KT(this.firstLoaded))),s&&u<=this.firstLoaded){var h=Math.floor(.3*this.take);this.firstLoaded=GT(u-h),t.next(new XT(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new KT(this.firstLoaded))}}}},{key:"rowOffset",value:function(e){return this.rowHeightService.offset(e)+this.topOffset}},{key:"rowsForHeight",value:function(e){return Math.ceil(e/this.rowHeightService.height(0))}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}]),e}(),ZT=new qe("dateinputs-scroll-service-factory");function QT(e){return new $T(e)}var JT=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({}),eP=(_defineProperty2(u={},JT.Forward,(function(e){return function(t){return t+e}})),_defineProperty2(u,JT.Backward,(function(e){return function(t){return t-e}})),u),tP=(_defineProperty2(c={},JT.Forward,(function(e){return function(t){return Math.min(t,e)}})),_defineProperty2(c,JT.Backward,(function(e){return function(t){return Math.max(t,e)}})),c),nP=(_defineProperty2(h={},JT.Forward,(function(e){return function(t){return t<e}})),_defineProperty2(h,JT.Backward,(function(e){return function(t){return t>e}})),h),iP=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.container=n,this.renderer=i,this.zone=l,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new dr,this.pageChange=new dr,this.scrollChange=new dr,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new j,this.scroller=t(this.dispatcher)}return _createClass2(e,[{key:"ngOnChanges",value:function(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}},{key:"ngOnInit",value:function(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.containerScrollSubscription=e.scroll$().pipe(te((function(e){return e.target}))).subscribe((function(t){e.dispatcher.next(t),e.emitActiveIndex()}))}))}},{key:"ngOnDestroy",value:function(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}},{key:"getContainerProperty",value:function(e){return this.container.nativeElement[e]}},{key:"activeIndex",value:function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}},{key:"itemIndex",value:function(e){return this.rowHeightService.index(e)}},{key:"itemOffset",value:function(e){return this.rowHeightService.offset(e)}},{key:"isIndexVisible",value:function(e){if(!this.rowHeightService)return!1;var t=this.containerScrollPosition,n=t+this.containerOffsetSize,i=this.rowHeightService.offset(e),l=i+this.rowHeightService.height(e);return i>=t&&l<=n}},{key:"isListScrolled",value:function(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}},{key:"scrollTo",value:function(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}},{key:"scrollToIndex",value:function(e){var t=this;this.zone.runOutsideAngular((function(){t.resolvedPromise.then((function(){t.scrollTo(t.rowHeightService.offset(e))}))}))}},{key:"scrollToBottom",value:function(){this.scrollTo(this.totalSize)}},{key:"animateToIndex",value:function(e){var t=this;this.animationSubscription&&this.animationSubscription.unsubscribe();var n=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(n),l=this.scrollRange(n,i),r=l.start,a=l.end;if(r!==a){var o=this.scrollStep(r,a),s=eP[i](o),u=tP[i](a),c=nP[i](s(a));this.zone.runOutsideAngular((function(){t.animationSubscription=Yu(ju(r),cS(0,fS)).pipe(te((function(e){return e[0]})),Sc(s),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new pS(e,t))}}(c),te(u)).subscribe((function(e){return t.scrollTo(e)}))}))}}},{key:"scrollRange",value:function(e,t){var n=this.containerScrollPosition;if(parseInt(e,10)===parseInt(n,10))return{start:e,end:e};var i,l,r,a=this.containerMaxScroll(),o=t===JT.Backward?1:-1,s=(i=n,l=e,r=this.maxScrollDifference,Math.min(Math.abs(l-i),r)),u=Math.min(e,a);return{start:Math.min(Math.max(u+o*s,0),a),end:u}}},{key:"scrollStep",value:function(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}},{key:"scroll$",value:function(){return Bv()?Lv(this.container.nativeElement,"scroll"):Bu}},{key:"initServices",value:function(){var e=this;this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe((function(t){t instanceof KT?e.pageChange.emit(t):e.scrollChange.emit(t)}))}},{key:"createRowHeightService",value:function(){return new qT(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}},{key:"emitActiveIndex",value:function(){var e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}},{key:"containerMaxScroll",value:function(){return this.containerScrollSize-this.containerOffsetSize}},{key:"getContainerScrollDirection",value:function(e){return e<this.containerScrollPosition?JT.Backward:JT.Forward}},{key:"totalVertexLength",get:function(){var e="".concat(this.totalSize,"px");return"vertical"===this.direction?{height:e}:{width:e}}},{key:"containerOffsetSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}},{key:"containerScrollSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}},{key:"containerScrollPosition",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}},{key:"wrapperClasses",get:function(){return!0}},{key:"horizontalClass",get:function(){return"horizontal"===this.direction}}]),e}(),lP=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},rP=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},aP=30,oP=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.bus=t,this.dom=n,this.intl=i,this.cdr=l,this.renderer=r,this.min=new Date(BS),this.max=new Date(VS),this.focusedDate=new Date,this.valueChange=new dr,this.pageChange=new dr,this.dates=[],this.take=aP,this.indexToScroll=-1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.dom.ensureHeights();var e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.activeViewValue=_T[this.activeView];var t=JS(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(t,this.min),this.total=n,!i&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"handleDateChange",value:function(e){var t=lP(e.target,(function(e){return e.hasAttribute("data-date-index")}),this.list.nativeElement);if(t){var n=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(x_(this.dates[n]))}}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"intlChange",value:function(){this.activeView===_T.month&&this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}(),sP=5,uP=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.bus=t,this.cdr=n,this.intl=i,this.dom=l,this.renderer=r,this.isActive=!0,this.min=new Date(BS),this.max=new Date(VS),this.activeDateChange=new dr,this.valueChange=new dr,this.pageChange=new dr,this.dates=[],this.cols=[],this.weekNames=[],this.take=sP,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=aT(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;var t,n,i=aT(e,"activeView"),l=this.focusedDate,r=JS(this.service.viewDate(l,this.max,this.minViewsToRender),this.min,this.max),a=this.service.total(this.min,this.max),o=this.total&&this.total!==a||!this.service.isInArray(l,this.dates);this.skip=this.service.skip(r,this.min),this.total=a,this.animateToIndex=!i,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),o&&(this.dates=this.service.datesList(r,this.getTake(this.skip))),t=this.activeDate,n=l,t&&n&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()||(this.activeDate=x_(l));var s=aT(e,"focusedDate")||i;(o||s||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(l,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"setActiveDate",value:function(e){var t=this.service.addToDate(this.min,e);tw(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}},{key:"handleDateChange",value:function(e){this.valueChange.emit(e)}},{key:"isMonthView",value:function(){return this.activeView===_T.month}},{key:"isScrolled",value:function(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}},{key:"getBottomOffset",value:function(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}},{key:"getScrollableHeight",value:function(){return this.activeView===_T.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"getWeekNames",value:function(){var e=lT(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}},{key:"intlChange",value:function(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.isMonthView()},set:function(e){this.showWeekNumbers=e}},{key:"getComponentClass",get:function(){return!0}},{key:"getComponentMonthClass",get:function(){return this.activeView===_T.month}},{key:"getComponentYearClass",get:function(){return this.activeView===_T.year}},{key:"getComponentDecadeClass",get:function(){return this.activeView===_T.decade}},{key:"getComponentCenturyClass",get:function(){return this.activeView===_T.century}}]),e}(),cP={33:RS.PrevView,34:RS.NextView,35:RS.LastInView,36:RS.FirstInView,37:RS.Left,38:RS.Up,39:RS.Right,40:RS.Down,"meta+38":RS.UpperView,"meta+40":RS.LowerView},hP=function(){function e(t){_classCallCheck2(this,e),this.bus=t}return _createClass2(e,[{key:"action",value:function(e){return cP["".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode)]}},{key:"move",value:function(e,t,n){var i=this.bus.service(n);return i?t===RS.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),e):t===RS.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),e):i.move(e,t):e}}]),e}(),dP=function(){function e(t,n){_classCallCheck2(this,e),this.dom=t,this.zone=n}return _createClass2(e,[{key:"configure",value:function(e){var t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=function(e){return function(t){return Math.floor(t/e)}}(t),this.powerByMagnitude=function(e){return function(t){return t*e}}(t)}},{key:"sync",value:function(e,t){var n=this;this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular((function(){var i,l;n.navSubscription=e.scroll$().subscribe((function(e){l?l=!1:(i=!0,n.scrollSiblingOf(e.target))})),n.viewSubscription=t.scroll$().subscribe((function(e){i?i=!1:(l=!0,n.scrollSiblingOf(e.target))}))})))}},{key:"scrollSiblingOf",value:function(e){var t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}},{key:"siblingComponent",value:function(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}},{key:"calculateScroll",value:function(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}},{key:"destroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}]),e}(),fP=function e(){_classCallCheck2(this,e),this.onFocus=new dr,this.onBlur=new dr,this.sameDateSelected=new dr},pP=function(e){return function(t){return e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null}},vP=function(e){return function(t){return e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null}},gP=function(e){return e&&(!e.touched||e.control&&"blur"===e.control.updateOn)},mP=function(e){return e.preventDefault()},yP=function(e){return e.relatedTarget||document.activeElement},bP=function(e){return null!=e},kP=function(){return!1},_P=function(){function e(){_classCallCheck2(this,e),this.changes=new j,this.isDateDisabled=kP}return _createClass2(e,[{key:"initialize",value:function(e){if("function"==typeof e)this.isDateDisabled=function(t){return e(T_(t))};else if(i=e,Array.isArray(i)&&i.length>0&&i.every((function(e){return"number"==typeof e}))){var t=new Set(e);this.isDateDisabled=function(e){return t.has(e.getDay())}}else if(function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return e instanceof Date}))}(e)){var n=new Set(e.map((function(e){return T_(e).getTime()})));this.isDateDisabled=function(e){return n.has(T_(e).getTime())}}else this.isDateDisabled=kP,this.notifyInvalidInput(e);var i;this.notifyServiceChange()}},{key:"notifyInvalidInput",value:function(e){if(bP(e)&&xt())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check ".concat("https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/"," for more information."))}},{key:"notifyServiceChange",value:function(){this.changes.next()}}]),e}(),wP=function(e){return e?e.virtualization:null},xP=function(){function e(t,n,i,l,r,a,o,s,u,c,h){_classCallCheck2(this,e),this.bus=t,this.dom=n,this.element=i,this.navigator=l,this.renderer=r,this.cdr=a,this.ngZone=o,this.injector=s,this.scrollSyncService=u,this.disabledDatesService=c,this.pickerService=h,this.id=Hv(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=_T[_T.month],this.bottomView=_T[_T.month],this.topView=_T[_T.century],this.weekNumber=!1,this.activeViewChange=new dr,this.activeViewDateChange=new dr,this.valueChange=new dr,this.isActive=!1,this.cellUID=Hv(),this._min=new Date(BS),this._max=new Date(VS),this._focusedDate=tT(),this.onControlChange=nT,this.onControlTouched=nT,this.onValidatorChange=nT,this.minValidateFn=nT,this.maxValidateFn=nT,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(i.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe((function(t){var n=t.view;e.activeView=_T[n],e.emitEvent(e.activeViewChange,e.activeView),e.scrollSyncService.configure(n),e.detectChanges()})),this.control=this.injector.get(Qy,null),this.element&&this.ngZone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);var t=oT(e,"value")&&!oT(e,"focusedDate"),n=JS(x_(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=tw(this.focusedDate,n)?this.focusedDate:n,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?pP(this.min):nT,this.maxValidateFn=this.rangeValidation?vP(this.max):nT,this.onValidatorChange())}},{key:"ngAfterViewInit",value:function(){this.setAriaActivedescendant()}},{key:"ngAfterViewChecked",value:function(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(wP(this.navigationView),wP(this.monthView)))}},{key:"ngOnDestroy",value:function(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}},{key:"focus",value:function(){this.element&&this.element.nativeElement.focus()}},{key:"blur",value:function(){this.element&&this.element.nativeElement.blur()}},{key:"containsElement",value:function(e){var t=this;return Boolean(rP(e,(function(e){return e===t.element.nativeElement})))}},{key:"handleNavigation",value:function(e){this.disabled||(this.focusedDate=JS(x_(e)||this.focusedDate,this.min,this.max),this.detectChanges())}},{key:"onPageChange",value:function(){var e=this;Qr.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=re(this.resolvedPromise).subscribe((function(){e.detectChanges()})))}},{key:"handleDateChange",value:function(e){var t=this,n=this.bus.canMoveDown(this.activeViewEnum),i=!n&&tw(e,this.value);this.focusedDate=x_(e)||this.focusedDate,this.disabled||(i?this.emitSameDate():n?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run((function(){t.value=x_(e),t.onControlChange(x_(e)),t.valueChange.emit(x_(e)),t.cdr.markForCheck()})))}},{key:"writeValue",value:function(e){this.verifyValue(e),this.focusedDate=JS(x_(e)||this.focusedDate,this.min,this.max),this.value=x_(e),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"activeCellTemplate",value:function(){switch(this.activeViewEnum){case _T.month:return this.monthCellTemplate||this.cellTemplate;case _T.year:return this.yearCellTemplate;case _T.decade:return this.decadeCellTemplate;case _T.century:return this.centuryCellTemplate;default:return null}}},{key:"emitEvent",value:function(e,t){jv(e)&&this.ngZone.run((function(){e.emit(t)}))}},{key:"setClasses",value:function(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}},{key:"verifyChanges",value:function(){if(xt()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min"," and ").concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max","."));if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview"," and ").concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview","."))}}},{key:"verifyValue",value:function(e){if(xt()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json"," for possible resolution."))}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",mP),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}},{key:"emitBlur",value:function(e){this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"emitFocus",value:function(){this.pickerService&&this.pickerService.onFocus.emit()}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,!this.pickerService&&gP(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e)})):(this.emitBlur(e),this.detectChanges())}},{key:"handleFocus",value:function(){this.isActive=!0,Qr.isInAngularZone()||this.detectChanges(),this.emitFocus()}},{key:"handleClick",value:function(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=x_(this.focusedDate),this.detectChanges()),this.focus())}},{key:"handleKeydown",value:function(e){var t=-1!==[ng.ArrowUp,ng.ArrowRight,ng.ArrowDown,ng.ArrowLeft].indexOf(e.keyCode);if(!(bP(this.pickerService)&&t&&e.altKey)){var n=JS(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);tw(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),e.preventDefault()),e.keyCode===ng.Enter&&this.handleDateChange(this.focusedDate)}}},{key:"detectChanges",value:function(){this.destroyed||this.cdr.detectChanges()}},{key:"emitSameDate",value:function(){this.pickerService&&this.pickerService.sameDateSelected.emit()}},{key:"setAriaActivedescendant",value:function(){if(bP(this.element)){var e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}},{key:"focusedDate",set:function(e){this._focusedDate=e||tT(),this.setAriaActivedescendant()},get:function(){return this._focusedDate}},{key:"min",set:function(e){this._min=e||new Date(BS)},get:function(){return this._min}},{key:"max",set:function(e){this._max=e||new Date(VS)},get:function(){return this._max}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this._value=x_(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this.disabledDatesService.initialize(e)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"activeViewEnum",get:function(){var e=_T[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}},{key:"bottomViewEnum",get:function(){return _T[this.bottomView]}},{key:"topViewEnum",get:function(){return _T[this.topView]}},{key:"widgetId",get:function(){return this.id}},{key:"widgetRole",get:function(){return"grid"}},{key:"calendarTabIndex",get:function(){return this.disabled?void 0:this.tabIndex}},{key:"ariaDisabled",get:function(){return this.disabled}}]),e}(),CP=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({}),SP=/year|month|<day>/,TP=/hour|minute|second|millisecond/,PP=/d|M|H|h|m|s/,MP=function(e){return e?e.getTime():null},AP=function(e){return e.replace(/^0*/,"")},IP=function e(){_classCallCheck2(this,e),this.symbols=""},EP=function(){function e(t,n,i,l){if(_classCallCheck2(this,e),this.intl=t,this.formatPlaceholder=n,this.format=i,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=T_(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),l)this.value=x_(l);else{this.value=T_(new Date);for(var r=this.dateFormatString(this.value,this.format).symbols,a=0;a<r.length;a++)this.setExisting(r[a],!1)}}return _createClass2(e,[{key:"hasValue",value:function(){var e=this;return this.intl.splitDateFormat(this.format).reduce((function(t,n){return t||"literal"!==n.type&&"dayperiod"!==n.type&&e.getExisting(n.pattern[0])}),!1)}},{key:"getDateObject",value:function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return x_(this.value)}},{key:"getTextAndFormat",value:function(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}},{key:"getExisting",value:function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}},{key:"modifyPart",value:function(e,t){var n=x_(this.value);switch(e){case"y":n.setFullYear(n.getFullYear()+t);break;case"M":n=Q_(this.value,t);break;case"d":case"E":n.setDate(n.getDate()+t);break;case"h":case"H":n.setHours(n.getHours()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"s":n.setSeconds(n.getSeconds()+t);break;case"a":n.setHours(n.getHours()+12*t)}n.getFullYear()>0&&(this.setExisting(e,!0),this.value=n)}},{key:"parsePart",value:function(e,t,n){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};for(var i=this.intl.formatDate(this.value,this.format),l=this.dateFormatString(this.value,this.format),r=l.symbols,a=!1,o="",s="",u="",c=0;c<i.length;c++)r[c]===e?(s+=this.getExisting(e)?i[c]:"0",a=!0):a?u+=i[c]:o+=i[c];var h=s.length-3,d=null,f=this.matchMonth(t),p=this.matchDayPeriod(t,e),v="0"===t,g=(this.leadingZero||{})[e]||0;v?0!==parseInt(n?t:s+t,10)||this.isAbbrMonth(l.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(var m=Math.max(0,h);m<=s.length;m++){var y=n?t:s.substring(m)+t,b=parseInt(y,10);if(!(d=this.intl.parseDate(o+y+u,this.format))&&!isNaN(b)&&!isNaN(parseInt(t,10))){if("M"===e&&!f){var k=b-1;k>-1&&k<12&&((d=x_(this.value)).setMonth(k),d.getMonth()!==k&&(d=Z_(Q_(d,-1))))}"y"===e&&(d=S_(parseInt(y,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&d.getDate()!==this.value.getDate()&&(d=Z_(Q_(d,-1))))}if(d){var _=this.partPattern(l.partMap,e).pattern,w=this.intl.parseDate("".concat(o).concat(this.peek(y,_)).concat(u),this.format),x=this.patternLength(_)||_.length,C=g+(AP(y)||t).length>=x,S=null===w||C;return this.value=d,this.setExisting(e,!0),{value:this.value,switchToNext:S}}}return f&&(d=this.intl.parseDate(o+f+u,this.format))?(this.value=d,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(d=this.intl.parseDate(o+p+u,this.format))?(this.value=d,{value:this.value,switchToNext:!0}):(v&&this.setExisting(e,!1),{value:null,switchToNext:!1})}},{key:"resetLeadingZero",value:function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e}},{key:"setLeadingZero",value:function(e){this.leadingZero=e}},{key:"incrementLeadingZero",value:function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}},{key:"isAbbrMonth",value:function(e,t){var n=this.partPattern(e,t);return"month"===n.type&&n.names}},{key:"partPattern",value:function(e,t){return e.filter((function(e){return-1!==e.pattern.indexOf(t)}))[0]}},{key:"peek",value:function(e,t){var n=AP(e)+"0";return function(e){return new Array(Math.max(e,0)).fill("0").join("")}(t.length-n.length)+n}},{key:"matchMonth",value:function(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(e,t){var n=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"allDayPeriods",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"patternLength",value:function(e){return"y"===e[0]?4:PP.test(e)?2:0}},{key:"dateFormatString",value:function(e,t){for(var n=this.intl.splitDateFormat(t),i=[],l=[],r=0;r<n.length;r++)for(var a=this.intl.formatDate(e,{pattern:n[r].pattern}).length;a>0;)i.push(this.symbols[n[r].pattern[0]]||"_"),l.push(n[r]),a--;var o=new IP;return o.symbols=i.join(""),o.partMap=l,o}},{key:"merge",value:function(e,t){for(var n="",i="",l=t.symbols,r=l.length-1;r>=0;r--)if(-1===this.knownParts.indexOf(l[r])||this.getExisting(l[r]))n=e[r]+n,i=l[r]+i;else{for(var a=l[r];r>=0&&a===l[r];)r--;for(r++,n=this.leadingZero&&this.leadingZero[a]?"0"+n:this.dateFieldName(t.partMap[r])+n;i.length<n.length;)i=l[r]+i}return[n,i]}},{key:"dateFieldName",value:function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}]),e}(),DP=function(){function e(t,n,i,l,r,a,o,s){_classCallCheck2(this,e),this.cdr=t,this.intl=n,this.renderer=i,this.element=l,this.ngZone=r,this.injector=a,this.localization=o,this.pickerService=s,this.focusableId="k-".concat(Hv()),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new dr,this.valueUpdate=new dr,this.onFocus=new dr,this.onBlur=new dr,this.arrow=CP,this.arrowDirection=CP.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidateFn=nT,this.maxValidateFn=nT,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=nT,this.onControlTouched=nT,this.onValidatorChange=nT,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}return _createClass2(e,[{key:"isEmpty",value:function(){return!this.currentValue||!String(this.currentValue).trim()}},{key:"containsElement",value:function(e){var t=this;return Boolean(rP(e,(function(e){return e===t.element.nativeElement})))}},{key:"ngOnChanges",value:function(e){this.verifyRange(),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?pP(this.min):nT,this.maxValidateFn=this.rangeValidation?vP(this.max):nT,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());var t=this.kendoDate&&tw(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach((function(e){return e()}))}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"ngOnInit",value:function(){var e=this;this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.control=this.injector.get(Qy,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=x_(e),this.updateElementValue(this.isActive)}},{key:"triggerChange",value:function(){var e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=x_(e),this.notify())}},{key:"notify",value:function(){var e=this;this.ngZone.run((function(){e.onControlChange(x_(e.value)),e.valueChange.emit(x_(e.value))}))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"focus",value:function(){var e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}},{key:"blur",value:function(){var e=this.inputElement;e&&e.blur()}},{key:"handleButtonClick",value:function(e){this.arrowDirection=CP.None,this.modifyDateSegmentValue(e)}},{key:"modifyDateSegmentValue",value:function(e){var t=this.caret(),n=this.currentFormat[t[0]];this.kendoDate.modifyPart(n,e*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n)}},{key:"switchDateSegment",value:function(e){var t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;for(var n=this.currentFormat[t[0]],i=t[0]+e;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=e;if("_"===this.currentFormat[i])return!1;for(var l=i;l>=0&&l<this.currentFormat.length&&this.currentFormat[l]===this.currentFormat[i];)l+=e;return i>l&&(l+1!==t[0]||i+1!==t[1])?(this.caret(l+1,i+1),this.resetSegmentValue=!0,!0):i<l&&(i!==t[0]||l!==t[1])&&(this.caret(i,l),this.resetSegmentValue=!0,!0)}},{key:"selectDateSegment",value:function(e){for(var t=-1,n=0,i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===e&&(n=i+1,-1===t&&(t=i));t<0&&(t=0),this.caret(0,0),this.caret(t,n)}},{key:"handleClick",value:function(){this.hasMousedown=!1,this.isActive&&this.selectNearestSegment(this.caret()[0])}},{key:"handleDragAndDrop",value:function(e){e.preventDefault()}},{key:"handleMousedown",value:function(){this.hasMousedown=!0}},{key:"handleFocus",value:function(e){var t=this;this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,jv(this.onFocus)?this.ngZone.run((function(){t.emitFocus(e)})):this.emitFocus(e)}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),jv(this.onBlur)||gP(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e)})):this.emitBlur(e)}},{key:"getKendoDate",value:function(e){var t=(this.kendoDate||{}||null).leadingZero,n=new EP(this.intl,this.formatPlaceholder,this.format,e);return n.setLeadingZero(this.isActive?t:null),n}},{key:"dateSymbolMap",value:function(){return this.intl.splitDateFormat(this.format).reduce((function(e,t){return e[t.pattern[0]]=t.type,e}),{})}},{key:"updateElementValue",value:function(e){var t=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&null!=this.placeholder&&!this.kendoDate.hasValue(),l=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(l,"value",this.currentValue),l.placeholder!==this.placeholder&&this.renderer.setProperty(l,"placeholder",this.placeholder);var r=this.kendoDate.getDateObject();this.ariaValueNow=MP(r),this.ariaValueText=this.intl.formatDate(r,this.format),e&&this.selectNearestSegment(t)}},{key:"caret",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=void 0!==e,i=[e,e],l=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==l.selectionStart&&(n&&(Bv()&&document.activeElement!==l&&l.focus(),l.setSelectionRange(e,t)),i=[l.selectionStart,l.selectionEnd])}catch(r){i=[]}return i}}},{key:"selectNearestSegment",value:function(e){for(var t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}},{key:"verifyRange",value:function(){if(xt()&&!QS(this.min,this.max))throw new Error("The max value should be bigger than the min. See ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min"," and ").concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max","."))}},{key:"verifyValue",value:function(e){if(xt()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json"," for possible resolution."))}},{key:"putDateInRange",value:function(){var e=this.kendoDate.getDateObject(),t=JS(e,this.min,this.max);this.autoCorrect&&!tw(e,t)&&(this.kendoDate=this.getKendoDate(t))}},{key:"updateFormatSections",value:function(){this.formatSections=this.intl.splitDateFormat(this.format).reduce((function(e,t){var n=e.date,i=e.time;return{date:n||SP.test(t.type),time:i||TP.test(t.type)}}),{date:!1,time:!1})}},{key:"intlChange",value:function(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}},{key:"updateOnPaste",value:function(){var e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}},{key:"handleMouseWheel",value:function(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}},{key:"handlePaste",value:function(){this.paste=!0}},{key:"handleKeydown",value:function(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==ng.Tab)if(e.keyCode!==ng.Backspace){switch(e.keyCode){case ng.ArrowDown:this.modifyDateSegmentValue(-1);break;case ng.ArrowUp:this.modifyDateSegmentValue(1);break;case ng.ArrowRight:this.switchDateSegment(1);break;case ng.ArrowLeft:this.switchDateSegment(-1);break;case ng.Home:this.selectNearestSegment(0);break;case ng.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}},{key:"handleInput",value:function(){if(!this.disabled&&!this.readonly){if(this.paste)return this.updateOnPaste(),void(this.paste=!1);var e=function(e,t,n,i){var l=i+e.length-n.length,r=e[l],a=e.substring(0,i+e.length-n.length),o=n.substring(0,i),s=[];if(a===o&&i>0)return s.push([t[i-1],o[i-1]]),s;if(0===a.indexOf(o)&&(0===o.length||t[o.length-1]!==t[o.length])){var u="";1===o.length&&s.push([t[0],o[0]]);for(var c=o.length;c<a.length;c++)t[c]!==u&&"_"!==t[c]&&s.push([u=t[c],""]);return s}if(0===o.indexOf(a)||"_"===t[i-1]){for(var h=t[0],d=Math.max(0,a.length-1);d<t.length;d++)if("_"!==t[d]){h=t[d];break}return[[h,o[i-1]]]}return" "===o[o.length-1]||o[o.length-1]===r&&"_"===t[l]?[[t[i-1],"_"]]:[[t[i-1],o[i-1]]]}(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1],n=!1;if(!t){for(var i=0;i<e.length;i++)n=this.kendoDate.parsePart(e[i][0],e[i][1],this.resetSegmentValue).switchToNext;var l=this.kendoDate.getDateObject();this.value&&l&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(US(this.value,l)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(n||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}}},{key:"emitFocus",value:function(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}},{key:"emitBlur",value:function(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"max",set:function(e){this._max=e,this.ariaValueMax=MP(e)},get:function(){return this._max}},{key:"min",set:function(e){this._min=e,this.ariaValueMin=MP(e)},get:function(){return this._min}},{key:"value",set:function(e){this.verifyValue(e),this.autoCorrect&&!$S(e,this.min,this.max)||(this._value=x_(e),this.valueUpdate.emit(x_(e)))},get:function(){return this._value}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputElement",get:function(){return this.dateInput?this.dateInput.nativeElement:null}},{key:"inputValue",get:function(){return(this.inputElement||{}).value||""}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrap){var t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}}]),e}(),OP=function(){function e(){_classCallCheck2(this,e),this.prevented=!1}return _createClass2(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),FP=new qe("dateinputs-touch-enabled"),RP=function(){function e(t,n,i,l,r,a,o,s,u,c){_classCallCheck2(this,e),this.zone=t,this.localization=n,this.cdr=i,this.popupService=l,this.element=r,this.renderer=a,this.injector=o,this.pickerService=s,this.disabledDatesService=u,this.touchEnabled=c,this.focusableId="k-".concat(Hv()),this.activeView=_T[_T.month],this.bottomView=_T[_T.month],this.topView=_T[_T.century],this.disabled=!1,this.readonly=!1,this.navigation=!0,this.min=x_(BS),this.max=x_(VS),this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new dr,this.onFocus=new dr,this.onBlur=new dr,this.open=new dr,this.close=new dr,this.popupUID=Hv(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=nT,this.onControlTouched=nT,this.onValidatorChange=nT,this.minValidateFn=nT,this.maxValidateFn=nT,this.disabledDatesValidateFn=nT,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this)))}return _createClass2(e,[{key:"isEmpty",value:function(){return!this.value&&this.input.isEmpty()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(){return e.cdr.markForCheck()})),this.control=this.injector.get(Qy,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"ngOnChanges",value:function(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates)&&(this.minValidateFn=this.rangeValidation?pP(this.min):nT,this.maxValidateFn=this.rangeValidation?vP(this.max):nT,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,function(e){return t&&e.value&&t(e.value)?{disabledDate:!0}:null}):nT,this.onValidatorChange())}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerSubscriptions.unsubscribe()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.value=x_(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){(this.calendar||this.input).blur()}},{key:"toggle",value:function(e){var t=this;this.disabled||this.readonly||this.resolvedPromise.then((function(){t._toggle(void 0===e?!t.show:e)}))}},{key:"handleIconClick",value:function(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}},{key:"handleMousedown",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(x_(e)),this.valueChange.emit(x_(e))}},{key:"handleInputChange",value:function(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}},{key:"mergeTime",value:function(e){return this.value&&e?US(e,this.value):e}},{key:"handleKeydown",value:function(e){var t=e.altKey,n=e.keyCode;n===ng.Escape&&(this.show=!1),t&&(n!==ng.ArrowDown||this.show||(this.show=!0),n===ng.ArrowUp&&(this.show=!1)),n===ng.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}},{key:"togglePopup",value:function(e){var t=new OP;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}},{key:"_toggle",value:function(e){var t=this;if(this._show=e,this.popupRef&&(this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()),this._show){var n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:n},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:n},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.show=!1}))}}},{key:"focusInput",value:function(){this.touchEnabled||this.input.focus()}},{key:"toggleFocus",value:function(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}},{key:"verifySettings",value:function(){if(xt()&&!QS(this.min,this.max))throw new Error("The max value should be bigger than the min. See ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min"," and ").concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max","."))}},{key:"verifyValue",value:function(e){if(xt()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check ".concat("http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json"," for possible resolution."))}},{key:"bindEvents",value:function(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),iT()&&(this.windowBlurSubscription=Lv(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}},{key:"handleFocus",value:function(){var e=this;this.isActive||(this.isActive=!0,jv(this.onFocus)&&this.zone.run((function(){e.onFocus.emit()})))}},{key:"handleWindowBlur",value:function(){this.isOpen&&(this.show=!1)}},{key:"handleBlur",value:function(e){var t=this,n=e&&yP(e);n&&(this.input.containsElement(n)||this.calendar&&this.calendar.containsElement(n))||(jv(this.onBlur)||this.show&&jv(this.close)||gP(this.control)?this.zone.run((function(){t.blurComponent()})):this.blurComponent())}},{key:"blurComponent",value:function(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}},{key:"handleSameSelection",value:function(){this.show&&(this.focusInput(),this.show=!1)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({},{animate:!0},e)},get:function(){return this._popupSettings}},{key:"value",set:function(e){this.verifyValue(e),this._value=x_(e)},get:function(){return this._value}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"disabledDates",set:function(e){this._disabledDates=e,this.disabledDatesService.initialize(e)},get:function(){return this._disabledDates}},{key:"wrapperClasses",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrapper){var t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"show",get:function(){return this._show},set:function(e){var t=this;e&&(this.disabled||this.readonly)||(e||this._show&&jv(this.close)?this.zone.run((function(){t.togglePopup(e)})):this.togglePopup(e))}},{key:"isOpen",get:function(){return this.show}},{key:"popupClasses",get:function(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"input",get:function(){return this.pickerService.input}},{key:"calendar",get:function(){return this.pickerService.calendar}}]),e}(),NP=new RegExp("hour|minute|second|dayperiod|literal"),LP=function(){function e(t,n,i,l,r,a,o,s,u,c){_classCallCheck2(this,e),this.zone=t,this.localization=n,this.cdr=i,this.popupService=l,this.element=r,this.renderer=a,this.injector=o,this.pickerService=s,this.intl=u,this.touchEnabled=c,this.focusableId="k-".concat(Hv()),this.disabled=!1,this.readonly=!1,this.format="t",this.placeholder=null,this.cancelButton=!0,this.nowButton=!0,this.tabindex=0,this.title="",this.rangeValidation=!0,this.valueChange=new dr,this.onFocus=new dr,this.onBlur=new dr,this.open=new dr,this.close=new dr,this.popupUID=Hv(),this.onControlChange=nT,this.onControlTouched=nT,this.onValidatorChange=nT,this.resolvedPromise=Promise.resolve(null),this.timeRangeValidateFn=nT,this._min=x_(zS),this._max=x_(jS),this._popupSettings={animate:!0},this._show=!1,this._steps={},this._value=null,this._active=!1,this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this)))}return _createClass2(e,[{key:"isEmpty",value:function(){return!this.value&&this.input.isEmpty()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(){return e.cdr.markForCheck()})),this.control=this.injector.get(Qy,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"ngOnChanges",value:function(e){var t,n;(e.min||e.max||e.rangeValidation)&&(this.timeRangeValidateFn=this.rangeValidation?(t=this.min,n=this.max,function(e){if(!t||!n||!e.value)return null;var i={timeRangeError:{maxValue:n,minValue:t,value:e.value}};return ZS(e.value,t,n)?null:i}):nT,this.onValidatorChange()),e.format&&this.verifyFormat()}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerSubscriptions.unsubscribe()}},{key:"handleKeydown",value:function(e){var t=e.altKey,n=e.keyCode;n!==ng.Escape?t&&(n===ng.ArrowUp&&(this.show=!1),n!==ng.ArrowDown||this.show||(this.show=!0)):this.show=!1}},{key:"writeValue",value:function(e){this.verifyValue(e),this.value=x_(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.timeRangeValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){(this.timeSelector||this.input).blur()}},{key:"toggle",value:function(e){var t=this;this.disabled||this.readonly||this.resolvedPromise.then((function(){t._toggle(void 0===e?!t.show:e)}))}},{key:"handleChange",value:function(e){var t=this;if(tw(this.value,e))return this.focusInput(),void(this.show=!1);this.value=x_(e),this.zone.run((function(){t.focusInput(),t.show=!1,t.onControlChange(x_(e)),t.valueChange.emit(x_(e))}))}},{key:"handleReject",value:function(){this.show=!1}},{key:"handleInputChange",value:function(e){var t=this.input.formatSections.date?e:this.mergeTime(e);this.handleChange(t)}},{key:"handleMousedown",value:function(e){e.preventDefault()}},{key:"handleIconClick",value:function(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show)}},{key:"normalizeTime",value:function(e){return US(LS,e)}},{key:"mergeTime",value:function(e){return this.value&&e?US(this.value,e):e}},{key:"togglePopup",value:function(e){var t=new OP;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}},{key:"_toggle",value:function(e){var t=this;if(this._show=e,this.cdr.markForCheck(),this.popupRef&&(this.popupRef.close(),this.popupRef=null),this._show){var n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:n},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:n},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.show=!1}))}}},{key:"focusInput",value:function(){this.touchEnabled||this.input.focus()}},{key:"toggleFocus",value:function(){this.isActive&&(this.show?(this.timeSelector||this.cdr.detectChanges(),this.isActive&&this.timeSelector.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}},{key:"verifyValue",value:function(e){if(xt()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check ".concat("https://www.telerik.com/kendo-angular-ui/components/dateinputs/timepicker/#toc-integration-with-json"," for possible resolution."))}},{key:"verifyFormat",value:function(){if(xt()&&this.intl.splitDateFormat(this.format).some((function(e){return!NP.test(e.type)})))throw new Error("Provided format is not supported. Supported specifiers are T|t|H|h|m|s|a. See ".concat("https://github.com/telerik/kendo-intl/blob/master/docs/date-formatting/index.md"))}},{key:"bindEvents",value:function(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),iT()&&(this.windowBlurSubscription=Lv(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}},{key:"handleWindowBlur",value:function(){this.isOpen&&(this.show=!1)}},{key:"handleFocus",value:function(){var e=this;this.isActive||(this.isActive=!0,jv(this.onFocus)&&this.zone.run((function(){e.onFocus.emit()})))}},{key:"handleBlur",value:function(e){var t=this,n=e&&yP(e);n&&(this.input.containsElement(n)||this.timeSelector&&this.timeSelector.containsElement(n))||(jv(this.onBlur)||this.show&&jv(this.close)||gP(this.control)?this.zone.run((function(){t.blurComponent()})):this.blurComponent())}},{key:"blurComponent",value:function(){this.isActive=!1,this.show=!1,this.onControlTouched(),this.onBlur.emit()}},{key:"min",set:function(e){this._min=x_(e||zS)},get:function(){return this._min}},{key:"max",set:function(e){this._max=x_(e||jS)},get:function(){return this._max}},{key:"steps",set:function(e){this._steps=e||{}},get:function(){return this._steps}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({},{animate:!0},e)},get:function(){return this._popupSettings}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"value",set:function(e){this.verifyValue(e),this._value=x_(e)},get:function(){return this._value}},{key:"wrapperClasses",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrapper){var t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"show",get:function(){return this._show},set:function(e){var t=this;e&&(this.disabled||this.readonly)||(e||this._show&&jv(this.close)?this.zone.run((function(){t.togglePopup(e)})):this.togglePopup(e))}},{key:"input",get:function(){return this.pickerService.input}},{key:"timeSelector",get:function(){return this.pickerService.timeSelector}},{key:"isOpen",get:function(){return this.show}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"popupClasses",get:function(){return["k-group","k-reset"].concat(this.popupSettings.popupClass||[])}}]),e}(),BP=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.$implicit=t,this.kForOf=n,this.index=i,this.count=l}return _createClass2(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),VP=function(){function e(t,n,i){_classCallCheck2(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._differ=null}return _createClass2(e,[{key:"ngOnChanges",value:function(e){if("kForOf"in e){var t=e.kForOf.currentValue;if(this._differ||!t)return;try{this._differ=this._differs.find(t).create(this.kForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((n=t).name||typeof n,"'."))}}var n}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(e){if(Bv()){var t=this._viewContainer.length,n=this.kForOf.length,i={};e.forEachOperation((function(e,t,n){null!==n&&(i[n]=e.item)}));for(var l=t;l<n;l++)this._viewContainer.createEmbeddedView(this._template,new BP(null,this.kForOf,-1,-1),l);for(var r=this._viewContainer.length;r>n;r--)this._viewContainer.remove(r-1);for(var a=0;a<this._viewContainer.length;a++){var o=this._viewContainer.get(a);o.context.index=a,o.context.count=length,o.context.$implicit=i[a]||null}}}},{key:"kForTemplate",set:function(e){e&&(this._template=e)}}]),e}(),zP=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.bus=t,this.cdr=n,this.localization=i,this.intl=l,this.disabledDatesService=r,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(BS),this.max=new Date(VS),this.rangeLength=1,this.today=new dr,this.subscriptions=new C}return _createClass2(e,[{key:"ngOnInit",value:function(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}},{key:"ngOnChanges",value:function(e){this.bus.service(this.activeView)&&(this.activeViewValue=_T[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"handleTodayClick",value:function(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(JS(tT(),this.min,this.max)))}},{key:"handleNavigation",value:function(){this.navigate&&this.bus.moveUp(this.activeView)}},{key:"intlChange",value:function(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}},{key:"l10nChange",value:function(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}},{key:"getTitle",value:function(){if(!this.currentDate)return"";var e=this.bus.service(this.activeView),t=this.rangeLength-1,n=e.title(this.currentDate),i=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(i,this.min,this.max)?n:"".concat(n," - ").concat(e.title(i))}},{key:"setTodayAvailability",value:function(){var e=tT(),t=$S(e,T_(this.min),T_(this.max)),n=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!n,this.cdr.markForCheck()}},{key:"getComponentClass",get:function(){return!0}}]),e}(),jP=function(){function e(t){_classCallCheck2(this,e),this.intl=t}return _createClass2(e,[{key:"getWeekNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=lT(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}]),e}(),HP=function(){function e(t,n,i,l,r,a,o,s){_classCallCheck2(this,e),this.bus=t,this.intl=n,this.cdr=i,this.weekService=l,this.element=r,this.zone=a,this.renderer=o,this.disabledDatesService=s,this.direction="vertical",this.isActive=!0,this.change=new dr,this.cellEnter=new dr,this.cellLeave=new dr,this.weekNames=[],this.colSpan=0,this.subscriptions=new C,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.element&&this.zone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.domEvents.forEach((function(e){return e()}))}},{key:"isHorizontal",value:function(){return"horizontal"===this.direction}},{key:"isMonthView",value:function(){return this.activeView===_T.month}},{key:"firstDate",value:function(e){var t=this.firstWeekDateContext(e);return t?t.value:null}},{key:"getWeekNumber",value:function(e){return this.weekNumber?ww(e,this.intl.firstDay()):null}},{key:"getWeekNumberContext",value:function(e){var t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;var n=ww(t.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:x_(t.value)}}},{key:"getStyles",value:function(e){var t,n=e.isRangeEnd,i=e.isRangeStart;return t={"k-range-end":n,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":i,"k-state-active":"start"===this.activeRangeEnd&&i||"end"===this.activeRangeEnd&&n,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||i||n,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(t).reduce((function(e,n){return t[n]?e.concat(n):e}),[]).join(" ")}},{key:"tableCellIndex",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"firstWeekDateContext",value:function(e){if(!this.weekNumber)return null;for(var t=0,n=e[t];!n&&t<e.length;)n=e[++t];return n}},{key:"updateData",value:function(){var e=this.selectedDate||tT(),t=US(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}},{key:"intlChange",value:function(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}},{key:"disabledDatesChange",value:function(){this.updateData(),this.cdr.markForCheck()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}},{key:"clickHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index"),i=this.cellByIndex(n);i.isDisabled||this.change.emit(i.value)}}},{key:"mouseLeaveHandler",value:function(){this.currentCellIndex&&this.emitCellLeave()}},{key:"cellMouseoverHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==n&&this.emitCellLeave();var i=this.cellByIndex(n).value;this.cellEnter.emit(i),this.currentCellIndex=n}else this.currentCellIndex&&this.emitCellLeave()}},{key:"closestCell",value:function(e){return lP(e.target,(function(e){return e.hasAttribute("data-cell-index")}),this.element.nativeElement)}},{key:"emitCellLeave",value:function(){var e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}},{key:"cellByIndex",value:function(e){var t=_slicedToArray(e.split(":"),2),n=t[0],i=t[1];return this.data[n][i]}},{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.activeView===_T.month},set:function(e){this.showWeekNumbers=e}}]),e}(),WP=function e(){_classCallCheck2(this,e)},UP=function e(){_classCallCheck2(this,e)},YP=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),qP=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(YP),GP=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),_createClass2(t,[{key:"override",get:function(){return!0}}]),t}(YP),XP=function e(){_classCallCheck2(this,e)},KP=function e(){_classCallCheck2(this,e)},$P=function e(){_classCallCheck2(this,e)},ZP=function e(){_classCallCheck2(this,e)},QP=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),JP=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(QP),eM=function e(){_classCallCheck2(this,e)},tM=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),nM=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(tM),iM=function e(){_classCallCheck2(this,e)},lM=function e(){_classCallCheck2(this,e)},rM=rT("div"),aM=rT("ul"),oM=rT("li"),sM=Bv()?rM([rM([rM([aM([oM("<span>02</span>","k-item")],"k-reset")],"k-time-container k-content k-scrollable")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null,uM=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ensureHeights",value:function(){void 0===this.timeListHeight&&this.calculateHeights()}},{key:"calculateHeights",value:function(e){if(Bv()){var t=e&&e.querySelector(".k-time-list-container")||document.body,n=t.appendChild(sM);this.timeListHeight=n.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=n.querySelector("li").getBoundingClientRect().height,t.removeChild(n)}}},{key:"isActive",value:function(e){return!(!Bv()||!e)&&(e.nativeElement||e)===document.activeElement}}]),e}(),cM=function(e){return e%24},hM=function(e,t){return cM(24+e-t)},dM=function(e){return function(t,n){return n&&T_(t).getTime()!==T_(n).getTime()?qS(t,e):t}},fM=dM(0),pM=dM(23),vM=function(){function e(t){_classCallCheck2(this,e),this.intl=t,this.boundRange=!1,this.insertUndividedMax=!1}return _createClass2(e,[{key:"apply",value:function(e,t){return qS(e,t.getHours())}},{key:"configure",value:function(e){var t=this,n=e.boundRange,i=void 0===n?this.boundRange:n,l=e.insertUndividedMax,r=void 0===l?this.insertUndividedMax:l,a=e.min,o=void 0===a?this.min:a,s=e.max,u=void 0===s?this.max:s,c=e.part,h=e.step,d=void 0===h?this.step:h;this.boundRange=i,this.insertUndividedMax=r,this.toListItem=function(e){var n=qS(LS,e);return{text:t.intl.formatDate(n,c.pattern),value:n}},this.min=o,this.max=u,this.step=d}},{key:"data",value:function(e){var t,n,i=this,l=_slicedToArray(this.range(e),1)[0],r=(t=l,n=this.step,function(e){return cM(t+e*n)}),a=KS(0,this.countFromMin(e)).map((function(e){return i.toListItem(r(e))}));return this.addLast(a),this.addMissing(a,e),a}},{key:"isRangeChanged",value:function(e,t){return!tw(this.min,e)||!tw(this.max,t)}},{key:"limitRange",value:function(e,t,n){return this.boundRange?[fM(e,n),pM(t,n)]:[e,t]}},{key:"total",value:function(e){var t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,n=this.isMissing(e)?1:0;return this.countFromMin(e)+n+t}},{key:"selectedIndex",value:function(e){return Math.ceil(this.divideByStep(e))}},{key:"valueInList",value:function(e){return!e||this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e)}},{key:"addLast",value:function(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastHour(t))),e}},{key:"addMissing",value:function(e,t){if(this.valueInList(t))return e;var n=this.toListItem(t.getHours());return e.splice(this.selectedIndex(t),0,n),e}},{key:"countFromMin",value:function(e){var t=_slicedToArray(this.range(e),2),n=t[0],i=t[1];return Math.floor(hM(i,n)/this.step)+1}},{key:"isMissing",value:function(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}},{key:"isLastMissing",value:function(e){return this.isMissing(qS(this.max,this.lastHour(e)))}},{key:"divideByStep",value:function(e){return hM(e.getHours(),this.min.getHours())/this.step}},{key:"lastHour",value:function(e){return this.range(e)[1]}},{key:"range",value:function(e){var t=_slicedToArray(this.limitRange(this.min,this.max,e),2),n=t[0],i=t[1];return[n.getHours(),i.getHours()]}}]),e}(),gM=function(e){return e%60},mM=function(e,t){return gM(60+e-t)},yM=function(e){return function(t,n){return n&&t.getHours()!==n.getHours()?GS(t,e):t}},bM=yM(0),kM=yM(59),_M=function(){function e(t){_classCallCheck2(this,e),this.intl=t,this.insertUndividedMax=!1}return _createClass2(e,[{key:"apply",value:function(e,t){return GS(e,t.getMinutes())}},{key:"configure",value:function(e){var t=this,n=e.insertUndividedMax,i=void 0===n?this.insertUndividedMax:n,l=e.min,r=void 0===l?this.min:l,a=e.max,o=void 0===a?this.max:a,s=e.part,u=e.step,c=void 0===u?this.step:u;this.insertUndividedMax=i,this.toListItem=function(e){var n=GS(LS,e);return{text:t.intl.formatDate(n,s.pattern),value:n}},this.min=r,this.max=o,this.step=c}},{key:"data",value:function(e){var t,n,i=this,l=_slicedToArray(this.range(e),1)[0],r=(t=l,n=this.step,function(e){return gM(t+e*n)}),a=KS(0,this.countFromMin(e)).map((function(e){return i.toListItem(r(e))}));return this.addLast(a),this.addMissing(a,e),a}},{key:"isRangeChanged",value:function(e,t){return!tw(this.min,e)||!tw(this.max,t)}},{key:"limitRange",value:function(e,t,n){return[bM(e,n),kM(t,n)]}},{key:"total",value:function(e){var t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,n=this.isMissing(e)?1:0;return this.countFromMin(e)+n+t}},{key:"selectedIndex",value:function(e){return Math.ceil(this.divideByStep(e))}},{key:"valueInList",value:function(e){return!e||this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e)}},{key:"addLast",value:function(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMinute(t))),e}},{key:"addMissing",value:function(e,t){if(this.valueInList(t))return e;var n=this.toListItem(t.getMinutes());return e.splice(this.selectedIndex(t),0,n),e}},{key:"countFromMin",value:function(e){var t=_slicedToArray(this.range(e),2),n=t[0],i=t[1];return Math.floor(mM(i,n)/this.step)+1}},{key:"isMissing",value:function(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}},{key:"isLastMissing",value:function(e){return this.isMissing(GS(this.max,this.lastMinute(e)))}},{key:"divideByStep",value:function(e){return mM(e.getMinutes(),this.min.getMinutes())/this.step}},{key:"lastMinute",value:function(e){return this.range(e)[1]}},{key:"range",value:function(e){var t=_slicedToArray(this.limitRange(this.min,this.max,e),2),n=t[0],i=t[1];return[n.getMinutes(),i.getMinutes()]}}]),e}(),wM=function(e){return e%60},xM=function(e,t){return wM(60+e-t)},CM=function(e){return function(t,n){return!n||t.getHours()===n.getHours()&&t.getMinutes()===n.getMinutes()?t:XS(t,e)}},SM=CM(0),TM=CM(59),PM=function(){function e(t){_classCallCheck2(this,e),this.intl=t,this.insertUndividedMax=!1}return _createClass2(e,[{key:"apply",value:function(e,t){return XS(e,t.getSeconds())}},{key:"configure",value:function(e){var t=this,n=e.insertUndividedMax,i=void 0===n?this.insertUndividedMax:n,l=e.min,r=void 0===l?this.min:l,a=e.max,o=void 0===a?this.max:a,s=e.part,u=e.step,c=void 0===u?this.step:u;this.insertUndividedMax=i,this.toListItem=function(e){var n=XS(LS,e);return{text:t.intl.formatDate(n,s.pattern),value:n}},this.min=r,this.max=o,this.step=c}},{key:"data",value:function(e){var t,n,i=this,l=_slicedToArray(this.range(e),1)[0],r=(t=l,n=this.step,function(e){return wM(t+e*n)}),a=KS(0,this.countFromMin(e)).map((function(e){return i.toListItem(r(e))}));return this.addLast(a),this.addMissing(a,e),a}},{key:"isRangeChanged",value:function(e,t){return!tw(this.min,e)||!tw(this.max,t)}},{key:"limitRange",value:function(e,t,n){return[SM(e,n),TM(t,n)]}},{key:"total",value:function(e){var t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,n=this.isMissing(e)?1:0;return this.countFromMin(e)+n+t}},{key:"selectedIndex",value:function(e){return Math.ceil(this.divideByStep(e))}},{key:"valueInList",value:function(e){return!e||this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e)}},{key:"divideByStep",value:function(e){return xM(e.getSeconds(),this.min.getSeconds())/this.step}},{key:"addLast",value:function(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastSecond(t))),e}},{key:"addMissing",value:function(e,t){if(this.valueInList(t))return e;var n=this.toListItem(t.getSeconds());return e.splice(this.selectedIndex(t),0,n),e}},{key:"countFromMin",value:function(e){var t=_slicedToArray(this.range(e),2),n=t[0],i=t[1];return Math.floor(xM(i,n)/this.step)+1}},{key:"isMissing",value:function(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}},{key:"isLastMissing",value:function(e){return this.isMissing(XS(this.max,this.lastSecond(e)))}},{key:"lastSecond",value:function(e){return this.range(e)[1]}},{key:"range",value:function(e){var t=_slicedToArray(this.limitRange(this.min,this.max,e),2),n=t[0],i=t[1];return[n.getSeconds(),i.getSeconds()]}}]),e}(),MM=function(e,t){var n=x_(e);return n.setHours(t),n},AM=function(e){return null!==e&&e<12},IM=function(e,t,n){return!t&&!n||e>=t&&e<=n},EM=function(e,t,n){return!t&&!n||e>=t||e<=n},DM=function(){function e(t){_classCallCheck2(this,e),this.intl=t}return _createClass2(e,[{key:"apply",value:function(e,t){var n=e.getHours(),i=AM(n),l=AM(t.getHours());if(i&&l||!i&&!l)return e;var r=_slicedToArray(this.normalizedRange(),2),a=r[0],o=r[1],s=void 0===o?24:o;return MM(e,Math.min(Math.max(a,n+(l?-12:12)),s||24))}},{key:"configure",value:function(e){var t=e.min,n=void 0===t?this.min:t,i=e.max,l=void 0===i?this.max:i,r=e.part,a=void 0===r?this.part:r;this.min=n,this.max=l,this.part=a}},{key:"data",value:function(e){var t=this.part.names;if(!t)return[];var n,i=[],l=_slicedToArray(this.normalizedRange(),2),r=l[0],a=l[1],o=this.intl.dateFormatNames(t);return AM(r)&&i.push({text:o.am,value:MM(this.min,r)}),null!==(n=a)&&(!n||n>11)&&i.push({text:o.pm,value:MM(this.min,Math.max(12,a))}),this.min.getHours()!==r?i.reverse():i}},{key:"isRangeChanged",value:function(e,t){return!1}},{key:"limitRange",value:function(e,t,n){return[e,t]}},{key:"total",value:function(){var e=_slicedToArray(this.normalizedRange(),2),t=e[0],n=e[1];return(t||n)&&(t>11||n<12)?1:2}},{key:"selectedIndex",value:function(e){if(!this.valueInList(e))return-1;var t=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?t:0===t?1:0}},{key:"valueInList",value:function(e){return(this.min.getHours()!==this.normalizedRange()[0]?EM:IM)(e.getHours(),this.min.getHours(),this.max.getHours())}},{key:"normalizedRange",value:function(){var e=this.min.getHours(),t=this.max.getHours();return[Math.min(e,t),Math.max(e,t)]}}]),e}(),OM=function(){return null},FM={35:function(e,t){return e[e.length-1]},36:function(e,t){return e[0]},38:function(e,t){return e[t-1]},40:function(e,t){return e[t+1]}},RM={dayperiod:DM,hour:vM,minute:_M,second:PM},NM=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.element=t,this.injector=n,this.dom=i,this.renderer=l,this.zone=r,this.min=x_(LS),this.max=x_(jS),this.step=1,this.disabled=!1,this.valueChange=new dr,this.componentClass=!0,this.animateToIndex=!0,this.isActive=!1,this.skip=0,this.total=60,this.data=[],this.indexToScroll=-1,this.domEvents=[]}return _createClass2(e,[{key:"ngOnChanges",value:function(e){e.part&&(this.service=this.injector.get(RM[this.part.type]),this.service.configure(this.serviceSettings()));var t=this.value,n=e.value||{},i=_slicedToArray(this.service.limitRange(this.min,this.max,t),2),l=i[0],r=i[1];(this.service.isRangeChanged(l,r)||e.min||e.max||e.step)&&(this.data=[],this.service.configure(this.serviceSettings({min:l,max:r}))),this.data.length&&!this.hasMissingValue(n)||(this.animateToIndex=!1,this.data=this.service.data(t)),this.animateToIndex=this.animateToIndex&&this.textHasChanged(n),this.total=this.service.total(t),this.indexToScroll=this.selectedIndex(t)}},{key:"ngOnInit",value:function(){var e=this;this.animateToIndex=!0,this.dom.ensureHeights(),this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.topThreshold=.05*this.itemHeight,this.bottomThreshold=.95*this.itemHeight;var t="translateY(".concat(this.topOffset,"px)");this.style={transform:t,"-ms-transform":t},this.element&&this.zone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnDestroy",value:function(){this.scrollSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()}))}},{key:"ngAfterViewInit",value:function(){var e=this;this.scrollOnce((function(t){return e.virtualization.scrollToIndex(t)}))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.scrollOnce((function(t){e.virtualization[e.animateToIndex?"animateToIndex":"scrollToIndex"](t),e.animateToIndex=!0}))}},{key:"handleChange",value:function(e){var t=this.service.apply(this.value,e.value);this.value.getTime()!==t.getTime()&&(this.indexToScroll=this.data.indexOf(e),this.value=t,this.valueChange.emit(t))}},{key:"handleItemClick",value:function(e){var t=lP(e.target,(function(e){return e.hasAttribute("data-timelist-item-index")}),this.element.nativeElement);if(t){var n=t.getAttribute("data-timelist-item-index");this.handleChange(this.data[n])}}},{key:"focus",value:function(){this.element&&this.element.nativeElement.focus()}},{key:"blur",value:function(){this.element&&this.element.nativeElement.blur()}},{key:"itemOffset",value:function(e){var t=this.selectedIndex(this.value),n=this.virtualization.activeIndex(),i=this.virtualization.itemOffset(n),l=Math.abs(Math.ceil(e)-i);if(t===n&&l<2)return i;var r=t>n;return r&&l>=this.bottomThreshold||!r&&l>this.topThreshold?this.virtualization.itemOffset(n+1):i}},{key:"hasMissingValue",value:function(e){var t=e.previousValue,n=e.currentValue,i=t&&!this.service.valueInList(t),l=n&&!this.service.valueInList(n);return i||l}},{key:"scrollOnce",value:function(e){-1!==this.indexToScroll&&(e(this.indexToScroll),this.indexToScroll=-1)}},{key:"serviceSettings",value:function(e){var t=Object.assign({},{boundRange:!1,insertUndividedMax:!1,max:this.max,min:this.min,part:this.part,step:this.step},e);return t.boundRange="hour"!==t.part.type,t}},{key:"selectedIndex",value:function(e){return e?this.service.selectedIndex(e):-1}},{key:"textHasChanged",value:function(e){var t=e.previousValue,n=e.currentValue;if(!t||!n)return!1;var i=this.data[this.selectedIndex(t)],l=this.data[this.selectedIndex(n)];return i&&l&&i.text!==l.text}},{key:"handleKeyDown",value:function(e){var t=(FM[e.keyCode]||OM)(this.data,this.service.selectedIndex(this.value));t&&(this.handleChange(t),e.preventDefault())}},{key:"bindEvents",value:function(){var e=this;this.scrollSubscription=this.virtualization.scroll$().pipe(gS(100),te((function(e){return e.target.scrollTop})),te((function(t){return e.itemOffset(t)})),te((function(t){return e.virtualization.itemIndex(t)}))).subscribe((function(t){e.virtualization.scrollToIndex(t),e.handleChange(e.data[t])}));var t=this.element.nativeElement;this.domEvents.push(this.renderer.listen(t,"mouseover",(function(){return!e.isActive&&e.focus()})),this.renderer.listen(t,"click",(function(){return e.focus()})),this.renderer.listen(t,"blur",(function(){return e.isActive=!1})),this.renderer.listen(t,"focus",(function(){return e.isActive=!0})),this.renderer.listen(t,"keydown",this.handleKeyDown.bind(this)))}},{key:"tabIndex",get:function(){return this.disabled?void 0:0}}]),e}(),LM=function(e,t){return e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},BM=function(e,t){return LM(e,t)&&e.getSeconds()===t.getSeconds()},VM=[{type:"hour",getter:function(e){return e.getHours()},minGetter:function(e,t){return t.getHours()}},{type:"minute",getter:function(e){return e.getMinutes()},minGetter:function(e,t){return LM(e,t)?t.getMinutes():0}},{type:"second",getter:function(e){return e.getSeconds()},minGetter:function(e,t){return BM(e,t)?t.getSeconds():0}},{type:"millisecond",getter:function(e){return e.getMilliseconds()},minGetter:function(e,t){return function(e,t){return BM(e,t)&&e.getMilliseconds()===t.getMilliseconds()}(e,t)?t.getMilliseconds():0}}],zM=function(e){return function(t){return e.map(function(e){return function(t){return e[t.type]?(n=t.getter,function(e,t){return n(t)}):function(e){return function(t,n){return e(t)}}(t.getter);var n}}(function(e){return e.reduce((function(e,t){return e[t.type]=t.type,e}),{})}(t)))}}(VM),jM=function(e){return function(t){return e.map((function(e){var n=t[e.type];return n?function(e,t,n){return function(i,l){var r=e(i),a=t(i,l),o=r-a;if(o<0)return a;var s=o%n;return r-s+(s>n/2?n:0)}}(e.getter,e.minGetter,n):e.getter}))}}(VM),HM=function(e){return function(t,n){return t.setHours.apply(t,_toConsumableArray(e.map((function(e){return e(t,n)})))),t}},WM=function(e,t,n,i){return e.length||!t.isActive?e:[{next:i[n+1]||t,prev:i[n-1]||t}]},UM=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({}),YM=function(){function e(t,n,i,l,r,a,o,s){_classCallCheck2(this,e),this.localization=t,this.cdr=n,this.element=i,this.intl=l,this.dom=r,this.zone=a,this.renderer=o,this.pickerService=s,this.componentClass=!0,this.format="t",this.min=x_(zS),this.max=x_(jS),this.cancelButton=!0,this.setButton=!0,this.nowButton=!0,this.disabled=!1,this.value=null,this.valueChange=new dr,this.valueReject=new dr,this.isActive=!1,this.showNowButton=!0,this._activeListIndex=-1,this._steps={},this.domEvents=[],this.pickerService&&(this.pickerService.timeSelector=this)}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.localization&&this.subscriptions.add(this.localization.changes.subscribe((function(){return e.cdr.markForCheck()}))),this.dom.calculateHeights(this.element.nativeElement),this.init(),this.bindEvents()}},{key:"ngOnChanges",value:function(e){this.init()}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.pickerService&&(this.pickerService.timeSelector=null),this.domEvents.forEach((function(e){return e()}))}},{key:"focus",value:function(){var e=this.timeLists.first;e&&e.focus()}},{key:"blur",value:function(){var e=this.timeLists.first;e&&e.blur()}},{key:"handleAccept",value:function(){this.handleChange(this.mergeValue(x_(this.value||T_(eT())),this.current))}},{key:"handleNow",value:function(){this.current=eT(),this.handleChange(this.current),this.cdr.markForCheck()}},{key:"handleReject",value:function(){this.current=this.value,this.valueReject.emit()}},{key:"handleFocus",value:function(e){this.isActive||(this.isActive=!0,this.emitFocus(e))}},{key:"handleListFocus",value:function(e){var t=parseInt(e.target.getAttribute("data-timelist-index"),10);this.activeListIndex=t,this.handleFocus(e)}},{key:"handleBlur",value:function(e){var t=yP(e);t&&this.containsElement(t)||(this.activeListIndex=-1,this.isActive=!1,this.emitBlur(e))}},{key:"containsElement",value:function(e){var t=this;return Boolean(rP(e,(function(e){return e===t.element.nativeElement})))}},{key:"partStep",value:function(e){return this.steps[e.type]||1}},{key:"init",value:function(e){var t;e&&!aT(e,"format")||(this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=HM(zM(this.dateFormatParts))),e&&!aT(e,"steps")||(this.snapTime=(t=jM(this.steps),function(e,n){var i=x_(e);return i.setHours.apply(i,_toConsumableArray(t.map((function(e){return e(i,n)})))),i})),e&&!aT(e,"value")||(this.current=this.value),this.showNowButton=!this.hasSteps()&&this.nowButton&&ZS(eT(),this.min,this.max)}},{key:"focusList",value:function(e){this.timeLists.length&&this.timeLists.reduce(WM,[]).map((function(t){return e===UM.Right?t.next:t.prev})).map((function(e){return e&&e.focus()}))}},{key:"handleChange",value:function(e){this.value=e,this.valueChange.emit(x_(e))}},{key:"hasActiveButton",value:function(){var e=this;return!!this.accept&&[this.accept,this.cancel,this.now].reduce((function(t,n){return t||e.dom.isActive(n)}),!1)}},{key:"hasSteps",value:function(){var e=this,t=Object.keys(this.steps);return t.length!==t.reduce((function(t,n){return t+e.steps[n]}),0)}},{key:"intlChange",value:function(){this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=HM(zM(this.dateFormatParts)),this.cdr.markForCheck()}},{key:"bindEvents",value:function(){var e=this;this.element&&this.zone.runOutsideAngular((function(){e.domEvents.push(e.renderer.listen(e.element.nativeElement,"keydown",e.handleKeydown.bind(e)))}))}},{key:"handleKeydown",value:function(e){var t=e.keyCode,n=e.altKey,i=-1!==[ng.ArrowLeft,ng.ArrowRight].indexOf(t);bP(this.pickerService)&&i&&n||(t!==ng.Enter||this.hasActiveButton()?t!==ng.ArrowLeft&&t!==ng.ArrowRight||this.focusList(t===ng.ArrowLeft?UM.Left:UM.Right):this.handleAccept())}},{key:"emitBlur",value:function(e){this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"emitFocus",value:function(e){this.pickerService&&this.pickerService.onFocus.emit(e)}},{key:"listIndex",value:function(e){for(var t=0,n=0;n<e;)"literal"!==this.dateFormatParts[n].type&&t++,n++;return t}},{key:"disabledClass",get:function(){return this.disabled}},{key:"steps",set:function(e){this._steps=e||{}},get:function(){return this._steps}},{key:"current",set:function(e){this._current=function(e,t,n){if(!e||!t||!n)return e;var i=YS(e,t,n),l=i.candidateValue,r=i.minValue,a=i.maxValue;return l<r?US(e,t):l>a?US(e,n):e}(this.snapTime(x_(e||LS),this.min),this.min,this.max),Qr.isInAngularZone()||this.cdr.detectChanges()},get:function(){return this._current}},{key:"activeListIndex",get:function(){return this._activeListIndex},set:function(e){var t=this;if(this._activeListIndex=e,this.timeListWrappers&&this.timeListWrappers.length&&(this.timeListWrappers.forEach((function(e){t.renderer.removeClass(e.nativeElement,"k-state-focused")})),e>=0)){var n=this.listIndex(e),i=this.timeListWrappers.toArray()[n];i&&this.renderer.addClass(i.nativeElement,"k-state-focused")}}}]),e}(),qM=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),GM=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(qM),XM=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(qM),KM=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),_createClass2(t,[{key:"override",get:function(){return!0}}]),t}(qM),$M=function e(){_classCallCheck2(this,e)},ZM=function e(){_classCallCheck2(this,e)},QM=function e(){_classCallCheck2(this,e)},JM=function(){function e(t){_classCallCheck2(this,e),this.closingNotifier=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new eA(e,this.closingNotifier))}}]),e}(),eA=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).buffer=[],i.add(J(_assertThisInitialized(i),n)),i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.buffer.push(e)}},{key:"notifyNext",value:function(e,t,n,i,l){var r=this.buffer;this.buffer=[],this.destination.next(r)}}]),t}(ee),tA=function(e){return e instanceof Array&&e.length>0},nA=function(e){return tA(e.bySecond)||tA(e.byMinute)||tA(e.byHour)||tA(e.byYearDay)||tA(e.byMonthDay)||tA(e.byWeekDay)||tA(e.byMonth)||tA(e.byWeekNumber)},iA=function(e){for(var t=e.split(";"),n=[],i=null,l=0;l<t.length;l++){var r=_slicedToArray(t[l].split(":"),2),a=r[0],o=r[1],s=void 0===o?"":o,u=a.indexOf("TZID");-1!==u&&(i=a.substring(u).split("=")[1]),n=s.split(",").map((function(e){return hA(e,i)}))}return n.length&&null!==n[0]?n:null},lA=function(e){var t=iA(e);return null===t?null:t[0]},rA=function(e){if(!e||0===e.length)return"";var t=e[0].timezone,n="Etc/UTC"===t,i=n?"Z":"";return(t&&!n?";TZID="+t:"")+":"+e.map((function(e){return fC(e,"yyyyMMddTHHmmss")+i})).join(",")+" "},aA=function(e,t){if(!t)return!1;var n=t.start,i=t.end;return e<n||e>i||0===e&&n<0},oA=function(e,t){return e-t},sA=function(e,t){for(var n=[],i=0;i<e.length;i++){var l=parseInt(e[i],10);if(isNaN(l)||aA(l,t))return[];n.push(l)}return n.sort(oA)},uA=["yyyyMMddTHHmmssSSSXXX","yyyyMMddTHHmmssXXX","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"];function cA(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}var hA=function(e,t){var n=NC(e)||NC(e,uA);if(!n)return null;var i=t?cA(n):n;return X_.fromUTCDate(i,t||"Etc/UTC")},dA={SU:P_.Sunday,MO:P_.Monday,TU:P_.Tuesday,WE:P_.Wednesday,TH:P_.Thursday,FR:P_.Friday,SA:P_.Saturday},fA=function(e){return dA[e]},pA=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],l=fA(i.substring(i.length-2).toUpperCase());if(void 0===l)return[];t.push({offset:parseInt(i.substring(0,i.length-2),10)||0,day:l})}return t},vA=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t=(t-e.getUTCDay()+7*n)%7,e.setUTCDate(e.getUTCDate()+t)},gA=function(e,t){return e+(e<t?7:0)},mA=function(e,t){return e-t},yA=function(e,t){var n=7-(cA($_(e)).getUTCDay()+7-(t||7))||7;return n<0&&(n+=7),Math.ceil((e.getUTCDate()-n)/7)+1},bA=function(e,t){var n=(e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))).getUTCFullYear();void 0!==t?(vA(e,t,-1),e.setUTCDate(e.getUTCDate()+4)):e.setUTCDate(e.getUTCDate()+(4-(e.getUTCDay()||7)));var i=Math.floor((e.getTime()-Date.UTC(n,0,1,-6))/864e5);return 1+Math.floor(i/7)},kA=function(e,t,n){var i=t.offset;if(!i)return yA(e,n);var l=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)),r=yA(l,n),a=gA(t.day,n),o=a<gA(new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)).getUTCDay(),n),s=a>gA(l.getUTCDay(),n);return i<0?i=r+(i+1-(s?1:0)):o&&(i+=1),r-=s?1:0,i<(o?1:0)||i>r?null:i},_A=function(e,t,n){return yA(e,n)===kA(e,t,n)},wA=function(e,t){return yA(new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)),t)},xA=[0,31,60,91,121,152,182,213,244,274,305,335,366],CA=[0,31,59,90,120,151,181,212,243,273,304,334,365],SA=function(e){return(e=e.getUTCFullYear())%4==0&&e%100!=0||e%400==0},TA=function(e){var t=e.getUTCMonth();return(SA(e)?xA[t]:CA[t])+e.getUTCDate()},PA=[31,28,31,30,31,30,31,31,30,31,30,31],MA=function(e){var t=e.getUTCMonth();return 1===t?1===new Date(Date.UTC(e.getUTCFullYear(),1,29)).getUTCMonth()?29:28:PA[t]},AA=function(e,t,n){for(var i=e.length,l=[],r=0;r<i;r++){var a=e[r];if(n&&(a=n(a)),t===a)return null;t<a&&l.push(a)}return l},IA=function(e,t,n){var i=n.byMonth,l=AA(i,e.getUTCMonth()+1),r=!1;return null!==l&&(l.length?e.setUTCMonth(l[0]-1,1):e.setUTCFullYear(e.getUTCFullYear()+1,i[0]-1,1),r=!0),r},EA=function(e,t,n){var i,l=!1;function r(e){return e<0&&(e=i+e+1),e}for(;e<=t;){var a=e.getUTCMonth();i=MA(e);var o=AA(n.byMonthDay,e.getUTCDate(),r);if(null===o)return l;if(l=!0,o.length){if(e.setUTCMonth(a,o.sort(mA)[0]),a===e.getUTCMonth())break}else e.setUTCMonth(a+1,1)}return l},DA=function(e,t,n){var i,l=!1;function r(e){return e<0&&(e=i+e),e}for(;e<t;){i=SA(e)?366:365;var a=AA(n.byYearDay,TA(e),r);if(null===a)return l;if(l=!0,i=e.getUTCFullYear(),a.length){e.setUTCFullYear(i,0,a.sort(mA)[0]);break}e.setUTCFullYear(i+1,0,1)}return l},OA=function(e,t,n){var i=n.weekStart||P_.Monday,l=!1;function r(e){return e<0&&(e=53+e),e}for(;e<t;){var a=AA(n.byWeekNumber,bA(e,i),r);if(null===a)return l;l=!0;var o=e.getUTCFullYear();if(a.length){var s=7*a.sort(mA)[0]-1;e.setUTCFullYear(o,0,s),vA(e,i,-1);break}e.setUTCFullYear(o+1,0,1)}return l},FA=function(e,t,n){var i=n.byWeekDay,l=n.weekStart||P_.Monday,r=function(e,t,n){for(var i,l,r,a,o=gA(t.getUTCDay(),n),s=e.length,u=[],c=0;c<s;c++)if(l=e[c],a=yA(t,n),null!==(i=kA(t,l,n)))if(a<i)u.push(l);else if(a===i)if(o<(r=gA(l.day,n)))u.push(l);else if(o===r)return null;return u}(i,e,l);if(null===r)return!1;r[0]||(r=i,vA(e,l));var a=r.map((function(n){var i=x_(e),r=n.day;if(n.offset)for(;i<=t&&!_A(i,n,l);)yA(i,l)===wA(i,l)?i.setUTCMonth(i.getUTCMonth()+1,1):(i.setUTCDate(i.getUTCDate()+7),vA(i,l,-1));return i.getUTCDay()!==r&&vA(i,r),i})).sort((function(e,t){return e.getTime()-t.getTime()}))[0];return a&&e.setTime(a),!0},RA=function(e,t,n){var i=n.byHour,l=!1,r=n._startTime,a=r.getUTCHours(),o=AA(i,a);return null!==o&&(l=!0,e.setUTCHours(a),o.length?e.setUTCHours(o=o[0]):(o=e.getUTCHours(),e.setUTCDate(e.getUTCDate()+1),e.setUTCHours(o=i[0])),n.byMinute&&e.setUTCMinutes(0),r.setUTCHours(o,e.getUTCMinutes())),l},NA=function(e,t,n){var i=n.byMinute,l=e.getUTCMinutes(),r=AA(i,l),a=n._startTime.getUTCHours(),o=!1;return null!==r&&(o=!0,r.length?r=r[0]:(a+=1,r=i[0]),n.bySecond&&e.setUTCSeconds(0),e.setUTCHours(a,r),n._startTime.setUTCHours(a%=24,r,e.getUTCSeconds())),o},LA=function(e,t,n){var i=n.bySecond,l=AA(i,e.getUTCSeconds()),r=n._startTime.getUTCHours(),a=e.getUTCMinutes(),o=!1;return null!==l&&(o=!0,l.length?e.setUTCSeconds(l[0]):(e.setUTCMinutes(a+=1,i[0]),a>59&&(a%=60,r=(r+1)%24)),n._startTime.setUTCHours(r,a,e.getUTCSeconds())),o},BA=["byMonth","byWeekNumber","byYearDay","byMonthDay","byWeekDay","byHour","byMinute","bySecond"],VA=BA.length,zA=function(e,t){var n;return 0!==e&&e<t?n=t-e:(n=e%t)&&(n=t-n),n},jA=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"next",value:function(e,t){var n,i,l=t._startTime;if(t.bySecond)i=e.getUTCSeconds()+1,e.setUTCSeconds(i),l.setUTCSeconds(i);else{if(!t.byMinute)return!1;n=e.getUTCMinutes()+1,e.setUTCMinutes(n),l.setUTCMinutes(n)}return!0}},{key:"normalize",value:function(e){var t=e.rule;4===e.idx&&t.byHour&&(t._startTime.setUTCHours(0),this._hour(e.date,t))}},{key:"limit",value:function(e,t,n){for(var i,l=n.interval||1;e<=t;){var r=void 0,a=void 0,o=e.getUTCDate();for(i=0;i<VA;i++){var s=BA[i];if(n[s]){if(r=d[s](e,t,n),void 0!==a&&r)break;a=r}r&&this.normalize({date:e,rule:n,day:o,idx:i})}if((1===l||!this.interval(n,e))&&i===VA)break}}},{key:"interval",value:function(e,t){var n,i,l=e._startPeriod.toUTCDate(),r=t.getUTCHours(),a=e.weekStart,o=e.interval,s=e.freq,u=new Date(t),c=!1,h=0,d=0,f=1;return"hourly"===s?(i=e._startTime.getUTCHours(),u=u.getTime(),r!==i&&(u+=36e5*(i-r)),u-=l.getTime(),n=Math.floor(u/36e5),0!==(h=zA(n,o))&&(this._hour(t,e,h),c=!0)):"daily"===s?(function(e,t){e.setTime(e.getTime()+t)}(u,-l),n=Math.round(u/864e5),0!==(h=zA(n,o))&&(this._date(t,e,h),c=!0)):"weekly"===s?(h=this.getNumberOfWeeksBetweenDates(l,t),gA(t.getUTCDay(),a)<gA(l.getUTCDay(),a)&&(h+=1),0!==(h=zA(h,o))&&(vA(t,e.weekStart,-1),t.setUTCDate(t.getUTCDate()+7*h),c=!0)):"monthly"===s?(n=t.getUTCFullYear()-l.getUTCFullYear(),n=t.getUTCMonth()-l.getUTCMonth()+12*n,0!==(h=zA(n,o))&&(f=nA(e)?1:t.getDate(),t.setUTCFullYear(t.getUTCFullYear(),t.getUTCMonth()+h,f),c=!0)):"yearly"===s&&(n=t.getUTCFullYear()-l.getUTCFullYear(),h=zA(n,o),e.byMonth||(d=t.getUTCMonth()),e.byYearDay||e.byMonthDay||e.byWeekDay||(f=t.getUTCDate()),0!==h&&(t.setUTCFullYear(t.getUTCFullYear()+h,d,f),c=!0)),c}},{key:"_hour",value:function(e,t,n){var i=t._startTime,l=i.getUTCHours();n&&(l+=n),e.setUTCHours(l),i.setUTCHours(l%=24)}},{key:"_date",value:function(e,t,n){e.setUTCDate(e.getUTCDate()+n)}},{key:"getNumberOfWeeksBetweenDates",value:function(e,t){var n=(t.getTime()-e.getTime())/6048e5,i=Math.floor(n);return n-i>.99&&(i=Math.round(n)),i}}]),e}(),HA=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"next",value:function(e,t){return jA.prototype.next.call(this,e,t)||this[t.byHour?"_hour":"_date"](e,t,1),!1}}]),t}(jA),WA=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"next",value:function(e,t){var n;if(!jA.prototype.next.call(this,e,t))if(t.byHour)this._hour(e,t,1);else if(t.byMonthDay||t.byWeekDay||t.byYearDay||t.byWeekNumber)this._date(e,t,1);else{for(n=e.getUTCDate(),e.setUTCMonth(e.getUTCMonth()+1);e.getUTCDate()!==n;)e.setUTCDate(n);this._hour(e,t)}return!1}},{key:"normalize",value:function(e){var n=e.rule,i=e.date;0!==e.idx||n.byMonthDay||n.byWeekDay?_get2(_getPrototypeOf2(t.prototype),"normalize",this).call(this,e):i.setUTCDate(e.day)}},{key:"setup",value:function(e,t,n){e.byMonthDay||e.byWeekDay||n.setUTCDate(t.getUTCDate())}}]),t}(jA),UA={hourly:new(function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"next",value:function(e,t){return jA.prototype.next.call(this,e,t)||this._hour(e,t,1),!1}},{key:"normalize",value:function(e){var t=e.rule;4===e.idx&&(t._startTime.setUTCHours(0),this._hour(e.date,t))}}]),t}(jA)),daily:new HA,weekly:new(function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"setup",value:function(e,t){e.byWeekDay||(e.byWeekDay=[{day:t.getUTCDay(),offset:0}])}}]),t}(HA)),monthly:new WA,yearly:new(function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"next",value:function(e,t){var n;if(!jA.prototype.next.call(this,e,t))if(t.byHour)this._hour(e,t,1);else if(t.byMonthDay||t.byWeekDay||t.byYearDay||t.byWeekNumber)this._date(e,t,1);else if(t.byMonth){for(n=e.getUTCDate(),e.setUTCMonth(e.getUTCMonth()+1);e.getUTCDate()!==n;)e.setUTCDate(n);this._hour(e,t)}else e.setUTCFullYear(e.getUTCFullYear()+1),this._hour(e,t);return!1}},{key:"setup",value:function(){}}]),t}(WA))},YA=function(e){return X_.fromLocalDate(e.toLocalDate(),e.timezone)},qA=function(e){return 36e5*e.getHours()+6e4*e.getMinutes()+1e3*e.getSeconds()+e.getMilliseconds()},GA=function(e,t){if(!e)return!1;for(var n=t.getTime()-t.getMilliseconds(),i=e.length,l=0;l<i;l++)if(e[l].getTime()===n)return!0;return!1},XA=function(e,t){var n=e.toUTCDate();switch(t.freq){case"yearly":n.setUTCFullYear(n.getUTCFullYear(),11,31);break;case"monthly":n.setUTCFullYear(n.getUTCFullYear(),n.getUTCMonth()+1,0);break;case"weekly":vA(n,t.weekStart,-1),n.setUTCDate(n.getUTCDate()+6)}return t.byHour&&n.setUTCHours(23),t.byMinute&&n.setUTCMinutes(59),t.bySecond&&n.setUTCSeconds(59),X_.fromUTCDate(n,e.timezone)},KA=function(e,t,n){for(var i,l=e.length,r=[],a=0,o=n.length;a<o;a++){(i=n[a])<0?i=l+i:i-=1;var s=e[i];s&&s.start>=t&&r.push(s)}return r},$A=function(e,t){for(var n=[],i=0;i<e.length;i++){var l=e[i];l&&!GA(t,l.start)&&n.push(l)}return n},ZA=function(e,t){return e+(e<t?7:0)},QA=function(e){if(!e)return null;var t,n,i,l,r=e.recurrenceRule,a=e.weekStart,o=void 0===a?0:a,s={},u=0;if(!r)return null;var c=r.split("\n");for(c[1]||-1===r.indexOf("DTSTART")&&-1===r.indexOf("DTEND")&&-1===r.indexOf("EXDATE")||(c=r.split(" ")),u=0,i=c.length;u<i;u++){var h=(c[u]||"").trim();-1!==h.indexOf("DTSTART")?s.start=lA(h):-1!==h.indexOf("DTEND")?s.end=lA(h):-1!==h.indexOf("EXDATE")?s.exceptionDates=iA(h):-1!==h.indexOf("RRULE")?l=h.substring(6):h.trim()&&(l=h)}for(u=0,i=(l=l.split(";")).length;u<i;u++)switch(n=((t=l[u].split("="))[1]||"").trim().split(","),t[0].trim().toUpperCase()){case"FREQ":s.freq=n[0].toLowerCase();break;case"UNTIL":s.until=hA(n[0]);break;case"COUNT":s.count=parseInt(n[0],10);break;case"INTERVAL":s.interval=parseInt(n[0],10);break;case"BYSECOND":s.bySecond=sA(n,{start:0,end:60});break;case"BYMINUTE":s.byMinute=sA(n,{start:0,end:59});break;case"BYHOUR":s.byHour=sA(n,{start:0,end:23});break;case"BYMONTHDAY":s.byMonthDay=sA(n,{start:-31,end:31});break;case"BYYEARDAY":s.byYearDay=sA(n,{start:-366,end:366});break;case"BYMONTH":s.byMonth=sA(n,{start:1,end:12});break;case"BYDAY":s.byWeekDay=pA(n);break;case"BYWEEKNO":s.byWeekNumber=sA(n,{start:-53,end:53});break;case"BYSETPOS":s.bySetPosition=sA(n,{start:-366,end:366});break;case"WKST":s.weekStart=fA(n[0])}return void 0===s.freq||void 0!==s.count&&s.until?null:(void 0===s.weekStart&&(s.weekStart=o),s.interval||(s.interval=1),s.bySetPosition&&!nA(s)&&(s.bySetPosition=[]),function(e){var t=e.byWeekDay,n=e.weekStart;t&&t.sort(function(e){return function(t,n){return ZA(t.day,e)-ZA(n.day,e)}}(n))}(s),s)},JA={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},eI=function(e){return null!=e},tI=function(e){return null==e},nI=function(e,t,n){return function(i){return e(i)?t(i):n(i)}},iI=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},lI={},rI=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;lI[void 0]=function(e){return e};var aI=function(e,t){var n=e+t;if(lI[n])return lI[n];var i=[];return e.replace(rI,(function(e,t,n,l){i.push(eI(t)?t:n||l)})),lI[n]=function(e){for(var n=e,l=0;l<i.length;l++)if(!eI(n=n[i[l]])&&t)return n;return n},lI[n]},oI=function(e){return function(t){return[e,t]}},sI=function(){return null},uI=function(e){return function(t){return eI(e(t))}},cI=function(e){return function(t){return function(e){return eI(e)&&function(e){return Array.isArray(e)}(e)&&e.length>0}(e(t))}},hI=function(e,t){return nI(e,t,sI)},dI=function(e,t){return function(n){return e(n).map(t).join("~")}},fI=iI.apply(void 0,_toConsumableArray([['"',""],[":","-"]].map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return function(e){return e.replace(new RegExp(n,"g"),i)}})))),pI=function(e){var t=e.field,n=e.dir,i=void 0===n?"asc":n;return"".concat(t,"-").concat(i)},vI=aI("take"),gI=aI("aggregates"),mI=aI("skip"),yI=aI("group"),bI=aI("sort",!0),kI=dI(bI,pI),_I=dI(yI,pI),wI=dI(gI,(function(e){var t=e.field,n=e.aggregate;return"".concat(t,"-").concat(n)})),xI=iI((function(e){return"datetime'".concat(e,"'")}),(function(e){return e.slice(0,e.indexOf("."))}),fI,JSON.stringify,(function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))})),CI=iI(oI("page"),(function(e){var t=e.skip,n=e.take;return Math.floor((t||0)/n)+1})),SI=iI(oI("pageSize"),vI),TI=iI(oI("group"),_I),PI=iI(oI("sort"),kI),MI=iI(oI("aggregate"),wI),AI=(hI(uI(mI),CI),hI(uI(vI),SI),hI(cI(yI),TI),hI(uI(gI),MI),iI(hI(cI(bI),PI),(function(e){return Object.assign({},e,{sort:(bI(e)||[]).filter((function(e){var t=e.dir;return!function(e){return tI(e)||0===e.trim().length}(t)}))})})),function(e){var t=e.field,n=e.operator,i=e.value;return"".concat(t,"~").concat(n,"~").concat(i)}),II=(nI((function(e){return(t=e.value)&&t.getTime;var t}),iI(AI,(function(e){var t=e.field,n=e.value,i=e.ignoreCase,l=e.operator;return{value:xI(n),field:t,ignoreCase:i,operator:l}})),AI),function(e,t,n){return t[e]=n,t}),EI=function(e){return function(t){var n,i=t[e];return eI(i)?i:t[(n=e,n.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},DI=(EI("Member"),EI("AggregateMethodName"),EI("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),OI=DI((function(e,t,n){return II(n.toLowerCase(),t,e[n])})),FI=DI((function(e,t,n){return II(n,t,OI(e[n]))})),RI=function(e,t){return eI(e)?e:t},NI=iI((function(e){var t=e.field,n=e.hasSubgroups,i=e.value,l=e.aggregates,r=e.items;return{aggregates:FI(l),field:t,items:n?r.map(NI):r,value:i}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:RI(e.Key,RI(e.key,e.value))}})),LI=function(e,t){return tI(e)?e===t?0:-1:tI(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},BI=function(e,t){return LI(t,e)},VI=function(e){var t=aI(e.field,!0);return function(n,i){return("asc"===e.dir?LI:BI)(t(n),t(i))}},zI=function(e,t){return 0},jI=function(e){return function(t){return function(n,i,l){return t(n,e(i,l))}}},HI=(jI((function(e){return e})),jI((function(e){return e})),function(e,t,n,i){if(!(n-t<2)){var l=t+n>>>1;HI(e,t,l,i),HI(e,l,n,i),function(e,t,n,i,l){for(var r=n-t,a=i-n,o=[],s=0;s<r;s++)o.push(e[t+s]);var u=0,c=n,h=t;do{l(e[c],o[u])<0?(e[h++]=e[c++],a--):(e[h++]=o[u++],r--)}while(a>0&&r>0);for(;r;)e[h++]=o[u++],r--;for(;a;)e[h++]=e[c++],a--}(e,t,l,n,i)}}),WI=function(e,t){if(t.some((function(e){return eI(e.dir)}))){e=e.slice(0);var n=function(e){return e.filter((function(e){return eI(e.dir)})).map((function(e){return VI(e)})).reduce((function(e,t){return function(n,i){return e(n,i)||t(n,i)}}),zI)}(t);HI(e,0,e.length,n)}return e};function UI(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}var YI={leading:!0,trailing:!1},qI=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=l}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new GI(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),GI=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).duration=n,a.scheduler=i,a.leading=l,a.trailing=r,a._hasTrailingValue=!1,a._trailingValue=null,a}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(XI,this.duration,{subscriber:this})),this.leading&&this.destination.next(e))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),t}(P);function XI(e){e.subscriber.clearThrottle()}var KI=function(){function e(t,n){_classCallCheck2(this,e),this.compare=t,this.keySelector=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new $I(e,this.compare,this.keySelector))}}]),e}(),$I=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).keySelector=i,l.hasKey=!1,"function"==typeof n&&(l.compare=n),l}return _inherits(t,e),_createClass2(t,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(l){return this.destination.error(l)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(l){return this.destination.error(l)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),t}(P);function ZI(e){return function(t){return t.lift(new JI(e))}}var QI,JI=function(){function e(t){_classCallCheck2(this,e),this.predicate=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new eE(e,this.predicate))}}]),e}(),eE=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).predicate=n,i.skipping=!0,i.index=0,i}return _inherits(t,e),_createClass2(t,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),t}(P),tE=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e["pause/break"]=19]="pause/break",e[e["caps lock"]=20]="caps lock",e[e.esc=27]="esc",e[e.space=32]="space",e[e["page up"]=33]="page up",e[e["page down"]=34]="page down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.insert=45]="insert",e[e.delete=46]="delete",e[e.command=91]="command",e[e["left command"]=91]="left command",e[e["right command"]=93]="right command",e[e["numpad *"]=106]="numpad *",e[e["numpad +"]=107]="numpad +",e[e["numpad -"]=109]="numpad -",e[e["numpad ."]=110]="numpad .",e[e["numpad /"]=111]="numpad /",e[e["num lock"]=144]="num lock",e[e["scroll lock"]=145]="scroll lock",e[e["my computer"]=182]="my computer",e[e["my calculator"]=183]="my calculator",e[e[";"]=186]=";",e[e["="]=187]="=",e[e[","]=188]=",",e[e["-"]=189]="-",e[e["."]=190]=".",e[e["/"]=191]="/",e[e["`"]=192]="`",e[e["["]=219]="[",e[e["\\"]=220]="\\",e[e["]"]=221]="]",e[e["'"]=222]="'",e}({}),nE=function(e){return null!=e},iE=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},lE=function(){return"undefined"!=typeof window},rE=function(e){return Array.isArray(e)},aE=function(e){return nE(e)&&"object"==typeof e},oE=function(e){return"string"==typeof e&&0===e.length},sE=function(e){return rE(e)&&e.every((function(e){return aE(e)}))},uE=function(e,t,n){var i=t.map((function(e){return nE(e)&&nE(e[n])?e[n]:e}));return e.reduce((function(e,t){var l=nE(t)&&nE(t[n])?t[n]:t,r=i.indexOf(l);return-1!==r&&e.push(r),e}),[])},cE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(nE(e))return n?t&&nE(e[t])?e[t]:e:t?e[t]:e},hE=function(e,t,n){if(!nE(e))return!1;var i=String(e);return n&&(i=i.toLowerCase()),0===i.indexOf(t)},dE=function(){function e(t,n){_classCallCheck2(this,e),this.localization=t,this.valueChange=new dr,this.onBlur=new dr,this.onFocus=new dr,this.onClick=new dr,this.onNavigate=new dr,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=n}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;return e.direction=n?"rtl":"ltr"}))}},{key:"ngOnChanges",value:function(e){var t,n;if(this.input&&(e.userInput||e.suggestedText)){var i=this.input.nativeElement.selectionStart,l=(e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue).length===i;this.writeInputValue(this.suggestedText?(t=this.userInput,n=this.suggestedText,t.concat(n.substr(n.toLowerCase().indexOf(t.toLowerCase())+t.length))):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):l?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(i,i),this._previousValue=this.userInput}}},{key:"ngOnDestroy",value:function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"writeInputValue",value:function(e){Bv()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}},{key:"setInputSelection",value:function(e,t){if(Bv()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(n){}}},{key:"handleInput",value:function(e){var t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}},{key:"handleFocus",value:function(e){this.onFocus.emit(e)}},{key:"handleBlur",value:function(e){this.onBlur.emit(e)}},{key:"handleKeydown",value:function(e){[tE.up,tE.down,tE.left,tE.right,tE.enter,tE.esc,tE.delete,tE.backspace,tE.home,tE.end].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}},{key:"focus",value:function(){Bv()&&this.input.nativeElement.focus()}},{key:"blur",value:function(){Bv()&&this.input.nativeElement.blur()}},{key:"setInputSize",value:function(){var e=function(e){return e?e.length:0},t=this.input.nativeElement,n=e(this.placeholder),i=e(this.value),l=Math.max(n,i,1);this.renderer.setAttribute(t,"size",l.toString())}},{key:"userInput",get:function(){return this._userInput},set:function(e){this._userInput=e||""}},{key:"value",get:function(){return this.input.nativeElement.value}},{key:"placeholder",set:function(e){this._placeholder=e||"",this.setInputSize()},get:function(){return this._placeholder}}]),e}(),fE=function e(t){_classCallCheck2(this,e),this.templateRef=t},pE=function(){function e(){_classCallCheck2(this,e),this.onSelect=new dr,this.onChange=new dr,this.onFocus=new dr,this.total=0,this.selectedIndices=[]}return _createClass2(e,[{key:"getTotal",value:function(){return this.total}},{key:"isSelected",value:function(e){return nE(this.selectedIndices.find((function(t){return t===e})))}},{key:"isFocused",value:function(e){return e===this.focused}},{key:"focus",value:function(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}},{key:"select",value:function(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:nE(e)}))}},{key:"add",value:function(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}},{key:"unselect",value:function(e){if(this.isSelected(e)){var t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}}},{key:"change",value:function(e){var t=nE(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}},{key:"resetSelection",value:function(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}},{key:"selected",get:function(){return this.selectedIndices.slice()}},{key:"focused",get:function(){return this.focusedIndex},set:function(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}]),e}(),vE=((QI={})[QI.Undefined=0]="Undefined",QI[QI.Open=1]="Open",QI[QI.Close=2]="Close",QI[QI.Enter=3]="Enter",QI[QI.Tab=4]="Tab",QI[QI.Esc=5]="Esc",QI[QI.Delete=6]="Delete",QI[QI.Backspace=7]="Backspace",QI[QI.Home=8]="Home",QI[QI.End=9]="End",QI[QI.Up=10]="Up",QI[QI.Down=11]="Down",QI[QI.Left=12]="Left",QI[QI.Right=13]="Right",QI),gE=function(){function e(){_classCallCheck2(this,e),this.grouped=!1,this.groupIndices=[]}return _createClass2(e,[{key:"isGrouped",value:function(e){return nE(e)&&0!==e.length&&nE(e[0])&&(t=e[0],n=["aggregates","field","items","value"],!!nE(t)&&n.every((function(e){return t.hasOwnProperty(e)})));var t,n}},{key:"getGroupIndices",value:function(e){for(var t=[],n=0;n<=e.length-1;n++)t[n]=(t[n-1]||0)+e[n].items.length;return t}},{key:"filter",value:function(e){var t=[];if(this.isGrouped(this.data))for(var n=0;n<=this.groupIndices.length-1;n++){var i=this.data[n].items.filter(e);i&&(t=t.concat(i))}else t=this.data.filter(e);return t}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(t){return t===e};return this.grouped&&(n=function(t){return t.value===e}),this.findIndex(n,t)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;if(this.grouped){var i=this._flatData.filter((function(e){return!e.header&&e.offsetIndex>=t}));n=i.findIndex(e),n=i[n]?i[n].offsetIndex:-1}else{var l=this.data.slice(t).findIndex(e);n=-1!==l?l+t:-1}return n}},{key:"closestGroup",value:function(e){for(var t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}},{key:"find",value:function(e){var t=this.findIndex(e);return this.itemAt(t)}},{key:"flatIndex",value:function(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;var t=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));return t?t.index:-1}},{key:"itemAt",value:function(e){var t;if(0===this.itemsCount)return t;if(this.grouped){var n=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));n&&(t=n.value)}else t=this.data[e];return t}},{key:"groupAt",value:function(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(t){return t.header&&t.index===e}))}},{key:"groupField",value:function(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}},{key:"itemGroup",value:function(e){if(e&&0!==this.itemsCount&&this.isGrouped){var t=this.groupField();return t?e[t]:void 0}}},{key:"flatten",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=[];nE(t)&&l.push({header:!0,index:i+n,offsetIndex:i,value:t});for(var r=0;r<e.length;r++){var a=[];e[r].items?(a=this.flatten(e[r].items,e[r].value,n,r),n+=e[r].items.length):a.push({header:!1,index:i+n+r+1,offsetIndex:n+r,value:e[r]}),l=l.concat(a)}return l}},{key:"data",set:function(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))},get:function(){return this.grouped?this._flatData:this._data}},{key:"itemsCount",get:function(){return nE(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(e){return!e.header})):this.data).length:0}}]),e}(),mE=function(){function e(t){_classCallCheck2(this,e),this.dataService=t,this.itemDisabled=null}return _createClass2(e,[{key:"isIndexDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.itemAt(e);if(nE(t))return this.itemDisabled({dataItem:t,index:e});if(nE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}},{key:"isItemDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(nE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}]),e}(),yE=function e(t,n){_classCallCheck2(this,e),this.index=t,this.originalEvent=n},bE=function(){function e(t,n){_classCallCheck2(this,e),this.disabledItemsService=t,this.selectionService=n,this.open=new dr,this.close=new dr,this.enter=new dr,this.tab=new dr,this.esc=new dr,this.up=new dr,this.right=new dr,this.down=new dr,this.left=new dr,this.delete=new dr,this.backspace=new dr,this.home=new dr,this.end=new dr}return _createClass2(e,[{key:"process",value:function(e){var t,n=e.originalEvent.keyCode,i=e.originalEvent.altKey,l=vE.Undefined;i&&n===tE.down?l=vE.Open:i&&n===tE.up?l=vE.Close:n===tE.enter?l=vE.Enter:n===tE.esc?l=vE.Esc:n===tE.tab?l=vE.Tab:n===tE.up?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),l=vE.Up):n===tE.left?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),l=vE.Left):n===tE.down?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),l=vE.Down):n===tE.right?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),l=vE.Right):n===tE.home?(t=this.isDisabled(0)?e.current:0,l=vE.Home):n===tE.end?(t=this.isDisabled(e.max)?e.current:e.max,l=vE.End):n===tE.delete?l=vE.Delete:n===tE.backspace&&(l=vE.Backspace);var r=new yE(t,e.originalEvent);return l!==vE.Undefined&&this[vE[l].toLowerCase()].emit(r),l}},{key:"next",value:function(e){var t=e.current,n=e.start,i=e.end,l=e.step,r=nE(t)?this.clampIndex(t+l,n,i):n,a=this.firstFocusableIndex(r,n,i,l);return nE(a)?a:this.selectionService.isSelected(t)&&t>=n?t:this.firstFocusableIndex(r,n,i,-1*l)}},{key:"clampIndex",value:function(e,t,n){return!nE(e)||e<t?t:e>n?n:e}},{key:"firstFocusableIndex",value:function(e,t,n,i){for(;t<=e&&e<=n;){if(!this.isDisabled(e))return e;e+=i}}},{key:"isDisabled",value:function(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}]),e}(),kE=function(){function e(){_classCallCheck2(this,e),this.prevented=!1}return _createClass2(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),_E=function e(){_classCallCheck2(this,e)},wE=function e(t){_classCallCheck2(this,e),this.element=t},xE=function(){function e(t,n,i,l,r,a,o){_classCallCheck2(this,e),this.dataService=t,this.wrapper=n,this.selectionService=i,this.disabledItemsService=l,this.cdr=r,this.zone=a,this.renderer=o,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new dr,this.pageChange=new dr,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=he(this.selectionService.onSelect.pipe(te((function(e){return e.indices[0]}))),this.selectionService.onFocus).subscribe(this.scrollToItem.bind(this))}return _createClass2(e,[{key:"ngOnChanges",value:function(e){Vv("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.scrollSubscription=Lv(e.content.nativeElement,"scroll").pipe(Nv(100),lc(e.prefetchData.bind(e)),lc(e.findCurrentGroup.bind(e))).subscribe((function(){e.lastScrollTop=e.content.nativeElement.scrollTop}))}))}},{key:"ngAfterViewChecked",value:function(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}},{key:"ngOnDestroy",value:function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"firstVisibleItem",value:function(){var e=this.content.nativeElement,t=e.offsetParent;return document.elementFromPoint((t?t.offsetLeft:0)+e.offsetLeft+1,(t?t.offsetTop:0)+e.offsetTop+1)}},{key:"findCurrentGroup",value:function(){if(this.dataService.grouped){var e,t=this.firstVisibleItem();if(t)"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e)));else this.currentGroup=void 0;this.cdr.detectChanges()}else this.currentGroup=void 0}},{key:"prefetchData",value:function(){if(this.virtual){var e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,n=Math.trunc(t/this.virtual.itemHeight),i=t>this.lastScrollTop,l=this.lastLoaded-this.pageSize+e>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&l&&this.changePage(n-this.pageSize+e+1)}}},{key:"changePage",value:function(e){var t=this;this.zone.run((function(){var n=t.pageSize+e;n>t.virtual.total&&(e--,n=t.virtual.total),e<0&&(e=0),t.startFrom=e,t.lastLoaded=n,t.pageChange.emit({skip:e,take:t.pageSize})}))}},{key:"index",value:function(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}},{key:"getText",value:function(e){return cE(e,this.textField)}},{key:"getValue",value:function(e){return cE(e,this.valueField)}},{key:"isDisabled",value:function(e){return this.disabledItemsService.isIndexDisabled(e)}},{key:"scrollToItem",value:function(e){var t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)this.scrollToIndex(t);else{var n=this.items.toArray();nE(n[t])&&-1!==t&&this.scroll(n[t].element)}}},{key:"scrollToIndex",value:function(e){var t=this.content.nativeElement,n=t.scrollTop,i=e*this.virtual.itemHeight,l=t.clientHeight,r=i+this.virtual.itemHeight;n>i?n=i:r>n+l&&(n=r-l),t.scrollTop=n}},{key:"scroll",value:function(e){if(e){var t=e.nativeElement,n=this.content.nativeElement,i=t.offsetTop,l=n.scrollTop,r=n.clientHeight,a=i+t.offsetHeight;l>i?l=i:a>l+r&&(l=a-r),n.scrollTop=l}}},{key:"positionItems",value:function(){var e=this;this.items.forEach((function(t,n){e.renderer.setStyle(t.element.nativeElement,"transform","translateY(".concat((n+e.startFrom)*e.virtual.itemHeight,"px"))}))}},{key:"firstGroupHeaderInTargetedPage",value:function(e){return!nE(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}},{key:"data",set:function(e){this._data=e[0]&&e[0].header?e.slice(0):e},get:function(){return this._data}},{key:"items",set:function(e){this._items=e},get:function(){return this._items}},{key:"pageSize",get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}},{key:"scrollHeight",get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}}]),e}(),CE={pageSize:50,itemHeight:28},SE=function(e){return!0===e?CE:e?Object.assign({pageSize:CE.pageSize},e):null},TE=new qe("dropdowns-touch-enabled"),PE="Expected values of array type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",ME="Expected values of Object type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",AE="Expected values of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#value-selection",IE="Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/multiselect/#toc-bind-to-arrays-of-complex-data",EE="Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",DE="Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-value-selection",OE="Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/combobox/#toc-bind-to-arrays-of-complex-data",FE="Expected virtual.itemHeight of type number.",RE="defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem",NE="Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",LE="Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection",BE="Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data",VE=function(){function e(t,n,i,l,r,a,o,s,u,c,h){_classCallCheck2(this,e),this.localization=t,this.popupService=n,this.selectionService=i,this.navigationService=l,this.disabledItemsService=r,this.dataService=a,this._zone=o,this.cdr=s,this.renderer=u,this.touchEnabled=h,this.selected=[],this.focusableId="k-".concat(iE()),this.allowCustom=!1,this.valueNormalizer=function(e){return e.pipe(te((function(e){return e})))},this.placeholder="",this.listHeight=200,this.suggest=!1,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new dr,this.selectionChange=new dr,this.filterChange=new dr,this.open=new dr,this.close=new dr,this.onFocus=new dr,this.onBlur=new dr,this.widgetClasses=!0,this.isFocused=!1,this.listBoxId=iE(),this.optionPrefix=iE(),this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this._filtering=!1,this._text="",this.filterText="",this._open=!1,this._popupSettings={animate:!0},this.popupMouseDownHandler=function(e){return e.preventDefault()},this.customValueSubject=new j,this.valueSubject=new j,this.clearValueSubject=new j,this.selectionSubject=new j,this.subs=new C,this.direction=t.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[]}return _createClass2(e,[{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"ngOnInit",value:function(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.attachStreams(),this.createSelectionStream(),this.createValueStream(),this.setMessages()}},{key:"createValueStream",value:function(){var e,t=this,n=this.valueSubject.pipe($u((function(e){var n=t.prop(t.valueField,t.valuePrimitive),i=t.prop(t.textField,t.valuePrimitive),l=n(t.value),r=n(e),a=i(e);return!(!nE(t.value)&&!nE(r)||(nE(a)&&(a=a.toString()),l===r&&t.text===a&&(t.clearFilter(),1)))})),te((function(e){var n=t.prop(t.valueField,t.valuePrimitive),i=t.prop(t.textField,t.valuePrimitive),l=n(e);return{dataItem:e,text:i(e),value:t.valuePrimitive?l:e}}))),i=(e=function(){return t.allowCustom},function(t){return[$u(e,void 0)(t),$u(UI(e,void 0))(t)]})(this.customValueSubject.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ev,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:YI;return function(i){return i.lift(new qI(e,t,n.leading,n.trailing))}}(300))),l=i[0].pipe(lc((function(){t.loading=!0,t.disabled=!0,t.cdr.detectChanges()})),$u((function(){var e=t.prop(t.valueField,t.valuePrimitive),n=t.text!==e(t.value);return t.loading=n,t.disabled=n,n||t.clearFilter(),n})),this.valueNormalizer,te((function(e){return{custom:!0,dataItem:e,text:t.text,value:e}}))),r=i[1].pipe(te((function(){return{custom:!0,dataItem:void 0,text:void 0,value:void 0}}))),a=this.clearValueSubject.pipe(te((function(){return{dataItem:void 0,text:void 0,value:void 0}})));this.valueSubscription&&this.valueSubscription.unsubscribe();var o=he(n,l,r,a);this.valueSubscription=o.pipe(fc((function(){return t.dataItem=void 0,t.value=void 0,t.text=void 0,t.loading=!1,t.disabled=!1,t.emitSelectionChange(void 0),t.emitValueChange(),t.createValueStream(),ju(null)}))).subscribe((function(e){t.dataItem=e.dataItem,t.value=e.value,t.text=e.text,t.loading=!1,t.disabled=!1,t.clearFilter(),e.custom&&(t.selectionService.focused=-1),t.emitSelectionChange(e.custom?void 0:t.dataItem),t.emitValueChange()}))}},{key:"attachStreams",value:function(){var e=this;Bv()&&(this.subs.add(this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()}))),this.subs.add(he(this.navigationService.up,this.navigationService.down,this.navigationService.home,this.navigationService.end).pipe($u((function(e){return nE(e.index)}))).subscribe((function(t){return e.navigate(t.index)}))),this.subs.add(this.navigationService.open.subscribe(this.handleNavigationOpen.bind(this))),this.subs.add(this.navigationService.close.subscribe((function(){return e.togglePopup(!1)}))),this.subs.add(this.navigationService.esc.subscribe(this.handleEscape.bind(this))),this.subs.add(this.navigationService.enter.pipe(lc((function(t){e.isOpen&&t.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this))),this.subs.add(he(this.selectionService.onChange,this.selectionService.onSelect.pipe($u((function(t){return!e.isOpen})))).pipe(lc((function(t){e._filtering=!1,e.togglePopup(!1)})),te((function(t){return e.dataService.itemAt(t.indices[0])}))).subscribe((function(t){e.change(t)}))),this.subs.add(this.selectionService.onSelect.pipe($u((function(t){return e.isOpen})),lc((function(t){return e._filtering=!1})),te((function(t){return e.dataService.itemAt(t.indices[0])}))).subscribe((function(t){e.updateState({dataItem:t}),e.emitSelectionChange(t)}))))}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),clearTimeout(this.messagesTimeout),this.subs.unsubscribe(),[this.valueSubscription,this.selectionSubscription].forEach((function(e){return nE(e)&&e.unsubscribe()}))}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),this.verifySettings(this.value),Vv("valueNormalizer",e)&&this.createValueStream(),Vv("value",e)&&this.createSelectionStream(),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),/(value|textField|valueField|valuePrimitive)/g.test(Object.keys(e).join())&&this.setState()}},{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e),t.cdr.markForCheck()}))}},{key:"reset",value:function(){this.value=void 0,this.clearState(),this.resetSelection(),this.createSelectionStream()}},{key:"isEmpty",value:function(){var e=!nE(this.text)||oE(this.text),t=!nE(this.value)||oE(this.value);return e&&t}},{key:"clearValue",value:function(e){e.stopImmediatePropagation(),this.focus(),this._filtering=!0,this._previousDataItem=void 0,this.selectionService.resetSelection([]),this.clearValueSubject.next(),this._filtering=!1}},{key:"writeValue",value:function(e){this.text="",this.value=null===e?void 0:e,this.setState(),this.createSelectionStream()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"onResize",value:function(){if(this.isOpen){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"verifySettings",value:function(e){var t=!nE(this.valueField)!=!nE(this.textField);if(xt()){if(!0===this.valuePrimitive&&nE(e)&&"object"==typeof e)throw new Error(DE);if(!1===this.valuePrimitive&&nE(e)&&"object"!=typeof e)throw new Error(EE);if(t)throw new Error(OE);if(this.virtual&&isNaN(this.virtual.itemHeight))throw new Error(FE)}}},{key:"setState",value:function(){if(!this._filtering){var e=this.value,t=this.findDataItem({primitive:this.valuePrimitive,valueField:this.valueField,value:e});nE(t.dataItem)?(this.updateState({dataItem:t.dataItem,confirm:!0}),this.resetSelection(t.index)):nE(e)&&this.allowCustom?(this.updateState({dataItem:e}),this.resetSelection(-1)):this._previousDataItem&&this.value?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection(-1))}}},{key:"updateState",value:function(e){var t=e.dataItem,n=e.confirm,i=void 0!==n&&n;this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),i&&(this._previousDataItem=t)}},{key:"clearState",value:function(){this.text=void 0,this.dataItem=void 0}},{key:"resetSelection",value:function(e){var t=!nE(e)||e<0;this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=e}},{key:"firstFocusableIndex",value:function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"findIndexPredicate",value:function(e){var t=this;return this.dataService.grouped?function(n){var i=t.prop(t.textField,t.valuePrimitive)(n.value);return(i=nE(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(n){var i=t.prop(t.textField,t.valuePrimitive)(n);return(i=nE(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}}},{key:"prop",value:function(e,t){return function(n){return nE(n)?t?e&&aE(n)?n[e]:n:n[e]:null}}},{key:"findDataItem",value:function(e){var t=e.primitive,n=e.valueField,i=e.value,l={dataItem:null,index:-1},r=this.prop(n,t),a=this.dataService.findIndex(this.dataService.grouped?function(e){return r(e.value)===r(i)}:function(e){return r(e)===r(i)});return l.dataItem=this.dataService.itemAt(a),l.index=a,l}},{key:"search",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),n):-1,this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=cE(this.dataService.itemAt(t),this.textField)))}},{key:"getSuggestion",value:function(){if(!this.selectionService.selected.length&&this.suggest&&!this.backspacePressed&&this.suggestedText&&this.text&&this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase()))return this.suggestedText;this.suggestedText=void 0}},{key:"navigate",value:function(e){0!==this.dataService.itemsCount&&(this.text=this.prop(this.textField,this.valuePrimitive)(this.dataService.itemAt(e)),this.selectionService.select(e))}},{key:"handleNavigate",value:function(e){var t=nE(this.selectionService.selected[0]),n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused,i=0;if(!this.disabled&&!this.readonly&&e.keyCode!==tE.home&&e.keyCode!==tE.end){t||(e.keyCode===tE.down?i=-1:e.keyCode===tE.up&&(i=1));var l=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:0,originalEvent:e});l!==vE.Undefined&&l!==vE.Left&&l!==vE.Right&&l!==vE.Backspace&&l!==vE.Delete&&(l===vE.Enter&&this.isOpen||l!==vE.Enter)&&e.preventDefault()}}},{key:"handleEnter",value:function(){var e=this.text,t=this.selectionService.focused,n=nE(t)&&-1!==t,i=cE(this._previousDataItem,this.textField)||"",l=cE(this.dataService.itemAt(t),this.textField),r=e!==i;this.togglePopup(!1),this._filtering=!1,this.allowCustom&&r&&(e===l||this.useSuggestion()?this.selectionService.change(t):this.change(e,!0)),this.allowCustom||(n?this.selectionService.change(t):r&&this.change(e,!0))}},{key:"handleBlur",value:function(){this._filtering=!1;var e=this.searchbar.value;if(!e&&!nE(this._previousDataItem)&&!nE(this.dataItem))return this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),void this.onTouchedCallback();var t,n=this.selectionService.focused;-1!==n&&void 0!==n&&(t=cE(this.dataService.itemAt(n),this.textField),t=nE(t)?t.toString().toLowerCase():""),t===e.toLowerCase()?this.selectionService.change(n):this.change(e,!0),this.togglePopup(!1),this.isFocused=!1,this.onBlur.emit(),this.onTouchedCallback()}},{key:"handleEscape",value:function(){this.togglePopup(!1),this.selectionService.selected.length>0||(this.suggestedText=null,this.selectionService.focused=-1)}},{key:"handleNavigationOpen",value:function(){this.restoreItemFocus(),this.togglePopup(!0)}},{key:"searchBarChange",value:function(e){this.backspacePressed=e.length<(this.text?this.text.length:0),this.text=e,this.selectionService.resetSelection([]),this.togglePopup(!0),this._filtering=!0,this.filterable&&this.filterText!==e?(this.filterText=e,this.filterChange.emit(e)):this.search(e)}},{key:"handleFocus",value:function(){this.isFocused=!0,this.onFocus.emit()}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"change",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?this.customValueSubject.next(e):this.valueSubject.next(e)}},{key:"emitSelectionChange",value:function(e){this.selectionSubject.next(e)}},{key:"emitValueChange",value:function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value),this._previousDataItem=this.dataItem}},{key:"selectClick",value:function(){this.touchEnabled||this.searchbar.focus(),this.isOpen||this.restoreItemFocus(),this.togglePopup(!this.isOpen)}},{key:"restoreItemFocus",value:function(){!(nE(this.selectionService.focused)&&this.selectionService.focused>-1)&&this.text&&this.dataService.itemsCount&&(this.filterable?this.selectionService.focused=this.firstFocusableIndex(0):this.search(this.text))}},{key:"useSuggestion",value:function(){if(!this.suggest||!nE(this.searchbar.value))return!1;var e=this.dataService.itemAt(this.selectionService.focused),t=this.prop(this.textField,this.valuePrimitive)(e);return!!nE(t)&&this.searchbar.value.toLowerCase()===t.toLowerCase()}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",anchorAlign:{horizontal:t,vertical:"bottom"},popupAlign:{horizontal:t,vertical:"top"}});var n=this.popupRef.popupElement,i=this.width,l=i.min,r=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=l,n.style.width=r,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new kE;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"clearFilter",value:function(){this.filterable&&this.filterText&&(this.filterText="",this.filterChange.emit(this.filterText))}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"createSelectionStream",value:function(){var e=this;nE(this.selectionSubscription)&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=this.selectionSubject.pipe((function(e){return e.lift(new KI(void 0,void 0))})).subscribe((function(t){return e.selectionChange.emit(t)}))}},{key:"width",get:function(){var e=0;Bv()&&(e=this.wrapper.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return nE(e)?"".concat(e,"px"):"auto"}},{key:"text",set:function(e){this._text=nE(e)?e.toString():""},get:function(){return this._text}},{key:"activeDescendant",get:function(){if(!this.isOpen||!nE(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+(e?cE(e,this.valueField):"")}},{key:"noDataLabel",get:function(){if(0===this.data.length)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){if(this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(),this._filtering){var t=this.text.length>0&&this.dataService.itemsCount>0?this.firstFocusableIndex(0):-1;this.selectionService.focused=t}this.suggest&&this.dataService.itemsCount&&this.text&&(this.suggestedText=cE(this.dataService.itemAt(0),this.textField))},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this.verifySettings(e),this._value=e,this.cdr.markForCheck()},get:function(){return this._value}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"virtual",set:function(e){this._virtualSettings=SE(e)},get:function(){return this._virtualSettings}},{key:"clearable",get:function(){return this.clearButton}},{key:"dir",get:function(){return this.direction}},{key:"isOpen",get:function(){return this._open}},{key:"buttonClasses",get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}}]),e}(),zE=function(){function e(t,n,i,l,r,a,o,s,u,c,h){_classCallCheck2(this,e),this.localization=t,this.popupService=n,this.selectionService=i,this.navigationService=l,this.disabledItemsService=r,this.dataService=a,this._zone=o,this.renderer=s,this.hostElement=u,this.cdr=c,this.touchEnabled=h,this.focusableId="k-".concat(iE()),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new dr,this.filterChange=new dr,this.selectionChange=new dr,this.open=new dr,this.close=new dr,this.onFocus=new dr,this.onBlur=new dr,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=iE(),this.optionPrefix=iE(),this.valueLabelId=iE(),this.filterText="",this.isFocused=!1,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.word="",this.last="",this.filterFocused=new dr,this.filterBlurred=new dr,this.wrapperFocused=new dr,this.wrapperBlurred=new dr,this.selectionSubscription=new C,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.hostElement=u.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this)}return _createClass2(e,[{key:"blurComponent",value:function(){this.wrapperBlurred.emit()}},{key:"blurFilterInput",value:function(){this.filterBlurred.emit()}},{key:"focusComponent",value:function(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,this.onFocus.emit())}},{key:"keydown",value:function(e){var t=nE(this.defaultItem)?-1:0,n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,i=0;if(!(this.disabled||this.readonly||this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===tE.home||e.keyCode===tE.end))){var l=nE(this.selectionService.selected[0]),r=nE(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);l&&!r||(e.keyCode===tE.down||e.keyCode===tE.right?i=-1:e.keyCode!==tE.up&&e.keyCode!==tE.left||(i=1));var a=e,o=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:a});o===vE.Undefined||o===vE.Tab||o===vE.Backspace||o===vE.Delete||(o===vE.Left||o===vE.Right)&&this.filterable||o===vE.Enter||a.preventDefault()}}},{key:"keypress",value:function(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}},{key:"click",value:function(){this.focus(),this.togglePopup(!this.isOpen)}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"isEmpty",value:function(){var e=this.value;return!(0===e||!1===e||e||this.defaultItem)}},{key:"onFilterFocus",value:function(){this.filterFocused.emit()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),e.hasOwnProperty("value")&&(this.verifySettings(e.value.currentValue),nE(this.value)||(this._previousDataItem=void 0)),e.hasOwnProperty("defaultItem")&&(this.disabledItemsService.defaultItem=this.defaultItem),/(value|textField|valueField|valuePrimitive|defaultItem|itemDisabled)/g.test(Object.keys(e).join())&&this.setState()}},{key:"focus",value:function(){this.disabled||this.wrapper.nativeElement.focus()}},{key:"blur",value:function(){this.disabled||this.wrapper.nativeElement.blur()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(e)}))}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new kE;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}},{key:"reset",value:function(){this._previousDataItem=void 0,this.value=void 0,this.setState()}},{key:"writeValue",value:function(e){this.verifySettings(e),this.value=null===e?void 0:e,nE(e)||(this._previousDataItem=void 0),this.setState()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"getText",value:function(){return this.text}},{key:"getDefaultItemText",value:function(){return cE(this.defaultItem,this.textField)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var n=this.popupRef.popupElement,i=this.width,l=i.min,r=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=l,n.style.width=r,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"updateState",value:function(e){var t=e.dataItem,n=e.confirm,i=void 0!==n&&n;this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),i&&(this._previousDataItem=t)}},{key:"clearState",value:function(){this.text=void 0,this.dataItem=void 0}},{key:"resetSelection",value:function(e){var t=!nE(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}},{key:"onSelectionChange",value:function(e){var t=e.dataItem;this.updateState({dataItem:t}),this.selectionChange.emit(t),this.valueLabelId=iE()}},{key:"subscribeEvents",value:function(){var e=this;Bv()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe($u((function(t){return e.isOpen})),te(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(he(this.selectionService.onSelect.pipe($u((function(t){return!e.isOpen}))),this.selectionService.onChange).pipe(te(this.itemFromEvent.bind(this)),lc((function(t){return e.togglePopup(!1)}))).subscribe((function(t){var n=t.dataItem,i=t.value;t.newSelection&&e.onSelectionChange({dataItem:n});var l=!nE(n)&&e._previousDataItem,r=i!==e.prop(e.valueField,e.valuePrimitive)(e.value);l?(e.updateState({dataItem:e._previousDataItem}),e.resetSelection()):r&&(e.value=e.valuePrimitive?i:n,e._previousDataItem=n,e.emitChange(e.value)),e.clearFilter()}))),this.navigationSubscription=he(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(ZI((function(){return e.filterable}))),this.navigationService.right.pipe(ZI((function(){return e.filterable}))),this.navigationService.home,this.navigationService.end).pipe($u((function(e){return!isNaN(e.index)}))).subscribe((function(t){return e.selectionService.select(t.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.enterSubscription=this.navigationService.enter.pipe(lc((function(e){return e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Mc((function(){return cS(10).pipe(gc(1),Zg(e.wrapperFocused))}))).subscribe((function(){e.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){e.componentBlurredSubscription=he(e.wrapperBlurred.pipe(Mc((function(){return cS(10).pipe(gc(1),Zg(e.filterFocused))}))),e.navigationService.tab).pipe(lc((function(t){return t instanceof yE&&e.focus()})),$u((function(){return e.isFocused}))).subscribe((function(){return e._zone.run((function(){e.componentBlur()}))}))})))}},{key:"unsubscribeEvents",value:function(){Bv()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}},{key:"itemFromEvent",value:function(e){var t=e.indices[0],n=this.dataService.itemAt(t);n=nE(n)?n:this.currentOrDefault(t);var i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:t,newSelection:e.newSelection,value:i}}},{key:"currentOrDefault",value:function(e){return nE(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"handleEnter",value:function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}},{key:"handleEscape",value:function(){this.selectionService.change(this.selectionService.selected[0]),this.focus()}},{key:"clearFilter",value:function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}},{key:"verifySettings",value:function(e){var t=!nE(this.valueField)!=!nE(this.textField);if(xt()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error(RE);if(!0===this.valuePrimitive&&nE(e)&&"object"==typeof e)throw new Error(LE);if(!1===this.valuePrimitive&&nE(e)&&"object"!=typeof e)throw new Error(NE);if(t)throw new Error(BE)}}},{key:"componentBlur",value:function(){this.isFocused=!1,this.selectionService.change(this.selectionService.selected[0]),this.onBlur.emit(),this.onTouchedCallback()}},{key:"onMouseDown",value:function(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}},{key:"onKeyPress",value:function(e){if(0!==e.which&&e.keyCode!==tE.enter){var t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}}},{key:"search",value:function(){var e=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){e.word=""}),this.delay),this.selectNext())}},{key:"selectNext",value:function(){var e,t,n,i=this,l=this.dataService.filter((function(e){return nE(e)&&!e.header&&!i.disabledItemsService.isItemDisabled(e)})).map((function(e){return i.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:i.dataService.indexOf(e)}})),r=function(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}(this.word,this.last),a=l.length,o=!isNaN(this.selectionService.selected[0]),s=o?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(n={item:this.defaultItem,itemIndex:-1},a+=1,s+=1),l=function(e,t,n){var i=e;return n&&(i=[n].concat(i)),i.slice(t).concat(i.slice(0,t))}(l,s+=r&&o?1:0,n),t=0;t<a;t++){e=cE(l[t].item,this.textField);var u=Boolean(r&&hE(e,this.last,this.ignoreCase)),c=Boolean(hE(e,this.word,this.ignoreCase));if(u||c){t=l[t].itemIndex;break}}t!==a&&this.navigate(t)}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"navigate",value:function(e){this.selectionService.select(e)}},{key:"prop",value:function(e,t){return function(n){return nE(n)?t?e&&aE(n)?n[e]:n:n[e]:null}}},{key:"findDataItem",value:function(e){var t=e.primitive,n=e.valueField,i=e.value,l={dataItem:null,index:-1},r=this.prop(n,t),a=this.dataService.findIndex(this.dataService.grouped?function(e){return r(e.value)===r(i)}:function(e){return r(e)===r(i)});return l.dataItem=this.dataService.itemAt(a),l.index=a,l}},{key:"setState",value:function(){var e=this.value,t=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){var l=this.prop(t,i)(this.defaultItem),r=this.prop(t,i)(e);if(!nE(e)||r===l)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var a=this.findDataItem({primitive:i,valueField:t,value:e}),o=!(i&&n);a.dataItem?(this.updateState({dataItem:a.dataItem,confirm:!0}),this.resetSelection(a.index)):nE(e)&&o?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}},{key:"handleFilter",value:function(e){this.filterChange.emit(e.target.value)}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"width",get:function(){var e=Bv()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return nE(e)?"".concat(e,"px"):"auto"}},{key:"widgetTabIndex",get:function(){if(!this.disabled){var e=Number(this.tabIndex);return isNaN(e)?0:e}}},{key:"ariaExpanded",get:function(){return this.isOpen}},{key:"ariaOwns",get:function(){if(this.isOpen)return this.listBoxId}},{key:"ariaActivedescendant",get:function(){if(nE(this.dataItem))return this.optionPrefix+"-"+cE(this.dataItem,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this._value=e,this.cdr.markForCheck()},get:function(){return this._value}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",set:function(e){this._virtualSettings=SE(e)},get:function(){return this._virtualSettings}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"dir",get:function(){return this.direction}},{key:"isOpen",get:function(){return this._open}},{key:"buttonClasses",get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"isDisabledDefaultItem",get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}}]),e}(),jE=function e(t){_classCallCheck2(this,e),this.templateRef=t},HE=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).dataItem=e,n}return _inherits(t,e),t}(kE),WE=function(){function e(t,n,i,l,r,a,o,s,u,c,h,d){var f=this;_classCallCheck2(this,e),this.localization=t,this.popupService=n,this.dataService=i,this.selectionService=l,this.navigationService=r,this.disabledItemsService=a,this.cdr=o,this.differs=s,this.renderer=u,this.hostElement=c,this._zone=h,this.touchEnabled=d,this.listBoxId=iE(),this.tagListId=iE(),this.tagPrefix="tag-"+iE(),this.optionPrefix="option-"+iE(),this.focusedTagIndex=void 0,this.focusableId="k-".concat(iE()),this.autoClose=!0,this.tabindex=0,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.listHeight=200,this.clearButton=!0,this.tagMapper=function(e){return e||[]},this.allowCustom=!1,this.valueNormalizer=function(e){return e.pipe(te((function(e){var t=function(t){return"string"==typeof t&&e.toLowerCase()===t.toLowerCase()};return f.value.find(t)||f.dataService.find(t)||e})))},this.filterChange=new dr,this.valueChange=new dr,this.open=new dr,this.close=new dr,this.onFocus=new dr,this.onBlur=new dr,this.removeTag=new dr,this.widgetClasses=!0,this.onChangeCallback=function(e){},this.onTouchedCallback=function(e){},this._placeholder="",this._open=!1,this._value=[],this._popupSettings={animate:!0},this.isFocused=!1,this.selectedDataItems=[],this.customValueSubject=new j,this.observableSubscriptions=new C,this.hostElement=c.nativeElement,this.popupMouseDownHandler=this.onMouseDown.bind(this),this.data=[],this.direction=this.localization.rtl?"rtl":"ltr",this.subscribeEvents()}return _createClass2(e,[{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"onSearchBarFocus",value:function(){this.isFocused||(this.isFocused=!0,this.onFocus.emit())}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"onSearchBarBlur",value:function(){this.isFocused&&(this.closePopup(),this.isFocused=!1,this.allowCustom||this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback())}},{key:"wrapperMousedown",value:function(e){if(0===e.button){if(this.isFocused&&this.isOpen&&e.target===this.searchbar.input.nativeElement)return;(!this.touchEnabled||this.touchEnabled&&"SPAN"!==e.target.tagName)&&this.searchbar.focus(),this.togglePopup(!this.isOpen),e.preventDefault()}}},{key:"onMouseDown",value:function(e){e.preventDefault()}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"verifySettings",value:function(){var e=!nE(this.valueField)!=!nE(this.textField);if(xt()&&0!==this.value.length){if(!rE(this.value))throw new Error(PE);if(!0===this.valuePrimitive&&sE(this.value))throw new Error(AE);if(!1===this.valuePrimitive&&!sE(this.value))throw new Error(ME);if(e)throw new Error(IE)}}},{key:"change",value:function(e){if(!nE(e.added)&&!nE(e.removed)||-1!==e.added&&-1!==e.removed){if(nE(e.added)){var t=this.dataService.itemAt(e.added),n=this.valuePrimitive&&nE(t)&&nE(t[this.valueField])?t[this.valueField]:t;this.value=[].concat(_toConsumableArray(this.value),[n]),this.cdr.markForCheck()}if(nE(e.removed)){var i=this.dataService.itemAt(e.removed),l=this.prop(this.valueField,this.valuePrimitive),r=function(e){return l(e)!==l(i)};this.value=this.value.filter(r),this.selectedDataItems=this.selectedDataItems.filter(r),this.tags=this.tagMapper(this.selectedDataItems.slice()),this.cdr.detectChanges()}this.emitValueChange()}else this.addCustomValue(this.text)}},{key:"setState",value:function(e){var t=this,n=sE(e),i=this.dataService.data;this.dataService.grouped&&(i=i.filter((function(e){return!e.header})).map((function(e){return e.value})));var l=uE(this.value,i,this.valueField);if(this.selectionService.resetSelection(l),this.isOpen&&void 0===this.selectionService.focused&&(this.selectionService.focused=this.dataService.itemsCount?this.firstFocusableIndex(0):this.allowCustom?-1:void 0),!this.text&&(nE(e)&&e.length||(this.selectedDataItems=[]),this.valuePrimitive&&!this.valueField&&(this.selectedDataItems=e.slice()),(n||this.valuePrimitive&&this.valueField)&&(this.selectedDataItems=function(e,t,n){var i=function(e,t){return rE(e)&&e.filter((function(e){return aE(e)&&e[t]}))}(e,n)||[];return(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return e.map((function(e){return t.find((function(t){return t[n]===e}))})).filter((function(e){return void 0!==e}))}(e,t,n)||[]).concat(i)}(e,i,this.valueField)),this.selectedDataItems.length<e.length)){var r=this.prop(this.valueField,this.valuePrimitive),a=e.map((function(e){var n=t.selectedDataItems.find((function(t){return r(t)===r(e)}));return nE(n)?n:t.resolveDataItemFromTags(e)})).filter((function(e){return nE(e)}));this.selectedDataItems=a}this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}},{key:"handleFilter",value:function(e){this.text=e,e&&!this.isOpen&&this.openPopup(),this.filterable?this.filterChange.emit(e):this.searchTextAndFocus(e),this.searchbar.setInputSize()}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"clearFilter",value:function(){this.filterable&&this.text&&this.filterChange.emit(""),this.text="",this.searchbar.input.nativeElement.value="",this.searchbar.setInputSize()}},{key:"handleNavigate",value:function(e){var t=this.text&&e.keyCode!==tE.down&&e.keyCode!==tE.up,n=this.text&&e.keyCode===tE.enter||e.keyCode===tE.esc;if(!this.text&&e.keyCode===tE.backspace&&this.tags.length>0)this.handleBackspace();else if(!(this.disabled||t&&!n)){var i=e,l=isNaN(this.selectionService.focused)?-1:this.selectionService.focused,r=this.navigationService.process({current:l,max:this.dataService.itemsCount-1,min:this.allowCustom&&this.text?-1:0,open:this.isOpen,originalEvent:i});r!==vE.Undefined&&(r===vE.Enter&&this.isOpen||r!==vE.Enter)&&e.preventDefault()}}},{key:"handleRemoveTag",value:function(e){var t=new HE(e);this.disabled||this.readonly||(this.focus(),this.removeTag.emit(t),t.isDefaultPrevented()||(e instanceof Array?this.removeGroupTag(e):this.removeSingleTag(e),this.cdr.detectChanges()))}},{key:"clearAll",value:function(e){e.stopImmediatePropagation(),this.clearFilter(),this.reset(),this.emitValueChange()}},{key:"addCustomValue",value:function(e){this.customValueSubject.next(e)}},{key:"ngAfterContentChecked",value:function(){this.verifySettings()}},{key:"ngDoCheck",value:function(){var e=this;if(this.differ){var t=this.differ.diff(this.value);if(t&&!this.valueChangeDetected){if(this.selectedDataItems=this.getSelectedDataItems(t),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),!this.tags||!this.dataService.data)return;this.selectedDataItems.some((function(t){return!(function(t){return-1===e.dataService.indexOf(t)}(t)||function(t){return e.selectionService.isSelected(e.dataService.indexOf(t))}(t))}))&&this.setState(this.value)}}this.valueChangeDetected=!1}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement,"tabindex"),this.createCustomValueStream(),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),void 0===this.valuePrimitive&&(this.valuePrimitive=!this.valueField),Vv("valueNormalizer",e)&&this.createCustomValueStream(),e.hasOwnProperty("value")&&(this.valueChangeDetected=!0),/(data|textField|valueField|valuePrimitive|value)/g.test(Object.keys(e).join())&&this.setState(this.value)}},{key:"ngAfterViewInit",value:function(){this.searchbar.setInputSize()}},{key:"ngOnDestroy",value:function(){this._toggle(!1),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){t._toggle(void 0===e?!t._open:e),t.cdr.markForCheck()}))}},{key:"reset",value:function(){this.text="",this.value=[],this.selectedDataItems=[],this.setState([]),this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.value=e||[],this.setState(this.value),this.verifySettings()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"onTagMapperChange",value:function(){this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck()}},{key:"prop",value:function(e,t){return function(n){return nE(n)?t?e&&aE(n)?n[e]:n:n[e]:null}}},{key:"subscribeEvents",value:function(){var e=this;if(Bv()){var t=function(){return e.isOpen},n=function(){return!e.isOpen},i=function(){return!e.isOpen&&void 0!==e.focusedTagIndex};[this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.navigationService.esc.subscribe(this.closePopup.bind(this)),this.navigationService.enter.pipe($u(t)).subscribe(this.handleEnter.bind(this)),this.navigationService.open.subscribe(this.openPopup.bind(this)),this.navigationService.close.subscribe(this.handleClose.bind(this)),this.navigationService.up.pipe($u(t)).subscribe((function(t){return e.handleUp(t.index)})),this.navigationService.home.pipe($u((function(){return n}))).subscribe(this.handleHome.bind(this)),this.navigationService.end.pipe($u((function(){return n}))).subscribe(this.handleEnd.bind(this)),this.navigationService.backspace.pipe($u(i)).subscribe(this.handleBackspace.bind(this)),this.navigationService.delete.pipe($u(i)).subscribe(this.handleDelete.bind(this)),this.navigationService.left.subscribe(this.handleLeftKey.bind(this)),this.navigationService.right.subscribe(this.handleRightKey.bind(this)),this.navigationService.down.subscribe((function(t){return e.handleDownKey(t.index)}))].forEach((function(t){return e.observableSubscriptions.add(t)}))}}},{key:"unsubscribeEvents",value:function(){Bv()&&(this.observableSubscriptions.unsubscribe(),this.customValueSubscription&&this.customValueSubscription.unsubscribe())}},{key:"removeGroupTag",value:function(e){var t=this.prop(this.valueField,this.valuePrimitive),n=this.dataService.data;this.dataService.grouped&&(n=n.filter((function(e){return!e.header})).map((function(e){return e.value})));var i=new Set(e.map((function(e){return t(e)})));this.value=this.value.filter((function(e){return!i.has(t(e))})),this.selectedDataItems=this.selectedDataItems.filter((function(e){return!i.has(t(e))}));var l=uE(this.value,n,this.valueField);this.selectionService.resetSelection(l),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}},{key:"removeSingleTag",value:function(e){var t=this.prop(this.valueField,this.valuePrimitive),n=this.dataService.data;this.dataService.grouped&&(n=n.filter((function(e){return!e.header})).map((function(e){return e.value})));var i=uE([e],n,this.valueField)[0];if(isNaN(i)){var l=function(n){return t(n)!==t(e)};this.value=this.value.filter(l),this.selectedDataItems=this.selectedDataItems.filter(l),this.tags=this.tagMapper(this.selectedDataItems.slice(0)),this.cdr.markForCheck(),this.emitValueChange()}else this.selectionService.unselect(i),this.togglePopup(!1)}},{key:"createCustomValueStream",value:function(){var e=this;this.customValueSubscription&&this.customValueSubscription.unsubscribe(),this.customValueSubscription=this.customValueSubject.pipe(lc((function(){e.loading=!0,e.disabled=!0,e.cdr.detectChanges()})),this.valueNormalizer,fc((function(){return e.loading=!1,e.disabled=!1,e.clearFilter(),e.autoClose&&(e.togglePopup(!1),e.nextTick((function(){e.searchbar.focus()}))),e.createCustomValueStream(),ju(null)}))).subscribe((function(t){if(e.loading=!1,e.disabled=!1,e.clearFilter(),nE(t)){var n=e.valuePrimitive?cE(t,e.valueField):t,i=e.dataService.indexOf(n),l=-1===i;-1===e.value.indexOf(n)?(l?e.value=[].concat(_toConsumableArray(e.value),[n]):e.selectionService.add(i),e.selectedDataItems=[].concat(_toConsumableArray(e.selectedDataItems),[t])):!l&&e.selectionService.isSelected(i)?e.selectionService.unselect(i):(e.value.splice(e.value.indexOf(n),1),e.selectedDataItems=e.selectedDataItems.filter((function(t){return cE(t,e.valueField)!==n}))),e.tags=e.tagMapper(e.selectedDataItems.slice(0)),e.emitValueChange()}e.autoClose&&(e.togglePopup(!1),e.nextTick((function(){e.searchbar.focus()})))}))}},{key:"handleItemChange",value:function(e){this.change(e),this.autoClose&&this.togglePopup(!1),nE(e.added)&&-1!==e.added&&this.clearFilter()}},{key:"handleEnter",value:function(e){var t=this.selectionService,n=this.selectionService.focused;this.isOpen&&e.originalEvent.preventDefault(),-1!==n?(t.isSelected(n)?t.unselect(n):t.add(n),this.clearFilter(),this.autoClose&&this.togglePopup(!1)):this.allowCustom&&this.text&&this.addCustomValue(this.text)}},{key:"handleClose",value:function(){this.closePopup(),this.searchbar.focus()}},{key:"handleEnd",value:function(){this.focusedTagIndex=this.tags.length-1}},{key:"handleHome",value:function(){this.focusedTagIndex=0}},{key:"handleUp",value:function(e){this.selectionService.focused=e}},{key:"handleBackspace",value:function(){void 0!==this.focusedTagIndex?this.handleDelete():(this.handleRemoveTag(this.tags[this.tags.length-1]),this.searchbar.focus())}},{key:"handleDelete",value:function(){this.handleRemoveTag(this.tags[this.focusedTagIndex]),this.focusedTagIndex===this.tags.length&&(this.focusedTagIndex=void 0)}},{key:"handleLeftKey",value:function(){"rtl"===this.direction&&(0===this.focusedTagIndex&&(this.focusedTagIndex=void 0),void 0===this.focusedTagIndex)||(void 0===this.focusedTagIndex||this.focusedTagIndex<0?this.focusedTagIndex=this.tags.length-1:0!==this.focusedTagIndex&&this.focusedTagIndex--)}},{key:"handleDownKey",value:function(e){this.isOpen?this.selectionService.focused=e||this.firstFocusableIndex(0):this.openPopup()}},{key:"handleRightKey",value:function(){var e=this.tags.length-1;if("rtl"===this.direction){if(void 0===this.focusedTagIndex)return void(this.focusedTagIndex=0);if(this.focusedTagIndex===e)return}this.focusedTagIndex===e?this.focusedTagIndex=void 0:this.focusedTagIndex<e&&this.focusedTagIndex++}},{key:"findIndex",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=e.toLowerCase();var l=this.dataService.findIndex((function(i){return t=n.dataService.grouped?n.prop(n.textField,n.valuePrimitive)(i.value):n.prop(n.textField,n.valuePrimitive)(i),t=nE(t)?t.toString().toLowerCase():"",e&&t.startsWith(e)}),i);return this.disabledItemsService.isIndexDisabled(l)?l+1>this.dataService.itemsCount?-1:this.findIndex(e,l+1):l}},{key:"searchTextAndFocus",value:function(e){var t=this.findIndex(e);this.selectionService.focused=t}},{key:"closePopup",value:function(){this.togglePopup(!1),this.focusedTagIndex=void 0}},{key:"openPopup",value:function(){this.togglePopup(!0),this.focusedTagIndex=void 0}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"triggerPopupEvents",value:function(e){var t=new kE;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"_toggle",value:function(e){this._open=void 0===e?!this._open:e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var n=this.popupRef.popupElement,i=this.width,l=i.min,r=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=l,n.style.width=r,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){e.togglePopup(!1)}))}},{key:"emitValueChange",value:function(){this.onChangeCallback(this.value),this.valueChange.emit(this.value)}},{key:"getSelectedDataItems",value:function(e){var t,n,i=this,l=sE(this.data),r=this.prop(this.valueField,this.valuePrimitive),a=[];return e.forEachItem((function(e){if(t=e.currentValue,-1!==(n=i.dataService.findIndex(i.dataService.grouped?function(e){return r(e.value)===r(t)}:function(e){return r(e)===r(t)})))a.push(i.dataService.itemAt(n));else if(!nE(e)||l&&i.valuePrimitive){var o=i.resolveDataItemFromTags(t);nE(o)&&a.push(o)}else a.push(t)})),a}},{key:"resolveDataItemFromTags",value:function(e){if(this.tags&&this.tags.length&&nE(e)){var t=this.tags.reduce((function(e,t){var n=rE(t)?t:[t];return e.push.apply(e,_toConsumableArray(n)),e}),[]),n=this.prop(this.valueField,this.valuePrimitive);return t.find((function(t){return n(t)===n(e)}))}}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount;if(this.disabledItemsService.isIndexDisabled(e)){var n=e+1;return n<t?this.firstFocusableIndex(n):void 0}return e}},{key:"nextTick",value:function(e){var t=this;this._zone.runOutsideAngular((function(){setTimeout((function(){return t._zone.run(e)}))}))}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState(this.value)},get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}},{key:"value",set:function(e){this._value=e||[],!this.differ&&this.value&&(this.differ=this.differs.find(this.value).create())},get:function(){return this._value}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"placeholder",set:function(e){this._placeholder=e||""},get:function(){return this.selectedDataItems.length?"":this._placeholder}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",set:function(e){this._virtualSettings=SE(e)},get:function(){return this._virtualSettings}},{key:"popupSettings",set:function(e){this._popupSettings=Object.assign({animate:!0},e)},get:function(){return this._popupSettings}},{key:"dir",get:function(){return this.direction}},{key:"focusedClass",get:function(){return this.isFocused}},{key:"disabledClass",get:function(){return this.disabled}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"width",get:function(){var e=0;Bv()&&(e=this.wrapper.nativeElement.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:"".concat(e,"px"),max:isNaN(t)?t:"".concat(t,"px")}}},{key:"height",get:function(){var e=this.popupSettings.height;return nE(e)?"".concat(e,"px"):"auto"}},{key:"activeDescendant",get:function(){var e,t,n=this.focusedTagIndex,i=this.selectionService.focused;if(nE(n)&&!this.isOpen)t=this.tags[n],e=this.tagPrefix;else{if(!nE(i)||-1===i||!this.isOpen)return null;t=this.dataService.itemAt(i),e=this.optionPrefix}return e+"-"+this.prop(this.valueField,this.valuePrimitive)(t)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"isOpen",get:function(){return this._open}}]),e}(),UE=function(){function e(){_classCallCheck2(this,e),this.removeTag=new dr}return _createClass2(e,[{key:"tagProp",value:function(e,t){return t&&aE(e)?e[t]:e}},{key:"deleteTag",value:function(e,t){e.preventDefault(),e.stopImmediatePropagation(),this.disabled||1!==e.which||this.removeTag.emit(t)}},{key:"itemId",value:function(e){if(e)return this.tagPrefix+"-"+this.tagProp(e,this.valueField)}},{key:"isGroupTag",value:function(e){return e instanceof Array}}]),e}(),YE=function(){function e(t){_classCallCheck2(this,e),this.viewContainerRef=t}return _createClass2(e,[{key:"templateContext",set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}(),qE=function(){function e(t){_classCallCheck2(this,e),this.multipleSelection=!1,this.selectionService=t}return _createClass2(e,[{key:"onClick",value:function(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}},{key:"focusedClassName",get:function(){return this.selectionService.isFocused(this.index)}},{key:"selectedClassName",get:function(){return this.selectionService.isSelected(this.index)}}]),e}(),GE=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),XE=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(GE),KE=function e(){_classCallCheck2(this,e)},$E=function e(){_classCallCheck2(this,e)},ZE=function e(){_classCallCheck2(this,e)},QE={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},JE={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},eD={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},tD={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},nD=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},iD=lE()&&window.navigator?window.navigator.userAgent:null,lD=iD?function(e){var t=null,n=[];for(var i in eD)if(eD.hasOwnProperty(i)&&(n=e.match(eD[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(iD):null,rD=iD?function(e){var t,n=[];for(var i in QE)if(QE.hasOwnProperty(i)){if(!(n=e.match(QE[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var l={};return l.device=i,l.browser=nD(e,tD,"default"),l.name=nD(i,JE),l[l.name]=!0,l.majorVersion=n[2],l.minorVersion=n[3].replace("_","."),t=l.minorVersion.replace(".","").substr(0,2),l.flatVersion=l.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),l.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,l.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||l.cordova,l}return null}(iD):null,aD=lE()&&"ontouchstart"in window,oD=lD&&!lD.chrome&&window.MSPointerEvent,sD=lD&&!lD.chrome&&window.PointerEvent,uD=rD&&(aD||oD||sD),cD=function e(){_classCallCheck2(this,e)},hD=function(){function e(t,n){_classCallCheck2(this,e),this.element=t,this.zone=n}return _createClass2(e,[{key:"ngOnChanges",value:function(){var e=this;this.focused&&this.nextTick((function(){return e.element.nativeElement.focus()}))}},{key:"nextTick",value:function(e){this.zone.runOutsideAngular((function(){return setTimeout(e)}))}}]),e}(),dD=function e(){_classCallCheck2(this,e)},fD=function e(){_classCallCheck2(this,e)},pD=function e(){_classCallCheck2(this,e)},vD=function(){return"undefined"!=typeof window},gD={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},mD={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},yD={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},bD={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},kD=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},_D=vD()&&window.navigator?window.navigator.userAgent:null,wD=_D?function(e){var t=null,n=[];for(var i in yD)if(yD.hasOwnProperty(i)&&(n=e.match(yD[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(_D):null,xD=_D?function(e){var t,n=[];for(var i in gD)if(gD.hasOwnProperty(i)){if(!(n=e.match(gD[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var l={};return l.device=i,l.browser=kD(e,bD,"default"),l.name=kD(i,mD),l[l.name]=!0,l.majorVersion=n[2],l.minorVersion=n[3].replace("_","."),t=l.minorVersion.replace(".","").substr(0,2),l.flatVersion=l.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),l.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,l.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||l.cordova,l}return null}(_D):null;vD()&&window,wD&&!wD.chrome&&window,wD&&!wD.chrome&&window;var CD={extend:function(e){for(var t in this)"extend"!==t&&(e[t]=this[t])},observers:function(){return this._observers=this._observers||[],this._observers},addObserver:function(e){return this._observers?this._observers.push(e):this._observers=[e],this},removeObserver:function(e){var t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this},trigger:function(e,t){var n=this._observers;if(n&&!this._suspended)for(var i=0;i<n.length;i++){var l=n[i];l[e]&&l[e](t)}return this},optionsChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.element=this,this.trigger("optionsChange",e)},geometryChange:function(){this.trigger("geometryChange",{element:this})},suspend:function(){return this._suspended=(this._suspended||0)+1,this},resume:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this},_observerField:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}},SD="undefined"!=typeof window?window:{},TD=SD.requestAnimationFrame||SD.webkitRequestAnimationFrame||SD.mozRequestAnimationFrame||SD.oRequestAnimationFrame||SD.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};function PD(e){TD.call(SD,e)}var MD=function e(){_classCallCheck2(this,e)},AD=/&/g,ID=/</g,ED=/"/g,DD=/'/g,OD=/>/g;function FD(e){return String(e).replace(AD,"&amp;").replace(ID,"&lt;").replace(OD,"&gt;").replace(ED,"&quot;").replace(DD,"&#39;")}function RD(e){return"function"==typeof e}function ND(e){return"string"==typeof e?[e]:e}function LD(){this._defaultPrevented=!0}function BD(){return!0===this._defaultPrevented}var VD=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._events={},e}return _inherits(t,e),_createClass2(t,[{key:"bind",value:function(e,t,n){var i=arguments,l=this,r=ND(e),a=RD(t),o=r.length;if(void 0===t){for(var s in e)this.bind(s,e[s]);return this}for(var u=function(e){var o=r[e],s=a?t:t[o];if(s){if(n){var u=s;(s=function(){l.unbind(o,s),u.apply(l,i)}).original=u}(l._events[o]=l._events[o]||[]).push(s)}},c=0;c<o;c++)u(c);return this}},{key:"one",value:function(e,t){return this.bind(e,t,!0)}},{key:"first",value:function(e,t){for(var n=ND(e),i=RD(t),l=0,r=n.length;l<r;l++){var a=n[l],o=i?t:t[a];o&&(this._events[a]=this._events[a]||[]).unshift(o)}return this}},{key:"trigger",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._events[e];if(n){var i=n.length;t.sender=this,t._defaultPrevented=!1,t.preventDefault=LD,t.isDefaultPrevented=BD,n=n.slice();for(var l=0;l<i;l++)n[l].call(this,t);return!0===t._defaultPrevented}return!1}},{key:"unbind",value:function(e,t){var n=this._events[e];if(void 0===e)this._events={};else if(n)if(t)for(var i=n.length-1;i>=0;i--)n[i]!==t&&n[i].original!==t||n.splice(i,1);else this._events[e]=[];return this}}]),t}(MD),zD={};"undefined"!=typeof window&&(zD.browser=function(e){var t,n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var i in n)if(n.hasOwnProperty(i)){var l=e.match(n[i]);if(l){(t={})[i]=!0,t[l[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||l[2],10);break}}return t}(window.navigator.userAgent));var jD=zD;function HD(){return(new Date).getTime()}var WD={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},UD=jD.browser,YD=function(e){var t=Object.keys(WD);t.push("transparent");var n=new RegExp("^("+t.join("|")+")(\\W|$)","i");return YD=function(e){return n.exec(e)},n.exec(e)},qD=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))}return _inherits(t,e),_createClass2(t,[{key:"toHSV",value:function(){return this}},{key:"toRGB",value:function(){return this}},{key:"toHex",value:function(){return this.toBytes().toHex()}},{key:"toBytes",value:function(){return this}},{key:"toCss",value:function(){return"#"+this.toHex()}},{key:"toCssRgba",value:function(){var e=this.toBytes();return"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(parseFloat(Number(this.a).toFixed(3)),")")}},{key:"toDisplay",value:function(){return UD.msie&&UD.version<9?this.toCss():this.toCssRgba()}},{key:"equals",value:function(e){return e===this||null!==e&&this.toCssRgba()===JD(e).toCssRgba()}},{key:"diff",value:function(e){if(null===e)return NaN;var t=this.toBytes(),n=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-n.r),2)+Math.pow(.59*(t.g-n.g),2)+Math.pow(.11*(t.b-n.b),2))}},{key:"clone",value:function(){var e=this.toBytes();return e===this&&(e=new XD(e.r,e.g,e.b,e.a)),e}}]),t}(MD),GD=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).r=e,r.g=n,r.b=i,r.a=l,r}return _inherits(t,e),_createClass2(t,[{key:"toHSV",value:function(){var e,t,n=this.r,i=this.g,l=this.b,r=Math.min(n,i,l),a=Math.max(n,i,l),o=a-r,s=a;return 0===o?new $D(0,0,s,this.a):(0!==a?(t=o/a,e=n===a?(i-l)/o:i===a?2+(l-n)/o:4+(n-i)/o,(e*=60)<0&&(e+=360)):(t=0,e=-1),new $D(e,t,s,this.a))}},{key:"toHSL",value:function(){var e,t,n=this.r,i=this.g,l=this.b,r=Math.max(n,i,l),a=Math.min(n,i,l),o=(r+a)/2;if(r===a)e=t=0;else{var s=r-a;switch(t=o>.5?s/(2-r-a):s/(r+a),r){case n:e=(i-l)/s+(i<l?6:0);break;case i:e=(l-n)/s+2;break;case l:e=(n-i)/s+4}}return new ZD(60*e,100*t,100*o,this.a)}},{key:"toBytes",value:function(){return new XD(255*this.r,255*this.g,255*this.b,this.a)}}]),t}(qD),XD=function(e){function t(e,n,i,l){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,Math.round(e),Math.round(n),Math.round(i),l))}return _inherits(t,e),_createClass2(t,[{key:"toRGB",value:function(){return new GD(this.r/255,this.g/255,this.b/255,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toHex",value:function(){return KD(this.r,2)+KD(this.g,2)+KD(this.b,2)}},{key:"toBytes",value:function(){return this}}]),t}(GD);function KD(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",i=e.toString(16);t>i.length;)i=n+i;return i}var $D=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).h=e,r.s=n,r.v=i,r.a=l,r}return _inherits(t,e),_createClass2(t,[{key:"toRGB",value:function(){var e,t,n,i=this.h,l=this.s,r=this.v;if(0===l)e=t=n=r;else{i/=60;var a=Math.floor(i),o=i-a,s=r*(1-l),u=r*(1-l*o),c=r*(1-l*(1-o));switch(a){case 0:e=r,t=c,n=s;break;case 1:e=u,t=r,n=s;break;case 2:e=s,t=r,n=c;break;case 3:e=s,t=u,n=r;break;case 4:e=c,t=s,n=r;break;default:e=r,t=s,n=u}}return new GD(e,t,n,this.a)}},{key:"toHSL",value:function(){return this.toRGB().toHSL()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),t}(qD),ZD=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).h=e,r.s=n,r.l=i,r.a=l,r}return _inherits(t,e),_createClass2(t,[{key:"toRGB",value:function(){var e,t,n,i=this.h/360,l=this.s/100,r=this.l/100;if(0===l)e=t=n=r;else{var a=r<.5?r*(1+l):r+l-r*l,o=2*r-a;e=QD(o,a,i+1/3),t=QD(o,a,i),n=QD(o,a,i-1/3)}return new GD(e,t,n,this.a)}},{key:"toHSV",value:function(){return this.toRGB().toHSV()}},{key:"toBytes",value:function(){return this.toRGB().toBytes()}}]),t}(qD);function QD(e,t,n){var i=n;return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}function JD(e,t){var n,i;if(null==e||"none"===e)return null;if(e instanceof qD)return e;var l=e.toLowerCase();if(n=YD(l))return(l="transparent"===n[1]?new GD(1,1,1,0):JD(WD[n[1]],t)).match=[n[1]],l;if((n=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(l))?i=new XD(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),1):(n=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(l))?i=new XD(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16),1):(n=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(l))?i=new XD(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),1):(n=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(l))?i=new XD(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4])):(n=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(l))?i=new GD(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,1):(n=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(l))&&(i=new GD(parseFloat(n[1])/100,parseFloat(n[2])/100,parseFloat(n[3])/100,parseFloat(n[4]))),i)i.match=n;else if(!t)throw new Error("Cannot parse color: "+l);return i}function eO(e,t){return e.push.apply(e,t),e}var tO={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"};function nO(e){for(var t=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";e>0;)e<t[0]?t.shift():(n+=tO[t[0]],e-=t[0]);return n}function iO(){var e,t,n=new Promise((function(i,l){e=function(e){return n._state="resolved",i(e),n},t=function(e){return n._state="rejected",l(e),n}}));return n._state="pending",n.resolve=e,n.reject=t,n.state=function(){return n._state},n}var lO="undefined";function rO(e){return typeof e!==lO}var aO=1;function oO(){return"kdef"+aO++}var sO=Math.PI/180,uO=Number.MAX_VALUE,cO=-Number.MAX_VALUE;function hO(e){return e/sO}function dO(e){return""===e||null===e||"none"===e||"transparent"===e||!rO(e)}function fO(e){if(e)return e[e.length-1]}function pO(e,t){return e.length<2?e.slice():function e(n){if(n.length<=1)return n;var i=Math.floor(n.length/2),l=n.slice(0,i),r=n.slice(i);return function(e,n){for(var i=[],l=0,r=0,a=0;l<e.length&&r<n.length;)t(e[l],n[r])<=0?i[a++]=e[l++]:i[a++]=n[r++];return l<e.length&&i.push.apply(i,e.slice(l)),r<n.length&&i.push.apply(i,n.slice(r)),i}(l=e(l),r=e(r))}(e)}function vO(e){return e*sO}function gO(e,t){var n,i=(n=t)?Math.pow(10,n):1;return Math.round(e*i)/i}function mO(e,t){return rO(e)?e:t}function yO(e,t){for(var n in t)for(var i=n.trim().split(" "),l=0;l<i.length;l++)e.addEventListener(i[l],t[n],!1)}function bO(e,t){for(var n={},i=window.getComputedStyle(e)||{},l=Array.isArray(t)?t:[t],r=0;r<l.length;r++){var a=l[r];n[a]=i[a]}return n}function kO(e){return isNaN(e)?e:e+"px"}function _O(e,t){if(!t){var n=bO(e,["width","height"]);return{width:parseInt(n.width,10),height:parseInt(n.height,10)}}var i=t.width,l=t.height;rO(i)&&(e.style.width=kO(i)),rO(l)&&(e.style.height=kO(l))}function wO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in t)for(var i=n.trim().split(" "),l=0;l<i.length;l++)e.removeEventListener(i[l],t[n],!1)}var xO=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._size=e,n._length=0,n._map={},n}return _inherits(t,e),_createClass2(t,[{key:"put",value:function(e,t){var n=this._map,i={key:e,value:t};n[e]=i,this._head?(this._tail.newer=i,i.older=this._tail,this._tail=i):this._head=this._tail=i,this._length>=this._size?(n[this._head.key]=null,this._head=this._head.newer,this._head.older=null):this._length++}},{key:"get",value:function(e){var t=this._map[e];if(t)return t===this._head&&t!==this._tail&&(this._head=t.newer,this._head.older=null),t!==this._tail&&(t.older&&(t.older.newer=t.newer,t.newer.older=t.older),t.older=this._tail,t.newer=null,this._tail.newer=t,this._tail=t),t.value}}]),t}(MD),CO=/\r?\n|\r|\t/g,SO=" ";function TO(e){return String(e).replace(CO,SO)}var PO,MO={baselineMarkerSize:1};"undefined"!=typeof document&&((PO=document.createElement("div")).style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var AO,IO=((AO=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._cache=new xO(1e3),n.options=Object.assign({},MO,e),n}return _inherits(t,e),_createClass2(t,[{key:"measure",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return{width:0,height:0,baseline:0};var i=function(e){for(var t=2166136261,n=0;n<e.length;++n)t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24),t^=e.charCodeAt(n);return t>>>0}(e+function(e){var t=[];for(var n in e)t.push(n+e[n]);return t.sort().join("")}(t)),l=this._cache.get(i);if(l)return l;var r={width:0,height:0,baseline:0},a=n.box||PO,o=this._baselineMarker().cloneNode(!1);for(var s in t){var u=t[s];void 0!==u&&(a.style[s]=u)}var c=!1!==n.normalizeText?TO(e):String(e);return a.textContent=c,a.appendChild(o),document.body.appendChild(a),c.length&&(r.width=a.offsetWidth-this.options.baselineMarkerSize,r.height=a.offsetHeight,r.baseline=o.offsetTop+this.options.baselineMarkerSize),r.width>0&&r.height>0&&this._cache.put(i,r),a.parentNode.removeChild(a),r}},{key:"_baselineMarker",value:function(){var e=document.createElement("div");return e.style.cssText="display: inline-block; vertical-align: baseline;width: "+this.options.baselineMarkerSize+"px; height: "+this.options.baselineMarkerSize+"px;overflow: hidden;",e}}]),t}(MD)).current=new AO,AO);function EO(e,t,n){return IO.current.measure(e,t,n)}var DO={}.toString,OO=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var l in _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).prefix=i,e){var r=e[l];r=n._wrap(r,l),n[l]=r}return n}return _inherits(t,e),_createClass2(t,[{key:"get",value:function(e){for(var t=e.split("."),n=this;t.length&&n;)n=n[t.shift()];return n}},{key:"set",value:function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}},{key:"_set",value:function(e,n){var i=e.indexOf(".")>=0,l=this,r=e;if(i){for(var a=r.split("."),o=this.prefix;a.length>1;){o+=(r=a.shift())+".";var s=l[r];s||((s=new t({},o)).addObserver(this),l[r]=s),l=s}r=a[0]}l._clear(r),l[r]=n}},{key:"_clear",value:function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)}},{key:"_wrap",value:function(e,n){var i=DO.call(e),l=e;return null!==l&&rO(l)&&"[object Object]"===i&&(e instanceof t||e instanceof MD||(l=new t(l,this.prefix+n+".")),l.addObserver(this)),l}}]),t}(MD);CD.extend(OO.prototype);var FO=OO;function RO(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function NO(e){return function(){return this[e]}}function LO(e,t){for(var n=0;n<t.length;n++){var i=t[n],l=i.charAt(0).toUpperCase()+i.substring(1,i.length);e["set"+l]=RO(i),e["get"+l]=NO(i)}}var BO,VO=((BO=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).a=n,e.b=i,e.c=l,e.d=r,e.e=a,e.f=o,e}return _inherits(t,e),_createClass2(t,[{key:"multiplyCopy",value:function(e){return new t(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}},{key:"invert",value:function(){var e=this.a,n=this.b,i=this.c,l=this.d,r=this.e,a=this.f,o=e*l-n*i;return 0===o?null:new t(l/o,-n/o,-i/o,e/o,(i*a-l*r)/o,(n*r-e*a)/o)}},{key:"clone",value:function(){return new t(this.a,this.b,this.c,this.d,this.e,this.f)}},{key:"equals",value:function(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}},{key:"round",value:function(e){return this.a=gO(this.a,e),this.b=gO(this.b,e),this.c=gO(this.c,e),this.d=gO(this.d,e),this.e=gO(this.e,e),this.f=gO(this.f,e),this}},{key:"toArray",value:function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(rO(e))for(var n=0;n<t.length;n++)t[n]=gO(t[n],e);return t}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.toArray(e).join(t)}}],[{key:"translate",value:function(e,n){return new t(1,0,0,1,e,n)}},{key:"unit",value:function(){return new t(1,0,0,1,0,0)}},{key:"rotate",value:function(e,n,i){var l=new t;return l.a=Math.cos(vO(e)),l.b=Math.sin(vO(e)),l.c=-l.b,l.d=l.a,l.e=n-n*l.a+i*l.b||0,l.f=i-i*l.a-n*l.b||0,l}},{key:"scale",value:function(e,n){return new t(e,0,0,n,0,0)}}]),t}(MD)).IDENTITY=BO.unit(),BO);function zO(e){return e&&"function"==typeof e.matrix?e.matrix():e}var jO=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).x=e||0,i.y=n||0,i}return _inherits(t,e),_createClass2(t,[{key:"equals",value:function(e){return e&&e.x===this.x&&e.y===this.y}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"rotate",value:function(e,n){var i=t.create(n)||t.ZERO;return this.transform(VO.rotate(e,i.x,i.y))}},{key:"translate",value:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}},{key:"translateWith",value:function(e){return this.translate(e.x,e.y)}},{key:"move",value:function(e,t){return this.x=this.y=0,this.translate(e,t)}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.geometryChange(),this}},{key:"scaleCopy",value:function(e,t){return this.clone().scale(e,t)}},{key:"transform",value:function(e){var t=zO(e),n=this.x,i=this.y;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}},{key:"transformCopy",value:function(e){var t=this.clone();return e&&t.transform(e),t}},{key:"distanceTo",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"round",value:function(e){return this.x=gO(this.x,e),this.y=gO(this.y,e),this.geometryChange(),this}},{key:"toArray",value:function(e){var t=rO(e);return[t?gO(this.x,e):this.x,t?gO(this.y,e):this.y]}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=this.x,i=this.y;return rO(e)&&(n=gO(n,e),i=gO(i,e)),n+t+i}}],[{key:"create",value:function(e,n){if(rO(e))return e instanceof t?e:1===arguments.length&&2===e.length?new t(e[0],e[1]):new t(e,n)}},{key:"min",value:function(){for(var e=uO,n=uO,i=0;i<arguments.length;i++){var l=arguments[i];e=Math.min(l.x,e),n=Math.min(l.y,n)}return new t(e,n)}},{key:"max",value:function(){for(var e=cO,n=cO,i=0;i<arguments.length;i++){var l=arguments[i];e=Math.max(l.x,e),n=Math.max(l.y,n)}return new t(e,n)}},{key:"minPoint",value:function(){return new t(cO,cO)}},{key:"maxPoint",value:function(){return new t(uO,uO)}},{key:"ZERO",get:function(){return new t(0,0)}}]),t}(MD);LO(jO.prototype,["x","y"]),CD.extend(jO.prototype);var HO=jO,WO=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).width=e||0,i.height=n||0,i}return _inherits(t,e),_createClass2(t,[{key:"equals",value:function(e){return e&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new t(this.width,this.height)}},{key:"toArray",value:function(e){var t=rO(e);return[t?gO(this.width,e):this.width,t?gO(this.height,e):this.height]}}],[{key:"create",value:function(e,n){if(rO(e))return e instanceof t?e:1===arguments.length&&2===e.length?new t(e[0],e[1]):new t(e,n)}},{key:"ZERO",get:function(){return new t(0,0)}}]),t}(MD);LO(WO.prototype,["width","height"]),CD.extend(WO.prototype);var UO=WO,YO=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new HO,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new UO;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).setOrigin(n),e.setSize(i),e}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.origin.clone(),this.size.clone())}},{key:"equals",value:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}},{key:"setOrigin",value:function(e){return this._observerField("origin",HO.create(e)),this.geometryChange(),this}},{key:"getOrigin",value:function(){return this.origin}},{key:"setSize",value:function(e){return this._observerField("size",UO.create(e)),this.geometryChange(),this}},{key:"getSize",value:function(){return this.size}},{key:"width",value:function(){return this.size.width}},{key:"height",value:function(){return this.size.height}},{key:"topLeft",value:function(){return this.origin.clone()}},{key:"bottomRight",value:function(){return this.origin.clone().translate(this.width(),this.height())}},{key:"topRight",value:function(){return this.origin.clone().translate(this.width(),0)}},{key:"bottomLeft",value:function(){return this.origin.clone().translate(0,this.height())}},{key:"center",value:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)}},{key:"bbox",value:function(e){var n=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),l=this.bottomRight().transformCopy(e),r=this.bottomLeft().transformCopy(e);return t.fromPoints(n,i,l,r)}},{key:"transformCopy",value:function(e){return t.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}},{key:"expandCopy",value:function(e,t){return this.clone().expand(e,t)}},{key:"containsPoint",value:function(e){var t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}},{key:"_isOnPath",value:function(e,t){var n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}}],[{key:"fromPoints",value:function(){var e=HO.min.apply(null,arguments),n=HO.max.apply(null,arguments),i=new UO(n.x-e.x,n.y-e.y);return new t(e,i)}},{key:"union",value:function(e,n){return t.fromPoints(HO.min(e.topLeft(),n.topLeft()),HO.max(e.bottomRight(),n.bottomRight()))}},{key:"intersect",value:function(e,n){var i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},l={left:n.topLeft().x,top:n.topLeft().y,right:n.bottomRight().x,bottom:n.bottomRight().y};if(i.left<=l.right&&l.left<=i.right&&i.top<=l.bottom&&l.top<=i.bottom)return t.fromPoints(new HO(Math.max(i.left,l.left),Math.max(i.top,l.top)),new HO(Math.min(i.right,l.right),Math.min(i.bottom,l.bottom)))}}]),t}(MD);CD.extend(YO.prototype);var qO=YO,GO=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:VO.unit();return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._matrix=n,e}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this._matrix.clone())}},{key:"equals",value:function(e){return e&&e._matrix.equals(this._matrix)}},{key:"translate",value:function(e,t){return this._matrix=this._matrix.multiplyCopy(VO.translate(e,t)),this._optionsChange(),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n;return i&&(i=HO.create(i),this._matrix=this._matrix.multiplyCopy(VO.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(VO.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(VO.translate(-i.x,-i.y))),this._optionsChange(),this}},{key:"rotate",value:function(e,t){var n=HO.create(t)||HO.ZERO;return this._matrix=this._matrix.multiplyCopy(VO.rotate(e,n.x,n.y)),this._optionsChange(),this}},{key:"multiply",value:function(e){var t=zO(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}},{key:"matrix",value:function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}},{key:"_optionsChange",value:function(){this.optionsChange({field:"transform",value:this})}}]),t}(MD);CD.extend(GO.prototype);var XO=GO;function KO(e){return null===e?null:e instanceof XO?e:new XO(e)}var $O=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._initOptions(e),n}return _inherits(t,e),_createClass2(t,[{key:"_initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clip,n=e.transform;n&&(e.transform=KO(n)),t&&!t.id&&(t.id=oO()),this.options=new FO(e),this.options.addObserver(this)}},{key:"transform",value:function(e){if(!rO(e))return this.options.get("transform");this.options.set("transform",KO(e))}},{key:"parentTransform",value:function(){for(var e,t=this;t.parent;){var n=(t=t.parent).transform();n&&(e=n.matrix().multiplyCopy(e||VO.unit()))}if(e)return KO(e)}},{key:"currentTransform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parentTransform(),n=zO(this.transform()),i=zO(t);if(e=n&&i?i.multiplyCopy(n):n||i)return KO(e)}},{key:"visible",value:function(e){return rO(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}},{key:"clip",value:function(e){var t=this.options;return rO(e)?(e&&!e.id&&(e.id=oO()),t.set("clip",e),this):t.get("clip")}},{key:"opacity",value:function(e){return rO(e)?(this.options.set("opacity",e),this):mO(this.options.get("opacity"),1)}},{key:"clippedBBox",value:function(e){var t=this._clippedBBox(e);if(t){var n=this.clip();return n?qO.intersect(t,n.bbox(e)):t}}},{key:"containsPoint",value:function(e,t){if(this.visible()){var n=this.currentTransform(t),i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}},{key:"_hasFill",value:function(){var e=this.options.fill;return e&&!dO(e.color)}},{key:"_hasStroke",value:function(){var e=this.options.stroke;return e&&e.width>0&&!dO(e.color)}},{key:"_clippedBBox",value:function(e){return this.bbox(e)}}]),t}(MD);$O.prototype.nodeType="Element",CD.extend($O.prototype);var ZO=$O;function QO(e,t,n,i){var l=0,r=0;return i&&(l=Math.atan2(i.c*n,i.a*t),0!==i.b&&(r=Math.atan2(i.d*n,i.b*t))),{x:l,y:r}}var JO=Math.PI/2,eF=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new HO,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).setCenter(n),e.setRadius(i),e}return _inherits(t,e),_createClass2(t,[{key:"setCenter",value:function(e){return this._observerField("center",HO.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"equals",value:function(e){return e&&e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return new t(this.center.clone(),this.radius)}},{key:"pointAt",value:function(e){return this._pointAt(vO(e))}},{key:"bbox",value:function(e){for(var t=QO(0,this.radius,this.radius,e),n=HO.maxPoint(),i=HO.minPoint(),l=0;l<4;l++){var r=this._pointAt(t.x+l*JO).transformCopy(e),a=this._pointAt(t.y+l*JO).transformCopy(e),o=new HO(r.x,a.y);n=HO.min(n,o),i=HO.max(i,o)}return qO.fromPoints(n,i)}},{key:"_pointAt",value:function(e){var t=this.center,n=this.radius;return new HO(t.x+n*Math.cos(e),t.y+n*Math.sin(e))}},{key:"containsPoint",value:function(e){var t=this.center,n=this.radius;return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<=Math.pow(n,2)}},{key:"_isOnPath",value:function(e,t){var n=this.center,i=this.radius,l=n.distanceTo(e);return i-t<=l&&l<=i+t}}]),t}(MD);LO(eF.prototype,["radius"]),CD.extend(eF.prototype);var tF=eF,nF={extend:function(e){e.fill=this.fill,e.stroke=this.stroke},fill:function(e,t){var n=this.options;if(rO(e)){if(e&&"Gradient"!==e.nodeType){var i={color:e};rO(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")},stroke:function(e,t,n){return rO(e)?(this.options.set("stroke.color",e),rO(t)&&this.options.set("stroke.width",t),rO(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}},iF=VO.IDENTITY.toString(),lF={extend:function(e){e.bbox=this.bbox,e.geometryChange=this.geometryChange},bbox:function(e){var t,n=zO(this.currentTransform(e)),i=n?n.toString():iF;this._bboxCache&&this._matrixHash===i?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=i);var l=this.options.get("stroke.width");return l&&t&&t.expand(l/2),t},geometryChange:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function rF(e){var t="_"+e;return function(e){return rO(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}function aF(e,t){for(var n=0;n<t.length;n++)e[t[n]]=rF(t[n])}var oF="#000",sF=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tF,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,i))).geometry(n),rO(e.options.stroke)||e.stroke(oF),e}return _inherits(t,e),_createClass2(t,[{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),t}(ZO);sF.prototype.nodeType="Circle",nF.extend(sF.prototype),lF.extend(sF.prototype),aF(sF.prototype,["geometry"]);var uF=sF,cF=10;function hF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cF;return 0===gO(Math.abs(e-t),n)}function dF(e,t,n){return e<t||hF(e,t,n)}var fF=Math.pow,pF=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new HO,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).setCenter(n),e.radiusX=i.radiusX,e.radiusY=i.radiusY||i.radiusX,e.startAngle=i.startAngle,e.endAngle=i.endAngle,e.anticlockwise=i.anticlockwise||!1,e.xRotation=i.xRotation,e}return _inherits(t,e),_createClass2(t,[{key:"clone",value:function(){return new t(this.center,{radiusX:this.radiusX,radiusY:this.radiusY,startAngle:this.startAngle,endAngle:this.endAngle,anticlockwise:this.anticlockwise})}},{key:"setCenter",value:function(e){return this._observerField("center",HO.create(e)),this.geometryChange(),this}},{key:"getCenter",value:function(){return this.center}},{key:"pointAt",value:function(e){var t=this.center,n=vO(e);return new HO(t.x+this.radiusX*Math.cos(n),t.y+this.radiusY*Math.sin(n))}},{key:"curvePoints",value:function(){var e,t=this.startAngle,n=this.anticlockwise?-1:1,i=[this.pointAt(t)],l=this._arcInterval(),r=l.endAngle-l.startAngle,a=Math.ceil(r/45),o=r/a,s=t;this.xRotation&&(e=KO().rotate(this.xRotation,this.center));for(var u=1;u<=a;u++){var c=s+n*o,h=this._intervalCurvePoints(s,c,e);i.push(h.cp1,h.cp2,h.p2),s=c}return i}},{key:"bbox",value:function(e){for(var t=this._arcInterval(),n=t.startAngle,i=t.endAngle,l=QO(0,this.radiusX,this.radiusY,e),r=hO(l.x),a=hO(l.y),o=this.pointAt(i).transformCopy(e),s=gF(r,n),u=gF(a,n),c=this.pointAt(n).transformCopy(e),h=HO.min(c,o),d=HO.max(c,o);s<i||u<i;){var f=void 0,p=void 0;s<i&&(f=this.pointAt(s).transformCopy(e),s+=90),u<i&&(p=this.pointAt(u).transformCopy(e),u+=90),c=new HO(f.x,p.y),h=HO.min(h,c),d=HO.max(d,c)}return qO.fromPoints(h,d)}},{key:"_arcInterval",value:function(){var e=this.startAngle,t=this.endAngle,n=this.anticlockwise;if(n){var i=e;e=t,t=i}return(e>t||n&&e===t)&&(t+=360),{startAngle:e,endAngle:t}}},{key:"_intervalCurvePoints",value:function(e,t,n){var i=this.pointAt(e),l=this.pointAt(t),r=this._derivativeAt(e),a=this._derivativeAt(t),o=(vO(t)-vO(e))/3,s=new HO(i.x+o*r.x,i.y+o*r.y),u=new HO(l.x-o*a.x,l.y-o*a.y);return n&&(i.transform(n),l.transform(n),s.transform(n),u.transform(n)),{p1:i,cp1:s,cp2:u,p2:l}}},{key:"_derivativeAt",value:function(e){var t=vO(e);return new HO(-this.radiusX*Math.sin(t),this.radiusY*Math.cos(t))}},{key:"containsPoint",value:function(e){var t,n=this._arcInterval(),i=n.endAngle-n.startAngle,l=this.center,r=this.radiusX,a=this.radiusY,o=l.distanceTo(e),s=Math.atan2(e.y-l.y,e.x-l.x),u=r*a/Math.sqrt(fF(r,2)*fF(Math.sin(s),2)+fF(a,2)*fF(Math.cos(s),2)),c=this.pointAt(this.startAngle).round(cF),h=this.pointAt(this.endAngle).round(cF),d=function(e,t,n,i){var l=t.x-e.x,r=i.x-n.x,a=t.y-e.y,o=i.y-n.y,s=e.x-n.x,u=e.y-n.y,c=l*o-r*a,h=(l*u-a*s)/c,d=(r*u-o*s)/c;if(h>=0&&h<=1&&d>=0&&d<=1)return new HO(e.x+d*l,e.y+d*a)}(l,e.round(cF),c,h);if(i<180)t=d&&dF(l.distanceTo(d),o)&&dF(o,u);else{var f=vF(l.x,l.y,r,a,e.x,e.y);360!==f&&(f=(360+f)%360);var p=n.startAngle<=f&&f<=n.endAngle;t=p&&dF(o,u)||!p&&(!d||d.equals(e))}return t}},{key:"_isOnPath",value:function(e,t){var n=this._arcInterval(),i=this.center,l=vF(i.x,i.y,this.radiusX,this.radiusY,e.x,e.y);return 360!==l&&(l=(360+l)%360),n.startAngle<=l&&l<=n.endAngle&&this.pointAt(l).distanceTo(e)<=t}}],[{key:"fromPoints",value:function(e,n,i,l,r,a,o){var s=function(e){var t=e.x1,n=e.y1,i=e.x2,l=e.y2,r=e.rx,a=e.ry,o=e.largeArc,s=e.swipe,u=e.rotation,c=void 0===u?0:u,h=vO(c),d=Math.cos(h),f=Math.sin(h),p=d*(t-i)/2+f*(n-l)/2,v=-f*(t-i)/2+d*(n-l)/2,g=o!==s?1:-1,m=Math.pow(p,2),y=Math.pow(v,2),b=Math.pow(r,2),k=Math.pow(a,2),_=m/b+y/k;_>1&&(r*=_=Math.sqrt(m/b+y/k),b=Math.pow(r,2),a*=_,k=Math.pow(a,2));var w=g*Math.sqrt((b*k-b*y-k*m)/(b*y+k*m));isNaN(w)&&(w=0);var x=w*(r*v)/a,C=a*p*-w/r,S=d*x-f*C+(t+i)/2,T=f*x+d*C+(n+l)/2,P=(p-x)/r,M=(v-C)/a,A=-(p+x)/r,I=-(v+C)/a,E=(M>=0?1:-1)*hO(Math.acos(P/Math.sqrt(P*P+M*M))),D=gO((P*A+M*I)/(Math.sqrt(P*P+M*M)*Math.sqrt(A*A+I*I)),10),O=(P*I-M*A>=0?1:-1)*hO(Math.acos(D));!s&&O>0&&(O-=360),s&&O<0&&(O+=360);var F=E+O,R=F>=0?1:-1;return F=Math.abs(F)%360*R,{center:new HO(S,T),startAngle:E,endAngle:F,radiusX:r,radiusY:a,xRotation:c}}({x1:e.x,y1:e.y,x2:n.x,y2:n.y,rx:i,ry:l,largeArc:r,swipe:a,rotation:o});return new t(s.center,{startAngle:s.startAngle,endAngle:s.endAngle,radiusX:s.radiusX,radiusY:s.radiusY,xRotation:s.xRotation,anticlockwise:0===a})}}]),t}(MD);function vF(e,t,n,i,l,r){var a=gO((l-e)/n,3),o=gO((r-t)/i,3);return gO(hO(Math.atan2(o,a)))}function gF(e,t){for(var n=e;n<t;)n+=90;return n}LO(pF.prototype,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),CD.extend(pF.prototype);var mF=pF,yF=[].push,bF=[].pop,kF=[].splice,_F=[].shift,wF=[].slice,xF=[].unshift,CF=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).length=0,e._splice(0,n.length,n),e}return _inherits(t,e),_createClass2(t,[{key:"elements",value:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}},{key:"push",value:function(){var e=arguments,t=yF.apply(this,e);return this._add(e),t}},{key:"slice",value:function(){return wF.call(this)}},{key:"pop",value:function(){var e=this.length,t=bF.apply(this);return e&&this._remove([t]),t}},{key:"splice",value:function(e,t){var n=wF.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}},{key:"shift",value:function(){var e=this.length,t=_F.apply(this);return e&&this._remove([t]),t}},{key:"unshift",value:function(){var e=arguments,t=xF.apply(this,e);return this._add(e),t}},{key:"indexOf",value:function(e){for(var t=this.length,n=0;n<t;n++)if(this[n]===e)return n;return-1}},{key:"_splice",value:function(e,t,n){var i=kF.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}},{key:"_add",value:function(e){this._setObserver(e),this._change()}},{key:"_remove",value:function(e){this._clearObserver(e),this._change()}},{key:"_setObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)}},{key:"_clearObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)}},{key:"_change",value:function(){}}]),t}(MD);CD.extend(CF.prototype);var SF=CF,TF=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"_change",value:function(){this.geometryChange()}}]),t}(SF);function PF(e){var t="_"+e;return function(e){return rO(e)?(this._observerField(t,HO.create(e)),this.geometryChange(),this):this[t]}}function MF(e,t){for(var n=0;n<t.length;n++)e[t[n]]=PF(t[n])}function AF(e,t,n){var i=hO(Math.atan2(t.y-e.y,t.x-e.x));return n.transformCopy(KO().rotate(-i,e)).x<e.x}function IF(e,t,n){var i=1-e;return Math.pow(i,3)*n[0][t]+3*Math.pow(i,2)*e*n[1][t]+3*Math.pow(e,2)*i*n[2][t]+Math.pow(e,3)*n[3][t]}function EF(e,t){return[3*e[1][t]-e[0][t]-3*e[2][t]+e[3][t],3*(e[0][t]-2*e[1][t]+e[2][t]),3*(-e[0][t]+e[1][t]),e[0][t]]}var DF=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).real=n,e.img=i,e}return _inherits(t,e),_createClass2(t,[{key:"add",value:function(e){return new t(gO(this.real+e.real,cF),gO(this.img+e.img,cF))}},{key:"addConstant",value:function(e){return new t(this.real+e,this.img)}},{key:"negate",value:function(){return new t(-this.real,-this.img)}},{key:"multiply",value:function(e){return new t(this.real*e.real-this.img*e.img,this.real*e.img+this.img*e.real)}},{key:"multiplyConstant",value:function(e){return new t(this.real*e,this.img*e)}},{key:"nthRoot",value:function(e){var n=Math.atan2(this.img,this.real),i=Math.sqrt(Math.pow(this.img,2)+Math.pow(this.real,2)),l=Math.pow(i,1/e);return new t(l*Math.cos(n/e),l*Math.sin(n/e))}},{key:"equals",value:function(e){return this.real===e.real&&this.img===e.img}},{key:"isReal",value:function(){return 0===this.img}}]),t}(MD);function OF(e){return e<0?-1:1}function FF(e,t,n,i){if(0===e)return function(e,t,n){var i=Math.sqrt(Math.pow(t,2)-4*e*n);return[(-t+i)/(2*e),(-t-i)/(2*e)]}(t,n,i);var l,r,a,o,s,u,c,h=(3*e*n-Math.pow(t,2))/(3*Math.pow(e,2)),d=(2*Math.pow(t,3)-9*e*t*n+27*Math.pow(e,2)*i)/(27*Math.pow(e,3)),f=Math.pow(h/3,3)+Math.pow(d/2,2),p=new DF(0,1),v=-t/(3*e);f<0?(l=new DF(-d/2,Math.sqrt(-f)).nthRoot(3),r=new DF(-d/2,-Math.sqrt(-f)).nthRoot(3)):(l=-d/2+Math.sqrt(f),l=new DF(OF(l)*Math.pow(Math.abs(l),1/3)),r=-d/2-Math.sqrt(f),r=new DF(OF(r)*Math.pow(Math.abs(r),1/3))),a=l.add(r),u=l.add(r).multiplyConstant(-.5),c=l.add(r.negate()).multiplyConstant(Math.sqrt(3)/2),o=u.add(p.multiply(c)),s=u.add(p.negate().multiply(c));var g=[];return a.isReal()&&g.push(gO(a.real+v,cF)),o.isReal()&&g.push(gO(o.real+v,cF)),s.isReal()&&g.push(gO(s.real+v,cF)),g}function RF(e,t,n,i,l){for(var r,a=EF(e,i),o=FF(a[0],a[1],a[2],a[3]-t[i]),s=0;s<o.length;s++)if(0<=o[s]&&o[s]<=1&&(r=IF(o[s],n,e),Math.abs(r-t[n])<=l))return!0}function NF(e,t,n){var i;if(e.x!==t.x){var l=Math.min(e.x,t.x),r=Math.max(e.x,t.x),a=Math.min(e.y,t.y),o=Math.max(e.y,t.y),s=l<=n.x&&n.x<r;i=a===o?n.y<=a&&s:s&&(o-a)*((e.x-t.x)*(e.y-t.y)>0?n.x-l:r-n.x)/(r-l)+a-n.y>=0}return i?1:0}var LF=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).anchor(e||new HO),l.controlIn(n),l.controlOut(i),l}return _inherits(t,e),_createClass2(t,[{key:"bboxTo",value:function(e,t){var n=this.anchor().transformCopy(t),i=e.anchor().transformCopy(t);return this.controlOut()&&e.controlIn()?this._curveBoundingBox(n,this.controlOut().transformCopy(t),e.controlIn().transformCopy(t),i):this._lineBoundingBox(n,i)}},{key:"_lineBoundingBox",value:function(e,t){return qO.fromPoints(e,t)}},{key:"_curveBoundingBox",value:function(e,t,n,i){var l=[e,t,n,i],r=this._curveExtremesFor(l,"x"),a=this._curveExtremesFor(l,"y"),o=BF([r.min,r.max,e.x,i.x]),s=BF([a.min,a.max,e.y,i.y]);return qO.fromPoints(new HO(o.min,s.min),new HO(o.max,s.max))}},{key:"_curveExtremesFor",value:function(e,t){var n=this._curveExtremes(e[0][t],e[1][t],e[2][t],e[3][t]);return{min:IF(n.min,t,e),max:IF(n.max,t,e)}}},{key:"_curveExtremes",value:function(e,t,n,i){var l=e-3*t+3*n-i,r=-2*(e-2*t+n),a=e-t,o=Math.sqrt(r*r-4*l*a),s=0,u=1;0===l?0!==r&&(s=u=-a/r):isNaN(o)||(s=(-r+o)/(2*l),u=(-r-o)/(2*l));var c=Math.max(Math.min(s,u),0);(c<0||c>1)&&(c=0);var h=Math.min(Math.max(s,u),1);return(h>1||h<0)&&(h=1),{min:c,max:h}}},{key:"_intersectionsTo",value:function(e,t){return this.controlOut()&&e.controlIn()?function(e,t,n){for(var i,l=EF(e,"x"),r=FF(l[0],l[1],l[2],l[3]-t.x),a=0,o=0;o<r.length;o++)(hF(i=IF(r[o],"y",e),t.y)||i>t.y)&&((0===r[o]||1===r[o])&&n.bottomRight().x>t.x||0<r[o]&&r[o]<1)&&a++;return a}([this.anchor(),this.controlOut(),e.controlIn(),e.anchor()],t,this.bboxTo(e)):NF(this.anchor(),e.anchor(),t)}},{key:"_isOnCurveTo",value:function(e,t,n,i){if(this.bboxTo(e).expand(n,n).containsPoint(t)){var l=this.anchor(),r=this.controlOut(),a=e.controlIn(),o=e.anchor();if("start"===i&&l.distanceTo(t)<=n)return!AF(l,r,t);if("end"===i&&o.distanceTo(t)<=n)return!AF(o,a,t);var s=[l,r,a,o];if(RF(s,t,"x","y",n)||RF(s,t,"y","x",n))return!0;var u=KO().rotate(45,t),c=[l.transformCopy(u),r.transformCopy(u),a.transformCopy(u),o.transformCopy(u)];return RF(c,t,"x","y",n)||RF(c,t,"y","x",n)}}},{key:"_isOnLineTo",value:function(e,t,n){var i=this.anchor(),l=e.anchor(),r=hO(Math.atan2(l.y-i.y,l.x-i.x));return new qO([i.x,i.y-n/2],[i.distanceTo(l),n]).containsPoint(t.transformCopy(KO().rotate(-r,i)))}},{key:"_isOnPathTo",value:function(e,t,n,i){return this.controlOut()&&e.controlIn()?this._isOnCurveTo(e,t,n/2,i):this._isOnLineTo(e,t,n)}}]),t}(MD);function BF(e){for(var t=e.length,n=uO,i=cO,l=0;l<t;l++)i=Math.max(i,e[l]),n=Math.min(n,e[l]);return{min:n,max:i}}MF(LF.prototype,["anchor","controlIn","controlOut"]),CD.extend(LF.prototype);var VF=LF;function zF(e,t,n){for(var i,l=0;l<e.length;l++){var r=e[l];if(r.visible()){var a=t?r.bbox(n):r.rawBBox();a&&(i=i?qO.union(i,a):a)}}return i}function jF(e,t){for(var n,i=0;i<e.length;i++){var l=e[i];if(l.visible()){var r=l.clippedBBox(t);r&&(n=n?qO.union(n,r):r)}}return n}var HF=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).paths=new TF,n.paths.addObserver(_assertThisInitialized(n)),rO(n.options.stroke)||n.stroke("#000"),n}return _inherits(t,e),_createClass2(t,[{key:"moveTo",value:function(e,t){var n=new eR;return n.moveTo(e,t),this.paths.push(n),this}},{key:"lineTo",value:function(e,t){return this.paths.length>0&&fO(this.paths).lineTo(e,t),this}},{key:"curveTo",value:function(e,t,n){return this.paths.length>0&&fO(this.paths).curveTo(e,t,n),this}},{key:"arc",value:function(e,t,n,i,l){return this.paths.length>0&&fO(this.paths).arc(e,t,n,i,l),this}},{key:"arcTo",value:function(e,t,n,i,l,r){return this.paths.length>0&&fO(this.paths).arcTo(e,t,n,i,l,r),this}},{key:"close",value:function(){return this.paths.length>0&&fO(this.paths).close(),this}},{key:"_bbox",value:function(e){return zF(this.paths,!0,e)}},{key:"rawBBox",value:function(){return zF(this.paths,!1)}},{key:"_containsPoint",value:function(e){for(var t=this.paths,n=0;n<t.length;n++)if(t[n]._containsPoint(e))return!0;return!1}},{key:"_isOnPath",value:function(e){for(var t=this.paths,n=this.options.stroke.width,i=0;i<t.length;i++)if(t[i]._isOnPath(e,n))return!0;return!1}},{key:"_clippedBBox",value:function(e){return jF(this.paths,this.currentTransform(e))}}]),t}(ZO);HF.prototype.nodeType="MultiPath",nF.extend(HF.prototype),lF.extend(HF.prototype);var WF=HF;function UF(e,t,n){for(var i=t?0:1,l=0;l<e.length;l+=2)e.splice(l+i,0,n)}function YF(e,t){if(e&&t)return t.scaleCopy(2).translate(-e.x,-e.y)}var qF=1/3;function GF(e,t,n){var i=t.clone().scale(2/3);return{controlOut:i.clone().translateWith(e.scaleCopy(qF)),controlIn:i.translateWith(n.scaleCopy(qF))}}var XF,KF={l:function(e,t){for(var n=t.parameters,i=t.position,l=0;l<n.length;l+=2){var r=new HO(n[l],n[l+1]);t.isRelative&&r.translateWith(i),e.lineTo(r.x,r.y),i.x=r.x,i.y=r.y}},c:function(e,t){for(var n=t.parameters,i=t.position,l=0;l<n.length;l+=6){var r=new HO(n[l],n[l+1]),a=new HO(n[l+2],n[l+3]),o=new HO(n[l+4],n[l+5]);t.isRelative&&(a.translateWith(i),r.translateWith(i),o.translateWith(i)),e.curveTo(r,a,o),i.x=o.x,i.y=o.y}},v:function(e,t){UF(t.parameters,!0,t.isRelative?0:t.position.x),this.l(e,t)},h:function(e,t){UF(t.parameters,!1,t.isRelative?0:t.position.y),this.l(e,t)},a:function(e,t){for(var n=t.parameters,i=t.position,l=0;l<n.length;l+=7){var r=n[l],a=n[l+1],o=n[l+2],s=n[l+3],u=n[l+4],c=new HO(n[l+5],n[l+6]);t.isRelative&&c.translateWith(i),i.x===c.x&&i.y===c.y||(e.arcTo(c,r,a,s,u,o),i.x=c.x,i.y=c.y)}},s:function(e,t){var n,i=t.parameters,l=t.position,r=t.previousCommand;"s"!==r&&"c"!==r||(n=fO(fO(e.paths).segments).controlIn());for(var a=0;a<i.length;a+=4){var o,s=new HO(i[a],i[a+1]),u=new HO(i[a+2],i[a+3]);t.isRelative&&(s.translateWith(l),u.translateWith(l)),o=n?YF(n,l):l.clone(),n=s,e.curveTo(o,s,u),l.x=u.x,l.y=u.y}},q:function(e,t){for(var n=t.parameters,i=t.position,l=0;l<n.length;l+=4){var r=new HO(n[l],n[l+1]),a=new HO(n[l+2],n[l+3]);t.isRelative&&(r.translateWith(i),a.translateWith(i));var o=GF(i,r,a);e.curveTo(o.controlOut,o.controlIn,a),i.x=a.x,i.y=a.y}},t:function(e,t){var n,i=t.parameters,l=t.position,r=t.previousCommand;"q"!==r&&"t"!==r||(n=fO(fO(e.paths).segments).controlIn().clone().translateWith(l.scaleCopy(-1/3)).scale(1.5));for(var a=0;a<i.length;a+=2){var o=new HO(i[a],i[a+1]);t.isRelative&&o.translateWith(l),n=n?YF(n,l):l.clone();var s=GF(l,n,o);e.curveTo(s.controlOut,s.controlIn,o),l.x=o.x,l.y=o.y}}},$F=/([a-df-z]{1})([^a-df-z]*)(z)?/gi,ZF=/[,\s]?([+\-]?(?:\d*\.\d+|\d+)(?:[eE][+\-]?\d+)?)/g,QF=((XF=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"parse",value:function(e,t){var n,i=new WF(t),l=new HO;return e.replace($F,(function(e,t,r,a){var o=t.toLowerCase(),s=o===t,u=function(e){var t=[];return e.replace(ZF,(function(e,n){t.push(parseFloat(n))})),t}(r.trim());if("m"===o&&(s?(l.x+=u[0],l.y+=u[1]):(l.x=u[0],l.y=u[1]),i.moveTo(l.x,l.y),u.length>2&&(o="l",u.splice(0,2))),KF[o])KF[o](i,{parameters:u,position:l,isRelative:s,previousCommand:n}),a&&"z"===a.toLowerCase()&&i.close();else if("m"!==o)throw new Error("Error while parsing SVG path. Unsupported command: "+o);n=o})),i}}]),t}(MD)).current=new XF,XF),JF=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).segments=new TF,n.segments.addObserver(_assertThisInitialized(n)),rO(n.options.stroke)||(n.stroke("#000"),rO(n.options.stroke.lineJoin)||n.options.set("stroke.lineJoin","miter")),n}return _inherits(t,e),_createClass2(t,[{key:"moveTo",value:function(e,t){return this.suspend(),this.segments.elements([]),this.resume(),this.lineTo(e,t),this}},{key:"lineTo",value:function(e,t){var n=rO(t)?new HO(e,t):e,i=new VF(n);return this.segments.push(i),this}},{key:"curveTo",value:function(e,t,n){if(this.segments.length>0){var i=fO(this.segments),l=new VF(n,t);this.suspend(),i.controlOut(e),this.resume(),this.segments.push(l)}return this}},{key:"arc",value:function(e,t,n,i,l){if(this.segments.length>0){var r=fO(this.segments).anchor(),a=vO(e),o=new HO(r.x-n*Math.cos(a),r.y-i*Math.sin(a)),s=new mF(o,{startAngle:e,endAngle:t,radiusX:n,radiusY:i,anticlockwise:l});this._addArcSegments(s)}return this}},{key:"arcTo",value:function(e,t,n,i,l,r){if(this.segments.length>0){var a=fO(this.segments).anchor(),o=mF.fromPoints(a,e,t,n,i,l,r);this._addArcSegments(o)}return this}},{key:"_addArcSegments",value:function(e){this.suspend();for(var t=e.curvePoints(),n=1;n<t.length;n+=3)this.curveTo(t[n],t[n+1],t[n+2]);this.resume(),this.geometryChange()}},{key:"close",value:function(){return this.options.closed=!0,this.geometryChange(),this}},{key:"rawBBox",value:function(){return this._bbox()}},{key:"_containsPoint",value:function(e){for(var t=this.segments,n=t.length,i=0,l=1;l<n;l++)i+=t[l-1]._intersectionsTo(t[l],e);return!this.options.closed&&t[0].anchor().equals(t[n-1].anchor())||(i+=NF(t[0].anchor(),t[n-1].anchor(),e)),i%2!=0}},{key:"_isOnPath",value:function(e,t){var n=this.segments,i=n.length,l=t||this.options.stroke.width;if(i>1){if(n[0]._isOnPathTo(n[1],e,l,"start"))return!0;for(var r=2;r<=i-2;r++)if(n[r-1]._isOnPathTo(n[r],e,l))return!0;if(n[i-2]._isOnPathTo(n[i-1],e,l,"end"))return!0}return!1}},{key:"_bbox",value:function(e){var t,n=this.segments,i=n.length;if(1===i){var l=n[0].anchor().transformCopy(e);t=new qO(l,UO.ZERO)}else if(i>0)for(var r=1;r<i;r++){var a=n[r-1].bboxTo(n[r],e);t=t?qO.union(t,a):a}return t}}],[{key:"fromRect",value:function(e,n){return new t(n).moveTo(e.topLeft()).lineTo(e.topRight()).lineTo(e.bottomRight()).lineTo(e.bottomLeft()).close()}},{key:"fromPoints",value:function(e,n){if(e){for(var i=new t(n),l=0;l<e.length;l++){var r=HO.create(e[l]);r&&(0===l?i.moveTo(r):i.lineTo(r))}return i}}},{key:"fromArc",value:function(e,n){var i=new t(n),l=e.startAngle,r=e.pointAt(l);return i.moveTo(r.x,r.y),i.arc(l,e.endAngle,e.radiusX,e.radiusY,e.anticlockwise),i}}]),t}(ZO);JF.prototype.nodeType="Path",nF.extend(JF.prototype),lF.extend(JF.prototype),JF.parse=function(e,t){return QF.current.parse(e,t)};var eR=JF,tR="#000",nR=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new mF,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,i))).geometry(n),rO(e.options.stroke)||e.stroke(tR),e}return _inherits(t,e),_createClass2(t,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this.geometry().bbox()}},{key:"toPath",value:function(){var e=new eR,t=this.geometry().curvePoints();if(t.length>0){e.moveTo(t[0].x,t[0].y);for(var n=1;n<t.length;n+=3)e.curveTo(t[n],t[n+1],t[n+2])}return e}},{key:"_containsPoint",value:function(e){return this.geometry().containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),t}(ZO);nR.prototype.nodeType="Arc",nF.extend(nR.prototype),lF.extend(nR.prototype),aF(nR.prototype,["geometry"]);var iR="12px sans-serif",lR="#000",rR=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new HO,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,l))).content(e),n.position(i),n.options.font||(n.options.font=iR),rO(n.options.fill)||n.fill(lR),n}return _inherits(t,e),_createClass2(t,[{key:"content",value:function(e){return rO(e)?(this.options.set("content",e),this):this.options.get("content")}},{key:"measure",value:function(){return EO(this.content(),{font:this.options.get("font")})}},{key:"rect",value:function(){var e=this.measure(),t=this.position().clone();return new qO(t,[e.width,e.height])}},{key:"bbox",value:function(e){var t=zO(this.currentTransform(e));return this.rect().bbox(t)}},{key:"rawBBox",value:function(){return this.rect().bbox()}},{key:"_containsPoint",value:function(e){return this.rect().containsPoint(e)}}]),t}(ZO);rR.prototype.nodeType="Text",nF.extend(rR.prototype),MF(rR.prototype,["position"]);var aR=rR,oR=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new qO,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,l))).src(e),n.rect(i),n}return _inherits(t,e),_createClass2(t,[{key:"src",value:function(e){return rO(e)?(this.options.set("src",e),this):this.options.get("src")}},{key:"bbox",value:function(e){var t=zO(this.currentTransform(e));return this._rect.bbox(t)}},{key:"rawBBox",value:function(){return this._rect.bbox()}},{key:"_containsPoint",value:function(e){return this._rect.containsPoint(e)}},{key:"_hasFill",value:function(){return this.src()}}]),t}(ZO);oR.prototype.nodeType="Image",aF(oR.prototype,["rect"]);var sR=oR,uR=function(e,t){e.traverse=function(e){for(var n=this[t],i=0;i<n.length;i++){var l=n[i];l.traverse?l.traverse(e):e(l)}return this}},cR=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).children=[],n}return _inherits(t,e),_createClass2(t,[{key:"childrenChange",value:function(e,t,n){this.trigger("childrenChange",{action:e,items:t,index:n})}},{key:"append",value:function(){return eO(this.children,arguments),this._reparent(arguments,this),this.childrenChange("add",arguments),this}},{key:"insert",value:function(e,t){return this.children.splice(e,0,t),t.parent=this,this.childrenChange("add",[t],e),this}},{key:"insertAt",value:function(e,t){return this.insert(t,e)}},{key:"remove",value:function(e){var t=this.children.indexOf(e);return t>=0&&(this.children.splice(t,1),e.parent=null,this.childrenChange("remove",[e],t)),this}},{key:"removeAt",value:function(e){if(0<=e&&e<this.children.length){var t=this.children[e];this.children.splice(e,1),t.parent=null,this.childrenChange("remove",[t],e)}return this}},{key:"clear",value:function(){var e=this.children;return this.children=[],this._reparent(e,null),this.childrenChange("remove",e,0),this}},{key:"bbox",value:function(e){return zF(this.children,!0,this.currentTransform(e))}},{key:"rawBBox",value:function(){return zF(this.children,!1)}},{key:"_clippedBBox",value:function(e){return jF(this.children,this.currentTransform(e))}},{key:"currentTransform",value:function(e){return ZO.prototype.currentTransform.call(this,e)||null}},{key:"containsPoint",value:function(e,t){if(this.visible())for(var n=this.children,i=this.currentTransform(t),l=0;l<n.length;l++)if(n[l].containsPoint(e,i))return!0;return!1}},{key:"_reparent",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],l=i.parent;l&&l!==this&&l.remove&&l.remove(i),i.parent=t}}}]),t}(ZO);cR.prototype.nodeType="Group",uR(cR.prototype,"children");var hR=cR,dR=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new qO,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,i))).geometry(n),rO(e.options.stroke)||e.stroke("#000"),e}return _inherits(t,e),_createClass2(t,[{key:"_bbox",value:function(e){return this._geometry.bbox(e)}},{key:"rawBBox",value:function(){return this._geometry.bbox()}},{key:"_containsPoint",value:function(e){return this._geometry.containsPoint(e)}},{key:"_isOnPath",value:function(e){return this.geometry()._isOnPath(e,this.options.stroke.width/2)}}]),t}(ZO);dR.prototype.nodeType="Rect",nF.extend(dR.prototype),lF.extend(dR.prototype),aF(dR.prototype,["geometry"]);var fR=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"_change",value:function(){this.optionsChange({field:"stops"})}}]),t}(SF);function pR(e){return function(t){return rO(t)?(this.options.set(e,t),this):this.options.get(e)}}var vR=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).options=new FO({offset:e,color:n,opacity:rO(i)?i:1}),l.options.addObserver(_assertThisInitialized(l)),l}return _inherits(t,e),_createClass2(t,null,[{key:"create",value:function(e){if(rO(e))return e instanceof t?e:e.length>1?new t(e[0],e[1],e[2]):new t(e.offset,e.color,e.opacity)}}]),t}(MD);!function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=pR(t[n])}(vR.prototype,["offset","color","opacity"]),CD.extend(vR.prototype);var gR=vR,mR=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).stops=new fR(e._createStops(n.stops)),e.stops.addObserver(_assertThisInitialized(e)),e._userSpace=n.userSpace,e.id=oO(),e}return _inherits(t,e),_createClass2(t,[{key:"userSpace",value:function(e){return rO(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}},{key:"_createStops",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;n++)t.push(gR.create(e[n]));return t}},{key:"addStop",value:function(e,t,n){this.stops.push(new gR(e,t,n))}},{key:"removeStop",value:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}}]),t}(MD);mR.prototype.nodeType="Gradient",CD.extend(mR.prototype),Object.assign(mR.prototype,{optionsChange:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})},geometryChange:function(){this.optionsChange()}});var yR=mR,bR=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n))).start(n.start||new HO),e.end(n.end||new HO(1,0)),e}return _inherits(t,e),t}(yR);MF(bR.prototype,["start","end"]);var kR=bR,_R=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n))).center(n.center||new HO),e._radius=rO(n.radius)?n.radius:1,e._fallbackFill=n.fallbackFill,e}return _inherits(t,e),_createClass2(t,[{key:"radius",value:function(e){return rO(e)?(this._radius=e,this.geometryChange(),this):this._radius}},{key:"fallbackFill",value:function(e){return rO(e)?(this._fallbackFill=e,this.optionsChange(),this):this._fallbackFill}}]),t}(yR);MF(_R.prototype,["center"]);var wR=_R;function xR(e){return.5-Math.cos(e*Math.PI)/2}function CR(e){return e}function SR(e,t,n,i){var l=1.70158,r=0,a=i;return 0===e?n:1===e?n+i:(r||(r=.5),a<Math.abs(i)?(a=i,l=r/4):l=r/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*e)*Math.sin((Number(e)-l)*(1.1*Math.PI)/r)+i+n)}var TR,PR=((TR=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._items=[],e}return _inherits(t,e),_createClass2(t,[{key:"register",value:function(e,t){this._items.push({name:e,type:t})}},{key:"create",value:function(e,t){var n,i=this._items;if(t&&t.type)for(var l=t.type.toLowerCase(),r=0;r<i.length;r++)if(i[r].name.toLowerCase()===l){n=i[r];break}if(n)return new n.type(e,t)}}]),t}(MD)).current=new TR,TR),MR=Date.now||function(){return(new Date).getTime()},AR=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).options=Object.assign({},i.options,n),i.element=e,i}return _inherits(t,e),_createClass2(t,[{key:"setup",value:function(){}},{key:"step",value:function(){}},{key:"play",value:function(){var e=this,t=this.options,n=t.duration,i=t.delay,l=void 0===i?0:i,r=f[t.easing],a=MR()+l,o=a+n;0===n?(this.step(1),this.abort()):setTimeout((function(){!function t(){if(!e._stopped){var i,l,s=MR(),u=(i=s-a,l=n,Math.max(Math.min(i,l),0)),c=r(u/n,u,0,1,n);e.step(c),s<o?PD(t):e.abort()}}()}),l)}},{key:"abort",value:function(){this._stopped=!0}},{key:"destroy",value:function(){this.abort()}}]),t}(MD);AR.prototype.options={duration:500,easing:"swing"},AR.create=function(e,t,n){return PR.current.create(e,t,n)};var IR,ER,DR=((IR=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._items=[],e}return _inherits(t,e),_createClass2(t,[{key:"register",value:function(e,t,n){var i=this._items,l=i[0],r={name:e,type:t,order:n};!l||n<l.order?i.unshift(r):i.push(r)}},{key:"create",value:function(e,t){var n=this._items,i=n[0];if(t&&t.type)for(var l=t.type.toLowerCase(),r=0;r<n.length;r++)if(n[r].name===l){i=n[r];break}if(i)return new i.type(e,t);!function(e){var t=window.console;void 0!==t&&t.log&&t.log(e)}("Warning: Unable to create Kendo UI Drawing Surface. Possible causes:\n"+"- The browser does not support SVG and Canvas. User agent: ".concat(navigator.userAgent))}}]),t}(MD)).current=new IR,IR),OR=["click","mouseenter","mouseleave","mousemove","resize"],FR=((ER=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).options=Object.assign({},n),i.element=e,i.element._kendoExportVisual=i.exportVisual.bind(_assertThisInitialized(i)),i._click=i._handler("click"),i._mouseenter=i._handler("mouseenter"),i._mouseleave=i._handler("mouseleave"),i._mousemove=i._handler("mousemove"),i._visual=new hR,_O(e,i.options),i.bind(OR,i.options),i._enableTracking(),i}return _inherits(t,e),_createClass2(t,[{key:"draw",value:function(e){this._visual.children.push(e)}},{key:"clear",value:function(){this._visual.children=[]}},{key:"destroy",value:function(){this._visual=null,this.element._kendoExportVisual=null,this.unbind()}},{key:"eventTarget",value:function(e){for(var t,n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.touch?e.touch.initialTouch:e.target}(e);!t&&n&&(t=n._kendoNode,n!==this.element);)n=n.parentElement;if(t)return t.srcElement}},{key:"exportVisual",value:function(){return this._visual}},{key:"getSize",value:function(){return _O(this.element)}},{key:"currentSize",value:function(e){if(!e)return this._size;this._size=e}},{key:"setSize",value:function(e){_O(this.element,e),this.currentSize(e),this._resize()}},{key:"resize",value:function(e){var t=this.getSize(),n=this.currentSize();(e||(t.width>0||t.height>0)&&(!n||t.width!==n.width||t.height!==n.height))&&(this.currentSize(t),this._resize(t,e),this.trigger("resize",t))}},{key:"size",value:function(e){if(!e)return this.getSize();this.setSize(e)}},{key:"suspendTracking",value:function(){this._suspendedTracking=!0}},{key:"resumeTracking",value:function(){this._suspendedTracking=!1}},{key:"_enableTracking",value:function(){}},{key:"_resize",value:function(){}},{key:"_handler",value:function(e){var t=this;return function(n){var i=t.eventTarget(n);i&&!t._suspendedTracking&&t.trigger(e,{element:i,originalEvent:n,type:e})}}},{key:"_elementOffset",value:function(){var e=this.element,t=bO(e,["paddingLeft","paddingTop"]),n=t.paddingLeft,i=t.paddingTop,l=function(e){var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}(e),r=l.left,a=l.top;return{left:r+parseInt(n,10),top:a+parseInt(i,10)}}},{key:"_surfacePoint",value:function(e){var t=this._elementOffset(),n=function(e){return rO((e.x||{}).location)?{x:e.x.location,y:e.y.location}:{x:e.pageX||e.clientX||0,y:e.pageY||e.clientY||0}}(e);return new HO(n.x-t.left,n.y-t.top)}}]),t}(VD)).create=function(e,t){return DR.current.create(e,t)},ER.support={},ER),RR=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).childNodes=[],n.parent=null,e&&(n.srcElement=e,n.observe()),n}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){this.srcElement&&this.srcElement.removeObserver(this);for(var e=this.childNodes,t=0;t<e.length;t++)this.childNodes[t].destroy();this.parent=null}},{key:"load",value:function(){}},{key:"observe",value:function(){this.srcElement&&this.srcElement.addObserver(this)}},{key:"append",value:function(e){this.childNodes.push(e),e.parent=this}},{key:"insertAt",value:function(e,t){this.childNodes.splice(t,0,e),e.parent=this}},{key:"remove",value:function(e,t){for(var n=e+t,i=e;i<n;i++)this.childNodes[i].removeSelf();this.childNodes.splice(e,t)}},{key:"removeSelf",value:function(){this.clear(),this.destroy()}},{key:"clear",value:function(){this.remove(0,this.childNodes.length)}},{key:"invalidate",value:function(){this.parent&&this.parent.invalidate()}},{key:"geometryChange",value:function(){this.invalidate()}},{key:"optionsChange",value:function(){this.invalidate()}},{key:"childrenChange",value:function(e){"add"===e.action?this.load(e.items,e.index):"remove"===e.action&&this.remove(e.index,e.items.length),this.invalidate()}}]),t}(MD);function NR(e,t){return rO(t)&&null!==t?" ".concat(e,'="').concat(t,'" '):""}function LR(e){for(var t="",n=0;n<e.length;n++)t+=NR(e[n][0],e[n][1]);return t}function BR(e){for(var t="",n=0;n<e.length;n++){var i=e[n][1];rO(i)&&(t+=e[n][0]+":"+i+";")}if(""!==t)return t}var VR={},zR="http://www.w3.org/2000/svg",jR=function(e,t){e.innerHTML=t};if("undefined"!=typeof document){var HR=document.createElement("div"),WR="undefined"!=typeof DOMParser;HR.innerHTML="<svg xmlns='http://www.w3.org/2000/svg'></svg>",WR&&HR.firstChild.namespaceURI!==zR&&(jR=function(e,t){var n=(new DOMParser).parseFromString(t,"text/xml"),i=document.adoptNode(n.documentElement);e.innerHTML="",e.appendChild(i)})}var UR=jR,YR={clip:"clip-path",fill:"fill"};function qR(e,t){return"clip"===e||"fill"===e&&(!t||"Gradient"===t.nodeType)}var GR=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).definitions={},i.options=n,i}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){this.element&&(this.element._kendoNode=null,this.element=null),this.clearDefinitions(),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}},{key:"load",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],l=i.children,r=new VR[i.nodeType](i,this.options);rO(t)?this.insertAt(r,t):this.append(r),r.createDefinitions(),l&&l.length>0&&r.load(l);var a=this.element;a&&r.attachTo(a,t)}}},{key:"root",value:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"attachTo",value:function(e,t){var n=document.createElement("div");UR(n,"<svg xmlns='"+zR+"' version='1.1'>"+this.render()+"</svg>");var i=n.firstChild.firstChild;i&&(rO(t)?e.insertBefore(i,e.childNodes[t]||null):e.appendChild(i),this.setElement(i))}},{key:"setElement",value:function(e){this.element&&(this.element._kendoNode=null),this.element=e,this.element._kendoNode=this;for(var t=this.childNodes,n=0;n<t.length;n++)t[n].setElement(e.childNodes[n])}},{key:"clear",value:function(){this.clearDefinitions(),this.element&&(this.element.innerHTML="");for(var e=this.childNodes,t=0;t<e.length;t++)e[t].destroy();this.childNodes=[]}},{key:"removeSelf",value:function(){if(this.element){var e=this.element.parentNode;e&&e.removeChild(this.element),this.element=null}_get2(_getPrototypeOf2(t.prototype),"removeSelf",this).call(this)}},{key:"template",value:function(){return this.renderChildren()}},{key:"render",value:function(){return this.template()}},{key:"renderChildren",value:function(){for(var e=this.childNodes,t="",n=0;n<e.length;n++)t+=e[n].render();return t}},{key:"optionsChange",value:function(e){var n=e.field,i=e.value;"visible"===n?this.css("display",i?"":"none"):YR[n]&&qR(n,i)?this.updateDefinition(n,i):"opacity"===n?this.attr("opacity",i):"cursor"===n?this.css("cursor",i):"id"===n&&(i?this.attr("id",i):this.removeAttr("id")),_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"attr",value:function(e,t){this.element&&this.element.setAttribute(e,t)}},{key:"allAttr",value:function(e){for(var t=0;t<e.length;t++)this.attr(e[t][0],e[t][1])}},{key:"css",value:function(e,t){this.element&&(this.element.style[e]=t)}},{key:"allCss",value:function(e){for(var t=0;t<e.length;t++)this.css(e[t][0],e[t][1])}},{key:"removeAttr",value:function(e){this.element&&this.element.removeAttribute(e)}},{key:"mapTransform",value:function(e){var t=[];return e&&t.push(["transform","matrix("+e.matrix().toString(6)+")"]),t}},{key:"renderTransform",value:function(){return LR(this.mapTransform(this.srcElement.transform()))}},{key:"transformChange",value:function(e){e?this.allAttr(this.mapTransform(e)):this.removeAttr("transform")}},{key:"mapStyle",value:function(){var e=this.srcElement.options,t=[["cursor",e.cursor]];return!1===e.visible&&t.push(["display","none"]),t}},{key:"renderStyle",value:function(){return NR("style",BR(this.mapStyle(!0)))}},{key:"renderOpacity",value:function(){return NR("opacity",this.srcElement.options.opacity)}},{key:"renderId",value:function(){return NR("id",this.srcElement.options.id)}},{key:"createDefinitions",value:function(){var e=this.srcElement,t=this.definitions;if(e){var n,i=e.options;for(var l in YR){var r=i.get(l);r&&qR(l,r)&&(t[l]=r,n=!0)}n&&this.definitionChange({action:"add",definitions:t})}}},{key:"definitionChange",value:function(e){this.parent&&this.parent.definitionChange(e)}},{key:"updateDefinition",value:function(e,t){var n=this.definitions,i=n[e],l=YR[e],r={};i&&(r[e]=i,this.definitionChange({action:"remove",definitions:r}),delete n[e]),t?(r[e]=t,this.definitionChange({action:"add",definitions:r}),n[e]=t,this.attr(l,this.refUrl(t.id))):i&&this.removeAttr(l)}},{key:"clearDefinitions",value:function(){this.definitionChange({action:"remove",definitions:this.definitions}),this.definitions={}}},{key:"renderDefinitions",value:function(){return LR(this.mapDefinitions())}},{key:"mapDefinitions",value:function(){var e=this.definitions,t=[];for(var n in e)t.push([YR[n],this.refUrl(e[n].id)]);return t}},{key:"refUrl",value:function(e){var t=(this.options||{}).skipBaseHref,n=this.baseUrl().replace(/'/g,"\\'");return"url(".concat(t?"":n,"#").concat(e,")")}},{key:"baseUrl",value:function(){return function(){var e=document.getElementsByTagName("base")[0],t=document.location.href,n="";if(e&&!(jD.browser||{}).msie){var i=t.indexOf("#");-1!==i&&(t=t.substring(0,i)),n=t}return n}()}}]),t}(RR),XR=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"template",value:function(){return"<stop ".concat(this.renderOffset()," ").concat(this.renderStyle()," />")}},{key:"renderOffset",value:function(){return NR("offset",this.srcElement.offset())}},{key:"mapStyle",value:function(){var e=this.srcElement;return[["stop-color",e.color()],["stop-opacity",e.opacity()]]}},{key:"optionsChange",value:function(e){"offset"===e.field?this.attr(e.field,e.value):"color"!==e.field&&"opacity"!==e.field||this.css("stop-"+e.field,e.value)}}]),t}(GR),KR=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).id=e.id,n.loadStops(),n}return _inherits(t,e),_createClass2(t,[{key:"loadStops",value:function(){for(var e=this.srcElement.stops,t=this.element,n=0;n<e.length;n++){var i=new XR(e[n]);this.append(i),t&&i.attachTo(t)}}},{key:"optionsChange",value:function(e){"gradient.stops"===e.field?(RR.prototype.clear.call(this),this.loadStops()):"gradient"===e.field&&this.allAttr(this.mapCoordinates())}},{key:"renderCoordinates",value:function(){return LR(this.mapCoordinates())}},{key:"mapSpace",value:function(){return["gradientUnits",this.srcElement.userSpace()?"userSpaceOnUse":"objectBoundingBox"]}}]),t}(GR),$R=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"template",value:function(){return"<linearGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</linearGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.start(),n=e.end();return[["x1",t.x],["y1",t.y],["x2",n.x],["y2",n.y],this.mapSpace()]}}]),t}(KR),ZR=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"template",value:function(){return"<radialGradient id='".concat(this.id,"' ").concat(this.renderCoordinates(),">").concat(this.renderChildren(),"</radialGradient>")}},{key:"mapCoordinates",value:function(){var e=this.srcElement,t=e.center(),n=e.radius();return[["cx",t.x],["cy",t.y],["r",n],this.mapSpace()]}}]),t}(KR),QR=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).srcElement=e,n.id=e.id,n.load([e]),n}return _inherits(t,e),_createClass2(t,[{key:"template",value:function(){return"<clipPath id='".concat(this.id,"'>").concat(this.renderChildren(),"</clipPath>")}}]),t}(GR),JR=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).definitionMap={},e}return _inherits(t,e),_createClass2(t,[{key:"attachTo",value:function(e){this.element=e}},{key:"template",value:function(){return"<defs>".concat(this.renderChildren(),"</defs>")}},{key:"definitionChange",value:function(e){var t=e.definitions,n=e.action;"add"===n?this.addDefinitions(t):"remove"===n&&this.removeDefinitions(t)}},{key:"createDefinition",value:function(e,t){var n;return"clip"===e?n=QR:"fill"===e&&(t instanceof kR?n=$R:t instanceof wR&&(n=ZR)),new n(t)}},{key:"addDefinitions",value:function(e){for(var t in e)this.addDefinition(t,e[t])}},{key:"addDefinition",value:function(e,t){var n=this.element,i=this.definitionMap,l=t.id,r=i[l];if(r)r.count++;else{var a=this.createDefinition(e,t);i[l]={element:a,count:1},this.append(a),n&&a.attachTo(this.element)}}},{key:"removeDefinitions",value:function(e){for(var t in e)this.removeDefinition(e[t])}},{key:"removeDefinition",value:function(e){var t=this.definitionMap,n=e.id,i=t[n];i&&(i.count--,0===i.count&&(this.remove(this.childNodes.indexOf(i.element),1),delete t[n]))}}]),t}(GR),eN=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).options=e,n.defs=new JR,n}return _inherits(t,e),_createClass2(t,[{key:"attachTo",value:function(e){this.element=e,this.defs.attachTo(e.firstElementChild)}},{key:"clear",value:function(){RR.prototype.clear.call(this)}},{key:"template",value:function(){return this.defs.render()+this.renderChildren()}},{key:"definitionChange",value:function(e){this.defs.definitionChange(e)}}]),t}(GR),tN="rtl",nN=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n)))._root=new eN(Object.assign({rtl:bO(e,"direction").direction===tN},i.options)),UR(i.element,i._template()),i._rootElement=i.element.firstElementChild,function(e){var t;try{t=e.getScreenCTM?e.getScreenCTM():null}catch(r){}if(t){var n=-t.e%1,i=-t.f%1,l=e.style;0===n&&0===i||(l.left=n+"px",l.top=i+"px")}}(i._rootElement),i._root.attachTo(i._rootElement),yO(i.element,{click:i._click,mouseover:i._mouseenter,mouseout:i._mouseleave,mousemove:i._mousemove}),i.resize(),i}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){this._root&&(this._root.destroy(),this._root=null,this._rootElement=null,wO(this.element,{click:this._click,mouseover:this._mouseenter,mouseout:this._mouseleave,mousemove:this._mousemove})),_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this)}},{key:"translate",value:function(e){var t="".concat(Math.round(e.x)," ").concat(Math.round(e.y)," ").concat(this._size.width," ").concat(this._size.height);this._offset=e,this._rootElement.setAttribute("viewBox",t)}},{key:"draw",value:function(e){_get2(_getPrototypeOf2(t.prototype),"draw",this).call(this,e),this._root.load([e])}},{key:"clear",value:function(){_get2(_getPrototypeOf2(t.prototype),"clear",this).call(this),this._root.clear()}},{key:"svg",value:function(){return"<?xml version='1.0' ?>"+this._template()}},{key:"exportVisual",value:function(){var e=this._visual,t=this._offset;if(t){var n=new hR;n.children.push(e),n.transform(KO().translate(-t.x,-t.y)),e=n}return e}},{key:"_resize",value:function(){this._offset&&this.translate(this._offset)}},{key:"_template",value:function(){return"<svg style='width: 100%; height: 100%; overflow: hidden;' xmlns='".concat(zR,"' xmlns:xlink='http://www.w3.org/1999/xlink' version='1.1'>").concat(this._root.render(),"</svg>")}}]),t}(FR);nN.prototype.type="svg","undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(FR.support.svg=!0,DR.current.register("svg",nN,10)),VR.Group=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"template",value:function(){return"<g".concat(this.renderId()+this.renderTransform()+this.renderStyle()+this.renderOpacity()+this.renderDefinitions(),">").concat(this.renderChildren(),"</g>")}},{key:"optionsChange",value:function(e){"transform"===e.field&&this.transformChange(e.value),_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}}]),t}(GR);var iN={dot:[1.5,3.5],dash:[4,3.5],longdash:[8,3.5],dashdot:[3.5,3.5,1.5,3.5],longdashdot:[8,3.5,1.5,3.5],longdashdotdot:[8,3.5,1.5,3.5,1.5,3.5]},lN={"fill.opacity":"fill-opacity","stroke.color":"stroke","stroke.width":"stroke-width","stroke.opacity":"stroke-opacity"},rN=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"geometryChange",value:function(){this.attr("d",this.renderData()),this.invalidate()}},{key:"optionsChange",value:function(e){switch(e.field){case"fill":e.value?this.allAttr(this.mapFill(e.value)):this.removeAttr("fill");break;case"fill.color":this.allAttr(this.mapFill({color:e.value}));break;case"stroke":e.value?this.allAttr(this.mapStroke(e.value)):this.removeAttr("stroke");break;case"transform":this.transformChange(e.value);break;default:var n=lN[e.field];n&&this.attr(n,e.value)}_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"content",value:function(){this.element&&(this.element.textContent=this.srcElement.content())}},{key:"renderData",value:function(){return this.printPath(this.srcElement)}},{key:"printPath",value:function(e){var t=e.segments,n=t.length;if(n>0){for(var i,l,r=[],a=1;a<n;a++){var o=this.segmentType(t[a-1],t[a]);o!==l&&(l=o,r.push(o)),r.push("L"===o?this.printPoints(t[a].anchor()):this.printPoints(t[a-1].controlOut(),t[a].controlIn(),t[a].anchor()))}return i="M"+this.printPoints(t[0].anchor())+" "+r.join(" "),e.options.closed&&(i+="Z"),i}}},{key:"printPoints",value:function(){for(var e=arguments,t=e.length,n=[],i=0;i<t;i++)n.push(e[i].toString(3));return n.join(" ")}},{key:"segmentType",value:function(e,t){return e.controlOut()&&t.controlIn()?"C":"L"}},{key:"mapStroke",value:function(e){var t=[];return e&&!dO(e.color)?(t.push(["stroke",e.color]),t.push(["stroke-width",e.width]),t.push(["stroke-linecap",this.renderLinecap(e)]),t.push(["stroke-linejoin",e.lineJoin]),rO(e.opacity)&&t.push(["stroke-opacity",e.opacity]),rO(e.dashType)&&t.push(["stroke-dasharray",this.renderDashType(e)])):t.push(["stroke","none"]),t}},{key:"renderStroke",value:function(){return LR(this.mapStroke(this.srcElement.options.stroke))}},{key:"renderDashType",value:function(e){var t=e.dashType,n=e.width,i=void 0===n?1:n;if(t&&"solid"!==t){for(var l=iN[t.toLowerCase()],r=[],a=0;a<l.length;a++)r.push(l[a]*i);return r.join(" ")}}},{key:"renderLinecap",value:function(e){var t=e.dashType,n=e.lineCap;return t&&"solid"!==t?"butt":n}},{key:"mapFill",value:function(e){var t=[];return e&&"Gradient"===e.nodeType||(e&&!dO(e.color)?(t.push(["fill",e.color]),rO(e.opacity)&&t.push(["fill-opacity",e.opacity])):t.push(["fill","none"])),t}},{key:"renderFill",value:function(){return LR(this.mapFill(this.srcElement.options.fill))}},{key:"template",value:function(){return"<path ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," ").concat(NR("d",this.renderData()))+"".concat(this.renderStroke()).concat(this.renderFill()).concat(this.renderDefinitions()).concat(this.renderTransform(),"></path>")}}]),t}(GR);VR.Path=rN;var aN=rN;VR.Arc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderData",value:function(){return this.printPath(this.srcElement.toPath())}}]),t}(aN),VR.Circle=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"geometryChange",value:function(){var e=this.center();this.attr("cx",e.x),this.attr("cy",e.y),this.attr("r",this.radius()),this.invalidate()}},{key:"center",value:function(){return this.srcElement.geometry().center}},{key:"radius",value:function(){return this.srcElement.geometry().radius}},{key:"template",value:function(){return"<circle ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"cx='".concat(this.center().x,"' cy='").concat(this.center().y,"' r='").concat(this.radius(),"'")+"".concat(this.renderStroke()," ").concat(this.renderFill()," ").concat(this.renderDefinitions())+"".concat(this.renderTransform()," ></circle>")}}]),t}(aN),VR.Rect=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"geometryChange",value:function(){var e=this.srcElement.geometry();this.attr("x",e.origin.x),this.attr("y",e.origin.y),this.attr("width",e.size.width),this.attr("height",e.size.height),this.invalidate()}},{key:"size",value:function(){return this.srcElement.geometry().size}},{key:"origin",value:function(){return this.srcElement.geometry().origin}},{key:"template",value:function(){return"<rect ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderOpacity()," x='").concat(this.origin().x,"' y='").concat(this.origin().y,"' ")+"width='".concat(this.size().width,"' height='").concat(this.size().height,"' ").concat(this.renderStroke()," ")+"".concat(this.renderFill()," ").concat(this.renderDefinitions()," ").concat(this.renderTransform()," />")}}]),t}(aN),VR.Image=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"geometryChange",value:function(){this.allAttr(this.mapPosition()),this.invalidate()}},{key:"optionsChange",value:function(e){"src"===e.field&&this.allAttr(this.mapSource()),_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"mapPosition",value:function(){var e=this.srcElement.rect(),t=e.topLeft();return[["x",t.x],["y",t.y],["width",e.width()+"px"],["height",e.height()+"px"]]}},{key:"renderPosition",value:function(){return LR(this.mapPosition())}},{key:"mapSource",value:function(e){var t=this.srcElement.src();return e&&(t=FD(t)),[["xlink:href",t]]}},{key:"renderSource",value:function(){return LR(this.mapSource(!0))}},{key:"template",value:function(){return"<image preserveAspectRatio='none' ".concat(this.renderId()," ").concat(this.renderStyle()," ").concat(this.renderTransform()," ").concat(this.renderOpacity())+"".concat(this.renderPosition()," ").concat(this.renderSource()," ").concat(this.renderDefinitions(),">")+"</image>"}}]),t}(aN);var oN=/&(?:[a-zA-Z]+|#\d+);/g;function sN(e){if(!e||"string"!=typeof e||!oN.test(e))return e;var t=sN._element;return oN.lastIndex=0,e.replace(oN,(function(e){return t.innerHTML=e,t.textContent||t.innerText}))}"undefined"!=typeof document&&(sN._element=document.createElement("span")),VR.Text=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"geometryChange",value:function(){var e=this.pos();this.attr("x",e.x),this.attr("y",e.y),this.invalidate()}},{key:"optionsChange",value:function(e){"font"===e.field?(this.attr("style",BR(this.mapStyle())),this.geometryChange()):"content"===e.field&&_get2(_getPrototypeOf2(t.prototype),"content",this).call(this,this.srcElement.content()),_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"mapStyle",value:function(e){var n=_get2(_getPrototypeOf2(t.prototype),"mapStyle",this).call(this,e),i=this.srcElement.options.font;return e&&(i=FD(i)),n.push(["font",i],["white-space","pre"]),n}},{key:"pos",value:function(){var e=this.srcElement.position(),t=this.srcElement.measure();return e.clone().setY(e.y+t.baseline)}},{key:"renderContent",value:function(){var e=this.srcElement.content();return TO(e=FD(e=sN(e)))}},{key:"renderTextAnchor",value:function(){var e;return!(this.options||{}).rtl||jD.browser.msie||jD.browser.edge||(e="end"),NR("text-anchor",e)}},{key:"template",value:function(){return"<text ".concat(this.renderId()," ").concat(this.renderTextAnchor()," ").concat(this.renderStyle()," ").concat(this.renderOpacity())+"x='".concat(this.pos().x,"' y='").concat(this.pos().y,"' ").concat(this.renderStroke()," ").concat(this.renderTransform()," ").concat(this.renderDefinitions())+"".concat(this.renderFill(),">").concat(this.renderContent(),"</text>")}}]),t}(aN),VR.MultiPath=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderData",value:function(){var e=this.srcElement.paths;if(e.length>0){for(var t=[],n=0;n<e.length;n++)t.push(this.printPath(e[n]));return t.join(" ")}}}]),t}(aN);var uN={};function cN(e,t){var n=t.segments;if(0!==n.length){var i=n[0],l=i.anchor();e.moveTo(l.x,l.y);for(var r=1;r<n.length;r++){l=(i=n[r]).anchor();var a=n[r-1].controlOut(),o=i.controlIn();a&&o?e.bezierCurveTo(a.x,a.y,o.x,o.y,l.x,l.y):e.lineTo(l.x,l.y)}t.options.closed&&e.closePath()}}var hN=function(e){function t(e){var n;return _classCallCheck2(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e)),e&&n.initClip(),n}return _inherits(t,e),_createClass2(t,[{key:"initClip",value:function(){var e=this.srcElement.clip();e&&(this.clip=e,e.addObserver(this))}},{key:"clear",value:function(){this.srcElement&&this.srcElement.removeObserver(this),this.clearClip(),_get2(_getPrototypeOf2(t.prototype),"clear",this).call(this)}},{key:"clearClip",value:function(){this.clip&&(this.clip.removeObserver(this),delete this.clip)}},{key:"setClip",value:function(e){this.clip&&(e.beginPath(),cN(e,this.clip),e.clip())}},{key:"optionsChange",value:function(e){"clip"===e.field&&(this.clearClip(),this.initClip()),_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"setTransform",value:function(e){if(this.srcElement){var t=this.srcElement.transform();t&&e.transform.apply(e,t.matrix().toArray(6))}}},{key:"loadElements",value:function(e,t,n){for(var i=0;i<e.length;i++){var l=e[i],r=l.children,a=new uN[l.nodeType](l,n);r&&r.length>0&&a.load(r,t,n),rO(t)?this.insertAt(a,t):this.append(a)}}},{key:"load",value:function(e,t,n){this.loadElements(e,t,n),this.invalidate()}},{key:"setOpacity",value:function(e){if(this.srcElement){var t=this.srcElement.opacity();rO(t)&&this.globalAlpha(e,t)}}},{key:"globalAlpha",value:function(e,t){var n=t;n&&e.globalAlpha&&(n*=e.globalAlpha),e.globalAlpha=n}},{key:"visible",value:function(){var e=this.srcElement;return!e||e&&!1!==e.options.visible}}]),t}(RR),dN=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderTo",value:function(e){if(this.visible()){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e);for(var t=this.childNodes,n=0;n<t.length;n++){var i=t[n];i.visible()&&i.renderTo(e)}e.restore()}}}]),t}(hN);uR(dN.prototype,"childNodes"),uN.Group=dN;var fN=1e3/60,pN=function(e){function t(e,n){var i;_classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).canvas=e,i.size=n,i.ctx=e.getContext("2d");var l=i._invalidate.bind(_assertThisInitialized(i));return i.invalidate=function(e,t){var n,i=0;if(!t||t<=0)return e;var l=function(){var l=HD()-i,r=arguments,a=function(){e.apply(null,r),i=HD()};if(!i)return a();n&&clearTimeout(n),l>t?a():n=setTimeout(a,t-l)};return l.cancel=function(){clearTimeout(n)},l}((function(){PD(l)}),fN),i}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this.canvas=null,this.ctx=null}},{key:"load",value:function(e,t,n){this.loadElements(e,t,n),this._invalidate()}},{key:"_rescale",value:function(){var e=this.canvas,t=this.size,n=1;"number"==typeof window.devicePixelRatio&&(n=window.devicePixelRatio),e.width=t.width*n,e.height=t.height*n,this.ctx.scale(n,n)}},{key:"_invalidate",value:function(){this.ctx&&(this._rescale(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.renderTo(this.ctx))}}]),t}(dN);uR(pN.prototype,"childNodes");var vN=pN,gN=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).shapes=[],e}return _inherits(t,e),_createClass2(t,[{key:"_add",value:function(e,t){this.shapes.push({bbox:t,shape:e}),e._quadNode=this}},{key:"pointShapes",value:function(e){for(var t=this.shapes,n=t.length,i=[],l=0;l<n;l++)t[l].bbox.containsPoint(e)&&i.push(t[l].shape);return i}},{key:"insert",value:function(e,t){this._add(e,t)}},{key:"remove",value:function(e){for(var t=this.shapes,n=t.length,i=0;i<n;i++)if(t[i].shape===e){t.splice(i,1);break}}}]),t}(MD),mN=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).children=[],n.rect=e,n}return _inherits(t,e),_createClass2(t,[{key:"inBounds",value:function(e){var t=this.rect,n=t.bottomRight(),i=e.bottomRight();return t.origin.x<=e.origin.x&&t.origin.y<=e.origin.y&&i.x<=n.x&&i.y<=n.y}},{key:"pointShapes",value:function(e){for(var n=this.children,i=n.length,l=_get2(_getPrototypeOf2(t.prototype),"pointShapes",this).call(this,e),r=0;r<i;r++)eO(l,n[r].pointShapes(e));return l}},{key:"insert",value:function(e,t){var n=this.children,i=!1;if(this.inBounds(t)){if(this.shapes.length<4)this._add(e,t);else{n.length||this._initChildren();for(var l=0;l<n.length;l++)if(n[l].insert(e,t)){i=!0;break}i||this._add(e,t)}i=!0}return i}},{key:"_initChildren",value:function(){var e=this.rect,n=this.children,i=e.center(),l=e.width()/2,r=e.height()/2;n.push(new t(new qO([e.origin.x,e.origin.y],[l,r])),new t(new qO([i.x,e.origin.y],[l,r])),new t(new qO([e.origin.x,i.y],[l,r])),new t(new qO([i.x,i.y],[l,r])))}}]),t}(gN);function yN(e,t){return e._zIndex<t._zIndex?1:e._zIndex>t._zIndex?-1:0}var bN=function(e){function t(){var e;return _classCallCheck2(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).initRoots(),e}return _inherits(t,e),_createClass2(t,[{key:"initRoots",value:function(){this.rootMap={},this.root=new gN,this.rootElements=[]}},{key:"clear",value:function(){for(var e=this.rootElements,t=0;t<e.length;t++)this.remove(e[t]);this.initRoots()}},{key:"pointShape",value:function(e){var t=(this.rootMap[Math.floor(e.x/3e3)]||{})[Math.floor(e.y/3e3)],n=this.root.pointShapes(e);t&&(n=n.concat(t.pointShapes(e))),this.assignZindex(n),n.sort(yN);for(var i=0;i<n.length;i++)if(n[i].containsPoint(e))return n[i]}},{key:"assignZindex",value:function(e){for(var t=0;t<e.length;t++){for(var n=e[t],i=0,l=Math.pow(1e4,75),r=[];n;)r.push(n),n=n.parent;for(;r.length;)i+=(((n=r.pop()).parent?n.parent.children:this.rootElements).indexOf(n)+1)*l,l/=1e4;e[t]._zIndex=i}}},{key:"optionsChange",value:function(e){"transform"!==e.field&&"stroke.width"!==e.field||this.bboxChange(e.element)}},{key:"geometryChange",value:function(e){this.bboxChange(e.element)}},{key:"bboxChange",value:function(e){if("Group"===e.nodeType)for(var t=0;t<e.children.length;t++)this.bboxChange(e.children[t]);else e._quadNode&&e._quadNode.remove(e),this._insertShape(e)}},{key:"add",value:function(e){var t=Array.isArray(e)?e.slice(0):[e];eO(this.rootElements,t),this._insert(t)}},{key:"childrenChange",value:function(e){if("remove"===e.action)for(var t=0;t<e.items.length;t++)this.remove(e.items[t]);else this._insert(Array.prototype.slice.call(e.items,0))}},{key:"_insert",value:function(e){for(var t;e.length>0;)(t=e.pop()).addObserver(this),"Group"===t.nodeType?eO(e,t.children):this._insertShape(t)}},{key:"_insertShape",value:function(e){var t=e.bbox();if(t){var n=this.getSectors(t),i=n[0][0],l=n[1][0];if(this.inRoot(n))this.root.insert(e,t);else{var r=this.rootMap;r[i]||(r[i]={}),r[i][l]||(r[i][l]=new mN(new qO([3e3*i,3e3*l],[3e3,3e3]))),r[i][l].insert(e,t)}}}},{key:"remove",value:function(e){if(e.removeObserver(this),"Group"===e.nodeType)for(var t=e.children,n=0;n<t.length;n++)this.remove(t[n]);else e._quadNode&&(e._quadNode.remove(e),delete e._quadNode)}},{key:"inRoot",value:function(e){return e[0].length>1||e[1].length>1}},{key:"getSectors",value:function(e){for(var t=e.bottomRight(),n=Math.floor(t.x/3e3),i=Math.floor(t.y/3e3),l=[[],[]],r=Math.floor(e.origin.x/3e3);r<=n;r++)l[0].push(r);for(var a=Math.floor(e.origin.y/3e3);a<=i;a++)l[1].push(a);return l}}]),t}(MD),kN=function(){function e(t){_classCallCheck2(this,e),t.bind("mouseenter",this._mouseenter.bind(this)),t.bind("mouseleave",this._mouseleave.bind(this)),this.element=t.element}return _createClass2(e,[{key:"clear",value:function(){this._resetCursor()}},{key:"destroy",value:function(){this._resetCursor(),delete this.element}},{key:"_mouseenter",value:function(e){var t=this._shapeCursor(e);t?(this._current||(this._defaultCursor=this._getCursor()),this._setCursor(t)):this._resetCursor()}},{key:"_mouseleave",value:function(){this._resetCursor()}},{key:"_shapeCursor",value:function(e){for(var t=e.element;t&&!rO(t.options.cursor);)t=t.parent;if(t)return t.options.cursor}},{key:"_getCursor",value:function(){if(this.element)return this.element.style.cursor}},{key:"_setCursor",value:function(e){this.element&&(this.element.style.cursor=e,this._current=e)}},{key:"_resetCursor",value:function(){this._current&&(this._setCursor(this._defaultCursor||""),delete this._current)}}]),e}(),_N=function(e){function t(e,n){var i;_classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n))).element.innerHTML=i._template(_assertThisInitialized(i));var l=i.element.firstElementChild,r=_O(e);return l.width=r.width,l.height=r.height,i._rootElement=l,i._root=new vN(l,r),i._mouseTrackHandler=i._trackMouse.bind(_assertThisInitialized(i)),yO(i.element,{click:i._mouseTrackHandler,mousemove:i._mouseTrackHandler}),i}return _inherits(t,e),_createClass2(t,[{key:"destroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this),this._root&&(this._root.destroy(),this._root=null),this._searchTree&&(this._searchTree.clear(),delete this._searchTree),this._cursor&&(this._cursor.destroy(),delete this._cursor),wO(this.element,{click:this._mouseTrackHandler,mousemove:this._mouseTrackHandler})}},{key:"draw",value:function(e){_get2(_getPrototypeOf2(t.prototype),"draw",this).call(this,e),this._root.load([e],void 0,this.options.cors),this._searchTree&&this._searchTree.add([e])}},{key:"clear",value:function(){_get2(_getPrototypeOf2(t.prototype),"clear",this).call(this),this._root.clear(),this._searchTree&&this._searchTree.clear(),this._cursor&&this._cursor.clear()}},{key:"eventTarget",value:function(e){if(this._searchTree){var t=this._surfacePoint(e);return this._searchTree.pointShape(t)}}},{key:"image",value:function(){var e=this._root,t=this._rootElement,n=[];e.traverse((function(e){e.loading&&n.push(e.loading)}));var i,l=iO(),r=function(){e._invalidate();try{var n=t.toDataURL();l.resolve(n)}catch(i){l.reject(i)}};return(i=n,Promise.all(i)).then(r,r),l}},{key:"suspendTracking",value:function(){_get2(_getPrototypeOf2(t.prototype),"suspendTracking",this).call(this),this._searchTree&&(this._searchTree.clear(),delete this._searchTree)}},{key:"resumeTracking",value:function(){if(_get2(_getPrototypeOf2(t.prototype),"resumeTracking",this).call(this),!this._searchTree){this._searchTree=new bN;for(var e=this._root.childNodes,n=[],i=0;i<e.length;i++)n.push(e[i].srcElement);this._searchTree.add(n)}}},{key:"_resize",value:function(){this._rootElement.width=this._size.width,this._rootElement.height=this._size.height,this._root.size=this._size,this._root.invalidate()}},{key:"_template",value:function(){return"<canvas style='width: 100%; height: 100%;'></canvas>"}},{key:"_enableTracking",value:function(){this._searchTree=new bN,this._cursor=new kN(this),_get2(_getPrototypeOf2(t.prototype),"_enableTracking",this).call(this)}},{key:"_trackMouse",value:function(e){if(!this._suspendedTracking){var t=this.eventTarget(e);if("click"!==e.type){var n=this._currentShape;n&&n!==t&&this.trigger("mouseleave",{element:n,originalEvent:e,type:"mouseleave"}),t&&n!==t&&this.trigger("mouseenter",{element:t,originalEvent:e,type:"mouseenter"}),this.trigger("mousemove",{element:t,originalEvent:e,type:"mousemove"}),this._currentShape=t}else t&&this.trigger("click",{element:t,originalEvent:e,type:"click"})}}}]),t}(FR);_N.prototype.type="canvas","undefined"!=typeof document&&document.createElement("canvas").getContext&&(FR.support.canvas=!0,DR.current.register("canvas",_N,20));var wN=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderTo",value:function(e){e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),this.renderPoints(e,this.srcElement),this.setLineDash(e),this.setLineCap(e),this.setLineJoin(e),this.setFill(e),this.setStroke(e),e.restore()}},{key:"setFill",value:function(e){var t=this.srcElement.options.fill,n=!1;return t&&("Gradient"===t.nodeType?(this.setGradientFill(e,t),n=!0):dO(t.color)||(e.fillStyle=t.color,e.save(),this.globalAlpha(e,t.opacity),e.fill(),e.restore(),n=!0)),n}},{key:"setGradientFill",value:function(e,t){var n,i=this.srcElement.rawBBox();if(t instanceof kR){var l=t.start(),r=t.end();n=e.createLinearGradient(l.x,l.y,r.x,r.y)}else if(t instanceof wR){var a=t.center();n=e.createRadialGradient(a.x,a.y,0,a.x,a.y,t.radius())}!function(e,t){for(var n=0;n<t.length;n++){var i=t[n],l=JD(i.color());l.a*=i.opacity(),e.addColorStop(i.offset(),l.toCssRgba())}}(n,t.stops),e.save(),t.userSpace()||e.transform(i.width(),0,0,i.height(),i.origin.x,i.origin.y),e.fillStyle=n,e.fill(),e.restore()}},{key:"setStroke",value:function(e){var t=this.srcElement.options.stroke;if(t&&!dO(t.color)&&t.width>0)return e.strokeStyle=t.color,e.lineWidth=mO(t.width,1),e.save(),this.globalAlpha(e,t.opacity),e.stroke(),e.restore(),!0}},{key:"dashType",value:function(){var e=this.srcElement.options.stroke;if(e&&e.dashType)return e.dashType.toLowerCase()}},{key:"setLineDash",value:function(e){var t=this.dashType();if(t&&"solid"!==t){var n=iN[t];e.setLineDash?e.setLineDash(n):(e.mozDash=n,e.webkitLineDash=n)}}},{key:"setLineCap",value:function(e){var t=this.dashType(),n=this.srcElement.options.stroke;t&&"solid"!==t?e.lineCap="butt":n&&n.lineCap&&(e.lineCap=n.lineCap)}},{key:"setLineJoin",value:function(e){var t=this.srcElement.options.stroke;t&&t.lineJoin&&(e.lineJoin=t.lineJoin)}},{key:"renderPoints",value:function(e,t){cN(e,t)}}]),t}(hN);uN.Path=wN;var xN=wN;uN.Arc=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderPoints",value:function(e){cN(e,this.srcElement.toPath())}}]),t}(xN),uN.Circle=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),n=t.center,i=t.radius;e.arc(n.x,n.y,i,0,2*Math.PI)}}]),t}(xN),uN.Rect=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderPoints",value:function(e){var t=this.srcElement.geometry(),n=t.origin,i=t.size;e.rect(n.x,n.y,i.width,i.height)}}]),t}(xN),uN.Image=function(e){function t(e,n){var i;_classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e))).onLoad=i.onLoad.bind(_assertThisInitialized(i)),i.onError=i.onError.bind(_assertThisInitialized(i)),i.loading=iO();var l=i.img=new Image;return n&&!/^data:/i.test(e.src())&&(l.crossOrigin=n),l.src=e.src(),l.complete?i.onLoad():(l.onload=i.onLoad,l.onerror=i.onError),i}return _inherits(t,e),_createClass2(t,[{key:"renderTo",value:function(e){"resolved"===this.loading.state()&&(e.save(),this.setTransform(e),this.setClip(e),this.drawImage(e),e.restore())}},{key:"optionsChange",value:function(e){"src"===e.field?(this.loading=iO(),this.img.src=this.srcElement.src()):_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"onLoad",value:function(){this.loading.resolve(),this.invalidate()}},{key:"onError",value:function(){this.loading.reject(new Error("Unable to load image '"+this.img.src+"'. Check for connectivity and verify CORS headers."))}},{key:"drawImage",value:function(e){var t=this.srcElement.rect(),n=t.topLeft();e.drawImage(this.img,n.x,n.y,t.width(),t.height())}}]),t}(xN),uN.Text=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderTo",value:function(e){var t=this.srcElement,n=t.position(),i=t.measure();e.save(),this.setTransform(e),this.setClip(e),this.setOpacity(e),e.beginPath(),e.font=t.options.font,e.textAlign="left",this.setFill(e)&&e.fillText(t.content(),n.x,n.y+i.baseline),this.setStroke(e)&&(this.setLineDash(e),e.strokeText(t.content(),n.x,n.y+i.baseline)),e.restore()}}]),t}(xN),uN.MultiPath=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"renderPoints",value:function(e){for(var t=this.srcElement.paths,n=0;n<t.length;n++)cN(e,t[n])}}]),t}(xN);var CN,SN="undefined"!=typeof Uint8Array&&jD.browser&&(!jD.browser.msie||jD.browser.version>9),TN=(CN="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",{decode:function(e){for(var t=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),n=0,i=t.length,l=[];n<i;){var r=CN.indexOf(t.charAt(n++)),a=CN.indexOf(t.charAt(n++)),o=CN.indexOf(t.charAt(n++)),s=CN.indexOf(t.charAt(n++)),u=(15&a)<<4|o>>>2,c=(3&o)<<6|s;l.push(r<<2|a>>>4),64!=o&&l.push(u),64!=s&&l.push(c)}return l},encode:function(e){for(var t=0,n=e.length,i="";t<n;){var l=e[t++],r=e[t++],a=e[t++],o=(3&l)<<4|r>>>4,s=(15&r)<<2|a>>>6,u=63&a;t-n==2?s=u=64:t-n==1&&(u=64),i+=CN.charAt(l>>>2)+CN.charAt(o)+CN.charAt(s)+CN.charAt(u)}return i}});function PN(e){var t=0,n=0;null==e?e=SN?new Uint8Array(256):[]:n=e.length;var i=SN?function(t){if(t>=e.length){var n=new Uint8Array(Math.max(t+256,2*e.length));n.set(e,0),e=n}}:function(){},l=SN?function(){return new Uint8Array(e.buffer,0,n)}:function(){return e},r=SN?function(l){if("string"==typeof l)return v(l);var r=l.length;i(t+r),e.set(l,t),(t+=r)>n&&(n=t)}:function(e){if("string"==typeof e)return v(e);for(var t=0;t<e.length;++t)o(e[t])};function a(){return t<n?e[t++]:0}function o(l){i(t),e[t++]=255&l,t>n&&(n=t)}function s(){return a()<<8|a()}function u(e){o(e>>8),o(e)}function c(){return 65536*s()+s()}function h(e){u(e>>>16&65535),u(65535&e)}function d(){var e=c();return e>=2147483648?e-4294967296:e}function f(e){h(e<0?e+4294967296:e)}function p(e){return g(e,a)}function v(e){for(var t=0;t<e.length;++t)o(e.charCodeAt(t))}function g(e,t){for(var n=new Array(e),i=0;i<e;++i)n[i]=t();return n}var m={eof:function(){return t>=n},readByte:a,writeByte:o,readShort:s,writeShort:u,readLong:c,writeLong:h,readFixed:function(){return c()/65536},writeFixed:function(e){h(Math.round(65536*e))},readShort_:function(){var e=s();return e>=32768?e-65536:e},writeShort_:function(e){u(e<0?e+65536:e)},readLong_:d,writeLong_:f,readFixed_:function(){return d()/65536},writeFixed_:function(e){f(Math.round(65536*e))},read:p,write:r,readString:function(e){return String.fromCharCode.apply(String,p(e))},writeString:v,times:g,get:l,slice:SN?function(t,n){if(e.buffer.slice)return new Uint8Array(e.buffer.slice(t,t+n));var i=new Uint8Array(n);return i.set(new Uint8Array(e.buffer,t,n)),i}:function(t,n){return e.slice(t,t+n)},offset:function(e){return null!=e?(t=e,m):t},skip:function(e){t+=e},toString:function(){throw new Error("FIX CALLER.  BinaryStream is no longer convertible to string!")},length:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return n})),saveExcursion:function(e){var n=t;try{return e()}finally{t=n}},writeBase64:function(e){window.atob?v(window.atob(e)):r(TN.decode(e))},base64:function(){return TN.encode(l())}};return m}function MN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function AN(e){return Object.keys(e).sort((function(e,t){return e-t})).map(parseFloat)}function IN(e){this.raw=e,this.scalerType=e.readLong(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort();for(var t=this.tables={},n=0;n<this.tableCount;++n){var i={tag:e.readString(4),checksum:e.readLong(),offset:e.readLong(),length:e.readLong()};t[i.tag]=i}}function EN(e){function t(e,t){this.definition=t,this.length=t.length,this.offset=t.offset,this.file=e,this.rawData=e.raw,this.parse(e.raw)}for(var n in t.prototype.raw=function(){return this.rawData.slice(this.offset,this.length)},e)MN(e,n)&&(t[n]=t.prototype[n]=e[n]);return t}IN.prototype={readTable:function(e,t){var n=this.tables[e];if(!n)throw new Error("Table "+e+" not found in directory");return this[e]=n.table=new t(this,n)},render:function(e){var t=Object.keys(e).length,n=Math.pow(2,Math.floor(Math.log(t)/Math.LN2)),i=16*n,l=Math.floor(Math.log(n)/Math.LN2),r=16*t-i,a=PN();a.writeLong(this.scalerType),a.writeShort(t),a.writeShort(i),a.writeShort(l),a.writeShort(r);var o=16*t,s=a.offset()+o,u=null,c=PN();for(var h in e)if(MN(e,h)){var d=e[h];for(a.writeString(h),a.writeLong(this.checksum(d)),a.writeLong(s),a.writeLong(d.length),c.write(d),"head"==h&&(u=s),s+=d.length;s%4;)c.writeByte(0),s++}a.write(c.get());var f=2981146554-this.checksum(a.get());return a.offset(u+8),a.writeLong(f),a.get()},checksum:function(e){e=PN(e);for(var t=0;!e.eof();)t+=e.readLong();return 4294967295&t}};EN({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.revision=e.readLong(),this.checkSumAdjustment=e.readLong(),this.magicNumber=e.readLong(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.read(8),this.modified=e.read(8),this.xMin=e.readShort_(),this.yMin=e.readShort_(),this.xMax=e.readShort_(),this.yMax=e.readShort_(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort_(),this.indexToLocFormat=e.readShort_(),this.glyphDataFormat=e.readShort_()},render:function(e){var t=PN();return t.writeLong(this.version),t.writeLong(this.revision),t.writeLong(0),t.writeLong(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.write(this.created),t.write(this.modified),t.writeShort_(this.xMin),t.writeShort_(this.yMin),t.writeShort_(this.xMax),t.writeShort_(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort_(this.fontDirectionHint),t.writeShort_(e),t.writeShort_(this.glyphDataFormat),t.get()}}),EN({parse:function(e){e.offset(this.offset),this.offsets=0===this.file.head.indexToLocFormat?e.times(this.length/2,(function(){return 2*e.readShort()})):e.times(this.length/4,e.readLong)},offsetOf:function(e){return this.offsets[e]},lengthOf:function(e){return this.offsets[e+1]-this.offsets[e]},render:function(e){for(var t=PN(),n=e[e.length-1]>65535,i=0;i<e.length;++i)n?t.writeLong(e[i]):t.writeShort(e[i]/2);return{format:n?1:0,table:t.get()}}}),EN({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort_(),this.minRightSideBearing=e.readShort_(),this.xMaxExtent=e.readShort_(),this.caretSlopeRise=e.readShort_(),this.caretSlopeRun=e.readShort_(),this.caretOffset=e.readShort_(),e.skip(8),this.metricDataFormat=e.readShort_(),this.numOfLongHorMetrics=e.readShort()},render:function(e){var t=PN();return t.writeLong(this.version),t.writeShort_(this.ascent),t.writeShort_(this.descent),t.writeShort_(this.lineGap),t.writeShort(this.advanceWidthMax),t.writeShort_(this.minLeftSideBearing),t.writeShort_(this.minRightSideBearing),t.writeShort_(this.xMaxExtent),t.writeShort_(this.caretSlopeRise),t.writeShort_(this.caretSlopeRun),t.writeShort_(this.caretOffset),t.write([0,0,0,0,0,0,0,0]),t.writeShort_(this.metricDataFormat),t.writeShort(e.length),t.get()}}),EN({parse:function(e){e.offset(this.offset),this.version=e.readLong(),this.numGlyphs=e.readShort(),this.maxPoints=e.readShort(),this.maxContours=e.readShort(),this.maxComponentPoints=e.readShort(),this.maxComponentContours=e.readShort(),this.maxZones=e.readShort(),this.maxTwilightPoints=e.readShort(),this.maxStorage=e.readShort(),this.maxFunctionDefs=e.readShort(),this.maxInstructionDefs=e.readShort(),this.maxStackElements=e.readShort(),this.maxSizeOfInstructions=e.readShort(),this.maxComponentElements=e.readShort(),this.maxComponentDepth=e.readShort()},render:function(e){var t=PN();return t.writeLong(this.version),t.writeShort(e.length),t.writeShort(this.maxPoints),t.writeShort(this.maxContours),t.writeShort(this.maxComponentPoints),t.writeShort(this.maxComponentContours),t.writeShort(this.maxZones),t.writeShort(this.maxTwilightPoints),t.writeShort(this.maxStorage),t.writeShort(this.maxFunctionDefs),t.writeShort(this.maxInstructionDefs),t.writeShort(this.maxStackElements),t.writeShort(this.maxSizeOfInstructions),t.writeShort(this.maxComponentElements),t.writeShort(this.maxComponentDepth),t.get()}}),EN({parse:function(e){e.offset(this.offset);var t=this.file;this.metrics=e.times(t.hhea.numOfLongHorMetrics,(function(){return{advance:e.readShort(),lsb:e.readShort_()}})),this.leftSideBearings=e.times(t.maxp.numGlyphs-t.hhea.numOfLongHorMetrics,e.readShort_)},forGlyph:function(e){var t=this.metrics,n=t.length;return e<n?t[e]:{advance:t[n-1].advance,lsb:this.leftSideBearings[e-n]}},render:function(e){for(var t=PN(),n=0;n<e.length;++n){var i=this.forGlyph(e[n]);t.writeShort(i.advance),t.writeShort_(i.lsb)}return t.get()}}),function(){function e(e){this.raw=e}e.prototype={compound:!1,render:function(){return this.raw.get()}};var t=1,n=8,i=32,l=64,r=128;function a(e){this.raw=e;for(var a=this.glyphIds=[],o=this.idOffsets=[];;){var s=e.readShort();if(o.push(e.offset()),a.push(e.readShort()),!(s&i))break;e.skip(s&t?4:2),s&r?e.skip(8):s&l?e.skip(4):s&n&&e.skip(2)}}a.prototype={compound:!0,render:function(e){for(var t=PN(this.raw.get()),n=0;n<this.glyphIds.length;++n){var i=this.glyphIds[n];t.offset(this.idOffsets[n]),t.writeShort(e[i])}return t.get()}},EN({parse:function(){this.cache={}},glyphFor:function(t){var n=this.cache;if(MN(n,t))return n[t];var i=this.file.loca,l=i.lengthOf(t);if(0===l)return n[t]=null;var r=this.rawData,o=this.offset+i.offsetOf(t),s=PN(r.slice(o,l)),u=s.readShort_(),c=s.readShort_(),h=s.readShort_(),d=s.readShort_(),f=s.readShort_(),p=n[t]=-1==u?new a(s):new e(s);return p.numberOfContours=u,p.xMin=c,p.yMin=h,p.xMax=d,p.yMax=f,p},render:function(e,t,n){for(var i=PN(),l=[],r=0;r<t.length;++r){var a=e[t[r]];l.push(i.offset()),a&&i.write(a.render(n))}return l.push(i.offset()),{table:i.get(),offsets:l}}})}(),function(){function e(e,t){this.text=e,this.length=e.length,this.platformID=t.platformID,this.platformSpecificID=t.platformSpecificID,this.languageID=t.languageID,this.nameID=t.nameID}EN({parse:function(t){t.offset(this.offset),t.readShort();for(var n=t.readShort(),i=this.offset+t.readShort(),l=t.times(n,(function(){return{platformID:t.readShort(),platformSpecificID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:t.readShort()+i}})),r=this.strings={},a=0;a<l.length;++a){var o=l[a];t.offset(o.offset);var s=t.readString(o.length);r[o.nameID]||(r[o.nameID]=[]),r[o.nameID].push(new e(s,o))}this.postscriptEntry=r[6][0],this.postscriptName=this.postscriptEntry.text.replace(/[^\x20-\x7F]/g,"")},render:function(t){var n=this.strings,i=0;for(var l in n)MN(n,l)&&(i+=n[l].length);var r=PN(),a=PN();for(l in r.writeShort(0),r.writeShort(i),r.writeShort(6+12*i),n)if(MN(n,l))for(var o=6==l?[new e(t,this.postscriptEntry)]:n[l],s=0;s<o.length;++s){var u=o[s];r.writeShort(u.platformID),r.writeShort(u.platformSpecificID),r.writeShort(u.languageID),r.writeShort(u.nameID),r.writeShort(u.length),r.writeShort(a.offset()),a.writeString(u.text)}return r.write(a.get()),r.get()}})}(),DN=".notdef .null nonmarkingreturn space exclam quotedbl numbersign dollar percent ampersand quotesingle parenleft parenright asterisk plus comma hyphen period slash zero one two three four five six seven eight nine colon semicolon less equal greater question at A B C D E F G H I J K L M N O P Q R S T U V W X Y Z bracketleft backslash bracketright asciicircum underscore grave a b c d e f g h i j k l m n o p q r s t u v w x y z braceleft bar braceright asciitilde Adieresis Aring Ccedilla Eacute Ntilde Odieresis Udieresis aacute agrave acircumflex adieresis atilde aring ccedilla eacute egrave ecircumflex edieresis iacute igrave icircumflex idieresis ntilde oacute ograve ocircumflex odieresis otilde uacute ugrave ucircumflex udieresis dagger degree cent sterling section bullet paragraph germandbls registered copyright trademark acute dieresis notequal AE Oslash infinity plusminus lessequal greaterequal yen mu partialdiff summation product pi integral ordfeminine ordmasculine Omega ae oslash questiondown exclamdown logicalnot radical florin approxequal Delta guillemotleft guillemotright ellipsis nonbreakingspace Agrave Atilde Otilde OE oe endash emdash quotedblleft quotedblright quoteleft quoteright divide lozenge ydieresis Ydieresis fraction currency guilsinglleft guilsinglright fi fl daggerdbl periodcentered quotesinglbase quotedblbase perthousand Acircumflex Ecircumflex Aacute Edieresis Egrave Iacute Icircumflex Idieresis Igrave Oacute Ocircumflex apple Ograve Uacute Ucircumflex Ugrave dotlessi circumflex tilde macron breve dotaccent ring cedilla hungarumlaut ogonek caron Lslash lslash Scaron scaron Zcaron zcaron brokenbar Eth eth Yacute yacute Thorn thorn minus multiply onesuperior twosuperior threesuperior onehalf onequarter threequarters franc Gbreve gbreve Idotaccent Scedilla scedilla Cacute cacute Ccaron ccaron dcroat".split(/\s+/g),EN({parse:function(e){var t;switch(e.offset(this.offset),this.format=e.readLong(),this.italicAngle=e.readFixed_(),this.underlinePosition=e.readShort_(),this.underlineThickness=e.readShort_(),this.isFixedPitch=e.readLong(),this.minMemType42=e.readLong(),this.maxMemType42=e.readLong(),this.minMemType1=e.readLong(),this.maxMemType1=e.readLong(),this.format){case 65536:case 196608:break;case 131072:t=e.readShort(),this.glyphNameIndex=e.times(t,e.readShort),this.names=[];for(var n=this.offset+this.length;e.offset()<n;)this.names.push(e.readString(e.readByte()));break;case 151552:t=e.readShort(),this.offsets=e.read(t);break;case 262144:this.map=e.times(this.file.maxp.numGlyphs,e.readShort)}},glyphFor:function(e){switch(this.format){case 65536:return DN[e]||".notdef";case 131072:var t=this.glyphNameIndex[e];return t<DN.length?DN[t]:this.names[t-DN.length]||".notdef";case 151552:case 196608:return".notdef";case 262144:return this.map[e]||65535}},render:function(e){if(196608==this.format)return this.raw();var t=PN(this.rawData.slice(this.offset,32));t.writeLong(131072),t.offset(32);for(var n=[],i=[],l=0;l<e.length;++l){var r=this.glyphFor(e[l]),a=DN.indexOf(r);a>=0?n.push(a):(n.push(DN.length+i.length),i.push(r))}for(t.writeShort(e.length),l=0;l<n.length;++l)t.writeShort(n[l]);for(l=0;l<i.length;++l)t.writeByte(i[l].length),t.writeString(i[l]);return t.get()}});var DN,ON=function(){function e(e,t,n){var i=this;i.platformID=e.readShort(),i.platformSpecificID=e.readShort(),i.offset=t+e.readLong(),e.saveExcursion((function(){var t;switch(e.offset(i.offset),i.format=e.readShort(),i.format){case 0:i.length=e.readShort(),i.language=e.readShort();for(var l=0;l<256;++l)n[l]=e.readByte();break;case 4:i.length=e.readShort(),i.language=e.readShort();var r=e.readShort()/2;e.skip(6);var a=e.times(r,e.readShort);e.skip(2);var o=e.times(r,e.readShort),s=e.times(r,e.readShort_),u=e.times(r,e.readShort),c=(i.length+i.offset-e.offset())/2,h=e.times(c,e.readShort);for(l=0;l<r;++l){var d=o[l],f=a[l];for(t=d;t<=f;++t){var p;0===u[l]?p=t+s[l]:0!==(p=h[u[l]/2-(r-l)+(t-d)]||0)&&(p+=s[l]),n[t]=65535&p}}break;case 6:i.length=e.readShort(),i.language=e.readShort(),t=e.readShort();for(var v=e.readShort();v-- >0;)n[t++]=e.readShort();break;case 12:e.readShort(),i.length=e.readLong(),i.language=e.readLong();for(var g=e.readLong();g-- >0;){t=e.readLong();for(var m=e.readLong(),y=e.readLong();t<=m;)n[t++]=y++}break;default:window.console&&window.console.error("Unhandled CMAP format: "+i.format)}}))}return EN({parse:function(t){var n=this,i=n.offset;t.offset(i),n.codeMap={},n.version=t.readShort();var l=t.readShort();n.tables=t.times(l,(function(){return new e(t,i,n.codeMap)}))},render:function(e,t){var n=PN();return n.writeShort(0),n.writeShort(1),n.write(function(e,t){var n=AN(e),i=[],l=[],r=null,a=null;function o(n){return t[e[n]]}for(var s=0;s<n.length;++s){var u=n[s],c=o(u)-u;null!=r&&c===a||(r&&l.push(r),i.push(u),a=c),r=u}r&&l.push(r),l.push(65535),i.push(65535);var h=i.length,d=2*h,f=2*Math.pow(2,Math.floor(Math.log(h)/Math.LN2)),p=Math.log(f/2)/Math.LN2,v=d-f,g=[],m=[],y=[];for(s=0;s<h;++s){var b=i[s],k=l[s];if(65535==b){g.push(0),m.push(0);break}var _=o(b);if(b-_>=32768){g.push(0),m.push(2*(y.length+h-s));for(var w=b;w<=k;++w)y.push(o(w))}else g.push(_-b),m.push(0)}var x=PN();return x.writeShort(3),x.writeShort(1),x.writeLong(12),x.writeShort(4),x.writeShort(16+8*h+2*y.length),x.writeShort(0),x.writeShort(d),x.writeShort(f),x.writeShort(p),x.writeShort(v),l.forEach(x.writeShort),x.writeShort(0),i.forEach(x.writeShort),g.forEach(x.writeShort_),m.forEach(x.writeShort),y.forEach(x.writeShort),x.get()}(e,t)),n.get()}})}(),FN=(EN({parse:function(e){e.offset(this.offset),this.version=e.readShort(),this.averageCharWidth=e.readShort_(),this.weightClass=e.readShort(),this.widthClass=e.readShort(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort_(),this.ySubscriptYSize=e.readShort_(),this.ySubscriptXOffset=e.readShort_(),this.ySubscriptYOffset=e.readShort_(),this.ySuperscriptXSize=e.readShort_(),this.ySuperscriptYSize=e.readShort_(),this.ySuperscriptXOffset=e.readShort_(),this.ySuperscriptYOffset=e.readShort_(),this.yStrikeoutSize=e.readShort_(),this.yStrikeoutPosition=e.readShort_(),this.familyClass=e.readShort_(),this.panose=e.times(10,e.readByte),this.charRange=e.times(4,e.readLong),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort_(),this.descent=e.readShort_(),this.lineGap=e.readShort_(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=e.times(2,e.readLong),this.version>1&&(this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()))},render:function(){return this.raw()}}),1e5);function RN(e){this.font=e,this.subset={},this.unicodes={},this.ogid2ngid={0:0},this.ngid2ogid={0:0},this.ncid2ogid={},this.next=this.firstChar=1,this.nextGid=1,this.psName=function(){for(var e="",t=String(FN),n=0;n<t.length;++n)e+=String.fromCharCode(t.charCodeAt(n)-48+65);return++FN,e}()+"+"+this.font.psName}RN.prototype={use:function(e){var t=this;if("string"==typeof e)return function(e){for(var t,n,i=[],l=0,r=e.length;l<r;)(t=e.charCodeAt(l++))>=55296&&t<=56319&&l<r?56320==(64512&(n=e.charCodeAt(l++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),l--):i.push(t);return i}(e).reduce((function(e,n){return e+String.fromCharCode(t.use(n))}),"");var n=t.unicodes[e];if(!n){n=t.next++,t.subset[n]=e,t.unicodes[e]=n;var i=t.font.cmap.codeMap[e];if(i&&(t.ncid2ogid[n]=i,null==t.ogid2ngid[i])){var l=t.nextGid++;t.ogid2ngid[i]=l,t.ngid2ogid[l]=i}}return n},encodeText:function(e){return this.use(e)},glyphIds:function(){return AN(this.ogid2ngid)},glyphsFor:function(e,t){t||(t={});for(var n=0;n<e.length;++n){var i=e[n];if(!t[i]){var l=t[i]=this.font.glyf.glyphFor(i);l&&l.compound&&this.glyphsFor(l.glyphIds,t)}}return t},render:function(){var e=this.glyphsFor(this.glyphIds());for(var t in e)if(MN(e,t)&&(t=parseInt(t,10),null==this.ogid2ngid[t])){var n=this.nextGid++;this.ogid2ngid[t]=n,this.ngid2ogid[n]=t}var i=AN(this.ngid2ogid).map((function(e){return this.ngid2ogid[e]}),this),l=this.font,r=l.glyf.render(e,i,this.ogid2ngid),a=l.loca.render(r.offsets);this.lastChar=this.next-1;var o={cmap:ON.render(this.ncid2ogid,this.ogid2ngid),glyf:r.table,loca:a.table,hmtx:l.hmtx.render(i),hhea:l.hhea.render(i),maxp:l.maxp.render(i),post:l.post.render(i),name:l.name.render(this.psName),head:l.head.render(a.format),"OS/2":l.os2.render()};return this.font.directory.render(o)},cidToGidMap:function(){for(var e=PN(),t=0,n=this.firstChar;n<this.next;++n){for(;t<n;)e.writeShort(0),t++;var i=this.ncid2ogid[n];e.writeShort(i?this.ogid2ngid[i]:0),t++}return e.get()}};var NN=n("wSl+").deflate,LN=(jD.browser,"\n"),BN=0,VN={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],executive:[521.86,756],folio:[612,936],legal:[612,1008],letter:[612,792],tabloid:[792,1224]};function zN(e,t,n){for(;e.length<t;)e=n+e;return e}function jN(e,t){return zN(String(e),t,"0")}function HN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WN=Array.isArray||function(e){return e instanceof Array};function UN(e,t){t("["),e.length>0&&t.withIndent((function(){for(var n=0;n<e.length;++n)n>0&&n%8==0?t.indent(e[n]):t(" ",e[n])})),t(" ]")}function YN(e,t){t("(D:",jN(e.getUTCFullYear(),4),jN(e.getUTCMonth()+1,2),jN(e.getUTCDate(),2),jN(e.getUTCHours(),2),jN(e.getUTCMinutes(),2),jN(e.getUTCSeconds(),2),"Z)")}function qN(e){return e*(72/25.4)}function GN(e){return qN(10*e)}function XN(e){return 72*e}function KN(e,t){if("number"==typeof e)return e;var n;if("string"==typeof e&&(n=/^\s*([0-9.]+)\s*(mm|cm|in|pt)\s*$/.exec(e))){var i=parseFloat(n[1]);if(!isNaN(i))return"pt"==n[2]?i:{mm:qN,cm:GN,in:XN}[n[2]](i)}if(null!=t)return t;throw new Error("Can't parse unit: "+e)}function $N(){}function ZN(e,t,n){for(var i in n||(n=$N),e.prototype=new n,t)HN(t,i)&&(e.prototype[i]=t[i]);return e}$N.prototype.beforeRender=function(){};var QN=ZN((function(e){this.value=e}),{render:function(e){for(var t="",n=this.value,i=0;i<n.length;++i)t+=String.fromCharCode(255&n.charCodeAt(i));e("(",t.replace(/([\(\)\\])/g,"\\$1"),")")},toString:function(){return this.value}}),JN=ZN((function(e){this.value=e}),{render:function(e){e("<");for(var t=0;t<this.value.length;++t)e(jN(this.value.charCodeAt(t).toString(16),4));e(">")}},QN),eL=ZN((function(e){this.name=e}),{render:function(e){e("/"+this.escape())},escape:function(){return this.name.replace(/[^\x21-\x7E]/g,(function(e){return"#"+jN(e.charCodeAt(0).toString(16),2)}))},toString:function(){return this.name}}),tL={};function nL(e){return HN(tL,e)?tL[e]:tL[e]=new eL(e)}eL.get=nL;var iL=ZN((function(e){this.props=e}),{render:function(e){var t=this.props,n=!0;e("<<"),e.withIndent((function(){for(var i in t)HN(t,i)&&!/^_/.test(i)&&(n=!1,e.indent(nL(i)," ",t[i]))})),n||e.indent(),e(">>")}}),lL=ZN((function(e,t,n){if("string"==typeof e){var i=PN();i.write(e),e=i}this.data=e,this.props=t||{},this.compress=n}),{render:function(e){var t=this.data.get(),n=this.props;this.compress&&(n.Filter?n.Filter instanceof Array||(n.Filter=[n.Filter]):n.Filter=[],n.Filter.unshift(nL("FlateDecode")),t=NN(t)),n.Length=t.length,e(new iL(n)," stream",LN),e.writeData(t),e(LN,"endstream")}});ZN((function(){this.props={Type:nL("Catalog")}}),{setPages:function(e){this.props.Pages=e}},iL),ZN((function(){this.props={Type:nL("Pages"),Kids:[],Count:0}}),{addPage:function(e){this.props.Kids.push(e),this.props.Count++}},iL),ZN((function(e){this.props={Type:nL("Font"),Subtype:nL("Type1"),BaseFont:nL(e)},this._resourceName=nL("F"+ ++BN)}),{encodeText:function(e){return new QN(String(e))}},iL);var rL=ZN((function(e,t,n){(n=this.props=n||{}).Type=nL("Font"),n.Subtype=nL("Type0"),n.Encoding=nL("Identity-H"),this._pdf=e,this._font=t,this._sub=t.makeSubset(),this._resourceName=nL("F"+ ++BN);var i=t.head;this.name=t.psName;var l=this.scale=t.scale;this.bbox=[i.xMin*l,i.yMin*l,i.xMax*l,i.yMax*l],this.italicAngle=t.post.italicAngle,this.ascent=t.ascent*l,this.descent=t.descent*l,this.lineGap=t.lineGap*l,this.capHeight=t.os2.capHeight||this.ascent,this.xHeight=t.os2.xHeight||0,this.stemV=0,this.familyClass=(t.os2.familyClass||0)>>8,this.isSerif=this.familyClass>=1&&this.familyClass<=7,this.isScript=10==this.familyClass,this.flags=(t.post.isFixedPitch?1:0)|(this.isSerif?2:0)|(this.isScript?8:0)|(0!==this.italicAngle?64:0)|32}),{encodeText:function(e){return new JN(this._sub.encodeText(String(e)))},getTextWidth:function(e,t){for(var n=0,i=this._font.cmap.codeMap,l=0;l<t.length;++l){var r=i[t.charCodeAt(l)];n+=this._font.widthOfGlyph(r||0)}return n*e/1e3},beforeRender:function(){var e=this,t=e._sub,n=t.render(),i=new lL(PN(n),{Length1:n.length},!0),l=e._pdf.attach(new iL({Type:nL("FontDescriptor"),FontName:nL(e._sub.psName),FontBBox:e.bbox,Flags:e.flags,StemV:e.stemV,ItalicAngle:e.italicAngle,Ascent:e.ascent,Descent:e.descent,CapHeight:e.capHeight,XHeight:e.xHeight,FontFile2:e._pdf.attach(i)})),r=t.ncid2ogid,a=t.firstChar,o=t.lastChar,s=[];!function t(n,i){if(n<=o){var l=r[n];null==l?t(n+1):(i||s.push(n,i=[]),i.push(e._font.widthOfGlyph(l)),t(n+1,i))}}(a);var u=new iL({Type:nL("Font"),Subtype:nL("CIDFontType2"),BaseFont:nL(e._sub.psName),CIDSystemInfo:new iL({Registry:new QN("Adobe"),Ordering:new QN("Identity"),Supplement:0}),FontDescriptor:l,FirstChar:a,LastChar:o,DW:Math.round(e._font.widthOfGlyph(0)),W:s,CIDToGIDMap:e._pdf.attach(e._makeCidToGidMap())}),c=e.props;c.BaseFont=nL(e._sub.psName),c.DescendantFonts=[e._pdf.attach(u)];var h=new aL(a,o,t.subset),d=new lL(function(){var e=0,t=PN();function n(){for(var e=0;e<arguments.length;++e){var i=arguments[e];if(void 0===i)throw new Error("Cannot output undefined to PDF");if(i instanceof $N)i.beforeRender(n),i.render(n);else if(WN(i))UN(i,n);else if(i instanceof Date)YN(i,n);else if("number"==typeof i){if(isNaN(i))throw new Error("Cannot output NaN to PDF");var l=i.toFixed(7);l.indexOf(".")>=0&&(l=l.replace(/\.?0+$/,"")),"-0"==l&&(l="0"),t.writeString(l)}else/string|boolean/.test(typeof i)?t.writeString(String(i)):"function"==typeof i.get?t.write(i.get()):"object"==typeof i&&(i?n(new iL(i)):t.writeString("null"))}}return n.writeData=function(e){t.write(e)},n.withIndent=function(t){++e,t(n),--e},n.indent=function(){n(LN,zN("",2*e,"  ")),n.apply(null,arguments)},n.offset=function(){return t.offset()},n.toString=function(){throw new Error("FIX CALLER")},n.get=function(){return t.get()},n.stream=function(){return t},n}(),null,!0);d.data(h),c.ToUnicode=e._pdf.attach(d)},_makeCidToGidMap:function(){return new lL(PN(this._sub.cidToGidMap()),null,!0)}},iL),aL=ZN((function(e,t,n){this.firstChar=e,this.lastChar=t,this.map=n}),{render:function(e){e.indent("/CIDInit /ProcSet findresource begin"),e.indent("12 dict begin"),e.indent("begincmap"),e.indent("/CIDSystemInfo <<"),e.indent("  /Registry (Adobe)"),e.indent("  /Ordering (UCS)"),e.indent("  /Supplement 0"),e.indent(">> def"),e.indent("/CMapName /Adobe-Identity-UCS def"),e.indent("/CMapType 2 def"),e.indent("1 begincodespacerange"),e.indent("  <0000><ffff>"),e.indent("endcodespacerange");var t=this;e.indent(t.lastChar-t.firstChar+1," beginbfchar"),e.withIndent((function(){for(var n=t.firstChar;n<=t.lastChar;++n){var i=[t.map[n]].map((function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)})).join("");e.indent("<",jN(n.toString(16),4),">","<");for(var l=0;l<i.length;++l)e(jN(i.charCodeAt(l).toString(16),4));e(">")}})),e.indent("endbfchar"),e.indent("endcmap"),e.indent("CMapName currentdict /CMap defineresource pop"),e.indent("end"),e.indent("end")}});function oL(e){return e.map((function(e){return WN(e)?oL(e):"number"==typeof e?(Math.round(1e3*e)/1e3).toFixed(3):e})).join(" ")}function sL(e,t,n,i,l,r,a){var o=oL([t,n,i,l,r,a]),s=e.GRAD_COL_FUNCTIONS[o];return s||(s=e.GRAD_COL_FUNCTIONS[o]=e.attach(new iL({FunctionType:2,Domain:[0,1],Range:[0,1,0,1,0,1],N:1,C0:[t,n,i],C1:[l,r,a]}))),s}function uL(e,t,n){var i=oL([t,n]),l=e.GRAD_OPC_FUNCTIONS[i];return l||(l=e.GRAD_OPC_FUNCTIONS[i]=e.attach(new iL({FunctionType:2,Domain:[0,1],Range:[0,1],N:1,C0:[t],C1:[n]}))),l}ZN((function(e,t){this._pdf=e,this._rcount=0,this._textMode=!1,this._fontResources={},this._gsResources={},this._xResources={},this._patResources={},this._shResources={},this._opacity=1,this._matrix=[1,0,0,1,0,0],this._annotations=[],this._font=null,this._fontSize=null,this._contextStack=[],(t=this.props=t||{}).Type=nL("Page"),t.ProcSet=[nL("PDF"),nL("Text"),nL("ImageB"),nL("ImageC"),nL("ImageI")],t.Resources=new iL({Font:new iL(this._fontResources),ExtGState:new iL(this._gsResources),XObject:new iL(this._xResources),Pattern:new iL(this._patResources),Shading:new iL(this._shResources)}),t.Annots=this._annotations}),{_out:function(){this._content.data.apply(null,arguments)},transform:function(e,t,n,i,l,r){fL(arguments)||(this._matrix=dL(arguments,this._matrix),this._out(e," ",t," ",n," ",i," ",l," ",r," cm"),this._out(LN))},translate:function(e,t){this.transform(1,0,0,1,e,t)},scale:function(e,t){this.transform(e,0,0,t,0,0)},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);this.transform(t,n,-n,t,0,0)},beginText:function(){this._textMode=!0,this._out("BT",LN)},endText:function(){this._textMode=!1,this._out("ET",LN)},_requireTextMode:function(){if(!this._textMode)throw new Error("Text mode required; call page.beginText() first")},_requireFont:function(){if(!this._font)throw new Error("No font selected; call page.setFont() first")},setFont:function(e,t){this._requireTextMode(),null==e?e=this._font:e instanceof rL||(e=this._pdf.getFont(e)),null==t&&(t=this._fontSize),this._fontResources[e._resourceName]=e,this._font=e,this._fontSize=t,this._out(e._resourceName," ",t," Tf",LN)},setTextLeading:function(e){this._requireTextMode(),this._out(e," TL",LN)},setTextRenderingMode:function(e){this._requireTextMode(),this._out(e," Tr",LN)},showText:function(e,t){if(this._requireFont(),e.length>1&&t&&this._font instanceof rL){var n=this._font.getTextWidth(this._fontSize,e);this._out(t/n*100," Tz ")}this._out(this._font.encodeText(e)," Tj",LN)},showTextNL:function(e){this._requireFont(),this._out(this._font.encodeText(e)," '",LN)},addLink:function(e,t){var n=this._toPage({x:t.left,y:t.bottom}),i=this._toPage({x:t.right,y:t.top});this._annotations.push(new iL({Type:nL("Annot"),Subtype:nL("Link"),Rect:[n.x,n.y,i.x,i.y],Border:[0,0,0],A:new iL({Type:nL("Action"),S:nL("URI"),URI:new QN(e)})}))},setStrokeColor:function(e,t,n){this._out(e," ",t," ",n," RG",LN)},setOpacity:function(e){this.setFillOpacity(e),this.setStrokeOpacity(e),this._opacity*=e},setStrokeOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!0);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",LN)}},setFillColor:function(e,t,n){this._out(e," ",t," ",n," rg",LN)},setFillOpacity:function(e){if(e<1){var t=this._pdf.getOpacityGS(this._opacity*e,!1);this._gsResources[t._resourceName]=t,this._out(t._resourceName," gs",LN)}},gradient:function(e,t){this.save(),this.rect(t.left,t.top,t.width,t.height),this.clip(),e.userSpace||this.transform(t.width,0,0,t.height,t.left,t.top);var n,i=function(e,t,n){var i="radial"==t.type,l=function(e,t){var n,i,l,r,a=!1,o=[],s=[],u=[],c=[];for(n=1;n<t.length;++n)s.push(sL(e,(l=t[n-1].color).r,l.g,l.b,(r=(i=t[n]).color).r,r.g,r.b)),(l.a<1||r.a<1)&&(a=!0),u.push(i.offset),c.push(0,1);if(a)for(n=1;n<t.length;++n)o.push(uL(e,(l=t[n-1].color).a,(r=(i=t[n]).color).a));return u.pop(),{hasAlpha:a,colors:h(s),opacities:a?h(o):null};function h(e){return 1==e.length?e[0]:{FunctionType:3,Functions:e,Domain:[0,1],Bounds:u,Encode:c}}}(e,t.stops),r=i?[t.start.x,t.start.y,t.start.r,t.end.x,t.end.y,t.end.r]:[t.start.x,t.start.y,t.end.x,t.end.y],a=function(e,t,n,i,l,r){var a,o;if(!r){var s=[t].concat(i);n.forEach((function(e){s.push(e.offset,e.color.r,e.color.g,e.color.b)})),o=oL(s),a=e.GRAD_COL[o]}return a||(a=new iL({Type:nL("Shading"),ShadingType:t?3:2,ColorSpace:nL("DeviceRGB"),Coords:i,Domain:[0,1],Function:l,Extend:[!0,!0]}),e.attach(a),a._resourceName="S"+ ++BN,o&&(e.GRAD_COL[o]=a)),a}(e,i,t.stops,r,l.colors,t.userSpace&&n),o=l.hasAlpha?function(e,t,n,i,l,r){var a,o;if(!r){var s=[t].concat(i);n.forEach((function(e){s.push(e.offset,e.color.a)})),o=oL(s),a=e.GRAD_OPC[o]}return a||(a=new iL({Type:nL("ExtGState"),AIS:!1,CA:1,ca:1,SMask:{Type:nL("Mask"),S:nL("Luminosity"),G:e.attach(new lL("/a0 gs /s0 sh",{Type:nL("XObject"),Subtype:nL("Form"),FormType:1,BBox:r?[r.left,r.top+r.height,r.left+r.width,r.top]:[0,1,1,0],Group:{Type:nL("Group"),S:nL("Transparency"),CS:nL("DeviceGray"),I:!0},Resources:{ExtGState:{a0:{CA:1,ca:1}},Shading:{s0:{ColorSpace:nL("DeviceGray"),Coords:i,Domain:[0,1],ShadingType:t?3:2,Function:l,Extend:[!0,!0]}}}}))}}),e.attach(a),a._resourceName="O"+ ++BN,o&&(e.GRAD_OPC[o]=a)),a}(e,i,t.stops,r,l.opacities,t.userSpace&&n):null;return{hasAlpha:l.hasAlpha,shading:a,opacity:o}}(this._pdf,e,t),l=i.shading._resourceName;this._shResources[l]=i.shading,i.hasAlpha&&(this._gsResources[n=i.opacity._resourceName]=i.opacity,this._out("/"+n+" gs ")),this._out("/"+l+" sh",LN),this.restore()},setDashPattern:function(e,t){this._out(e," ",t," d",LN)},setLineWidth:function(e){this._out(e," w",LN)},setLineCap:function(e){this._out(e," J",LN)},setLineJoin:function(e){this._out(e," j",LN)},setMitterLimit:function(e){this._out(e," M",LN)},save:function(){this._contextStack.push(this._context()),this._out("q",LN)},restore:function(){this._out("Q",LN),this._context(this._contextStack.pop())},moveTo:function(e,t){this._out(e," ",t," m",LN)},lineTo:function(e,t){this._out(e," ",t," l",LN)},bezier:function(e,t,n,i,l,r){this._out(e," ",t," ",n," ",i," ",l," ",r," c",LN)},bezier1:function(e,t,n,i){this._out(e," ",t," ",n," ",i," y",LN)},bezier2:function(e,t,n,i){this._out(e," ",t," ",n," ",i," v",LN)},close:function(){this._out("h",LN)},rect:function(e,t,n,i){this._out(e," ",t," ",n," ",i," re",LN)},ellipse:function(e,t,n,i){function l(t){return e+t}function r(e){return t+e}var a=.5522847498307936;this.moveTo(l(0),r(i)),this.bezier(l(n*a),r(i),l(n),r(i*a),l(n),r(0)),this.bezier(l(n),r(-i*a),l(n*a),r(-i),l(0),r(-i)),this.bezier(l(-n*a),r(-i),l(-n),r(-i*a),l(-n),r(0)),this.bezier(l(-n),r(i*a),l(-n*a),r(i),l(0),r(i))},circle:function(e,t,n){this.ellipse(e,t,n,n)},stroke:function(){this._out("S",LN)},nop:function(){this._out("n",LN)},clip:function(){this._out("W n",LN)},clipStroke:function(){this._out("W S",LN)},closeStroke:function(){this._out("s",LN)},fill:function(){this._out("f",LN)},fillStroke:function(){this._out("B",LN)},drawImage:function(e){var t=this._pdf.getImage(e);t&&(this._xResources[t._resourceName]=t,this._out(t._resourceName," Do",LN))},comment:function(e){var t=this;e.split(/\r?\n/g).forEach((function(e){t._out("% ",e,LN)}))},_context:function(e){if(null==e)return{opacity:this._opacity,matrix:this._matrix};this._opacity=e.opacity,this._matrix=e.matrix},_toPage:function(e){var t=this._matrix;return{x:t[0]*e.x+t[2]*e.y+t[4],y:t[1]*e.x+t[3]*e.y+t[5]}}},iL);var cL={serif:"Times-Roman","serif|bold":"Times-Bold","serif|italic":"Times-Italic","serif|bold|italic":"Times-BoldItalic","sans-serif":"Helvetica","sans-serif|bold":"Helvetica-Bold","sans-serif|italic":"Helvetica-Oblique","sans-serif|bold|italic":"Helvetica-BoldOblique",monospace:"Courier","monospace|bold":"Courier-Bold","monospace|italic":"Courier-Oblique","monospace|bold|italic":"Courier-BoldOblique",zapfdingbats:"ZapfDingbats","zapfdingbats|bold":"ZapfDingbats","zapfdingbats|italic":"ZapfDingbats","zapfdingbats|bold|italic":"ZapfDingbats"};function hL(e,t){e=e.toLowerCase(),cL[e]=function(){return cL[t]},cL[e+"|bold"]=function(){return cL[t+"|bold"]},cL[e+"|italic"]=function(){return cL[t+"|italic"]},cL[e+"|bold|italic"]=function(){return cL[t+"|bold|italic"]}}function dL(e,t){var n=e[0],i=e[1],l=e[2],r=e[3],a=e[4],o=e[5],s=t[0],u=t[1],c=t[2],h=t[3];return[n*s+i*c,n*u+i*h,l*s+r*c,l*u+r*h,a*s+o*c+t[4],a*u+o*h+t[5]]}function fL(e){return 1===e[0]&&0===e[1]&&0===e[2]&&1===e[3]&&0===e[4]&&0===e[5]}hL("Times New Roman","serif"),hL("Courier New","monospace"),hL("Arial","sans-serif"),hL("Helvetica","sans-serif"),hL("Verdana","sans-serif"),hL("Tahoma","sans-serif"),hL("Georgia","sans-serif"),hL("Monaco","monospace"),hL("Andale Mono","monospace");var pL=jD.browser||{};function vL(e){return Array.prototype.slice.call(e)}var gL="KENDO-PSEUDO-ELEMENT",mL={},yL=function(){var e={};return e._root=e,e}(),bL=!("undefined"==typeof window)&&(pL.msie||pL.edge),kL=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n.getOrigin(),i)))._pdfRect=n,l}return _inherits(t,e),_createClass2(t,[{key:"rect",value:function(){return this._pdfRect}},{key:"rawBBox",value:function(){return this._pdfRect}}]),t}(aR);function _L(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var wL,xL="undefined"!=typeof Element&&Element.prototype&&((wL=Element.prototype).matches?function(e,t){return e.matches(t)}:wL.webkitMatchesSelector?function(e,t){return e.webkitMatchesSelector(t)}:wL.mozMatchesSelector?function(e,t){return e.mozMatchesSelector(t)}:wL.msMatchesSelector?function(e,t){return e.msMatchesSelector(t)}:function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)});function CL(e,t){if(e.closest)return e.closest(t);for(;e&&!/^\[object (?:HTML)?Document\]$/.test(String(e));){if(1==e.nodeType&&xL(e,t))return e;e=e.parentNode}}var SL,TL=(SL="undefined"!=typeof window&&window.kendo&&window.kendo.jQuery)?function e(t){var n=t.cloneNode(!1);if(1==t.nodeType){var i,l=SL(t),r=SL(n),a=l.data();for(i in a)r.data(i,a[i]);for(/^canvas$/i.test(t.tagName)?n.getContext("2d").drawImage(t,0,0):/^(?:input|select|textarea|option)$/i.test(t.tagName)&&(n.removeAttribute("id"),n.removeAttribute("name"),n.value=t.value,n.checked=t.checked,n.selected=t.selected),i=t.firstChild;i;i=i.nextSibling)n.appendChild(e(i))}return n}:function(e){var t=function e(t){var n=t.cloneNode(!1);t._kendoExportVisual&&(n._kendoExportVisual=t._kendoExportVisual);for(var i=t.firstChild;i;i=i.nextSibling)n.appendChild(e(i));return n}(e),n=e.querySelectorAll("canvas");n.length&&vL(t.querySelectorAll("canvas")).forEach((function(e,t){e.getContext("2d").drawImage(n[t],0,0)}));var i=e.querySelectorAll("input, select, textarea, option");return vL(t.querySelectorAll("input, select, textarea, option")).forEach((function(e,t){e.removeAttribute("id"),e.removeAttribute("name"),e.value=i[t].value,e.checked=i[t].checked,e.selected=i[t].selected})),t};function PL(e,t){t||(t={});var n=iO();if(!e)return n.reject("No element to export");if("function"!=typeof window.getComputedStyle)throw new Error("window.getComputedStyle is missing.  You are using an unsupported browser, or running in IE8 compatibility mode.  Drawing HTML is supported in Chrome, Firefox, Safari and IE9+.");!function e(t,n){if(1==arguments.length)for(var i in t)HN(t,i)&&e(i,t[i]);else switch(t=t.toLowerCase(),cL[t]=n,t){case"dejavu sans":cL["sans-serif"]=n;break;case"dejavu sans|bold":cL["sans-serif|bold"]=n;break;case"dejavu sans|italic":cL["sans-serif|italic"]=n;break;case"dejavu sans|bold|italic":cL["sans-serif|bold|italic"]=n;break;case"dejavu serif":cL.serif=n;break;case"dejavu serif|bold":cL["serif|bold"]=n;break;case"dejavu serif|italic":cL["serif|italic"]=n;break;case"dejavu serif|bold|italic":cL["serif|bold|italic"]=n;break;case"dejavu mono":cL.monospace=n;break;case"dejavu mono|bold":cL["monospace|bold"]=n;break;case"dejavu mono|italic":cL["monospace|italic"]=n;break;case"dejavu mono|bold|italic":cL["monospace|bold|italic"]=n}}(OL(e.ownerDocument));var i,l="number"==typeof(i=t.scale||1)?{x:i,y:i}:Array.isArray(i)?{x:i[0],y:i[1]}:{x:i.x,y:i.y};function r(e){var n,i,r=new hR,a=e.getBoundingClientRect();return JL(r,[l.x,0,0,l.y,-a.left*l.x,-a.top*l.y]),yL._clipbox=!1,yL._matrix=VO.unit(),yL._stackingContext={element:e,group:r},yL._avoidLinks=!0===t.avoidLinks?"a":t.avoidLinks,i="k-pdf-export",(n=e).classList?n.classList.add(i):n.className+=" "+i,fB(e,r),function(e,t){e.classList?e.classList.remove(t):e.className=e.className.split(/\s+/).reduce((function(e,n){return n!=t&&e.push(n),e}),[]).join(" ")}(e,"k-pdf-export"),r}return zL(e,(function(){var i=t&&t.forcePageBreak,a=t&&t.paperSize&&"auto"!=t.paperSize,o=function(e){if("function"!=typeof e){var t=e;e=function(e,n){return e in t?t[e]:n}}var n=e("paperSize",VN.a4);if(!n)return{};if("string"==typeof n&&null==(n=VN[n.toLowerCase()]))throw new Error("Unknown paper size");n[0]=KN(n[0]),n[1]=KN(n[1]),e("landscape",!1)&&(n=[Math.max(n[0],n[1]),Math.min(n[0],n[1])]);var i=e("margin");return i&&(i="string"==typeof i||"number"==typeof i?{left:i=KN(i,0),top:i,right:i,bottom:i}:{left:KN(i.left,0),top:KN(i.top,0),right:KN(i.right,0),bottom:KN(i.bottom,0)},e("addMargin")&&(n[0]+=i.left+i.right,n[1]+=i.top+i.bottom)),{paperSize:n,margin:i}}((function(e,n){return"paperSize"==e?a?t[e]:"A4":e in t?t[e]:n})),s=a&&o.paperSize[0],u=a&&o.paperSize[1],c=t.margin&&o.margin,h=Boolean(c);if(i||u){c||(c={left:0,top:0,right:0,bottom:0}),s&&(s/=l.x),u&&(u/=l.y),c.left/=l.x,c.right/=l.x,c.top/=l.y,c.bottom/=l.y;var d=new hR({pdf:{multiPage:!0,paperSize:a?o.paperSize:"auto",_ignoreMargin:h}});!function(e,t,n,i,l,r,a){var o=function(e){if(null!=e)return"string"==typeof e&&(e=function(){throw new Error("String template not yet supported.  Pass a function and use your preferred template engine.")}(e.replace(/^\s+|\s+$/g,""))),"function"==typeof e?function(t){var n=e(t);if(n&&"string"==typeof n){var i=document.createElement("div");i.innerHTML=n,n=i.firstElementChild}return n}:function(){return e.cloneNode(!0)}}(a.template),s=t.ownerDocument,u=[],c=a._destructive?t:TL(t),h=s.createElement("KENDO-PDF-DOCUMENT"),d=0;function f(){("-"!=n||l)&&function e(t){if("TABLE"==t.tagName&&_L(t,{tableLayout:"fixed"}),!p(t)){var i=YL(t),r=parseFloat(qL(i,"padding-bottom")),a=parseFloat(qL(i,"border-bottom-width")),o=d;d+=r+a;for(var s=!0,u=t.firstChild;u;u=u.nextSibling)if(1==u.nodeType){if(s=!1,xL(u,n)){v(u);continue}if(!l){e(u);continue}if(!/^(?:static|relative)$/.test(qL(YL(u),"position")))continue;var c=m(u);1==c?v(u):c&&p(u)?v(u):e(u)}else 3==u.nodeType&&l&&(y(u,s),s=!1);d=o}}(c);var t=g();c.parentNode.insertBefore(t,c),t.appendChild(c),o&&u.forEach((function(e,t){var n=o({element:e,pageNum:t+1,totalPages:u.length});n&&e.appendChild(n)})),zL(u,(function(){!function(e,t){var n=0;function i(){--n<=0&&t()}e.forEach((function(e){for(var t=e.querySelectorAll("img"),l=0;l<t.length;++l){var r=t[l];r.complete||(n++,r.onload=r.onerror=i)}})),n||i()}(u,(function(){e({pages:u,container:h})}))}))}function p(e){return!!(a.keepTogether&&xL(e,a.keepTogether)&&e.offsetHeight<=l-d)||!(/^h[1-6]$/i.test(e.tagName)&&e.offsetHeight>=l-d)&&(e.getAttribute("data-kendo-chart")||/^(?:img|tr|thead|th|tfoot|iframe|svg|object|canvas|input|textarea|select|video|h[1-6])/i.test(e.tagName))}function v(e){if(1==e.nodeType&&e!==c&&function(e){var t=e.parentNode,n=t.firstChild;if(e===n)return!0;if(e===t.children[0]){if(7==n.nodeType||8==n.nodeType)return!0;if(3==n.nodeType)return!/\S/.test(n.data)}return!1}(e))return v(e.parentNode);var t,n,i,l,r;n=(t=CL(e,"table"))&&t.querySelector("colgroup"),a.repeatHeaders&&(i=t&&t.querySelector("thead"),(l=CL(e,".k-grid.k-widget"))&&l.querySelector(".k-auto-scrollable")&&(r=l.querySelector(".k-grid-header")));var o=g(),u=s.createRange();u.setStartBefore(c),u.setEndBefore(e),o.appendChild(u.extractContents()),c.parentNode.insertBefore(o,c),b(e.parentNode),t&&(t=CL(e,"table"),a.repeatHeaders&&i&&t.insertBefore(i.cloneNode(!0),t.firstChild),n&&t.insertBefore(n.cloneNode(!0),t.firstChild)),a.repeatHeaders&&r&&(l=CL(e,".k-grid.k-widget")).insertBefore(r.cloneNode(!0),l.firstChild)}function g(){var e=s.createElement("KENDO-PDF-PAGE");return _L(e,{display:"block",boxSizing:"content-box",width:i?i+"px":"auto",padding:r.top+"px "+r.right+"px "+r.bottom+"px "+r.left+"px",position:"relative",height:l?l+"px":"auto",overflow:l||i?"hidden":"visible",clear:"both"}),a&&a.pageClassName&&(e.className=a.pageClassName),u.push(e),e}function m(e){var t=e.getBoundingClientRect();if(0===t.width||0===t.height)return 0;var n=c.getBoundingClientRect().top,i=l-d;return t.height>i?3:t.top-n>i?1:t.bottom-n>i?2:0}function y(e,t){if(/\S/.test(e.data)){var n=e.data.length,i=s.createRange();i.selectNodeContents(e);var l=m(i);if(l){var r=e;if(1==l)v(t?e.parentNode:e);else if(function t(n,l,r){return i.setEnd(e,l),n==l||l==r?l:m(i)?t(n,n+l>>1,l):t(l,l+r>>1,r)}(0,n>>1,n),!/\S/.test(i.toString())&&t)v(e.parentNode);else{r=e.splitText(i.endOffset);var a=g();i.setStartBefore(c),a.appendChild(i.extractContents()),c.parentNode.insertBefore(a,c),b(r.parentNode)}y(r)}}}function b(e){var t=CL(e,"li");t&&(t.setAttribute("kendo-no-bullet","1"),b(t.parentNode))}vL(c.querySelectorAll("tfoot")).forEach((function(e){e.parentNode.appendChild(e)})),vL(c.querySelectorAll("ol")).forEach((function(e){vL(e.children).forEach((function(e,t){e.setAttribute("kendo-split-index",t)}))})),_L(h,{display:"block",position:"absolute",boxSizing:"content-box",left:"-10000px",top:"-10000px"}),i&&(_L(h,{width:i+"px",paddingLeft:r.left+"px",paddingRight:r.right+"px"}),_L(c,{overflow:"hidden"})),t.parentNode.insertBefore(h,t),h.appendChild(c),a.beforePageBreak?setTimeout((function(){a.beforePageBreak(h,f)}),15):setTimeout(f,15)}((function(e){if(t.progress){var i=!1,l=0;!function a(){if(l<e.pages.length){var o=r(e.pages[l]);d.append(o),t.progress({page:o,pageNum:++l,totalPages:e.pages.length,cancel:function(){i=!0}}),i?e.container.parentNode.removeChild(e.container):setTimeout(a)}else e.container.parentNode.removeChild(e.container),n.resolve(d)}()}else e.pages.forEach((function(e){d.append(r(e))})),e.container.parentNode.removeChild(e.container),n.resolve(d)}),e,i,s?s-c.left-c.right:null,u?u-c.top-c.bottom:null,c,t)}else n.resolve(r(e))})),n}PL.getFontFaces=OL,PL.drawText=function(e){var t=new hR;return yL._clipbox=!1,yL._matrix=VO.unit(),yL._stackingContext={element:e,group:t},HL(e,YL(e),t),3==e.firstChild.nodeType?dB(e,e.firstChild,t):uB(e,t),WL(),t};var ML,AL=function(){var e=/^((-webkit-|-moz-|-o-|-ms-)?linear-gradient\s*)\(/,t=/^([-0-9.]+%)/,n=/^([-0-9.]+px)/,i=/^(left|right|top|bottom|to|center)\W/,l=/^([-0-9.]+(deg|grad|rad|turn)|0)/,r=/^(\s+)/,a=/^(\()/,o=/^(\))/,s=/^(,)/,u=/^(url)\(/,c=/^(.*?)\)/,h={},d={};function f(d){var f,p=d;if(FL(h,p))return h[p];function v(e){!function(){var e=r.exec(d);e&&(d=d.substr(e[1].length))}();var t=e.exec(d);if(t)return d=d.substr(t[1].length),t[1]}function g(){var e,i,l=JD(d,!0);if(l){var r=/^#[0-9a-f]+/i.exec(d)||/^rgba?\(.*?\)/i.exec(d)||/^..*?\b/.exec(d);return d=d.substr(r[0].length),l=l.toRGB(),(e=v(n))||(i=v(t)),{color:l,length:e,percent:i}}}return(f=v(e))?f=function(e){var n,r,u,c=[],h=!1;if(v(a)){if("0"==(n=v(l))&&(n="0deg"),n?(n=function(e){var t=parseFloat(e);return/grad$/.test(e)?Math.PI*t/200:/rad$/.test(e)?t:/turn$/.test(e)?Math.PI*t*2:/deg$/.test(e)?Math.PI*t/180:void 0}(n),v(s)):("to"==(r=v(i))?r=v(i):r&&/^-/.test(e)&&(h=!0),u=v(i),v(s)),/-moz-/.test(e)&&null==n&&null==r){var f=v(t),p=v(t);h=!0,"0%"==f?r="left":"100%"==f&&(r="right"),"0%"==p?u="top":"100%"==p&&(u="bottom"),v(s)}for(;d&&!v(o);){var m=g();if(!m)break;c.push(m),v(s)}return{type:"linear",angle:n,to:r&&u?r+" "+u:r||u||null,stops:c,reverse:h}}}(f):(f=v(u))&&(f=function(){if(v(a)){var e=v(c);return e=e.replace(/^['"]+|["']+$/g,""),v(o),{type:"url",url:e}}}()),h[p]=f||{type:"none"}}return function(e){return FL(d,e)?d[e]:d[e]=IL(e).map(f)}}(),IL=(ML={},function(e,t){t||(t=/^\s*,\s*/);var n=e+t;if(FL(ML,n))return ML[n];var i,l=[],r=0,a=0,o=0,s=!1;function u(t){return i=t.exec(e.substr(a))}function c(e){return e.replace(/^\s+|\s+$/g,"")}for(;a<e.length;)!s&&u(/^[\(\[\{]/)?(o++,a++):!s&&u(/^[\)\]\}]/)?(o--,a++):!s&&u(/^[\"\']/)?(s=i[0],a++):"'"==s&&u(/^\\\'/)?a+=2:'"'==s&&u(/^\\\"/)?a+=2:"'"==s&&u(/^\'/)?(s=!1,a++):'"'==s&&u(/^\"/)?(s=!1,a++):u(t)?(!s&&!o&&a>r&&(l.push(c(e.substring(r,a))),r=a+i[0].length),a+=i[0].length):a++;return r<a&&l.push(c(e.substring(r,a))),ML[n]=l}),EL=function(e){return function(t){var n,i=e[t];return i||((n=/url\((['"]?)([^'")]*?)\1\)\s+format\((['"]?)truetype\3\)/.exec(t))?i=e[t]=n[2]:(n=/url\((['"]?)([^'")]*?\.ttf)\1\)/.exec(t))&&(i=e[t]=n[2])),i}}(Object.create(null)),DL=function(e){return function(t){var n=e[t];return null==n&&(n=e[t]=EO("Mapq",{font:t}).height),n}}(Object.create(null));function OL(e){null==e&&(e=document);for(var t={},n=0;n<e.styleSheets.length;++n)i(e.styleSheets[n]);return t;function i(e){if(e){var t=null;try{t=e.cssRules}catch(n){}t&&function(e,t){for(var n=0;n<t.length;++n){var a=t[n];switch(a.type){case 3:i(a.styleSheet);break;case 5:var o=a.style,s=IL(qL(o,"font-family")),u=/^([56789]00|bold)$/i.test(qL(o,"font-weight")),c="italic"==qL(o,"font-style"),h=l(a);h.length>0&&r(e,s,u,c,h[0])}}}(e,t)}}function l(e){var t=qL(e.style,"src");if(t)return IL(t).reduce((function(e,t){var n=EL(t);return n&&e.push(n),e}),[]);var n=EL(e.cssText);return n?[n]:[]}function r(e,n,i,l,r){/^data:/i.test(r)||/^[^\/:]+:\/\//.test(r)||/^\//.test(r)||(r=String(e.href).replace(/[^\/]*$/,"")+r),n.forEach((function(e){e=e.replace(/^(['"]?)(.*?)\1$/,"$2"),i&&(e+="|bold"),l&&(e+="|italic"),t[e]=r}))}}function FL(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function RL(e,t){var n=yL;for(e="_counter_"+e;n&&!FL(n,e);)n=Object.getPrototypeOf(n);n||(n=yL._root),n[e]=(n[e]||0)+(null==t?1:t)}function NL(e,t){yL[e="_counter_"+e]=null==t?0:t}function LL(e,t,n){for(var i=0;i<e.length;){var l=e[i++],r=parseFloat(e[i]);isNaN(r)?t(l,n):(t(l,r),++i)}}function BL(e){var t=qL(e,"counter-reset");t&&LL(IL(t,/^\s+/),NL,0);var n=qL(e,"counter-increment");n&&LL(IL(n,/^\s+/),RL,1)}function VL(e,t){var n=JD(e,!0);return n&&(n=n.toRGB(),t?n=n.toCssRgba():0===n.a&&(n=null)),n}function zL(e,t){var n=[];function i(e){mL[e]||(mL[e]=!0,n.push(e))}function l(e){/^img$/i.test(e.tagName)&&i(e.src),AL(qL(YL(e),"background-image")).forEach((function(e){"url"==e.type&&i(e.url)})),e.children&&vL(e.children).forEach(l)}Array.isArray(e)?e.forEach(l):l(e);var r=n.length;function a(){--r<=0&&t()}0===r&&a(),n.forEach((function(e){var t=mL[e]=new window.Image;/^data:/i.test(e)||(t.crossOrigin="Anonymous"),t.src=e,t.complete?a():(t.onload=a,t.onerror=function(){mL[e]=null,a()})}))}function jL(e){var t="";do{t=String.fromCharCode(97+e%26)+t,e=Math.floor(e/26)}while(e>0);return t}function HL(e,t,n){(yL=Object.create(yL))[e.tagName.toLowerCase()]={element:e,style:t};var i=qL(t,"text-decoration");if(i&&"none"!=i){var l=qL(t,"color");i.split(/\s+/g).forEach((function(e){yL[e]||(yL[e]=l)}))}(function(e){function t(t){return qL(e,t)}if("none"!=t("transform")||"static"!=t("position")||"auto"!=t("z-index")||t("opacity")<1)return!0})(t)&&(yL._stackingContext={element:e,group:n})}function WL(){yL=Object.getPrototypeOf(yL)}function UL(e){if(null!=yL._clipbox){var t=e.bbox(yL._matrix);yL._clipbox=yL._clipbox?qO.intersect(yL._clipbox,t):t}}function YL(e,t){return window.getComputedStyle(e,t||null)}function qL(e,t,n){var i=e.getPropertyValue(t);return null!=i&&""!==i||(pL.webkit?i=e.getPropertyValue("-webkit-"+t):pL.mozilla?i=e.getPropertyValue("-moz-"+t):pL.opera?i=e.getPropertyValue("-o-"+t):bL&&(i=e.getPropertyValue("-ms-"+t))),arguments.length>2&&(null==i||""===i)?n:i}function GL(e,t,n,i){e.setProperty(t,n,i),pL.webkit?e.setProperty("-webkit-"+t,n,i):pL.mozilla?e.setProperty("-moz-"+t,n,i):pL.opera?e.setProperty("-o-"+t,n,i):bL&&(e.setProperty("-ms-"+t,n,i),e[t="ms"+t.replace(/(^|-)([a-z])/g,(function(e,t,n){return t+n.toUpperCase()}))]=n)}function XL(e,t){return t="border-"+t,{width:parseFloat(qL(e,t+"-width")),style:qL(e,t+"-style"),color:VL(qL(e,t+"-color"),!0)}}function KL(e,t){var n=e.style.cssText,i=t();return e.style.cssText=n,i}function $L(e,t){var n=qL(e,"border-"+t+"-radius").split(/\s+/g).map(parseFloat);return 1==n.length&&n.push(n[0]),nB({x:n[0],y:n[1]})}function ZL(e,t,n){var i,l,r,a,o;return"string"==typeof t?(i=YL(n),l=parseFloat(qL(i,t.replace("*","top"))),r=parseFloat(qL(i,t.replace("*","right"))),a=parseFloat(qL(i,t.replace("*","bottom"))),o=parseFloat(qL(i,t.replace("*","left")))):"number"==typeof t&&(l=r=a=o=t),{top:e.top+l,right:e.right-r,bottom:e.bottom-a,left:e.left+o,width:e.right-e.left-r-o,height:e.bottom-e.top-a-l}}function QL(e){return 180*e/Math.PI%360}function JL(e,t){return t=new VO(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(t),t}function eB(e,t){e.clip(t)}function tB(e,t,n,i){for(var l=new mF([t,n],i).curvePoints(),r=1;r<l.length;)e.curveTo(l[r++],l[r++],l[r++])}function nB(e){return(e.x<=0||e.y<=0)&&(e.x=e.y=0),e}function iB(e,t,n,i,l){var r=Math.max(0,t.x),a=Math.max(0,t.y),o=Math.max(0,n.x),s=Math.max(0,n.y),u=Math.max(0,i.x),c=Math.max(0,i.y),h=Math.max(0,l.x),d=Math.max(0,l.y),f=Math.min(e.width/(r+o),e.height/(s+c),e.width/(u+h),e.height/(d+a));return f<1&&(r*=f,a*=f,o*=f,s*=f,u*=f,c*=f,h*=f,d*=f),{tl:{x:r,y:a},tr:{x:o,y:s},br:{x:u,y:c},bl:{x:h,y:d}}}function lB(e,t,n){var i=YL(e),l=$L(i,"top-left"),r=$L(i,"top-right"),a=$L(i,"bottom-left"),o=$L(i,"bottom-right");if("padding"==n||"content"==n){var s=XL(i,"top"),u=XL(i,"right"),c=XL(i,"bottom"),h=XL(i,"left");if(l.x-=h.width,l.y-=s.width,r.x-=u.width,r.y-=s.width,o.x-=u.width,o.y-=c.width,a.x-=h.width,a.y-=c.width,"content"==n){var d=parseFloat(qL(i,"padding-top")),f=parseFloat(qL(i,"padding-right")),p=parseFloat(qL(i,"padding-bottom")),v=parseFloat(qL(i,"padding-left"));l.x-=v,l.y-=d,r.x-=f,r.y-=d,o.x-=f,o.y-=p,a.x-=v,a.y-=p}}return"number"==typeof n&&(l.x-=n,l.y-=n,r.x-=n,r.y-=n,o.x-=n,o.y-=n,a.x-=n,a.y-=n),rB(t,l,r,o,a)}function rB(e,t,n,i,l){var r=iB(e,t,n,i,l),a=r.tl,o=r.tr,s=r.br,u=r.bl,c=new eR({fill:null,stroke:null});return c.moveTo(e.left,e.top+a.y),a.x&&tB(c,e.left+a.x,e.top+a.y,{startAngle:-180,endAngle:-90,radiusX:a.x,radiusY:a.y}),c.lineTo(e.right-o.x,e.top),o.x&&tB(c,e.right-o.x,e.top+o.y,{startAngle:-90,endAngle:0,radiusX:o.x,radiusY:o.y}),c.lineTo(e.right,e.bottom-s.y),s.x&&tB(c,e.right-s.x,e.bottom-s.y,{startAngle:0,endAngle:90,radiusX:s.x,radiusY:s.y}),c.lineTo(e.left+u.x,e.bottom),u.x&&tB(c,e.left+u.x,e.bottom-u.y,{startAngle:90,endAngle:180,radiusX:u.x,radiusY:u.y}),c.close()}function aB(e,t){var n=String(parseFloat(e));switch(t){case"decimal-leading-zero":return n.length<2&&(n="0"+n),n;case"lower-roman":return nO(e).toLowerCase();case"upper-roman":return nO(e).toUpperCase();case"lower-latin":case"lower-alpha":return jL(e-1);case"upper-latin":case"upper-alpha":return jL(e-1).toUpperCase();default:return n}}function oB(e){if(e.cssText)return e.cssText;for(var t=[],n=0;n<e.length;++n)t.push(e[n]+": "+qL(e,e[n]));return t.join(";\n")}function sB(e,t){if(e.tagName!=gL){var n=[];if(l(":before",e.firstChild),l(":after",null),n.length>0){var i=e.className;e.className+=" kendo-pdf-hide-pseudo-elements",uB(e,t),e.className=i,n.forEach((function(t){e.removeChild(t)}))}else uB(e,t)}else uB(e,t);function l(t,i){var l=YL(e,t),r=l.content;if(BL(l),r&&"normal"!=r&&"none"!=r&&"0px"!=l.width){var a=e.ownerDocument.createElement(gL);a.style.cssText=oB(l),a.textContent=function(e,t){function n(e,t,n){return n?(n=n.replace(/^\s*(["'])(.*)\1\s*$/,"$2"),function(e){var t=[],n=yL;for(e="_counter_"+e;n;)FL(n,e)&&t.push(n[e]),n=Object.getPrototypeOf(n);return t.reverse()}(e).map((function(e){return aB(e,t)})).join(n)):aB(function(e){return yL[e="_counter_"+e]}(e)||0,t)}var i,l=IL(t,/^\s+/),r=[];return l.forEach((function(t){var l;(i=/^\s*(["'])(.*)\1\s*$/.exec(t))?r.push(i[2].replace(/\\([0-9a-f]{4})/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))):(i=/^\s*counter\((.*?)\)\s*$/.exec(t))?(l=IL(i[1]),r.push(n(l[0],l[1]))):(i=/^\s*counters\((.*?)\)\s*$/.exec(t))?(l=IL(i[1]),r.push(n(l[0],l[2],l[1]))):(i=/^\s*attr\((.*?)\)\s*$/.exec(t))?r.push(e.getAttribute(i[1])||""):r.push(t)})),r.join("")}(e,r),e.insertBefore(a,i),n.push(a)}}}function uB(e,t){var n=YL(e),i=XL(n,"top"),l=XL(n,"right"),r=XL(n,"bottom"),a=XL(n,"left"),o=$L(n,"top-left"),s=$L(n,"top-right"),u=$L(n,"bottom-left"),c=$L(n,"bottom-right"),h=qL(n,"direction"),d=qL(n,"background-color");d=VL(d);var f,p,v=AL(qL(n,"background-image")),g=IL(qL(n,"background-repeat")),m=IL(qL(n,"background-position")),y=IL(qL(n,"background-origin")),b=IL(qL(n,"background-size"));bL&&"ellipsis"==(f=n.textOverflow)&&(p=e.style.textOverflow,e.style.textOverflow="clip"),pL.msie&&pL.version<10&&(m=IL(e.currentStyle.backgroundPosition));var k,_,w,x=ZL(e.getBoundingClientRect(),"border-*-width",e);!function(){var e=qL(n,"clip"),i=/^\s*rect\((.*)\)\s*$/.exec(e);if(i){var l=i[1].split(/[ ,]+/g),r="auto"==l[0]?x.top:parseFloat(l[0])+x.top,a="auto"==l[1]?x.right:parseFloat(l[1])+x.left,o="auto"==l[2]?x.bottom:parseFloat(l[2])+x.top,s="auto"==l[3]?x.left:parseFloat(l[3])+x.left,u=new hR,c=(new eR).moveTo(s,r).lineTo(a,r).lineTo(a,o).lineTo(s,o).close();eB(u,c),t.append(u),t=u,UL(c)}}();var C=qL(n,"display");if("table-row"==C)for(k=[],_=0,w=e.children;_<w.length;++_)k.push(w[_].getBoundingClientRect());else 1==(k=e.getClientRects()).length&&(k=[e.getBoundingClientRect()]);for(k=function(t){if(/^td$/i.test(e.tagName)){var n=yL.table;if(n&&"collapse"==qL(n.style,"border-collapse")){var i=XL(n.style,"left").width,l=XL(n.style,"top").width;if(0===i&&0===l)return t;var r=n.element.getBoundingClientRect(),a=n.element.rows[0].cells[0].getBoundingClientRect();if(a.top==r.top||a.left==r.left)return vL(t).map((function(e){return{left:e.left+i,top:e.top+l,right:e.right+i,bottom:e.bottom+l,height:e.height,width:e.width}}))}}return t}(k),_=0;_<k.length;++_)M(k[_],0===_,_==k.length-1);if("A"==e.tagName&&e.href&&!/^#?$/.test(e.getAttribute("href"))&&(!yL._avoidLinks||!xL(e,yL._avoidLinks))){var S=document.createRange();S.selectNodeContents(e),vL(S.getClientRects()).forEach((function(n){var i=new hR;i._pdfLink={url:e.href,top:n.top,right:n.right,bottom:n.bottom,left:n.left},t.append(i)}))}return k.length>0&&"list-item"==C&&!e.getAttribute("kendo-no-bullet")&&function(){var i=qL(n,"list-style-type");if("none"!=i){var l=qL(n,"list-style-position");switch(i){case"circle":case"disc":case"square":r((function(e){e.style.fontSize="60%",e.style.lineHeight="200%",e.style.paddingRight="0.5em",e.style.fontFamily="DejaVu Serif",e.innerHTML={disc:"\u25cf",circle:"\u25ef",square:"\u25a0"}[i]}));break;case"decimal":case"decimal-leading-zero":r((function(e){a((function(t){++t,"decimal-leading-zero"==i&&t<10&&(t="0"+t),e.innerHTML=t+"."}))}));break;case"lower-roman":case"upper-roman":r((function(e){a((function(t){t=nO(t+1),"upper-roman"==i&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}));break;case"lower-latin":case"lower-alpha":case"upper-latin":case"upper-alpha":r((function(e){a((function(t){t=jL(t),/^upper/i.test(i)&&(t=t.toUpperCase()),e.innerHTML=t+"."}))}))}}function r(n){KL(e,(function(){e.style.position="relative";var i=e.ownerDocument.createElement(gL);i.style.position="absolute",i.style.boxSizing="border-box","outside"==l?(i.style.width="6em",i.style.left="-6.8em",i.style.textAlign="right"):i.style.left="0px",n(i),e.insertBefore(i,e.firstChild),fB(i,t),e.removeChild(i)}))}function a(t){var n=e.parentNode.children,i=e.getAttribute("kendo-split-index");if(null!=i)return t(0|i,n.length);for(var l=0;l<n.length;++l)if(n[l]===e)return t(l,n.length)}}(),function(){function i(){var n=lB(e,x,"padding"),i=new hR;eB(i,n),t.append(i),t=i,UL(n)}!function(e){return/^(?:textarea|select|input)$/i.test(e.tagName)}(e)?/^(hidden|auto|scroll)/.test(qL(n,"overflow"))?i():/^(hidden|auto|scroll)/.test(qL(n,"overflow-x"))?i():/^(hidden|auto|scroll)/.test(qL(n,"overflow-y"))&&i():i()}(),function(e,t){var n;if(e._kendoExportVisual)n=e._kendoExportVisual();else if(window.kendo&&window.kendo.jQuery&&e.getAttribute(window.kendo.attr("role"))){var i=window.kendo.widgetInstance(window.kendo.jQuery(e));i&&(i.exportDOMVisual||i.exportVisual)&&(n=i.exportDOMVisual?i.exportDOMVisual():i.exportVisual())}if(!n)return!1;var l=new hR;l.children.push(n);var r=e.getBoundingClientRect();return l.transform(KO().translate(r.left,r.top)),t.append(l),!0}(e,t)||function e(t,n){switch(yL._stackingContext.element===t&&(yL._stackingContext.group=n),t.tagName.toLowerCase()){case"img":cB(t,t.src,n);break;case"canvas":try{cB(t,t.toDataURL("image/png"),n)}catch(u){}break;case"textarea":case"input":case"select":!function(t,n){var i=t.tagName.toLowerCase();if("input"==i&&("checkbox"==t.type||"radio"==t.type))return function(e,t){var n=qL(YL(e),"color"),i=e.getBoundingClientRect();"checkbox"==e.type?(t.append(eR.fromRect(new qO([i.left+1,i.top+1],[i.width-2,i.height-2])).stroke(n,1)),e.checked&&t.append((new eR).stroke(n,1.2).moveTo(i.left+.22*i.width,i.top+.55*i.height).lineTo(i.left+.45*i.width,i.top+.75*i.height).lineTo(i.left+.78*i.width,i.top+.22*i.width))):(t.append(new uF(new tF([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-2,i.height-2)/2)).stroke(n,1)),e.checked&&t.append(new uF(new tF([(i.left+i.right)/2,(i.top+i.bottom)/2],Math.min(i.width-8,i.height-8)/2)).fill(n).stroke(null)))}(t,n);var l,r=t.parentNode,a=t.ownerDocument,o=a.createElement(gL);if(o.style.cssText=oB(YL(t)),"input"==i&&(o.style.whiteSpace="pre"),"select"!=i&&"textarea"!=i||(o.style.overflow="auto"),"select"==i)if(t.multiple)for(var s=0;s<t.options.length;++s)(l=a.createElement(gL)).style.cssText=oB(YL(t.options[s])),l.style.display="block",l.textContent=t.options[s].textContent,o.appendChild(l);else(l=function(e){return e.selectedOptions&&e.selectedOptions.length>0?e.selectedOptions[0]:e.options[e.selectedIndex]}(t))&&(o.textContent=l.textContent);else o.textContent=t.value;r.insertBefore(o,t),o.scrollLeft=t.scrollLeft,o.scrollTop=t.scrollTop,t.style.display="none",e(o,n),t.style.display="",r.removeChild(o)}(t,n);break;default:for(var i=[],l=[],r=[],a=t.firstChild;a;a=a.nextSibling)switch(a.nodeType){case 3:/\S/.test(a.data)&&dB(t,a,n);break;case 1:var o=YL(a),s=qL(o,"float");"static"!=qL(o,"position")?r.push(a):"none"!=s?l.push(a):i.push(a)}pO(i,hB).forEach((function(e){fB(e,n)})),pO(l,hB).forEach((function(e){fB(e,n)})),pO(r,hB).forEach((function(e){fB(e,n)}))}}(e,t),bL&&"ellipsis"==f&&(e.style.textOverflow=p),t;function T(e,n,i,l,r,a,o,s){if(!(i<=0)){var u,c=new hR;JL(c,s),t.append(c),nB(a),nB(o),u=new eR({fill:{color:e},stroke:null}),c.append(u),u.moveTo(a.x?Math.max(a.x,l):0,0).lineTo(n-(o.x?Math.max(o.x,r):0),0).lineTo(n-Math.max(o.x,r),i).lineTo(Math.max(a.x,l),i).close(),a.x&&h(l,a,[-1,0,0,1,a.x,0]),o.x&&h(r,o,[1,0,0,1,n-o.x,0])}function h(t,n,l){var r=Math.PI/2*t/(t+i),a={x:n.x-t,y:n.y-i},o=new eR({fill:{color:e},stroke:null}).moveTo(0,0);JL(o,l),tB(o,0,n.y,{startAngle:-90,endAngle:-QL(r),radiusX:n.x,radiusY:n.y}),a.x>0&&a.y>0?(o.lineTo(a.x*Math.cos(r),n.y-a.y*Math.sin(r)),tB(o,0,n.y,{startAngle:-QL(r),endAngle:-90,radiusX:a.x,radiusY:a.y,anticlockwise:!0})):a.x>0?o.lineTo(a.x,i).lineTo(0,i):o.lineTo(a.x,i).lineTo(a.x,0),c.append(o.close())}}function P(t,n,i,l,r,a,o){var s;if(i&&"none"!=i)if("url"==i.type){if(/^url\(\"data:image\/svg/i.test(i.url))return;var u=mL[i.url];u&&u.width>0&&u.height>0&&c(t,n,u.width,u.height,(function(e,t){e.append(new sR(i.url,t))}))}else{if("linear"!=i.type)return;c(t,n,n.width,n.height,(s=i,function(e,t){var n=t.width(),i=t.height();switch(s.type){case"linear":var l=null!=s.angle?s.angle:Math.PI;switch(s.to){case"top":l=0;break;case"left":l=-Math.PI/2;break;case"bottom":l=Math.PI;break;case"right":l=Math.PI/2;break;case"top left":case"left top":l=-Math.atan2(i,n);break;case"top right":case"right top":l=Math.atan2(i,n);break;case"bottom left":case"left bottom":l=Math.PI+Math.atan2(i,n);break;case"bottom right":case"right bottom":l=Math.PI-Math.atan2(i,n)}s.reverse&&(l-=Math.PI),(l%=2*Math.PI)<0&&(l+=2*Math.PI);var r=Math.abs(n*Math.sin(l))+Math.abs(i*Math.cos(l)),a=Math.atan(n*Math.tan(l)/i),o=Math.sin(a),u=Math.cos(a),c=Math.abs(o)+Math.abs(u),h=c/2*o,d=c/2*u;l>Math.PI/2&&l<=3*Math.PI/2&&(h=-h,d=-d);var f=[],p=0,v=s.stops.map((function(e,t){var n=e.percent;n?n=parseFloat(n)/100:e.length?n=parseFloat(e.length)/r:0===t?n=0:t==s.stops.length-1&&(n=1);var i={color:e.color.toCssRgba(),offset:n};return null!=n?(p=n,f.forEach((function(e,t){e.stop.offset=e.left+(p-e.left)*(t+1)/(f.length+1)})),f=[]):f.push({left:p,stop:i}),i})),g=[.5-h,.5+d],m=[.5+h,.5-d];e.append(eR.fromRect(t).stroke(null).fill(new kR({start:g,end:m,stops:v,userSpace:!1})));break;case"radial":window.console&&window.console.log&&window.console.log("Radial gradients are not yet supported in HTML renderer")}}))}function c(t,n,i,s,u){var c,h=i/s,d=n;if("content-box"==a?(d=ZL(d,"border-*-width",e),d=ZL(d,"padding-*",e)):"padding-box"==a&&(d=ZL(d,"border-*-width",e)),!/^\s*auto(\s+auto)?\s*$/.test(o))if("contain"==o)c=Math.min(d.width/i,d.height/s),i*=c,s*=c;else if("cover"==o)c=Math.max(d.width/i,d.height/s),i*=c,s*=c;else{var f=o.split(/\s+/g);i=/%$/.test(f[0])?d.width*parseFloat(f[0])/100:parseFloat(f[0]),s=1==f.length||"auto"==f[1]?i/h:/%$/.test(f[1])?d.height*parseFloat(f[1])/100:parseFloat(f[1])}var p=String(r);switch(p){case"bottom":p="50% 100%";break;case"top":p="50% 0";break;case"left":p="0 50%";break;case"right":p="100% 50%";break;case"center":p="50% 50%"}1==(p=p.split(/\s+/)).length&&(p[1]="50%"),p[0]=/%$/.test(p[0])?parseFloat(p[0])/100*(d.width-i):parseFloat(p[0]),p[1]=/%$/.test(p[1])?parseFloat(p[1])/100*(d.height-s):parseFloat(p[1]);var v=new qO([d.left+p[0],d.top+p[1]],[i,s]);function g(){for(;v.origin.x>n.left;)v.origin.x-=i}function m(){for(;v.origin.y>n.top;)v.origin.y-=s}function y(){for(;v.origin.x<n.right;)u(t,v.clone()),v.origin.x+=i}if("no-repeat"==l)u(t,v);else if("repeat-x"==l)g(),y();else if("repeat-y"==l)for(m();v.origin.y<n.bottom;)u(t,v.clone()),v.origin.y+=s;else if("repeat"==l){g(),m();for(var b=v.origin.clone();v.origin.y<n.bottom;)v.origin.x=b.x,y(),v.origin.y+=s}}}function M(n,f,p){if(0!==n.width&&0!==n.height){!function(e){var n=new hR;if(eB(n,rB(e,o,s,c,u)),t.append(n),d){var i=new eR({fill:{color:d.toCssRgba()},stroke:null});i.moveTo(e.left,e.top).lineTo(e.right,e.top).lineTo(e.right,e.bottom).lineTo(e.left,e.bottom).close(),n.append(i)}for(var l=v.length;--l>=0;)P(n,e,v[l],g[l%g.length],m[l%m.length],y[l%y.length],b[l%b.length])}(n);var k=a.width>0&&(f&&"ltr"==h||p&&"rtl"==h),_=l.width>0&&(p&&"ltr"==h||f&&"rtl"==h);if(0!==i.width||0!==a.width||0!==l.width||0!==r.width){if(i.color==l.color&&i.color==r.color&&i.color==a.color&&i.width==l.width&&i.width==r.width&&i.width==a.width&&k&&_){n=ZL(n,i.width/2);var w=lB(e,n,i.width/2);return w.options.stroke={color:i.color,width:i.width},void t.append(w)}if(0===o.x&&0===s.x&&0===c.x&&0===u.x&&i.width<2&&a.width<2&&l.width<2&&r.width<2)return i.width>0&&t.append(new eR({stroke:{width:i.width,color:i.color}}).moveTo(n.left,n.top+i.width/2).lineTo(n.right,n.top+i.width/2)),r.width>0&&t.append(new eR({stroke:{width:r.width,color:r.color}}).moveTo(n.left,n.bottom-r.width/2).lineTo(n.right,n.bottom-r.width/2)),k&&t.append(new eR({stroke:{width:a.width,color:a.color}}).moveTo(n.left+a.width/2,n.top).lineTo(n.left+a.width/2,n.bottom)),void(_&&t.append(new eR({stroke:{width:l.width,color:l.color}}).moveTo(n.right-l.width/2,n.top).lineTo(n.right-l.width/2,n.bottom)));var x=iB(n,o,s,c,u),C=x.tl,S=x.tr,M=x.br,A=x.bl;T(i.color,n.width,i.width,a.width,l.width,C,S,[1,0,0,1,n.left,n.top]),T(r.color,n.width,r.width,l.width,a.width,M,A,[-1,0,0,-1,n.right,n.bottom]),T(a.color,n.height,a.width,r.width,i.width,I(A),I(C),[0,-1,1,0,n.left,n.bottom]),T(l.color,n.height,l.width,i.width,r.width,I(S),I(M),[0,1,-1,0,n.right,n.top])}}function I(e){return{x:e.y,y:e.x}}}}function cB(e,t,n){var i=function(e){var t=e.getBoundingClientRect();return t=ZL(t,"border-*-width",e),ZL(t,"padding-*",e)}(e),l=new qO([i.left,i.top],[i.width,i.height]),r=new sR(t,l);eB(r,lB(e,i,"content")),n.append(r)}function hB(e,t){var n=YL(e),i=YL(t),l=parseFloat(qL(n,"z-index")),r=parseFloat(qL(i,"z-index")),a=qL(n,"position"),o=qL(i,"position");return isNaN(l)&&isNaN(r)?/static|absolute/.test(a)&&/static|absolute/.test(o)?0:"static"==a?-1:"static"==o?1:0:isNaN(l)?0===r?0:r>0?-1:1:isNaN(r)?0===l?0:l>0?1:-1:parseFloat(l)-parseFloat(r)}function dB(e,t,n){if(null!=(i=yL._clipbox)&&(!i||0!==i.width()&&0!==i.height())){var i,l=YL(e);if(!(parseFloat(qL(l,"text-indent"))<-500)){var r=t.data,a=0,o=r.search(/\S\s*$/)+1;if(o){var s=qL(l,"font-size"),u=qL(l,"line-height"),c=[qL(l,"font-style"),qL(l,"font-variant"),qL(l,"font-weight"),s,qL(l,"font-family")].join(" ");if(s=parseFloat(s),u=parseFloat(u),0!==s){var h=qL(l,"color"),d=e.ownerDocument.createRange(),f="justify"==qL(l,"text-align"),p=qL(l,"column-count",1),v=qL(l,"white-space"),g=qL(l,"text-transform"),m=e.getBoundingClientRect().width/s*5;0===m&&(m=500);for(var y=null,b=yL.underline,k=yL["line-through"],_=yL.overline,w=b||k||_;!C(););return void(w&&(d.selectNode(t),vL(d.getClientRects()).forEach((function(e){function t(t,i){if(t){var l=s/12,r=new eR({stroke:{width:l,color:t}});r.moveTo(e.left,i-=l).lineTo(e.right,i),n.append(r)}}t(b,e.bottom),t(k,e.bottom-e.height/2.7),t(_,e.top)}))))}}}}function x(e){if(bL||pL.chrome){for(var t=e.getClientRects(),n={top:1/0,right:-1/0,bottom:-1/0,left:1/0},i=!1,l=0;l<t.length;++l){var r=t[l];r.width<=1||r.bottom===y||(n.left=Math.min(r.left,n.left),n.top=Math.min(r.top,n.top),n.right=Math.max(r.right,n.right),n.bottom=Math.max(r.bottom,n.bottom),i=!0)}return i?(n.width=n.right-n.left,n.height=n.bottom-n.top,n):e.getBoundingClientRect()}return e.getBoundingClientRect()}function C(){var e,i=a,l=r.substr(a).search(/\S/);if(a+=l,l<0||a>=o)return!0;d.setStart(t,a),d.setEnd(t,a+1),e=x(d);var s=!1;if((f||p>1)&&(l=r.substr(a).search(/\s/))>=0){d.setEnd(t,a+l);var b=x(d);b.bottom==e.bottom&&(e=b,s=!0,a+=l)}if(!s){if((l=function n(i,l,r){d.setEnd(t,l);var a=x(d);return a.bottom!=e.bottom&&i<l?n(i,i+l>>1,l):a.right!=e.right?(e=a,l<r?n(l,l+r>>1,r):l):l}(a,Math.min(o,a+m),o))==a)return!0;if(a=l,0===(l=d.toString().search(/\s+$/)))return!1;l>0&&(d.setEnd(t,d.startOffset+l),e=x(d))}bL&&(e=d.getClientRects()[0]);var k=d.toString();if(/^(?:pre|pre-wrap)$/i.test(v)){if(/\t/.test(k)){var _=0;for(l=i;l<d.startOffset;++l){var w=r.charCodeAt(l);9==w?_+=8-_%8:10==w||13==w?_=0:_++}for(;(l=k.search("\t"))>=0;){var C="        ".substr(0,8-(_+l)%8);k=k.substr(0,l)+C+k.substr(l+1)}}}else k=k.replace(/\s+/g," ");s||(y=e.bottom),function(e,t){if(bL&&!isNaN(u)){var i=DL(c),l=(t.top+t.bottom-i)/2;t={top:l,right:t.right,bottom:l+i,left:t.left,height:i,width:t.right-t.left}}switch(g){case"uppercase":e=e.toUpperCase();break;case"lowercase":e=e.toLowerCase();break;case"capitalize":e=e.replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))}var r=new kL(e,new qO([t.left,t.top],[t.width,t.height]),{font:c,fill:{color:h}});n.append(r)}(k,e)}}function fB(e,t){var n=YL(e);if(BL(n),!/^(style|script|link|meta|iframe|svg|col|colgroup)$/i.test(e.tagName)&&null!=yL._clipbox){var i=parseFloat(qL(n,"opacity")),l=qL(n,"visibility"),r=qL(n,"display");if(0!==i&&"hidden"!=l&&"none"!=r){var a,o=function(e){var t=qL(e,"transform");if("none"==t)return null;var n=/^\s*matrix\(\s*(.*?)\s*\)\s*$/.exec(t);if(n){var i=qL(e,"transform-origin");return{matrix:n=n[1].split(/\s*,\s*/g).map(parseFloat),origin:i=i.split(/\s+/g).map(parseFloat)}}}(n),s=qL(n,"z-index");(o||i<1)&&"auto"==s&&(s=0),a=function(e,t,n){var i;"auto"!=n?(i=yL._stackingContext.group,n=parseFloat(n)):(i=t,n=0);for(var l=i.children,r=0;r<l.length&&!(null!=l[r]._dom_zIndex&&l[r]._dom_zIndex>n);++r);var a=new hR;if(i.insert(r,a),a._dom_zIndex=n,i!==t&&yL._clipbox){var o=yL._matrix.invert(),s=yL._clipbox.transformCopy(o);eB(a,eR.fromRect(s))}return a}(0,t,s),i<1&&a.opacity(i*a.opacity()),HL(e,n,a),o?KL(e,(function(){GL(e.style,"transform","none","important"),GL(e.style,"transition","none","important"),"static"==qL(n,"position")&&GL(e.style,"position","relative","important");var t=e.getBoundingClientRect(),i=t.left+o.origin[0],l=t.top+o.origin[1],r=[1,0,0,1,-i,-l];r=pB(r,o.matrix),r=pB(r,[1,0,0,1,i,l]),r=JL(a,r),yL._matrix=yL._matrix.multiplyCopy(r),sB(e,a)})):sB(e,a),WL()}}}function pB(e,t){var n=e[0],i=e[1],l=e[2],r=e[3],a=e[4],o=e[5],s=t[0],u=t[1],c=t[2],h=t[3];return[n*s+i*c,n*u+i*h,l*s+r*c,l*u+r*h,a*s+o*c+t[4],a*u+o*h+t[5]]}var vB=function(e){return Math.min(e,20)},gB=function(e){return(String(e).split(".")[1]||"").length},mB=function(e,t){var n=vB(t);return parseFloat(e.toFixed(n))},yB=function(e){return e&&(!e.touched||e.control&&"blur"===e.control.updateOn)};function bB(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),l=2;l<n;l++)i[l-2]=arguments[l];if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,i)}var kB=/[eE][\-+]?([0-9]+)/,_B=function(e){return e>=0?Math.floor(e):Math.ceil(e)},wB=function(e){},xB=function(e){return!isNaN(e)&&null!==e};function CB(e,t){var n=t-String(e).length,i=e;if(n>0){var l=new Array(n+1).join("0");i=parseFloat(e+l)}return i}var SB=function(e){var t=0;return e.wheelDelta?t=(t=e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t):e.detail&&(t=Math.round(-e.detail/3)),t},TB=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({}),PB=["min","max","step","decimals"],MB={decimals:null,max:null,min:null,step:1},AB=function(){function e(t,n,i,l,r,a,o){var s=this;_classCallCheck2(this,e),this.intl=t,this.renderer=n,this.localizationService=i,this.injector=l,this.ngZone=r,this.changeDetector=a,this.hostElement=o,this.focusableId="k-".concat(Hv()),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.selectOnFocus=!0,this.value=null,this.valueChange=new dr,this.onFocus=new dr,this.onBlur=new dr,this.ArrowDirection=TB,this.arrowDirection=TB.None,this.inputValue="",this.minValidateFn=wB,this.maxValidateFn=wB,this._format="n2",this.isPasted=!1,this.mouseDown=!1,this.ngChange=wB,this.ngTouched=wB,this.ngValidatorChange=wB,this.increasePress=function(e){s.arrowPress(TB.Up,e)},this.decreasePress=function(e){s.arrowPress(TB.Down,e)},this.releaseArrow=function(){clearTimeout(s.spinTimeout),s.arrowDirection!==TB.None&&(s.arrowDirection=TB.None,s.changeDetector.detectChanges())},this.handlePaste=function(){s.isPasted=!0},this.handleInput=function(){var e=s.numericInput.nativeElement,t=e.selectionStart,n=e.selectionEnd,i=e.value;if(s.pressedKey===ng.NumpadDecimal&&(i=s.replaceNumpadDotValue()),s.isPasted&&(i=s.formatInputValue(s.intl.parseNumber(i))),!s.isValid(i))return e.value=s.inputValue,void s.setSelection(t-1,n-1);var l=s.intl.parseNumber(i),r=s.restrictDecimals(l);if(s.autoCorrect){var a=s.limitInputValue(r);r=a.value,t=a.selectionStart,n=a.selectionEnd}l!==r||s.hasTrailingZeros(i)||!s.focused?(s.setInputValue(r),s.setSelection(t,n)):s.inputValue=i,s.isPasted&&(e.value=s.inputValue),s.updateValue(r),s.previousSelection=null,s.isPasted=!1},this.handleDragEnter=function(){s.focused||s.isDisabled||s.setInputValue(s.value,!0)},this.handleMouseDown=function(){s.mouseDown=!0},this.handleFocus=function(){if(!s.focused&&(s.focused=!0,!s.isDisabled)){var e=s.selectOnFocus||!s.mouseDown;s.ngZone.runOutsideAngular((function(){setTimeout((function(){e?s.selectAll():s.selectCaret()}),0)}))}s.mouseDown=!1,jv(s.onFocus)&&s.ngZone.run((function(){s.onFocus.emit()}))},this.handleBlur=function(){s.focused=!1,s.inputValue!==s.elementValue&&s.handleInput(),s.setInputValue(),(jv(s.onBlur)||yB(s.control))&&s.ngZone.run((function(){s.ngTouched(),s.onBlur.emit()}))},this.handleKeyDown=function(e){if(!s.isDisabled){var t;e.keyCode===ng.ArrowDown?t=-1:e.keyCode===ng.ArrowUp&&(t=1),t&&s.step&&(e.preventDefault(),s.addStep(t));var n=s.numericInput.nativeElement;s.previousSelection={end:n.selectionEnd,start:n.selectionStart},s.pressedKey=e.keyCode}},this.handleWheel=function(e){if(s.focused&&!s.isDisabled){e.preventDefault();var t=SB(e);s.addStep(t)}},this.direction=i.rtl?"rtl":"ltr"}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.localizationService.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr"})),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(Qy,null)}},{key:"ngOnChanges",value:function(e){var t,n;zv(PB,e,!1)&&this.parseOptions(PB.filter((function(t){return e[t]}))),this.verifySettings(),zv(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,function(e){return null!==e.value&&e.value<n?{minError:{minValue:n,value:e.value}}:null}):wB,this.maxValidateFn=this.rangeValidation?(t=this.max,function(e){return null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null}):wB,this.ngValidatorChange()),zv(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,zv(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.ngValidatorChange=e}},{key:"writeValue",value:function(e){this.verifyValue(e);var t=this.restrictModelValue(e);this.value=t,this.setInputValue()}},{key:"registerOnChange",value:function(e){this.ngChange=e}},{key:"registerOnTouched",value:function(e){this.ngTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){bB(this.numericInput,"focus")}},{key:"blur",value:function(){bB(this.numericInput,"blur")}},{key:"notifyValueChange",value:function(){this.setInputValue()}},{key:"arrowPress",value:function(e,t){t.preventDefault(),this.isDisabled||(xD||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}},{key:"updateValue",value:function(e){var t,n,i=this;(t=this.value)===(n=e)||null===t&&void 0===n||void 0===t&&null===n||this.ngZone.run((function(){i.value=e,i.ngChange(e),i.valueChange.emit(e),i.changeDetector.markForCheck()}))}},{key:"replaceNumpadDotValue",value:function(){var e=this.inputValue||"";if(this.previousSelection){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,l=this.previousSelection,r=l.start,a=l.end;t.value=e=e.substring(0,r)+this.decimalSeparator+e.substring(a),this.setSelection(n,i)}return e}},{key:"isValid",value:function(e){return this.numericRegex||(this.numericRegex=(t={autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator},n=t.autoCorrect,i=t.decimals,l=t.min,"."===(r=t.separator)&&(r="\\"+r),new RegExp("^".concat(n&&null!==l&&l>=0?"":"-?").concat(0===i?"\\d*":"(?:(?:\\d+(".concat(r,"\\d*)?)|(?:").concat(r,"\\d*))?"),"$")))),this.numericRegex.test(e);var t,n,i,l,r}},{key:"spin",value:function(e,t){var n=this;clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout((function(){n.spin(e,50)}),t),this.addStep(e)}},{key:"addStep",value:function(e){var t,n,i,l=(t=this.value||0,n=this.step*e,i=function(e,t){return Math.max(gB(e),gB(t))}(t,n),mB(t+n,i));l=this.limitValue(l),l=this.restrictDecimals(l),this.setInputValue(l),this.updateValue(l)}},{key:"setSelection",value:function(e,t){this.focused&&bB(this.numericInput,"setSelectionRange",e,t)}},{key:"limitValue",value:function(e){var t=e;return this.isInRange(e)||(xB(this.max)&&e>this.max&&(t=this.max),xB(this.min)&&e<this.min&&(t=this.min)),t}},{key:"limitInputValue",value:function(e){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,l=t.value,r=e,a=!1;if(!this.isInRange(e)){var o,s,u=l.length-String(this.inputValue).length,c=this.min,h=this.max,d=xB(h),f=xB(c),p=e;if(0===n&&this.inputValue.substr(1)===l)return{selectionEnd:i,selectionStart:n,value:null};if(d&&e>h?e>0?s=!0:o=h:f&&e<c&&(e>0?o=c:s=!0),o){var v=this.tryPadValue(e,o);v&&_B(e)!==_B(o)&&(p=v,a=!0)}else s&&this.inputValue&&n!==l.length&&(p=parseFloat(l.substr(0,n)+l.substr(n+u)));r=this.limitValue(p),a=(a||r!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+u>0}return{selectionEnd:a?String(r).length:i,selectionStart:n,value:r}}},{key:"tryPadValue",value:function(e,t){var n,i=String(Math.floor(t)).length,l=CB(e,i),r=CB(e,i+1);return this.isInRange(l)?n=l:this.isInRange(r)&&(n=r),n}},{key:"isInRange",value:function(e){return!xB(e)||(!xB(this.min)||this.min<=e)&&(!xB(this.max)||e<=this.max)}},{key:"restrictModelValue",value:function(e){var t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}},{key:"restrictDecimals",value:function(e,t){var n=e;if(e&&this.hasDecimals){var i=this.decimals,l=String(e);if(t||kB.test(l))n=mB(e,i);else{var r=l.split("."),a=r[1];a&&a.length>i&&(a=a.substr(0,i),n=parseFloat("".concat(r[0]).concat(".").concat(a)))}}return n}},{key:"formatInputValue",value:function(e){var t=String(e),n=kB.exec(t);return n&&(t=e.toFixed(vB(parseInt(n[1],10)))),t.replace(".",this.decimalSeparator)}},{key:"formatValue",value:function(e,t){return null!==e&&function(e){return void 0!==e}(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):""}},{key:"setInputValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focused,n=this.formatValue(e,t);this.elementValue=n,this.inputValue=n}},{key:"verifySettings",value:function(){if(xt()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See ".concat("http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min"," and ").concat("http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max","."))}},{key:"verifyValue",value:function(e){if(xt()&&e&&"number"!=typeof e)throw new Error("The NumericTextBox component requires value of type Number and ".concat(JSON.stringify(e)," was set."))}},{key:"parseOptions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this[n];if("string"==typeof i){var l=parseFloat(i),r=!isNaN(l);if(xt()&&!r&&""!==i)throw new Error("The NumericTextBox component requires value of type Number or a String representing "+"a number for the ".concat(n," property and ").concat(JSON.stringify(i)," was set."));this[n]=r?l:MB[n]}}}},{key:"intlChange",value:function(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}},{key:"hasTrailingZeros",value:function(e){if(this.hasDecimals&&this.focused){var t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}},{key:"selectAll",value:function(){this.setInputValue(),this.setSelection(0,this.inputValue.length)}},{key:"selectCaret",value:function(){var e,t,n,i=this.numericInput.nativeElement.selectionStart,l=this.elementValue,r=l.substring(0,i);if(this.setInputValue(),r.length){var a=(e=r,t=this.decimalSeparator,n="".concat(t,"0123456789-"),e.split("").reduce((function(e,t){return n.includes(t)?++e:e}),0)),o=this.adjustSignificantChars(l,a);this.setSelection(o,o)}else this.setSelection(0,0)}},{key:"numberOfLeadingZeroes",value:function(e){var t=e.indexOf(this.decimalSeparator),n=e.match(/^[^1-9]*?(0+)/);if(n){var i=n[1].length;return n[0].length===t?i-1:i}return 0}},{key:"adjustSignificantChars",value:function(e,t){var n=this.numberOfLeadingZeroes(e);return n>0?Math.max(0,t-n):t}},{key:"format",get:function(){var e=this._format;return null!=e?e:"n2"},set:function(e){this._format=e}},{key:"tabIndex",set:function(e){this.tabindex=e},get:function(){return this.tabindex}},{key:"widgetClasses",get:function(){return!0}},{key:"incrementTitle",get:function(){return this.localizationService.get("increment")}},{key:"decrementTitle",get:function(){return this.localizationService.get("decrement")}},{key:"decimalSeparator",get:function(){return this.intl.numberSymbols().decimal}},{key:"elementValue",get:function(){return this.numericInput.nativeElement.value},set:function(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}},{key:"focused",get:function(){return this.isFocused},set:function(e){if(this.isFocused!==e&&this.numericWrap){var t=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(n,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(n,"k-formatted-value")),this.isFocused=e}}},{key:"hasDecimals",get:function(){return null!==this.decimals&&this.decimals>=0}},{key:"isDisabled",get:function(){return this.disabled||this.readonly}}]),e}(),IB=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),EB=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(IB),DB=function e(){_classCallCheck2(this,e)},OB=function e(){_classCallCheck2(this,e)},FB=function e(t,n,i){_classCallCheck2(this,e),this.sender=t,this.selectedDate=n,this.dateRange=i},RB=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,i.action=n,i}return _inherits(t,e),t}(OP),NB=function e(t,n){_classCallCheck2(this,e),this.sender=t,Object.assign(this,n)},LB=function e(t,n){_classCallCheck2(this,e),this.sender=t,Object.assign(this,n)},BB=function(){function e(){_classCallCheck2(this,e),this.prevented=!1}return _createClass2(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),VB={slotClick:NB,slotDblClick:NB,eventClick:LB,eventDblClick:LB,eventKeydown:function e(t,n){_classCallCheck2(this,e),this.sender=t,Object.assign(this,n)},create:function e(t,n){_classCallCheck2(this,e),this.sender=t,Object.assign(this,n)},remove:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB),resizeStart:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB),resize:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB),resizeEnd:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB),dragStart:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB),drag:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB),dragEnd:function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).sender=e,Object.assign(_assertThisInitialized(i),n),i}return _inherits(t,e),t}(BB)},zB=function(){function e(){_classCallCheck2(this,e),this.actionSource=new j,this.action=this.actionSource.asObservable()}return _createClass2(e,[{key:"navigate",value:function(e){this.actionSource.next(e)}}]),e}(),jB=function e(){_classCallCheck2(this,e)},HB=function(){function e(){_classCallCheck2(this,e),this.actionSource=new j,this.itemsSource=new fs([]),this.selectedDateSource=new fs(null),this.resizeSource=new j,this.optionsChangeSource=new fs({}),this.executeSource=new j,this.action=this.actionSource.asObservable(),this.items=this.itemsSource.asObservable(),this.selectedDate=this.selectedDateSource.asObservable(),this.resize=this.resizeSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable(),this.execute=this.executeSource.asObservable()}return _createClass2(e,[{key:"notifyAction",value:function(e){this.actionSource.next(e)}},{key:"notifyItems",value:function(e){this.itemsSource.next(e)}},{key:"notifySelectedDate",value:function(e){this.selectedDateSource.next(e)}},{key:"notifyResize",value:function(){this.resizeSource.next()}},{key:"notifyOptionsChange",value:function(e){this.optionsChangeSource.next(e)}},{key:"executeMethod",value:function(e,t){var n;return this.executeSource.next({name:e,args:t,result:function(e){n=e}}),n}}]),e}(),WB=function(){return{start:new Date(0),end:new Date(0),text:"",shortText:""}},UB=function(){function e(){_classCallCheck2(this,e),this.dateRangeSource=new fs(WB()),this.nextDateSource=new j,this.navigateSource=new j,this.viewEventSource=new j,this.layoutEndSource=new j,this.optionsChangeSource=new j,this.dateRange=this.dateRangeSource.asObservable(),this.nextDate=this.nextDateSource.asObservable(),this.navigate=this.navigateSource.asObservable(),this.viewEvent=this.viewEventSource.asObservable(),this.layoutEnd=this.layoutEndSource.asObservable(),this.optionsChange=this.optionsChangeSource.asObservable()}return _createClass2(e,[{key:"notifyNextDate",value:function(e){this.nextDateSource.next(e)}},{key:"notifyDateRange",value:function(e){this.dateRangeSource.next(e)}},{key:"notifyLayoutEnd",value:function(){this.layoutEndSource.next()}},{key:"navigateTo",value:function(e){this.navigateSource.next(e)}},{key:"notifyOptionsChange",value:function(){this.optionsChangeSource.next(null)}},{key:"emitEvent",value:function(e,t){this.viewEventSource.next({name:e,args:t})}}]),e}(),YB=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,qB={undefined:function(){}};function GB(e){if(qB[e])return qB[e];var t=[];return e.replace(YB,(function(e,n,i,l){t.push(void 0!==n?n:i||l)})),qB[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},qB[e]}var XB=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,KB={undefined:function(e){return e}},$B=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},ZB=function(e){return null!=e},QB=function(e){return"number"==typeof e&&!isNaN(e)},JB=function(e,t){if(t)for(var n=0;n<t.length;n++)i=e,l=e.dataItem,r=t[n].field,nV(i,r,tV(l,r));var i,l,r};function eV(e,t){var n=[];return e&&e.resources&&e.resources.length&&function(){for(var i=e.resources,l=function(e){var l=t.find((function(t){return t.name===i[e]}));n.push(l)},r=0;r<i.length;r++)l(r)}(),n}var tV=function(e,t){return GB(t)(e)},nV=function(e,t,n){return function(e){if(KB[e])return KB[e];var t=[];return e.replace(XB,(function(e,n,i,l){t.push(void 0!==n?n:i||l)})),KB[e]=function(e,n){for(var i=e,l=t.length-1,r=0;r<l&&i;r++)i=i[t[r]]=i[t[r]]||{};i[t[l]]=n},KB[e]}(t)(e,n)};var iV=function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;for(var e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype,n=0;n<e.length;++n){var i=e[n];if("entries"!==i&&"size"!==i&&t[i]===t.entries)return i}}();function lV(e){return Lv(e,"click")}function rV(e){var t,n=lV(e),i=n.pipe(Nv(250));return n.pipe((t=i,function(e){return e.lift(new JM(t))}),$u((function(e){return 2===e.length})),$u((function(e){return e[1].target===e[0].target})),te((function(e){return e[1]})))}var aV=function(){function e(t){_classCallCheck2(this,e),this.ngZone=t,this.changes=new dr,this.changedSource=new j,this.changed=this.changedSource.asObservable().pipe(gS(0))}return _createClass2(e,[{key:"endEdit",value:function(){this.changes.emit({action:"cancel",formGroup:this.hasNewEvent?this.newEventGroup.group:this.editedEvent.formGroup})}},{key:"removeEvent",value:function(e){this.changes.emit({action:"remove",dataItem:e})}},{key:"addEvent",value:function(e){this.newEventGroup={formGroup:e},this.onChanged()}},{key:"editEvent",value:function(e,t,n){this.editedEvent={dataItem:e,formGroup:t,mode:n},this.onChanged()}},{key:"close",value:function(){this.newEventGroup=this.editedEvent=null,this.onChanged()}},{key:"save",value:function(){var e=this.context,t=e.dataItem,n=e.formGroup;this.changes.emit({action:"save",dataItem:t,formGroup:n,isNew:this.hasNewEvent,mode:this.occurrenceEditMode})}},{key:"isEditing",value:function(){return ZB(this.context)}},{key:"onChanged",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.changedSource.next()}))}},{key:"occurrenceEditMode",get:function(){return this.hasNewEvent?2:this.editedEvent.mode||0}},{key:"hasNewEvent",get:function(){return ZB(this.newEventGroup)}},{key:"newEvent",get:function(){return this.hasNewEvent?this.newEventGroup.group.value:{}}},{key:"context",get:function(){return this.hasNewEvent?this.newEventGroup:this.editedEvent}}]),e}(),oV=function e(){_classCallCheck2(this,e),this.changes=new dr},sV=function e(){_classCallCheck2(this,e),this.focus=new dr,this.focusIn=new dr,this.focusOut=new dr,this.click=new dr,this.keydown=new dr,this.windowBlur=new dr},uV=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.renderer=t,this.wrapper=n,this.domEvents=i,this.items=new Set,this.elementMap=new WeakMap,this.subs=new C,this.subs.add(this.domEvents.focus.subscribe((function(e){return l.onFocusIn(e)}))),this.subs.add(this.domEvents.focusOut.subscribe((function(){return l.onFocusOut()})))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}},{key:"register",value:function(e){this.activeItem||(this.activeItem=e,e.toggle(!0)),this.items.add(e),this.elementMap.set(e.element.nativeElement,e),this.toggleWrapper()}},{key:"unregister",value:function(e){this.items.delete(e),this.elementMap.delete(e.element.nativeElement),e===this.activeItem&&this.activateNext(),this.toggleWrapper()}},{key:"focus",value:function(){this.activeItem?this.activeItem.focus():this.wrapper.nativeElement.focus()}},{key:"focusNext",value:function(e){var t=this.activeItem;return this.activateNext(e),this.activeItem&&this.activeItem.focus(),this.activeItem!==t}},{key:"activate",value:function(e){this.items.forEach((function(t){return t.toggle(t===e)})),this.activeItem=e}},{key:"activateNext",value:function(e){this.activeItem=this.findNext(e)}},{key:"findNext",value:function(e){var t=Object.assign({nowrap:!1,offset:1},e),n=t.offset,i=t.nowrap,l=Array.from(this.items.values()).filter((function(e){return e.canFocus()})).sort((function(e,t){return e.focusIndex-t.focusIndex}));if(0===l.length)return null;if(!this.activeItem)return i?null:l[0];var r=l.indexOf(this.activeItem)+n;return i?r=Math.max(0,Math.min(l.length-1,r)):(r%=l.length)<0&&(r=l.length-1),l[r]}},{key:"toggleWrapper",value:function(){this.wrapper&&this.renderer.setAttribute(this.wrapper.nativeElement,"tabindex",this.activeItem?"-1":"0")}},{key:"onFocusIn",value:function(e){var t=this.elementMap.get(e.target);t&&t!==this.focusedItem&&(this.focusedItem&&this.focusedItem.toggleFocus(!1),this.activate(t),t.toggleFocus(!0),this.focusedItem=t)}},{key:"onFocusOut",value:function(){this.focusedItem&&(this.focusedItem.toggleFocus(!1),this.focusedItem=null)}},{key:"activeElement",get:function(){if(this.activeItem)return this.activeItem.element}}]),e}(),cV=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.dialogService=t,this.localization=n,this.changeDetector=i,this.focusService=l,this.viewState=r,this.isOpen=!1}return _createClass2(e,[{key:"openRemoveConfirmationDialog",value:function(){var e=this,t=this.dialogService.open({title:this.textFor("deleteDialogTitle"),content:this.textFor("deleteConfirmation"),actions:[{text:this.textFor("cancel"),value:!1},{text:this.textFor("destroy"),value:!0}],appendTo:this.container,autoFocusedElement:"button:nth-child(2)"});return this.isOpen=!0,this.changeDetector.markForCheck(),t.result.pipe(te((function(t){return e.isOpen=!1,t instanceof Sm?(e.focusService.focus(),!1):(e.viewState.layoutEnd.pipe(gc(1)).subscribe((function(){return e.focusService.focus()})),t.value)})))}},{key:"openRecurringConfirmationDialog",value:function(e){var t=this,n=this.dialogService.open({actions:[{text:this.textFor(0===e?"editOccurrence":"deleteOccurrence"),value:1},{text:this.textFor(0===e?"editSeries":"deleteSeries"),value:2}],appendTo:this.container,autoFocusedElement:"button:nth-child(1)",content:this.textFor(0===e?"editRecurringConfirmation":"deleteRecurringConfirmation"),title:this.textFor(0===e?"editRecurringDialogTitle":"deleteRecurringDialogTitle")});return this.isOpen=!0,this.changeDetector.markForCheck(),n.result.pipe(te((function(e){if(t.isOpen=!1,t.focusService.focus(),!(e instanceof Sm))return e.value})))}},{key:"textFor",value:function(e){return this.localization.get(e)}}]),e}(),hV=function(e){function t(e,n,i){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))}return _inherits(t,e),t}($g),dV={id:"id",start:"start",startTimezone:"startTimezone",end:"end",endTimezone:"endTimezone",isAllDay:"isAllDay",title:"title",description:"description",recurrenceRule:"recurrenceRule",recurrenceId:"recurrenceId",recurrenceExceptions:"recurrenceExceptions"},fV=function(){function e(){_classCallCheck2(this,e),this.createElement=new dr,this.exportClick=new dr,this.done=new dr,this.elementReady=new dr}return _createClass2(e,[{key:"save",value:function(){if(jv(this.elementReady)){if(jv(this.createElement))this.createElement.emit();else if(xt())throw new Error("No active Scheduler view to export.")}else if(xt())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-scheduler-pdf> component.")}}]),e}(),pV=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(BB),vV=function(){function e(t,n){_classCallCheck2(this,e),this.element=t,this.renderer=n,this.hostClasses=!0}return _createClass2(e,[{key:"toggle",value:function(e){this.force=e,this.renderer.setStyle(this.element.nativeElement,"display",this.display)}},{key:"display",get:function(){return this.loading||this.force?"block":"none"}}]),e}(),gV=function(){function e(t,n,i){_classCallCheck2(this,e),this.element=t,this.renderer=n,this.focusService=i,this.focusIndex=0,this.toggle(!1),this.focusService.register(this)}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.focusService.unregister(this)}},{key:"toggle",value:function(e){e!==this.active&&(this.renderer.setAttribute(this.element.nativeElement,"tabIndex",e?"0":"-1"),this.active=e)}},{key:"canFocus",value:function(){return this.visible&&this.enabled}},{key:"focus",value:function(){this.element.nativeElement.focus()}},{key:"toggleFocus",value:function(e){var t=this.element.nativeElement;e?this.renderer.addClass(t,"k-state-selected"):this.renderer.removeClass(t,"k-state-selected"),this.renderer.setAttribute(t,"aria-selected",e.toString())}},{key:"visible",get:function(){return"none"!==this.element.nativeElement.style.display}},{key:"enabled",get:function(){return!this.element.nativeElement.disabled}}]),e}(),mV=function(e){return String(e).trim().split(" ")},yV=function(e,t){var n=mV(t);return Boolean(mV(e.className).find((function(e){return n.indexOf(e)>=0})))},bV=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},kV=function(e){var t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},_V=0;function wV(){if(!_V&&Bv()){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),_V=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return _V}function xV(e,t){var n="vertical"===t?"Height":"Width";return e["scroll".concat(n)]>e["client".concat(n)]}var CV=function(){function e(t,n,i,l,r,a,o,s,u,c,h,d,f){_classCallCheck2(this,e),this.wrapper=t,this.viewContext=n,this.viewState=i,this.editService=l,this.dialogsService=r,this.intlService=a,this.changeDetector=o,this.zone=s,this.pdfService=u,this.localization=c,this.domEvents=h,this.renderer=d,this.focusService=f,this.hostClasses=!0,this.rtl=!1,this.editable=!1,this.eventHeight=25,this.columnWidth=100,this.startTime="00:00",this.endTime="00:00",this.workDayStart="08:00",this.workDayEnd="17:00",this.slotDuration=60,this.slotDivisions=2,this.slotFill=.9,this.scrollTime=this.workDayStart,this.currentTimeMarker=!0,this.selectedViewIndexChange=new dr,this.navigate=new dr,this.dateChange=new dr,this.slotClick=new dr,this.slotDblClick=new dr,this.create=new dr,this.eventClick=new dr,this.eventDblClick=new dr,this.eventKeydown=new dr,this.cancel=new dr,this.save=new dr,this.remove=new dr,this.resizeStart=new dr,this.resize=new dr,this.resizeEnd=new dr,this.dragStart=new dr,this.drag=new dr,this.dragEnd=new dr,this.pdfExport=new dr,this.dragEndConfirmed=new dr,this.resizeEndConfirmed=new dr,this.removeConfirmed=new dr,this.viewIndex=0,this._timezone="",this._modelFields=dV,this.dateRangeStream=i.dateRange,this.selectedDateStream=n.selectedDate}return _createClass2(e,[{key:"ngOnInit",value:function(){this.selectedDate||(this.selectedDate=T_(new Date))}},{key:"ngAfterContentInit",value:function(){var e=this;if(xt()&&0===this.views.length)throw new Error("No views declared for <kendo-scheduler>. Please, declare at least one view.");this.subs=this.views.changes.subscribe((function(){return e.resetViewIndex()})),this.subs.add(this.intlService.changes.subscribe(this.intlChange.bind(this))),this.subs.add(this.viewState.nextDate.subscribe((function(t){e.selectedDate=t}))),this.subs.add(this.viewState.dateRange.subscribe((function(t){if(0!==t.start.getTime()){var n=new FB(e,e.selectedDate,t);e.dateChange.emit(n)}}))),this.subs.add(this.viewState.navigate.subscribe((function(t){var n=t.viewName,i=t.date,l=e.views.toArray(),r=l.find((function(e){return e.name===n})),a=new RB(e,{type:"show-date",view:r||{name:n,title:n},date:i});if(e.navigate.next(a),r&&!a.isDefaultPrevented()){var o=l.indexOf(r);e.selectedView=r,e.setViewIndex(o),e.selectedDate=i}}))),this.subs.add(this.viewState.viewEvent.subscribe((function(t){var n=t.name,i=t.args,l=e[n],r=e["".concat(n,"Confirmed")];(jv(l)||r&&jv(r))&&e.zone.run((function(){var t=new VB[n](e,i);l.emit(t),i.prevented=t.prevented,r&&!i.prevented&&r.emit(t)}))}))),this.subs.add(this.viewState.layoutEnd.subscribe((function(){e.resizeSensor&&e.resizeSensor.acceptSize()}))),this.onViewIndexChange(),this.notifyOptionsChange=this.notifyOptionsChange.bind(this),this.subs.add(this.allDayEventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.eventTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.timeSlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.minorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.majorTimeHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.monthDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.dateHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.allDaySlotTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.groupHeaderTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaDateTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.agendaTimeTemplate.changes.subscribe(this.notifyOptionsChange)),this.subs.add(this.views.changes.subscribe((function(){e.changeDetector.markForCheck()}))),this.attachEditHandlers(),this.dialogsService.container=this.confirmationDialogContainerRef,this.notifyOptionsChange(),this.subs.add(this.pdfService.exportClick.subscribe((function(){var t=new pV;e.pdfExport.emit(t),t.isDefaultPrevented()||e.saveAsPDF()}))),this.subs.add(this.pdfService.done.subscribe((function(){e.loadingComponent.toggle(!1)}))),this.subs.add(this.localization.changes.subscribe((function(t){var n=t.rtl;e.rtl=n,e.direction=e.rtl?"rtl":"ltr"}))),this.subs.add(this.viewState.optionsChange.subscribe((function(){e.changeDetector.markForCheck()}))),this.attachElementEventHandlers()}},{key:"ngOnChanges",value:function(e){var t=this;Vv("resources",e)&&!Vv("events",e)&&this.viewItems&&this.viewItems.forEach((function(e){JB(e.event,t.resources)})),zv(["group","resources","min","max","showWorkHours","startTime","scrollTime","endTime","eventHeight","workDayStart","workDayEnd","workWeekStart","workWeekEnd","slotDuration","slotDivisions","editable","timezone","slotClass","slotFill","columnWidth","eventClass","eventStyles"],e)&&this.notifyOptionsChange(e)}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe(),this.detachElementEventHandlers&&this.detachElementEventHandlers()}},{key:"onResize",value:function(e){this.viewContext.notifyResize()}},{key:"onNavigationAction",value:function(e){var t=new RB(this,e);if(this.navigate.next(t),t.isDefaultPrevented())return!0;if("view-change"===e.type){var n=this.views.toArray().indexOf(e.view);this.selectedView=e.view,this.setViewIndex(n)}else if("select-date"===e.type)this.isInRange(e.date)&&(this.selectedDate=e.date);else if("today"===e.type){var i=new Date;this.isInRange(i)&&(this.selectedDate=i)}else this.viewContext.notifyAction(e)}},{key:"addEvent",value:function(e){if(!(e instanceof Hb)){var t=Object.keys(e).reduce((n=e,function(e,t){return e[t]=new jb(n[t]),e}),{});e=new Hb(t)}var n;this.editService.addEvent(e)}},{key:"editEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.group,i=t.mode;this.editService.editEvent(e,n,i)}},{key:"closeEvent",value:function(){this.editService.close()}},{key:"isEditing",value:function(){return this.editService.isEditing()}},{key:"openRecurringConfirmationDialog",value:function(e){return this.dialogsService.openRecurringConfirmationDialog(e)}},{key:"openRemoveConfirmationDialog",value:function(){return this.dialogsService.openRemoveConfirmationDialog()}},{key:"saveAsPDF",value:function(){var e=this;this.loadingComponent.toggle(!0),this.zone.runOutsideAngular((function(){setTimeout((function(){e.pdfService.save()}),0)}))}},{key:"scrollToTime",value:function(e){this.viewContext.notifyAction({type:"scroll-time",time:e})}},{key:"slotByPosition",value:function(e,t){return this.viewContext.executeMethod("slotByPosition",{x:e,y:t})}},{key:"eventFromElement",value:function(e){return this.viewContext.executeMethod("eventFromElement",{element:e})}},{key:"focusNext",value:function(e){return this.focusService.focusNext(e)}},{key:"focusPrev",value:function(e){var t=Object.assign({offset:-1},e);return this.focusService.focusNext(t)}},{key:"focus",value:function(){return this.focusService.focus()}},{key:"isInRange",value:function(e){return(!this.min||this.min<=e)&&(!this.max||e<=this.max)}},{key:"notifyOptionsChange",value:function(e){var t=this.workWeek;this.viewContext.notifyOptionsChange({group:this.group,resources:this.resources,allDayEventTemplate:this.allDayEventTemplate?this.allDayEventTemplate.first:null,eventTemplate:this.eventTemplate?this.eventTemplate.first:null,timeSlotTemplate:this.timeSlotTemplate?this.timeSlotTemplate.first:null,minorTimeHeaderTemplate:this.minorTimeHeaderTemplate?this.minorTimeHeaderTemplate.first:null,majorTimeHeaderTemplate:this.majorTimeHeaderTemplate?this.majorTimeHeaderTemplate.first:null,monthDaySlotTemplate:this.monthDaySlotTemplate?this.monthDaySlotTemplate.first:null,dateHeaderTemplate:this.dateHeaderTemplate?this.dateHeaderTemplate.first:null,allDaySlotTemplate:this.allDaySlotTemplate?this.allDaySlotTemplate.first:null,groupHeaderTemplate:this.groupHeaderTemplate?this.groupHeaderTemplate.first:null,agendaDateTemplate:this.agendaDateTemplate?this.agendaDateTemplate.first:null,agendaTimeTemplate:this.agendaTimeTemplate?this.agendaTimeTemplate.first:null,min:this.min,max:this.max,showWorkHours:this.showWorkHours,startTime:this.startTime,scrollTime:this.scrollTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,workWeekStart:t.start,workWeekEnd:t.end,slotDuration:this.slotDuration,slotDivisions:this.slotDivisions,eventHeight:this.eventHeight,editable:this.editable,timezone:this.timezone,currentTimeMarker:this.currentTimeMarker,slotClass:this.slotClass,slotFill:this.slotFill,columnWidth:this.columnWidth,eventClass:this.eventClass,eventStyles:this.eventStyles,changes:e})}},{key:"resetViewIndex",value:function(){var e=Math.max(0,Math.min(this.selectedViewIndex,this.views.length-1));this.setViewIndex(e),this.onViewIndexChange()}},{key:"onViewIndexChange",value:function(){if(this.views){var e=this.views.toArray()[this.viewIndex];e&&(this.selectedView=e)}}},{key:"setViewIndex",value:function(e){var t=this.selectedViewIndex!==e;return t&&(this.selectedViewIndex=e,this.selectedViewIndexChange.emit(e)),t}},{key:"processEvents",value:function(e){var t=this,n=this.timezone,i=this.modelFields,l=e.map((function(e){return function(e,t,n){var i={id:GB(t.id)(e),start:GB(t.start)(e),startTimezone:GB(t.startTimezone)(e),end:GB(t.end)(e),endTimezone:GB(t.endTimezone)(e),isAllDay:GB(t.isAllDay)(e),title:GB(t.title)(e),description:GB(t.description)(e),recurrenceRule:GB(t.recurrenceRule)(e),recurrenceExceptions:GB(t.recurrenceExceptions)(e),recurrenceId:GB(t.recurrenceId)(e),dataItem:e};return JB(i,n),i}(e,i,t.resources)})).filter((function(e){return!function(e){return e.recurrenceRule&&!ZB(e.recurrenceId)}(e)})).map((function(e){return{start:X_.fromLocalDate(e.start,n),end:X_.fromLocalDate(e.end,n),event:e}}));this.viewItems=l,this.viewContext.notifyItems(l)}},{key:"attachEditHandlers",value:function(){this.editService&&this.subs.add(this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}},{key:"emitCRUDEvent",value:function(e){switch(Object.assign(e,{sender:this}),e.action){case"cancel":this.cancel.emit(e);break;case"save":this.save.emit(e)}}},{key:"intlChange",value:function(){var e=this.selectedView;this.selectedView=null,ZB(this.workWeekStart)&&ZB(this.workWeekEnd)||this.notifyOptionsChange(),this.changeDetector.detectChanges(),this.selectedView=e,Qr.isInAngularZone()?this.changeDetector.markForCheck():this.changeDetector.detectChanges()}},{key:"attachElementEventHandlers",value:function(){var e=this;if(Bv()){var t=this.wrapper.nativeElement;this.zone.runOutsideAngular((function(){var n=e.renderer.listen("window","blur",(function(t){e.domEvents.windowBlur.emit(t)})),i=e.renderer.listen(t,"click",(function(t){e.domEvents.click.emit(t)})),l=e.renderer.listen(t,"keydown",(function(t){e.domEvents.keydown.emit(t)})),r=!1,a=e.renderer.listen(t,"focusin",(function(t){e.domEvents.focus.emit(t),r||(e.domEvents.focusIn.emit(t),e.renderer.addClass(e.wrapper.nativeElement,"k-state-focused"),r=!0)})),o=e.renderer.listen(t,"focusout",(function(n){!function(e,t){for(;e&&!t(e);)e=e.parentNode;return e}(n.relatedTarget||document.activeElement,(function(e){return e===t}))&&(e.domEvents.focusOut.emit(n),e.renderer.removeClass(e.wrapper.nativeElement,"k-state-focused"),r=!1)}));e.detachElementEventHandlers=function(){n(),i(),l(),a(),o()}}))}}},{key:"dir",get:function(){return this.direction}},{key:"selectedViewIndex",set:function(e){this.viewIndex=e,this.onViewIndexChange()},get:function(){return this.viewIndex}},{key:"timezone",set:function(e){this._timezone=e,this.events=this.events||[]},get:function(){return this._timezone}},{key:"events",set:function(e){this._events=e,this.processEvents(e)},get:function(){return this._events}},{key:"selectedDate",set:function(e){e&&(this._selectedDate=e,this.viewContext.notifySelectedDate(e))},get:function(){return this._selectedDate}},{key:"modelFields",set:function(e){this._modelFields=Object.assign({},dV,e)},get:function(){return this._modelFields}},{key:"activeEvent",get:function(){var e=this.focusService.activeElement;if(e)return this.eventFromElement(e.nativeElement)}},{key:"workWeek",get:function(){var e=this.intlService.weekendRange(),t=e.start,n=e.end,i=ZB(this.workWeekStart)?this.workWeekStart:(n+1)%7,l=t>0?t-1:P_.Saturday;return{start:i,end:ZB(this.workWeekEnd)?this.workWeekEnd:l}}}]),e}(),SV=function(e,t,n,i){return e<n&&t>i||n<=e&&e<i||n<t&&t<=i&&e<t},TV=function(e,t,n){return t.getTime()<=e.getTime()&&e.getTime()<=n.getTime()};function PV(e){var t=new Date(1980,0,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function MV(e,t){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}function AV(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))}function IV(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))}function EV(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes())}function DV(e,t){for(var n=t.data,i=0;i<n.length;i++)if(tV(n[i],t.valueField)===e)return i;return-1}function OV(e,t){var n=DV(e,t);return n>=0?t.data[n]:{}}function FV(e){for(var t=[],n=0;n<e.length;n++){var i=Object.assign({},e[n]);i.resources=i.resources.slice(0),t.push(i)}return t}function RV(e,t){var n=tV(e,t.field);return Array.isArray(n)?function(e,t){return e.map((function(e){return OV(e,t)}))}(n,t):OV(n,t)}function NV(e,t){for(var n=t.taskResources,i=t.hasGroups,l=t.spans,r=t.allResources,a=void 0===r?[]:r,o=[],s=0;s<n.length;s++){var u=n[s];if(u.data){var c=a.indexOf(u),h=tV(e,u.field);Array.isArray(h)||(h=[h]);for(var d=[],f=0;f<h.length;f++){var p=DV(h[f],u);if(p<0)return[{leafIdx:i?-1:0,resources:[]}];var v=u.data[p];if(0!==s||!i&&0!==f){if(i){var g=o;h.length>1&&(g=FV(o),d.push.apply(d,g));for(var m=0;m<g.length;m++)g[m].leafIdx+=p*l[s],g[m].resources[c]=v}else if(f>0)for(var y=0;y<o.length;y++)o[y].resources[c].push(v)}else{var b=[];b[c]=u.multiple&&!i?[v]:v,o.push({leafIdx:i?p*l[s]:0,color:tV(v,u.colorField),resources:b})}}d.length&&(o=d)}else o=[{leafIdx:0,resources:[]}]}return function(e,t,n){for(var i=0;i<t.length;i++)for(var l=t[i],r=0;r<n.length;r++){var a=n[r];!l.resources[r]&&a.data&&(l.resources[r]=RV(e,a))}}(e,o,a),o}function LV(e,t){if(void 0!==t.rowIndex)return t.rowIndex;for(var n=0;n<e.length;n++)if(!e[n])return n;return e.length}var BV=function(e,t,n){return e.left<=t&&t<=e.left+e.width&&e.top<=n&&n<=e.top+e.height},VV=function(e,t){return e.left<=t&&t<=e.left+e.width},zV=function(e){return"".concat(e,"px")},jV=function(e){if(!e)return null;var t=e.getBoundingClientRect(),n=document.documentElement;return{top:t.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0),width:t.width,height:t.height}},HV=function(e){return"KENDO-RESIZE-SENSOR"===e.nodeName||yV(e,"k-loading-mask")},WV=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=zV(t[n]))};function UV(e,t,n){var i=e.get(t);return i&&i.value||n}var YV=function(e,t,n,i,l){var r=QA({recurrenceRule:tV(e,t.recurrenceRule),weekStart:l});if(!r.start){var a=tV(e,t.start);r.start=X_.fromLocalDate(a,i)}if(!r.end){var o=tV(e,t.end);r.end=X_.fromLocalDate(o,i)}var s=tV(e,t.recurrenceExceptions);s&&(r.exceptionDates=s.map((function(e){return X_.fromLocalDate(e,i)})));var u=IV(n.start),c=IV(n.end),h=function(e,t){var n=t.rangeStart,i=t.rangeEnd;if(!e)return{success:!0,errorMessage:"",events:[]};var l,r=e.freq,a=UA[r],o=e.start,s=function(e,t){return t.getTime()-e.getTime()}(e.start,e.end);if(e.start.getTime()>e.end.getTime())return{success:!1,errorMessage:"Invalid recurrence rule: Start date (".concat(e.start,")")+"is greater than End date ".concat(e.start),events:[]};if(!a)return{success:!1,errorMessage:'Invalid recurrence frequency "'.concat(r,'"'),events:[]};var u=[],c=e.bySetPosition,h=c?0:1,d=e.exceptionDates,f=n.toTimezone(o.timezone),p=f,v=i.toTimezone(o.timezone),g=e.count;e.until&&e.until.getTime()<v.getTime()&&(v=e.until.clone());var m=f.getHours(),y=f.getMinutes(),b=f.getSeconds(),k="yearly"===r||"monthly"===r||"weekly"===r;if(f.getTime()<o.getTime()||g||e.interval>1||k)f=o.clone();else{e.byHour||(m=o.getHours()),e.byMinute||(y=o.getMinutes()),e.bySecond||(b=o.getSeconds());var _=f.toUTCDate();_.setUTCHours(m,y,b,o.getMilliseconds()),f=X_.fromUTCDate(_,f.timezone)}if(e._startPeriod=f.clone(),c){if(f=function(e,t){var n=e.toUTCDate();switch(t.freq){case"yearly":n.setUTCFullYear(n.getFullYear(),0,1);break;case"monthly":n.setUTCFullYear(n.getFullYear(),n.getMonth(),1);break;case"weekly":vA(n,t.weekStart,-1)}return t.byHour&&n.setUTCHours(0),t.byMinute&&n.setUTCMinutes(0),t.bySecond&&n.setUTCSeconds(0),X_.fromUTCDate(n,e.timezone)}(f,e),v=XA(v,e),qA(v)-qA(f)<0){var w=v.toUTCDate();w.setUTCHours(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()),v=X_.fromUTCDate(w,v.timezone)}e._startPeriod=f.clone(),l=XA(f,e)}var x=qA(f);e._startTime=new Date(x);var C=f.toUTCDate();for(a.setup&&(a.setup(e,o,C),f=X_.fromUTCDate(C,f.timezone)),C=f.toUTCDate(),a.limit(C,v.toUTCDate(),e),f=X_.fromUTCDate(C,f.timezone);f<=v;){var S=f.addTime(s);if(((f>=p||S>p)&&!GA(d,f)||c)&&(u.push({start:YA(f),end:YA(S)}),"hourly"!==r&&"minutely"!==r&&"secondly"!==r||(x=qA(YA(f)),e._startTime=new Date(x))),c){if(C=f.toUTCDate(),a.next(C,e),a.limit(C,v.toUTCDate(),e),(f=X_.fromUTCDate(C,f.timezone))>l){var T=KA(u.slice(h),o,c);T=$A(T,d),u=u.slice(0,h).concat(T),l=XA(f,e),h=u.length}if(g&&g===h)break}else{if(g&&g===h)break;h+=1,C=f.toUTCDate(),a.next(C,e),a.limit(C,v.toUTCDate(),e),f=X_.fromUTCDate(C,f.timezone)}}return{success:!0,errorMessage:"",events:u}}(r,{rangeStart:X_.fromUTCDate(u,i),rangeEnd:X_.fromUTCDate(c,i)});if(!h.events.length)return[];var d=h.events.map((function(n){var i=function(e){var t={};return function e(t,n){for(var i in t)if(t.hasOwnProperty(i)){var l=t[i];Array.isArray(l)?n[i]=l.slice(0):!l||"object"!=typeof l||l instanceof Date?n[i]=l:(n[i]=n[i]||{},e(l,n[i]))}}(e,t),t}(e);return nV(i,t.id,0),nV(i,t.recurrenceId,tV(e,t.id)),nV(i,t.start,n.start.toLocalDate()),nV(i,t.end,n.end.toLocalDate()),i}));return[e].concat(_toConsumableArray(d))},qV=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.scheduler=t,this.changeDetector=n,this.intl=i,this.localDataChangesService=l,this.originalData=[],l&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.scheduler.dateChange.subscribe((function(t){return e.onDateChange(t)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}},{key:"rebind",value:function(){this.data=this.originalData,this.changeDetector.markForCheck()}},{key:"process",value:function(){var e=this;if(!this.dateRange)return[];var t=[],n=this.scheduler.modelFields;return this.originalData.forEach((function(i){if(tV(i,n.recurrenceRule)){var l=YV(i,n,e.dateRange,e.scheduler.timezone,e.intl.firstDay());t.push.apply(t,_toConsumableArray(l))}else t.push(i)})),t}},{key:"onDateChange",value:function(e){this.dateRange=e.dateRange,this.rebind()}},{key:"data",set:function(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.scheduler.events=this.process()}}]),e}(),GV=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),XV=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(GV),KV=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.popupService=t,this.toolbarService=n,this.localization=i,this.hostClasses=!0,this.subs=this.localization.changes.subscribe((function(e){_objectDestructuringEmpty(e),l.markForCheck()}))}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subs.unsubscribe(),this.closePopup()}},{key:"toggleSelectedDate",value:function(e,t){if(this.popupRef)this.closePopup();else{var n={anchor:e,content:t};this.localization.rtl&&(n.popupClass="k-rtl"),this.popupRef=this.popupService.open(n)}return!1}},{key:"selectDate",value:function(e){this.closePopup(),this.toolbarService.navigate({type:"select-date",date:e})}},{key:"prevClick",value:function(){return this.toolbarService.navigate({type:"prev"}),!1}},{key:"nextClick",value:function(){return this.toolbarService.navigate({type:"next"}),!1}},{key:"todayClick",value:function(){return this.toolbarService.navigate({type:"today"}),!1}},{key:"closePopup",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null)}},{key:"todayText",get:function(){return this.localization.get("today")}},{key:"calendarTodayText",get:function(){return this.localization.get("calendarToday")}},{key:"nextText",get:function(){return this.localization.get("nextTitle")}},{key:"previousText",get:function(){return this.localization.get("previousTitle")}},{key:"ctx",get:function(){return this.toolbarService.context}}]),e}(),$V=function(){function e(t){var n=this;_classCallCheck2(this,e),this.service=t,this.hostClasses=!0,this.navigate=new dr,this.templateContext={},this.subs=new C,this.subs.add(t.action.subscribe((function(e){return n.navigate.next(e)})))}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.subs.add(this.selectedDate.subscribe((function(t){return e.templateContext.selectedDate=t}))),this.subs.add(this.dateRange.subscribe((function(t){return e.templateContext.dateRange=t})))}},{key:"ngOnChanges",value:function(){this.service.context={dateRange:this.dateRange,selectedDate:this.selectedDate,views:this.views,selectedView:this.selectedView},Object.assign(this.templateContext,{views:this.views,selectedView:this.selectedView})}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}}]),e}(),ZV=function(){function e(t){_classCallCheck2(this,e),this.service=t,this.hostClasses=!0,this.expanded=!1}return _createClass2(e,[{key:"onClick",value:function(e){return this.ctx.selectedView!==e&&this.service.navigate({type:"view-change",view:e}),this.expanded=!1,!1}},{key:"onCurrentViewClick",value:function(e){return this.expanded=!this.expanded,!1}},{key:"isSelected",value:function(e){return this.ctx.selectedView===e}},{key:"ctx",get:function(){return this.service.context}},{key:"itemDisplay",get:function(){if(this.ctx.views&&1===this.ctx.views.length)return"list-item"}}]),e}(),QV=function e(){_classCallCheck2(this,e)},JV=function(e){return null},ez=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).localization=e,r.changeDetector=n,r.viewContext=i,r.viewState=l,r.schedulerOptions={},r.subs=r.localization.changes.subscribe((function(e){_objectDestructuringEmpty(e),n.markForCheck()})),r.subs.add(r.viewContext.optionsChange.subscribe(r.optionsChange.bind(_assertThisInitialized(r)))),r}return _inherits(t,e),_createClass2(t,[{key:"ngOnChanges",value:function(e){this.viewState.notifyOptionsChange()}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe()}},{key:"optionsChange",value:function(e){this.schedulerOptions=e}},{key:"viewSlotClass",get:function(){return ZB(this.slotClass)?this.slotClass:this.schedulerOptions.slotClass||JV}},{key:"viewEventClass",get:function(){return ZB(this.eventClass)?this.eventClass:this.schedulerOptions.eventClass}},{key:"viewEventStyles",get:function(){return ZB(this.eventStyles)?this.eventStyles:this.schedulerOptions.eventStyles}}]),t}(jB),tz=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"exports",value:function(){return[gV]}}]),e}(),nz=function e(){_classCallCheck2(this,e)},iz=function(){function e(){_classCallCheck2(this,e),this.count=0,this.items={}}return _createClass2(e,[{key:"addItem",value:function(e,t){this.items[e]||this.count++,this.items[e]=t}},{key:"removeItem",value:function(e,t){this.items[e]===t&&(delete this.items[e],this.count--)}},{key:"toArray",value:function(){var e=this;return Object.keys(this.items).map((function(t){return e.items[t]}))}},{key:"first",get:function(){if(this.count>0)return this.items[Object.keys(this.items)[0]]}},{key:"last",get:function(){if(this.count>0){var e=Object.keys(this.items);return this.items[e[e.length-1]]}}}]),e}(),lz=function(){function e(){_classCallCheck2(this,e),this.containerSize=0,this.slotsChange=new dr,this.groups=[]}return _createClass2(e,[{key:"registerItem",value:function(e){this.itemGroup(e).registerItem(e)}},{key:"unregisterItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.resourceIndex,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.index,i=this.groups[t];i&&i.unregisterItem(e,n)}},{key:"registerSlot",value:function(e){this.slotGroup(e).registerSlot(e)}},{key:"unregisterSlot",value:function(e){var t=this.groups[e.id.resourceIndex];t&&t.unregisterSlot(e)}},{key:"invalidate",value:function(){this.clearEmptyGroups(),this.cleanRanges(),this.slotsChange.emit(),this.forEachSlot((function(e){e.invalidate()}))}},{key:"cleanRanges",value:function(){this.groups.forEach((function(e){e.cleanRanges()}))}},{key:"clearEmptyGroups",value:function(){for(var e=this.groups,t=this.groups.length-1;t>0&&!e[t].hasSlots;)e.splice(t,1),t--}},{key:"itemGroup",value:function(e){var t=e.resourceIndex;return this.groups[t]||(this.groups[t]=this.createGroup(t)),this.groups[t]}},{key:"slotGroup",value:function(e){var t=e.id.resourceIndex;return this.groups[t]||(this.groups[t]=this.createGroup(t)),this.groups[t]}}]),e}(),rz=new Date(1980,0,1),az=new Date(1980,0,2),oz=function(){function e(t,n,i,l,r){_classCallCheck2(this,e),this.slotService=t,this.localization=n,this.focusService=i,this.element=l,this.renderer=r,this.className=!0,this.subs=new C}return _createClass2(e,[{key:"setStyles",value:function(e){var t=this.nativeElement;if(t)for(var n in e)e.hasOwnProperty(n)&&this.renderer.setStyle(t,n,e[n])}},{key:"toggle",value:function(e){this.setStyles({display:e?"block":"none"})}},{key:"reflow",value:function(){var e=this.rect;e&&this.setStyles({left:this.localization.rtl?"":"".concat(e.left,"px"),right:this.localization.rtl?"".concat(e.left,"px"):"",top:"".concat(e.top,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),display:"block"})}},{key:"ngOnInit",value:function(){var e=this;this.dragHint||this.subs.add(this.slotService.slotsChange.subscribe((function(){e.rect=null,e.setStyles({display:"none",width:0,left:0}),e.slotService.unregisterItem(e,e.resourceIndex,e.index),e.resourceIndex>=0&&e.slotService.registerItem(e)})))}},{key:"ngOnChanges",value:function(e){if(!this.dragHint&&zv(["resourceIndex","index"],e)){var t=e.resourceIndex,n=e.index;this.slotService.unregisterItem(this,t?t.previousValue:this.resourceIndex,n?n.previousValue:this.index),this.resourceIndex>=0?(this.slotService.registerItem(this),this.toggle(!0)):this.toggle(!1)}}},{key:"ngOnDestroy",value:function(){this.dragHint||(this.slotService.unregisterItem(this),this.subs.unsubscribe())}},{key:"taskIndex",get:function(){return this.item.index}},{key:"touchAction",get:function(){return this.editable&&!1!==this.editable.drag?"none":null}},{key:"eventTitle",get:function(){return"".concat((e=V_(this.item.startTime),t=V_(this.item.endTime),n=this.item.isAllDay,n?"".concat(ZC(e,{skeleton:"yMMMMEEEEd"})):"".concat(ZC(e,{skeleton:"yMMMMEEEEdhm"}),"\u2013").concat(ZC(t,"t"))),", ").concat(this.item.event.title);var e,t,n}},{key:"deleteMessage",get:function(){return this.localization.get("deleteTitle")}},{key:"resizable",get:function(){return this.editable&&!1!==this.editable.resize}},{key:"removable",get:function(){return this.editable&&!1!==this.editable.remove}},{key:"isRecurrence",get:function(){return e=this.item,Boolean(e.event&&e.event.recurrenceRule);var e}},{key:"isRecurrenceException",get:function(){return(e=this.item).event&&ZB(e.event.recurrenceId)&&!e.event.recurrenceRule;var e}},{key:"nativeElement",get:function(){if(this.element)return this.element.nativeElement}}]),e}(),sz=function(){function e(t){_classCallCheck2(this,e),this.changeDetector=t,this.changeDetector.detach()}return _createClass2(e,[{key:"detectChanges",value:function(){this.changeDetector.detectChanges()}}]),e}(),uz=function(){function e(t,n,i,l,r,a,o,s,u){_classCallCheck2(this,e),this.viewContext=t,this.viewState=n,this.intl=i,this.slotService=l,this.zone=r,this.renderer=a,this.element=o,this.pdfService=s,this.localization=u,this.items=new fs(null),this.horizontalResources=[],this.verticalResources=[],this.dragHints=[],this.resizeHints=[],this.getField=tV,this.changes=new fs(null),this.viewRangeChange=new fs(null),this.subs=new C,this.groupedResources=[],this.spans=[],this.domEvents=[],this.resourcesCache={},this.autoHeight=!1,this.rtl=!1,this.setSlotClass=this.setSlotClass.bind(this),this.setHintClass=this.setHintClass.bind(this)}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this,t=this.updateView.bind(this);this.resourcesByIndex=this.resourcesByIndex.bind(this),this.subs.add(this.viewContext.selectedDate.subscribe(this.onSelectDate.bind(this))),this.subs.add(this.viewContext.action.subscribe(this.onAction.bind(this))),this.subs.add(this.viewContext.execute.subscribe(this.execute.bind(this))),this.subs.add(this.viewContext.resize.subscribe((function(){e.toggleElement(!1),e.updateView()}))),this.subs.add(this.viewContext.optionsChange.subscribe(this.optionsChange.bind(this))),this.subs.add(this.changes.subscribe((function(){e.toggleElement(!1)}))),this.subs.add(Yu(this.viewContext.items,this.viewState.dateRange,this.viewRangeChange).pipe(te((function(t){var n=_slicedToArray(t,2),i=n[0],l=n[1];return e.createTasks(i,l)}))).subscribe((function(t){e.tasks=t,e.assignResources(),e.onTasksChange()}))),this.subs.add(Yu(this.items,this.changes,this.localization.changes).pipe(wc((function(){return e.onStable()}))).subscribe(t)),this.subs.add(this.pdfService.createElement.subscribe(this.createPDFElement.bind(this)))}},{key:"ngOnChanges",value:function(e){zv(["selectedDateFormat","selectedShortDateFormat"],e)&&this.viewState.notifyDateRange(this.dateRange(this.selectedDate)),e.eventHeight&&this.changes.next(null)}},{key:"ngAfterViewInit",value:function(){var e=this;this.bindEvents(),this.subs.add(this.localization.changes.subscribe((function(t){var n=t.rtl;e.rtl=n})))}},{key:"ngOnDestroy",value:function(){this.subs.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.domEvents=[],this.draggable&&(this.draggable.destroy(),this.draggable=null)}},{key:"itemIndex",value:function(e,t){return e}},{key:"resourcesByIndex",value:function(e){if(!this.resourcesCache[e]){for(var t=this.taskResources,n=[],i=e,l=0;l<t.length;l++){var r=t[l].data||[],a=Math.floor(i/this.spans[l]);n.push(r[a]),i-=a*this.spans[l]}this.resourcesCache[e]=n}return this.resourcesCache[e]}},{key:"dragResourcesByIndex",value:function(e){var t=this.resources||[],n=[];if(this.groupedResources.length)for(var i=this.resourcesByIndex(e).slice(0),l=this.taskResources,r=0;r<l.length;r++){var a=this.resources.indexOf(l[r]);a>=0&&(n[a]=i[r])}for(var o=0;o<t.length;o++)n[o]||(n[o]=RV(this.dragging.task.event,t[o]));return n}},{key:"getEventClasses",value:function(e,t,n){if(this.eventClass)return this.eventClass({event:e.event,resources:t,isAllDay:n})}},{key:"getEventStyles",value:function(e,t,n){var i={backgroundColor:t.color,borderColor:t.color};return this.eventStyles&&Object.assign(i,this.eventStyles({event:e.event,resources:t.resources,isAllDay:n})),i}},{key:"optionsChange",value:function(e){this.schedulerEventTemplate=e.eventTemplate,this.schedulerGroupHeaderTemplate=e.groupHeaderTemplate,this.min=e.min,this.max=e.max,this.editable=e.editable,this.timezone=e.timezone,e.changes&&!zv(["group","resources"],e.changes,!1)&&e.group===this.group&&e.resources===this.resources||(this.group=e.group,this.resources=e.resources,this.groupResources(),this.resourcesCache={},this.tasks&&this.tasks.length&&(this.assignResources(),this.onTasksChange()),this.changes.next(null))}},{key:"toggleElement",value:function(e){this.element&&this.renderer.setStyle(this.element.nativeElement,"display",e?"block":"none")}},{key:"onStable",value:function(){return this.zone.onStable.asObservable().pipe(gc(1))}},{key:"updateView",value:function(){this.slotService.invalidate(),this.toggleElement(!0),this.reflow(),this.viewState.notifyLayoutEnd()}},{key:"assignResources",value:function(){!function(e,t){for(var n=0;n<e.length;n++){var i=e[n];i.resources=NV(i.event,t)}}(this.tasks,{taskResources:this.taskResources,hasGroups:this.groupedResources.length>0,allResources:this.resources,spans:this.spans})}},{key:"bindEvents",value:function(){var e=this,t=this.content.nativeElement,n=this.element.nativeElement;this.zone.runOutsideAngular((function(){var i;e.times&&e.subs.add(he(Lv(e.times.nativeElement,"mousewheel"),Lv(e.times.nativeElement,"DOMMouseScroll")).pipe($u((function(e){return!e.ctrlKey})),lc((i=t,function(e){var t=kV(e),n=i.scrollTop;0===n&&0<t||i.scrollHeight<=i.offsetHeight+n&&t<0||e.preventDefault()})),te(kV)).subscribe((function(e){return t.scrollTop-=e}))),e.subs.add(he(lV(t),Lv(t,"contextmenu")).subscribe((function(t){return e.onClick(t)}))),e.subs.add(rV(t).subscribe((function(t){return e.onClick(t,"dblclick")}))),e.subs.add(Lv(n,"keydown").subscribe((function(t){return e.onKeydown(t)}))),e.domEvents.push(e.renderer.listen(t,"scroll",(function(){e.headerWrap&&(e.headerWrap.nativeElement.scrollLeft=t.scrollLeft),e.times&&(e.times.nativeElement.scrollTop=t.scrollTop)}))),e.draggable=new Iv({press:e.onPress.bind(e),drag:e.onDrag.bind(e),release:e.onRelease.bind(e)}),e.draggable.bindTo(n)}))}},{key:"onPress",value:function(e){var t=this.editable&&!1!==this.editable.resize,n=this.editable&&!1!==this.editable.drag,i=e.originalEvent.target;if(yV(i,"k-resize-handle")){if(!t)return;this.initResize(e)}else if(n){var l=this.targetTask(i);l&&(e.isTouch||e.originalEvent.preventDefault(),this.pressLocation={x:e.pageX,y:e.pageY},this.pressTarget=l)}this.dragArgs=e}},{key:"onDrag",value:function(e){this.resizing?(this.resize(e),this.scrollContainer(this.resize,e)):(this.initDrag(e),this.dragging&&(this.drag(e),e.originalEvent.preventDefault(),this.scrollContainer(this.drag,e))),this.dragArgs=e}},{key:"onRelease",value:function(){clearInterval(this.scrollInterval);var e=this.resizing,t=this.dragging;e&&(this.emitEvent("resizeEnd",{event:e.task.event,dataItem:e.task.event.dataItem,start:this.convertDate(e.start),end:this.convertDate(e.end)}),this.resizeHints=[]),t&&(this.emitEvent("dragEnd",{event:t.task.event,dataItem:t.task.event.dataItem,start:t.start?this.convertDate(t.start):t.task.start.toLocalDate(),end:t.end?this.convertDate(t.end):t.task.end.toLocalDate(),resources:t.resources,isAllDay:this.draggedIsAllDay(t.task,t.slot)}),this.dragHints=[]),(e||t)&&(this.removeSlotClass(),this.updateHintContainer(),this.resizing=null,this.dragging=null),this.container=null,this.dragArgs=null,this.pressLocation=null,this.pressTarget=null}},{key:"setHintClass",value:function(e){(this.dragging||this.resizing).hintClass=e}},{key:"updateHintClass",value:function(){var e=this.dragging||this.resizing,t=!1;this.hints.forEach((function(n){n.class!==e.hintClass&&(n.class=e.hintClass,t=!0)})),t&&this.updateHintContainer()}},{key:"removeHintClass",value:function(){(this.dragging||this.resizing).hintClass=null}},{key:"setSlotClass",value:function(e){var t=this.dragging||this.resizing;t.slotClass=e,this.renderer.addClass(t.slot.nativeElement,t.slotClass)}},{key:"removeSlotClass",value:function(){var e=this.dragging||this.resizing;e.slotClass&&(this.renderer.removeClass(e.slot.nativeElement,e.slotClass),e.slotClass=null)}},{key:"initDrag",value:function(e){if(!this.dragging&&this.pressLocation&&(o=this.pressLocation.x,s=this.pressLocation.y,u=e.pageX,c=e.pageY,Math.sqrt(Math.pow(o-u,2)+Math.pow(s-c,2))>=10)){var t=this.pressTarget,n=t.task;if(this.emitEvent("dragStart",{event:n.event,dataItem:n.event.dataItem}))return this.pressLocation=null,void(this.pressTarget=null);this.dragging=t,this.updateDragContainer(e);var i=this.coordinatesOffset(this.pressLocation.x,this.pressLocation.y),l=i.x,r=i.y,a=this.slotByPosition(l,r,this.container);this.dragging.offset={start:a.start.getTime()-n.start.toUTCDate().getTime(),end:n.end.toUTCDate().getTime()-a.start.getTime()},this.dragging.slot=a,this.dragging.startResources=this.dragging.resourceItems=this.dragResourcesByIndex(a.id.resourceIndex),this.dragging.resources=this.resourceValues(n,this.dragging.startResources)}var o,s,u,c}},{key:"updateDragContainer",value:function(e){this.container||(this.container=this.content.nativeElement,this.containerOffset=jV(this.container))}},{key:"drag",value:function(e){if(this.updateDragContainer(e),this.container){var t=this.coordinatesOffset(e.pageX,e.pageY),n=t.x,i=t.y,l=this.slotByPosition(n,i,this.container);if(l&&(l!==this.dragging.slot||!this.dragHints.length)){var r,a,o=this.dragging,s=o.slot,u=o.task,c=this.dragRanges(l),h=c.ranges,d=c.start,f=c.end,p=c.isAllDay;if(s.id.resourceIndex!==l.id.resourceIndex?(r=this.dragResourcesByIndex(l.id.resourceIndex),a=this.resourceValues(u,r)):(r=o.resourceItems,a=o.resources),this.removeSlotClass(),o.start=d,o.end=f,o.slot=l,o.resources=a,o.resourceItems=r,o.hintClass=null,this.emitEvent("drag",{event:u.event,dataItem:u.event.dataItem,start:this.convertDate(d),end:this.convertDate(f),resources:a,isAllDay:p,setHintClass:this.setHintClass,setSlotClass:this.setSlotClass}))return void this.updateHintClass();var v=this.dragResourceColor(u,r),g=this.dragHintClasses();this.dragHints=[];for(var m=0;m<h.length;m++){var y=h[m],b=y[0],k=this.dragHintSize(b,y[y.length-1]),_=b.rect.left,w={top:zV(b.rect.top),left:this.localization.rtl?"":zV(_),right:this.localization.rtl?zV(_):"",width:k.width,height:k.height,backgroundColor:v,borderColor:v};this.eventStyles&&Object.assign(w,this.eventStyles(this.dragHintEventStyleArgs())),this.dragHints.push({item:Object.assign({},this.dragging.task,{startTime:d,endTime:f}),resources:r,class:g,style:w})}this.updateHintContainer()}}}},{key:"dragHintClasses",value:function(){var e=this.dragging.hintClass,t=[];if(e&&t.push(e),this.eventClass){var n=this.eventClass(this.dragHintEventStyleArgs());t=t.concat(function(e){var t=[];if("string"==typeof e)t.push(e);else if(function(e){return Array.isArray(e)}(e))t.push.apply(t,e);else if(function(e){return"object"==typeof e}(e))for(var n in e)e.hasOwnProperty(n)&&e[n]&&t.push(n);return t}(n))}return t}},{key:"dragHintEventStyleArgs",value:function(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems}}},{key:"draggedIsAllDay",value:function(e,t){return Boolean(e.event.isAllDay)}},{key:"dragResourceColor",value:function(e,t){if(this.groupedResources.length){var n=this.resources.indexOf(this.groupedResources[0]);return tV(t[n],this.groupedResources[0].colorField)}return this.resources&&this.resources.length?e.resources[0].color:""}},{key:"resourceValues",value:function(e,t){for(var n={},i=0;i<t.length;i++){var l=this.resources[i],r=void 0;Array.isArray(t[i])?r=tV(e.event,l.field):(r=tV(t[i],l.valueField),l.multiple&&(r=tV(this.dragging.startResources[i],l.valueField)!==r?[r]:tV(e.event.dataItem,l.field))),nV(n,l.field,r)}return n}},{key:"initResize",value:function(e){e.originalEvent.preventDefault();var t=e.originalEvent.target,n=this.targetTask(t);if(!this.emitEvent("resizeStart",{event:n.task.event,dataItem:n.task.event.dataItem})){this.resizing=n,n.start=n.task.start.toUTCDate(),n.end=n.task.end.toUTCDate(),n.direction=yV(t,"k-resize-n")?"n":yV(t,"k-resize-s")?"s":yV(t,"k-resize-w")?"w":"e",this.updateDragContainer(e);var i=this.coordinatesOffset(e.pageX,e.pageY),l=i.x,r=i.y;n.slot=this.slotByPosition(l,r,this.container),n.offset={start:n.task.start.toUTCDate().getTime()-n.slot.start.getTime(),end:n.task.end.toUTCDate().getTime()-n.slot.start.getTime()}}}},{key:"resize",value:function(e){var t=this.coordinatesOffset(e.pageX,e.pageY),n=t.x,i=t.y,l=this.resizing,r=l.direction,a=l.task,o=l.offset,s=this.slotService.groupSlotByPosition(l.slot,n,i);if(s&&s!==l.slot){this.removeSlotClass();var u=this.slotService.resizeRanges(s,a,"w"===r||"n"===r,o),c=u.start,h=u.end,d=u.ranges;l.hintClass=null,l.start=c,l.end=h,l.slot=s,this.emitEvent("resize",{event:a.event,dataItem:a.event.dataItem,start:this.convertDate(c),end:this.convertDate(h),setHintClass:this.setHintClass,setSlotClass:this.setSlotClass})?this.updateHintClass():(this.updateResizeHints(d,c,h),this.updateHintContainer())}}},{key:"updateResizeHints",value:function(e,t,n){var i=this.resizing,l=i.direction,r="w"===l||"e"===l,a="w"===l||"n"===l;this.resizeHints=[];for(var o=0;o<e.length;o++){var s=e[o],u=s[0],c=s[s.length-1],h=0===o,d=o===e.length-1;this.resizeHints.push({first:h,last:d,rect:{left:u.rect.left,top:u.top,height:r?u.height:Math.abs(c.rect.top-u.rect.top)+c.rect.height,width:r?Math.abs(c.rect.left-u.rect.left)+c.rect.width:u.width},start:h&&!a?i.start:u.start,end:d&&a?i.end:c.end,class:i.hintClass})}}},{key:"coordinatesOffset",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.container,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.containerOffset,l=e-i.left+n.scrollLeft;return{x:this.localization.rtl?this.slotService.containerSize-l:l,y:t-i.top+n.scrollTop}}},{key:"scrollContainer",value:function(e,t){var n=this;clearInterval(this.scrollInterval);var i=this.container;if(i){var l=t.pageY-this.containerOffset.top,r=Math.abs(i.offsetHeight-l),a=t.pageY-this.dragArgs.pageY,o=t.pageX-this.containerOffset.left,s=Math.abs(i.offsetWidth-o),u=t.pageX-this.dragArgs.pageX,c=!1,h=0,d=0;r<60&&i.scrollTop+i.offsetHeight<i.scrollHeight&&a>0?(c=!0,d=15,this.container.scrollTop+=60-r):l<60&&i.scrollTop>0&&a<0&&(c=!0,d=-15,this.container.scrollTop-=60-l),s<60&&i.scrollLeft+i.offsetWidth<i.scrollWidth&&u>0?(c=!0,h=15,this.container.scrollLeft+=60-s):o<60&&i.scrollLeft>0&&a<0&&(c=!0,h=-15,this.container.scrollLeft-=60-o),c&&(this.scrollInterval=setInterval((function(){n.container?(n.container.scrollLeft+=h,n.container.scrollTop+=d,e.call(n,t)):clearInterval(n.scrollInterval)}),50))}}},{key:"emitEvent",value:function(e,t){return this.viewState.emitEvent(e,t),t.prevented}},{key:"targetTask",value:function(e){var t=bV(e,(function(e){return e.hasAttribute("data-task-index")}),this.element.nativeElement);if(t){var n=parseInt(t.getAttribute("data-task-index"),10);return{target:t,task:this.tasks.find((function(e){return e.index===n}))}}}},{key:"updateHintContainer",value:function(){this.hintContainer&&this.hintContainer.detectChanges()}},{key:"convertDate",value:function(e){return X_.fromUTCDate(e,this.timezone).toLocalDate()}},{key:"onClick",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.type;this.emitSlotEvent(e,t),this.emitTaskEvent(e,t)}},{key:"emitSlotEvent",value:function(e,t){var n=bV(e.target,(function(e){return e.hasAttribute("data-slot-index")}),this.element.nativeElement);if(n){var i=n.getAttribute("data-slot-index"),l="dblclick"===t?"slotDblClick":"slotClick",r=this.slotByIndex(i,e);this.viewState.emitEvent(l,{type:t,slot:r,start:this.convertDate(r.start),end:this.convertDate(r.end),isAllDay:r.isDaySlot,originalEvent:e,resources:this.resources&&this.resources.length?this.resourcesByIndex(r.id.resourceIndex):[]})}}},{key:"emitTaskEvent",value:function(e,t){var n=this.targetTask(e.target);if(n){var i=n.task,l="dblclick"===t;"click"===t&&bV(e.target,(function(e){return yV(e,"k-event-delete")}),n.target)?(e.preventDefault(),this.viewState.emitEvent("remove",{event:i.event,dataItem:i.event.dataItem})):(this.viewState.emitEvent(l?"eventDblClick":"eventClick",{type:t,event:i.event,originalEvent:e}),n.target.focus())}}},{key:"onKeydown",value:function(e){var t=this.targetTask(e.target);if(t){var n=t.task;this.viewState.emitEvent("eventKeydown",{event:n.event,dataItem:n.event.dataItem,originalEvent:e})}}},{key:"syncTables",value:function(){if(this.timesTable&&this.renderer.setStyle(this.timesTable.nativeElement,"height","".concat(this.contentTable.nativeElement.offsetHeight,"px")),this.header&&(this.renderer.setStyle(this.header.nativeElement,this.localization.rtl?"padding-left":"padding-right","".concat(xV(this.content.nativeElement,"vertical")?wV()-1:0,"px")),this.renderer.setStyle(this.header.nativeElement,this.localization.rtl?"padding-right":"padding-left","0px")),this.times){var e=this.times.nativeElement;this.timesHeader.nativeElement.style.width="".concat(e.offsetWidth,"px"),this.renderer.setStyle(e,"height","".concat(("auto"===this.contentHeight?this.content.nativeElement.offsetHeight:this.contentHeight)-(xV(this.content.nativeElement,"horizontal")?wV():0),"px")),e.scrollTop=this.content.nativeElement.scrollTop}}},{key:"updateContentHeight",value:function(){var e=this.element.nativeElement,t=e.parentNode,n=this.content.nativeElement,i=this.autoHeight||!t.style.height,l=n.scrollLeft,r=n.scrollTop;if(this.renderer.setStyle(n,"height",""),this.times&&this.renderer.setStyle(this.times.nativeElement,"height",""),i)this.contentHeight="auto";else{for(var a=t.clientHeight,o=0;o<t.children.length;o++){var s=t.children[o];s===e||HV(s)||(a-=s.offsetHeight)}this.renderer.setStyle(n,"height","".concat(a-=this.headerWrap?this.headerWrap.nativeElement.offsetHeight:0,"px")),this.contentHeight=a,n.scrollLeft=l,n.scrollTop=r}}},{key:"groupResources",value:function(){var e=this.group||{};this.groupedResources=eV(e,this.resources||[]),"vertical"!==e.orientation?(this.horizontalResources=this.groupedResources,this.verticalResources=[]):(this.verticalResources=this.groupedResources,this.horizontalResources=[]),this.spans=this.resourceSpans()}},{key:"resourceSpans",value:function(){for(var e=[1],t=this.groupedResources,n=1,i=t.length-1;i>0;i--)e.unshift(n*=(t[i].data||[]).length||1);return e}},{key:"isInRange",value:function(e){var t=this.dateRange(e);return(!this.min||this.min<t.end)&&(!this.max||t.start<=this.max)}},{key:"createPDFElement",value:function(){var e=this.contentHeight,t=this.content.nativeElement.scrollTop;"auto"!==e&&(this.autoHeight=!0,this.updateView());var n=this.element.nativeElement.cloneNode(!0);n.style.width="".concat(this.pdfWidth(),"px"),"auto"!==e&&(this.autoHeight=!1,this.updateView()),this.pdfService.elementReady.emit({element:n}),this.content.nativeElement.scrollTop=t}},{key:"pdfWidth",value:function(){return this.element.nativeElement.offsetWidth}},{key:"containerByPosition",value:function(e){var t=e.x,n=e.y,i=this.content.nativeElement,l=jV(i);if(l.top<=n&&n<=l.top+l.height&&l.left<=t&&t<=l.left+l.width)return{element:i,offset:l}}},{key:"execute",value:function(e){if("slotByPosition"===e.name){var t=this.containerByPosition(e.args);if(t){var n=this.coordinatesOffset(e.args.x,e.args.y,t.element,t.offset),i=this.slotByPosition(n.x,n.y,t.element);e.result(this.slotFields(i))}}else if("eventFromElement"===e.name){var l=this.targetTask(e.args.element);l&&e.result(l.task.event)}}},{key:"slotFields",value:function(e){return{element:e.element,resources:this.groupedResources.length?this.resourcesByIndex(e.id.resourceIndex):[],start:this.convertDate(e.start),end:this.convertDate(e.end)}}},{key:"eventTemplateRef",get:function(){return this.\u0435ventTemplate||(this.schedulerEventTemplate||{}).templateRef}},{key:"groupHeaderTemplateRef",get:function(){return this.groupHeaderTemplate||(this.schedulerGroupHeaderTemplate||{}).templateRef}},{key:"hints",get:function(){return this.dragging?this.dragHints:this.resizeHints}},{key:"taskResources",get:function(){return this.groupedResources.length?this.groupedResources:this.resources&&this.resources.length?[this.resources[0]]:[{}]}}]),e}(),cz=function(){function e(t,n,i){_classCallCheck2(this,e),this.element=t,this.slotService=n,this.localization=i,this._rect=null}return _createClass2(e,[{key:"ngOnInit",value:function(){this.slotService.registerSlot(this)}},{key:"ngOnDestroy",value:function(){this.slotService.unregisterSlot(this)}},{key:"invalidate",value:function(){this._rect=null}},{key:"slotIndex",get:function(){return this.key}},{key:"rect",get:function(){if(this._rect)return this._rect;var e=this.nativeElement;return this._rect={left:this.localization.rtl?this.slotService.containerSize-(e.offsetLeft+e.clientWidth):e.offsetLeft,top:e.offsetTop,width:e.clientWidth,height:e.clientHeight},this._rect}},{key:"top",get:function(){return this.element?this.nativeElement.offsetTop:0}},{key:"padding",get:function(){return this.element&&Bv()?2*parseInt(window.getComputedStyle(this.nativeElement).paddingTop,10):0}},{key:"height",get:function(){return this.element?this.nativeElement.offsetHeight:0},set:function(e){this.element&&(this.nativeElement.style.height="".concat(e,"px")),this._rect&&(this._rect.height=e)}},{key:"width",get:function(){return this.element?this.nativeElement.offsetWidth:0}},{key:"key",get:function(){return"".concat(this.id.resourceIndex,":").concat(this.id.rangeIndex,":").concat(this.id.index)}},{key:"nativeElement",get:function(){return this.element.nativeElement}}]),e}(),hz=function(){function e(){_classCallCheck2(this,e),this.hostClasses=!0,this.itemClick=new dr}return _createClass2(e,[{key:"onItemClick",value:function(e,t){e.preventDefault(),this.itemClick.emit(t)}}]),e}(),dz=function(){function e(t,n){_classCallCheck2(this,e),this.footer=t,this.localization=n,this.showWorkHours=!1,this.footerItems=[{cssClass:"k-scheduler-fullday",iconClass:"k-i-clock",text:""}]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.toggleWorkHours(),this.footer.items=this.footerItems}},{key:"ngOnChanges",value:function(){this.toggleWorkHours()}},{key:"toggleWorkHours",value:function(){this.footerItems[0].text=this.localization.get(this.showWorkHours?"showFullDay":"showWorkDay")}}]),e}(),fz=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length-1;_classCallCheck2(this,e),this.resources=t,this.lastIndex=n}return _createClass2(e,[{key:iV,value:regeneratorRuntime.mark((function e(){var t,n,i,l,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=this.resources,n=Math.max(0,this.lastIndex),t&&t.length||(t=[{}]),i=t[n].data||[],l=i.length,r=1,a=0;a<=n;a++)r*=(t[a].data||[]).length||1;o=0;case 7:if(!(o<r)){e.next=13;break}return e.next=10,i[o%l];case 10:o++,e.next=7;break;case 13:case"end":return e.stop()}}),e,this)}))}]),e}(),pz=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return new fz(e,t)}}]),e}(),vz=function(){function e(){_classCallCheck2(this,e),this.marqueeClasses=!0}return _createClass2(e,[{key:"left",get:function(){return this.hint.rect.left}},{key:"top",get:function(){return this.hint.rect.top}},{key:"width",get:function(){return this.hint.rect.width}},{key:"height",get:function(){return this.hint.rect.height}},{key:"start",get:function(){return V_(this.hint.start)}},{key:"end",get:function(){return V_(this.hint.end)}}]),e}(),gz=function e(){_classCallCheck2(this,e)},mz=function e(){_classCallCheck2(this,e)},yz=function(e){function t(e,n,i,l){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))}return _inherits(t,e),_createClass2(t,[{key:"viewSlotFill",get:function(){return this.optionValue("slotFill")}}]),t}(function(e){function t(e,n,i,l){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))}return _inherits(t,e),_createClass2(t,[{key:"optionValue",value:function(e){return ZB(this[e])?this[e]:this.schedulerOptions[e]}},{key:"viewEventHeight",get:function(){return this.optionValue("eventHeight")||25}},{key:"shouldShowWorkHours",get:function(){return this.optionValue("showWorkHours")}},{key:"viewStartTime",get:function(){return this.optionValue("startTime")}},{key:"viewEndTime",get:function(){return this.optionValue("endTime")}},{key:"viewWorkDayStart",get:function(){return this.optionValue("workDayStart")}},{key:"viewWorkDayEnd",get:function(){return this.optionValue("workDayEnd")}},{key:"viewWorkWeekStart",get:function(){return this.optionValue("workWeekStart")}},{key:"viewWorkWeekEnd",get:function(){return this.optionValue("workWeekEnd")}},{key:"viewSlotDuration",get:function(){return this.optionValue("slotDuration")}},{key:"viewSlotDivisions",get:function(){return this.optionValue("slotDivisions")}},{key:"viewCurrentTimeMarker",get:function(){return this.optionValue("currentTimeMarker")}},{key:"viewScrollTime",get:function(){return this.optionValue("scrollTime")}}]),t}(ez)),bz=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).selectedDateFormat="{0:D}",r.selectedShortDateFormat="{0:d}",r.name="day",r}return _inherits(t,e),_createClass2(t,[{key:"title",get:function(){return this.localization.get("dayViewTitle")}}]),t}(yz),kz=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l))).numberOfDays=1,r.name="multiDay",r}return _inherits(t,e),_createClass2(t,[{key:"selectedDateFormat",set:function(e){this.dateFormat=e},get:function(){return this.dateFormat||this.defaultDateFormat}},{key:"selectedShortDateFormat",set:function(e){this.shortDateFormat=e},get:function(){return this.shortDateFormat||this.defaultShortDateFormat}},{key:"title",get:function(){return this.localization.get("multiDayViewTitle")}},{key:"defaultDateFormat",get:function(){return 1===this.numberOfDays?"{0:D}":"{0:D} - {1:D}"}},{key:"defaultShortDateFormat",get:function(){return 1===this.numberOfDays?"{0:d}":"{0:d} - {1:d}"}}]),t}(bz),_z=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n,i,l,r))).intl=e,a.selectedDateFormat="{0:D} - {1:D}",a.selectedShortDateFormat="{0:d} - {1:d}",a.name="week",a.getStartDate=a.getStartDate.bind(_assertThisInitialized(a)),a}return _inherits(t,e),_createClass2(t,[{key:"getStartDate",value:function(e){return J_(T_(e),this.intl.firstDay())}},{key:"title",get:function(){return this.localization.get("weekViewTitle")}}]),t}(yz),wz=function(e){function t(e,n,i,l,r){var a;return _classCallCheck2(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i,l,r))).name="workWeek",a.getNextDate=a.getNextDate.bind(_assertThisInitialized(a)),a}return _inherits(t,e),_createClass2(t,[{key:"getStartDate",value:function(e){return J_(T_(e),this.viewWorkWeekStart)}},{key:"getNextDate",value:function(e,t,n){return T_(K_(e,7*t))}},{key:"title",get:function(){return this.localization.get("workWeekViewTitle")}},{key:"numberOfDays",get:function(){return this.viewWorkWeekStart>this.viewWorkWeekEnd?7-this.viewWorkWeekStart+this.viewWorkWeekEnd+1:this.viewWorkWeekEnd-this.viewWorkWeekStart+1}}]),t}(_z),xz=10,Cz=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.start.getTime()<=t.getTime()?(n?e.height:e.width)*((t.getTime()-e.start.getTime())/(e.end.getTime()-e.start.getTime())):0},Sz=function(e,t){var n=QB(e.columnIndex)?e.columnIndex:Number.MAX_VALUE,i=QB(t.columnIndex)?t.columnIndex:Number.MAX_VALUE;return n===i?e.item.startTime.getTime()-t.item.startTime.getTime():n-i};function Tz(e,t){if(void 0!==t.rowIndex)return t.rowIndex;for(var n=0;n<e.length;n++){var i=e[n];if(!i||!SV(t.item.startTime,t.item.endTime,i.item.startTime,i.item.endTime))return n}return e.length}function Pz(e,t,n,i,l){var r=e[0].padding;if(!t.length)return{height:n-r};t.forEach((function(e){e.rowIndex=void 0,e.rect={height:i,width:0}}));var a=WI(t,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]),o={};a.forEach((function(t){return e.filter((function(e){return SV(t.item.startTime,t.item.endTime,e.start,e.end)})).forEach((function(e){var n=o[e.key]=o[e.key]||{rows:[],slot:e,events:[]};t.rowIndex=l(n.rows,t),n.rows[t.rowIndex]=t,n.events.push(t)}))}));var s=e[0].top,u=0;return Object.keys(o).forEach((function(e){for(var t=o[e].events,n=0,i=0;i<t.length;i++){var l=t[i];l&&(l.rect.top=s+l.rowIndex*(xz+l.rect.height),n=Math.max(n,l.rect.top-s+l.rect.height))}u=Math.max(n,u)})),{height:u+=n-r,slotItems:o}}function Mz(e,t,n){Object.keys(e).forEach((function(t){for(var i=e[t],l=i.slot,r=i.events,a=l.rect,o=0;o<r.length;o++){var s=r[o];if(s){QB(s.rect.left)||(s.rect.left=l.rect.left+(n?Cz(l,s.item.startTime,!1):0));var u=n&&s.item.endTime.getTime()<l.end.getTime()?Cz(l,s.item.endTime,!1):a.width;s.rect.width=l.rect.left+u-s.rect.left}}})),t.forEach((function(e){e.reflow()}))}var Az=function(){function e(t){_classCallCheck2(this,e),this.index=t,this.slotMap=new iz,this.itemMap=new iz}return _createClass2(e,[{key:"registerItem",value:function(e){this.itemMap.addItem(e.item.index,e)}},{key:"unregisterItem",value:function(e,t){this.itemMap.removeItem(t,e)}},{key:"registerSlot",value:function(e){this.slotMap.addItem(e.id.index,e)}},{key:"unregisterSlot",value:function(e){this.slotMap.removeItem(e.id.index,e)}},{key:"layout",value:function(e){var t=this.items;if(t.length){var n=Math.max(Math.min(e.fill||.9,1),.1),i=WI(t,[{field:"item.startTime",dir:"asc"},{field:"item.endTime",dir:"desc"}]);t.forEach((function(e,t){e.rect=null,e.columnIndex=void 0}));var l={},r=this.slots;i.forEach((function(e){return r.filter((function(t){return SV(e.item.startTime,e.item.endTime,t.start,t.end)})).forEach((function(t){var n=l[t.key]=l[t.key]||{events:[]};n.slot=t,n.events.push(e)}))}));var a=Object.keys(l);!function(e,t){var n=0,i=[];e.forEach((function(e){var l=t[e],r=l.slot,a=l.events,o=a.length,s=!0;a.sort(Sz),n=Math.max(o,n),i.push(r);for(var u=function(e){var t=a[e];if(s=s&&t.item.endTime.getTime()<=r.end.getTime(),!QB(t.columnIndex)){t.rect={top:r.rect.top+Cz(r,t.item.startTime)},t.columnIndex=e,t.lastColumn=!0;for(var n=function(n,i){var r,o,s=a[n];return s.columnIndex>i+1?(t.columnIndex=i+1,t.lastColumn=!1,a.splice(e,1),a.splice(t.columnIndex,0,t),l=i,"break"):SV(t.item.startTime,t.item.endTime,s.item.startTime,s.item.endTime)||(r=s.rect.top,o=t.rect.top,r<=o&&o<=r+25)?(i=s.columnIndex,s.lastColumn=!1,void(l=i)):(t.columnIndex=n,t.lastColumn=!a.some((function(e){return e.columnIndex&&n<e.columnIndex&&SV(t.item.startTime,t.item.endTime,e.item.startTime,e.item.endTime)})),a.splice(e,1),a.splice(n,0,t),l=i,"break")},i=0,l=-1;i<e;i++){if("break"===n(i,l))break}}},c=0;c<o;c++)u(c);s&&(i.forEach((function(e){return e.columns=n})),i=[],n=0)})),i.forEach((function(e){return e.columns=n}))}(a,l),a.forEach((function(e){var t=l[e],i=t.slot,r=t.events,a=i.rect,o=a.left,s=i.columns,u=a.width*n-2*(s-1)-2,c=o+2,h=u/s,d=c+u+2*(s-1);r.forEach((function(e){QB(e.rect.left)||(e.rect.left=c+e.columnIndex*(h+2),e.rect.width=e.lastColumn?d-e.rect.left:h,e.origin={left:o,right:o+a.width});var t=i.end.getTime()<=e.item.endTime.getTime()?a.height:Cz(i,e.item.endTime);e.rect.height=a.top+t-e.rect.top}))})),i.forEach((function(e){return e.reflow()}))}}},{key:"initDaySlots",value:function(e,t){var n=this.slots;if(n.length){var i=Pz(n,this.items,e,t,LV),l=i.height,r=i.slotItems;this.setSlotsHeight(l),this.slotItems=r}}},{key:"setDayOffsets",value:function(){this.itemMap.count&&this.slotItems&&(Mz(this.slotItems,this.items),this.slotItems=null)}},{key:"setSlotsHeight",value:function(e){this.firstSlot.height=e}},{key:"slots",get:function(){return this.slotMap.toArray()}},{key:"firstSlot",get:function(){return this.slotMap.first}},{key:"lastSlot",get:function(){return this.slotMap.last}},{key:"items",get:function(){return this.itemMap.toArray()}},{key:"rect",get:function(){var e=this.firstSlot.rect,t=this.lastSlot.rect;return{left:e.left,top:e.top,width:t.left-e.left+t.width,height:t.top-e.top+t.height}}},{key:"start",get:function(){var e=this.slotMap.first;return e?e.start:null}},{key:"end",get:function(){var e=this.slotMap.last;return e?e.end:null}},{key:"hasSlots",get:function(){return this.slotMap.count>0}},{key:"hasItems",get:function(){return this.itemMap.count>0}}]),e}(),Iz=function(){function e(t){_classCallCheck2(this,e),this.index=t,this.dayRanges=[],this.timeRanges=[]}return _createClass2(e,[{key:"registerSlot",value:function(e){this.slotRange(e).registerSlot(e)}},{key:"unregisterSlot",value:function(e){var t=this.slotRange(e);t.unregisterSlot(e),t.hasSlots||delete this.slotRanges(e)[e.id.rangeIndex]}},{key:"registerItem",value:function(e){var t=this.itemRange(e);t?(t.registerItem(e),e.rangeIndex=t.index):(e.rangeIndex=void 0,e.toggle(!1))}},{key:"unregisterItem",value:function(e,t){if(void 0!==e.rangeIndex){var n=e.item.isAllDay?this.dayRanges:this.timeRanges;n[e.rangeIndex]&&n[e.rangeIndex].unregisterItem(e,t),e.rangeIndex=void 0}}},{key:"forEachDateRange",value:function(e){for(var t=0;t<this.dayRanges.length;t++)e(this.dayRanges[t])}},{key:"forEachTimeRange",value:function(e){for(var t=0;t<this.timeRanges.length;t++)e(this.timeRanges[t])}},{key:"slotRange",value:function(e){var t=this.slotRanges(e),n=e.id.rangeIndex;return t[n]||(t[n]=new Az(n)),t[n]}},{key:"slotRanges",value:function(e){return e.isDaySlot?this.dayRanges:this.timeRanges}},{key:"initTimeSlots",value:function(e,t,n){var i=this.slots;if(i.length){var l=Pz(i,this.items,e,t,Tz),r=l.height,a=l.slotItems;this.setSlotsHeight(Math.max(r,n)),this.slotItems=a}}},{key:"setTimelineOffsets",value:function(){var e=this.items;this.slotItems&&e.length&&(Mz(this.slotItems,e,!0),this.slotItems=null)}},{key:"setSlotsHeight",value:function(e){this.timeRanges[0].setSlotsHeight(e)}},{key:"cleanRanges",value:function(){this.dayRanges=this.dayRanges.filter((function(e){return Boolean(e)})),this.timeRanges=this.timeRanges.filter((function(e){return Boolean(e)}))}},{key:"itemRange",value:function(e){var t=e.item,n=t.isAllDay?this.dayRanges:this.timeRanges;return QB(t.rangeIndex)?n[t.rangeIndex]:n.find((function(e){return SV(t.startTime,t.endTime,e.start,e.end)}))}},{key:"items",get:function(){return this.timeRanges.reduce((function(e,t){return e.concat(t.items)}),[])}},{key:"slots",get:function(){return this.timeRanges.reduce((function(e,t){return e.concat(t.slots)}),[])}},{key:"hasSlots",get:function(){return Boolean(this.dayRanges.find((function(e){return e&&e.hasSlots}))||this.timeRanges.find((function(e){return e&&e.hasSlots})))}}]),e}(),Ez=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"layoutDays",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;this.groups.forEach((function(e){return e.forEachDateRange((function(e){return e.slots.forEach((function(e){e.element.nativeElement.style.height=""}))}))}));var t=this.groups[0].dayRanges[0].slots[0].height;this.groups.forEach((function(n){n.forEachDateRange((function(n){return n.initDaySlots(t,e)}))})),this.groups.forEach((function(e){e.forEachDateRange((function(e){return e.setDayOffsets()}))}))}},{key:"layoutTimeline",value:function(e,t){this.groups.forEach((function(e){return e.forEachTimeRange((function(e){return e.slots.forEach((function(e){e.element.nativeElement.style.height=""}))}))}));var n=this.groups[0].timeRanges[0].slots[0].height;this.groups.forEach((function(i,l){i.initTimeSlots(n,e,t&&t[l]?t[l].nativeElement.children[0].children[0].offsetHeight:0)})),this.groups.forEach((function(e){return e.setTimelineOffsets()}))}},{key:"layoutTimes",value:function(e){this.groups.forEach((function(t){return t.forEachTimeRange((function(t){return t.layout(e)}))}))}},{key:"forEachDateRange",value:function(e){this.groups.forEach((function(t,n){e(t.dayRanges[0],n)}))}},{key:"syncDateRanges",value:function(){var e=0;return this.groups.forEach((function(t){var n=t.dayRanges[0].firstSlot;n&&(e=Math.max(n.rect.height-n.padding,e))})),this.groups.forEach((function(t){t.dayRanges[0].setSlotsHeight(e)})),e}},{key:"forEachGroup",value:function(e){this.groups.forEach(e)}},{key:"forEachSlot",value:function(e){this.groups.forEach((function(t){t.dayRanges.forEach((function(t){t.slots.forEach((function(t){return e(t)}))})),t.timeRanges.forEach((function(t){t.slots.forEach((function(t){return e(t)}))}))}))}},{key:"createGroup",value:function(e){return new Iz(e)}},{key:"slotByIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.split(":").map((function(e){return parseInt(e,10)})),i=_slicedToArray(n,3),l=i[0],r=i[1],a=i[2];return this.groups[l][t?"dayRanges":"timeRanges"][r].slots[a]}},{key:"slotByPosition",value:function(e,t,n,i){var l;if(n){if(this.groups.find((function(t){return l=t.dayRanges.find((function(t){return VV(t.rect,e)}))})),l)return l.slots.find((function(t){return VV(t.rect,e)}))}else if(this.groups.find((function(n){return i&&(l=n.dayRanges.find((function(n){return BV(n.rect,e,t)}))),l||(l=n.timeRanges.find((function(n){return BV(n.rect,e,t)}))),l})),l)return l.slots.find((function(n){return BV(n.rect,e,t)}))}},{key:"groupSlotByPosition",value:function(e,t,n){var i,l=this.groups[e.id.resourceIndex];if(i=e.isDaySlot?l.dayRanges.find((function(e){return BV(e.rect,t,n)})):l.timeRanges.find((function(e){return BV(e.rect,t,n)})))return i.slots.find((function(e){return BV(e.rect,t,n)}))}},{key:"dragRanges",value:function(e,t,n){var i,l=new Date(e.start.getTime()-t.start),r=new Date(e.start.getTime()+t.end),a=this.groups[e.id.resourceIndex];if(n){var o=[];a.timeRanges.forEach((function(e){var t=e.slots.filter((function(e){return SV(l,r,e.start,e.end)}));t.length&&o.push(t)}));var s=o[o.length-1];i=[o[0][0],s[s.length-1]]}else i=a.slotRange(e).slots.filter((function(e){return SV(l,r,e.start,e.end)}));return{start:l,end:r,ranges:[i]}}},{key:"resizeRanges",value:function(e,t,n,i){var l,r,a=this.groups[e.id.resourceIndex],o=t.isAllDay?a.dayRanges:a.timeRanges,s=[],u=t.start.toUTCDate(),c=t.end.toUTCDate();if(n){var h=e.start.getTime()+i.start;r=u.getTime()===c.getTime()?this.findDateSlot(c,o,!0).end:c,l=h>=c.getTime()?t.isAllDay?new Date(Math.min(EV(c,u).getTime(),c.getTime())):this.findDateSlot(r,o).start:i.start&&t.isAllDay?new Date(h):new Date(e.start.getTime())}else l=u,r=e.start.getTime()<=l.getTime()?t.isAllDay?new Date(Math.max(EV(u,c).getTime(),u.getTime())):this.findDateSlot(l,o,!0).end:i.end&&t.isAllDay?new Date(e.start.getTime()+i.end):e.end;return o.forEach((function(e){var t=e.slots.filter((function(e){return SV(l,r,e.start,e.end)}));t.length&&s.push(t)})),{start:l,end:r,ranges:s}}},{key:"timePosition",value:function(e,t,n){var i=this.groups[t].timeRanges.find((function(t){return TV(e,t.start,t.end)}));if(i){var l=i.slots.find((function(t){return TV(e,t.start,t.end)}));if(l){var r=(n?l.height:l.width)*((e.getTime()-l.start.getTime())/(l.end.getTime()-l.start.getTime()));return n?l.rect.top+r:l.rect.left+r}}}},{key:"findDateSlot",value:function(e,t,n){var i;return t.forEach((function(t){var l=t.slots.filter(n?function(t){return SV(e,e,t.start,t.end)}:function(t){return TV(e,t.start,t.end)});l.length&&(i=l[0])})),i}}]),t}(lz),Dz=function(e){var t=e.start,n=e.end,i=t.stripTime(),l=n.stripTime();return i.getTime()!==l.getTime()&&(l.getTime()!==n.getTime()||i.addDays(1).getTime()!==l.getTime())},Oz=function(e){return T_(e)},Fz=function(e,t){return T_(K_(e,t||1))},Rz=function(e,t,n){return T_(K_(e,n*t))},Nz=function(e){function t(e,n,i,l,r,a,o,s,u,c){var h;return _classCallCheck2(this,t),(h=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,u,n,i,l,r,a,o,s,c,e))).name="day",h.dateFormat={skeleton:"MEd"},h.allDayResizeHintFormat={skeleton:"Md"},h.allDayItems=new fs(null),h}return _inherits(t,e),_createClass2(t,[{key:"optionsChange",value:function(e){this.schedulerAllDaySlotTemplate=e.allDaySlotTemplate,this.schedulerAllDayEventTemplate=e.allDayEventTemplate,this.schedulerMinorTimeHeaderTemplate=e.minorTimeHeaderTemplate,this.schedulerMajorTimeHeaderTemplate=e.majorTimeHeaderTemplate,_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"ngOnChanges",value:function(e){_get2(_getPrototypeOf2(t.prototype),"ngOnChanges",this).call(this,e),e.slotFill&&this.changes.next(null),(e.startTime||e.endTime||e.showWorkHours||e.workDayStart||e.workDayEnd||e.workWeekStart||e.workWeekEnd)&&this.viewRangeChange.next(null)}},{key:"horizontalColspan",value:function(e){for(var t=this.horizontalResources,n=this.daySlots.length,i=e+1;i<t.length;i++)n*=(t[i].data||[]).length||1;return n}},{key:"verticalRowspan",value:function(e){for(var t=this.verticalResources,n=this.timeSlots.length+1,i=e+1;i<t.length;i++)n*=(t[i].data||[]).length||1;return n}},{key:"allDaySlotClass",value:function(e,t){if(this.slotClass)return this.slotClass({start:e.start,end:e.end,resources:this.resourcesByIndex(t),isAllDay:!0})}},{key:"createTasks",value:function(e,t){var n=this.timeSlots[0],i=this.timeSlots[this.timeSlots.length-1].end,l=!(i.getHours()||i.getMinutes()),r=this.daySlots.map((function(e){return{start:MV(e.start,n.start),end:l?AV(e.end):MV(e.start,i)}}));return function(e,t,n,i){for(var l,r,a,o,s,u=[],c=AV(e),h=AV(t),d=0;d<n.length;d++)for(var f=n[d],p=Dz(f),v=p&&!f.event.isAllDay&&f.end.getTime()-f.start.getTime()<864e5,g=f.event.isAllDay||p&&!v,m=(g?(l=f,r=void 0,a=void 0,o=void 0,s=void 0,r=l.start,a=l.end,o=r.stripTime(),s=a.stripTime(),s.getTime()!==a.getTime()||o.getTime()===s.getTime()?s.addDays(1):s):f.end).toUTCDate(),y=(g?f.start.stripTime():f.start).toUTCDate(),b=0;b<i.length;b++)if(SV(y,m,i[b].start,i[b].end)){var k={index:d,isAllDay:g,startTime:y,endTime:m,rangeIndex:g?0:b,start:f.start,end:f.end,event:f.event};if(u.push(k),!v){k.head=h<m,k.tail=y<c;break}var _=i[b+1],w=i[b-1];k.head=(_?_.start:h)<m,k.tail=y<(w?w.end:c)}return function(e){return e.sort((function(e,t){return e.startTime-t.startTime||t.endTime-e.endTime})),e}(u)}(t.start,t.end,e,r)}},{key:"onTasksChange",value:function(){this.items.next(this.tasks.filter((function(e){return!e.isAllDay}))),this.allDayItems.next(this.tasks.filter((function(e){return e.isAllDay})))}},{key:"reflow",value:function(){var e=this.slotService;if(this.verticalResources.length||(this.updateContentHeight(),this.syncTables()),this.slotService.containerSize=this.content.nativeElement.clientWidth,e.layoutDays(this.eventHeight),this.updateContentHeight(),this.syncTables(),this.dayCells.length){var t=this.dayCells.toArray();if(this.verticalResources.length)e.forEachDateRange((function(e,n){var i=e.firstSlot;t[n].nativeElement.style.height="".concat(i.rect.height-i.padding,"px")}));else{var n=e.syncDateRanges();t[0].nativeElement.style.height="".concat(n,"px")}}e.layoutTimes({fill:this.slotFill}),this.syncTables()}},{key:"dragHorizontal",value:function(e){return e.isDaySlot}},{key:"updateHintContainer",value:function(){this.headerHintContainer&&this.headerHintContainer.detectChanges(),_get2(_getPrototypeOf2(t.prototype),"updateHintContainer",this).call(this)}},{key:"onRelease",value:function(){_get2(_getPrototypeOf2(t.prototype),"onRelease",this).call(this),this.dragContainers=null}},{key:"updateDragContainer",value:function(e){this.dragContainers||(this.dragContainers=this.containers);var t=this.dragContainers.find((function(t){var n=t.offset;return n.top<=e.pageY&&e.pageY<=n.top+n.height}))||{};this.container=t.element,this.containerOffset=t.offset}},{key:"containerByPosition",value:function(e){var t=e.x,n=e.y;return this.containers.find((function(e){var i=e.offset;return i.top<=n&&n<=i.top+i.height&&i.left<=t&&t<=i.left+i.width}))}},{key:"scrollContainer",value:function(e,n){clearInterval(this.scrollInterval),this.container&&this.container===this.content.nativeElement&&_get2(_getPrototypeOf2(t.prototype),"scrollContainer",this).call(this,e,n)}},{key:"dragRanges",value:function(e){var t=this.dragging.task;if(e.isDaySlot&&!t.isAllDay)return{ranges:[[e]],start:EV(e.start,t.start.toUTCDate()),end:EV(e.start,t.end.toUTCDate()),isAllDay:!0};var n=t.isAllDay&&!e.isDaySlot,i=this.slotService.dragRanges(e,n?{start:0,end:0}:this.dragging.offset);return n&&(i.end=e.end),i.isAllDay=this.draggedIsAllDay(t,e),i}},{key:"dragHintEventStyleArgs",value:function(){return{event:this.dragging.task.event,resources:this.dragging.resourceItems,isAllDay:Boolean(this.allDayDragHint)}}},{key:"draggedIsAllDay",value:function(e,t){return Boolean(t.isDaySlot&&(e.event.isAllDay||!Dz(e)))}},{key:"dragHintSize",value:function(e,t){var n,i;return e.isDaySlot?(n=zV(t.rect.left-e.rect.left+t.rect.width),i=zV(e.height)):(n=zV(.9*e.rect.width),i=zV(this.dragging.task.isAllDay?e.rect.height:t.rect.top-e.rect.top+t.rect.height)),{width:n,height:i}}},{key:"currentTimeArrowOffset",value:function(){if(this.verticalResources.length){var e=this.times.nativeElement.querySelector(".k-scheduler-times-all-day"),t=this.times.nativeElement;return this.localization.rtl?t.offsetWidth-e.offsetWidth:e.offsetLeft}return 0}},{key:"allDaySlotTemplateRef",get:function(){return this.allDaySlotTemplate||(this.schedulerAllDaySlotTemplate||{}).templateRef}},{key:"allDayEventTemplateRef",get:function(){return this.allDayEventTemplate||(this.schedulerAllDayEventTemplate||{}).templateRef}},{key:"minorTimeHeaderTemplateRef",get:function(){return this.minorTimeHeaderTemplate||(this.schedulerMinorTimeHeaderTemplate||{}).templateRef}},{key:"majorTimeHeaderTemplateRef",get:function(){return this.majorTimeHeaderTemplate||(this.schedulerMajorTimeHeaderTemplate||{}).templateRef}},{key:"allDayMessage",get:function(){return this.localization.get("allDay")}},{key:"allDayResizeHint",get:function(){return this.resizing&&this.resizing.task.isAllDay}},{key:"allDayDragHint",get:function(){return this.dragging&&this.dragging.slot.isDaySlot}},{key:"containers",get:function(){var e=this.headerWrap.nativeElement.children[1],t=this.content.nativeElement;return[{element:t,offset:jV(t)},{element:e,offset:jV(e)}]}}]),t}(function(e){function t(e,n,i,l,r,a,o,s,u,c){var h;return _classCallCheck2(this,t),(h=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n,i,l,r,a,o,s,u,c))).changeDetector=e,h.numberOfDays=1,h.startTime="00:00",h.endTime="00:00",h.workDayStart="08:00",h.workDayEnd="17:00",h.workWeekStart=1,h.workWeekEnd=5,h.slotDuration=60,h.slotDivisions=2,h.showWorkHours=!1,h.getStartDate=Oz,h.getEndDate=Fz,h.getNextDate=Rz,h.daySlots=[],h.timeSlots=[],h.resizeHintFormat="t",h.showCurrentTime=!1,h.verticalTime=!0,h.initialUpdate=!0,h.updateCurrentTime=h.updateCurrentTime.bind(_assertThisInitialized(h)),h}return _inherits(t,e),_createClass2(t,[{key:"ngOnChanges",value:function(e){(e.startTime||e.endTime||e.showWorkHours||e.workDayStart||e.workDayEnd||e.workWeekStart||e.workWeekEnd||e.slotDivisions||e.slotDuration)&&(this.timeSlots=this.createTimeSlots(),this.initWorkDay(),this.changes.next(null)),Vv("currentTimeMarker",e)&&(this.showCurrentTime=this.enableCurrentTime()),_get2(_getPrototypeOf2(t.prototype),"ngOnChanges",this).call(this,e)}},{key:"ngOnDestroy",value:function(){_get2(_getPrototypeOf2(t.prototype),"ngOnDestroy",this).call(this),clearTimeout(this.currentTimeTimeout)}},{key:"verticalItem",value:function(e,t){for(var n=this.verticalResources[t].data||[],i=this.verticalResources,l=1,r=t+1;r<i.length;r++)l*=(i[r].data||[]).length||1;return n[e/l%n.length]}},{key:"timeSlotClass",value:function(e,t,n){if(this.slotClass)return this.slotClass({start:EV(t,e.start),end:EV(t,e.end),resources:this.resourcesByIndex(n),isAllDay:!1})}},{key:"scrollToTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.scrollTime,t=this.intl.parseDate(e);if(t){var n=MV(this.daySlots[0].start,t),i=this.slotService.timePosition(n,0,this.verticalTime);if(QB(i)){var l=this.content.nativeElement;l[this.verticalTime?"scrollTop":"scrollLeft"]=this.localization.rtl&&!this.verticalTime?function(e,t){var n=e.scrollLeft,i=t;return e.scrollLeft=-1,e.scrollLeft<0?i=-t:n>0&&(i=e.scrollWidth-e.offsetWidth-t),i}(l,i):i}}}},{key:"optionsChange",value:function(e){this.schedulerTimeSlotTemplate=e.timeSlotTemplate,this.schedulerDateHeaderTemplate=e.dateHeaderTemplate,_get2(_getPrototypeOf2(t.prototype),"optionsChange",this).call(this,e)}},{key:"updateView",value:function(){_get2(_getPrototypeOf2(t.prototype),"updateView",this).call(this),this.updateCurrentTime(),this.initialUpdate&&(this.scrollToTime(),this.initialUpdate=!1)}},{key:"enableCurrentTime",value:function(){if(!this.currentTimeMarker||!1===this.currentTimeMarker.enabled||!this.selectedDate)return!1;var e=this.dateRange();this.currentDate=X_.fromLocalDate(this.currentTime(),!1!==this.currentTimeMarker.localTimezone?"":this.timezone);var t=this.currentDate.toLocalDate(),n=PV(t),i=this.timeSlots,l=TV(t,e.start,e.end),r=i.length&&TV(n,i[0].start,i[i.length-1].end);return l&&r}},{key:"currentTime",value:function(){return new Date}},{key:"updateCurrentTime",value:function(){var e=this;if(Bv()){var t=this.enableCurrentTime();t!==this.showCurrentTime&&(this.showCurrentTime=t,this.changeDetector.detectChanges()),clearTimeout(this.currentTimeTimeout),t&&(this.zone.runOutsideAngular((function(){e.currentTimeTimeout=setTimeout(e.updateCurrentTime,e.currentTimeMarker.updateInterval||6e4)})),this.positionCurrentTime())}}},{key:"positionCurrentTime",value:function(){var e=this;if(this.currentTimeElements&&this.currentTimeElements.length){var t=this.currentDate.toUTCDate(),n=this.currentTimeArrows?this.currentTimeArrows.toArray():[],i=n.length?this.currentTimeArrowOffset():0,l=n.length?n[0].nativeElement.offsetHeight/2:4,r=this.contentTable.nativeElement.clientWidth,a=this.contentTable.nativeElement.clientHeight,o=this.verticalTime;this.currentTimeElements.forEach((function(s,u){var c=e.slotService.timePosition(t,u,o);if(void 0!==c){var h=s.nativeElement;if(n[u]){var d=o?i:c-l;WV(n[u].nativeElement,{top:o?c-l:i,left:d,right:d})}var f=o?0:c;WV(h,{top:o?c:0,left:f,right:f,width:o?r:1,height:o?1:a})}}))}}},{key:"bindEvents",value:function(){var e=this;_get2(_getPrototypeOf2(t.prototype),"bindEvents",this).call(this),this.zone.runOutsideAngular((function(){e.subs.add(lV(e.headerWrap.nativeElement).subscribe((function(t){return e.onHeaderClick(t)}))),e.subs.add(Lv(e.headerWrap.nativeElement,"contextmenu").subscribe((function(t){return e.onClick(t)}))),e.subs.add(rV(e.headerWrap.nativeElement).subscribe((function(t){return e.onClick(t,"dblclick")})))}))}},{key:"onHeaderClick",value:function(e){var t=this;if(this.onClick(e),!(this.daySlots.length<=1)){var n=e.target.getAttribute("data-dayslot-index");if(n){var i=this.daySlots[parseInt(n,10)];this.zone.run((function(){t.viewState.navigateTo({viewName:"day",date:i.start})}))}}}},{key:"slotByIndex",value:function(e,t){return this.slotService.slotByIndex(e,t.target.hasAttribute("data-day-slot"))}},{key:"onSelectDate",value:function(e){this.selectedDate=e,this.daySlots=this.createDaySlots(),this.showCurrentTime=this.enableCurrentTime(),this.viewState.notifyDateRange(this.dateRange())}},{key:"onAction",value:function(e){var t=T_(this.selectedDate);if("next"===e.type){var n=this.getNextDate(t,1,this.numberOfDays);this.isInRange(n)&&this.viewState.notifyNextDate(n)}if("prev"===e.type){var i=this.getNextDate(t,-1,this.numberOfDays);this.isInRange(i)&&this.viewState.notifyNextDate(i)}"scroll-time"===e.type&&this.scrollToTime(e.time)}},{key:"dateRange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.selectedDate,t=this.getStartDate(e),n=this.getEndDate(t,this.numberOfDays),i=this.getEndDate(t,this.numberOfDays-1);return{start:t,end:n,text:this.intl.format(this.selectedDateFormat,t,i),shortText:this.intl.format(this.selectedShortDateFormat,t,i)}}},{key:"createDaySlots",value:function(){for(var e=this.getStartDate(this.selectedDate),t=this.getEndDate(e,this.numberOfDays),n=[];e<t;){var i=K_(e,1);n.push({start:e,end:i}),e=i}return n}},{key:"createTimeSlots",value:function(){return function(e,t){var n=t.showWorkHours,i=t.startTime,l=t.endTime,r=t.workDayStart,a=t.workDayEnd,o=t.slotDivisions,s=t.slotDuration,u=PV(e.parseDate(n?r:i)).getTime(),c=PV(e.parseDate(n?a:l)).getTime();c<=u&&(c=PV(rz).getTime()+864e5);for(var h=[],d=Math.round(s/o*6e4),f=u,p=0;f<c;)h.push({start:new Date(f),end:new Date(f+d),isMajor:p%o==0}),p++,f+=d;return h}(this.intl,{showWorkHours:this.showWorkHours,startTime:this.startTime,endTime:this.endTime,workDayStart:this.workDayStart,workDayEnd:this.workDayEnd,slotDivisions:this.slotDivisions,slotDuration:this.slotDuration})}},{key:"initWorkDay",value:function(){var e=this.intl.parseDate(this.workDayStart);this.workDayStartTime=PV(e);var t=this.intl.parseDate(this.workDayEnd);this.workDayEndTime=PV(t)}},{key:"slotByPosition",value:function(e,t,n){var i=n?yV(n.parentNode,"k-scheduler-header-wrap"):t<0;return this.slotService.slotByPosition(e,t,i,Boolean(this.verticalResources.length))}},{key:"slotFields",value:function(e){var n=_get2(_getPrototypeOf2(t.prototype),"slotFields",this).call(this,e);return e.isDaySlot?n.isAllDay=!0:(n.start=this.convertDate(e.start),n.end=this.convertDate(e.end)),n}},{key:"classNames",get:function(){return"k-scheduler-".concat(this.name,"view")}},{key:"timeSlotTemplateRef",get:function(){return this.timeSlotTemplate||(this.schedulerTimeSlotTemplate||{}).templateRef}},{key:"dateHeaderTemplateRef",get:function(){return this.dateHeaderTemplate||(this.schedulerDateHeaderTemplate||{}).templateRef}}]),t}(uz)),Lz=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))).isDaySlot=!1,l}return _inherits(t,e),_createClass2(t,[{key:"nonWorkHour",get:function(){var e,t,n,i=this.date.getDay();return this.invariantStart<this.workDayStart||this.workDayEnd<this.invariantEnd||(e=i,t=this.workWeekStart,!((n=this.workWeekEnd)<t?e<=n||t<=e:t<=e&&e<=n))}},{key:"startLocalTime",get:function(){return this.date&&this.invariantStart?EV(this.date,this.invariantStart):null}},{key:"endLocalTime",get:function(){return this.date&&this.invariantEnd?EV(this.date,this.invariantEnd):null}},{key:"start",get:function(){return this.date&&this.invariantStart?MV(this.date,this.invariantStart):null}},{key:"end",get:function(){if(!this.date||!this.invariantEnd)return null;var e,t,n=MV(this.date,this.invariantEnd);return az.getTime()<=this.invariantEnd.getTime()?(e=1,(t=new Date(n.getTime())).setUTCDate(t.getUTCDate()+e),t):n}}]),t}(cz),Bz=function(e){function t(e,n,i){var l;return _classCallCheck2(this,t),(l=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))).isDaySlot=!0,l}return _inherits(t,e),_createClass2(t,[{key:"start",set:function(e){this.startDate=e},get:function(){return this.startDate?AV(this.startDate):null}},{key:"end",set:function(e){this.endDate=e},get:function(){return this.endDate?AV(this.endDate):null}},{key:"daySlot",get:function(){return!0}}]),t}(cz),Vz=function(e){function t(e,n,i,l,r,a){var o;return _classCallCheck2(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n,i,l,r,a))).intlService=e,o}return _inherits(t,e),_createClass2(t,[{key:"eventTime",get:function(){return this.intlService.format("{0:t}\u2013{1:t}",V_(this.item.startTime),V_(this.item.endTime))}}]),t}(oz),zz=function e(){_classCallCheck2(this,e)},jz=function e(){_classCallCheck2(this,e)},Hz=function e(){_classCallCheck2(this,e)},Wz=function(){function e(){_classCallCheck2(this,e),this.valueChange=new dr,this.getField=tV,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){}}return _createClass2(e,[{key:"writeValue",value:function(e){this.resourceValue=e}},{key:"getResourceStyle",value:function(e){return{"background-color":tV(e,this.resource.colorField),"margin-right":ZB(tV(e,this.resource.valueField))?"8px":"4px"}}},{key:"onResourceValueChange",value:function(e){this.resourceValue=e,this.emitChange(this.resourceValue)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}}]),e}(),Uz=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"getTagStyle",value:function(e){return{"background-color":e[this.resource.colorField]}}},{key:"focus",value:function(){this.resourceMultiSelect.focus()}}]),t}(Wz),Yz=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"focus",value:function(){this.resourceDropDown.focus()}}]),t}(Wz),qz=function(e){return e[e.None=0]="None",e[e.AltKey=1]="AltKey",e[e.CtrlKey=2]="CtrlKey",e[e.ShiftKey=4]="ShiftKey",e[e.MetaKey=8]="MetaKey",e}({});function Gz(e,t){return e.altKey===((t&qz.AltKey)===qz.AltKey)&&e.ctrlKey===((t&qz.CtrlKey)===qz.CtrlKey)&&e.shiftKey===((t&qz.ShiftKey)===qz.ShiftKey)&&e.metaKey===((t&qz.MetaKey)===qz.MetaKey)}function Xz(e){return Gz(e,qz.None)}var Kz=function(){function e(t,n,i,l,r,a){var o=this;_classCallCheck2(this,e),this.ngZone=t,this.editService=n,this.localization=i,this.changeDetector=l,this.element=r,this.focusService=a,this.resources=[],this.timezone="Etc/UTC",this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.subs=this.editService.changed.subscribe((function(){o.ngZone.run((function(){o.onChange()}))})),this.subs.add(Lv(this.element.nativeElement,"keydown").pipe($u((function(){return o.isActive}))).subscribe((function(e){e.keyCode===ng.Escape&&o.reset(),e.keyCode===ng.Enter&&(Gz(e,qz.CtrlKey)||Gz(e,qz.MetaKey))&&o.onSave(e),e.stopPropagation()})))}return _createClass2(e,[{key:"onChange",value:function(){if(this.changeDetector.markForCheck(),this.editService.hasNewEvent)this.editMode=2,this.formGroup=this.editService.context.formGroup,this.isNew=!0,this.applyLocalTimezone();else{if(!this.editService.isEditing())return void this.reset();var e=this.editService.context,t=e.dataItem,n=e.mode;this.formGroup=this.editService.context.formGroup,this.isNew=!1,this.editedEvent=t,this.editMode=ZB(n)?n:2,this.applyLocalTimezone()}this.editTemplate||(this.addTimeZoneCheckboxesToFormGroup(),this.subscribeToFormGroupChanges()),ZB(this.formGroup)&&(this.recurrenceStart=this.formGroup.get(this.fields.start).value),this.isActive=!0}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe()}},{key:"onCancel",value:function(e){e.preventDefault(),this.onClose(),this.changeDetector.markForCheck()}},{key:"onSave",value:function(e){e.preventDefault(),this.applyTimezone(),this.editService.save(),this.changeDetector.markForCheck()}},{key:"onClose",value:function(){this.editService.endEdit(),this.changeDetector.markForCheck(),this.focusService.focus()}},{key:"getFormValue",value:function(e){if(e)return this.formGroup.get(e)}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"onResourceClick",value:function(e){var t=(e.multiple?this.multipleResourceEditors:this.singleResourceEditors).filter((function(t){return t.resource.field===e.field})).pop();t&&t.focus()}},{key:"reset",value:function(){this.isActive=!1,this.setTimeZone=!1,this.setSeparateStartEndTimeZones=!1,this.removeTimeZoneCheckboxesFromFormGroup(),this.focusService.focus()}},{key:"addTimeZoneCheckboxesToFormGroup",value:function(){if(ZB(this.formGroup)){var e=this.fields.startTimezone;this.formGroup.addControl("startTimezoneCheckbox",new jb(this.formGroup.contains(e)&&this.formGroup.get(e).value));var t=this.fields.endTimezone;this.formGroup.addControl("endTimezoneCheckbox",new jb(this.formGroup.contains(t)&&this.formGroup.get(t).value))}}},{key:"removeTimeZoneCheckboxesFromFormGroup",value:function(){ZB(this.formGroup)&&(this.formGroup.removeControl("startTimezoneCheckbox"),this.formGroup.removeControl("endTimezoneCheckbox"))}},{key:"subscribeToFormGroupChanges",value:function(){var e=this;if(ZB(this.formGroup)){var t=this.fields;this.formGroup.get("startTimezoneCheckbox").valueChanges.subscribe((function(n){n||(e.formGroup.get(t.startTimezone).setValue(null,{emitEvent:!1}),e.formGroup.get(t.endTimezone).setValue(null,{emitEvent:!1}),e.formGroup.get("endTimezoneCheckbox").setValue(!1,{emitEvent:!1}))})),this.formGroup.get("endTimezoneCheckbox").valueChanges.subscribe((function(n){n||e.formGroup.get(t.endTimezone).setValue(null,{emitEvent:!1})})),this.formGroup.get(t.start).valueChanges.subscribe((function(t){e.recurrenceStart=t}))}}},{key:"applyLocalTimezone",value:function(){var e=this.fields,t=this.readDateAsLocal(e.start,this.eventTimezone),n=this.readDateAsLocal(e.end,this.endTimezone);this.formGroup.get(e.start).reset(t),this.formGroup.get(e.end).reset(n)}},{key:"applyTimezone",value:function(){var e=this.fields,t=this.readDateWithTimezone(e.start,this.eventTimezone),n=this.readDateWithTimezone(e.end,this.endTimezone);this.formGroup.get(e.start).reset(t),this.formGroup.get(e.end).reset(n)}},{key:"readDateWithTimezone",value:function(e,t){var n=this.formGroup.get(e).value;return X_.fromUTCDate(IV(n),t).toLocalDate()}},{key:"readDateAsLocal",value:function(e,t){var n=this.formGroup.get(e).value;return V_(X_.fromLocalDate(n,t).toUTCDate())}},{key:"autoFocusedElement",get:function(){return this.editTemplate?this.editTemplate.autoFocusedElement:".k-edit-field input"}},{key:"isEditingSeries",get:function(){return 2===this.editMode&&Boolean(this.formGroup.get(this.fields.recurrenceRule))}},{key:"eventTimezone",get:function(){return UV(this.formGroup,this.fields.startTimezone,this.timezone)}},{key:"endTimezone",get:function(){return UV(this.formGroup,this.fields.endTimezone,this.eventTimezone)}},{key:"hasAllDay",get:function(){return Boolean(this.formGroup.get(this.fields.isAllDay))}},{key:"hasStartTimeZone",get:function(){return Boolean(this.formGroup.get(this.fields.startTimezone))}},{key:"isStartTimeZoneVisible",get:function(){return this.formGroup&&this.formGroup.get("startTimezoneCheckbox").value}},{key:"hasEndTimeZone",get:function(){return Boolean(this.formGroup.get(this.fields.endTimezone))}},{key:"isEndTimeZoneVisible",get:function(){return this.formGroup&&this.formGroup.get("endTimezoneCheckbox").value}}]),e}(),$z=function(){function e(){_classCallCheck2(this,e),this.valueChange=new dr,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){}}return _createClass2(e,[{key:"writeValue",value:function(e){e instanceof Date&&(this.date=e)}},{key:"onValueChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"focus",value:function(){this.datePicker.focus()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}}]),e}(),Zz=["first","second","third","fourth","last"],Qz=["never","daily","weekly","monthly","yearly"],Jz=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],ej=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],tj=[{day:0,offset:0},{day:6,offset:0}],nj=function(){function e(t,n){_classCallCheck2(this,e),this.intl=t,this.localization=n,this.change=new dr,this.endRuleChange=new dr,this.frequencyChange=new dr,this.repeatOnRuleChange=new dr}return _createClass2(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.rrule=QA({recurrenceRule:e,weekStart:this.intl.firstDay()}),this.start=t,this.timezone=n}},{key:"setFrequency",value:function(e){this.rrule={},this.rrule.freq=e,this.rrule.interval=1,"weekly"===e&&(this.rrule.byWeekDay=[{day:this.start.getDay(),offset:0}]),"monthly"!==e&&"yearly"!==e||(this.rrule.byMonthDay=[this.start.getDate()]),"yearly"===e&&(this.rrule.byMonth=[this.start.getMonth()+1]),this.frequencyChange.emit(),this.onChange()}},{key:"setWeekDays",value:function(e){this.rrule.byWeekDay=e,this.onChange()}},{key:"setMonths",value:function(e){this.rrule.byMonth=e,this.onChange()}},{key:"onChange",value:function(){this.change.emit("never"===this.frequency?null:function(e,t){if(!e||!e.freq)return null;var n=e.weekStart,i="FREQ="+e.freq.toUpperCase(),l="",r="",a="",o=e.until;return e.interval>1&&(i+=";INTERVAL="+e.interval),e.count&&(i+=";COUNT="+e.count),o&&(i+=";UNTIL="+HC(o.toTimezone("Etc/UTC"),"yyyyMMddTHHmmss")+"Z"),e.byMonth&&(i+=";BYMONTH="+e.byMonth),e.byWeekNumber&&(i+=";BYWEEKNO="+e.byWeekNumber),e.byYearDay&&(i+=";BYYEARDAY="+e.byYearDay),e.byMonthDay&&(i+=";BYMONTHDAY="+e.byMonthDay),e.byWeekDay&&(i+=";BYDAY="+function(e){for(var t,n=e.length,i=[],l=0;l<n;l++){var r=e[l];"string"==typeof r?t=r:(t=""+JA[r.day],r.offset&&(t=r.offset+t)),i.push(t)}return i.toString()}(e.byWeekDay)),e.byHour&&(i+=";BYHOUR="+e.byHour),e.byMinute&&(i+=";BYMINUTE="+e.byMinute),e.bySecond&&(i+=";BYSECOND="+e.bySecond),e.bySetPosition&&(i+=";BYSETPOS="+e.bySetPosition),void 0!==n&&(i+=";WKST="+JA[n]),e.start&&(r="DTSTART"+rA([e.start])),e.end&&(a="DTEND"+rA([e.end])),e.exceptionDates&&(l="EXDATE"+rA(e.exceptionDates)),(r||a||l)&&(i=r+a+l+"RRULE:"+i),i}(this.rrule,this.timezone))}},{key:"frequencies",get:function(){var e=this;return Qz.map((function(t){return{value:t,text:e.localization.get("frequencies"+$B(t))}}))}},{key:"frequency",get:function(){return!ZB(this.rrule)||(function(e){return null==e}(e=this.rrule.freq)||e.trim&&0===e.trim().length)?"never":this.rrule.freq;var e}},{key:"interval",set:function(e){this.rrule.interval=e,this.onChange()}},{key:"count",set:function(e){this.rrule.count=e,this.onChange()}},{key:"until",set:function(e){this.rrule.until=X_.fromLocalDate(e,this.timezone),this.onChange()},get:function(){if(ZB(this.rrule.until))return V_(this.rrule.until)}},{key:"monthDays",set:function(e){this.rrule.byMonthDay=e,this.onChange()}},{key:"positions",set:function(e){this.rrule.bySetPosition=e,this.onChange()}},{key:"months",get:function(){return this.intl.dateFormatNames({type:"months",nameType:"wide"}).map((function(e,t){return{text:e,value:t+1}}))}},{key:"weekDays",get:function(){var e=this.intl.firstDay(),t=this.intl.dateFormatNames({type:"days",nameType:"abbreviated"}).map((function(e,t){return{text:e,value:t}}));return t.slice(e).concat(t.slice(0,e))}},{key:"extendedWeekDays",get:function(){var e=this.intl.firstDay(),t=this.intl.dateFormatNames({type:"days",nameType:"wide"}).map((function(e,t){return{text:e,value:t}})),n=t.slice(e).concat(t.slice(0,e));return[{text:this.localization.get("weekdaysDay"),value:"day"},{text:this.localization.get("weekdaysWeekday"),value:"weekday"},{text:this.localization.get("weekdaysWeekendday"),value:"weekend"}].concat(n)}},{key:"offsetPositions",get:function(){var e=this,t=[1,2,3,4,-1];return Zz.map((function(n,i){return{text:e.localization.get("offsetPositions"+$B(n)),value:t[i]}}))}},{key:"endRule",get:function(){return ZB(this.rrule.count)?"count":ZB(this.rrule.until)?"until":"never"},set:function(e){"count"===e?this.rrule.until=null:"until"===e?this.rrule.count=null:(this.rrule.count=null,this.rrule.until=null),this.endRuleChange.emit(e),this.onChange()}},{key:"repeatOnRule",get:function(){return ZB(this.rrule.byWeekDay)?"weekday":ZB(this.rrule.byMonthDay)?"monthday":null},set:function(e){"monthday"===e?(this.rrule.byWeekDay=null,this.rrule.bySetPosition=null):this.rrule.byMonthDay=null,this.repeatOnRuleChange.emit(e),this.onChange()}}]),e}(),ij=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,i))).schedulerLocalization=l,r}return _inherits(t,e),_createClass2(t,[{key:"get",value:function(e){return this.schedulerLocalization?this.schedulerLocalization.get("recurrenceEditor"+$B(e)):_get2(_getPrototypeOf2(t.prototype),"get",this).call(this,e)}}]),t}($g),lj=function(){function e(t){var n=this;_classCallCheck2(this,e),this.recurrenceService=t,this.cssClass=!0,this.timezone="Etc/UTC",this.valueChange=new dr,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.subscriptions=this.recurrenceService.change.subscribe((function(e){n.emitChange(e)}))}return _createClass2(e,[{key:"ngOnInit",value:function(){this.recurrenceService.init("",this.start,this.timezone)}},{key:"ngOnChanges",value:function(e){Vv("start",e)&&(this.recurrenceService.start=this.start)}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"writeValue",value:function(e){this.recurrenceService.init("string"==typeof e?e:"",this.start,this.timezone)}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"start",set:function(e){this._start=e},get:function(){return ZB(this._start)?this._start:T_(new Date)}},{key:"currentFreq",get:function(){return this.recurrenceService.frequency}}]),e}(),rj=function(){function e(t,n){_classCallCheck2(this,e),this.recurrence=t,this.localization=n}return _createClass2(e,[{key:"ngOnInit",value:function(){this.frequencies=this.recurrence.frequencies}},{key:"onClick",value:function(e){e.value!==this.selected&&this.recurrence.setFrequency(e.value)}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"onFrequencyClick",value:function(){var e=this.weekDayButtons.toArray().find((function(e){return e.selected}));e&&e.focus()}},{key:"selected",get:function(){return this.recurrence.frequency}}]),e}(),aj=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.el=t,this.renderer=n,this.reccurence=i,this.changeDetector=l,this.type="radio",this.name="end",this.radioClass=!0,this.destroyChange=this.renderer.listen(this.elem,"change",this.onChange.bind(this))}return _createClass2(e,[{key:"ngOnInit",value:function(){this.endRule=this.endRuleId.split("-").pop(),this.renderer.setAttribute(this.elem,"id",this.endRuleId)}},{key:"ngAfterContentChecked",value:function(){this.setCheckedState()}},{key:"ngOnDestroy",value:function(){this.destroyChange&&this.destroyChange()}},{key:"onChange",value:function(){this.elem.checked&&(this.reccurence.endRule=this.endRule,this.changeDetector.markForCheck())}},{key:"setCheckedState",value:function(){this.renderer.setProperty(this.elem,"checked",this.endRule===this.reccurence.endRule)}},{key:"elem",get:function(){return this.el.nativeElement}}]),e}(),oj=function(){function e(t,n){_classCallCheck2(this,e),this.recurrence=t,this.localization=n,this.setInitialValues(),this.subscribeChanges()}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"setEndRule",value:function(e){"count"===e?this.recurrence.rrule.count=this.countValue:"until"===e&&(this.recurrence.until=this.untilValue)}},{key:"onCountChange",value:function(e){ZB(e)&&(this.recurrence.count=e)}},{key:"onCountBlur",value:function(){ZB(this.countValue)||(this.recurrence.count=this.countValue=1)}},{key:"onUntilChange",value:function(e){ZB(e)&&(this.recurrence.until=this.createUntil(e))}},{key:"onUntilBlur",value:function(){ZB(this.untilValue)||(this.recurrence.until=this.untilValue=this.createUntil(this.recurrence.start))}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"onEndLabelClick",value:function(){var e=this.endRuleRadioButtons.toArray().find((function(e){return e.elem.checked}));e&&e.elem.focus()}},{key:"setInitialValues",value:function(){this.countValue=this.rrule.count||1;var e=this.recurrence.until,t=this.recurrence.start;this.untilValue=ZB(e)?e:this.createUntil(t)}},{key:"subscribeChanges",value:function(){var e=this;this.subscriptions=this.recurrence.endRuleChange.subscribe((function(t){e.setEndRule(t)})),this.subscriptions.add(this.recurrence.frequencyChange.subscribe((function(){e.setInitialValues()})))}},{key:"createUntil",value:function(e){var t=AV(e);return t.setUTCDate(t.getUTCDate()+1),X_.fromUTCDate(t,this.recurrence.timezone).toLocalDate()}},{key:"rrule",get:function(){return this.recurrence.rrule}},{key:"isCountDisabled",get:function(){return"count"!==this.recurrence.endRule}},{key:"isUntilDisabled",get:function(){return"until"!==this.recurrence.endRule}}]),e}(),sj=function(){function e(t,n){_classCallCheck2(this,e),this.recurrence=t,this.localization=n,this.intervalValue=this.recurrence.rrule.interval||1}return _createClass2(e,[{key:"onIntervalChange",value:function(e){ZB(e)&&(this.recurrence.interval=e)}},{key:"onIntervalBlur",value:function(){ZB(this.intervalValue)||(this.recurrence.interval=this.intervalValue=1)}},{key:"textForRepeatEvery",value:function(){switch(this.currentFreq){case"daily":return this.textFor("dailyRepeatEvery");case"weekly":return this.textFor("weeklyRepeatEvery");case"monthly":return this.textFor("monthlyRepeatEvery");case"yearly":return this.textFor("yearlyRepeatEvery")}}},{key:"textForFrequency",value:function(){switch(this.currentFreq){case"daily":return this.textFor("dailyInterval");case"weekly":return this.textFor("weeklyInterval");case"monthly":return this.textFor("monthlyInterval");case"yearly":return this.textFor("yearlyInterval")}}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"currentFreq",get:function(){return this.recurrence.frequency}}]),e}(),uj=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.el=t,this.renderer=n,this.reccurence=i,this.changeDetector=l,this.type="radio",this.name="day",this.radioClass=!0,this.destroyChange=this.renderer.listen(this.elem,"change",this.onChange.bind(this))}return _createClass2(e,[{key:"ngOnInit",value:function(){this.renderer.setAttribute(this.elem,"id","k-repeaton-"+this.repeatOnRule)}},{key:"ngAfterContentChecked",value:function(){this.setCheckedState()}},{key:"ngOnDestroy",value:function(){this.destroyChange&&this.destroyChange()}},{key:"onChange",value:function(){this.elem.checked&&(this.reccurence.repeatOnRule=this.repeatOnRule,this.changeDetector.markForCheck())}},{key:"setCheckedState",value:function(){this.renderer.setProperty(this.elem,"checked",this.repeatOnRule===this.reccurence.repeatOnRule)}},{key:"elem",get:function(){return this.el.nativeElement}}]),e}(),cj=function(){function e(t,n){_classCallCheck2(this,e),this.recurrence=t,this.localization=n,this.setInitialValues(),this.subscribeEventHandlers()}return _createClass2(e,[{key:"setInitialValues",value:function(){this.extendedWeekDays=this.recurrence.extendedWeekDays,this.offsetPositions=this.recurrence.offsetPositions,this.currentOffset=this.defaultOffset,this.currentWeekDay=this.defaultWeekDay,"yearly"===this.currentFreq&&(this.months=this.recurrence.months,this.currentMonthMonthDay=this.currentMonthWeekDay=this.recurrence.rrule.byMonth[0])}},{key:"subscribeEventHandlers",value:function(){this.subs=this.recurrence.repeatOnRuleChange.subscribe(this.onRepeatOnRuleChange.bind(this)),this.subs.add(this.recurrence.frequencyChange.subscribe(this.onFrequencyChange.bind(this)))}},{key:"onRepeatOnRuleChange",value:function(e){"monthday"===e?(this.recurrence.rrule.byMonthDay=[this.monthDay],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthMonthDay])):"weekday"===e&&("string"==typeof this.weekDay?(this.recurrence.rrule.bySetPosition=[this.offset],this.recurrence.rrule.byWeekDay=this.weekDayRuleFromString(this.weekDay)):this.recurrence.rrule.byWeekDay=[{day:this.weekDay,offset:this.offset}],"yearly"===this.currentFreq&&(this.recurrence.rrule.byMonth=[this.currentMonthWeekDay]))}},{key:"onFrequencyChange",value:function(){this.setInitialValues()}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe()}},{key:"onMonthChange",value:function(e,t){"monthday"===t?this.currentMonthMonthDay=e:this.currentMonthWeekDay=e,this.recurrence.setMonths([e])}},{key:"onMonthDayChange",value:function(e){this.currentMonthDay=e,this.recurrence.monthDays=[e]}},{key:"onOffsetPositionChange",value:function(e){var t=this.recurrence.rrule;if(ZB(t.byWeekDay))switch(t.byWeekDay.length){case 7:case 5:case 2:this.recurrence.positions=[e];break;case 1:t.byWeekDay[0].offset=e,this.recurrence.onChange()}this.currentOffset=e}},{key:"onWeekDayChange",value:function(e){var t;"string"==typeof e?(t=this.weekDayRuleFromString(e),this.recurrence.positions=[this.offset]):t=[{day:e,offset:this.offset}],this.currentWeekDay=e,this.recurrence.setWeekDays(t)}},{key:"isDisabled",value:function(e){return this.recurrence.repeatOnRule!==e}},{key:"weekDayRuleFromString",value:function(e){switch(e){case"day":return Jz;case"weekday":return ej;case"weekend":return tj}return null}},{key:"textForRepeatOn",value:function(){switch(this.currentFreq){case"monthly":return this.textFor("monthlyRepeatOn");case"yearly":return this.textFor("yearlyRepeatOn")}}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"onRepeatOnLabelClick",value:function(){var e=this.repeatOnRadioButtons.toArray().find((function(e){return e.elem.checked}));e&&e.elem.focus()}},{key:"monthDay",get:function(){var e=this.recurrence.rrule;return ZB(e.byMonthDay)&&e.byMonthDay.length>0?e.byMonthDay[0]:ZB(this.currentMonthDay)?this.currentMonthDay:this.recurrence.start.getDate()}},{key:"weekDay",get:function(){var e=this.recurrence.rrule;if(ZB(e.byWeekDay))switch(e.byWeekDay.length){case 7:return"day";case 5:return"weekday";case 2:return"weekend";case 1:return e.byWeekDay[0].day}else if(ZB(this.currentWeekDay))return this.currentWeekDay;return this.defaultWeekDay}},{key:"offset",get:function(){var e=this.recurrence.rrule;if(ZB(e.byWeekDay))switch(e.byWeekDay.length){case 7:case 5:case 2:return e.bySetPosition[0];case 1:return e.byWeekDay[0].offset}else if(ZB(this.currentOffset))return this.currentOffset;return this.defaultOffset}},{key:"currentFreq",get:function(){return this.recurrence.frequency}},{key:"defaultOffset",get:function(){return 1}},{key:"defaultWeekDay",get:function(){return this.recurrence.start.getDay()}}]),e}(),hj=function(){function e(t,n){_classCallCheck2(this,e),this.recurrence=t,this.localization=n,this.selected=[],this.weekDays=this.recurrence.weekDays,this.setSelectedDays()}return _createClass2(e,[{key:"setSelectedDays",value:function(){for(var e=this,t=0;t<7;t++)this.selected[t]=!1;ZB(this.rrule.byWeekDay)&&this.rrule.byWeekDay.forEach((function(t){e.selected[t.day]=!0}))}},{key:"onSelectedChange",value:function(e,t){this.selected[t]=e,this.recurrence.setWeekDays(this.serializeToWeekDayRuleArray(this.selected))}},{key:"isSelected",value:function(e){return this.selected[e.value]}},{key:"serializeToWeekDayRuleArray",value:function(e){var t=[];return e.forEach((function(e,n){e&&t.push({day:n,offset:0})})),t.length>0?t:null}},{key:"capitalize",value:function(e){return $B(e)}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"onWeeklyRepeatOnClick",value:function(){var e=this.weekDayButtons.toArray().find((function(e){return e.selected}));e&&e.focus()}},{key:"rrule",get:function(){return this.recurrence.rrule}}]),e}(),dj=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),t}(Gg),fj=function(e){function t(e){var n;return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).service=e,n}return _inherits(t,e),t}(dj),pj=function(){function e(){_classCallCheck2(this,e),this.width=260,this.valueChange=new dr,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.tzNames=ew(),this.tzSource=this.tzNames.slice()}return _createClass2(e,[{key:"onTimeZoneChange",value:function(e){this.tz=e,this.onChangeCallback(this.tz),this.valueChange.emit(e)}},{key:"onTimeZoneFilterChange",value:function(e){this.tzSource=this.tzNames.filter((function(t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())}))}},{key:"writeValue",value:function(e){"string"==typeof e&&this.tzNames.indexOf(e)>=0&&(this.tz=e)}},{key:"focus",value:function(){this.tzComboBox.focus()}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}}]),e}(),vj=function(e){return yV(e,"k-scheduler-content")},gj=function(){function e(t,n,i,l,r,a,o){var s=this;_classCallCheck2(this,e),this.scheduler=t,this.domEvents=n,this.focusService=i,this.zone=l,this.changeDetector=r,this.viewState=a,this.dialogsService=o,this.shortcuts=[{match:function(e){return e.keyCode===ng.KeyC&&Xz(e)},action:function(e){var t,n=s.scheduler,i=(new Date).getHours(),l=n.selectedDate,r=new Date(l.getFullYear(),l.getMonth(),l.getDate(),i+1),a=new Date(l.getFullYear(),l.getMonth(),l.getDate(),i+2);if(n.group){var o=eV(n.group||{},n.resources||[]);o.length>0&&(t=o[0].data[0])}n.create.emit({start:X_.fromLocalDate(r,n.timezone).toLocalDate(),end:X_.fromLocalDate(a,n.timezone).toLocalDate(),isAllDay:!1,resources:[t],originalEvent:e,sender:n})}},{match:function(e){return e.keyCode>=ng.Digit1&&e.keyCode<=ng.Digit9&&Gz(e,qz.AltKey)},action:function(e){var t=s.scheduler,n=e.keyCode-ng.Digit0-1,i=t.views.toArray()[n];i&&s.zone.run((function(){t.onNavigationAction({type:"view-change",view:i})||(s.changeDetector.markForCheck(),s.focusWait())}))}},{match:function(e){return e.keyCode===ng.KeyT&&Xz(e)},action:function(){s.zone.run((function(){s.scheduler.onNavigationAction({type:"today"}),s.focusWait()}))}},{match:function(e){return(e.keyCode===ng.ArrowLeft||e.keyCode===ng.ArrowRight)&&Gz(e,qz.ShiftKey)},action:function(e){var t=e.keyCode===ng.ArrowLeft?"prev":"next";s.zone.run((function(){s.scheduler.onNavigationAction({type:t}),s.focusWait()}))}},{match:function(e){return(e.keyCode===ng.ArrowUp||e.keyCode===ng.ArrowLeft)&&Xz(e)&&!vj(e.target)},action:function(e){s.scheduler.onNavigationAction({type:"focus-prev"})||(s.focusService.focusNext({offset:-1}),e.preventDefault())}},{match:function(e){return(e.keyCode===ng.ArrowDown||e.keyCode===ng.ArrowRight)&&Xz(e)&&!vj(e.target)},action:function(e){s.scheduler.onNavigationAction({type:"focus-next"})||(s.focusService.focusNext({offset:1}),e.preventDefault())}}],this.taskShortcuts=[{match:function(e){return(e.keyCode===ng.Delete||e.keyCode===ng.Backspace)&&Xz(e)},action:function(e,t){s.viewState.emitEvent("remove",{event:t,dataItem:t.dataItem}),e.preventDefault()}},{match:function(e){return e.keyCode===ng.Enter&&Xz(e)},action:function(e,t){s.viewState.emitEvent("eventDblClick",{type:"dblclick",event:t,originalEvent:e}),e.preventDefault()}}],this.subs=new C,this.subs.add(this.domEvents.keydown.subscribe((function(e){return s.onKeydown(e)}))),this.subs.add(this.scheduler.eventKeydown.subscribe((function(e){return s.onEventKeydown(e)})))}return _createClass2(e,[{key:"onKeydown",value:function(e){var t=this.shortcuts.find((function(t){return t.match(e)}));t&&!this.dialogsService.isOpen&&t.action(e)}},{key:"onEventKeydown",value:function(e){var t=this.taskShortcuts.find((function(t){return t.match(e.originalEvent)}));t&&!this.dialogsService.isOpen&&t.action(e.originalEvent,e.event)}},{key:"focusWait",value:function(){var e=this;this.viewState.layoutEnd.pipe(gc(1)).subscribe((function(){return e.focusService.focus()}))}}]),e}(),mj=function e(){_classCallCheck2(this,e)},yj=Ei({encapsulation:2,styles:[],data:{}});function bj(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-calendar-navigation",[],[[2,"k-calendar-navigation",null]],[[null,"valueChange"],[null,"pageChange"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==l.handleNavigation(n)&&i),"pageChange"===t&&(i=!1!==l.onPageChange()&&i),i}),Lj,Oj)),jl(1,13352960,[[1,4]],0,oP,[xT,YT,aS,Zt,qn],{activeView:[0,"activeView"],min:[1,"min"],max:[2,"max"],focusedDate:[3,"focusedDate"],templateRef:[4,"templateRef"]},{valueChange:"valueChange",pageChange:"pageChange"})],(function(e,t){var n=t.component;e(t,1,0,n.activeViewEnum,n.min,n.max,n.focusedDate,null==n.navigationItemTemplate?null:n.navigationItemTemplate.templateRef)}),(function(e,t){e(t,0,0,Ml(t,1).getComponentClass)}))}function kj(e){return no(2,[Ha(671088640,1,{navigationView:0}),Ha(402653184,2,{monthView:0}),(e()(),La(2,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,YP,null,[qP]),jl(4,737280,null,0,qP,[$g],{today:[0,"today"]},null),(e()(),Na(16777216,null,null,1,null,bj)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(7,0,null,null,1,"kendo-calendar-viewlist",[],[[2,"k-calendar-view",null],[2,"k-calendar-monthview",null],[2,"k-calendar-yearview",null],[2,"k-calendar-decadeview",null],[2,"k-calendar-centuryview",null]],[[null,"valueChange"],[null,"activeDateChange"],[null,"pageChange"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==l.handleDateChange(n)&&i),"activeDateChange"===t&&(i=!1!==l.emitEvent(l.activeViewDateChange,n)&&i),"pageChange"===t&&(i=!1!==l.onPageChange()&&i),i}),Yj,zj)),jl(8,13352960,[[2,4]],0,uP,[xT,Zt,aS,YT,qn],{cellTemplateRef:[0,"cellTemplateRef"],weekNumberTemplateRef:[1,"weekNumberTemplateRef"],headerTitleTemplateRef:[2,"headerTitleTemplateRef"],activeView:[3,"activeView"],cellUID:[4,"cellUID"],focusedDate:[5,"focusedDate"],isActive:[6,"isActive"],min:[7,"min"],max:[8,"max"],value:[9,"value"],weekNumber:[10,"weekNumber"]},{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"})],(function(e,t){var n,i=t.component;e(t,4,0,"TODAY"),e(t,6,0,i.navigation),e(t,8,1,[null==(n=i.activeCellTemplate())?null:n.templateRef,null==i.weekNumberTemplate?null:i.weekNumberTemplate.templateRef,null==i.headerTitleTemplate?null:i.headerTitleTemplate.templateRef,i.activeViewEnum,i.cellUID,i.focusedDate,i.isActive,i.min,i.max,i.value,i.weekNumber])}),(function(e,t){e(t,7,0,Ml(t,8).getComponentClass,Ml(t,8).getComponentMonthClass,Ml(t,8).getComponentYearClass,Ml(t,8).getComponentDecadeClass,Ml(t,8).getComponentCenturyClass)}))}var _j=Ei({encapsulation:2,styles:[],data:{}});function wj(e){return no(0,[(e()(),La(0,0,null,null,4,"span",[["class","k-select"]],null,[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==n.preventDefault()&&i),i}),null,null)),(e()(),La(1,0,null,null,1,"span",[["class","k-link k-link-increase"]],[[2,"k-state-active",null],[8,"title",0],[1,"aria-label",0]],[[null,"mousedown"],[null,"mouseleave"],[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"mousedown"===t&&(i=!1!==(l.arrowDirection=l.arrow.Up)&&i),"mouseleave"===t&&(i=!1!==(l.arrowDirection=l.arrow.None)&&i),"click"===t&&(i=!1!==l.handleButtonClick(1)&&i),i}),null,null)),(e()(),La(2,0,null,null,0,"span",[["class","k-icon k-i-arrow-n"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"span",[["class","k-link k-link-decrease"]],[[2,"k-state-active",null],[8,"title",0],[1,"aria-label",0]],[[null,"click"],[null,"mousedown"],[null,"mouseleave"]],(function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.handleButtonClick(-1)&&i),"mousedown"===t&&(i=!1!==(l.arrowDirection=l.arrow.Down)&&i),"mouseleave"===t&&(i=!1!==(l.arrowDirection=l.arrow.None)&&i),i}),null,null)),(e()(),La(4,0,null,null,0,"span",[["class","k-icon k-i-arrow-s"]],null,null,null,null,null))],null,(function(e,t){var n=t.component;e(t,1,0,n.arrowDirection===n.arrow.Up,n.localization.get("increment"),n.localization.get("increment")),e(t,3,0,n.arrowDirection===n.arrow.Down,n.localization.get("decrement"),n.localization.get("decrement"))}))}function xj(e){return no(2,[Ha(402653184,1,{dateInput:0}),Ha(402653184,2,{wrap:0}),(e()(),La(2,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,QP,null,[JP]),jl(4,737280,null,0,JP,[$g],{decrement:[0,"decrement"],increment:[1,"increment"]},null),(e()(),La(5,0,[[2,0],["wrap",1]],null,5,"span",[["class","k-dateinput-wrap"]],null,null,null,null,null)),(e()(),La(6,0,[[1,0],["dateInput",1]],null,2,"input",[["autocapitalize","off"],["autocomplete","off"],["autocorrect","off"],["class","k-input"],["role","spinbutton"],["spellcheck","false"]],[[8,"id",0],[8,"title",0],[8,"tabIndex",0],[8,"disabled",0],[8,"readOnly",0],[8,"placeholder",0],[1,"aria-expanded",0],[1,"aria-haspopup",0],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"aria-valuetext",0]],null,null,null,null)),jl(7,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(8,{click:0,focus:1,mousedown:2,touchstart:3,dragstart:4,drop:5,blur:6}),(e()(),Na(16777216,null,null,1,null,wj)),jl(10,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"Decrease value","Increase value");var i=e(t,8,0,n.handleClick,n.handleFocus,n.handleMousedown,n.handleMousedown,n.handleDragAndDrop,n.handleDragAndDrop,n.handleBlur);e(t,7,0,i,n),e(t,10,0,n.spinners)}),(function(e,t){var n=t.component;e(t,6,1,[n.focusableId,n.title,n.tabindex,n.disabled,n.readonly,n.placeholder,n.isPopupOpen,n.hasPopup,n.ariaValueMin,n.ariaValueMax,n.ariaValueNow,n.ariaValueText])}))}var Cj=Ei({encapsulation:2,styles:[],data:{}});function Sj(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function Tj(e){return no(0,[(e()(),La(0,0,null,null,23,"kendo-calendar",[],[[2,"k-week-number",null],[1,"id",0],[1,"role",0],[1,"tabindex",0],[1,"aria-disabled",0],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==l.handleChange(l.mergeTime(n))&&i),i}),kj,yj)),Wl(5120,null,Yy,(function(e){return[e]}),[xP]),Wl(5120,null,ib,(function(e){return[e]}),[xP]),Wl(6144,null,tg,null,[xP]),Wl(512,null,xT,xT,[pn]),Wl(512,null,hP,hP,[xT]),Wl(512,null,dP,dP,[YT,Qr]),Wl(512,null,_P,_P,[]),jl(8,13352960,[["calendar",4]],8,xP,[xT,YT,Hn,hP,qn,Zt,Qr,pn,dP,_P,[2,fP]],{focusedDate:[0,"focusedDate"],min:[1,"min"],max:[2,"max"],value:[3,"value"],disabledDates:[4,"disabledDates"],navigation:[5,"navigation"],activeView:[6,"activeView"],bottomView:[7,"bottomView"],topView:[8,"topView"],weekNumber:[9,"weekNumber"],cellTemplateRef:[10,"cellTemplateRef"],monthCellTemplateRef:[11,"monthCellTemplateRef"],yearCellTemplateRef:[12,"yearCellTemplateRef"],decadeCellTemplateRef:[13,"decadeCellTemplateRef"],centuryCellTemplateRef:[14,"centuryCellTemplateRef"],weekNumberTemplateRef:[15,"weekNumberTemplateRef"],headerTitleTemplateRef:[16,"headerTitleTemplateRef"],navigationItemTemplateRef:[17,"navigationItemTemplateRef"]},{valueChange:"valueChange"}),Ha(335544320,4,{cellTemplate:0}),Ha(335544320,5,{monthCellTemplate:0}),Ha(335544320,6,{yearCellTemplate:0}),Ha(335544320,7,{decadeCellTemplate:0}),Ha(335544320,8,{centuryCellTemplate:0}),Ha(335544320,9,{weekNumberTemplate:0}),Ha(335544320,10,{headerTitleTemplate:0}),Ha(335544320,11,{navigationItemTemplate:0}),jl(17,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(18,{keydown:0}),Wl(256,null,Kg,"kendo.calendar",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),(e()(),La(21,0,null,null,2,"kendo-calendar-messages",[],null,null,null,Dj,Ej)),Wl(6144,null,YP,null,[GP]),jl(23,770048,null,0,GP,[$g],{today:[0,"today"]},null),(e()(),Na(0,null,null,0,null,Sj))],(function(e,t){var n=t.component;e(t,8,1,[n.focusedDate,n.min,n.max,n.value,n.disabledDates,n.navigation,n.activeView,n.bottomView,n.topView,n.weekNumber,n.cellTemplate,n.monthCellTemplate,n.yearCellTemplate,n.decadeCellTemplate,n.centuryCellTemplate,n.weekNumberTemplate,n.headerTitleTemplate,n.navigationItemTemplate]);var i=e(t,18,0,n.handleKeydown);e(t,17,0,i,n),e(t,23,0,n.localization.get("today"))}),(function(e,t){e(t,0,0,Ml(t,8).weekNumber,Ml(t,8).widgetId,Ml(t,8).widgetRole,Ml(t,8).calendarTabIndex,Ml(t,8).ariaDisabled,Ml(t,8).ariaDisabled)}))}function Pj(e){return no(2,[Ha(402653184,1,{container:0}),Ha(402653184,2,{popupTemplate:0}),Ha(402653184,3,{wrapper:0}),(e()(),La(3,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,tM,null,[nM]),jl(5,737280,null,0,nM,[$g],{today:[0,"today"],toggle:[1,"toggle"]},null),(e()(),La(6,0,[[3,0],["wrapper",1]],null,11,"span",[["class","k-picker-wrap k-state-default"]],[[2,"k-state-disabled",null]],null,null,null,null)),(e()(),La(7,0,null,null,6,"kendo-dateinput",[],[[2,"k-widget",null],[2,"k-dateinput",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.handleInputChange(n)&&i),i}),xj,_j)),Wl(5120,null,Yy,(function(e){return[e]}),[DP]),Wl(5120,null,ib,(function(e){return[e]}),[DP]),Wl(6144,null,tg,null,[DP]),Wl(256,null,Kg,"kendo.dateinput",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(13,770048,[["input",4]],0,DP,[Zt,aS,qn,Hn,Qr,pn,$g,[2,fP]],{focusableId:[0,"focusableId"],disabled:[1,"disabled"],readonly:[2,"readonly"],title:[3,"title"],tabindex:[4,"tabindex"],format:[5,"format"],formatPlaceholder:[6,"formatPlaceholder"],placeholder:[7,"placeholder"],max:[8,"max"],min:[9,"min"],value:[10,"value"],isPopupOpen:[11,"isPopupOpen"],hasPopup:[12,"hasPopup"]},{valueChange:"valueChange"}),(e()(),La(14,0,null,null,3,"span",[["class","k-select"],["role","button"]],[[1,"title",0],[1,"aria-label",0],[1,"aria-controls",0]],null,null,null,null)),jl(15,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(16,{click:0,mousedown:1}),(e()(),La(17,0,null,null,0,"span",[["class","k-icon k-i-calendar"]],null,null,null,null,null)),(e()(),La(18,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null)),(e()(),Na(0,[[2,2],["popupTemplate",2]],null,0,null,Tj))],(function(e,t){var n=t.component;e(t,5,0,"TODAY","Toggle calendar"),e(t,13,1,[n.focusableId,n.disabled,n.readonly,n.title,n.tabindex,n.format,n.formatPlaceholder,n.placeholder,n.max,n.min,n.value,n.show,!0]);var i=e(t,16,0,n.handleIconClick,n.handleMousedown);e(t,15,0,i,n)}),(function(e,t){var n=t.component;e(t,6,0,n.disabled),e(t,7,0,Ml(t,13).wrapperClass,Ml(t,13).wrapperClass,Ml(t,13).disabledClass),e(t,14,0,n.localization.get("toggle"),n.localization.get("toggle"),n.popupUID)}))}var Mj=Ei({encapsulation:2,styles:[],data:{}});function Aj(e){return no(0,[(e()(),La(0,0,null,null,8,"kendo-timeselector",[],[[2,"k-timeselector",null],[2,"k-state-disabled",null]],[[null,"valueChange"],[null,"valueReject"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==l.handleChange(n)&&i),"valueReject"===t&&(i=!1!==l.handleReject()&&i),i}),SH,mH)),jl(1,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(2,{keydown:0,mousedown:1}),Wl(256,null,Kg,"kendo.timeselector",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(5,770048,[["timeSelector",4]],0,YM,[$g,Zt,Hn,aS,uM,Qr,qn,[2,fP]],{format:[0,"format"],min:[1,"min"],max:[2,"max"],cancelButton:[3,"cancelButton"],nowButton:[4,"nowButton"],steps:[5,"steps"],value:[6,"value"]},{valueChange:"valueChange",valueReject:"valueReject"}),(e()(),La(6,0,null,null,2,"kendo-timeselector-messages",[],null,null,null,gH,vH)),Wl(6144,null,qM,null,[KM]),jl(8,770048,null,0,KM,[$g],{accept:[0,"accept"],acceptLabel:[1,"acceptLabel"],cancel:[2,"cancel"],cancelLabel:[3,"cancelLabel"],now:[4,"now"],nowLabel:[5,"nowLabel"]},null)],(function(e,t){var n=t.component,i=e(t,2,0,n.handleKeydown,n.handleMousedown);e(t,1,0,i,n),e(t,5,0,n.format,n.min,n.max,n.cancelButton,n.nowButton,n.steps,n.value),e(t,8,0,n.localization.get("accept"),n.localization.get("acceptLabel"),n.localization.get("cancel"),n.localization.get("cancelLabel"),n.localization.get("now"),n.localization.get("nowLabel"))}),(function(e,t){e(t,0,0,Ml(t,5).componentClass,Ml(t,5).disabledClass)}))}function Ij(e){return no(2,[Ha(402653184,1,{container:0}),Ha(402653184,2,{popupTemplate:0}),Ha(402653184,3,{wrapper:0}),(e()(),La(3,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,qM,null,[GM]),jl(5,737280,null,0,GM,[$g],{accept:[0,"accept"],acceptLabel:[1,"acceptLabel"],cancel:[2,"cancel"],cancelLabel:[3,"cancelLabel"],now:[4,"now"],nowLabel:[5,"nowLabel"],toggle:[6,"toggle"]},null),(e()(),La(6,0,[[3,0],["wrapper",1]],null,12,"span",[["class","k-picker-wrap k-state-default"]],[[2,"k-state-disabled",null]],null,null,null,null)),(e()(),La(7,0,null,null,6,"kendo-dateinput",[],[[2,"k-widget",null],[2,"k-dateinput",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.handleInputChange(n)&&i),i}),xj,_j)),Wl(5120,null,Yy,(function(e){return[e]}),[DP]),Wl(5120,null,ib,(function(e){return[e]}),[DP]),Wl(6144,null,tg,null,[DP]),Wl(256,null,Kg,"kendo.dateinput",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(13,770048,[["input",4]],0,DP,[Zt,aS,qn,Hn,Qr,pn,$g,[2,fP]],{focusableId:[0,"focusableId"],disabled:[1,"disabled"],readonly:[2,"readonly"],title:[3,"title"],tabindex:[4,"tabindex"],format:[5,"format"],formatPlaceholder:[6,"formatPlaceholder"],placeholder:[7,"placeholder"],steps:[8,"steps"],max:[9,"max"],min:[10,"min"],value:[11,"value"],isPopupOpen:[12,"isPopupOpen"],hasPopup:[13,"hasPopup"]},{valueChange:"valueChange"}),(e()(),La(14,0,null,null,3,"span",[["class","k-select"],["role","button"]],[[1,"title",0],[1,"aria-label",0],[1,"aria-controls",0]],null,null,null,null)),jl(15,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(16,{click:0,mousedown:1}),(e()(),La(17,0,null,null,0,"span",[["class","k-icon k-i-clock"]],null,null,null,null,null)),(e()(),Na(0,[[2,2],["popupTemplate",2]],null,0,null,Aj)),(e()(),La(19,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(e,t){var n=t.component;e(t,5,0,"Set","Set time","Cancel","Cancel changes","Now","Select now","Toggle time list"),e(t,13,1,[n.focusableId,n.disabled,n.readonly,n.title,n.show?-1:n.tabindex,n.format,n.formatPlaceholder,n.placeholder,n.steps,n.normalizeTime(n.max),n.normalizeTime(n.min),n.value,n.show,!0]);var i=e(t,16,0,n.handleIconClick,n.handleMousedown);e(t,15,0,i,n)}),(function(e,t){var n=t.component;e(t,6,0,n.disabled),e(t,7,0,Ml(t,13).wrapperClass,Ml(t,13).wrapperClass,Ml(t,13).disabledClass),e(t,14,0,n.localization.get("toggle"),n.localization.get("toggle"),n.popupUID)}))}var Ej=Ei({encapsulation:2,styles:[],data:{}});function Dj(e){return no(0,[],null,null)}var Oj=Ei({encapsulation:2,styles:[],data:{}});function Fj(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.service.navigationTitle(t.parent.context.$implicit))}))}function Rj(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function Nj(e){return no(0,[(e()(),La(0,0,null,null,7,"li",[],[[1,"data-date-index",0]],null,null,null,null)),(e()(),La(1,0,null,null,6,"span",[],[[2,"k-calendar-navigation-marker",null]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Fj)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,3,null,Rj)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(6,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(7,{$implicit:0,activeView:1,date:2})],(function(e,t){var n=t.component;e(t,3,0,!n.templateRef),e(t,5,0,n.templateRef);var i=e(t,7,0,n.service.navigationTitle(t.context.$implicit),n.activeViewValue,t.context.$implicit);e(t,6,0,i,n.templateRef)}),(function(e,t){var n=t.component;e(t,0,0,t.context.index),e(t,1,0,n.service.isRangeStart(t.context.$implicit))}))}function Lj(e){return no(2,[Ha(402653184,1,{virtualization:0}),Ha(402653184,2,{list:0}),(e()(),La(2,0,null,null,0,"span",[["class","k-calendar-navigation-highlight"]],null,null,null,null,null)),(e()(),La(3,0,null,null,7,"kendo-virtualization",[],[[2,"k-content",null],[2,"k-scrollable",null],[2,"k-scrollable-horizontal",null]],[[null,"pageChange"],[null,"scrollChange"]],(function(e,t,n){var i=!0,l=e.component;return"pageChange"===t&&(i=!1!==l.onPageChange(n)&&i),"scrollChange"===t&&(i=!1!==l.scrollChange(n)&&i),i}),Vj,Bj)),Wl(256,null,ZT,QT,[]),jl(5,4964352,[[1,4]],0,iP,[ZT,Hn,qn,Qr],{itemHeight:[0,"itemHeight"],topOffset:[1,"topOffset"],bottomOffset:[2,"bottomOffset"],maxScrollDifference:[3,"maxScrollDifference"],skip:[4,"skip"],take:[5,"take"],total:[6,"total"]},{pageChange:"pageChange",scrollChange:"scrollChange"}),(e()(),La(6,0,[[2,0],["list",1]],0,4,"ul",[["class","k-reset"]],null,null,null,null,null)),jl(7,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(8,{click:0}),(e()(),Na(16777216,null,null,1,null,Nj)),jl(10,802816,null,0,VP,[di,ci,ri],{kForOf:[0,"kForOf"]},null)],(function(e,t){var n=t.component;e(t,5,0,n.itemHeight,n.topOffset,n.bottomOffset,n.maxViewHeight,n.skip,n.take,n.total);var i=e(t,8,0,n.handleDateChange);e(t,7,0,i,n),e(t,10,0,n.dates)}),(function(e,t){e(t,3,0,Ml(t,5).wrapperClasses,Ml(t,5).wrapperClasses,Ml(t,5).horizontalClass)}))}var Bj=Ei({encapsulation:2,styles:[],data:{}});function Vj(e){return no(0,[Ga(null,0),(e()(),La(1,0,null,null,2,"div",[["class","k-scrollable-placeholder"]],[[2,"k-scrollable-horizontal-placeholder",null]],null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(3,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null)],(function(e,t){e(t,3,0,t.component.totalVertexLength)}),(function(e,t){e(t,1,0,"horizontal"===t.component.direction)}))}var zj=Ei({encapsulation:2,styles:[],data:{}});function jj(e){return no(0,[(e()(),La(0,0,null,null,1,"th",[],[[4,"width","%"]],null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.colWidth),e(t,1,0,t.context.$implicit)}))}function Hj(e){return no(0,[(e()(),La(0,0,null,null,4,"table",[["class","k-calendar-weekdays"],["style","table-layout: auto;"]],null,null,null,null,null)),(e()(),La(1,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),La(2,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,jj)),jl(4,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,4,0,t.component.weekNames)}),null)}function Wj(e){return no(0,[(e()(),La(0,0,null,null,0,"col",[],null,null,null,null,null))],null,null)}function Uj(e){return no(0,[(e()(),La(0,0,null,null,1,"tbody",[["kendoCalendarView",""],["role","rowgroup"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.handleDateChange(n)&&i),i}),hH,$j)),jl(1,770048,null,0,HP,[xT,aS,Zt,jP,Hn,Qr,qn,_P],{isActive:[0,"isActive"],activeView:[1,"activeView"],cellUID:[2,"cellUID"],focusedDate:[3,"focusedDate"],selectedDate:[4,"selectedDate"],viewDate:[5,"viewDate"],min:[6,"min"],max:[7,"max"],weekNumber:[8,"weekNumber"],templateRef:[9,"templateRef"],weekNumberTemplateRef:[10,"weekNumberTemplateRef"]},{change:"change"})],(function(e,t){var n=t.component;e(t,1,1,[n.isActive,n.activeView,n.cellUID,n.focusedDate,n.value,t.context.$implicit,n.min,n.max,n.weekNumber,n.cellTemplateRef,n.weekNumberTemplateRef])}),null)}function Yj(e){return no(2,[Ha(402653184,1,{virtualization:0}),Ha(402653184,2,{list:0}),(e()(),La(2,0,null,null,1,"kendo-calendar-header",[],[[2,"k-calendar-header",null]],[[null,"today"]],(function(e,t,n){var i=!0;return"today"===t&&(i=!1!==e.component.handleDateChange(n)&&i),i}),Kj,qj)),jl(3,770048,null,0,zP,[xT,Zt,$g,aS,_P],{activeView:[0,"activeView"],currentDate:[1,"currentDate"],min:[2,"min"],max:[3,"max"],templateRef:[4,"templateRef"]},{today:"today"}),(e()(),Na(16777216,null,null,1,null,Hj)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(6,0,null,null,8,"kendo-virtualization",[],[[8,"tabIndex",0],[2,"k-content",null],[2,"k-scrollable",null],[2,"k-scrollable-horizontal",null]],[[null,"pageChange"],[null,"scrollChange"],[null,"activeIndexChange"]],(function(e,t,n){var i=!0,l=e.component;return"pageChange"===t&&(i=!1!==l.onPageChange(n)&&i),"scrollChange"===t&&(i=!1!==l.scrollChange(n)&&i),"activeIndexChange"===t&&(i=!1!==l.setActiveDate(n)&&i),i}),Vj,Bj)),Wl(256,null,ZT,QT,[]),jl(8,4964352,[[1,4]],0,iP,[ZT,Hn,qn,Qr],{itemHeight:[0,"itemHeight"],topOffset:[1,"topOffset"],bottomOffset:[2,"bottomOffset"],maxScrollDifference:[3,"maxScrollDifference"],scrollOffsetSize:[4,"scrollOffsetSize"],skip:[5,"skip"],take:[6,"take"],total:[7,"total"]},{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"}),(e()(),La(9,0,[[2,0],["list",1]],0,5,"table",[],null,null,null,null,null)),(e()(),La(10,0,null,null,2,"colgroup",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Wj)),jl(12,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(16777216,null,null,1,null,Uj)),jl(14,802816,null,0,VP,[di,ci,ri],{kForOf:[0,"kForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.activeView,n.activeDate,n.min,n.max,n.headerTitleTemplateRef),e(t,5,0,n.isMonthView()),e(t,8,0,n.viewHeight,n.viewOffset,n.bottomOffset,n.viewHeight,n.viewOffset,n.skip,n.take,n.total),e(t,12,0,n.cols),e(t,14,0,n.dates)}),(function(e,t){e(t,2,0,Ml(t,3).getComponentClass),e(t,6,0,-1,Ml(t,8).wrapperClasses,Ml(t,8).wrapperClasses,Ml(t,8).horizontalClass)}))}var qj=Ei({encapsulation:2,styles:[],data:{}});function Gj(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.title)}))}function Xj(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function Kj(e){return no(0,[(e()(),La(0,0,null,null,8,"span",[["class","k-button k-bare k-title"]],[[2,"k-state-disabled",null]],null,null,null,null)),jl(1,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(2,{click:0}),(e()(),Na(16777216,null,null,1,null,Gj)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,3,null,Xj)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(7,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(8,{$implicit:0,activeView:1,date:2}),(e()(),La(9,0,null,null,3,"span",[["class","k-today"]],[[2,"k-state-disabled",null]],null,null,null,null)),jl(10,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(11,{click:0}),(e()(),Ja(12,null,[" "," "]))],(function(e,t){var n=t.component,i=e(t,2,0,n.handleNavigation);e(t,1,0,i,n),e(t,4,0,!n.templateRef),e(t,6,0,n.templateRef);var l=e(t,8,0,n.title,n.activeViewValue,n.currentDate);e(t,7,0,l,n.templateRef);var r=e(t,11,0,n.handleTodayClick);e(t,10,0,r,n)}),(function(e,t){var n=t.component;e(t,0,0,!n.navigate),e(t,9,0,!n.todayAvailable),e(t,12,0,n.todayMessage)}))}var $j=Ei({encapsulation:2,styles:[],data:{}});function Zj(e){return no(0,[(e()(),La(0,0,null,null,1,"td",[["class","k-empty"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\xa0"]))],null,null)}function Qj(e){return no(0,[(e()(),La(0,0,null,null,2,"tr",[["role","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"th",[["scope","col"]],[[8,"colSpan",0]],null,null,null,null)),(e()(),Ja(2,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.colSpan),e(t,2,0,n.title)}))}function Jj(e){return no(0,[(e()(),La(0,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit)}))}function eH(e){return no(0,[(e()(),La(0,0,null,null,2,"tr",[["role","row"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Jj)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.weekNames)}),null)}function tH(e){return no(0,[(e()(),Ja(0,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,0,0,n.getWeekNumber(n.firstDate(t.parent.parent.parent.context.$implicit)))}))}function nH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function iH(e){return no(0,[(e()(),La(0,0,null,null,6,"td",[["class","k-alt"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,tH)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,3,null,nH)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(5,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(6,{$implicit:0,cellContext:1})],(function(e,t){var n=t.component;e(t,2,0,!n.weekNumberTemplateRef),e(t,4,0,n.weekNumberTemplateRef);var i=e(t,6,0,n.firstDate(t.parent.parent.context.$implicit),n.getWeekNumberContext(t.parent.parent.context.$implicit));e(t,5,0,i,n.weekNumberTemplateRef)}),null)}function lH(e){return no(0,[(e()(),Na(16777216,null,null,1,null,iH)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.component.firstDate(t.parent.context.$implicit),Ml(t.parent.parent,0))}),null)}function rH(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.parent.parent.context.$implicit.formattedValue)}))}function aH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function oH(e){return no(0,[(e()(),Na(16777216,null,null,2,null,aH)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{$implicit:0,cellContext:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.parent.context.$implicit.value,t.parent.parent.context.$implicit);e(t,1,0,i,n.templateRef)}),null)}function sH(e){return no(0,[(e()(),La(0,0,null,null,7,"td",[["role","gridcell"]],[[1,"id",0],[1,"data-cell-index",0],[1,"aria-selected",0],[1,"aria-disabled",0],[8,"title",0]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),(e()(),La(3,0,null,null,4,"span",[["class","k-link"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,rH)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,oH)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.getStyles(t.parent.context.$implicit)),e(t,5,0,!n.templateRef),e(t,7,0,n.templateRef)}),(function(e,t){e(t,0,0,t.parent.context.$implicit.id,t.component.tableCellIndex(t.parent.parent.context.index,t.parent.context.index),t.parent.context.$implicit.isSelected||t.parent.context.$implicit.isRangeStart||t.parent.context.$implicit.isRangeMid||t.parent.context.$implicit.isRangeEnd,t.parent.context.$implicit.isDisabled,t.parent.context.$implicit.title)}))}function uH(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,sH)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.context.$implicit,Ml(t.parent.parent,0))}),null)}function cH(e){return no(0,[(e()(),La(0,0,null,null,4,"tr",[["role","row"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,lH)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,uH)),jl(4,802816,null,0,VP,[di,ci,ri],{kForOf:[0,"kForOf"]},null)],(function(e,t){e(t,2,0,t.component.weekNumber),e(t,4,0,t.context.$implicit)}),null)}function hH(e){return no(0,[(e()(),Na(0,[["emptyCell",2]],null,0,null,Zj)),(e()(),Na(16777216,null,null,1,null,Qj)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,eH)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,cH)),jl(6,802816,null,0,VP,[di,ci,ri],{kForOf:[0,"kForOf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.isHorizontal()),e(t,4,0,n.isMonthView()&&n.isHorizontal()),e(t,6,0,n.data)}),null)}var dH=Ei({encapsulation:2,styles:[],data:{}});function fH(e){return no(0,[(e()(),La(0,0,null,null,2,"li",[["class","k-item"]],[[1,"data-timelist-item-index",0]],null,null,null,null)),(e()(),La(1,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ja(2,null,["",""]))],null,(function(e,t){e(t,0,0,t.context.index),e(t,2,0,t.context.$implicit.text)}))}function pH(e){return no(0,[Ha(402653184,1,{virtualization:0}),(e()(),La(1,0,null,null,9,"kendo-virtualization",[["class","k-time-container"],["role","presentation"],["tabindex","-1"]],[[2,"k-content",null],[2,"k-scrollable",null],[2,"k-scrollable-horizontal",null]],null,null,Vj,Bj)),Wl(256,null,ZT,QT,[]),jl(3,4964352,[[1,4]],0,iP,[ZT,Hn,qn,Qr],{itemHeight:[0,"itemHeight"],topOffset:[1,"topOffset"],bottomOffset:[2,"bottomOffset"],maxScrollDifference:[3,"maxScrollDifference"],skip:[4,"skip"],take:[5,"take"],total:[6,"total"]},null),(e()(),La(4,0,null,0,6,"ul",[["class","k-reset"]],null,null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(6,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),jl(7,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(8,{click:0}),(e()(),Na(16777216,null,null,1,null,fH)),jl(10,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,3,0,n.itemHeight,n.topOffset,n.bottomOffset,n.listHeight,n.skip,n.total,n.total),e(t,6,0,n.style);var i=e(t,8,0,n.handleItemClick);e(t,7,0,i,n),e(t,10,0,n.data)}),(function(e,t){e(t,1,0,Ml(t,3).wrapperClasses,Ml(t,3).wrapperClasses,Ml(t,3).horizontalClass)}))}var vH=Ei({encapsulation:2,styles:[],data:{}});function gH(e){return no(0,[],null,null)}var mH=Ei({encapsulation:2,styles:[],data:{}});function yH(e){return no(0,[(e()(),La(0,0,[[3,0],["now",1]],null,3,"button",[["class","k-button k-bare k-time-now"],["type","button"]],[[1,"title",0],[1,"aria-label",0],[8,"disabled",0]],null,null,null,null)),jl(1,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(2,{click:0,focus:1,blur:2}),(e()(),Ja(3,null,["",""]))],(function(e,t){var n=t.component,i=e(t,2,0,n.handleNow,n.handleFocus,n.handleBlur);e(t,1,0,i,n)}),(function(e,t){var n=t.component;e(t,0,0,n.localization.get("nowLabel"),n.localization.get("nowLabel"),n.disabled),e(t,3,0,n.localization.get("now"))}))}function bH(e){return no(0,[(e()(),La(0,0,[[5,0],["listWrapper",1]],null,6,"div",[["class","k-time-list-wrapper"],["role","presentation"],["tabindex","-1"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"span",[["class","k-title"]],null,null,null,null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,3,"kendo-timelist",[],[[1,"data-timelist-index",0],[1,"tabindex",0],[2,"k-time-list",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==(e.component.current=n)&&i),i}),pH,dH)),jl(4,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(5,{focus:0,blur:1}),jl(6,13352960,[[4,4]],0,NM,[Hn,pn,uM,qn,Qr],{min:[0,"min"],max:[1,"max"],part:[2,"part"],step:[3,"step"],disabled:[4,"disabled"],value:[5,"value"]},{valueChange:"valueChange"})],(function(e,t){var n=t.component,i=e(t,5,0,n.handleListFocus,n.handleBlur);e(t,4,0,i,n),e(t,6,0,n.min,n.max,t.parent.context.$implicit,n.partStep(t.parent.context.$implicit),n.disabled,n.current)}),(function(e,t){e(t,2,0,t.component.intl.dateFieldName(t.parent.context.$implicit)),e(t,3,0,t.parent.context.index,Ml(t,6).tabIndex,Ml(t,6).componentClass)}))}function kH(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","k-time-separator"]],null,null,null,null,null)),(e()(),Ja(1,null,[" "," "]))],null,(function(e,t){e(t,1,0,t.parent.context.$implicit.pattern)}))}function _H(e){return no(0,[(e()(),Na(16777216,null,null,1,null,bH)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,kH)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,"literal"!==t.context.$implicit.type),e(t,3,0,"literal"===t.context.$implicit.type)}),null)}function wH(e){return no(0,[(e()(),La(0,0,[[2,0],["cancel",1]],null,3,"button",[["class","k-button k-time-cancel"],["type","button"]],[[1,"title",0],[1,"aria-label",0],[8,"disabled",0]],null,null,null,null)),jl(1,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(2,{click:0,focus:1,blur:2}),(e()(),Ja(3,null,["",""]))],(function(e,t){var n=t.component,i=e(t,2,0,n.handleReject,n.handleFocus,n.handleBlur);e(t,1,0,i,n)}),(function(e,t){var n=t.component;e(t,0,0,n.localization.get("cancelLabel"),n.localization.get("cancelLabel"),n.disabled),e(t,3,0,n.localization.get("cancel"))}))}function xH(e){return no(0,[(e()(),La(0,0,[[1,0],["accept",1]],null,3,"button",[["class","k-time-accept k-button k-primary"],["type","button"]],[[1,"title",0],[1,"aria-label",0],[8,"disabled",0]],null,null,null,null)),jl(1,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"],scope:[1,"scope"]},null),Za(2,{click:0,focus:1,blur:2}),(e()(),Ja(3,null,["",""]))],(function(e,t){var n=t.component,i=e(t,2,0,n.handleAccept,n.handleFocus,n.handleBlur);e(t,1,0,i,n)}),(function(e,t){var n=t.component;e(t,0,0,n.localization.get("acceptLabel"),n.localization.get("acceptLabel"),n.disabled),e(t,3,0,n.localization.get("accept"))}))}function CH(e){return no(0,[(e()(),La(0,0,null,null,4,"div",[["class","k-time-footer k-action-buttons"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,wH)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,xH)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.cancelButton),e(t,4,0,n.setButton)}),null)}function SH(e){return no(2,[Ha(671088640,1,{accept:0}),Ha(671088640,2,{cancel:0}),Ha(671088640,3,{now:0}),Ha(671088640,4,{timeLists:1}),Ha(671088640,5,{timeListWrappers:1}),(e()(),La(5,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,qM,null,[XM]),jl(7,737280,null,0,XM,[$g],{accept:[0,"accept"],acceptLabel:[1,"acceptLabel"],cancel:[2,"cancel"],cancelLabel:[3,"cancelLabel"],now:[4,"now"],nowLabel:[5,"nowLabel"]},null),(e()(),La(8,0,null,null,4,"div",[["class","k-time-header"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"span",[["class","k-title"]],null,null,null,null,null)),(e()(),Ja(10,null,[" "," "])),(e()(),Na(16777216,null,null,1,null,yH)),jl(12,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(13,0,null,null,3,"div",[["class","k-time-list-container"]],null,null,null,null,null)),(e()(),La(14,0,null,null,0,"span",[["class","k-time-highlight"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,_H)),jl(16,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(16777216,null,null,1,null,CH)),jl(18,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,7,0,"Set","Set time","Cancel","Cancel changes","Now","Select now"),e(t,12,0,n.showNowButton),e(t,16,0,n.dateFormatParts),e(t,18,0,n.setButton||n.cancelButton)}),(function(e,t){var n=t.component;e(t,10,0,n.intl.formatDate(n.current,n.format))}))}var TH=Ei({encapsulation:2,styles:[],data:{}});function PH(e){return no(0,[(e()(),La(0,0,null,null,10,"span",[["class","k-select"]],null,null,null,null,null)),jl(1,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"]},null),Za(2,{mouseup:0,mouseleave:1}),(e()(),La(3,0,null,null,3,"span",[["class","k-link k-link-increase"]],[[1,"aria-label",0],[8,"title",0],[2,"k-state-active",null]],null,null,null,null)),jl(4,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"]},null),Za(5,{mousedown:0}),(e()(),La(6,0,null,null,0,"span",[["class","k-icon k-i-arrow-n"]],null,null,null,null,null)),(e()(),La(7,0,null,null,3,"span",[["class","k-link k-link-decrease"]],[[1,"aria-label",0],[8,"title",0],[2,"k-state-active",null]],null,null,null,null)),jl(8,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"]},null),Za(9,{mousedown:0}),(e()(),La(10,0,null,null,0,"span",[["class","k-icon k-i-arrow-s"]],null,null,null,null,null))],(function(e,t){var n=t.component,i=e(t,2,0,n.releaseArrow,n.releaseArrow);e(t,1,0,i);var l=e(t,5,0,n.increasePress);e(t,4,0,l);var r=e(t,9,0,n.decreasePress);e(t,8,0,r)}),(function(e,t){var n=t.component;e(t,3,0,n.incrementTitle,n.incrementTitle,n.arrowDirection===n.ArrowDirection.Up),e(t,7,0,n.decrementTitle,n.decrementTitle,n.arrowDirection===n.ArrowDirection.Down)}))}function MH(e){return no(0,[Ha(402653184,1,{numericInput:0}),Ha(402653184,2,{numericWrap:0}),(e()(),La(2,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,IB,null,[EB]),jl(4,737280,null,0,EB,[$g],{decrement:[0,"decrement"],increment:[1,"increment"]},null),(e()(),La(5,0,[[2,0],["numericWrap",1]],null,7,"span",[["class","k-numeric-wrap"]],[[2,"k-state-disabled",null]],null,null,null,null)),jl(6,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"]},null),Za(7,{mousewheel:0,DOMMouseScroll:1}),(e()(),La(8,0,[[1,0],["numericInput",1]],null,2,"input",[["autocomplete","off"],["autocorrect","off"],["class","k-input k-formatted-value"],["role","spinbutton"]],[[8,"id",0],[1,"aria-valuemin",0],[1,"aria-valuemax",0],[1,"aria-valuenow",0],[1,"title",0],[1,"placeholder",0],[8,"tabIndex",0],[8,"disabled",0],[8,"readOnly",0]],null,null,null,null)),jl(9,212992,null,0,Wv,[Hn,Qr,qn],{events:[0,"events"]},null),Za(10,{mousedown:0,dragenter:1,keydown:2,input:3,focus:4,blur:5,paste:6}),(e()(),Na(16777216,null,null,1,null,PH)),jl(12,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"Decrease value","Increase value");var i=e(t,7,0,n.handleWheel,n.handleWheel);e(t,6,0,i);var l=e(t,10,0,n.handleMouseDown,n.handleDragEnter,n.handleKeyDown,n.handleInput,n.handleFocus,n.handleBlur,n.handlePaste);e(t,9,0,l),e(t,12,0,n.spinners)}),(function(e,t){var n=t.component;e(t,5,0,n.disabled),e(t,8,0,n.focusableId,n.min,n.max,n.value,n.title,n.placeholder,n.tabIndex,n.disabled,n.readonly)}))}var AH=Ei({encapsulation:2,styles:[],data:{}});function IH(e){return no(0,[Ga(null,0)],null,null)}var EH=Ei({encapsulation:2,styles:[],data:{}});function DH(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-clear-value k-i-close"],["role","button"],["tabindex","-1"]],[[1,"title",0]],[[null,"click"],[null,"mousedown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.clearValue(n)&&i),"mousedown"===t&&(i=!1!==n.preventDefault()&&i),i}),null,null))],null,(function(e,t){e(t,0,0,t.component.clearTitle)}))}function OH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function FH(e){return no(0,[(e()(),Na(16777216,null,null,2,null,OH)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.headerTemplate.templateRef);e(t,1,0,n)}),null)}function RH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function NH(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.noDataText)}))}function LH(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["class","k-nodata"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,RH)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(3,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(4,{templateRef:0}),(e()(),Na(16777216,null,null,1,null,NH)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.noDataTemplate);var i=e(t,4,0,n.noDataTemplate?n.noDataTemplate.templateRef:void 0);e(t,3,0,i),e(t,6,0,!n.noDataTemplate)}),null)}function BH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function VH(e){return no(0,[(e()(),Na(16777216,null,null,2,null,BH)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.footerTemplate.templateRef);e(t,1,0,n)}),null)}function zH(e){return no(0,[(e()(),Na(16777216,null,null,1,null,FH)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(2,0,null,null,1,"kendo-list",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.pageChange(n)&&i),i}),lU,LW)),jl(3,13287424,[[4,4],["optionsList",4]],0,xE,[gE,Hn,pE,mE,Zt,Qr,qn],{textField:[0,"textField"],valueField:[1,"valueField"],height:[2,"height"],template:[3,"template"],groupTemplate:[4,"groupTemplate"],fixedGroupTemplate:[5,"fixedGroupTemplate"],show:[6,"show"],id:[7,"id"],optionPrefix:[8,"optionPrefix"],virtual:[9,"virtual"],data:[10,"data"]},{pageChange:"pageChange"}),(e()(),Na(16777216,null,null,1,null,LH)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,VH)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.headerTemplate),e(t,3,1,[n.textField,n.valueField,n.listHeight,n.template,n.groupTemplate,n.fixedGroupTemplate,n.isOpen,n.listBoxId,n.optionPrefix,n.virtual,n.data]),e(t,5,0,0===n.data.length),e(t,7,0,n.footerTemplate)}),null)}function jH(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(e,t,n){var i=!0;return"resize"===t&&(i=!1!==e.component.onResize()&&i),i}),Vg,Bg)),jl(1,8568832,null,0,Jv,[Zv,Hn,Qr],null,{resize:"resize"})],null,null)}function HH(e){return no(0,[Ha(402653184,1,{container:0}),Ha(402653184,2,{popupTemplate:0}),Ha(402653184,3,{searchbar:0}),Ha(671088640,4,{optionsList:0}),(e()(),La(4,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,GE,null,[XE]),jl(6,737280,null,0,XE,[$g],{noDataText:[0,"noDataText"],clearTitle:[1,"clearTitle"]},null),(e()(),La(7,0,[["wrapper",1]],null,12,"span",[["class","k-dropdown-wrap"],["unselectable","on"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(9,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(10,{"k-state-default":0,"k-state-disabled":1,"k-state-focused":2}),(e()(),La(11,0,null,null,1,"kendo-searchbar",[],[[2,"k-searchbar",null]],[[null,"onNavigate"],[null,"valueChange"],[null,"onBlur"],[null,"onFocus"]],(function(e,t,n){var i=!0,l=e.component;return"onNavigate"===t&&(i=!1!==l.handleNavigate(n)&&i),"valueChange"===t&&(i=!1!==l.searchBarChange(n)&&i),"onBlur"===t&&(i=!1!==l.handleBlur()&&i),"onFocus"===t&&(i=!1!==l.handleFocus()&&i),i}),aU,rU)),jl(12,770048,[[3,4],["searchbar",4]],0,dE,[$g,qn],{id:[0,"id"],listId:[1,"listId"],activeDescendant:[2,"activeDescendant"],noDataLabel:[3,"noDataLabel"],disabled:[4,"disabled"],readonly:[5,"readonly"],tabIndex:[6,"tabIndex"],popupOpen:[7,"popupOpen"],role:[8,"role"],userInput:[9,"userInput"],suggestedText:[10,"suggestedText"],placeholder:[11,"placeholder"]},{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onNavigate:"onNavigate"}),(e()(),Na(16777216,null,null,1,null,DH)),jl(14,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(15,0,null,null,3,"span",[["class","k-select"],["unselectable","on"]],null,[[null,"click"],[null,"mousedown"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectClick()&&i),"mousedown"===t&&(i=!1!==n.preventDefault()&&i),i}),null,null)),(e()(),La(16,0,null,null,2,"span",[["class","k-icon"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(18,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Na(0,[[2,2],["popupTemplate",2]],null,0,null,zH)),(e()(),Na(16777216,null,null,1,null,jH)),jl(21,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(22,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(e,t){var n=t.component;e(t,6,0,"NO DATA FOUND","clear");var i=e(t,10,0,!n.disabled,n.disabled,n.isFocused);e(t,9,0,"k-dropdown-wrap",i),e(t,12,1,[n.focusableId,n.listBoxId,n.activeDescendant,n.noDataLabel,n.disabled,n.readonly,n.tabIndex,n.isOpen,"combobox",n.text,n.getSuggestion(),n.placeholder]),e(t,14,0,!n.loading&&!n.readonly&&n.clearButton&&(null==n.text?null:n.text.length)),e(t,18,0,"k-icon",n.buttonClasses),e(t,21,0,n.isOpen)}),(function(e,t){e(t,11,0,Ml(t,12).searchBarClass)}))}var WH=Ei({encapsulation:2,styles:[],data:{}});function UH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function YH(e){return no(0,[(e()(),Na(16777216,null,null,2,null,UH)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,n.valueTemplate.templateRef,n.dataItem);e(t,1,0,i)}),null)}function qH(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.getText())}))}function GH(e){return no(0,[(e()(),La(0,0,null,null,8,"span",[["class","k-list-filter"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==n.stopImmediatePropagation()&&i),i}),null,null)),(e()(),La(1,0,null,null,6,"input",[["class","k-textbox"],["tabindex","-1"]],[[1,"aria-owns",0],[1,"aria-activedescendant",0],[1,"aria-label",0],[8,"dir",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"input"],[null,"focus"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==Ml(e,2)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ml(e,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ml(e,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ml(e,2)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(l.filterText=n)&&i),"keydown"===t&&(i=!1!==l.keydown(n)&&i),"input"===t&&(i=!1!==l.handleFilter(n)&&i),"focus"===t&&(i=!1!==l.onFilterFocus()&&i),"blur"===t&&(i=!1!==l.blurFilterInput()&&i),i}),null,null)),jl(2,16384,null,0,Xy,[qn,Hn,[2,Gy]],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[Xy]),jl(4,671744,null,0,Zb,[[8,null],[8,null],[8,null],[6,Yy]],{model:[0,"model"]},{update:"ngModelChange"}),Wl(2048,null,Qy,null,[Zb]),jl(6,16384,null,0,eb,[[4,Qy]],null,null),jl(7,540672,null,0,hD,[Hn,Qr],{focused:[0,"focused"]},null),(e()(),La(8,0,null,null,0,"span",[["class","k-icon k-i-search"],["unselectable","on"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,4,0,n.filterText),e(t,7,0,n.isFocused&&!n.touchEnabled)}),(function(e,t){var n=t.component;e(t,1,1,[n.ariaOwns,n.ariaActivedescendant,n.noDataLabel,n.direction,Ml(t,6).ngClassUntouched,Ml(t,6).ngClassTouched,Ml(t,6).ngClassPristine,Ml(t,6).ngClassDirty,Ml(t,6).ngClassValid,Ml(t,6).ngClassInvalid,Ml(t,6).ngClassPending])}))}function XH(e){return no(0,[(e()(),La(0,0,null,null,5,"div",[["class","k-list-optionlabel"],["kendoDropDownsSelectable",""]],[[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,4).onClick(n)&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-state-disabled":0}),jl(4,16384,null,0,qE,[pE],{index:[0,"index"]},null),(e()(),Ja(5,null,[" "," "]))],(function(e,t){var n=e(t,3,0,t.component.isDisabledDefaultItem);e(t,2,0,"k-list-optionlabel",n),e(t,4,0,-1)}),(function(e,t){var n=t.component;e(t,0,0,Ml(t,4).index,Ml(t,4).height,Ml(t,4).height,Ml(t,4).focusedClassName,Ml(t,4).selectedClassName),e(t,5,0,n.getDefaultItemText())}))}function KH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function $H(e){return no(0,[(e()(),La(0,0,null,null,7,"div",[["class","k-list-optionlabel"],["kendoDropDownsSelectable",""]],[[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,4).onClick(n)&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-state-disabled":0}),jl(4,16384,null,0,qE,[pE],{index:[0,"index"]},null),(e()(),Na(16777216,null,null,2,null,KH)),jl(6,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(7,{templateRef:0,$implicit:1})],(function(e,t){var n=t.component,i=e(t,3,0,n.isDisabledDefaultItem);e(t,2,0,"k-list-optionlabel",i),e(t,4,0,-1);var l=e(t,7,0,n.itemTemplate.templateRef,n.defaultItem);e(t,6,0,l)}),(function(e,t){e(t,0,0,Ml(t,4).index,Ml(t,4).height,Ml(t,4).height,Ml(t,4).focusedClassName,Ml(t,4).selectedClassName)}))}function ZH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function QH(e){return no(0,[(e()(),Na(16777216,null,null,2,null,ZH)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.headerTemplate.templateRef);e(t,1,0,n)}),null)}function JH(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function eW(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.noDataText)}))}function tW(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["class","k-nodata"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,JH)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(3,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(4,{templateRef:0}),(e()(),Na(16777216,null,null,1,null,eW)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.noDataTemplate);var i=e(t,4,0,n.noDataTemplate?n.noDataTemplate.templateRef:void 0);e(t,3,0,i),e(t,6,0,!n.noDataTemplate)}),null)}function nW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function iW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,nW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.footerTemplate.templateRef);e(t,1,0,n)}),null)}function lW(e){return no(0,[(e()(),Na(16777216,null,null,1,null,GH)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,XH)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,$H)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,QH)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(8,0,null,null,1,"kendo-list",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.pageChange(n)&&i),i}),lU,LW)),jl(9,13287424,[[4,4],["optionsList",4]],0,xE,[gE,Hn,pE,mE,Zt,Qr,qn],{textField:[0,"textField"],valueField:[1,"valueField"],height:[2,"height"],template:[3,"template"],groupTemplate:[4,"groupTemplate"],fixedGroupTemplate:[5,"fixedGroupTemplate"],show:[6,"show"],id:[7,"id"],optionPrefix:[8,"optionPrefix"],virtual:[9,"virtual"],data:[10,"data"]},{pageChange:"pageChange"}),(e()(),Na(16777216,null,null,1,null,tW)),jl(11,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,iW)),jl(13,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.filterable),e(t,3,0,n.defaultItem&&!n.itemTemplate),e(t,5,0,n.defaultItem&&n.itemTemplate),e(t,7,0,n.headerTemplate),e(t,9,1,[n.textField,n.valueField,n.listHeight,n.itemTemplate,n.groupTemplate,n.fixedGroupTemplate,n.isOpen,n.listBoxId,n.optionPrefix,n.virtual,n.data]),e(t,11,0,0===n.data.length),e(t,13,0,n.footerTemplate)}),null)}function rW(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(e,t,n){var i=!0;return"resize"===t&&(i=!1!==e.component.onResize()&&i),i}),Vg,Bg)),jl(1,8568832,null,0,Jv,[Zv,Hn,Qr],null,{resize:"resize"})],null,null)}function aW(e){return no(0,[Ha(402653184,1,{container:0}),Ha(402653184,2,{popupTemplate:0}),Ha(402653184,3,{wrapper:0}),Ha(671088640,4,{optionsList:0}),(e()(),La(4,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,GE,null,[XE]),jl(6,737280,null,0,XE,[$g],{noDataText:[0,"noDataText"]},null),(e()(),La(7,0,[[3,0],["wrapper",1]],null,13,"span",[["aria-haspopup","listbox"],["role","listbox"],["unselectable","on"]],[[8,"id",0],[1,"dir",0],[1,"readonly",0],[1,"tabindex",0],[1,"aria-disabled",0],[1,"aria-readonly",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-activedescendant",0],[1,"aria-describedby",0],[1,"aria-label",0]],[[null,"focus"],[null,"blur"],[null,"keydown"],[null,"keypress"],[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"focus"===t&&(i=!1!==l.focusComponent()&&i),"blur"===t&&(i=!1!==l.blurComponent()&&i),"keydown"===t&&(i=!1!==l.keydown(n)&&i),"keypress"===t&&(i=!1!==l.keypress(n)&&i),"click"===t&&(i=!1!==l.click()&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(9,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Za(10,{"k-dropdown-wrap":0,"k-state-default":1,"k-state-disabled":2,"k-state-focused":3}),(e()(),La(11,0,null,null,4,"span",[["class","k-input"],["unselectable","on"]],[[8,"id",0]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,YH)),jl(13,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,qH)),jl(15,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(16,0,null,null,3,"span",[["class","k-select"],["unselectable","on"]],null,null,null,null,null)),(e()(),La(17,0,null,null,2,"span",[["class","k-icon"],["unselectable","on"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(19,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Na(0,[[2,2],["popupTemplate",2]],null,0,null,lW)),(e()(),Na(16777216,null,null,1,null,rW)),jl(22,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(23,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(e,t){var n=t.component;e(t,6,0,"NO DATA FOUND");var i=e(t,10,0,!0,!n.disabled,n.disabled,n.isFocused);e(t,9,0,i),e(t,13,0,n.valueTemplate),e(t,15,0,!n.valueTemplate),e(t,19,0,"k-icon",n.buttonClasses),e(t,22,0,n.isOpen)}),(function(e,t){var n=t.component;e(t,7,1,[n.focusableId,n.direction,n.readonly,n.widgetTabIndex,n.disabled,n.readonly,n.ariaExpanded,n.ariaOwns,n.ariaActivedescendant,n.valueLabelId,n.noDataLabel]),e(t,11,0,n.valueLabelId)}))}var oW=Ei({encapsulation:2,styles:[],data:{}});function sW(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-clear-value k-i-close"],["role","button"],["tabindex","-1"]],[[1,"title",0]],[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.clearAll(n)&&i),i}),null,null))],null,(function(e,t){e(t,0,0,t.component.clearTitle)}))}function uW(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-i-loading"]],null,null,null,null,null))],null,null)}function cW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function hW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,cW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.headerTemplate.templateRef);e(t,1,0,n)}),null)}function dW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function fW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,dW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,n.customItemTemplate.templateRef,n.text);e(t,1,0,i)}),null)}function pW(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.text)}))}function vW(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["class","k-list"]],null,null,null,null,null)),(e()(),La(1,0,null,null,5,"div",[["class","k-item k-custom-item"],["kendoDropDownsSelectable",""]],[[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,2).onClick(n)&&i),i}),null,null)),jl(2,16384,null,0,qE,[pE],{index:[0,"index"],multipleSelection:[1,"multipleSelection"]},null),(e()(),Na(16777216,null,null,1,null,fW)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["default_custom_item_template",2]],null,0,null,pW)),(e()(),La(6,0,null,null,0,"span",[["class","k-icon k-i-plus"],["style","float: right"]],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,2,0,-1,!0),e(t,4,0,n.customItemTemplate,Ml(t,5))}),(function(e,t){e(t,1,0,Ml(t,2).index,Ml(t,2).height,Ml(t,2).height,Ml(t,2).focusedClassName,Ml(t,2).selectedClassName)}))}function gW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function mW(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.noDataText)}))}function yW(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["class","k-nodata"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,gW)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),jl(3,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(4,{templateRef:0}),(e()(),Na(16777216,null,null,1,null,mW)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.noDataTemplate);var i=e(t,4,0,n.noDataTemplate?n.noDataTemplate.templateRef:void 0);e(t,3,0,i),e(t,6,0,!n.noDataTemplate)}),null)}function bW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function kW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,bW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.footerTemplate.templateRef);e(t,1,0,n)}),null)}function _W(e){return no(0,[(e()(),Na(16777216,null,null,1,null,hW)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,vW)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(4,0,null,null,1,"kendo-list",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.pageChange(n)&&i),i}),lU,LW)),jl(5,13287424,[[5,4],["optionsList",4]],0,xE,[gE,Hn,pE,mE,Zt,Qr,qn],{textField:[0,"textField"],valueField:[1,"valueField"],height:[2,"height"],template:[3,"template"],groupTemplate:[4,"groupTemplate"],fixedGroupTemplate:[5,"fixedGroupTemplate"],show:[6,"show"],id:[7,"id"],optionPrefix:[8,"optionPrefix"],multipleSelection:[9,"multipleSelection"],virtual:[10,"virtual"],data:[11,"data"]},{pageChange:"pageChange"}),(e()(),Na(16777216,null,null,1,null,yW)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,kW)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.headerTemplate),e(t,3,0,n.allowCustom&&n.text),e(t,5,1,[n.textField,n.valueField,n.listHeight,n.template,n.groupTemplate,n.fixedGroupTemplate,n.isOpen,n.listBoxId,n.optionPrefix,!0,n.virtual,n.data]),e(t,7,0,0===n.data.length),e(t,9,0,n.footerTemplate)}),null)}function wW(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(e,t,n){var i=!0;return"resize"===t&&(i=!1!==e.component.onResize()&&i),i}),Vg,Bg)),jl(1,8568832,null,0,Jv,[Zv,Hn,Qr],null,{resize:"resize"})],null,null)}function xW(e){return no(0,[Ha(402653184,1,{container:0}),Ha(402653184,2,{searchbar:0}),Ha(402653184,3,{popupTemplate:0}),Ha(402653184,4,{wrapper:0}),Ha(671088640,5,{optionsList:0}),(e()(),La(5,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,GE,null,[XE]),jl(7,737280,null,0,XE,[$g],{noDataText:[0,"noDataText"],clearTitle:[1,"clearTitle"]},null),(e()(),La(8,0,[[4,0],["wrapper",1]],null,8,"div",[["class","k-multiselect-wrap k-floatwrap"]],null,[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.wrapperMousedown(n)&&i),i}),null,null)),(e()(),La(9,0,null,null,1,"kendo-taglist",[],null,[[null,"removeTag"]],(function(e,t,n){var i=!0;return"removeTag"===t&&(i=!1!==e.component.handleRemoveTag(n)&&i),i}),NW,CW)),jl(10,49152,null,0,UE,[],{tags:[0,"tags"],textField:[1,"textField"],valueField:[2,"valueField"],focused:[3,"focused"],template:[4,"template"],groupTemplate:[5,"groupTemplate"],disabled:[6,"disabled"],tagPrefix:[7,"tagPrefix"],id:[8,"id"]},{removeTag:"removeTag"}),(e()(),La(11,0,null,null,1,"kendo-searchbar",[],[[2,"k-searchbar",null]],[[null,"onNavigate"],[null,"valueChange"],[null,"onBlur"],[null,"onFocus"]],(function(e,t,n){var i=!0,l=e.component;return"onNavigate"===t&&(i=!1!==l.handleNavigate(n)&&i),"valueChange"===t&&(i=!1!==l.handleFilter(n)&&i),"onBlur"===t&&(i=!1!==l.onSearchBarBlur()&&i),"onFocus"===t&&(i=!1!==l.onSearchBarFocus()&&i),i}),aU,rU)),jl(12,770048,[[2,4],["searchbar",4]],0,dE,[$g,qn],{id:[0,"id"],tagListId:[1,"tagListId"],activeDescendant:[2,"activeDescendant"],noDataLabel:[3,"noDataLabel"],disabled:[4,"disabled"],readonly:[5,"readonly"],tabIndex:[6,"tabIndex"],popupOpen:[7,"popupOpen"],role:[8,"role"],userInput:[9,"userInput"],placeholder:[10,"placeholder"]},{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onNavigate:"onNavigate"}),(e()(),Na(16777216,null,null,1,null,sW)),jl(14,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,uW)),jl(16,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,[[3,2],["popupTemplate",2]],null,0,null,_W)),(e()(),Na(16777216,null,null,1,null,wW)),jl(19,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(20,16777216,[[1,3],["container",1]],null,0,null,null,null,null,null,null,null))],(function(e,t){var n=t.component;e(t,7,0,"NO DATA FOUND","clear"),e(t,10,0,n.tags,n.textField,n.valueField,n.focusedTagIndex,n.tagTemplate,n.groupTagTemplate,n.disabled,n.tagPrefix,n.tagListId),e(t,12,1,[n.focusableId,n.tagListId,n.activeDescendant,n.noDataLabel,n.disabled,n.readonly,n.tabIndex,n.isOpen,"listbox",n.text,n.placeholder]),e(t,14,0,!n.loading&&!n.readonly&&n.clearButton&&((null==n.tags?null:n.tags.length)||(null==n.text?null:n.text.length))),e(t,16,0,n.loading),e(t,19,0,n.isOpen)}),(function(e,t){e(t,11,0,Ml(t,12).searchBarClass)}))}var CW=Ei({encapsulation:2,styles:[],data:{}});function SW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function TW(e){return no(0,[(e()(),Na(0,null,null,0,null,SW))],null,null)}function PW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function MW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,PW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.groupTemplate.templateRef,t.parent.parent.context.$implicit);e(t,1,0,n)}),null)}function AW(e){return no(0,[(e()(),Ja(0,null,[""," "," selected"]))],null,(function(e,t){e(t,0,0,t.parent.parent.context.$implicit.length,1===t.parent.parent.context.$implicit.length?"item":"items")}))}function IW(e){return no(0,[(e()(),La(0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,MW)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,AW)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.groupTemplate),e(t,4,0,!n.groupTemplate)}),null)}function EW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function DW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,EW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.template.templateRef,t.parent.parent.context.$implicit);e(t,1,0,n)}),null)}function OW(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.tagProp(t.parent.parent.context.$implicit,n.textField))}))}function FW(e){return no(0,[(e()(),La(0,0,null,null,4,"span",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,DW)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,OW)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.template),e(t,4,0,!n.template)}),null)}function RW(e){return no(0,[(e()(),La(0,0,null,null,10,"li",[["aria-selected","true"],["class","k-button"],["role","option"]],[[1,"aria-setsize",0],[1,"id",0]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-state-focused":0}),jl(4,16384,null,0,wE,[Hn],null,null),(e()(),Na(16777216,null,null,1,null,TW)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfThen:[1,"ngIfThen"],ngIfElse:[2,"ngIfElse"]},null),(e()(),Na(0,[["groupTag",2]],null,0,null,IW)),(e()(),Na(0,[["singleTag",2]],null,0,null,FW)),(e()(),La(9,0,null,null,1,"span",[["aria-label","delete"],["class","k-select"]],[[1,"aria-hidden",0]],null,null,null,null)),(e()(),La(10,0,null,null,0,"span",[["class","k-icon k-i-close"]],null,[[null,"mousedown"]],(function(e,t,n){var i=!0;return"mousedown"===t&&(i=!1!==e.component.deleteTag(n,e.context.$implicit)&&i),i}),null,null))],(function(e,t){var n=t.component,i=e(t,3,0,t.context.index===n.focused);e(t,2,0,"k-button",i),e(t,6,0,n.isGroupTag(t.context.$implicit),Ml(t,7),Ml(t,8))}),(function(e,t){var n=t.component;e(t,0,0,null==n.tags?null:n.tags.length,n.itemId(t.context.$implicit)),e(t,9,0,t.context.index!==n.focused)}))}function NW(e){return no(0,[(e()(),La(0,0,null,null,2,"ul",[["class","k-reset"]],[[1,"id",0]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,RW)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.tags)}),(function(e,t){e(t,0,0,t.component.id)}))}var LW=Ei({encapsulation:2,styles:[],data:{}});function BW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function VW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,BW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,n.fixedGroupTemplate.templateRef,n.currentGroup);e(t,1,0,i)}),null)}function zW(e){return no(0,[(e()(),La(0,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.currentGroup)}))}function jW(e){return no(0,[(e()(),La(0,0,null,null,10,"div",[["class","k-outer-group-header k-first"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-virtual-item":0}),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(5,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),Za(6,{"height.px":0,"minHeight.px":1,boxSizing:2}),(e()(),Na(16777216,null,null,1,null,VW)),jl(8,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,zW)),jl(10,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,n.virtual);e(t,2,0,"k-outer-group-header k-first",i);var l=e(t,6,0,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit");e(t,5,0,l),e(t,8,0,n.fixedGroupTemplate),e(t,10,0,!n.fixedGroupTemplate)}),null)}function HW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function WW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,HW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.template.templateRef,t.parent.context.$implicit);e(t,1,0,n)}),null)}function UW(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.getText(t.parent.context.$implicit))}))}function YW(e){return no(0,[(e()(),La(0,0,null,null,9,"li",[["class","k-item"],["kendoDropDownsSelectable",""],["role","option"]],[[1,"id",0],[1,"tabIndex",0],[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,5).onClick(n)&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-virtual-item":0,"k-state-disabled":1}),jl(4,16384,[[1,4]],0,wE,[Hn],null,null),jl(5,16384,null,0,qE,[pE],{index:[0,"index"],height:[1,"height"],multipleSelection:[2,"multipleSelection"]},null),(e()(),Na(16777216,null,null,1,null,WW)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,UW)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,n.virtual,n.isDisabled(t.context.index));e(t,2,0,"k-item",i),e(t,5,0,t.context.index+n.startFrom,null==n.virtual?null:n.virtual.itemHeight,n.multipleSelection),e(t,7,0,n.template),e(t,9,0,!n.template)}),(function(e,t){var n=t.component;e(t,0,0,n.optionPrefix+"-"+n.getValue(t.context.$implicit),-1,Ml(t,5).index,Ml(t,5).height,Ml(t,5).height,Ml(t,5).focusedClassName,Ml(t,5).selectedClassName)}))}function qW(e){return no(0,[(e()(),Na(16777216,null,null,1,null,YW)),jl(1,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.component.data)}),null)}function GW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function XW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,GW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.groupTemplate.templateRef,t.parent.parent.context.$implicit.value);e(t,1,0,n)}),null)}function KW(e){return no(0,[(e()(),La(0,0,null,null,1,"strong",[],null,null,null,null,null)),(e()(),Ja(1,null,[" ",""]))],null,(function(e,t){e(t,1,0,t.parent.parent.context.$implicit.value)}))}function $W(e){return no(0,[(e()(),La(0,0,null,null,11,"li",[["class","k-outer-group-header"],["role","group"]],[[1,"group-index",0],[1,"id",0],[1,"tabIndex",0]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-virtual-item":0}),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(5,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),Za(6,{"height.px":0,"minHeight.px":1,boxSizing:2}),jl(7,16384,[[1,4]],0,wE,[Hn],null,null),(e()(),Na(16777216,null,null,1,null,XW)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,KW)),jl(11,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,n.virtual);e(t,2,0,"k-outer-group-header",i);var l=e(t,6,0,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit");e(t,5,0,l),e(t,9,0,n.groupTemplate),e(t,11,0,!n.groupTemplate)}),(function(e,t){var n=t.component;e(t,0,0,t.parent.context.$implicit.index,n.optionPrefix+"-"+n.getValue(t.parent.context.$implicit.value),-1)}))}function ZW(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function QW(e){return no(0,[(e()(),Na(16777216,null,null,2,null,ZW)),jl(1,16384,null,0,YE,[di],{templateContext:[0,"templateContext"]},null),Za(2,{templateRef:0,$implicit:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=e(t,2,0,t.component.template.templateRef,t.parent.parent.context.$implicit.value);e(t,1,0,n)}),null)}function JW(e){return no(0,[(e()(),Ja(0,null,["",""]))],null,(function(e,t){e(t,0,0,t.component.getText(t.parent.parent.context.$implicit.value))}))}function eU(e){return no(0,[(e()(),La(0,0,null,null,9,"li",[["class","k-item"],["kendoDropDownsSelectable",""],["role","option"]],[[1,"absolute-index",0],[1,"id",0],[1,"tabIndex",0],[1,"index",0],[4,"height","px"],[4,"minHeight","px"],[2,"k-state-focused",null],[2,"k-state-selected",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,5).onClick(n)&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(3,{"k-virtual-item":0,"k-state-disabled":1}),jl(4,16384,[[1,4]],0,wE,[Hn],null,null),jl(5,16384,null,0,qE,[pE],{index:[0,"index"],height:[1,"height"],multipleSelection:[2,"multipleSelection"]},null),(e()(),Na(16777216,null,null,1,null,QW)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,JW)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,n.virtual,n.isDisabled(t.parent.context.$implicit.offsetIndex));e(t,2,0,"k-item",i),e(t,5,0,t.parent.context.$implicit.offsetIndex,null==n.virtual?null:n.virtual.itemHeight,n.multipleSelection),e(t,7,0,n.template),e(t,9,0,!n.template)}),(function(e,t){var n=t.component;e(t,0,0,t.parent.context.$implicit.index,n.optionPrefix+"-"+n.getValue(t.parent.context.$implicit.value),-1,Ml(t,5).index,Ml(t,5).height,Ml(t,5).height,Ml(t,5).focusedClassName,Ml(t,5).selectedClassName)}))}function tU(e){return no(0,[(e()(),Na(16777216,null,null,1,null,$W)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,eU)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.context.$implicit.header&&t.context.$implicit.index>0),e(t,3,0,!t.context.$implicit.header)}),null)}function nU(e){return no(0,[(e()(),Na(16777216,null,null,1,null,tU)),jl(1,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.component.data)}),null)}function iU(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","k-height-container"],["role","presentation"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"div",[],[[4,"height","px"]],null,null,null,null))],null,(function(e,t){e(t,1,0,t.component.scrollHeight)}))}function lU(e){return no(0,[Ha(671088640,1,{items:1}),Ha(402653184,2,{content:0}),Ha(402653184,3,{list:0}),(e()(),Na(16777216,null,null,1,null,jW)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(5,0,[[2,0],["content",1]],null,13,"div",[["unselectable","on"]],[[4,"maxHeight","px"]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(7,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Za(8,{"k-virtual-content":0,"k-list-scroller":1}),(e()(),La(9,0,[[3,0],["list",1]],null,7,"ul",[["class","k-list k-reset"],["role","listbox"]],[[1,"id",0],[1,"aria-hidden",0]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(11,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Za(12,{"k-virtual-list":0}),(e()(),Na(16777216,null,null,1,null,qW)),jl(14,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,nU)),jl(16,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,iU)),jl(18,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.dataService.grouped);var i=e(t,8,0,n.virtual,!n.virtual);e(t,7,0,i);var l=e(t,12,0,n.virtual);e(t,11,0,"k-list k-reset",l),e(t,14,0,!n.dataService.grouped&&n.show),e(t,16,0,n.dataService.grouped),e(t,18,0,n.virtual)}),(function(e,t){var n=t.component;e(t,5,0,n.height),e(t,9,0,n.id,!n.show)}))}var rU=Ei({encapsulation:2,styles:[],data:{}});function aU(e){return no(0,[Ha(402653184,1,{input:0}),(e()(),La(1,0,[[1,0],["input",1]],null,0,"input",[["aria-haspopup","listbox"],["autocomplete","off"]],[[8,"id",0],[8,"disabled",0],[8,"readOnly",0],[8,"placeholder",0],[8,"className",0],[1,"tabIndex",0],[1,"dir",0],[1,"role",0],[1,"aria-disabled",0],[1,"aria-readonly",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[1,"aria-label",0]],[[null,"input"],[null,"focus"],[null,"blur"],[null,"keydown"]],(function(e,t,n){var i=!0,l=e.component;return"input"===t&&(i=!1!==l.handleInput(n)&&i),"focus"===t&&(i=!1!==l.handleFocus(n)&&i),"blur"===t&&(i=!1!==l.handleBlur(n)&&i),"keydown"===t&&(i=!1!==l.handleKeydown(n)&&i),i}),null,null))],null,(function(e,t){var n=t.component;e(t,1,1,[n.id,n.disabled,n.readonly,n.placeholder,"k-input",n.tabIndex,n.direction,n.role,n.disabled,n.readonly,n.popupOpen,n.listId,n.tagListId,n.activeDescendant,n.noDataLabel])}))}var oU=Ei({encapsulation:2,styles:[".k-scheduler.k-state-focused { box-shadow: 0 0.5px 0.5px 0.5px rgba(0, 0, 0, .12); }"],data:{}});function sU(e){return no(0,[(e()(),La(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function uU(e){return no(2,[Ha(402653184,1,{resizeSensor:0}),Ha(402653184,2,{confirmationDialogContainerRef:0}),Ha(402653184,3,{loadingComponent:0}),(e()(),La(3,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,GV,null,[XV]),jl(5,737280,null,0,XV,[$g],{allEvents:[0,"allEvents"],allDay:[1,"allDay"],dateHeader:[2,"dateHeader"],timeHeader:[3,"timeHeader"],eventHeader:[4,"eventHeader"],deleteTitle:[5,"deleteTitle"],nextTitle:[6,"nextTitle"],previousTitle:[7,"previousTitle"],today:[8,"today"],calendarToday:[9,"calendarToday"],showFullDay:[10,"showFullDay"],showWorkDay:[11,"showWorkDay"],dayViewTitle:[12,"dayViewTitle"],multiDayViewTitle:[13,"multiDayViewTitle"],weekViewTitle:[14,"weekViewTitle"],workWeekViewTitle:[15,"workWeekViewTitle"],monthViewTitle:[16,"monthViewTitle"],timelineViewTitle:[17,"timelineViewTitle"],timelineWeekViewTitle:[18,"timelineWeekViewTitle"],timelineMonthViewTitle:[19,"timelineMonthViewTitle"],agendaViewTitle:[20,"agendaViewTitle"],cancel:[21,"cancel"],save:[22,"save"],editorEventTitle:[23,"editorEventTitle"],editorEventStart:[24,"editorEventStart"],editorEventStartTimeZone:[25,"editorEventStartTimeZone"],editorEventEnd:[26,"editorEventEnd"],editorEventEndTimeZone:[27,"editorEventEndTimeZone"],editorEventAllDay:[28,"editorEventAllDay"],editorEventDescription:[29,"editorEventDescription"],editorEventSeparateTimeZones:[30,"editorEventSeparateTimeZones"],editorEventTimeZone:[31,"editorEventTimeZone"],recurrenceEditorRepeat:[32,"recurrenceEditorRepeat"],recurrenceEditorDailyInterval:[33,"recurrenceEditorDailyInterval"],recurrenceEditorDailyRepeatEvery:[34,"recurrenceEditorDailyRepeatEvery"],recurrenceEditorWeeklyInterval:[35,"recurrenceEditorWeeklyInterval"],recurrenceEditorWeeklyRepeatEvery:[36,"recurrenceEditorWeeklyRepeatEvery"],recurrenceEditorWeeklyRepeatOn:[37,"recurrenceEditorWeeklyRepeatOn"],recurrenceEditorMonthlyDay:[38,"recurrenceEditorMonthlyDay"],recurrenceEditorMonthlyInterval:[39,"recurrenceEditorMonthlyInterval"],recurrenceEditorMonthlyRepeatEvery:[40,"recurrenceEditorMonthlyRepeatEvery"],recurrenceEditorMonthlyRepeatOn:[41,"recurrenceEditorMonthlyRepeatOn"],recurrenceEditorYearlyOf:[42,"recurrenceEditorYearlyOf"],recurrenceEditorYearlyRepeatEvery:[43,"recurrenceEditorYearlyRepeatEvery"],recurrenceEditorYearlyRepeatOn:[44,"recurrenceEditorYearlyRepeatOn"],recurrenceEditorYearlyInterval:[45,"recurrenceEditorYearlyInterval"],recurrenceEditorFrequenciesDaily:[46,"recurrenceEditorFrequenciesDaily"],recurrenceEditorFrequenciesMonthly:[47,"recurrenceEditorFrequenciesMonthly"],recurrenceEditorFrequenciesNever:[48,"recurrenceEditorFrequenciesNever"],recurrenceEditorFrequenciesWeekly:[49,"recurrenceEditorFrequenciesWeekly"],recurrenceEditorFrequenciesYearly:[50,"recurrenceEditorFrequenciesYearly"],recurrenceEditorOffsetPositionsFirst:[51,"recurrenceEditorOffsetPositionsFirst"],recurrenceEditorOffsetPositionsSecond:[52,"recurrenceEditorOffsetPositionsSecond"],recurrenceEditorOffsetPositionsThird:[53,"recurrenceEditorOffsetPositionsThird"],recurrenceEditorOffsetPositionsFourth:[54,"recurrenceEditorOffsetPositionsFourth"],recurrenceEditorOffsetPositionsLast:[55,"recurrenceEditorOffsetPositionsLast"],recurrenceEditorWeekdaysDay:[56,"recurrenceEditorWeekdaysDay"],recurrenceEditorWeekdaysWeekday:[57,"recurrenceEditorWeekdaysWeekday"],recurrenceEditorWeekdaysWeekendday:[58,"recurrenceEditorWeekdaysWeekendday"],recurrenceEditorEndAfter:[59,"recurrenceEditorEndAfter"],recurrenceEditorEndOccurrence:[60,"recurrenceEditorEndOccurrence"],recurrenceEditorEndLabel:[61,"recurrenceEditorEndLabel"],recurrenceEditorEndNever:[62,"recurrenceEditorEndNever"],recurrenceEditorEndOn:[63,"recurrenceEditorEndOn"],editorTitle:[64,"editorTitle"],destroy:[65,"destroy"],deleteConfirmation:[66,"deleteConfirmation"],editRecurringConfirmation:[67,"editRecurringConfirmation"],editOccurrence:[68,"editOccurrence"],editSeries:[69,"editSeries"],deleteRecurringConfirmation:[70,"deleteRecurringConfirmation"],deleteOccurrence:[71,"deleteOccurrence"],deleteSeries:[72,"deleteSeries"],deleteDialogTitle:[73,"deleteDialogTitle"],deleteRecurringDialogTitle:[74,"deleteRecurringDialogTitle"],editRecurringDialogTitle:[75,"editRecurringDialogTitle"]},null),(e()(),La(6,0,null,null,1,"kendo-scheduler-toolbar",[],[[2,"k-scheduler-toolbar",null],[2,"k-header",null],[2,"k-floatwrap",null]],[[null,"navigate"]],(function(e,t,n){var i=!0;return"navigate"===t&&(i=!1!==e.component.onNavigationAction(n)&&i),i}),MU,CU)),jl(7,770048,null,0,$V,[zB],{selectedView:[0,"selectedView"],views:[1,"views"],dateRange:[2,"dateRange"],selectedDate:[3,"selectedDate"],template:[4,"template"],min:[5,"min"],max:[6,"max"]},{navigate:"navigate"}),(e()(),Na(16777216,null,null,1,null,sU)),jl(9,540672,null,0,Cu,[di],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),La(10,16777216,[[2,3],["confirmationDialogContainer",1]],null,0,null,null,null,null,null,null,null)),(e()(),La(11,0,null,null,1,"kendo-scheduler-edit-dialog",[],null,null,null,lG,Wq)),jl(12,180224,null,0,Kz,[Qr,aV,$g,Zt,Hn,uV],{resources:[0,"resources"],timezone:[1,"timezone"],fields:[2,"fields"],editTemplate:[3,"editTemplate"]},null),(e()(),La(13,0,null,null,1,"kendo-resize-sensor",[],null,[[null,"resize"]],(function(e,t,n){var i=!0;return"resize"===t&&(i=!1!==e.component.onResize()&&i),i}),Vg,Bg)),jl(14,8568832,[[1,4]],0,Jv,[Zv,Hn,Qr],null,{resize:"resize"}),(e()(),La(15,0,null,null,1,"div",[["kendoSchedulerLoading",""]],[[2,"k-loading-mask",null],[4,"display",null]],null,null,xU,wU)),jl(16,49152,[[3,4]],0,vV,[Hn,qn],{loading:[0,"loading"]},null)],(function(e,t){var n=t.component;e(t,5,1,["All events","all day","Date","Time","Event","Delete","Next","Previous","Today","TODAY","Show full day","Show business hours","Day","Multi-Day","Week","Work Week","Month","Timeline","Timeline Week","Timeline Month","Agenda","Cancel","Save","Title","Start","Start Time Zone","End","End Time Zone","All Day Event","Description","End in different Time Zone","Specify Time Zone","Repeat","day(s)","Repeat every","week(s)","Repeat every","Repeat on","Day","month(s)","Repeat every","Repeat on","of","Repeat every","Repeat on","year(s)","Daily","Monthly","Never","Weekly","Yearly","First","Second","Third","Fourth","Last","Day","Weekday","Weekend Day","After","occurrence(s)","End","Never","On","Event","Delete","Are you sure you want to delete this event?","Do you want to edit only this event occurrence or the whole series?","Edit current occurrence","Edit the series","Do you want to delete only this event occurrence or the whole series?","Delete current occurrence","Delete the series","Delete Event","Delete Recurring Item","Edit Recurring Item"]),e(t,7,0,n.selectedView,n.views,n.dateRangeStream,n.selectedDateStream,n.toolbarTemplate,n.min,n.max),e(t,9,0,null==n.selectedView?null:n.selectedView.template),e(t,12,0,n.resources,n.timezone,n.modelFields,n.editDialogTemplate),e(t,16,0,n.loading)}),(function(e,t){e(t,6,0,Ml(t,7).hostClasses,Ml(t,7).hostClasses,Ml(t,7).hostClasses),e(t,15,0,Ml(t,16).hostClasses,Ml(t,16).display)}))}var cU=Ei({encapsulation:2,styles:[],data:{}});function hU(e){return no(0,[(e()(),La(0,0,null,null,2,"multi-day-view",[],null,null,null,dq,fY)),Wl(512,null,Ez,Ez,[]),jl(2,4964352,null,0,Nz,[$g,HB,UB,aS,Ez,Qr,qn,Hn,Zt,fV],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],scrollTime:[10,"scrollTime"],startTime:[11,"startTime"],endTime:[12,"endTime"],workDayStart:[13,"workDayStart"],workDayEnd:[14,"workDayEnd"],workWeekStart:[15,"workWeekStart"],workWeekEnd:[16,"workWeekEnd"],slotDuration:[17,"slotDuration"],slotDivisions:[18,"slotDivisions"],showWorkHours:[19,"showWorkHours"],currentTimeMarker:[20,"currentTimeMarker"],name:[21,"name"],slotFill:[22,"slotFill"],allDaySlotTemplate:[23,"allDaySlotTemplate"],allDayEventTemplate:[24,"allDayEventTemplate"],minorTimeHeaderTemplate:[25,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[26,"majorTimeHeaderTemplate"]},null),(e()(),La(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(e,t,n){var i=!0,l=e.component;return"itemClick"===t&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),BU,NU)),jl(4,49152,null,0,hz,[],null,{itemClick:"itemClick"}),jl(5,606208,null,0,dz,[hz,$g],{showWorkHours:[0,"showWorkHours"]},null)],(function(e,t){var n=t.component;e(t,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),e(t,5,0,n.shouldShowWorkHours)}),(function(e,t){e(t,3,0,Ml(t,4).hostClasses,Ml(t,4).hostClasses)}))}function dU(e){return no(2,[Ha(402653184,1,{template:0}),(e()(),Na(0,[[1,2],["content",2]],null,0,null,hU))],null,null)}var fU=Ei({encapsulation:2,styles:[],data:{}});function pU(e){return no(0,[(e()(),La(0,0,null,null,2,"multi-day-view",[],null,null,null,dq,fY)),Wl(512,null,Ez,Ez,[]),jl(2,4964352,null,0,Nz,[$g,HB,UB,aS,Ez,Qr,qn,Hn,Zt,fV],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],numberOfDays:[10,"numberOfDays"],scrollTime:[11,"scrollTime"],startTime:[12,"startTime"],endTime:[13,"endTime"],workDayStart:[14,"workDayStart"],workDayEnd:[15,"workDayEnd"],workWeekStart:[16,"workWeekStart"],workWeekEnd:[17,"workWeekEnd"],slotDuration:[18,"slotDuration"],slotDivisions:[19,"slotDivisions"],showWorkHours:[20,"showWorkHours"],getStartDate:[21,"getStartDate"],currentTimeMarker:[22,"currentTimeMarker"],name:[23,"name"],slotFill:[24,"slotFill"],allDaySlotTemplate:[25,"allDaySlotTemplate"],allDayEventTemplate:[26,"allDayEventTemplate"],minorTimeHeaderTemplate:[27,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[28,"majorTimeHeaderTemplate"]},null),(e()(),La(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(e,t,n){var i=!0,l=e.component;return"itemClick"===t&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),BU,NU)),jl(4,49152,null,0,hz,[],null,{itemClick:"itemClick"}),jl(5,606208,null,0,dz,[hz,$g],{showWorkHours:[0,"showWorkHours"]},null)],(function(e,t){var n=t.component;e(t,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,7,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.getStartDate,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),e(t,5,0,n.shouldShowWorkHours)}),(function(e,t){e(t,3,0,Ml(t,4).hostClasses,Ml(t,4).hostClasses)}))}function vU(e){return no(2,[Ha(402653184,1,{template:0}),(e()(),Na(0,[[1,2],["content",2]],null,0,null,pU))],null,null)}var gU=Ei({encapsulation:2,styles:[],data:{}});function mU(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-recurrence-interval-editor",[],null,null,null,wq,_q)),jl(1,49152,null,0,sj,[nj,$g],null,null)],null,null)}function yU(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-recurrence-weekday-rule-editor",[],null,null,null,Iq,Mq)),jl(1,49152,null,0,hj,[nj,$g],null,null)],null,null)}function bU(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-recurrence-monthly-yearly-editor",[],null,null,null,Pq,xq)),jl(1,180224,null,0,cj,[nj,$g],null,null)],null,null)}function kU(e){return no(0,[(e()(),La(0,0,null,null,1,"kendo-recurrence-end-rule-editor",[],null,null,null,mq,gq)),jl(1,180224,null,0,oj,[nj,$g],null,null)],null,null)}function _U(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),Wl(6144,null,dj,null,[fj]),jl(2,737280,null,0,fj,[$g],{repeat:[0,"repeat"],dailyInterval:[1,"dailyInterval"],dailyRepeatEvery:[2,"dailyRepeatEvery"],weeklyInterval:[3,"weeklyInterval"],weeklyRepeatEvery:[4,"weeklyRepeatEvery"],weeklyRepeatOn:[5,"weeklyRepeatOn"],monthlyDay:[6,"monthlyDay"],monthlyInterval:[7,"monthlyInterval"],monthlyRepeatEvery:[8,"monthlyRepeatEvery"],monthlyRepeatOn:[9,"monthlyRepeatOn"],yearlyOf:[10,"yearlyOf"],yearlyRepeatEvery:[11,"yearlyRepeatEvery"],yearlyRepeatOn:[12,"yearlyRepeatOn"],yearlyInterval:[13,"yearlyInterval"],frequenciesDaily:[14,"frequenciesDaily"],frequenciesMonthly:[15,"frequenciesMonthly"],frequenciesNever:[16,"frequenciesNever"],frequenciesWeekly:[17,"frequenciesWeekly"],frequenciesYearly:[18,"frequenciesYearly"],offsetPositionsFirst:[19,"offsetPositionsFirst"],offsetPositionsSecond:[20,"offsetPositionsSecond"],offsetPositionsThird:[21,"offsetPositionsThird"],offsetPositionsFourth:[22,"offsetPositionsFourth"],offsetPositionsLast:[23,"offsetPositionsLast"],weekdaysDay:[24,"weekdaysDay"],weekdaysWeekday:[25,"weekdaysWeekday"],weekdaysWeekendday:[26,"weekdaysWeekendday"],endAfter:[27,"endAfter"],endOccurrence:[28,"endOccurrence"],endLabel:[29,"endLabel"],endNever:[30,"endNever"],endOn:[31,"endOn"]},null),(e()(),La(3,0,null,null,1,"kendo-recurrence-frequency-editor",[],null,null,null,kq,yq)),jl(4,114688,null,0,rj,[nj,$g],null,null),(e()(),La(5,0,null,null,8,"div",[["class","k-recur-view"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,mU)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,yU)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,bU)),jl(11,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,kU)),jl(13,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,1,["Repeat","day(s)","Repeat every","week(s)","Repeat every","Repeat on","Day","month(s)","Repeat every","Repeat on","of","Repeat every","Repeat on","year(s)","Daily","Monthly","Never","Weekly","Yearly","First","Second","Third","Fourth","Last","Day","Weekday","Weekend Day","After","occurrence(s)","End","Never","On"]),e(t,4,0),e(t,7,0,"never"!==n.currentFreq),e(t,9,0,"weekly"===n.currentFreq),e(t,11,0,"monthly"===n.currentFreq||"yearly"===n.currentFreq),e(t,13,0,"never"!==n.currentFreq)}),null)}var wU=Ei({encapsulation:2,styles:[],data:{}});function xU(e){return no(0,[(e()(),La(0,0,null,null,0,"div",[["class","k-loading-image"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"div",[["class","k-loading-color"]],null,null,null,null,null))],null,null)}var CU=Ei({encapsulation:2,styles:[],data:{}});function SU(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function TU(e){return no(0,[(e()(),Na(16777216,null,null,1,null,SU)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.templateContext,n.template.templateRef)}),null)}function PU(e){return no(0,[(e()(),La(0,0,null,null,2,"ul",[["kendoSchedulerToolbarNavigation",""]],[[2,"k-scheduler-navigation",null],[2,"k-reset",null]],null,null,EU,AU)),Wl(512,null,Ng,Ng,[ma,Bn,pn,[2,Rg]]),jl(2,180224,null,0,KV,[Ng,zB,$g,Zt],{min:[0,"min"],max:[1,"max"]},null),(e()(),La(3,0,null,null,1,"ul",[["kendoSchedulerToolbarViewSelector",""]],[[2,"k-scheduler-views",null],[2,"k-reset",null],[2,"k-state-expanded",null]],null,null,RU,DU)),jl(4,49152,null,0,ZV,[zB],null,null)],(function(e,t){var n=t.component;e(t,2,0,n.min,n.max)}),(function(e,t){e(t,0,0,Ml(t,2).hostClasses,Ml(t,2).hostClasses),e(t,3,0,Ml(t,4).hostClasses,Ml(t,4).hostClasses,Ml(t,4).expanded)}))}function MU(e){return no(0,[(e()(),Na(16777216,null,null,1,null,TU)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["defaultTemplate",2]],null,0,null,PU))],(function(e,t){e(t,1,0,t.component.template,Ml(t,2))}),null)}var AU=Ei({encapsulation:2,styles:[],data:{}});function IU(e){return no(0,[(e()(),La(0,0,null,null,22,"kendo-calendar",[],[[2,"k-week-number",null],[1,"id",0],[1,"role",0],[1,"tabindex",0],[1,"aria-disabled",0],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.selectDate(n)&&i),i}),kj,yj)),Wl(5120,null,Yy,(function(e){return[e]}),[xP]),Wl(5120,null,ib,(function(e){return[e]}),[xP]),Wl(6144,null,tg,null,[xP]),Wl(512,null,xT,xT,[pn]),Wl(512,null,hP,hP,[xT]),Wl(512,null,dP,dP,[YT,Qr]),Wl(512,null,_P,_P,[]),jl(8,13352960,null,8,xP,[xT,YT,Hn,hP,qn,Zt,Qr,pn,dP,_P,[2,fP]],{min:[0,"min"],max:[1,"max"],value:[2,"value"]},{valueChange:"valueChange"}),Ha(335544320,1,{cellTemplate:0}),Ha(335544320,2,{monthCellTemplate:0}),Ha(335544320,3,{yearCellTemplate:0}),Ha(335544320,4,{decadeCellTemplate:0}),Ha(335544320,5,{centuryCellTemplate:0}),Ha(335544320,6,{weekNumberTemplate:0}),Ha(335544320,7,{headerTitleTemplate:0}),Ha(335544320,8,{navigationItemTemplate:0}),Hl(131072,Iu,[Zt]),Wl(256,null,Kg,"kendo.calendar",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),(e()(),La(20,0,null,null,2,"kendo-calendar-messages",[],null,null,null,Dj,Ej)),Wl(6144,null,YP,null,[GP]),jl(22,770048,null,0,GP,[$g],{today:[0,"today"]},null)],(function(e,t){var n=t.component;e(t,8,0,n.min,n.max,Mi(t,8,2,Ml(t,17).transform(n.ctx.selectedDate))),e(t,22,0,n.calendarTodayText)}),(function(e,t){e(t,0,0,Ml(t,8).weekNumber,Ml(t,8).widgetId,Ml(t,8).widgetRole,Ml(t,8).calendarTabIndex,Ml(t,8).ariaDisabled,Ml(t,8).ariaDisabled)}))}function EU(e){return no(2,[(e()(),La(0,0,null,null,2,"li",[["class","k-state-default k-header k-nav-today"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],[[1,"title",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.todayClick()&&i),i}),null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,2,"li",[["class","k-state-default k-header k-nav-prev"]],null,null,null,null,null)),(e()(),La(4,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],[[1,"title",0],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.prevClick()&&i),i}),null,null)),(e()(),La(5,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-left"],["style","pointer-events: none"]],null,null,null,null,null)),(e()(),La(6,0,null,null,2,"li",[["class","k-state-default k-header k-nav-next"]],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],[[1,"title",0],[1,"aria-label",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.nextClick()&&i),i}),null,null)),(e()(),La(8,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-right"],["style","pointer-events: none"]],null,null,null,null,null)),(e()(),La(9,0,null,null,8,"li",[["class","k-state-default k-nav-current"]],null,null,null,null,null)),(e()(),La(10,0,[["anchor",1]],null,7,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.toggleSelectedDate(Ml(e,10),Ml(e,18))&&i),i}),null,null)),(e()(),La(11,0,null,null,0,"span",[["class","k-icon k-i-calendar"]],null,null,null,null,null)),(e()(),La(12,0,null,null,2,"span",[["class","k-sm-date-format"]],null,null,null,null,null)),(e()(),Ja(13,null,["",""])),Hl(131072,Iu,[Zt]),(e()(),La(15,0,null,null,2,"span",[["class","k-lg-date-format"]],null,null,null,null,null)),(e()(),Ja(16,null,["",""])),Hl(131072,Iu,[Zt]),(e()(),Na(0,[["template",2]],null,0,null,IU))],null,(function(e,t){var n,i,l=t.component;e(t,1,0,l.todayText),e(t,2,0,l.todayText),e(t,4,0,l.previousText,l.previousText),e(t,7,0,l.nextText,l.nextText),e(t,13,0,null==(n=Mi(t,13,0,Ml(t,14).transform(l.ctx.dateRange)))?null:n.shortText),e(t,16,0,null==(i=Mi(t,16,0,Ml(t,17).transform(l.ctx.dateRange)))?null:i.text)}))}var DU=Ei({encapsulation:2,styles:[],data:{}});function OU(e){return no(0,[(e()(),La(0,0,null,null,2,"li",[["class","k-current-view"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCurrentViewClick(n)&&i),i}),null,null)),(e()(),Ja(2,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,2,0,null==n.ctx.selectedView?null:n.ctx.selectedView.title)}))}function FU(e){return no(0,[(e()(),La(0,0,null,null,5,"li",[],[[2,"k-state-selected",null]],null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(2,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),Za(3,{display:0}),(e()(),La(4,0,null,null,1,"a",[["class","k-link"],["href","#"],["role","button"],["tabindex","-1"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onClick(e.context.$implicit)&&i),i}),null,null)),(e()(),Ja(5,null,[" "," "]))],(function(e,t){var n=e(t,3,0,t.component.itemDisplay);e(t,2,0,n)}),(function(e,t){e(t,0,0,t.component.isSelected(t.context.$implicit)),e(t,5,0,t.context.$implicit.title)}))}function RU(e){return no(0,[(e()(),Na(16777216,null,null,1,null,OU)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,FU)),jl(3,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,1,0,(null==n.ctx.views?null:n.ctx.views.length)>1),e(t,3,0,n.ctx.views)}),null)}var NU=Ei({encapsulation:2,styles:[],data:{}});function LU(e){return no(0,[(e()(),La(0,0,null,null,7,"li",[["class","k-state-default"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onItemClick(n,e.context.$implicit)&&i),i}),null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),La(3,0,null,null,4,"a",[["class","k-link"],["href","#"],["tabindex","-1"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"span",[["class","k-icon"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(6,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),Ja(7,null,[" "," "]))],(function(e,t){e(t,2,0,"k-state-default",t.context.$implicit.cssClass),e(t,6,0,"k-icon",t.context.$implicit.iconClass)}),(function(e,t){e(t,7,0,t.context.$implicit.text)}))}function BU(e){return no(0,[(e()(),La(0,0,null,null,2,"ul",[["class","k-reset k-header"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,LU)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.items)}),null)}var VU=Ei({encapsulation:2,styles:[],data:{}});function zU(e){return no(0,[(e()(),La(0,16777216,null,null,1,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],(function(e,t){e(t,1,0,t.component.hintTemplate)}),null)}var jU=Ei({encapsulation:2,styles:[],data:{}});function HU(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[["class","k-label-top"]],null,null,null,null,null)),(e()(),Ja(1,null,["",""])),Ka(2,2)],null,(function(e,t){var n=t.component,i=Mi(t,1,0,e(t,2,0,Ml(t.parent,0),n.start,n.format));e(t,1,0,i)}))}function WU(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[["class","k-label-bottom"]],null,null,null,null,null)),(e()(),Ja(1,null,["",""])),Ka(2,2)],null,(function(e,t){var n=t.component,i=Mi(t,1,0,e(t,2,0,Ml(t.parent,0),n.end,n.format));e(t,1,0,i)}))}function UU(e){return no(0,[Hl(0,sS,[aS]),(e()(),La(1,0,null,null,0,"div",[["class","k-marquee-color"]],null,null,null,null,null)),(e()(),La(2,0,null,null,4,"div",[["class","k-marquee-text"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,HU)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,WU)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.hint.first),e(t,6,0,n.hint.last)}),null)}var YU=Ei({encapsulation:2,styles:[],data:{}});function qU(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-left"]],null,null,null,null,null))],null,null)}function GU(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-i-reload"]],null,null,null,null,null))],null,null)}function XU(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-i-non-recurrence"]],null,null,null,null,null))],null,null)}function KU(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{$implicit:0,event:1,resources:2}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,n.item.event,n.item.event,n.resources);e(t,1,0,i,n.eventTemplate)}),null)}function $U(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","k-event-template k-event-time"]],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.eventTime)}))}function ZU(e){return no(0,[(e()(),La(0,0,null,null,4,"div",[],[[1,"title",0]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,$U)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(3,0,null,null,1,"div",[["aria-hidden","true"],["class","k-event-template"]],null,null,null,null,null)),(e()(),Ja(4,null,["",""]))],(function(e,t){e(t,2,0,!t.component.isAllDay)}),(function(e,t){var n=t.component;e(t,0,0,n.eventTitle),e(t,4,0,n.item.event.title)}))}function QU(e){return no(0,[(e()(),La(0,0,null,null,1,"a",[["aria-hidden","true"],["class","k-link k-event-delete"],["href","#"],["tabindex","-1"]],[[1,"title",0],[1,"aria-label",0]],null,null,null,null)),(e()(),La(1,0,null,null,0,"span",[["class","k-icon k-i-close"]],null,null,null,null,null))],null,(function(e,t){var n=t.component;e(t,0,0,n.deleteMessage,n.deleteMessage)}))}function JU(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-right"]],null,null,null,null,null))],null,null)}function eY(e){return no(0,[(e()(),La(0,0,null,null,1,"span",[["class","k-event-top-actions"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-up"]],null,null,null,null,null))],null,null)}function tY(e){return no(0,[(e()(),La(0,0,null,null,1,"span",[["class","k-event-bottom-actions"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"span",[["class","k-icon k-i-arrow-60-down"]],null,null,null,null,null))],null,null)}function nY(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-resize-handle k-resize-n"]],null,null,null,null,null))],null,null)}function iY(e){return no(0,[(e()(),La(0,0,null,null,0,"span",[["class","k-resize-handle k-resize-s"]],null,null,null,null,null))],null,null)}function lY(e){return no(0,[(e()(),La(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,nY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,iY)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,!n.item.tail),e(t,4,0,!n.item.head)}),null)}function rY(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,0,"span",[["class","k-resize-handle k-resize-w"]],null,null,null,null,null)),(e()(),La(2,0,null,null,0,"span",[["class","k-resize-handle k-resize-e"]],null,null,null,null,null))],null,null)}function aY(e){return no(0,[(e()(),La(0,0,null,null,6,"span",[["class","k-event-actions"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,qU)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,GU)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,XU)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,KU)),jl(8,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,ZU)),jl(10,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(11,0,null,null,4,"span",[["class","k-event-actions"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,QU)),jl(13,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,JU)),jl(15,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,eY)),jl(17,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,tY)),jl(19,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,lY)),jl(21,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,rY)),jl(23,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.item.tail&&!n.vertical),e(t,4,0,n.isRecurrence),e(t,6,0,n.isRecurrenceException),e(t,8,0,n.eventTemplate),e(t,10,0,!n.eventTemplate),e(t,13,0,n.removable),e(t,15,0,n.item.head&&!n.vertical),e(t,17,0,n.item.tail&&n.vertical),e(t,19,0,n.item.head&&n.vertical),e(t,21,0,n.resizable&&n.vertical),e(t,23,0,n.resizable&&!n.vertical)}),null)}var oY=Ei({encapsulation:2,styles:[],data:{}});function sY(e){return no(0,[(e()(),La(0,0,null,null,2,"multi-day-view",[["viewName","day"]],null,null,null,dq,fY)),Wl(512,null,Ez,Ez,[]),jl(2,4964352,null,0,Nz,[$g,HB,UB,aS,Ez,Qr,qn,Hn,Zt,fV],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],numberOfDays:[10,"numberOfDays"],scrollTime:[11,"scrollTime"],startTime:[12,"startTime"],endTime:[13,"endTime"],workDayStart:[14,"workDayStart"],workDayEnd:[15,"workDayEnd"],workWeekStart:[16,"workWeekStart"],workWeekEnd:[17,"workWeekEnd"],slotDuration:[18,"slotDuration"],slotDivisions:[19,"slotDivisions"],showWorkHours:[20,"showWorkHours"],currentTimeMarker:[21,"currentTimeMarker"],name:[22,"name"],slotFill:[23,"slotFill"],allDaySlotTemplate:[24,"allDaySlotTemplate"],allDayEventTemplate:[25,"allDayEventTemplate"],minorTimeHeaderTemplate:[26,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[27,"majorTimeHeaderTemplate"]},null),(e()(),La(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(e,t,n){var i=!0,l=e.component;return"itemClick"===t&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),BU,NU)),jl(4,49152,null,0,hz,[],null,{itemClick:"itemClick"}),jl(5,606208,null,0,dz,[hz,$g],{showWorkHours:[0,"showWorkHours"]},null)],(function(e,t){var n=t.component;e(t,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,n.numberOfDays,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),e(t,5,0,n.shouldShowWorkHours)}),(function(e,t){e(t,3,0,Ml(t,4).hostClasses,Ml(t,4).hostClasses)}))}function uY(e){return no(2,[Ha(402653184,1,{template:0}),(e()(),Na(0,[[1,2],["content",2]],null,0,null,sY))],null,null)}var cY=Ei({encapsulation:2,styles:[],data:{}});function hY(e){return no(0,[(e()(),La(0,0,null,null,2,"multi-day-view",[["viewName","workWeekview"]],null,null,null,dq,fY)),Wl(512,null,Ez,Ez,[]),jl(2,4964352,null,0,Nz,[$g,HB,UB,aS,Ez,Qr,qn,Hn,Zt,fV],{"\u0435ventTemplate":[0,"\u0435ventTemplate"],groupHeaderTemplate:[1,"groupHeaderTemplate"],selectedDateFormat:[2,"selectedDateFormat"],selectedShortDateFormat:[3,"selectedShortDateFormat"],eventHeight:[4,"eventHeight"],slotClass:[5,"slotClass"],eventClass:[6,"eventClass"],eventStyles:[7,"eventStyles"],timeSlotTemplate:[8,"timeSlotTemplate"],dateHeaderTemplate:[9,"dateHeaderTemplate"],numberOfDays:[10,"numberOfDays"],scrollTime:[11,"scrollTime"],startTime:[12,"startTime"],endTime:[13,"endTime"],workDayStart:[14,"workDayStart"],workDayEnd:[15,"workDayEnd"],workWeekStart:[16,"workWeekStart"],workWeekEnd:[17,"workWeekEnd"],slotDuration:[18,"slotDuration"],slotDivisions:[19,"slotDivisions"],showWorkHours:[20,"showWorkHours"],getStartDate:[21,"getStartDate"],getNextDate:[22,"getNextDate"],currentTimeMarker:[23,"currentTimeMarker"],name:[24,"name"],slotFill:[25,"slotFill"],allDaySlotTemplate:[26,"allDaySlotTemplate"],allDayEventTemplate:[27,"allDayEventTemplate"],minorTimeHeaderTemplate:[28,"minorTimeHeaderTemplate"],majorTimeHeaderTemplate:[29,"majorTimeHeaderTemplate"]},null),(e()(),La(3,0,null,null,2,"div",[["kendoWorkHoursFooter",""],["viewFooter",""]],[[2,"k-header",null],[2,"k-scheduler-footer",null]],[[null,"itemClick"]],(function(e,t,n){var i=!0,l=e.component;return"itemClick"===t&&(i=0!=(l.showWorkHours=!l.shouldShowWorkHours)&&i),i}),BU,NU)),jl(4,49152,null,0,hz,[],null,{itemClick:"itemClick"}),jl(5,606208,null,0,dz,[hz,$g],{showWorkHours:[0,"showWorkHours"]},null)],(function(e,t){var n=t.component;e(t,2,1,[null==n.eventTemplate?null:n.eventTemplate.templateRef,null==n.groupHeaderTemplate?null:n.groupHeaderTemplate.templateRef,n.selectedDateFormat,n.selectedShortDateFormat,n.viewEventHeight,n.viewSlotClass,n.viewEventClass,n.viewEventStyles,null==n.timeSlotTemplate?null:n.timeSlotTemplate.templateRef,null==n.dateHeaderTemplate?null:n.dateHeaderTemplate.templateRef,n.numberOfDays,n.viewScrollTime,n.viewStartTime,n.viewEndTime,n.viewWorkDayStart,n.viewWorkDayEnd,n.viewWorkWeekStart,n.viewWorkWeekEnd,n.viewSlotDuration,n.viewSlotDivisions,n.shouldShowWorkHours,n.getStartDate,n.getNextDate,n.viewCurrentTimeMarker,n.name,n.viewSlotFill,null==n.allDaySlotTemplate?null:n.allDaySlotTemplate.templateRef,null==n.allDayEventTemplate?null:n.allDayEventTemplate.templateRef,null==n.minorTimeHeaderTemplate?null:n.minorTimeHeaderTemplate.templateRef,null==n.majorTimeHeaderTemplate?null:n.majorTimeHeaderTemplate.templateRef]),e(t,5,0,n.shouldShowWorkHours)}),(function(e,t){e(t,3,0,Ml(t,4).hostClasses,Ml(t,4).hostClasses)}))}function dY(e){return no(2,[Ha(402653184,1,{template:0}),(e()(),Na(0,[[1,2],["content",2]],null,0,null,hY))],null,null)}var fY=Ei({encapsulation:2,styles:[],data:{}});function pY(e){return no(0,[(e()(),La(0,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"th",[],null,null,null,null,null))],null,null)}function vY(e){return no(0,[(e()(),La(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),La(1,0,[[11,0],["allDayCell",1]],null,1,"th",[["class","k-scheduler-times-all-day"]],null,null,null,null,null)),(e()(),Ja(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.component.allDayMessage)}))}function gY(e){return no(0,[(e()(),La(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.component.getField(t.parent.context.$implicit,t.parent.parent.context.$implicit.textField))}))}function mY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{resource:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.context.$implicit);e(t,1,0,i,n.groupHeaderTemplateRef)}),null)}function yY(e){return no(0,[(e()(),La(0,0,null,null,4,"th",[["class","k-slot-cell"]],[[1,"colspan",0]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,gY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,mY)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.groupHeaderTemplateRef),e(t,4,0,n.groupHeaderTemplateRef)}),(function(e,t){e(t,0,0,t.component.horizontalColspan(t.parent.context.index))}))}function bY(e){return no(0,[(e()(),La(0,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,yY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(3,2)],(function(e,t){var n=t.component,i=Mi(t,2,0,e(t,3,0,Ml(t.parent,0),n.horizontalResources,t.context.index));e(t,2,0,i,n.itemIndex)}),null)}function kY(e){return no(0,[(e()(),La(0,0,null,null,2,"span",[["class","k-link k-nav-day"]],[[1,"data-dayslot-index",0]],null,null,null,null)),(e()(),Ja(1,null,["",""])),Ka(2,2)],null,(function(e,t){var n=t.component;e(t,0,0,t.parent.context.index);var i=Mi(t,1,0,e(t,2,0,Ml(t.parent.parent.parent,1),t.parent.context.$implicit.start,n.dateFormat));e(t,1,0,i)}))}function _Y(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{date:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.context.$implicit.start);e(t,1,0,i,n.dateHeaderTemplateRef)}),null)}function wY(e){return no(0,[(e()(),La(0,0,null,null,4,"th",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,kY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,_Y)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.dateHeaderTemplateRef),e(t,4,0,n.dateHeaderTemplateRef)}),null)}function xY(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,wY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.daySlots,n.itemIndex)}),null)}function CY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{date:0,resources:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.context.$implicit.start,n.resourcesByIndex(t.parent.parent.context.index));e(t,1,0,i,n.allDaySlotTemplateRef)}),null)}function SY(e){return no(0,[(e()(),La(0,0,null,null,6,"td",[["daySlot",""]],[[1,"data-slot-index",0],[1,"data-day-slot",0]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),jl(3,212992,null,0,Bz,[Hn,Ez,$g],{id:[0,"id"],start:[1,"start"],end:[2,"end"]},null),Za(4,{resourceIndex:0,rangeIndex:1,index:2}),(e()(),Na(16777216,null,null,1,null,CY)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.allDaySlotClass(t.context.$implicit,t.parent.context.index));var i=e(t,4,0,t.parent.context.index,0,t.context.index);e(t,3,0,i,t.context.$implicit.start,t.context.$implicit.end),e(t,6,0,n.allDaySlotTemplateRef)}),(function(e,t){e(t,0,0,Ml(t,3).slotIndex,Ml(t,3).daySlot)}))}function TY(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,SY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.daySlots,n.itemIndex)}),null)}function PY(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,aY,YU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(4,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),jl(5,147456,null,0,gV,[Hn,qn,uV],{focusIndex:[0,"focusIndex"]},null),jl(6,770048,null,0,Vz,[aS,Ez,$g,uV,Hn,qn],{item:[0,"item"],resourceIndex:[1,"resourceIndex"],index:[2,"index"],eventTemplate:[3,"eventTemplate"],editable:[4,"editable"],resources:[5,"resources"],isAllDay:[6,"isAllDay"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.getEventClasses(t.parent.context.$implicit,t.context.$implicit.resources,!0)),e(t,4,0,n.getEventStyles(t.parent.context.$implicit,t.context.$implicit,!0)),e(t,5,0,t.context.$implicit.leafIdx),e(t,6,0,t.parent.context.$implicit,t.context.$implicit.leafIdx,t.parent.context.$implicit.index,n.allDayEventTemplateRef,n.editable,t.context.$implicit.resources,!0)}),(function(e,t){e(t,0,0,Ml(t,6).className,Ml(t,6).taskIndex,Ml(t,6).touchAction,Ml(t,6).eventTitle)}))}function MY(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,PY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.context.$implicit.resources,t.component.itemIndex)}),null)}function AY(e){return no(0,[(e()(),La(0,0,null,null,5,"div",[["class","k-event-drag-hint"],["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,aY,YU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(4,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),jl(5,770048,null,0,Vz,[aS,Ez,$g,uV,Hn,qn],{item:[0,"item"],eventTemplate:[1,"eventTemplate"],dragHint:[2,"dragHint"],resources:[3,"resources"],isAllDay:[4,"isAllDay"]},null)],(function(e,t){var n=t.component;e(t,2,0,"k-event-drag-hint",n.dragHints[0].class),e(t,4,0,n.dragHints[0].style),e(t,5,0,n.dragHints[0].item,n.eventTemplateRef,!0,n.dragHints[0].resources,!0)}),(function(e,t){e(t,0,0,Ml(t,5).className,Ml(t,5).taskIndex,Ml(t,5).touchAction,Ml(t,5).eventTitle)}))}function IY(e){return no(0,[(e()(),La(0,0,null,null,3,"div",[["kendoResizeHint",""]],[[2,"k-marquee",null],[2,"k-scheduler-marquee",null],[2,"k-first",null],[2,"k-last",null],[4,"left","px"],[4,"right","px"],[4,"top","px"],[4,"width","px"],[4,"height","px"]],null,null,UU,jU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),jl(3,49152,null,0,vz,[],{hint:[0,"hint"],format:[1,"format"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.resizeHints[0].class),e(t,3,0,n.resizeHints[0],n.allDayResizeHintFormat)}),(function(e,t){e(t,0,0,Ml(t,3).marqueeClasses,Ml(t,3).marqueeClasses,Ml(t,3).marqueeClasses,Ml(t,3).marqueeClasses,Ml(t,3).left,Ml(t,3).left,Ml(t,3).top,Ml(t,3).width,Ml(t,3).height)}))}function EY(e){return no(0,[(e()(),Na(16777216,[[13,2]],null,1,null,AY)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,[[13,2]],null,1,null,IY)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.dragHints.length&&n.allDayDragHint),e(t,3,0,n.resizeHints.length&&n.allDayResizeHint)}),null)}function DY(e){return no(0,[(e()(),La(0,0,null,null,12,"div",[["style","position: relative;"]],null,null,null,null,null)),(e()(),La(1,0,null,null,4,"table",[["aria-hidden","true"],["class","k-scheduler-table k-scheduler-header-all-day"]],null,null,null,null,null)),(e()(),La(2,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,TY)),jl(4,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(5,1),(e()(),Na(16777216,null,null,2,null,MY)),jl(7,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Hl(131072,Iu,[Zt]),(e()(),La(9,0,null,null,3,"kendo-hint-container",[],null,null,null,zU,VU)),jl(10,49152,[[12,4],["headerHintContainer",4]],1,sz,[Zt],null,null),Ha(603979776,13,{hintTemplate:0}),(e()(),Na(0,[[13,2]],null,0,null,EY))],(function(e,t){var n=t.component,i=Mi(t,4,0,e(t,5,0,Ml(t.parent,0),n.horizontalResources));e(t,4,0,i,n.itemIndex),e(t,7,0,Mi(t,7,0,Ml(t,8).transform(n.allDayItems)),n.itemIndex)}),null)}function OY(e){return no(0,[(e()(),La(0,0,[[10,0],["currentTimeArrow",1]],null,0,"div",[["class","k-current-time k-current-time-arrow-right"]],null,null,null,null,null))],null,null)}function FY(e){return no(0,[(e()(),La(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,OY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(3,1),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=Mi(t,2,0,e(t,3,0,Ml(t.parent,0),n.verticalResources));e(t,2,0,i,n.itemIndex)}),null)}function RY(e){return no(0,[(e()(),La(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.getField(n.verticalItem(t.parent.parent.parent.parent.context.index,t.parent.parent.context.index),t.parent.parent.context.$implicit.textField))}))}function NY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{resource:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,n.verticalItem(t.parent.parent.parent.parent.context.index,t.parent.parent.context.index));e(t,1,0,i,n.groupHeaderTemplateRef)}),null)}function LY(e){return no(0,[(e()(),La(0,0,null,null,4,"th",[["class","k-slot-cell"]],[[1,"rowspan",0]],null,null,null,null)),(e()(),Na(16777216,null,null,1,null,RY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,NY)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,!n.groupHeaderTemplateRef),e(t,4,0,n.groupHeaderTemplateRef)}),(function(e,t){e(t,0,0,t.component.verticalRowspan(t.parent.context.index))}))}function BY(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,LY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.component.verticalItem(t.parent.parent.context.index,t.context.index))}),null)}function VY(e){return no(0,[(e()(),La(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,BY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),La(3,0,[[11,0],["allDayCell",1]],null,1,"th",[["class","k-scheduler-times-all-day"]],null,null,null,null,null)),(e()(),Ja(4,null,["",""]))],(function(e,t){var n=t.component;e(t,2,0,n.verticalResources,n.itemIndex)}),(function(e,t){e(t,4,0,t.component.allDayMessage)}))}function zY(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Ja(1,null,["",""])),Ka(2,2)],null,(function(e,t){var n=Mi(t,1,0,e(t,2,0,Ml(t.parent.parent.parent.parent,1),t.parent.parent.context.$implicit.start,"t"));e(t,1,0,n)}))}function jY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{date:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.parent.context.$implicit.start);e(t,1,0,i,n.majorTimeHeaderTemplateRef)}),null)}function HY(e){return no(0,[(e()(),La(0,0,null,null,7,"th",[],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Za(3,{"k-slot-cell":0}),(e()(),Na(16777216,null,null,1,null,zY)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,jY)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,1===n.slotDivisions);e(t,2,0,i),e(t,5,0,!n.majorTimeHeaderTemplateRef),e(t,7,0,n.majorTimeHeaderTemplateRef)}),null)}function WY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{date:0}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.parent.context.$implicit.start);e(t,1,0,i,n.minorTimeHeaderTemplateRef)}),null)}function UY(e){return no(0,[(e()(),La(0,0,null,null,5,"th",[],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Za(3,{"k-slot-cell":0}),(e()(),Na(16777216,null,null,1,null,WY)),jl(5,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,3,0,t.parent.context.index%n.slotDivisions==n.slotDivisions-1);e(t,2,0,i),e(t,5,0,n.minorTimeHeaderTemplateRef)}),null)}function YY(e){return no(0,[(e()(),La(0,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,HY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,UY)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.context.$implicit.isMajor),e(t,4,0,!t.context.$implicit.isMajor)}),null)}function qY(e){return no(0,[(e()(),La(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,VY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,YY)),jl(4,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.verticalResources.length),e(t,4,0,n.timeSlots,n.itemIndex)}),null)}function GY(e){return no(0,[(e()(),La(0,0,[[9,0],["currentTimeMarker",1]],null,0,"div",[["class","k-current-time"]],null,null,null,null,null))],null,null)}function XY(e){return no(0,[(e()(),La(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,GY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(3,1),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=Mi(t,2,0,e(t,3,0,Ml(t.parent,0),n.verticalResources));e(t,2,0,i,n.itemIndex)}),null)}function KY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{date:0,resources:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.context.$implicit.start,n.resourcesByIndex(t.parent.parent.parent.context.index));e(t,1,0,i,n.allDaySlotTemplateRef)}),null)}function $Y(e){return no(0,[(e()(),La(0,0,null,null,4,"td",[["daySlot",""]],[[1,"data-slot-index",0],[1,"data-day-slot",0]],null,null,null,null)),jl(1,212992,null,0,Bz,[Hn,Ez,$g],{id:[0,"id"],start:[1,"start"],end:[2,"end"]},null),Za(2,{resourceIndex:0,rangeIndex:1,index:2}),(e()(),Na(16777216,null,null,1,null,KY)),jl(4,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component,i=e(t,2,0,t.parent.parent.context.index,0,t.context.index);e(t,1,0,i,t.context.$implicit.start,t.context.$implicit.end),e(t,4,0,n.allDaySlotTemplateRef)}),(function(e,t){e(t,0,0,Ml(t,1).slotIndex,Ml(t,1).daySlot)}))}function ZY(e){return no(0,[(e()(),La(0,0,null,null,2,"tr",[["class","k-scheduler-header-all-day"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,$Y)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.daySlots,n.itemIndex)}),null)}function QY(e){return no(0,[(e()(),La(0,16777216,null,null,2,null,null,null,null,null,null,null)),jl(1,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(2,{date:0,resources:1}),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component,i=e(t,2,0,Ml(t.parent,3).startLocalTime,n.resourcesByIndex(Ml(t.parent,3).id.resourceIndex));e(t,1,0,i,n.timeSlotTemplateRef)}),null)}function JY(e){return no(0,[(e()(),La(0,0,null,null,6,"td",[["timeSlot",""]],[[2,"k-nonwork-hour",null],[1,"data-slot-index",0],[2,"k-nonwork-hour",null]],null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),jl(3,212992,[["timeSlot",4]],0,Lz,[Hn,Ez,$g],{id:[0,"id"],invariantStart:[1,"invariantStart"],invariantEnd:[2,"invariantEnd"],workDayStart:[3,"workDayStart"],workDayEnd:[4,"workDayEnd"],workWeekStart:[5,"workWeekStart"],workWeekEnd:[6,"workWeekEnd"],date:[7,"date"]},null),Za(4,{resourceIndex:0,rangeIndex:1,index:2}),(e()(),Na(16777216,null,null,1,null,QY)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.timeSlotClass(t.parent.parent.context.$implicit,t.context.$implicit.start,n.verticalResources.length?t.parent.parent.parent.context.index:t.parent.context.index));var i=e(t,4,0,n.verticalResources.length?t.parent.parent.parent.context.index:t.parent.context.index,t.context.index,t.parent.parent.context.index);e(t,3,0,i,t.parent.parent.context.$implicit.start,t.parent.parent.context.$implicit.end,n.workDayStartTime,n.workDayEndTime,n.workWeekStart,n.workWeekEnd,t.context.$implicit.start),e(t,6,0,n.timeSlotTemplateRef)}),(function(e,t){e(t,0,0,t.parent.parent.context.$implicit.isWorkHour,Ml(t,3).slotIndex,Ml(t,3).nonWorkHour)}))}function eq(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,JY)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.daySlots,n.itemIndex)}),null)}function tq(e){return no(0,[(e()(),La(0,0,null,null,3,"tr",[],[[2,"k-middle-row",null]],null,null,null,null)),(e()(),Na(16777216,null,null,2,null,eq)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(3,1)],(function(e,t){var n=t.component,i=Mi(t,2,0,e(t,3,0,Ml(t.parent.parent,0),n.horizontalResources));e(t,2,0,i,n.itemIndex)}),(function(e,t){e(t,0,0,t.context.$implicit.isMajor)}))}function nq(e){return no(0,[(e()(),La(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,ZY)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,tq)),jl(4,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.verticalResources.length),e(t,4,0,n.timeSlots,n.itemIndex)}),null)}function iq(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,aY,YU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(4,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),jl(5,147456,null,0,gV,[Hn,qn,uV],{focusIndex:[0,"focusIndex"]},null),jl(6,770048,null,0,Vz,[aS,Ez,$g,uV,Hn,qn],{item:[0,"item"],resourceIndex:[1,"resourceIndex"],index:[2,"index"],eventTemplate:[3,"eventTemplate"],editable:[4,"editable"],resources:[5,"resources"],vertical:[6,"vertical"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.getEventClasses(t.parent.context.$implicit,t.context.$implicit.resources)),e(t,4,0,n.getEventStyles(t.parent.context.$implicit,t.context.$implicit)),e(t,5,0,t.context.$implicit.leafIdx),e(t,6,0,t.parent.context.$implicit,t.context.$implicit.leafIdx,t.parent.context.$implicit.index,n.eventTemplateRef,n.editable,t.context.$implicit.resources,!0)}),(function(e,t){e(t,0,0,Ml(t,6).className,Ml(t,6).taskIndex,Ml(t,6).touchAction,Ml(t,6).eventTitle)}))}function lq(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,iq)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.context.$implicit.resources,t.component.itemIndex)}),null)}function rq(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,aY,YU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(4,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),jl(5,147456,null,0,gV,[Hn,qn,uV],{focusIndex:[0,"focusIndex"]},null),jl(6,770048,null,0,Vz,[aS,Ez,$g,uV,Hn,qn],{item:[0,"item"],resourceIndex:[1,"resourceIndex"],index:[2,"index"],eventTemplate:[3,"eventTemplate"],editable:[4,"editable"],resources:[5,"resources"],isAllDay:[6,"isAllDay"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.getEventClasses(t.parent.context.$implicit,t.context.$implicit.resources,!0)),e(t,4,0,n.getEventStyles(t.parent.context.$implicit,t.context.$implicit,!0)),e(t,5,0,t.context.$implicit.leafIdx),e(t,6,0,t.parent.context.$implicit,t.context.$implicit.leafIdx,t.parent.context.$implicit.index,n.allDayEventTemplateRef,n.editable,t.context.$implicit.resources,!0)}),(function(e,t){e(t,0,0,Ml(t,6).className,Ml(t,6).taskIndex,Ml(t,6).touchAction,Ml(t,6).eventTitle)}))}function aq(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,rq)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.context.$implicit.resources,t.component.itemIndex)}),null)}function oq(e){return no(0,[(e()(),La(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,aq)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Hl(131072,Iu,[Zt]),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,Mi(t,2,0,Ml(t,3).transform(n.allDayItems)),n.itemIndex)}),null)}function sq(e){return no(0,[(e()(),La(0,0,null,null,5,"div",[["class","k-event-drag-hint"],["dayTimeViewItem",""]],[[2,"k-event",null],[1,"data-task-index",0],[4,"touch-action",null],[1,"aria-label",0]],null,null,aY,YU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(4,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null),jl(5,770048,null,0,Vz,[aS,Ez,$g,uV,Hn,qn],{item:[0,"item"],eventTemplate:[1,"eventTemplate"],dragHint:[2,"dragHint"],resources:[3,"resources"],isAllDay:[4,"isAllDay"]},null)],(function(e,t){var n=t.component;e(t,2,0,"k-event-drag-hint",n.dragHints[0].class),e(t,4,0,n.dragHints[0].style),e(t,5,0,n.dragHints[0].item,n.eventTemplateRef,!0,n.dragHints[0].resources,n.allDayDragHint)}),(function(e,t){e(t,0,0,Ml(t,5).className,Ml(t,5).taskIndex,Ml(t,5).touchAction,Ml(t,5).eventTitle)}))}function uq(e){return no(0,[(e()(),La(0,0,null,null,3,"div",[["kendoResizeHint",""]],[[2,"k-marquee",null],[2,"k-scheduler-marquee",null],[2,"k-first",null],[2,"k-last",null],[4,"left","px"],[4,"right","px"],[4,"top","px"],[4,"width","px"],[4,"height","px"]],null,null,UU,jU)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(2,278528,null,0,pu,[du],{ngClass:[0,"ngClass"]},null),jl(3,49152,null,0,vz,[],{hint:[0,"hint"],format:[1,"format"]},null)],(function(e,t){var n=t.component;e(t,2,0,t.context.$implicit.class),e(t,3,0,t.context.$implicit,n.allDayResizeHint?n.allDayResizeHintFormat:n.resizeHintFormat)}),(function(e,t){e(t,0,0,Ml(t,3).marqueeClasses,Ml(t,3).marqueeClasses,Ml(t,3).marqueeClasses,Ml(t,3).marqueeClasses,Ml(t,3).left,Ml(t,3).left,Ml(t,3).top,Ml(t,3).width,Ml(t,3).height)}))}function cq(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,[[14,2]],null,1,null,uq)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,2,0,n.resizeHints,n.itemIndex)}),null)}function hq(e){return no(0,[(e()(),Na(16777216,[[14,2]],null,1,null,sq)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,[[14,2]],null,1,null,cq)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){var n=t.component;e(t,1,0,n.dragHints.length&&(!n.allDayDragHint||n.verticalResources.length)),e(t,3,0,n.resizeHints.length&&(!n.allDayResizeHint||n.verticalResources.length))}),null)}function dq(e){return no(0,[Hl(0,pz,[]),Hl(0,sS,[aS]),Ha(402653184,1,{content:0}),Ha(402653184,2,{header:0}),Ha(402653184,3,{contentTable:0}),Ha(402653184,4,{times:0}),Ha(402653184,5,{timesHeader:0}),Ha(402653184,6,{timesTable:0}),Ha(402653184,7,{headerWrap:0}),Ha(402653184,8,{hintContainer:0}),Ha(671088640,9,{currentTimeElements:1}),Ha(671088640,10,{currentTimeArrows:1}),Ha(671088640,11,{dayCells:1}),Ha(671088640,12,{headerHintContainer:0}),(e()(),La(14,0,null,null,47,"div",[["class","k-scheduler-layout k-scheduler-flex-layout"]],null,null,null,null,null)),Wl(512,null,du,fu,[ri,ai,Hn,qn]),jl(16,278528,null,0,pu,[du],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),La(17,0,null,null,20,"div",[["class","k-scheduler-pane"]],null,null,null,null,null)),(e()(),La(18,0,[[5,0],["timesHeader",1]],null,8,"div",[["class","k-scheduler-times"]],null,null,null,null,null)),(e()(),La(19,0,null,null,7,"table",[["aria-hidden","true"],["class","k-scheduler-table"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,pY)),jl(21,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),La(22,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u200b"])),(e()(),Na(16777216,null,null,1,null,vY)),jl(26,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(27,0,[[2,0],["header",1]],null,10,"div",[["class","k-scheduler-header k-state-default"]],null,null,null,null,null)),(e()(),La(28,0,[[7,0],["headerWrap",1]],null,9,"div",[["class","k-scheduler-header-wrap"]],null,null,null,null,null)),(e()(),La(29,0,null,null,6,"table",[["aria-hidden","true"],["class","k-scheduler-table"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,bY)),jl(31,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),La(32,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,xY)),jl(34,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(35,1),(e()(),Na(16777216,null,null,1,null,DY)),jl(37,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(38,0,null,null,23,"div",[["class","k-scheduler-pane"]],null,null,null,null,null)),(e()(),La(39,0,[[4,0],["times",1]],null,6,"div",[["class","k-scheduler-times"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,FY)),jl(41,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(42,0,[[6,0],["timesTable",1]],null,3,"table",[["aria-hidden","true"],["class","k-scheduler-table"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,qY)),jl(44,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(45,1),(e()(),La(46,0,[[1,0],["content",1]],null,15,"div",[["class","k-scheduler-content"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,XY)),jl(48,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(49,0,[[3,0],["contentTable",1]],null,3,"table",[["class","k-scheduler-table"],["role","presentation"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,2,null,nq)),jl(51,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Ka(52,1),(e()(),Na(16777216,null,null,2,null,lq)),jl(54,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),Hl(131072,Iu,[Zt]),(e()(),Na(16777216,null,null,1,null,oq)),jl(57,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(58,0,null,null,3,"kendo-hint-container",[],null,null,null,zU,VU)),jl(59,49152,[[8,4],["hintContainer",4]],1,sz,[Zt],null,null),Ha(603979776,14,{hintTemplate:0}),(e()(),Na(0,[[14,2]],null,0,null,hq))],(function(e,t){var n=t.component;e(t,16,0,"k-scheduler-layout k-scheduler-flex-layout",n.classNames),e(t,21,0,n.horizontalResources,n.itemIndex),e(t,26,0,!n.verticalResources.length),e(t,31,0,n.horizontalResources,n.itemIndex);var i=Mi(t,34,0,e(t,35,0,Ml(t,0),n.horizontalResources));e(t,34,0,i,n.itemIndex),e(t,37,0,!n.verticalResources.length),e(t,41,0,n.showCurrentTime);var l=Mi(t,44,0,e(t,45,0,Ml(t,0),n.verticalResources));e(t,44,0,l,n.itemIndex),e(t,48,0,n.showCurrentTime);var r=Mi(t,51,0,e(t,52,0,Ml(t,0),n.verticalResources));e(t,51,0,r,n.itemIndex),e(t,54,0,Mi(t,54,0,Ml(t,55).transform(n.items)),n.itemIndex),e(t,57,0,n.verticalResources.length)}),null)}var fq=Ei({encapsulation:2,styles:[],data:{}});function pq(e){return no(0,[(e()(),La(0,0,null,null,7,"kendo-timepicker",[],[[2,"k-widget",null],[2,"k-timepicker",null],[2,"k-header",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==(l.date=n)&&i),"valueChange"===t&&(i=!1!==l.onValueChange(n)&&i),i}),Ij,Mj)),Wl(5120,null,Yy,(function(e){return[e]}),[LP]),Wl(5120,null,ib,(function(e){return[e]}),[LP]),Wl(6144,null,tg,null,[LP]),Wl(256,null,Kg,"kendo.timepicker",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,fP,fP,[]),jl(7,770048,null,0,LP,[Qr,$g,Zt,Ng,Hn,qn,pn,fP,aS,[2,FP]],{value:[0,"value"]},{valueChange:"valueChange"})],(function(e,t){e(t,7,0,t.component.date)}),(function(e,t){e(t,0,0,Ml(t,7).wrapperClasses,Ml(t,7).wrapperClasses,Ml(t,7).wrapperClasses,Ml(t,7).disabledClass)}))}function vq(e){return no(0,[Ha(402653184,1,{datePicker:0}),(e()(),La(1,0,null,null,16,"kendo-datepicker",[],[[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-header",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==(l.date=n)&&i),"valueChange"===t&&(i=!1!==l.onValueChange(n)&&i),i}),Pj,Cj)),Wl(5120,null,Yy,(function(e){return[e]}),[RP]),Wl(5120,null,ib,(function(e){return[e]}),[RP]),Wl(6144,null,tg,null,[RP]),Wl(256,null,Kg,"kendo.datepicker",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,fP,fP,[]),Wl(512,null,_P,_P,[]),jl(9,770048,[[1,4],["datepicker",4]],8,RP,[Qr,$g,Zt,Ng,Hn,qn,pn,fP,_P,[2,FP]],{value:[0,"value"]},{valueChange:"valueChange"}),Ha(335544320,2,{cellTemplate:0}),Ha(335544320,3,{monthCellTemplate:0}),Ha(335544320,4,{yearCellTemplate:0}),Ha(335544320,5,{decadeCellTemplate:0}),Ha(335544320,6,{centuryCellTemplate:0}),Ha(335544320,7,{weekNumberTemplate:0}),Ha(335544320,8,{headerTitleTemplate:0}),Ha(335544320,9,{navigationItemTemplate:0}),(e()(),Na(16777216,null,null,1,null,pq)),jl(19,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,9,0,n.date),e(t,19,0,!n.isAllDay)}),(function(e,t){e(t,1,0,Ml(t,9).wrapperClasses,Ml(t,9).wrapperClasses,Ml(t,9).wrapperClasses,Ml(t,9).disabledClass)}))}var gq=Ei({encapsulation:2,styles:[],data:{}});function mq(e){return no(0,[Ha(671088640,1,{endRuleRadioButtons:1}),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onEndLabelClick()&&i),i}),null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,42,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,41,"ul",[["class","k-reset"]],null,null,null,null,null)),(e()(),La(6,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),jl(8,2310144,[[1,4]],0,aj,[Hn,qn,nj,Zt],{endRuleId:[0,"endRuleId"]},null),(e()(),La(9,0,null,null,1,"label",[["class","k-radio-label"],["for","k-endrule-never"]],null,null,null,null,null)),(e()(),Ja(10,null,["",""])),(e()(),La(11,0,null,null,13,"li",[],null,null,null,null,null)),(e()(),La(12,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),jl(13,2310144,[[1,4]],0,aj,[Hn,qn,nj,Zt],{endRuleId:[0,"endRuleId"]},null),(e()(),La(14,0,null,null,1,"label",[["class","k-radio-label"],["for","k-endrule-count"]],null,null,null,null,null)),(e()(),Ja(15,null,["",""])),(e()(),La(16,0,null,null,6,"kendo-numerictextbox",[],[[4,"width","px"],[1,"dir",0],[2,"k-widget",null],[2,"k-numerictextbox",null]],[[null,"valueChange"],[null,"blur"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==(l.countValue=n)&&i),"blur"===t&&(i=!1!==l.onCountBlur()&&i),"valueChange"===t&&(i=!1!==l.onCountChange(n)&&i),i}),MH,TH)),Wl(5120,null,Yy,(function(e){return[e]}),[AB]),Wl(5120,null,ib,(function(e){return[e]}),[AB]),Wl(6144,null,tg,null,[AB]),Wl(256,null,Kg,"kendo.numerictextbox",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(22,770048,null,0,AB,[aS,qn,$g,pn,Qr,Zt,Hn],{disabled:[0,"disabled"],autoCorrect:[1,"autoCorrect"],format:[2,"format"],min:[3,"min"],decimals:[4,"decimals"],value:[5,"value"]},{valueChange:"valueChange",onBlur:"blur"}),(e()(),La(23,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ja(24,null,["",""])),(e()(),La(25,0,null,null,21,"li",[],null,null,null,null,null)),(e()(),La(26,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),jl(27,2310144,[[1,4]],0,aj,[Hn,qn,nj,Zt],{endRuleId:[0,"endRuleId"]},null),(e()(),La(28,0,null,null,1,"label",[["class","k-radio-label"],["for","k-endrule-until"]],null,null,null,null,null)),(e()(),Ja(29,null,["",""])),(e()(),La(30,0,null,null,16,"kendo-datepicker",[],[[4,"width","px"],[2,"k-widget",null],[2,"k-datepicker",null],[2,"k-header",null],[2,"k-state-disabled",null]],[[null,"valueChange"],[null,"blur"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==(l.untilValue=n)&&i),"blur"===t&&(i=!1!==l.onUntilBlur()&&i),"valueChange"===t&&(i=!1!==l.onUntilChange(n)&&i),i}),Pj,Cj)),Wl(5120,null,Yy,(function(e){return[e]}),[RP]),Wl(5120,null,ib,(function(e){return[e]}),[RP]),Wl(6144,null,tg,null,[RP]),Wl(256,null,Kg,"kendo.datepicker",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,fP,fP,[]),Wl(512,null,_P,_P,[]),jl(38,770048,null,8,RP,[Qr,$g,Zt,Ng,Hn,qn,pn,fP,_P,[2,FP]],{disabled:[0,"disabled"],value:[1,"value"]},{valueChange:"valueChange",onBlur:"blur"}),Ha(335544320,2,{cellTemplate:0}),Ha(335544320,3,{monthCellTemplate:0}),Ha(335544320,4,{yearCellTemplate:0}),Ha(335544320,5,{decadeCellTemplate:0}),Ha(335544320,6,{centuryCellTemplate:0}),Ha(335544320,7,{weekNumberTemplate:0}),Ha(335544320,8,{headerTitleTemplate:0}),Ha(335544320,9,{navigationItemTemplate:0})],(function(e,t){var n=t.component;e(t,8,0,"k-endrule-never"),e(t,13,0,"k-endrule-count"),e(t,22,0,n.isCountDisabled,!0,"#",1,0,n.countValue),e(t,27,0,"k-endrule-until"),e(t,38,0,n.isUntilDisabled,n.untilValue)}),(function(e,t){var n=t.component;e(t,3,0,n.textFor("endLabel")),e(t,7,0,Ml(t,8).type,Ml(t,8).name,Ml(t,8).radioClass),e(t,10,0,n.textFor("endNever")),e(t,12,0,Ml(t,13).type,Ml(t,13).name,Ml(t,13).radioClass),e(t,15,0,n.textFor("endAfter")),e(t,16,0,70,Ml(t,22).direction,Ml(t,22).widgetClasses,Ml(t,22).widgetClasses),e(t,24,0,n.textFor("endOccurrence")),e(t,26,0,Ml(t,27).type,Ml(t,27).name,Ml(t,27).radioClass),e(t,29,0,n.textFor("endOn")),e(t,30,0,150,Ml(t,38).wrapperClasses,Ml(t,38).wrapperClasses,Ml(t,38).wrapperClasses,Ml(t,38).disabledClass)}))}var yq=Ei({encapsulation:2,styles:[],data:{}});function bq(e){return no(0,[(e()(),La(0,0,null,null,4,"button",[["kendoButton",""]],[[4,"width","px"],[2,"k-button",null],[2,"k-primary",null],[2,"k-flat",null],[2,"k-bare",null],[2,"k-outline",null],[1,"aria-disabled",0],[2,"k-state-disabled",null],[1,"aria-pressed",0],[2,"k-state-active",null],[1,"dir",0]],[[null,"click"],[null,"focus"],[null,"blur"]],(function(e,t,n){var i=!0,l=e.component;return"focus"===t&&(i=!1!==Ml(e,3).onFocus()&&i),"blur"===t&&(i=!1!==Ml(e,3).onBlur()&&i),"click"===t&&(i=!1!==l.onClick(e.context.$implicit)&&i),i}),null,null)),Wl(256,null,Kg,"kendo.button",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(3,9125888,[[2,4],[1,4]],0,tm,[Hn,qn,[2,em],$g,Qr],{togglable:[0,"togglable"],selected:[1,"selected"]},{click:"click"}),(e()(),Ja(4,null,["",""]))],(function(e,t){e(t,3,0,!0,t.context.$implicit.value===t.component.selected)}),(function(e,t){e(t,0,1,[100,Ml(t,3).classButton,Ml(t,3).classPrimary,Ml(t,3).isFlat,Ml(t,3).isBare,Ml(t,3).isOutline,Ml(t,3).classDisabled,Ml(t,3).classDisabled,Ml(t,3).classActive,Ml(t,3).classActive,Ml(t,3).getDirection]),e(t,4,0,t.context.$implicit.text)}))}function kq(e){return no(0,[Ha(671088640,1,{weekDayButtons:1}),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onFrequencyClick()&&i),i}),null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,8,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,7,"kendo-buttongroup",[],[[2,"k-button-group",null],[2,"k-state-disabled",null],[2,"k-button-group-stretched",null],[2,"k-button-group-flat",null],[2,"k-button-group-bare",null],[2,"k-button-group-outline",null],[1,"role",0],[1,"dir",0],[1,"aria-disalbed",0],[4,"width",null],[1,"tabindex",0]],[[null,"keydown"],[null,"focus"],[null,"focusout"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==Ml(e,9).keydown(n)&&i),"focus"===t&&(i=!1!==Ml(e,9).onFocus()&&i),"focusout"===t&&(i=!1!==Ml(e,9).focusout(n)&&i),i}),IH,AH)),Wl(512,null,em,em,[]),Wl(256,null,Kg,"kendo.buttongroup",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(9,12304384,null,1,im,[em,$g,Hn],{selection:[0,"selection"]},null),Ha(603979776,2,{buttons:1}),(e()(),Na(16777216,null,0,1,null,bq)),jl(12,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,9,0,"single"),e(t,12,0,n.frequencies)}),(function(e,t){e(t,3,0,t.component.textFor("repeat")),e(t,5,1,[Ml(t,9).wrapperClass,Ml(t,9).disabledClass,Ml(t,9).stretchedClass,Ml(t,9).isFlat,Ml(t,9).isBare,Ml(t,9).isOutline,Ml(t,9).getRole,Ml(t,9).dir,Ml(t,9).ariaDisabled,Ml(t,9).wrapperWidth,Ml(t,9).wrapperTabIndex])}))}var _q=Ei({encapsulation:2,styles:[],data:{}});function wq(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,10).focus()&&i),i}),null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,9,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(4,0,null,null,6,"kendo-numerictextbox",[],[[4,"width","px"],[1,"dir",0],[2,"k-widget",null],[2,"k-numerictextbox",null]],[[null,"valueChange"],[null,"blur"]],(function(e,t,n){var i=!0,l=e.component;return"valueChange"===t&&(i=!1!==(l.intervalValue=n)&&i),"blur"===t&&(i=!1!==l.onIntervalBlur()&&i),"valueChange"===t&&(i=!1!==l.onIntervalChange(n)&&i),i}),MH,TH)),Wl(5120,null,Yy,(function(e){return[e]}),[AB]),Wl(5120,null,ib,(function(e){return[e]}),[AB]),Wl(6144,null,tg,null,[AB]),Wl(256,null,Kg,"kendo.numerictextbox",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(10,770048,[["intervalNumeric",4]],0,AB,[aS,qn,$g,pn,Qr,Zt,Hn],{autoCorrect:[0,"autoCorrect"],format:[1,"format"],min:[2,"min"],decimals:[3,"decimals"],value:[4,"value"]},{valueChange:"valueChange",onBlur:"blur"}),(e()(),La(11,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ja(12,null,["",""]))],(function(e,t){e(t,10,0,!0,"#",1,0,t.component.intervalValue)}),(function(e,t){var n=t.component;e(t,2,0,n.textForRepeatEvery()),e(t,4,0,70,Ml(t,10).direction,Ml(t,10).widgetClasses,Ml(t,10).widgetClasses),e(t,12,0,n.textForFrequency())}))}var xq=Ei({encapsulation:2,styles:[],data:{}});function Cq(e){return no(0,[(e()(),Ja(0,null,[" "," "]))],null,(function(e,t){e(t,0,0,t.component.textFor("monthlyDay"))}))}function Sq(e){return no(0,[(e()(),La(0,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onMonthChange(n,"monthday")&&i),i}),aW,WH)),Wl(5120,null,Yy,(function(e){return[e]}),[zE]),Wl(6144,null,_E,null,[zE]),Wl(6144,null,tg,null,[zE]),Wl(256,null,Kg,"kendo.dropdownlist",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,pE,pE,[]),Wl(512,null,gE,gE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(10,770048,null,7,zE,[$g,Ng,pE,bE,mE,gE,Qr,qn,Hn,Zt,[2,TE]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),Ha(335544320,2,{itemTemplate:0}),Ha(335544320,3,{groupTemplate:0}),Ha(335544320,4,{fixedGroupTemplate:0}),Ha(335544320,5,{valueTemplate:0}),Ha(335544320,6,{headerTemplate:0}),Ha(335544320,7,{footerTemplate:0}),Ha(335544320,8,{noDataTemplate:0})],(function(e,t){var n=t.component;e(t,10,0,n.months,n.currentMonthMonthDay,"text","value",n.isDisabled("monthday"),!0)}),(function(e,t){e(t,0,0,Ml(t,10).widgetClasses,Ml(t,10).widgetClasses,Ml(t,10).widgetClasses,Ml(t,10).dir)}))}function Tq(e){return no(0,[(e()(),La(0,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""])),(e()(),La(2,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onMonthChange(n,"weekday")&&i),i}),aW,WH)),Wl(5120,null,Yy,(function(e){return[e]}),[zE]),Wl(6144,null,_E,null,[zE]),Wl(6144,null,tg,null,[zE]),Wl(256,null,Kg,"kendo.dropdownlist",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,pE,pE,[]),Wl(512,null,gE,gE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(12,770048,null,7,zE,[$g,Ng,pE,bE,mE,gE,Qr,qn,Hn,Zt,[2,TE]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),Ha(335544320,23,{itemTemplate:0}),Ha(335544320,24,{groupTemplate:0}),Ha(335544320,25,{fixedGroupTemplate:0}),Ha(335544320,26,{valueTemplate:0}),Ha(335544320,27,{headerTemplate:0}),Ha(335544320,28,{footerTemplate:0}),Ha(335544320,29,{noDataTemplate:0})],(function(e,t){var n=t.component;e(t,12,0,n.months,n.currentMonthWeekDay,"text","value",n.isDisabled("weekday"),!0)}),(function(e,t){e(t,1,0,t.component.textFor("yearlyOf")),e(t,2,0,Ml(t,12).widgetClasses,Ml(t,12).widgetClasses,Ml(t,12).widgetClasses,Ml(t,12).dir)}))}function Pq(e){return no(0,[Ha(671088640,1,{repeatOnRadioButtons:1}),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onRepeatOnLabelClick()&&i),i}),null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,58,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,57,"ul",[["class","k-reset"]],[[4,"width","px"]],null,null,null,null)),(e()(),La(6,0,null,null,14,"li",[],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),jl(8,2310144,[[1,4]],0,uj,[Hn,qn,nj,Zt],{repeatOnRule:[0,"repeatOnRule"]},null),(e()(),La(9,0,null,null,2,"label",[["class","k-radio-label"],["for","k-repeaton-monthday"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Cq)),jl(11,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Sq)),jl(13,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(14,0,null,null,6,"kendo-numerictextbox",[],[[4,"width","px"],[1,"dir",0],[2,"k-widget",null],[2,"k-numerictextbox",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onMonthDayChange(n)&&i),i}),MH,TH)),Wl(5120,null,Yy,(function(e){return[e]}),[AB]),Wl(5120,null,ib,(function(e){return[e]}),[AB]),Wl(6144,null,tg,null,[AB]),Wl(256,null,Kg,"kendo.numerictextbox",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(20,770048,null,0,AB,[aS,qn,$g,pn,Qr,Zt,Hn],{disabled:[0,"disabled"],autoCorrect:[1,"autoCorrect"],format:[2,"format"],max:[3,"max"],min:[4,"min"],decimals:[5,"decimals"],value:[6,"value"]},{valueChange:"valueChange"}),(e()(),La(21,0,null,null,41,"li",[],null,null,null,null,null)),(e()(),La(22,0,null,null,1,"input",[],[[1,"type",0],[1,"name",0],[2,"k-radio",null]],null,null,null,null)),jl(23,2310144,[[1,4]],0,uj,[Hn,qn,nj,Zt],{repeatOnRule:[0,"repeatOnRule"]},null),(e()(),La(24,0,null,null,0,"label",[["class","k-radio-label"],["for","k-repeaton-weekday"]],null,null,null,null,null)),(e()(),La(25,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onOffsetPositionChange(n)&&i),i}),aW,WH)),Wl(5120,null,Yy,(function(e){return[e]}),[zE]),Wl(6144,null,_E,null,[zE]),Wl(6144,null,tg,null,[zE]),Wl(256,null,Kg,"kendo.dropdownlist",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,pE,pE,[]),Wl(512,null,gE,gE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(35,770048,null,7,zE,[$g,Ng,pE,bE,mE,gE,Qr,qn,Hn,Zt,[2,TE]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),Ha(335544320,9,{itemTemplate:0}),Ha(335544320,10,{groupTemplate:0}),Ha(335544320,11,{fixedGroupTemplate:0}),Ha(335544320,12,{valueTemplate:0}),Ha(335544320,13,{headerTemplate:0}),Ha(335544320,14,{footerTemplate:0}),Ha(335544320,15,{noDataTemplate:0}),(e()(),La(43,0,null,null,17,"kendo-dropdownlist",[["textField","text"],["valueField","value"]],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onWeekDayChange(n)&&i),i}),aW,WH)),Wl(5120,null,Yy,(function(e){return[e]}),[zE]),Wl(6144,null,_E,null,[zE]),Wl(6144,null,tg,null,[zE]),Wl(256,null,Kg,"kendo.dropdownlist",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,pE,pE,[]),Wl(512,null,gE,gE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(53,770048,null,7,zE,[$g,Ng,pE,bE,mE,gE,Qr,qn,Hn,Zt,[2,TE]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],disabled:[4,"disabled"],valuePrimitive:[5,"valuePrimitive"]},{valueChange:"valueChange"}),Ha(335544320,16,{itemTemplate:0}),Ha(335544320,17,{groupTemplate:0}),Ha(335544320,18,{fixedGroupTemplate:0}),Ha(335544320,19,{valueTemplate:0}),Ha(335544320,20,{headerTemplate:0}),Ha(335544320,21,{footerTemplate:0}),Ha(335544320,22,{noDataTemplate:0}),(e()(),Na(16777216,null,null,1,null,Tq)),jl(62,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,8,0,"monthday"),e(t,11,0,"monthly"===n.currentFreq),e(t,13,0,"yearly"===n.currentFreq),e(t,20,0,n.isDisabled("monthday"),!0,"#",31,1,0,n.monthDay),e(t,23,0,"weekday"),e(t,35,0,n.offsetPositions,n.offset,"text","value",n.isDisabled("weekday"),!0),e(t,53,0,n.extendedWeekDays,n.weekDay,"text","value",n.isDisabled("weekday"),!0),e(t,62,0,"yearly"===n.currentFreq)}),(function(e,t){e(t,3,0,t.component.textForRepeatOn()),e(t,5,0,650),e(t,7,0,Ml(t,8).type,Ml(t,8).name,Ml(t,8).radioClass),e(t,14,0,70,Ml(t,20).direction,Ml(t,20).widgetClasses,Ml(t,20).widgetClasses),e(t,22,0,Ml(t,23).type,Ml(t,23).name,Ml(t,23).radioClass),e(t,25,0,Ml(t,35).widgetClasses,Ml(t,35).widgetClasses,Ml(t,35).widgetClasses,Ml(t,35).dir),e(t,43,0,Ml(t,53).widgetClasses,Ml(t,53).widgetClasses,Ml(t,53).widgetClasses,Ml(t,53).dir)}))}var Mq=Ei({encapsulation:2,styles:[],data:{}});function Aq(e){return no(0,[(e()(),La(0,0,null,null,4,"button",[["kendoButton",""]],[[4,"width","px"],[2,"k-button",null],[2,"k-primary",null],[2,"k-flat",null],[2,"k-bare",null],[2,"k-outline",null],[1,"aria-disabled",0],[2,"k-state-disabled",null],[1,"aria-pressed",0],[2,"k-state-active",null],[1,"dir",0]],[[null,"selectedChange"],[null,"focus"],[null,"blur"]],(function(e,t,n){var i=!0,l=e.component;return"focus"===t&&(i=!1!==Ml(e,3).onFocus()&&i),"blur"===t&&(i=!1!==Ml(e,3).onBlur()&&i),"selectedChange"===t&&(i=!1!==l.onSelectedChange(n,e.context.$implicit.value)&&i),i}),null,null)),Wl(256,null,Kg,"kendo.button",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(3,9125888,[[2,4],[1,4]],0,tm,[Hn,qn,[2,em],$g,Qr],{toggleable:[0,"toggleable"],selected:[1,"selected"]},{selectedChange:"selectedChange"}),(e()(),Ja(4,null,["",""]))],(function(e,t){e(t,3,0,!0,t.component.isSelected(t.context.$implicit))}),(function(e,t){var n=t.component;e(t,0,1,[75,Ml(t,3).classButton,Ml(t,3).classPrimary,Ml(t,3).isFlat,Ml(t,3).isBare,Ml(t,3).isOutline,Ml(t,3).classDisabled,Ml(t,3).classDisabled,Ml(t,3).classActive,Ml(t,3).classActive,Ml(t,3).getDirection]),e(t,4,0,n.capitalize(t.context.$implicit.text))}))}function Iq(e){return no(0,[Ha(671088640,1,{weekDayButtons:1}),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onWeeklyRepeatOnClick()&&i),i}),null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,8,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,7,"kendo-buttongroup",[],[[2,"k-button-group",null],[2,"k-state-disabled",null],[2,"k-button-group-stretched",null],[2,"k-button-group-flat",null],[2,"k-button-group-bare",null],[2,"k-button-group-outline",null],[1,"role",0],[1,"dir",0],[1,"aria-disalbed",0],[4,"width",null],[1,"tabindex",0]],[[null,"keydown"],[null,"focus"],[null,"focusout"]],(function(e,t,n){var i=!0;return"keydown"===t&&(i=!1!==Ml(e,9).keydown(n)&&i),"focus"===t&&(i=!1!==Ml(e,9).onFocus()&&i),"focusout"===t&&(i=!1!==Ml(e,9).focusout(n)&&i),i}),IH,AH)),Wl(512,null,em,em,[]),Wl(256,null,Kg,"kendo.buttongroup",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(9,12304384,null,1,im,[em,$g,Hn],{selection:[0,"selection"]},null),Ha(603979776,2,{buttons:1}),(e()(),Na(16777216,null,0,1,null,Aq)),jl(12,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,9,0,"multiple"),e(t,12,0,n.weekDays)}),(function(e,t){e(t,3,0,t.component.textFor("weeklyRepeatOn")),e(t,5,1,[Ml(t,9).wrapperClass,Ml(t,9).disabledClass,Ml(t,9).stretchedClass,Ml(t,9).isFlat,Ml(t,9).isBare,Ml(t,9).isOutline,Ml(t,9).getRole,Ml(t,9).dir,Ml(t,9).ariaDisabled,Ml(t,9).wrapperWidth,Ml(t,9).wrapperTabIndex])}))}var Eq=Ei({encapsulation:2,styles:[],data:{}});function Dq(e){return no(0,[(e()(),La(0,0,null,null,2,"span",[["class","k-scheduler-mark"]],null,null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(2,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null)],(function(e,t){e(t,2,0,t.component.getResourceStyle(t.parent.context.$implicit))}),null)}function Oq(e){return no(0,[(e()(),Na(16777216,null,null,1,null,Dq)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Ja(2,null,[" "," "]))],(function(e,t){e(t,1,0,t.component.resource.colorField)}),(function(e,t){var n=t.component;e(t,2,0,n.getField(t.context.$implicit,n.resource.textField))}))}function Fq(e){return no(0,[(e()(),La(0,0,null,null,2,"span",[["class","k-scheduler-mark"]],null,null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(2,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null)],(function(e,t){e(t,2,0,t.component.getTagStyle(t.parent.context.$implicit))}),null)}function Rq(e){return no(0,[(e()(),Na(16777216,null,null,1,null,Fq)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Ja(2,null,[" "," "]))],(function(e,t){e(t,1,0,t.component.resource.colorField)}),(function(e,t){var n=t.component;e(t,2,0,n.getField(t.context.$implicit,n.resource.textField))}))}function Nq(e){return no(0,[Ha(402653184,1,{resourceMultiSelect:0}),(e()(),La(1,0,null,null,23,"kendo-multiselect",[],[[2,"k-widget",null],[2,"k-multiselect",null],[2,"k-header",null],[1,"dir",0],[2,"k-state-focused",null],[2,"k-state-disabled",null]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onResourceValueChange(n)&&i),i}),xW,oW)),Wl(5120,null,Yy,(function(e){return[e]}),[WE]),Wl(6144,null,_E,null,[WE]),Wl(6144,null,tg,null,[WE]),Wl(256,null,Kg,"kendo.multiselect",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,gE,gE,[]),Wl(512,null,pE,pE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(11,7323648,[[1,4],["resourceMultiSelect",4]],9,WE,[$g,Ng,gE,pE,bE,mE,Zt,ai,qn,Hn,Qr,[2,TE]],{data:[0,"data"],value:[1,"value"],valueField:[2,"valueField"],textField:[3,"textField"],valuePrimitive:[4,"valuePrimitive"]},{valueChange:"valueChange"}),Ha(335544320,2,{template:0}),Ha(335544320,3,{customItemTemplate:0}),Ha(335544320,4,{groupTemplate:0}),Ha(335544320,5,{fixedGroupTemplate:0}),Ha(335544320,6,{headerTemplate:0}),Ha(335544320,7,{footerTemplate:0}),Ha(335544320,8,{tagTemplate:0}),Ha(335544320,9,{groupTagTemplate:0}),Ha(335544320,10,{noDataTemplate:0}),(e()(),Na(0,null,null,1,null,Oq)),jl(22,16384,[[2,4]],0,fE,[ci],null,null),(e()(),Na(0,null,null,1,null,Rq)),jl(24,16384,[[8,4]],0,jE,[ci],null,null)],(function(e,t){var n=t.component;e(t,11,0,n.resource.data,n.resourceValue,n.resource.valueField,n.resource.textField,!0)}),(function(e,t){e(t,1,0,Ml(t,11).widgetClasses,Ml(t,11).widgetClasses,Ml(t,11).widgetClasses,Ml(t,11).dir,Ml(t,11).focusedClass,Ml(t,11).disabledClass)}))}var Lq=Ei({encapsulation:2,styles:[],data:{}});function Bq(e){return no(0,[(e()(),La(0,0,null,null,2,"span",[["class","k-scheduler-mark"]],null,null,null,null,null)),Wl(512,null,_u,wu,[Hn,ai,qn]),jl(2,278528,null,0,xu,[_u],{ngStyle:[0,"ngStyle"]},null)],(function(e,t){e(t,2,0,t.component.getResourceStyle(t.parent.context.$implicit))}),null)}function Vq(e){return no(0,[(e()(),Na(16777216,null,null,1,null,Bq)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Ja(2,null,[" "," "]))],(function(e,t){e(t,1,0,t.component.resource.colorField)}),(function(e,t){var n=t.component;e(t,2,0,n.getField(t.context.$implicit,n.resource.textField))}))}function zq(e){return no(0,[Ha(402653184,1,{resourceDropDown:0}),(e()(),La(1,0,null,null,19,"kendo-dropdownlist",[],[[2,"k-widget",null],[2,"k-dropdown",null],[2,"k-header",null],[1,"dir",0]],[[null,"valueChange"]],(function(e,t,n){var i=!0;return"valueChange"===t&&(i=!1!==e.component.onResourceValueChange(n)&&i),i}),aW,WH)),Wl(5120,null,Yy,(function(e){return[e]}),[zE]),Wl(6144,null,_E,null,[zE]),Wl(6144,null,tg,null,[zE]),Wl(256,null,Kg,"kendo.dropdownlist",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,pE,pE,[]),Wl(512,null,gE,gE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(11,770048,[[1,4],["resourceDropDown",4]],7,zE,[$g,Ng,pE,bE,mE,gE,Qr,qn,Hn,Zt,[2,TE]],{data:[0,"data"],value:[1,"value"],textField:[2,"textField"],valueField:[3,"valueField"],valuePrimitive:[4,"valuePrimitive"]},{valueChange:"valueChange"}),Ha(335544320,2,{itemTemplate:0}),Ha(335544320,3,{groupTemplate:0}),Ha(335544320,4,{fixedGroupTemplate:0}),Ha(335544320,5,{valueTemplate:0}),Ha(335544320,6,{headerTemplate:0}),Ha(335544320,7,{footerTemplate:0}),Ha(335544320,8,{noDataTemplate:0}),(e()(),Na(0,null,null,1,null,Vq)),jl(20,16384,[[2,4]],0,fE,[ci],null,null)],(function(e,t){var n=t.component;e(t,11,0,n.resource.data,n.resourceValue,n.resource.textField,n.resource.valueField,!0)}),(function(e,t){e(t,1,0,Ml(t,11).widgetClasses,Ml(t,11).widgetClasses,Ml(t,11).widgetClasses,Ml(t,11).dir)}))}var jq=Ei({encapsulation:2,styles:[],data:{}});function Hq(e){return no(0,[Ha(402653184,1,{tzComboBox:0}),(e()(),La(1,0,null,null,16,"kendo-combobox",[],[[4,"width","px"],[2,"k-widget",null],[2,"k-combobox",null],[2,"k-header",null],[2,"k-combobox-clearable",null],[1,"dir",0]],[[null,"filterChange"],[null,"valueChange"]],(function(e,t,n){var i=!0,l=e.component;return"filterChange"===t&&(i=!1!==l.onTimeZoneFilterChange(n)&&i),"valueChange"===t&&(i=!1!==l.onTimeZoneChange(n)&&i),i}),HH,EH)),Wl(5120,null,Yy,(function(e){return[e]}),[VE]),Wl(6144,null,_E,null,[VE]),Wl(6144,null,tg,null,[VE]),Wl(256,null,Kg,"kendo.combobox",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),Wl(512,null,pE,pE,[]),Wl(512,null,gE,gE,[]),Wl(512,null,mE,mE,[gE]),Wl(512,null,bE,bE,[mE,pE]),jl(11,770048,[[1,4],["tzcombobox",4]],6,VE,[$g,Ng,pE,bE,mE,gE,Qr,Zt,qn,Hn,[2,TE]],{allowCustom:[0,"allowCustom"],data:[1,"data"],value:[2,"value"],suggest:[3,"suggest"],filterable:[4,"filterable"]},{valueChange:"valueChange",filterChange:"filterChange"}),Ha(335544320,2,{template:0}),Ha(335544320,3,{headerTemplate:0}),Ha(335544320,4,{footerTemplate:0}),Ha(335544320,5,{noDataTemplate:0}),Ha(335544320,6,{groupTemplate:0}),Ha(335544320,7,{fixedGroupTemplate:0})],(function(e,t){var n=t.component;e(t,11,0,!1,n.tzSource,n.tz,!0,!0)}),(function(e,t){e(t,1,0,t.component.width,Ml(t,11).widgetClasses,Ml(t,11).widgetClasses,Ml(t,11).widgetClasses,Ml(t,11).clearable,Ml(t,11).dir)}))}var Wq=Ei({encapsulation:2,styles:[],data:{}});function Uq(e){return no(0,[(e()(),La(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,6).focus()&&i),i}),null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,5,"kendo-timezone-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Hq,jq)),jl(6,49152,[["startTzPicker",4]],0,pj,[],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[pj]),jl(8,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(10,16384,null,0,eb,[[4,Qy]],null,null)],(function(e,t){var n=t.component;e(t,8,0,n.formGroup.get(n.fields.startTimezone))}),(function(e,t){e(t,3,0,t.component.textFor("editorEventStartTimeZone")),e(t,5,0,Ml(t,10).ngClassUntouched,Ml(t,10).ngClassTouched,Ml(t,10).ngClassPristine,Ml(t,10).ngClassDirty,Ml(t,10).ngClassValid,Ml(t,10).ngClassInvalid,Ml(t,10).ngClassPending)}))}function Yq(e){return no(0,[(e()(),La(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,6).focus()&&i),i}),null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,5,"kendo-timezone-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Hq,jq)),jl(6,49152,[["endTzPicker",4]],0,pj,[],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[pj]),jl(8,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(10,16384,null,0,eb,[[4,Qy]],null,null)],(function(e,t){var n=t.component;e(t,8,0,n.formGroup.get(n.fields.endTimezone))}),(function(e,t){e(t,3,0,t.component.textFor("editorEventEndTimeZone")),e(t,5,0,Ml(t,10).ngClassUntouched,Ml(t,10).ngClassTouched,Ml(t,10).ngClassPristine,Ml(t,10).ngClassDirty,Ml(t,10).ngClassValid,Ml(t,10).ngClassInvalid,Ml(t,10).ngClassPending)}))}function qq(e){return no(0,[(e()(),La(0,0,null,null,8,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(1,0,null,null,5,"input",[["class","k-checkbox"],["id","k-is-allday-chkbox"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ml(e,2).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==Ml(e,2).onTouched()&&i),i}),null,null)),jl(2,16384,null,0,qy,[qn,Hn],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[qy]),jl(4,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(6,16384,null,0,eb,[[4,Qy]],null,null),(e()(),La(7,0,null,null,1,"label",[["class","k-checkbox-label"],["for","k-is-allday-chkbox"]],null,null,null,null,null)),(e()(),Ja(8,null,["",""]))],(function(e,t){var n=t.component;e(t,4,0,n.formGroup.get(n.fields.isAllDay))}),(function(e,t){var n=t.component;e(t,1,0,Ml(t,6).ngClassUntouched,Ml(t,6).ngClassTouched,Ml(t,6).ngClassPristine,Ml(t,6).ngClassDirty,Ml(t,6).ngClassValid,Ml(t,6).ngClassInvalid,Ml(t,6).ngClassPending),e(t,8,0,n.textFor("editorEventAllDay"))}))}function Gq(e){return no(0,[(e()(),La(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,5,"input",[["class","k-checkbox"],["formControlName","endTimezoneCheckbox"],["id","k-use-separate"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ml(e,2).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==Ml(e,2).onTouched()&&i),i}),null,null)),jl(2,16384,null,0,qy,[qn,Hn],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[qy]),jl(4,671744,null,0,ak,[[3,$y],[8,null],[8,null],[6,Yy],[2,Jb]],{name:[0,"name"]},null),Wl(2048,null,Qy,null,[ak]),jl(6,16384,null,0,eb,[[4,Qy]],null,null),(e()(),La(7,0,null,null,1,"label",[["class","k-checkbox-label"],["for","k-use-separate"]],null,null,null,null,null)),(e()(),Ja(8,null,["",""]))],(function(e,t){e(t,4,0,"endTimezoneCheckbox")}),(function(e,t){var n=t.component;e(t,1,0,Ml(t,6).ngClassUntouched,Ml(t,6).ngClassTouched,Ml(t,6).ngClassPristine,Ml(t,6).ngClassDirty,Ml(t,6).ngClassValid,Ml(t,6).ngClassInvalid,Ml(t,6).ngClassPending),e(t,8,0,n.textFor("editorEventSeparateTimeZones"))}))}function Xq(e){return no(0,[(e()(),La(0,0,null,null,10,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(1,0,null,null,5,"input",[["class","k-checkbox"],["formControlName","startTimezoneCheckbox"],["id","k-set-timezone"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==Ml(e,2).onChange(n.target.checked)&&i),"blur"===t&&(i=!1!==Ml(e,2).onTouched()&&i),i}),null,null)),jl(2,16384,null,0,qy,[qn,Hn],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[qy]),jl(4,671744,null,0,ak,[[3,$y],[8,null],[8,null],[6,Yy],[2,Jb]],{name:[0,"name"]},null),Wl(2048,null,Qy,null,[ak]),jl(6,16384,null,0,eb,[[4,Qy]],null,null),(e()(),La(7,0,null,null,1,"label",[["class","k-checkbox-label"],["for","k-set-timezone"]],null,null,null,null,null)),(e()(),Ja(8,null,["",""])),(e()(),Na(16777216,null,null,1,null,Gq)),jl(10,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,"startTimezoneCheckbox"),e(t,10,0,n.isStartTimeZoneVisible&&n.hasEndTimeZone)}),(function(e,t){var n=t.component;e(t,1,0,Ml(t,6).ngClassUntouched,Ml(t,6).ngClassTouched,Ml(t,6).ngClassPristine,Ml(t,6).ngClassDirty,Ml(t,6).ngClassValid,Ml(t,6).ngClassInvalid,Ml(t,6).ngClassPending),e(t,8,0,n.textFor("editorEventTimeZone"))}))}function Kq(e){return no(0,[(e()(),La(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,9,"kendo-recurrence-editor",[],[[2,"k-recurrence-editor",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,_U,gU)),Wl(256,null,Kg,"kendo.recurrenceeditor",[]),Wl(131584,null,ij,ij,[Kg,[2,qg],[2,Xg],[2,hV]]),Wl(2048,null,$g,null,[ij]),Wl(512,null,nj,nj,[aS,$g]),jl(6,770048,null,0,lj,[nj],{start:[0,"start"],timezone:[1,"timezone"]},null),Wl(1024,null,Yy,(function(e){return[e]}),[lj]),jl(8,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(10,16384,null,0,eb,[[4,Qy]],null,null)],(function(e,t){var n=t.component;e(t,6,0,n.recurrenceStart,n.eventTimezone),e(t,8,0,n.formGroup.get(n.fields.recurrenceRule))}),(function(e,t){e(t,1,0,Ml(t,6).cssClass,Ml(t,10).ngClassUntouched,Ml(t,10).ngClassTouched,Ml(t,10).ngClassPristine,Ml(t,10).ngClassDirty,Ml(t,10).ngClassValid,Ml(t,10).ngClassInvalid,Ml(t,10).ngClassPending)}))}function $q(e){return no(0,[(e()(),La(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[["for","k-event-description"]],null,null,null,null,null)),(e()(),Ja(3,null,["",""])),(e()(),La(4,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(5,0,null,null,5,"textarea",[["class","k-textbox"],["id","k-event-description"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ml(e,6)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ml(e,6).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ml(e,6)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ml(e,6)._compositionEnd(n.target.value)&&i),i}),null,null)),jl(6,16384,null,0,Xy,[qn,Hn,[2,Gy]],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[Xy]),jl(8,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(10,16384,null,0,eb,[[4,Qy]],null,null)],(function(e,t){var n=t.component;e(t,8,0,n.formGroup.get(n.fields.description))}),(function(e,t){e(t,3,0,t.component.textFor("editorEventDescription")),e(t,5,0,Ml(t,10).ngClassUntouched,Ml(t,10).ngClassTouched,Ml(t,10).ngClassPristine,Ml(t,10).ngClassDirty,Ml(t,10).ngClassValid,Ml(t,10).ngClassInvalid,Ml(t,10).ngClassPending)}))}function Zq(e){return no(0,[(e()(),La(0,0,null,null,5,"kendo-multiple-resource-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,Nq,Eq)),jl(1,49152,[[1,4]],0,Uz,[],{resource:[0,"resource"]},null),Wl(1024,null,Yy,(function(e){return[e]}),[Uz]),jl(3,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(5,16384,null,0,eb,[[4,Qy]],null,null)],(function(e,t){var n=t.component;e(t,1,0,t.parent.parent.context.$implicit),e(t,3,0,n.formGroup.get(t.parent.parent.context.$implicit.field))}),(function(e,t){e(t,0,0,Ml(t,5).ngClassUntouched,Ml(t,5).ngClassTouched,Ml(t,5).ngClassPristine,Ml(t,5).ngClassDirty,Ml(t,5).ngClassValid,Ml(t,5).ngClassInvalid,Ml(t,5).ngClassPending)}))}function Qq(e){return no(0,[(e()(),La(0,0,null,null,5,"kendo-single-resource-editor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,zq,Lq)),jl(1,49152,[[2,4]],0,Yz,[],{resource:[0,"resource"]},null),Wl(1024,null,Yy,(function(e){return[e]}),[Yz]),jl(3,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(5,16384,null,0,eb,[[4,Qy]],null,null)],(function(e,t){var n=t.component;e(t,1,0,t.parent.parent.context.$implicit),e(t,3,0,n.formGroup.get(t.parent.parent.context.$implicit.field))}),(function(e,t){e(t,0,0,Ml(t,5).ngClassUntouched,Ml(t,5).ngClassTouched,Ml(t,5).ngClassPristine,Ml(t,5).ngClassDirty,Ml(t,5).ngClassValid,Ml(t,5).ngClassInvalid,Ml(t,5).ngClassPending)}))}function Jq(e){return no(0,[(e()(),La(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onResourceClick(e.parent.context.$implicit)&&i),i}),null,null)),(e()(),Ja(3,null,[" "," "])),(e()(),La(4,0,null,null,4,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Zq)),jl(6,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Qq)),jl(8,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,6,0,t.parent.context.$implicit.multiple),e(t,8,0,!t.parent.context.$implicit.multiple)}),(function(e,t){e(t,3,0,t.parent.context.$implicit.name?t.parent.context.$implicit.name:t.parent.context.$implicit.field)}))}function eG(e){return no(0,[(e()(),La(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Jq)),jl(2,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,2,0,t.component.getFormValue(t.context.$implicit.field))}),null)}function tG(e){return no(0,[(e()(),La(0,0,null,null,51,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,50,"div",[["class","k-scheduler-edit-form"]],null,null,null,null,null)),(e()(),La(2,0,null,null,49,"div",[["class","k-edit-form-container"]],null,null,null,null,null)),(e()(),La(3,0,null,null,48,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ml(e,5).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ml(e,5).onReset()&&i),i}),null,null)),jl(4,16384,null,0,Qb,[],null,null),jl(5,540672,null,0,tk,[[8,null],[8,null]],{form:[0,"form"]},null),Wl(2048,null,$y,null,[tk]),jl(7,16384,null,0,tb,[[4,$y]],null,null),(e()(),La(8,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"label",[["for","k-event-title"]],null,null,null,null,null)),(e()(),Ja(10,null,["",""])),(e()(),La(11,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(12,0,[["title",1]],null,5,"input",[["class","k-textbox"],["id","k-event-title"],["placeholder","Title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==Ml(e,13)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==Ml(e,13).onTouched()&&i),"compositionstart"===t&&(i=!1!==Ml(e,13)._compositionStart()&&i),"compositionend"===t&&(i=!1!==Ml(e,13)._compositionEnd(n.target.value)&&i),i}),null,null)),jl(13,16384,null,0,Xy,[qn,Hn,[2,Gy]],null,null),Wl(1024,null,Yy,(function(e){return[e]}),[Xy]),jl(15,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(17,16384,null,0,eb,[[4,Qy]],null,null),(e()(),La(18,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(19,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,23).focus()&&i),i}),null,null)),(e()(),Ja(20,null,["",""])),(e()(),La(21,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(22,0,null,null,5,"kendo-scheduler-datetime-picker",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,vq,fq)),jl(23,49152,[["startDateTimePicker",4]],0,$z,[],{isAllDay:[0,"isAllDay"]},null),Wl(1024,null,Yy,(function(e){return[e]}),[$z]),jl(25,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(27,16384,null,0,eb,[[4,Qy]],null,null),(e()(),Na(16777216,null,null,1,null,Uq)),jl(29,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(30,0,null,null,2,"div",[["class","k-edit-label"]],null,null,null,null,null)),(e()(),La(31,0,null,null,1,"label",[],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,35).focus()&&i),i}),null,null)),(e()(),Ja(32,null,["",""])),(e()(),La(33,0,null,null,6,"div",[["class","k-edit-field"]],null,null,null,null,null)),(e()(),La(34,0,null,null,5,"kendo-scheduler-datetime-picker",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,vq,fq)),jl(35,49152,[["endDateTimePicker",4]],0,$z,[],{isAllDay:[0,"isAllDay"]},null),Wl(1024,null,Yy,(function(e){return[e]}),[$z]),jl(37,540672,null,0,ek,[[8,null],[8,null],[6,Yy],[2,Jb]],{form:[0,"form"]},null),Wl(2048,null,Qy,null,[ek]),jl(39,16384,null,0,eb,[[4,Qy]],null,null),(e()(),Na(16777216,null,null,1,null,Yq)),jl(41,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,qq)),jl(43,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Xq)),jl(45,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,Kq)),jl(47,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,$q)),jl(49,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,null,1,null,eG)),jl(51,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n,i,l=t.component;e(t,5,0,l.formGroup),e(t,15,0,l.formGroup.get(l.fields.title)),e(t,23,0,null==(n=l.getFormValue(l.fields.isAllDay))?null:n.value),e(t,25,0,l.formGroup.get(l.fields.start)),e(t,29,0,l.isStartTimeZoneVisible),e(t,35,0,null==(i=l.getFormValue(l.fields.isAllDay))?null:i.value),e(t,37,0,l.formGroup.get(l.fields.end)),e(t,41,0,l.isEndTimeZoneVisible),e(t,43,0,l.hasAllDay),e(t,45,0,l.hasStartTimeZone),e(t,47,0,l.isEditingSeries),e(t,49,0,l.getFormValue(l.fields.description)),e(t,51,0,l.resources)}),(function(e,t){var n=t.component;e(t,3,0,Ml(t,7).ngClassUntouched,Ml(t,7).ngClassTouched,Ml(t,7).ngClassPristine,Ml(t,7).ngClassDirty,Ml(t,7).ngClassValid,Ml(t,7).ngClassInvalid,Ml(t,7).ngClassPending),e(t,10,0,n.textFor("editorEventTitle")),e(t,12,0,Ml(t,17).ngClassUntouched,Ml(t,17).ngClassTouched,Ml(t,17).ngClassPristine,Ml(t,17).ngClassDirty,Ml(t,17).ngClassValid,Ml(t,17).ngClassInvalid,Ml(t,17).ngClassPending),e(t,20,0,n.textFor("editorEventStart")),e(t,22,0,Ml(t,27).ngClassUntouched,Ml(t,27).ngClassTouched,Ml(t,27).ngClassPristine,Ml(t,27).ngClassDirty,Ml(t,27).ngClassValid,Ml(t,27).ngClassInvalid,Ml(t,27).ngClassPending),e(t,32,0,n.textFor("editorEventEnd")),e(t,34,0,Ml(t,39).ngClassUntouched,Ml(t,39).ngClassTouched,Ml(t,39).ngClassPristine,Ml(t,39).ngClassDirty,Ml(t,39).ngClassValid,Ml(t,39).ngClassInvalid,Ml(t,39).ngClassPending)}))}function nG(e){return no(0,[(e()(),La(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),La(1,0,null,null,7,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ml(e,3).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ml(e,3).onReset()&&i),i}),null,null)),jl(2,16384,null,0,Qb,[],null,null),jl(3,540672,null,0,tk,[[8,null],[8,null]],{form:[0,"form"]},null),Wl(2048,null,$y,null,[tk]),jl(5,16384,null,0,tb,[[4,$y]],null,null),(e()(),La(6,16777216,null,null,2,null,null,null,null,null,null,null)),jl(7,540672,null,0,Cu,[di],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),Za(8,{$implicit:0,formGroup:1,dataItem:2,editMode:3,isNew:4})],(function(e,t){var n=t.component;e(t,3,0,n.formGroup);var i=e(t,8,0,n.formGroup,n.formGroup,n.editedEvent,n.editMode,n.isNew);e(t,7,0,i,n.editTemplate.templateRef)}),(function(e,t){e(t,1,0,Ml(t,5).ngClassUntouched,Ml(t,5).ngClassTouched,Ml(t,5).ngClassPristine,Ml(t,5).ngClassDirty,Ml(t,5).ngClassValid,Ml(t,5).ngClassInvalid,Ml(t,5).ngClassPending)}))}function iG(e){return no(0,[(e()(),La(0,0,null,null,15,"kendo-dialog",[["class","k-scheduler-edit-dialog"]],[[1,"dir",0],[1,"tabIndex",0],[2,"k-dialog-wrapper",null]],[[null,"close"],[null,"keydown"]],(function(e,t,n){var i=!0,l=e.component;return"keydown"===t&&(i=!1!==Ml(e,4).onComponentKeydown(n)&&i),"close"===t&&(i=!1!==l.onClose()&&i),i}),jm,Om)),Wl(6144,null,dm,null,[$g]),Wl(256,null,Kg,"kendo.dialog",[]),Wl(131584,null,$g,$g,[Kg,[2,qg],[2,Xg]]),jl(4,5488640,null,1,wm,[Hn,qn,$g],{autoFocusedElement:[0,"autoFocusedElement"],title:[1,"title"],minWidth:[2,"minWidth"]},{close:"close"}),Ha(335544320,3,{titlebarContent:0}),(e()(),Na(16777216,null,1,1,null,tG)),jl(7,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),Na(16777216,null,1,1,null,nG)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(10,0,null,2,5,"kendo-dialog-actions",[],[[2,"k-dialog-buttongroup",null],[2,"k-dialog-button-layout-stretched",null]],null,null,Qm,qm)),jl(11,49152,null,0,hm,[Hn],null,null),(e()(),La(12,0,null,0,1,"button",[["class","k-button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCancel(n)&&i),i}),null,null)),(e()(),Ja(13,null,["",""])),(e()(),La(14,0,null,0,1,"button",[["class","k-button k-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSave(n)&&i),i}),null,null)),(e()(),Ja(15,null,["",""]))],(function(e,t){var n=t.component;e(t,4,0,n.autoFocusedElement,ll(1,"",n.textFor("editorTitle"),""),700),e(t,7,0,!n.editTemplate),e(t,9,0,n.editTemplate)}),(function(e,t){var n=t.component;e(t,0,0,Ml(t,4).dir,Ml(t,4).tabIndex,Ml(t,4).wrapperClass),e(t,10,0,Ml(t,11).buttonGroupClassName,Ml(t,11).className),e(t,13,0,n.textFor("cancel")),e(t,14,0,!n.formGroup.valid),e(t,15,0,n.textFor("save"))}))}function lG(e){return no(0,[Ha(671088640,1,{multipleResourceEditors:1}),Ha(671088640,2,{singleResourceEditors:1}),(e()(),Na(16777216,null,null,1,null,iG)),jl(3,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,t.component.isActive)}),null)}var rG=function(){function e(t,n){_classCallCheck2(this,e),this.staffService=t,this.formBuilder=n,this.selectedDate=new Date,this.events=[],this.StartComponent=!1,this.listSchedule=[],this.startEndValidator=function(e){var t=e.get("start").value,n=e.get("end").value;return null!==t&&null!==n&&t.getTime()<n.getTime()?null:{range:"End date must be greater than Start date"}},this.createFormGroup=this.createFormGroup.bind(this)}return _createClass2(e,[{key:"createFormGroup",value:function(e){var t=e.dataItem;return this.formGroup=this.formBuilder.group({id:e.isNew?this.getNextId():t.id,start:[t.start,rb.required],end:[t.end,rb.required],startTimezone:[t.startTimezone],endTimezone:[t.endTimezone],isAllDay:t.isAllDay,title:t.title,description:t.description,recurrenceRule:t.recurrenceRule,recurrenceId:t.recurrenceId,roomId:t.roomId,attendees:[t.attendees]},{validator:this.startEndValidator}),this.formGroup}},{key:"getNextId",value:function(){return 0===this.events.length?1:this.events[this.events.length-1].id+1}},{key:"ngOnInit",value:function(){this.loadSchedule()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadSchedule",value:function(){var e=this;this.subscription=this.staffService.getScheduler().subscribe((function(t){e.listSchedule=t;var n=0;e.listSchedule.forEach((function(t){var i,l=t.time,r=Number(l.slice(0,2))+1;l=(r<10?"0"+r.toString():r.toString())+l.slice(2),i=t.is_reexam?{id:n+1,title:t.pre_examination.patient.name+" - "+t.pre_examination.patient.phone+" - "+t.detail,description:t.detail,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+l),readonly:!0}:{id:n+1,title:t.name+" - "+t.phone+" - "+t.message,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+l)},n++,e.events.push(i)})),e.StartComponent=!0;var i=Xs(new Date,"yyyy-MM-dd","en","+0700");e.selectedDate=new Date(i)}))}},{key:"onRemove",value:function(e){this.preventReadonly(e)}},{key:"onEdit",value:function(e){console.log("EDITTT"),this.preventReadonly(e)}},{key:"onAdd",value:function(e){this.occupiedSlot(e.dataItem)&&(alert("This time period is occupied."),e.preventDefault())}},{key:"preventReadonly",value:function(e){e.dataItem.readonly&&(alert("The event cannot be changed."),e.preventDefault())}},{key:"occupiedSlot",value:function(e){var t=!1;return this.events.find((function(n){if(n!==e.dataItem&&(i=e.start,l=e.end,r=n.start,a=n.end,i<r&&l>a||r<=i&&i<a||r<l&&l<=a))return t=!0,!0;var i,l,r,a})),t}}]),e}(),aG=Ei({encapsulation:0,styles:[[".cls-Scheduler[_ngcontent-%COMP%]{font-size:14px;color:coral!important}*[_ngcontent-%COMP%]{color:coral!important}"]],data:{}});function oG(e){return no(0,[(e()(),La(0,0,null,null,74,"div",[["class","cls-Scheduler"],["style","color: coral;"]],null,null,null,null,null)),(e()(),La(1,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;color: coral;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,uU,oU)),Wl(4608,null,zB,zB,[]),Wl(512,null,HB,HB,[]),Wl(512,null,UB,UB,[]),Wl(512,null,aV,aV,[Qr]),Wl(256,null,Kg,"kendo.scheduler",[]),Wl(131584,null,hV,hV,[Kg,[2,qg],[2,Xg]]),Wl(2048,null,$g,null,[hV]),Wl(512,null,sV,sV,[]),Wl(131584,null,uV,uV,[[2,qn],[2,Hn],sV]),Wl(512,null,cV,cV,[Mm,$g,Zt,uV,UB]),Wl(512,null,fV,fV,[]),jl(13,1818624,null,14,CV,[Hn,HB,UB,aV,cV,aS,Zt,Qr,fV,$g,sV,qn,uV],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),Ha(335544320,1,{editDialogTemplate:0}),Ha(335544320,2,{toolbarTemplate:0}),Ha(603979776,3,{views:1}),Ha(603979776,4,{allDayEventTemplate:1}),Ha(603979776,5,{eventTemplate:1}),Ha(603979776,6,{timeSlotTemplate:1}),Ha(603979776,7,{minorTimeHeaderTemplate:1}),Ha(603979776,8,{majorTimeHeaderTemplate:1}),Ha(603979776,9,{monthDaySlotTemplate:1}),Ha(603979776,10,{dateHeaderTemplate:1}),Ha(603979776,11,{allDaySlotTemplate:1}),Ha(603979776,12,{groupHeaderTemplate:1}),Ha(603979776,13,{agendaDateTemplate:1}),Ha(603979776,14,{agendaTimeTemplate:1}),Wl(512,null,oV,oV,[]),jl(29,212992,null,0,qV,[CV,Zt,aS,oV],{data:[0,"data"]},null),jl(30,16384,null,0,gj,[CV,sV,uV,Qr,Zt,UB,cV],null,null),(e()(),La(31,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,vU,fU)),jl(32,704512,null,8,_z,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,15,{eventTemplate:0}),Ha(335544320,16,{groupHeaderTemplate:0}),Ha(335544320,17,{timeSlotTemplate:0}),Ha(335544320,18,{dateHeaderTemplate:0}),Ha(335544320,19,{allDaySlotTemplate:0}),Ha(335544320,20,{allDayEventTemplate:0}),Ha(335544320,21,{minorTimeHeaderTemplate:0}),Ha(335544320,22,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[_z]),(e()(),La(42,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,dY,cY)),jl(43,704512,null,8,wz,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,23,{eventTemplate:0}),Ha(335544320,24,{groupHeaderTemplate:0}),Ha(335544320,25,{timeSlotTemplate:0}),Ha(335544320,26,{dateHeaderTemplate:0}),Ha(335544320,27,{allDaySlotTemplate:0}),Ha(335544320,28,{allDayEventTemplate:0}),Ha(335544320,29,{minorTimeHeaderTemplate:0}),Ha(335544320,30,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[wz]),(e()(),La(53,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,dU,cU)),jl(54,704512,null,8,bz,[$g,Zt,HB,UB],null,null),Ha(335544320,31,{eventTemplate:0}),Ha(335544320,32,{groupHeaderTemplate:0}),Ha(335544320,33,{timeSlotTemplate:0}),Ha(335544320,34,{dateHeaderTemplate:0}),Ha(335544320,35,{allDaySlotTemplate:0}),Ha(335544320,36,{allDayEventTemplate:0}),Ha(335544320,37,{minorTimeHeaderTemplate:0}),Ha(335544320,38,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[bz]),(e()(),La(64,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,uY,oY)),jl(65,704512,null,8,kz,[$g,Zt,HB,UB],{numberOfDays:[0,"numberOfDays"]},null),Ha(335544320,39,{eventTemplate:0}),Ha(335544320,40,{groupHeaderTemplate:0}),Ha(335544320,41,{timeSlotTemplate:0}),Ha(335544320,42,{dateHeaderTemplate:0}),Ha(335544320,43,{allDaySlotTemplate:0}),Ha(335544320,44,{allDayEventTemplate:0}),Ha(335544320,45,{minorTimeHeaderTemplate:0}),Ha(335544320,46,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[kz])],(function(e,t){var n=t.component;e(t,13,0,"07:00","19:00",n.selectedDate),e(t,29,0,n.events),e(t,65,0,3)}),(function(e,t){e(t,1,0,Ml(t,13).hostClasses,Ml(t,13).hostClasses,Ml(t,13).hostClasses,Ml(t,13).rtl,Ml(t,13).dir)}))}function sG(e){return no(0,[(e()(),La(0,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,uU,oU)),Wl(4608,null,zB,zB,[]),Wl(512,null,HB,HB,[]),Wl(512,null,UB,UB,[]),Wl(512,null,aV,aV,[Qr]),Wl(256,null,Kg,"kendo.scheduler",[]),Wl(131584,null,hV,hV,[Kg,[2,qg],[2,Xg]]),Wl(2048,null,$g,null,[hV]),Wl(512,null,sV,sV,[]),Wl(131584,null,uV,uV,[[2,qn],[2,Hn],sV]),Wl(512,null,cV,cV,[Mm,$g,Zt,uV,UB]),Wl(512,null,fV,fV,[]),jl(12,1818624,null,14,CV,[Hn,HB,UB,aV,cV,aS,Zt,Qr,fV,$g,sV,qn,uV],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),Ha(335544320,47,{editDialogTemplate:0}),Ha(335544320,48,{toolbarTemplate:0}),Ha(603979776,49,{views:1}),Ha(603979776,50,{allDayEventTemplate:1}),Ha(603979776,51,{eventTemplate:1}),Ha(603979776,52,{timeSlotTemplate:1}),Ha(603979776,53,{minorTimeHeaderTemplate:1}),Ha(603979776,54,{majorTimeHeaderTemplate:1}),Ha(603979776,55,{monthDaySlotTemplate:1}),Ha(603979776,56,{dateHeaderTemplate:1}),Ha(603979776,57,{allDaySlotTemplate:1}),Ha(603979776,58,{groupHeaderTemplate:1}),Ha(603979776,59,{agendaDateTemplate:1}),Ha(603979776,60,{agendaTimeTemplate:1}),Wl(512,null,oV,oV,[]),jl(28,212992,null,0,qV,[CV,Zt,aS,oV],{data:[0,"data"]},null),jl(29,16384,null,0,gj,[CV,sV,uV,Qr,Zt,UB,cV],null,null),(e()(),La(30,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,vU,fU)),jl(31,704512,null,8,_z,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,61,{eventTemplate:0}),Ha(335544320,62,{groupHeaderTemplate:0}),Ha(335544320,63,{timeSlotTemplate:0}),Ha(335544320,64,{dateHeaderTemplate:0}),Ha(335544320,65,{allDaySlotTemplate:0}),Ha(335544320,66,{allDayEventTemplate:0}),Ha(335544320,67,{minorTimeHeaderTemplate:0}),Ha(335544320,68,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[_z]),(e()(),La(41,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,dY,cY)),jl(42,704512,null,8,wz,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,69,{eventTemplate:0}),Ha(335544320,70,{groupHeaderTemplate:0}),Ha(335544320,71,{timeSlotTemplate:0}),Ha(335544320,72,{dateHeaderTemplate:0}),Ha(335544320,73,{allDaySlotTemplate:0}),Ha(335544320,74,{allDayEventTemplate:0}),Ha(335544320,75,{minorTimeHeaderTemplate:0}),Ha(335544320,76,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[wz]),(e()(),La(52,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,dU,cU)),jl(53,704512,null,8,bz,[$g,Zt,HB,UB],null,null),Ha(335544320,77,{eventTemplate:0}),Ha(335544320,78,{groupHeaderTemplate:0}),Ha(335544320,79,{timeSlotTemplate:0}),Ha(335544320,80,{dateHeaderTemplate:0}),Ha(335544320,81,{allDaySlotTemplate:0}),Ha(335544320,82,{allDayEventTemplate:0}),Ha(335544320,83,{minorTimeHeaderTemplate:0}),Ha(335544320,84,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[bz]),(e()(),La(63,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,uY,oY)),jl(64,704512,null,8,kz,[$g,Zt,HB,UB],{numberOfDays:[0,"numberOfDays"]},null),Ha(335544320,85,{eventTemplate:0}),Ha(335544320,86,{groupHeaderTemplate:0}),Ha(335544320,87,{timeSlotTemplate:0}),Ha(335544320,88,{dateHeaderTemplate:0}),Ha(335544320,89,{allDaySlotTemplate:0}),Ha(335544320,90,{allDayEventTemplate:0}),Ha(335544320,91,{minorTimeHeaderTemplate:0}),Ha(335544320,92,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[kz])],(function(e,t){var n=t.component;e(t,12,0,"07:00","19:00",n.selectedDate),e(t,28,0,n.events),e(t,64,0,3)}),(function(e,t){e(t,0,0,Ml(t,12).hostClasses,Ml(t,12).hostClasses,Ml(t,12).hostClasses,Ml(t,12).rtl,Ml(t,12).dir)}))}function uG(e){return no(0,[(e()(),Na(16777216,null,null,1,null,oG)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NotYet",2]],null,0,null,sG))],(function(e,t){e(t,1,0,t.component.StartComponent,Ml(t,2))}),null)}var cG,hG=ml("app-staff-scheduler",rG,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-scheduler",[],null,null,null,uG,aG)),jl(1,245760,null,0,rG,[jk,sk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),dG=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.staffService=t,this.userService=n,this.printService=i,this.routerService=l,this._p=1,this.Examination=[],this.detailExam={id:null,docter:{id:null,name:null},note:null},this.doctors=[],this.involve={cost:null,owe:null,voucher:null},this.diagnosis=[]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadExamination()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadExamination",value:function(){var e=this;this.subscription=this.staffService.getListExamination(this._p).subscribe((function(t){e.Examination=t.results,e._total=t.count,console.log(e.Examination)}),(function(e){console.log(e)}))}},{key:"onPayment",value:function(e){var t=this;this.subscription=this.staffService.createInvolve(e).subscribe((function(e){if("string"==typeof e){var n=JSON.parse(e);t.involve=n}else t.involve=e}),(function(e){console.log(e)}))}},{key:"onPaid",value:function(e,t,n){var i=this;this.staffService.updateInvolve(this.involve.id,e,t,n).subscribe((function(e){ey.a.fire({title:"Success",text:"Thanh to\xe1n th\xe0nh c\xf4ng",icon:"success"}),i.loadExamination(),localStorage.setItem("id_exam",i.involve.examination),localStorage.setItem("id_invoice",i.involve.id),window.open(window.location.href+"/print","_blank")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.subscription=this.staffService.getListExamination(this._p).subscribe((function(e){t.Examination=e.results}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"onPrint",value:function(){localStorage.setItem("id_exam","21"),localStorage.setItem("id_invoice","17"),window.open(window.location.href+"/print","_blank")}},{key:"onDelete",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a phi\u1ebfu kh\xe1m n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&t.staffService.deleteExamination(e).subscribe((function(e){t.loadExamination(),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"OK"})}))}))}},{key:"getDetail",value:function(e){var t=this;this.userService.getListDoctor().subscribe((function(e){t.doctors=e})),this.staffService.getExaminationById(e).subscribe((function(e){t.detailExam=e}))}},{key:"onUpdate",value:function(e,t){var n=this;this.subscription=this.staffService.updateExamination(this.detailExam.id,e,t).subscribe((function(e){ey.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"}),n.loadExamination()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),fG=((cG=function(){function e(t){_classCallCheck2(this,e),this.router=t,this.isPrinting=!1}return _createClass2(e,[{key:"printDocument",value:function(e,t){this.isPrinting=!0,this.router.navigate(["./",{outlets:{print:["print",e,t.join()]}}])}}]),e}()).ngInjectableDef=De({factory:function(){return new cG(nt(ip))},token:cG,providedIn:"root"}),cG),pG=Ei({encapsulation:0,styles:[[""]],data:{}});function vG(e){return no(0,[(e()(),La(0,0,null,null,1,"button",[["class","btn btn-warning"],["data-target","#modalpayment"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onPayment(e.parent.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["Thanh to\xe1n"]))],null,null)}function gG(e){return no(0,[(e()(),La(0,0,null,null,22,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(2,null,[" ",""])),(e()(),La(3,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(10,null,[" L\u1ea7n kh\xe1m th\u1ee9 ",""])),(e()(),La(11,0,null,null,2,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(12,null,[" ",""])),Ka(13,2),(e()(),La(14,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(15,null,[" ",""])),(e()(),La(16,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#updateExam"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getDetail(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(19,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDelete(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"])),(e()(),Na(16777216,null,null,1,null,vG)),jl(22,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,22,0,0==t.context.$implicit.is_paid&&t.context.$implicit.is_done)}),(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.patient.name),e(t,6,0,t.context.$implicit.docter.name),e(t,8,0,t.context.$implicit.note),e(t,10,0,t.context.$implicit.visit);var n=Mi(t,12,0,e(t,13,0,Ml(t.parent,0),t.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));e(t,12,0,n),e(t,15,0,t.context.$implicit.is_paid?"\u0110\xe3 tr\u1ea3":"Ch\u01b0a")}))}function mG(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit.id,"")),e(t,2,0,ll(1,"",t.context.$implicit.id,""))}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function yG(e){return no(0,[Hl(0,Eu,[Fr]),(e()(),La(1,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(2,0,null,null,46,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(3,0,null,null,45,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(4,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(5,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(6,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(8,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(9,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(10,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(11,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(e()(),La(12,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(14,0,null,null,34,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(15,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(16,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"pagination-controls",[],null,null,null,Fk,xk)),jl(18,49152,null,0,yk,[],null,null),(e()(),La(19,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(20,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),La(21,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),La(22,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(24,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(26,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(e()(),La(28,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(30,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ea7n kh\xe1m"])),(e()(),La(32,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y t\u1ea1o"])),(e()(),La(34,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Thanh to\xe1n"])),(e()(),La(36,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Option"])),(e()(),La(38,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,gG)),jl(40,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(41,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(43,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(44,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(45,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(46,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(47,0,null,null,0,"div",[["class","col-3"]],null,null,null,null,null)),(e()(),La(48,0,null,null,0,"div",[["class","col"]],null,null,null,null,null)),(e()(),La(49,0,null,null,53,"div",[["class","modal fade"],["id","modalpayment"],["role","dialog"]],null,null,null,null,null)),(e()(),La(50,0,null,null,52,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(51,0,null,null,51,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(52,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(53,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(54,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(55,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ea1m t\xednh"])),(e()(),La(57,0,null,null,42,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(58,0,null,null,41,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(59,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(60,0,null,null,39,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(61,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(62,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ph\xed"])),(e()(),La(64,0,[["cost",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(65,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(66,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u1ee3"])),(e()(),La(68,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(69,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(70,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1ea3m gi\xe1"])),(e()(),La(72,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(73,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(74,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xe0nh ti\u1ec1n"])),(e()(),La(76,0,[["total",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(77,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(78,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"])),(e()(),La(80,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),La(81,0,[["payment",1]],null,8,"select",[["id",""],["name",""]],null,null,null,null,null)),(e()(),La(82,0,null,null,3,"option",[["value","ti\u1ec1n m\u1eb7t"]],null,null,null,null,null)),jl(83,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(84,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(-1,null,["Ti\u1ec1n m\u1eb7t"])),(e()(),La(86,0,null,null,3,"option",[["value","th\u1ebb"]],null,null,null,null,null)),jl(87,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(88,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(-1,null,["Th\u1ebb"])),(e()(),La(90,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(91,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 nh\u1eadn"])),(e()(),La(93,0,[["received",1]],null,0,"input",[["class","form-control"],["type","number"]],null,null,null,null,null)),(e()(),La(94,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(95,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 tr\u1ea3"])),(e()(),La(97,0,[["paid",1]],null,0,"input",[["class","form-control"],["type","number"]],null,null,null,null,null)),(e()(),La(98,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onPaid(Ml(e,81).value,Ml(e,93).value,Ml(e,97).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Thanh to\xe1n"])),(e()(),La(100,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(101,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"])),(e()(),La(103,0,null,null,30,"div",[["class","modal fade"],["id","updateExam"],["role","dialog"]],null,null,null,null,null)),(e()(),La(104,0,null,null,29,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(105,0,null,null,28,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(106,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(107,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(108,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" C\u1eadp nh\u1eadt "])),(e()(),La(110,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(111,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(112,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(113,0,null,null,17,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(114,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(115,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["B\xe1c s\u0129"])),(e()(),La(117,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),La(118,0,[["doctor",1]],null,6,"select",[["id",""],["name",""]],null,null,null,null,null)),(e()(),La(119,0,null,null,3,"option",[],null,null,null,null,null)),jl(120,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(121,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(122,null,["",""])),(e()(),Na(16777216,null,null,1,null,mG)),jl(124,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(125,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(126,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(128,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(129,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onUpdate(Ml(e,118).value,Ml(e,128).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(131,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(132,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,40,0,Ml(t,42).transform(n.Examination,e(t,41,0,10,n._p,n._total)));e(t,40,0,i),e(t,83,0,"ti\u1ec1n m\u1eb7t"),e(t,84,0,"ti\u1ec1n m\u1eb7t"),e(t,87,0,"th\u1ebb"),e(t,88,0,"th\u1ebb"),e(t,120,0,ll(1,"",n.detailExam.docter.id,"")),e(t,121,0,ll(1,"",n.detailExam.docter.id,"")),e(t,124,0,n.doctors)}),(function(e,t){var n=t.component;e(t,64,0,ll(1,"",n.involve.cost,"")),e(t,68,0,n.involve.owe),e(t,72,0,n.involve.voucher?n.involve.voucher:0),e(t,76,0,n.involve.cost+n.involve.owe+(n.involve.voucher?n.involve.voucher:0)),e(t,122,0,n.detailExam.docter.name),e(t,128,0,ll(1,"",n.detailExam.note,""))}))}var bG=ml("app-staff-examination",dG,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-examination",[],null,null,null,yG,pG)),jl(1,245760,null,0,dG,[jk,Ly,fG,ip],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),kG=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}(),_G=Ei({encapsulation:0,styles:[[""]],data:{}});function wG(e){return no(0,[(e()(),La(0,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,22,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,21,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,17,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,10,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,9,"nav",[],null,null,null,null,null)),(e()(),La(6,0,null,null,8,"div",[["class","nav nav-tabs"],["id","nav-tab"],["role","tablist"]],null,null,null,null,null)),(e()(),La(7,0,null,null,3,"a",[["aria-controls","nav-home"],["aria-selected","true"],["class","nav-item nav-link active"],["data-toggle","tab"],["id","nav-home-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,8).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(8,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(9,1),(e()(),Ja(-1,null,["H\xf3a \u0110\u01a1n"])),(e()(),La(11,0,null,null,3,"a",[["aria-controls","nav-profile"],["aria-selected","false"],["class","nav-item nav-link"],["data-toggle","tab"],["id","nav-profile-tab"],["role","tab"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,12).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(12,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(13,1),(e()(),Ja(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(e()(),La(15,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(16,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(17,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(18,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(e()(),La(19,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(21,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(22,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(23,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null)],(function(e,t){var n=e(t,9,0,"./");e(t,8,0,n);var i=e(t,13,0,"./examresult");e(t,12,0,i),e(t,23,0)}),(function(e,t){e(t,7,0,Ml(t,8).target,Ml(t,8).href),e(t,11,0,Ml(t,12).target,Ml(t,12).href)}))}var xG=ml("app-staff-invoice",kG,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-invoice",[],null,null,null,wG,_G)),jl(1,245760,null,0,kG,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),CG=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.staffService=t,this.printService=n,this.renderer=i,this.router=l,this._p=1,this.Invoice=[],this.oneInvoice={id:0,voucher:null,owe:null,cost:null,payment:null,received:null,paid:null}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadInvoice()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadInvoice",value:function(){var e=this;this.subscription=this.staffService.getListInvoice(this._p).subscribe((function(t){e.Invoice=t.results,e._total=t.count}),(function(e){}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.staffService.getListInvoice(this._p).subscribe((function(e){t.Invoice=e.results}))}},{key:"detailInvoice",value:function(e){var t=this;this.subscription=this.staffService.getInvoice(e).subscribe((function(e){t.oneInvoice=e,console.log(t.oneInvoice)}),(function(e){ey.a.fire({title:"Error!",text:e.error,icon:"error",confirmButtonText:"Cool"})}))}},{key:"updateInvoice",value:function(e,t){var n=this;this.subscription=this.staffService.editInvolve(this.oneInvoice.id,e,t).subscribe((function(e){n.loadInvoice(),n.oneInvoice=null}),(function(e){ey.a.fire({title:"Error!",text:e.error,icon:"error",confirmButtonText:"Cool"})}))}},{key:"onPrintInvoice",value:function(e,t){localStorage.setItem("id_exam",t),localStorage.setItem("id_invoice",e);var n=this.router.serializeUrl(this.router.createUrlTree(["/examination/print"]));window.open(n,"_blank")}}]),e}(),SG=Ei({encapsulation:0,styles:[[""]],data:{}});function TG(e){return no(0,[(e()(),La(0,0,null,null,21,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(2,null,[" INV"," "])),(e()(),La(3,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,1,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(10,null,[" ",""])),(e()(),La(11,0,null,null,2,"td",[["data-target","#modal-Invoice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(12,null,[" "," "])),Ka(13,2),(e()(),La(14,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#modal-Invoice"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailInvoice(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(17,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),La(18,0,null,null,3,"a",[["style","cursor: pointer;"],["target","_blank"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onPrintInvoice(e.context.$implicit.id,e.context.$implicit.examination.id)&&i),i}),null,null)),(e()(),La(19,0,null,null,2,"span",[["class","text-muted"]],null,null,null,null,null)),(e()(),Ja(-1,null,["In h\xf3a \u0111\u01a1n"])),(e()(),La(21,0,null,null,0,"i",[["class","fa fa-pencil-square"]],null,null,null,null,null))],null,(function(e,t){e(t,2,0,1e4+t.context.$implicit.id),e(t,4,0,t.context.$implicit.examination.patient.name),e(t,6,0,t.context.$implicit.cost),e(t,8,0,t.context.$implicit.payment),e(t,10,0,t.context.$implicit.paid);var n=Mi(t,12,0,e(t,13,0,Ml(t.parent,0),t.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));e(t,12,0,n)}))}function PG(e){return no(0,[Hl(0,Eu,[Fr]),(e()(),La(1,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(2,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(3,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(4,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(5,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(6,0,null,null,21,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(7,0,null,null,15,"thead",[],null,null,null,null,null)),(e()(),La(8,0,null,null,14,"tr",[],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(11,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ph\xed"])),(e()(),La(15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["PT thanh to\xe1n"])),(e()(),La(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 thanh to\xe1n"])),(e()(),La(19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y t\u1ea1o"])),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1c"])),(e()(),La(23,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,TG)),jl(25,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(26,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(28,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(29,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(30,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(31,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(32,0,null,null,45,"div",[["class","modal fade"],["id","modal-Invoice"],["role","dialog"]],null,null,null,null,null)),(e()(),La(33,0,null,null,44,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(e()(),La(34,0,null,null,43,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(35,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(36,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(37,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft h\xf3a \u0111\u01a1n"])),(e()(),La(39,0,null,null,35,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(40,0,null,null,34,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(41,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(42,0,null,null,32,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(43,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(44,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ja(45,null,["M\xe3 h\xf3a \u0111\u01a1n: INV",""])),(e()(),La(46,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ph\xed"])),(e()(),La(49,0,[["cost",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(50,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(51,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1ea3m gi\xe1"])),(e()(),La(53,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(54,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(55,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u1ee3"])),(e()(),La(57,0,[["voucher",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(58,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(59,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xe0nh ti\u1ec1n"])),(e()(),La(61,0,[["total",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(62,0,null,null,2,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(63,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(64,null,["Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n: ",""])),(e()(),La(65,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(66,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 nh\u1eadn"])),(e()(),La(68,0,[["received",1]],null,0,"input",[["class","form-control"],["type","number"]],[[8,"value",0]],null,null,null,null)),(e()(),La(69,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(70,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 tr\u1ea3"])),(e()(),La(72,0,[["paid",1]],null,0,"input",[["class","form-control"],["type","number"]],[[8,"value",0]],null,null,null,null)),(e()(),La(73,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.updateInvoice(Ml(e,68).value,Ml(e,72).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(75,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(76,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,25,0,Ml(t,27).transform(n.Invoice,e(t,26,0,10,n._p,n._total)));e(t,25,0,i)}),(function(e,t){var n=t.component;e(t,45,0,1e4+n.oneInvoice.id),e(t,49,0,ll(1,"",(n.oneInvoice.voucher?n.oneInvoice.voucher:0)+n.oneInvoice.cost,"")),e(t,53,0,n.oneInvoice.voucher?n.oneInvoice.voucher:0),e(t,57,0,n.oneInvoice.owe),e(t,61,0,n.oneInvoice.cost+n.oneInvoice.owe+(n.oneInvoice.voucher?n.oneInvoice.voucher:0)),e(t,64,0,n.oneInvoice.payment),e(t,68,0,n.oneInvoice.received),e(t,72,0,n.oneInvoice.paid)}))}var MG=ml("app-staff-invoice-content",CG,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-staff-invoice-content",[],null,null,null,PG,SG)),jl(1,245760,null,0,CG,[jk,fG,qn,ip],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),AG=function(){function e(t){_classCallCheck2(this,e),this.userService=t}return _createClass2(e,[{key:"ngOnInit",value:function(){this.checkToken()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"checkToken",value:function(){var e=this;this.subscription=this.userService.checkToken().subscribe((function(e){}),(function(t){if(401==t.status)e.userService.refreshToken(localStorage.getItem("refresh")).subscribe((function(e){localStorage.setItem("bearToken",e.access),window.location.reload()}),(function(e){localStorage.removeItem("bearToken"),localStorage.removeItem("refresh"),ey.a.fire({title:"Error!",text:"H\u1ebft h\u1ea1n \u0111\u0103ng nh\u1eadp",icon:"error",confirmButtonText:"Cool"}),window.location.reload()}));else{var n=JSON.stringify(t.error);ey.a.fire({title:"Error!",text:n,icon:"error",confirmButtonText:"Cool"})}}))}},{key:"onLogout",value:function(){this.subscription=this.userService.logoutUser().subscribe((function(e){localStorage.removeItem("bearToken"),window.location.reload()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"}),localStorage.removeItem("bearToken"),window.location.reload()}))}}]),e}(),IG=Ei({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{padding:0!important}.inline-display[_ngcontent-%COMP%]{display:inline}"]],data:{}});function EG(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[["class","preloader"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,":svg:svg",[["class","circular"],["viewBox","25 25 50 50"]],null,null,null,null,null)),(e()(),La(2,0,null,null,0,":svg:circle",[["class","path"],["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(e()(),La(3,0,null,null,85,"div",[["id","wrapper"]],null,null,null,null,null)),(e()(),La(4,0,null,null,27,"nav",[["class","navbar navbar-default navbar-static-top m-b-0"]],null,null,null,null,null)),(e()(),La(5,0,null,null,26,"div",[["class","navbar-header"]],null,null,null,null,null)),(e()(),La(6,0,null,null,7,"div",[["class","top-left-part"]],null,null,null,null,null)),(e()(),La(7,0,null,null,6,"a",[["class","logo"],["href","/admin"]],null,null,null,null,null)),(e()(),La(8,0,null,null,2,"b",[],null,null,null,null,null)),(e()(),La(9,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/admin-logo.png"]],null,null,null,null,null)),(e()(),La(10,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["src","assets/plugins/images/admin-logo-dark.png"]],null,null,null,null,null)),(e()(),La(11,0,null,null,2,"span",[["class","hidden-xs"]],null,null,null,null,null)),(e()(),La(12,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/admin-text.png"]],null,null,null,null,null)),(e()(),La(13,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["height","24px"],["src","assets/plugins/images/gdental.png"],["width","139px"]],null,null,null,null,null)),(e()(),La(14,0,null,null,17,"ul",[["class","nav navbar-top-links navbar-right pull-right"]],null,null,null,null,null)),(e()(),La(15,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),La(16,0,null,null,1,"a",[["class","nav-toggler open-close waves-effect waves-light hidden-md hidden-lg"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(17,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(e()(),La(18,0,null,null,8,"li",[],null,null,null,null,null)),(e()(),La(19,0,null,null,7,"form",[["class","app-search hidden-sm hidden-xs m-r-10"],["novalidate",""],["role","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ml(e,21).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ml(e,21).onReset()&&i),i}),null,null)),jl(20,16384,null,0,Qb,[],null,null),jl(21,4210688,null,0,Yb,[[8,null],[8,null]],null,null),Wl(2048,null,$y,null,[Yb]),jl(23,16384,null,0,tb,[[4,$y]],null,null),(e()(),La(24,0,null,null,0,"input",[["class","form-control"],["placeholder","Search..."],["type","text"]],null,null,null,null,null)),(e()(),La(25,0,null,null,1,"a",[["href",""]],null,null,null,null,null)),(e()(),La(26,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(e()(),La(27,0,null,null,4,"li",[],null,null,null,null,null)),(e()(),La(28,0,null,null,1,"a",[["class","profile-pic inline-display"],["href","./"]],null,null,null,null,null)),(e()(),La(29,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/img/admin.png"],["width","36"]],null,null,null,null,null)),(e()(),La(30,0,null,null,1,"button",[["class","btn btn-danger profile-pic inline-display"],["data-dismiss","modal"],["style","margin-right: 10px"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onLogout()&&i),i}),null,null)),(e()(),Ja(-1,null,["\u0110\u0103ng xu\u1ea5t"])),(e()(),La(32,0,null,null,44,"div",[["class","navbar-default sidebar"],["role","navigation"]],null,null,null,null,null)),(e()(),La(33,0,null,null,43,"div",[["class","sidebar-nav slimscrollsidebar"]],null,null,null,null,null)),(e()(),La(34,0,null,null,5,"div",[["class","sidebar-head"]],null,null,null,null,null)),(e()(),La(35,0,null,null,4,"h3",[],null,null,null,null,null)),(e()(),La(36,0,null,null,1,"span",[["class","fa-fw open-close"]],null,null,null,null,null)),(e()(),La(37,0,null,null,0,"i",[["class","ti-close ti-menu"]],null,null,null,null,null)),(e()(),La(38,0,null,null,1,"span",[["class","hide-menu"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Navigation"])),(e()(),La(40,0,null,null,36,"ul",[["class","nav"],["id","side-menu"]],null,null,null,null,null)),(e()(),La(41,0,null,null,5,"li",[["style","padding: 70px 0 0;"]],null,null,null,null,null)),(e()(),La(42,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,43).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(43,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(44,1),(e()(),La(45,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clock-o fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Dashboard"])),(e()(),La(47,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(48,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,49).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(49,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(50,1),(e()(),La(51,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-users fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\u01b0\u1eddi d\xf9ng"])),(e()(),La(53,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(54,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,55).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(55,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(56,1),(e()(),La(57,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-cubes fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(e()(),La(59,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(60,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,61).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(61,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(62,1),(e()(),La(63,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-columns fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5"])),(e()(),La(65,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(66,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,67).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(67,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(68,1),(e()(),La(69,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-calendar fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch"])),(e()(),La(71,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(72,0,null,null,4,"a",[["class","waves-effect hvr-underline-from-center"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,73).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(73,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(74,1),(e()(),La(75,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-calendar fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Khuy\u1ebfn m\xe3i"])),(e()(),La(77,0,null,null,11,"div",[["id","page-wrapper"]],null,null,null,null,null)),(e()(),La(78,0,null,null,8,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),La(79,0,null,null,4,"div",[["class","row bg-title"]],null,null,null,null,null)),(e()(),La(80,0,null,null,2,"div",[["class","col-lg-3 col-md-4 col-sm-4 col-xs-12"]],null,null,null,null,null)),(e()(),La(81,0,null,null,1,"h4",[["class","page-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Dashboard"])),(e()(),La(83,0,null,null,0,"div",[["class","col-lg-9 col-sm-8 col-md-8 col-xs-12"]],null,null,null,null,null)),(e()(),La(84,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(85,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(86,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null),(e()(),La(87,0,null,null,1,"footer",[["class","footer text-center"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" 2020 \xa9 G-Dental AdminSite "]))],(function(e,t){var n=e(t,44,0,"./");e(t,43,0,n);var i=e(t,50,0,"./user");e(t,49,0,i);var l=e(t,56,0,"./treatment");e(t,55,0,l);var r=e(t,62,0,"./service");e(t,61,0,r);var a=e(t,68,0,"./schedule");e(t,67,0,a);var o=e(t,74,0,"./discount");e(t,73,0,o),e(t,86,0)}),(function(e,t){e(t,19,0,Ml(t,23).ngClassUntouched,Ml(t,23).ngClassTouched,Ml(t,23).ngClassPristine,Ml(t,23).ngClassDirty,Ml(t,23).ngClassValid,Ml(t,23).ngClassInvalid,Ml(t,23).ngClassPending),e(t,42,0,Ml(t,43).target,Ml(t,43).href),e(t,48,0,Ml(t,49).target,Ml(t,49).href),e(t,54,0,Ml(t,55).target,Ml(t,55).href),e(t,60,0,Ml(t,61).target,Ml(t,61).href),e(t,66,0,Ml(t,67).target,Ml(t,67).href),e(t,72,0,Ml(t,73).target,Ml(t,73).href)}))}var DG=ml("app-admin-home-page",AG,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-admin-home-page",[],null,null,null,EG,IG)),jl(1,245760,null,0,AG,[Ly],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);function OG(e,t,n,i){return new(n||(n=Promise))((function(l,r){function a(e){try{s(i.next(e))}catch(t){r(t)}}function o(e){try{s(i.throw(e))}catch(t){r(t)}}function s(e){e.done?l(e.value):new n((function(t){t(e.value)})).then(a,o)}s((i=i.apply(e,t||[])).next())}))}var FG,RG=function(){return(RG=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},NG=function(){function e(e,t,n){var i=this;this.target=e,this.endVal=t,this.options=n,this.version="2.0.4",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:""},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.count=function(e){i.startTime||(i.startTime=e);var t=e-i.startTime;i.remaining=i.duration-t,i.frameVal=i.useEasing?i.countDown?i.startVal-i.easingFn(t,0,i.startVal-i.endVal,i.duration):i.easingFn(t,i.startVal,i.endVal-i.startVal,i.duration):i.countDown?i.startVal-t/i.duration*(i.startVal-i.endVal):i.startVal+t/i.duration*(i.endVal-i.startVal),i.frameVal=i.countDown?i.frameVal<i.endVal?i.endVal:i.frameVal:i.frameVal>i.endVal?i.endVal:i.frameVal,i.frameVal=Math.round(i.frameVal*i.decimalMult)/i.decimalMult,i.printValue(i.frameVal),t<i.duration?i.rAF=requestAnimationFrame(i.count):null!==i.finalEndVal?i.update(i.finalEndVal):i.callback&&i.callback()},this.formatNumber=function(e){var t,n,l,r,a,o=e<0?"-":"";if(t=Math.abs(e).toFixed(i.options.decimalPlaces),l=(n=(t+="").split("."))[0],r=n.length>1?i.options.decimal+n[1]:"",i.options.useGrouping){a="";for(var s=0,u=l.length;s<u;++s)0!==s&&s%3==0&&(a=i.options.separator+a),a=l[u-s-1]+a;l=a}return i.options.numerals&&i.options.numerals.length&&(l=l.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]})),r=r.replace(/[0-9]/g,(function(e){return i.options.numerals[+e]}))),o+i.options.prefix+l+r+i.options.suffix},this.easeOutExpo=function(e,t,n,i){return n*(1-Math.pow(2,-10*e/i))*1024/1023+t},this.options=RG({},this.defaults,n),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.decimalMult=Math.pow(10,this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,""===this.options.separator&&(this.options.useGrouping=!1),this.el="string"==typeof e?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined"}return e.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e,Math.abs(e-this.startVal)>this.options.smartEasingThreshold?(this.finalEndVal=e,this.endVal=e+(this.countDown?1:-1)*this.options.smartEasingAmount,this.duration=this.duration/2):(this.endVal=e,this.finalEndVal=null),this.useEasing=!this.finalEndVal&&this.options.useEasing},e.prototype.start=function(e){this.error||(this.callback=e,this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},e.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},e.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},e.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal||this.resetDuration(),this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},e.prototype.printValue=function(e){var t=this.formattingFn(e);"INPUT"===this.el.tagName?this.el.value=t:"text"===this.el.tagName||"tspan"===this.el.tagName?this.el.textContent=t:this.el.innerHTML=t},e.prototype.ensureNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: "+e,null)},e.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},e}(),LG=function(){function e(t,n,i){_classCallCheck2(this,e),this.el=t,this.zone=n,this.platformId=i,this.options={},this.reanimateOnClick=!0,this.complete=new dr}return _createClass2(e,[{key:"onClick",value:function(){this.reanimateOnClick&&this.animate()}},{key:"ngOnChanges",value:function(e){"browser"===this.platformId&&e.endVal&&void 0!==e.endVal.currentValue&&(void 0!==this.previousEndVal&&(this.options=Object.assign({},this.options,{startVal:this.previousEndVal})),this.countUp=new NG(this.el.nativeElement,this.endVal,this.options),this.animate(),this.previousEndVal=this.endVal)}},{key:"animate",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.countUp.reset(),e.countUp.start((function(){e.zone.run((function(){e.complete.emit()}))}))}))}}]),e}(),BG=function e(){_classCallCheck2(this,e)},VG=n("DwXj"),zG=function(){function e(t,n){_classCallCheck2(this,e),this.adminService=t,this.renderer=n,this.datapoint=[],this.datapoint2=[],this.dataCategory=[],this.datapoint_lineChart=[],this.datapoint_lineChart2=[],this.option=!1,this.typeChart=!1,this.selectedYear=(new Date).getFullYear(),this.Statistic={num_of_staff:0,num_of_customer:0,total_money:0},this.d=new Date,this.m=(new Date).getMonth(),this.y=(new Date).getFullYear()}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData(null),this.loadTotalStatistic(),this.statisticCategory()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadTotalStatistic",value:function(){var e=this;this.subscription=this.adminService.getTotalStatistic().subscribe((function(t){e.Statistic=t}),(function(e){console.log(e)}))}},{key:"loadData",value:function(e){var t=this;this.subscription=this.adminService.getRevenueByMonth(e).subscribe((function(n){t.Revenue=n.revenue,t.datapoint=[],t.Revenue.forEach((function(e){t.datapoint.push(e.money)})),t.drawChartRevenueByMonth(null==e?t.m+1:e)}),(function(e){console.log(e)}))}},{key:"drawChartRevenueByMonth",value:function(e){new VG.Chart("chartContainer",{animationEnabled:!0,exportEnabled:!0,title:{text:"Doanh Thu Trong Th\xe1ng "+e},data:[{type:"column",dataPoints:[{y:this.datapoint[0]+this.datapoint[1]+this.datapoint[2]+this.datapoint[3]+this.datapoint[4],label:"Day 1-5"},{y:this.datapoint[5]+this.datapoint[6]+this.datapoint[7]+this.datapoint[8]+this.datapoint[9],label:"Day 6-10"},{y:this.datapoint[10]+this.datapoint[11]+this.datapoint[12]+this.datapoint[13]+this.datapoint[14],label:"Day 11-15"},{y:this.datapoint[15]+this.datapoint[16]+this.datapoint[17]+this.datapoint[18]+this.datapoint[19],label:"Day 16-20"},{y:this.datapoint[20]+this.datapoint[21]+this.datapoint[22]+this.datapoint[23]+this.datapoint[24],label:"Day 21-25"},{y:this.datapoint[25]+this.datapoint[26]+this.datapoint[27]+this.datapoint[28]+this.datapoint[29]+this.datapoint[30],label:"Day 26-End"}]}]}).render()}},{key:"selectMonth",value:function(e){this.typeChart?this.loadLineChartDataMonthly(e):this.loadData(e)}},{key:"selectOptions",value:function(e){this.option=e,e?this.typeChart?this.loadLineChartDataYearly(this.selectedYear):this.loadRevenueYearly(this.selectedYear):this.typeChart?this.loadLineChartDataMonthly(null):this.loadData(null)}},{key:"loadRevenueYearly",value:function(e){var t=this;this.subscription=this.adminService.getRevenueByYear(e).subscribe((function(n){t.Revenue=n.revenue,t.datapoint2=[],t.Revenue.forEach((function(e){t.datapoint2.push(e.money)})),t.drawChartRevenueByYear(null==e?t.y:e)}),(function(e){console.log(e)}))}},{key:"drawChartRevenueByYear",value:function(e){new VG.Chart("chartContainer",{animationEnabled:!0,exportEnabled:!0,title:{text:"Doanh thu trong n\u0103m "+e},data:[{type:"column",dataPoints:[{y:this.datapoint2[0],label:"Th\xe1ng 1"},{y:this.datapoint2[1],label:"Th\xe1ng 2"},{y:this.datapoint2[2],label:"Th\xe1ng 3"},{y:this.datapoint2[3],label:"Th\xe1ng 4"},{y:this.datapoint2[4],label:"Th\xe1ng 5"},{y:this.datapoint2[5],label:"Th\xe1ng 6"},{y:this.datapoint2[6],label:"Th\xe1ng 7"},{y:this.datapoint2[7],label:"Th\xe1ng 8"},{y:this.datapoint2[8],label:"Th\xe1ng 9"},{y:this.datapoint2[9],label:"Th\xe1ng 10"},{y:this.datapoint2[10],label:"Th\xe1ng 11"},{y:this.datapoint2[11],label:"Th\xe1ng 12"}]}]}).render()}},{key:"selectTypeChart",value:function(e){"true"==e?(this.loadLineChartDataMonthly(null),this.typeChart=!0):(this.loadData(null),this.typeChart=!1),this.option=!1,document.getElementById("optionChart").checked=!0}},{key:"loadLineChartDataMonthly",value:function(e){var t=this;this.subscription=this.adminService.getRevenueByMonth(e).subscribe((function(n){t.Revenue2=n.revenue,t.datapoint_lineChart=[],t.Revenue2.forEach((function(e){t.datapoint_lineChart.push({x:e.create_at__day,y:e.money})})),t.drawLineChartMonthly(null==e?t.m+1:e)}),(function(e){console.log(e)}))}},{key:"drawLineChartMonthly",value:function(e){var t=this.datapoint_lineChart,n=new VG.Chart("lineChartContainer",{exportEnabled:!0,title:{text:"Doanh thu trong th\xe1ng "+e},data:[{type:"spline",dataPoints:t}]});t.length,n.render()}},{key:"loadLineChartDataYearly",value:function(e){var t=this;this.subscription=this.adminService.getRevenueByYear(e).subscribe((function(n){t.Revenue2=n.revenue,t.datapoint_lineChart2=[],t.Revenue2.forEach((function(e){t.datapoint_lineChart2.push({x:e.create_at__month,y:e.money})})),t.drawLineChartYearly(null==e?t.y:e)}),(function(e){console.log(e)}))}},{key:"drawLineChartYearly",value:function(e){var t=this.datapoint_lineChart2,n=new VG.Chart("lineChartContainer",{exportEnabled:!0,title:{text:"Doanh thu trong n\u0103m "+e},data:[{type:"spline",dataPoints:t}]});t.length,n.render()}},{key:"selectYear",value:function(e){this.selectedYear+=e,console.log(this.selectedYear),this.typeChart?(console.log("LineChart"),this.loadLineChartDataYearly(this.selectedYear)):(console.log("Column"),this.loadRevenueYearly(this.selectedYear))}},{key:"statisticCategory",value:function(){var e=this;this.adminService.getStatisticCategory().subscribe((function(t){console.log(t),t.service.forEach((function(t,n){n<5?e.dataCategory.push({y:t.count,name:t.service__treatment__name}):5==n?e.dataCategory.push({y:t.count,name:"Kh\xe1c"}):e.dataCategory[5].y=e.dataCategory[5].y+t.count})),e.drawPieChartService()}),(function(e){console.log(e)}))}},{key:"drawPieChartService",value:function(){new VG.Chart("chartContainerService",{theme:"light2",animationEnabled:!0,exportEnabled:!0,title:{text:"Th\u1ed1ng k\xea d\u1ecbch v\u1ee5"},data:[{type:"pie",showInLegend:!0,toolTipContent:"<b>{name}</b>: {y} \u0111\xe3 d\xf9ng (#percent%)",indexLabel:"{name} - #percent%",dataPoints:this.dataCategory}]}).render()}}]),e}(),jG={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},HG=((FG=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getRevenueByYear",value:function(e){return this.http.get("".concat(this.API,"/api/statistic/revenuebyyear/?year=").concat(e),jG)}},{key:"getRevenueByMonth",value:function(e){return this.http.get("".concat(this.API,"/api/statistic/revenuebymonth/?month=").concat(e),jG)}},{key:"getTotalStatistic",value:function(){return this.http.get("".concat(this.API,"/api/statistic/total/"),jG)}},{key:"getScheduleByTime",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?page=").concat(e,"&ordering=-date,-time&is_active=true"),jG)}},{key:"getScheduleToday",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/?page=").concat(e,"&today=1&is_active=true"),jG)}},{key:"getFreeTimeList",value:function(e){return this.http.get("".concat(this.API,"/api/schedule/freetime/?date=").concat(e),jG)}},{key:"updateSchedule",value:function(e,t,n,i,l,r,a){var o=JSON.stringify({name:t,email:n,phone:i,date:l,time:r,note:a});return this.http.patch("".concat(this.API,"/api/schedule/").concat(e,"/"),o,jG)}},{key:"getScheduler",value:function(){return this.http.get("".concat(this.API,"/api/scheduler/?ordering=date,time&is_active=true"),jG)}},{key:"deleteSchedule",value:function(e){return this.http.delete("".concat(this.API,"/api/schedule/").concat(e,"/"),jG)}},{key:"getStatisticCategory",value:function(){return this.http.get("".concat(this.API,"/api/statistic/category/"),jG)}},{key:"getListDiscount",value:function(e){return this.http.get("".concat(this.API,"/api/admin/discount/?page=").concat(e),jG)}},{key:"sendPromotionToEmail",value:function(e,t){var n=JSON.stringify({servicename:e,id_discount:t});return this.http.post("".concat(this.API,"/api/admin/discount/sendmail/"),n,jG)}},{key:"createDiscount",value:function(e,t,n,i,l){var r=JSON.stringify({amount:t,from_date:n,to_date:i,detail:l,id_service:e});return this.http.post("".concat(this.API,"/api/admin/discount/"),r,jG)}}]),e}()).ngInjectableDef=De({factory:function(){return new FG(nt(by))},token:FG,providedIn:"root"}),FG),WG=Ei({encapsulation:0,styles:[[".parent-element[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between}.element-5[_ngcontent-%COMP%]{width:8.33%}.col-lg-1[_ngcontent-%COMP%], .col-md-1[_ngcontent-%COMP%], .col-sm-1[_ngcontent-%COMP%], .col-xs-1[_ngcontent-%COMP%]{padding-left:0;padding-right:0}.cls-linktext[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;cursor:pointer}.cls-linktext[_ngcontent-%COMP%]:hover{text-decoration:underline}#btnYear[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;display:inline-block;padding:8px 22px;font-size:20px}a[_ngcontent-%COMP%]:hover{background-color:#ddd;color:#000}.previous[_ngcontent-%COMP%]{background-color:#ebe3e3;color:#000}.next[_ngcontent-%COMP%]{background-color:#ebe3e3;color:#fff}.round[_ngcontent-%COMP%]{cursor:pointer;border-radius:50%}"]],data:{}});function UG(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","column-chart"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"div",[["id","chartContainer"],["style","height: 370px; width: 100%;"]],null,null,null,null,null))],null,null)}function YG(e){return no(0,[(e()(),La(0,0,null,null,0,"div",[["id","lineChartContainer"],["style","height: 370px; width: 100%;"]],null,null,null,null,null))],null,null)}function qG(e){return no(0,[(e()(),La(0,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"div",[["class","col-1"]],null,null,null,null,null)),(e()(),La(2,0,null,null,24,"div",[["class","col-lg-10 col-sm-10 col-md-10 col-xs-10 parent-element"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(1)&&i),i}),null,null)),(e()(),Ja(-1,null,["January"])),(e()(),La(5,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(2)&&i),i}),null,null)),(e()(),Ja(-1,null,["February"])),(e()(),La(7,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(3)&&i),i}),null,null)),(e()(),Ja(-1,null,["March"])),(e()(),La(9,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(4)&&i),i}),null,null)),(e()(),Ja(-1,null,["April"])),(e()(),La(11,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(5)&&i),i}),null,null)),(e()(),Ja(-1,null,["May"])),(e()(),La(13,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(6)&&i),i}),null,null)),(e()(),Ja(-1,null,["June"])),(e()(),La(15,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(7)&&i),i}),null,null)),(e()(),Ja(-1,null,["July"])),(e()(),La(17,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(8)&&i),i}),null,null)),(e()(),Ja(-1,null,["August"])),(e()(),La(19,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(9)&&i),i}),null,null)),(e()(),Ja(-1,null,["September"])),(e()(),La(21,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(10)&&i),i}),null,null)),(e()(),Ja(-1,null,["October"])),(e()(),La(23,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(11)&&i),i}),null,null)),(e()(),Ja(-1,null,["November"])),(e()(),La(25,0,null,null,1,"button",[["class","btn btn-outline-info element-5"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectMonth(12)&&i),i}),null,null)),(e()(),Ja(-1,null,["December"])),(e()(),La(27,0,null,null,0,"div",[["class","col-1"]],null,null,null,null,null))],null,null)}function GG(e){return no(0,[(e()(),La(0,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"div",[["class","col-lg-4 col-sm-2 col-md-4 col-xs-1"]],null,null,null,null,null)),(e()(),La(2,0,null,null,6,"div",[["class","col-lg-4 col-sm-8 col-md-4 col-xs-10 text-center"],["id","btnYear"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"a",[["class","previous round"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectYear(-1)&&i),i}),null,null)),(e()(),Ja(-1,null,["\u2039"])),(e()(),La(5,0,null,null,1,"a",[],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"a",[["class","next round"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectYear(1)&&i),i}),null,null)),(e()(),Ja(-1,null,["\u203a"])),(e()(),La(9,0,null,null,0,"div",[["class","col-lg-4 col-sm-2 col-md-4 col-xs-1"]],null,null,null,null,null))],null,(function(e,t){e(t,6,0,t.component.selectedYear)}))}function XG(e){return no(0,[(e()(),La(0,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,11,"div",[["class","col-lg-4 col-sm-6 col-xs-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,10,"div",[["class","white-box analytics-info"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ed5ng nh\xe2n vi\xean"])),(e()(),La(5,0,null,null,7,"ul",[["class","list-inline two-part"]],null,null,null,null,null)),(e()(),La(6,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),La(7,0,null,null,0,"div",[["id","sparklinedash"]],null,null,null,null,null)),(e()(),La(8,0,null,null,4,"li",[["class","text-right"]],null,null,null,null,null)),(e()(),La(9,0,null,null,0,"i",[["class","ti-arrow-up text-success"]],null,null,null,null,null)),(e()(),La(10,0,null,null,2,"span",[["class","hvr-pop text-success"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,11).onClick()&&i),i}),null,null)),jl(11,540672,null,0,LG,[Hn,Qr,Er],{endVal:[0,"endVal"]},null),(e()(),Ja(-1,null,["0"])),(e()(),La(13,0,null,null,11,"div",[["class","col-lg-4 col-sm-6 col-xs-12"]],null,null,null,null,null)),(e()(),La(14,0,null,null,10,"div",[["class","white-box analytics-info"]],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ed5ng kh\xe1ch h\xe0ng"])),(e()(),La(17,0,null,null,7,"ul",[["class","list-inline two-part"]],null,null,null,null,null)),(e()(),La(18,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),La(19,0,null,null,0,"div",[["id","sparklinedash2"]],null,null,null,null,null)),(e()(),La(20,0,null,null,4,"li",[["class","text-right"]],null,null,null,null,null)),(e()(),La(21,0,null,null,0,"i",[["class","ti-arrow-up text-purple"]],null,null,null,null,null)),(e()(),La(22,0,null,null,2,"span",[["class","hvr-pop text-purple"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,23).onClick()&&i),i}),null,null)),jl(23,540672,null,0,LG,[Hn,Qr,Er],{endVal:[0,"endVal"]},null),(e()(),Ja(-1,null,["0"])),(e()(),La(25,0,null,null,11,"div",[["class","col-lg-4 col-sm-6 col-xs-12"]],null,null,null,null,null)),(e()(),La(26,0,null,null,10,"div",[["class","white-box analytics-info"]],null,null,null,null,null)),(e()(),La(27,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ed5ng doanh thu"])),(e()(),La(29,0,null,null,7,"ul",[["class","list-inline two-part"]],null,null,null,null,null)),(e()(),La(30,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),La(31,0,null,null,0,"div",[["id","sparklinedash3"]],null,null,null,null,null)),(e()(),La(32,0,null,null,4,"li",[["class","text-right"]],null,null,null,null,null)),(e()(),La(33,0,null,null,0,"i",[["class","ti-arrow-up text-info"]],null,null,null,null,null)),(e()(),La(34,0,null,null,2,"span",[["class","hvr-pop text-info"],["id","totalmoney"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,35).onClick()&&i),i}),null,null)),jl(35,540672,null,0,LG,[Hn,Qr,Er],{endVal:[0,"endVal"]},null),(e()(),Ja(-1,null,["0"])),(e()(),La(37,0,null,null,40,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(38,0,null,null,39,"div",[["class","col-md-12 col-lg-12 col-sm-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(39,0,null,null,38,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(40,0,null,null,17,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(41,0,null,null,9,"div",[["class","col-1"]],null,null,null,null,null)),(e()(),La(42,0,null,null,8,"select",[["class","form-group"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.selectTypeChart(n.target.value)&&i),i}),null,null)),(e()(),La(43,0,null,null,3,"option",[["selected",""],["value","false"]],null,null,null,null,null)),jl(44,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(45,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(-1,null,["C\u1ed9t"])),(e()(),La(47,0,null,null,3,"option",[["value","true"]],null,null,null,null,null)),jl(48,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(49,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(-1,null,["\u0110\u01b0\u1eddng"])),(e()(),La(51,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(e()(),La(52,0,null,null,0,"input",[["class","form-group"],["id",""],["name","Date"],["type","radio"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectOptions(!0)&&i),i}),null,null)),(e()(),Ja(-1,null,["N\u0103m "])),(e()(),La(54,0,null,null,2,"div",[["class","col-1"]],null,null,null,null,null)),(e()(),La(55,0,null,null,0,"input",[["checked",""],["class","form-group"],["id","optionChart"],["name","Date"],["type","radio"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.selectOptions(!1)&&i),i}),null,null)),(e()(),Ja(-1,null,["Th\xe1ng "])),(e()(),La(57,0,null,null,0,"div",[["class","col"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,UG)),jl(59,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["lineChart",2]],null,0,null,YG)),(e()(),Na(16777216,null,null,1,null,qG)),jl(62,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["byYear",2]],null,0,null,GG)),(e()(),La(64,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(65,0,null,null,1,"div",[["class","column-chart"]],null,null,null,null,null)),(e()(),La(66,0,null,null,0,"div",[["id","chartContainerService"],["style","height: 370px; width: 100%;"]],null,null,null,null,null)),(e()(),La(67,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(68,0,null,null,8,"ul",[["class","list-inline text-right"]],null,null,null,null,null)),(e()(),La(69,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),La(70,0,null,null,2,"h5",[],null,null,null,null,null)),(e()(),La(71,0,null,null,0,"i",[["class","fa fa-circle m-r-5 text-info"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Android"])),(e()(),La(73,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),La(74,0,null,null,2,"h5",[],null,null,null,null,null)),(e()(),La(75,0,null,null,0,"i",[["class","fa fa-circle m-r-5 text-inverse"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Web"])),(e()(),La(77,0,null,null,0,"div",[["id","ct-visits"],["style","height: 405px;"]],null,null,null,null,null)),(e()(),La(78,0,null,null,125,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(79,0,null,null,124,"div",[["class","col-md-12 col-lg-12 col-sm-12"]],null,null,null,null,null)),(e()(),La(80,0,null,null,123,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(81,0,null,null,21,"div",[["class","col-md-3 col-sm-4 col-xs-6 pull-right"]],null,null,null,null,null)),(e()(),La(82,0,null,null,20,"select",[["class","form-control pull-right row b-none"]],null,null,null,null,null)),(e()(),La(83,0,null,null,3,"option",[],null,null,null,null,null)),jl(84,147456,null,0,bb,[Hn,qn,[8,null]],null,null),jl(85,147456,null,0,_b,[Hn,qn,[8,null]],null,null),(e()(),Ja(-1,null,["March 2017"])),(e()(),La(87,0,null,null,3,"option",[],null,null,null,null,null)),jl(88,147456,null,0,bb,[Hn,qn,[8,null]],null,null),jl(89,147456,null,0,_b,[Hn,qn,[8,null]],null,null),(e()(),Ja(-1,null,["April 2017"])),(e()(),La(91,0,null,null,3,"option",[],null,null,null,null,null)),jl(92,147456,null,0,bb,[Hn,qn,[8,null]],null,null),jl(93,147456,null,0,_b,[Hn,qn,[8,null]],null,null),(e()(),Ja(-1,null,["May 2017"])),(e()(),La(95,0,null,null,3,"option",[],null,null,null,null,null)),jl(96,147456,null,0,bb,[Hn,qn,[8,null]],null,null),jl(97,147456,null,0,_b,[Hn,qn,[8,null]],null,null),(e()(),Ja(-1,null,["June 2017"])),(e()(),La(99,0,null,null,3,"option",[],null,null,null,null,null)),jl(100,147456,null,0,bb,[Hn,qn,[8,null]],null,null),jl(101,147456,null,0,_b,[Hn,qn,[8,null]],null,null),(e()(),Ja(-1,null,["July 2017"])),(e()(),La(103,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Recent sales"])),(e()(),La(105,0,null,null,98,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(106,0,null,null,97,"table",[["class","table"]],null,null,null,null,null)),(e()(),La(107,0,null,null,11,"thead",[],null,null,null,null,null)),(e()(),La(108,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),La(109,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(111,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["NAME"])),(e()(),La(113,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["STATUS"])),(e()(),La(115,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["DATE"])),(e()(),La(117,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["PRICE"])),(e()(),La(119,0,null,null,84,"tbody",[],null,null,null,null,null)),(e()(),La(120,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(121,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["1"])),(e()(),La(123,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Elite admin"])),(e()(),La(125,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["SALE"])),(e()(),La(127,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 18, 2017"])),(e()(),La(129,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(130,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["$24"])),(e()(),La(132,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(133,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["2"])),(e()(),La(135,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Real Homes WP Theme"])),(e()(),La(137,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["EXTENDED"])),(e()(),La(139,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 19, 2017"])),(e()(),La(141,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(142,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(e()(),Ja(-1,null,["$1250"])),(e()(),La(144,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(145,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["3"])),(e()(),La(147,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ample Admin"])),(e()(),La(149,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["EXTENDED"])),(e()(),La(151,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 19, 2017"])),(e()(),La(153,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(154,0,null,null,1,"span",[["class","text-info"]],null,null,null,null,null)),(e()(),Ja(-1,null,["$1250"])),(e()(),La(156,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(157,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["4"])),(e()(),La(159,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Medical Pro WP Theme"])),(e()(),La(161,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["TAX"])),(e()(),La(163,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 20, 2017"])),(e()(),La(165,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(166,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(e()(),Ja(-1,null,["-$24"])),(e()(),La(168,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(169,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["5"])),(e()(),La(171,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Hosting press html"])),(e()(),La(173,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["SALE"])),(e()(),La(175,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 21, 2017"])),(e()(),La(177,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(178,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["$24"])),(e()(),La(180,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(181,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["6"])),(e()(),La(183,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Digital Agency PSD"])),(e()(),La(185,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["SALE"])),(e()(),La(187,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 23, 2017"])),(e()(),La(189,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(190,0,null,null,1,"span",[["class","text-danger"]],null,null,null,null,null)),(e()(),Ja(-1,null,["-$14"])),(e()(),La(192,0,null,null,11,"tr",[],null,null,null,null,null)),(e()(),La(193,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["7"])),(e()(),La(195,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Helping Hands WP Theme"])),(e()(),La(197,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["MEMBER"])),(e()(),La(199,0,null,null,1,"td",[["class","txt-oflo"]],null,null,null,null,null)),(e()(),Ja(-1,null,["April 22, 2017"])),(e()(),La(201,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(202,0,null,null,1,"span",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["$64"])),(e()(),La(204,0,null,null,136,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(205,0,null,null,43,"div",[["class","col-md-12 col-lg-8 col-sm-12"]],null,null,null,null,null)),(e()(),La(206,0,null,null,42,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(207,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Recent Order"])),(e()(),La(209,0,null,null,39,"div",[["class","comment-center p-t-10"]],null,null,null,null,null)),(e()(),La(210,0,null,null,16,"div",[["class","comment-body"]],null,null,null,null,null)),(e()(),La(211,0,null,null,1,"div",[["class","user-img"]],null,null,null,null,null)),(e()(),La(212,0,null,null,0,"img",[["alt","user"],["class","img-circle"],["src","assets/plugins/images/users/pawandeep.jpg"]],null,null,null,null,null)),(e()(),La(213,0,null,null,13,"div",[["class","mail-contnet"]],null,null,null,null,null)),(e()(),La(214,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Pavan kumar"])),(e()(),La(216,0,null,null,1,"span",[["class","time"]],null,null,null,null,null)),(e()(),Ja(-1,null,["10:20 AM 20 may 2016"])),(e()(),La(218,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(219,0,null,null,1,"span",[["class","mail-desc"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Donec ac condimentum massa. Etiam pellentesque pretium lacus. Phasellus ultricies dictum suscipit. Aenean commodo dui pellentesque molestie feugiat. Aenean commodo dui pellentesque molestie feugiat"])),(e()(),La(221,0,null,null,2,"a",[["class","btn btn btn-rounded btn-default btn-outline m-r-5"],["href","javacript:void(0)"]],null,null,null,null,null)),(e()(),La(222,0,null,null,0,"i",[["class","ti-check text-success m-r-5"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Approve"])),(e()(),La(224,0,null,null,2,"a",[["class","btn-rounded btn btn-default btn-outline"],["href","javacript:void(0)"]],null,null,null,null,null)),(e()(),La(225,0,null,null,0,"i",[["class","ti-close text-danger m-r-5"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Reject"])),(e()(),La(227,0,null,null,10,"div",[["class","comment-body"]],null,null,null,null,null)),(e()(),La(228,0,null,null,1,"div",[["class","user-img"]],null,null,null,null,null)),(e()(),La(229,0,null,null,0,"img",[["alt","user"],["class","img-circle"],["src","assets/plugins/images/users/sonu.jpg"]],null,null,null,null,null)),(e()(),La(230,0,null,null,7,"div",[["class","mail-contnet"]],null,null,null,null,null)),(e()(),La(231,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Sonu Nigam"])),(e()(),La(233,0,null,null,1,"span",[["class","time"]],null,null,null,null,null)),(e()(),Ja(-1,null,["10:20 AM 20 may 2016"])),(e()(),La(235,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(236,0,null,null,1,"span",[["class","mail-desc"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Donec ac condimentum massa. Etiam pellentesque pretium lacus. Phasellus ultricies dictum suscipit. Aenean commodo dui pellentesque molestie feugiat. Aenean commodo dui pellentesque molestie feugiat"])),(e()(),La(238,0,null,null,10,"div",[["class","comment-body b-none"]],null,null,null,null,null)),(e()(),La(239,0,null,null,1,"div",[["class","user-img"]],null,null,null,null,null)),(e()(),La(240,0,null,null,0,"img",[["alt","user"],["class","img-circle"],["src","assets/plugins/images/users/arijit.jpg"]],null,null,null,null,null)),(e()(),La(241,0,null,null,7,"div",[["class","mail-contnet"]],null,null,null,null,null)),(e()(),La(242,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Arijit singh"])),(e()(),La(244,0,null,null,1,"span",[["class","time"]],null,null,null,null,null)),(e()(),Ja(-1,null,["10:20 AM 20 may 2016"])),(e()(),La(246,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(247,0,null,null,1,"span",[["class","mail-desc"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Donec ac condimentum massa. Etiam pellentesque pretium lacus. Phasellus ultricies dictum suscipit. Aenean commodo dui pellentesque molestie feugiat. Aenean commodo dui pellentesque molestie feugiat"])),(e()(),La(249,0,null,null,91,"div",[["class","col-lg-4 col-md-6 col-sm-12"]],null,null,null,null,null)),(e()(),La(250,0,null,null,90,"div",[["class","panel"]],null,null,null,null,null)),(e()(),La(251,0,null,null,89,"div",[["class","sk-chat-widgets"]],null,null,null,null,null)),(e()(),La(252,0,null,null,88,"div",[["class","panel panel-default"]],null,null,null,null,null)),(e()(),La(253,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" CHAT LISTING "])),(e()(),La(255,0,null,null,85,"div",[["class","panel-body"]],null,null,null,null,null)),(e()(),La(256,0,null,null,84,"ul",[["class","chatonline"]],null,null,null,null,null)),(e()(),La(257,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(258,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(259,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(260,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(261,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(262,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(263,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(264,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/varun.jpg"]],null,null,null,null,null)),(e()(),La(265,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Varun Dhavan "])),(e()(),La(267,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["online"])),(e()(),La(269,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(270,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(271,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(272,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(273,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(274,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(275,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(276,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/genu.jpg"]],null,null,null,null,null)),(e()(),La(277,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Genelia Deshmukh "])),(e()(),La(279,0,null,null,1,"small",[["class","text-warning"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Away"])),(e()(),La(281,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(282,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(283,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(284,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(285,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(286,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(287,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(288,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/ritesh.jpg"]],null,null,null,null,null)),(e()(),La(289,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ritesh Deshmukh "])),(e()(),La(291,0,null,null,1,"small",[["class","text-danger"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Busy"])),(e()(),La(293,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(294,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(295,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(296,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(297,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(298,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(299,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(300,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/arijit.jpg"]],null,null,null,null,null)),(e()(),La(301,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Arijit Sinh "])),(e()(),La(303,0,null,null,1,"small",[["class","text-muted"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Offline"])),(e()(),La(305,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(306,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(307,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(308,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(309,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(310,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(311,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(312,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/govinda.jpg"]],null,null,null,null,null)),(e()(),La(313,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Govinda Star "])),(e()(),La(315,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["online"])),(e()(),La(317,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(318,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(319,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(320,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(321,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(322,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(323,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(324,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/hritik.jpg"]],null,null,null,null,null)),(e()(),La(325,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["John Abraham"])),(e()(),La(327,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["online"])),(e()(),La(329,0,null,null,11,"li",[],null,null,null,null,null)),(e()(),La(330,0,null,null,4,"div",[["class","call-chat"]],null,null,null,null,null)),(e()(),La(331,0,null,null,1,"button",[["class","btn btn-success btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(332,0,null,null,0,"i",[["class","fa fa-phone"]],null,null,null,null,null)),(e()(),La(333,0,null,null,1,"button",[["class","btn btn-info btn-circle btn-lg"],["type","button"]],null,null,null,null,null)),(e()(),La(334,0,null,null,0,"i",[["class","fa fa-comments-o"]],null,null,null,null,null)),(e()(),La(335,0,null,null,5,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(336,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/plugins/images/users/varun.jpg"]],null,null,null,null,null)),(e()(),La(337,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Varun Dhavan "])),(e()(),La(339,0,null,null,1,"small",[["class","text-success"]],null,null,null,null,null)),(e()(),Ja(-1,null,["online"]))],(function(e,t){var n=t.component;e(t,11,0,n.Statistic.num_of_staff),e(t,23,0,n.Statistic.num_of_customer),e(t,35,0,n.Statistic.total_money),e(t,44,0,"false"),e(t,45,0,"false"),e(t,48,0,"true"),e(t,49,0,"true"),e(t,59,0,0==n.typeChart,Ml(t,60)),e(t,62,0,!n.option,Ml(t,63))}),null)}var KG=ml("app-admin-dashboard",zG,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-admin-dashboard",[],null,null,null,XG,WG)),jl(1,245760,null,0,zG,[HG,qn],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),$G=function(){function e(t){_classCallCheck2(this,e),this.userService=t,this.is_doctor=!0,this.is_staff=!1,this._p=1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadUser()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadUser",value:function(){var e=this;this.subscription=this.userService.getListUser(this._p).subscribe((function(t){e.user=t.results,e._total=t.count}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.userService.getListUser(this._p).subscribe((function(e){t.user=e.results}))}},{key:"onChangePosition",value:function(e){var t="true"==e;this.is_doctor=t,this.is_staff=!t}},{key:"onCreateUser",value:function(e,t,n,i){var l=this;console.log(e),console.log(n),console.log(this.is_doctor),console.log(this.is_staff),this.userService.createUser(e,t,n,i,this.is_doctor,this.is_staff).subscribe((function(e){l.ngOnInit()}))}},{key:"onDelete",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a t\xe0i kho\u1ea3n n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&t.userService.deleteUser(e).subscribe((function(e){t.loadUser(),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}))}}]),e}(),ZG=Ei({encapsulation:0,styles:[[""]],data:{}});function QG(e){return no(0,[(e()(),La(0,0,null,null,17,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,3,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,2).onClick()&&i),i}),null,null)),jl(2,16384,null,0,lp,[ip,Gd,[8,null],qn,Hn],{routerLink:[0,"routerLink"]},null),$a(3,2),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(8,null,["",""])),(e()(),La(9,0,null,null,1,"td",[["data-target","#detailcustomer"],["data-toggle","modal"]],null,null,null,null,null)),(e()(),Ja(10,null,["",""])),(e()(),La(11,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),La(12,0,null,null,3,"button",[["class","btn btn-primary"],["data-target","#adduser"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,13).onClick()&&i),i}),null,null)),jl(13,16384,null,0,lp,[ip,Gd,[8,null],qn,Hn],{routerLink:[0,"routerLink"]},null),$a(14,2),(e()(),Ja(-1,null,["H\u1ed3 s\u01a1"])),(e()(),La(16,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDelete(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],(function(e,t){var n=e(t,3,0,"./",t.context.$implicit.id);e(t,2,0,n);var i=e(t,14,0,"./",t.context.$implicit.id);e(t,13,0,i)}),(function(e,t){e(t,4,0,t.context.index+1),e(t,6,0,t.context.$implicit.name),e(t,8,0,t.context.$implicit.username),e(t,10,0,t.context.$implicit.phone)}))}function JG(e){return no(0,[(e()(),La(0,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,34,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,33,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,7,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(6,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(7,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 50%;"],["type","search"]],null,null,null,null,null)),(e()(),La(11,0,null,null,24,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(12,0,null,null,17,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(13,0,null,null,11,"thead",[],null,null,null,null,null)),(e()(),La(14,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean Ng\u01b0\u1eddi d\xf9ng"])),(e()(),La(19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xe0i kho\u1ea3n"])),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Li\xean l\u1ea1c"])),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Option"])),(e()(),La(25,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,QG)),jl(27,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(28,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(31,0,null,null,0,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(32,0,null,null,2,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(e()(),La(33,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#adduser"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam ng\u01b0\u1eddi d\xf9ng"])),(e()(),La(35,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null)),(e()(),La(36,0,null,null,42,"div",[["class","modal fade"],["id","adduser"],["role","dialog"]],null,null,null,null,null)),(e()(),La(37,0,null,null,41,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(38,0,null,null,40,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(39,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(40,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(41,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(42,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Add User"])),(e()(),La(44,0,null,null,31,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(45,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(46,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(47,0,null,null,28,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(48,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(49,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xe0i kho\u1ea3n"])),(e()(),La(51,0,[["username",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(52,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(53,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["M\u1eadt kh\u1ea9u"])),(e()(),La(55,0,[["password",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(56,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(57,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean nh\xe2n vi\xean"])),(e()(),La(59,0,[["fullname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(60,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(61,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"])),(e()(),La(63,0,[["phonenumber",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(64,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(65,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ch\u1ee9c v\u1ee5"])),(e()(),La(67,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(68,0,[["doctor",1]],null,0,"input",[["checked",""],["name","position"],["type","radio"],["value","true"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangePosition(Ml(e,68).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" B\xe1c s\u0129"])),(e()(),La(70,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(71,0,[["staff",1]],null,0,"input",[["name","position"],["type","radio"],["value","false"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangePosition(Ml(e,71).value)&&i),i}),null,null)),(e()(),Ja(-1,null,[" Nh\xe2n vi\xean"])),(e()(),La(73,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(74,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCreateUser(Ml(e,51).value,Ml(e,55).value,Ml(e,59).value,Ml(e,63).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["T\u1ea1o Ng\u01b0\u1eddi d\xf9ng"])),(e()(),La(76,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(77,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"]))],(function(e,t){var n=t.component,i=Mi(t,27,0,Ml(t,29).transform(n.user,e(t,28,0,10,n._p,n._total)));e(t,27,0,i)}),null)}var eX=ml("app-user-management",$G,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-user-management",[],null,null,null,JG,ZG)),jl(1,245760,null,0,$G,[Ly],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),tX=function(){function e(t,n,i){_classCallCheck2(this,e),this.activatedRouterService=t,this.routerService=n,this.userService=i,this.UserDetail={id:0,username:"loading",name:"loading",phone:"loading",email:"loading",address:"loading",image:"loading",gender:!0,birthday:"loading",is_docter:!1,is_manager:!1,qualification:"loading",experience:0,specialisation:"loading",create_at:"loading",is_deleted:!1},this.enableReset=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){(this.subscription||this.subscriptionParams)&&(this.subscription.unsubscribe(),this.subscriptionParams.unsubscribe())}},{key:"loadData",value:function(){var e=this;this.subscriptionParams=this.activatedRouterService.params.subscribe((function(t){e.subscription=e.userService.getDetailUser(t.id).subscribe((function(t){e.UserDetail=t,console.log(e.UserDetail)}))}))}},{key:"updateUser",value:function(e,t,n,i){var l=this;this.userService.updateUser(e,t,n,i).subscribe((function(e){ey.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"}),l.ngOnInit()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"onShowReset",value:function(){this.enableReset=!0}},{key:"onResetPass",value:function(e){this.subscription=this.userService.resetPassUser(this.UserDetail.id,e).subscribe((function(e){ey.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"})}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),nX=Ei({encapsulation:0,styles:[[".cls-linktext[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;cursor:pointer}.cls-linktext[_ngcontent-%COMP%]:hover{text-decoration:underline}"]],data:{}});function iX(e){return no(0,[(e()(),La(0,0,null,null,7,"div",[],null,null,null,null,null)),(e()(),La(1,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(2,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"div",[["class","col-8"]],null,null,null,null,null)),(e()(),La(4,0,[["password",1]],null,0,"input",[["class","form-control form-control-line"],["placeholder","nh\u1eadp m\u1eadt kh\u1ea9u"],["type","password"]],null,null,null,null,null)),(e()(),La(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(6,0,null,null,1,"button",[["class","btn btn-primary"],["style","height: 100%;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onResetPass(Ml(e,4).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xe1c nh\u1eadn"]))],null,null)}function lX(e){return no(0,[(e()(),La(0,0,null,null,75,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,32,"div",[["class","col-md-4 col-xs-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,31,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,9,"div",[["class","user-bg"]],null,null,null,null,null)),(e()(),La(4,0,null,null,0,"img",[["alt","user"],["src","assets/plugins/images/large/img1.jpg"],["width","100%"]],null,null,null,null,null)),(e()(),La(5,0,null,null,7,"div",[["class","overlay-box"]],null,null,null,null,null)),(e()(),La(6,0,null,null,6,"div",[["class","user-content"]],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"a",[["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(8,0,null,null,0,"img",[["alt","img"],["class","thumb-lg img-circle"],["src","assets/plugins/images/users/genu.jpg"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"h4",[["class","text-white"]],null,null,null,null,null)),(e()(),Ja(10,null,[""," "])),(e()(),La(11,0,null,null,1,"h5",[["class","text-white"]],null,null,null,null,null)),(e()(),Ja(-1,null,["info@myadmin.com"])),(e()(),La(13,0,null,null,15,"div",[["class","user-btm-box"]],null,null,null,null,null)),(e()(),La(14,0,null,null,4,"div",[["class","col-md-4 col-sm-4 text-center"]],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"p",[["class","text-purple"]],null,null,null,null,null)),(e()(),La(16,0,null,null,0,"i",[["class","ti-facebook"]],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ja(-1,null,["258"])),(e()(),La(19,0,null,null,4,"div",[["class","col-md-4 col-sm-4 text-center"]],null,null,null,null,null)),(e()(),La(20,0,null,null,1,"p",[["class","text-blue"]],null,null,null,null,null)),(e()(),La(21,0,null,null,0,"i",[["class","ti-twitter"]],null,null,null,null,null)),(e()(),La(22,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ja(-1,null,["125"])),(e()(),La(24,0,null,null,4,"div",[["class","col-md-4 col-sm-4 text-center"]],null,null,null,null,null)),(e()(),La(25,0,null,null,1,"p",[["class","text-danger"]],null,null,null,null,null)),(e()(),La(26,0,null,null,0,"i",[["class","ti-dribbble"]],null,null,null,null,null)),(e()(),La(27,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ja(-1,null,["556"])),(e()(),La(29,0,null,null,4,"div",[["class","user-btm-box"]],null,null,null,null,null)),(e()(),La(30,0,null,null,1,"h4",[["class","cls-linktext"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onShowReset()&&i),i}),null,null)),(e()(),Ja(-1,null,["Reset password"])),(e()(),Na(16777216,null,null,1,null,iX)),jl(33,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(34,0,null,null,41,"div",[["class","col-md-8 col-xs-12"]],null,null,null,null,null)),(e()(),La(35,0,null,null,40,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(36,0,null,null,39,"form",[["class","form-horizontal form-material"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ml(e,38).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ml(e,38).onReset()&&i),i}),null,null)),jl(37,16384,null,0,Qb,[],null,null),jl(38,4210688,null,0,Yb,[[8,null],[8,null]],null,null),Wl(2048,null,$y,null,[Yb]),jl(40,16384,null,0,tb,[[4,$y]],null,null),(e()(),La(41,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(42,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean Ng\u01b0\u1eddi d\xf9ng"])),(e()(),La(44,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(45,0,[["fullname",1]],null,0,"input",[["class","form-control form-control-line"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(46,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xe0i kho\u1ea3n"])),(e()(),La(49,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(50,0,null,null,1,"p",[["class","form-control form-control-line"]],null,null,null,null,null)),(e()(),Ja(51,null,["",""])),(e()(),La(52,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(53,0,null,null,1,"label",[["class","col-md-12"],["for","example-email"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(55,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(56,0,[["email",1]],null,0,"input",[["class","form-control form-control-line"],["id","example-email"],["name","example-email"],["placeholder","example-email@gdental.com"],["type","email"]],[[8,"value",0]],null,null,null,null)),(e()(),La(57,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(58,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Password"])),(e()(),La(60,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(61,0,null,null,0,"input",[["class","form-control form-control-line"],["type","password"],["value","password"]],null,null,null,null,null)),(e()(),La(62,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(63,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Phone No"])),(e()(),La(65,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(66,0,[["phone",1]],null,0,"input",[["class","form-control form-control-line"],["placeholder","123 456 7890"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(67,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(68,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Message"])),(e()(),La(70,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(71,0,null,null,0,"textarea",[["class","form-control form-control-line"],["rows","5"]],null,null,null,null,null)),(e()(),La(72,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(73,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(74,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.updateUser(l.UserDetail.id,Ml(e,45).value,Ml(e,56).value,Ml(e,66).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"]))],(function(e,t){e(t,33,0,t.component.enableReset)}),(function(e,t){var n=t.component;e(t,10,0,n.UserDetail.is_docter?"B\xe1c s\u0129: "+n.UserDetail.name:n.UserDetail.name),e(t,36,0,Ml(t,40).ngClassUntouched,Ml(t,40).ngClassTouched,Ml(t,40).ngClassPristine,Ml(t,40).ngClassDirty,Ml(t,40).ngClassValid,Ml(t,40).ngClassInvalid,Ml(t,40).ngClassPending),e(t,45,0,n.UserDetail.name),e(t,51,0,n.UserDetail.username),e(t,56,0,n.UserDetail.email),e(t,66,0,n.UserDetail.phone)}))}var rX=ml("app-user-detail",tX,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-user-detail",[],null,null,null,lX,nX)),jl(1,245760,null,0,tX,[Gd,ip,Ly],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),aX=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},oX=n("Ju5/"),sX=function(){return oX.a.Date.now()},uX=oX.a.Symbol,cX=Object.prototype,hX=cX.hasOwnProperty,dX=cX.toString,fX=uX?uX.toStringTag:void 0,pX=Object.prototype.toString,vX=uX?uX.toStringTag:void 0,gX=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vX&&vX in Object(e)?function(e){var t=hX.call(e,fX),n=e[fX];try{e[fX]=void 0;var i=!0}catch(r){}var l=dX.call(e);return i&&(t?e[fX]=n:delete e[fX]),l}(e):function(e){return pX.call(e)}(e)},mX=function(e){return null!=e&&"object"==typeof e},yX=/^\s+|\s+$/g,bX=/^[-+]0x[0-9a-f]+$/i,kX=/^0b[01]+$/i,_X=/^0o[0-7]+$/i,wX=parseInt,xX=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||mX(e)&&"[object Symbol]"==gX(e)}(e))return NaN;if(aX(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=aX(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(yX,"");var n=kX.test(e);return n||_X.test(e)?wX(e.slice(2),n?2:8):bX.test(e)?NaN:+e},CX=Math.max,SX=Math.min,TX=function(e,t,n){var i=!0,l=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return aX(n)&&(i="leading"in n?!!n.leading:i,l="trailing"in n?!!n.trailing:l),function(e,t,n){var i,l,r,a,o,s,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=i,r=l;return i=l=void 0,u=t,a=e.apply(r,n)}function p(e){var n=e-s;return void 0===s||n>=t||n<0||h&&e-u>=r}function v(){var e=sX();if(p(e))return g(e);o=setTimeout(v,function(e){var n=t-(e-s);return h?SX(n,r-(e-u)):n}(e))}function g(e){return o=void 0,d&&i?f(e):(i=l=void 0,a)}function m(){var e=sX(),n=p(e);if(i=arguments,l=this,s=e,n){if(void 0===o)return function(e){return u=e,o=setTimeout(v,t),c?f(e):a}(s);if(h)return clearTimeout(o),o=setTimeout(v,t),f(s)}return void 0===o&&(o=setTimeout(v,t)),a}return t=xX(t)||0,aX(n)&&(c=!!n.leading,r=(h="maxWait"in n)?CX(xX(n.maxWait)||0,t):r,d="trailing"in n?!!n.trailing:d),m.cancel=function(){void 0!==o&&clearTimeout(o),u=0,i=s=l=o=void 0},m.flush=function(){return void 0===o?a:g(sX())},m}(e,t,{leading:i,maxWait:t,trailing:l})},PX=function(e,t){return e===t||e!=e&&t!=t},MX=function(e,t){for(var n=e.length;n--;)if(PX(e[n][0],t))return n;return-1},AX=Array.prototype.splice;function IX(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}IX.prototype.clear=function(){this.__data__=[],this.size=0},IX.prototype.delete=function(e){var t=this.__data__,n=MX(t,e);return!(n<0||(n==t.length-1?t.pop():AX.call(t,n,1),--this.size,0))},IX.prototype.get=function(e){var t=this.__data__,n=MX(t,e);return n<0?void 0:t[n][1]},IX.prototype.has=function(e){return MX(this.__data__,e)>-1},IX.prototype.set=function(e,t){var n=this.__data__,i=MX(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var EX,DX=IX,OX=function(e){if(!aX(e))return!1;var t=gX(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},FX=oX.a["__core-js_shared__"],RX=(EX=/[^.]+$/.exec(FX&&FX.keys&&FX.keys.IE_PROTO||""))?"Symbol(src)_1."+EX:"",NX=Function.prototype.toString,LX=function(e){if(null!=e){try{return NX.call(e)}catch(t){}try{return e+""}catch(t){}}return""},BX=/^\[object .+?Constructor\]$/,VX=Function.prototype,zX=Object.prototype,jX=RegExp("^"+VX.toString.call(zX.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),HX=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!aX(e)||(t=e,RX&&RX in t))&&(OX(e)?jX:BX).test(LX(e));var t}(n)?n:void 0},WX=HX(oX.a,"Map"),UX=HX(Object,"create"),YX=Object.prototype.hasOwnProperty,qX=Object.prototype.hasOwnProperty;function GX(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}GX.prototype.clear=function(){this.__data__=UX?UX(null):{},this.size=0},GX.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},GX.prototype.get=function(e){var t=this.__data__;if(UX){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return YX.call(t,e)?t[e]:void 0},GX.prototype.has=function(e){var t=this.__data__;return UX?void 0!==t[e]:qX.call(t,e)},GX.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=UX&&void 0===t?"__lodash_hash_undefined__":t,this};var XX=GX,KX=function(e,t){var n,i,l=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?l["string"==typeof t?"string":"hash"]:l.map};function $X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}$X.prototype.clear=function(){this.size=0,this.__data__={hash:new XX,map:new(WX||DX),string:new XX}},$X.prototype.delete=function(e){var t=KX(this,e).delete(e);return this.size-=t?1:0,t},$X.prototype.get=function(e){return KX(this,e).get(e)},$X.prototype.has=function(e){return KX(this,e).has(e)},$X.prototype.set=function(e,t){var n=KX(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var ZX=$X;function QX(e){var t=this.__data__=new DX(e);this.size=t.size}QX.prototype.clear=function(){this.__data__=new DX,this.size=0},QX.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},QX.prototype.get=function(e){return this.__data__.get(e)},QX.prototype.has=function(e){return this.__data__.has(e)},QX.prototype.set=function(e,t){var n=this.__data__;if(n instanceof DX){var i=n.__data__;if(!WX||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ZX(i)}return n.set(e,t),this.size=n.size,this};var JX=QX,eK=function(){try{var e=HX(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),tK=function(e,t,n){"__proto__"==t&&eK?eK(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},nK=Object.prototype.hasOwnProperty,iK=function(e,t,n){var i=e[t];nK.call(e,t)&&PX(i,n)&&(void 0!==n||t in e)||tK(e,t,n)},lK=function(e,t,n,i){var l=!n;n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r],s=i?i(n[o],e[o],o,n,e):void 0;void 0===s&&(s=e[o]),l?tK(n,o,s):iK(n,o,s)}return n},rK=function(e){return mX(e)&&"[object Arguments]"==gX(e)},aK=Object.prototype,oK=aK.hasOwnProperty,sK=aK.propertyIsEnumerable,uK=rK(function(){return arguments}())?rK:function(e){return mX(e)&&oK.call(e,"callee")&&!sK.call(e,"callee")},cK=Array.isArray,hK=n("WOAq"),dK=/^(?:0|[1-9]\d*)$/,fK=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&dK.test(e))&&e>-1&&e%1==0&&e<t},pK=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vK={};vK["[object Float32Array]"]=vK["[object Float64Array]"]=vK["[object Int8Array]"]=vK["[object Int16Array]"]=vK["[object Int32Array]"]=vK["[object Uint8Array]"]=vK["[object Uint8ClampedArray]"]=vK["[object Uint16Array]"]=vK["[object Uint32Array]"]=!0,vK["[object Arguments]"]=vK["[object Array]"]=vK["[object ArrayBuffer]"]=vK["[object Boolean]"]=vK["[object DataView]"]=vK["[object Date]"]=vK["[object Error]"]=vK["[object Function]"]=vK["[object Map]"]=vK["[object Number]"]=vK["[object Object]"]=vK["[object RegExp]"]=vK["[object Set]"]=vK["[object String]"]=vK["[object WeakMap]"]=!1;var gK=function(e){return function(t){return e(t)}},mK=n("xutz"),yK=mK.a&&mK.a.isTypedArray,bK=yK?gK(yK):function(e){return mX(e)&&pK(e.length)&&!!vK[gX(e)]},kK=Object.prototype.hasOwnProperty,_K=function(e,t){var n=cK(e),i=!n&&uK(e),l=!n&&!i&&Object(hK.a)(e),r=!n&&!i&&!l&&bK(e),a=n||i||l||r,o=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],s=o.length;for(var u in e)!t&&!kK.call(e,u)||a&&("length"==u||l&&("offset"==u||"parent"==u)||r&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||fK(u,s))||o.push(u);return o},wK=Object.prototype,xK=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||wK)},CK=function(e,t){return function(n){return e(t(n))}},SK=CK(Object.keys,Object),TK=Object.prototype.hasOwnProperty,PK=function(e){return null!=e&&pK(e.length)&&!OX(e)},MK=function(e){return PK(e)?_K(e):function(e){if(!xK(e))return SK(e);var t=[];for(var n in Object(e))TK.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},AK=Object.prototype.hasOwnProperty,IK=function(e){return PK(e)?_K(e,!0):function(e){if(!aX(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=xK(e),n=[];for(var i in e)("constructor"!=i||!t&&AK.call(e,i))&&n.push(i);return n}(e)},EK=n("3/ER"),DK=function(){return[]},OK=Object.prototype.propertyIsEnumerable,FK=Object.getOwnPropertySymbols,RK=FK?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,l=null==t?0:t.length,r=0,a=[];++i<l;){var o=t[i];OK.call(e,o)&&(a[r++]=o)}return a}(FK(e)))}:DK,NK=function(e,t){for(var n=-1,i=t.length,l=e.length;++n<i;)e[l+n]=t[n];return e},LK=CK(Object.getPrototypeOf,Object),BK=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)NK(t,RK(e)),e=LK(e);return t}:DK,VK=function(e,t,n){var i=t(e);return cK(e)?i:NK(i,n(e))},zK=function(e){return VK(e,MK,RK)},jK=function(e){return VK(e,IK,BK)},HK=HX(oX.a,"DataView"),WK=HX(oX.a,"Promise"),UK=HX(oX.a,"Set"),YK=HX(oX.a,"WeakMap"),qK=LX(HK),GK=LX(WX),XK=LX(WK),KK=LX(UK),$K=LX(YK),ZK=gX;(HK&&"[object DataView]"!=ZK(new HK(new ArrayBuffer(1)))||WX&&"[object Map]"!=ZK(new WX)||WK&&"[object Promise]"!=ZK(WK.resolve())||UK&&"[object Set]"!=ZK(new UK)||YK&&"[object WeakMap]"!=ZK(new YK))&&(ZK=function(e){var t=gX(e),n="[object Object]"==t?e.constructor:void 0,i=n?LX(n):"";if(i)switch(i){case qK:return"[object DataView]";case GK:return"[object Map]";case XK:return"[object Promise]";case KK:return"[object Set]";case $K:return"[object WeakMap]"}return t});var QK=ZK,JK=Object.prototype.hasOwnProperty,e$=oX.a.Uint8Array,t$=function(e){var t=new e.constructor(e.byteLength);return new e$(t).set(new e$(e)),t},n$=/\w*$/,i$=uX?uX.prototype:void 0,l$=i$?i$.valueOf:void 0,r$=Object.create,a$=function(){function e(){}return function(t){if(!aX(t))return{};if(r$)return r$(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),o$=mK.a&&mK.a.isMap,s$=o$?gK(o$):function(e){return mX(e)&&"[object Map]"==QK(e)},u$=mK.a&&mK.a.isSet,c$=u$?gK(u$):function(e){return mX(e)&&"[object Set]"==QK(e)},h$={};h$["[object Arguments]"]=h$["[object Array]"]=h$["[object ArrayBuffer]"]=h$["[object DataView]"]=h$["[object Boolean]"]=h$["[object Date]"]=h$["[object Float32Array]"]=h$["[object Float64Array]"]=h$["[object Int8Array]"]=h$["[object Int16Array]"]=h$["[object Int32Array]"]=h$["[object Map]"]=h$["[object Number]"]=h$["[object Object]"]=h$["[object RegExp]"]=h$["[object Set]"]=h$["[object String]"]=h$["[object Symbol]"]=h$["[object Uint8Array]"]=h$["[object Uint8ClampedArray]"]=h$["[object Uint16Array]"]=h$["[object Uint32Array]"]=!0,h$["[object Error]"]=h$["[object Function]"]=h$["[object WeakMap]"]=!1;var d$,f$=function(e,t){return function e(t,n,i,l,r,a){var o,s=1&n,u=2&n,c=4&n;if(i&&(o=r?i(t,l,r,a):i(t)),void 0!==o)return o;if(!aX(t))return t;var h=cK(t);if(h){if(o=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&JK.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(t,o)}else{var d=QK(t),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(Object(hK.a)(t))return Object(EK.a)(t,s);if("[object Object]"==d||"[object Arguments]"==d||f&&!r){if(o=u||f?{}:function(e){return"function"!=typeof e.constructor||xK(e)?{}:a$(LK(e))}(t),!s)return u?function(e,t){return lK(e,BK(e),t)}(t,function(e,t){return e&&lK(t,IK(t),e)}(o,t)):function(e,t){return lK(e,RK(e),t)}(t,function(e,t){return e&&lK(t,MK(t),e)}(o,t))}else{if(!h$[d])return r?t:{};o=function(e,t,n){var i,l,r=e.constructor;switch(t){case"[object ArrayBuffer]":return t$(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return function(e,t){var n=t?t$(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?t$(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return(l=new(i=e).constructor(i.source,n$.exec(i))).lastIndex=i.lastIndex,l;case"[object Set]":return new r;case"[object Symbol]":return l$?Object(l$.call(e)):{}}}(t,d,s)}}a||(a=new JX);var p=a.get(t);if(p)return p;a.set(t,o),c$(t)?t.forEach((function(l){o.add(e(l,n,i,l,t,a))})):s$(t)&&t.forEach((function(l,r){o.set(r,e(l,n,i,r,t,a))}));var v=c?u?jK:zK:u?keysIn:MK,g=h?void 0:v(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n););}(g||t,(function(l,r){g&&(l=t[r=l]),iK(o,r,e(l,n,i,r,t,a))})),o}(e,5,t="function"==typeof t?t:void 0)},p$=Function.prototype,v$=Object.prototype,g$=p$.toString,m$=v$.hasOwnProperty,y$=g$.call(Object);function b$(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=[e],i=new Set;n.length>0;){var l=n.shift();if(!(i.has(l)||k$(l)||t.has(l)))if(i.add(l),l[Symbol.iterator])try{var r=!0,a=!1,o=void 0;try{for(var s,u=l[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;n.push(c)}}catch(d){a=!0,o=d}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}catch(d){}else for(var h in l)"defaultValue"!==h&&n.push(l[h])}return i}function k$(e){var t=Object.prototype.toString.call(e),n=typeof e;return"number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==e||e instanceof EventTarget||e instanceof Event}var _$=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck2(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,i)))._editor=null,n._throttledSave=TX(n._save.bind(_assertThisInitialized(n)),"number"==typeof i.saveInterval?i.saveInterval:5e3),n._creator=function(t,n){return e.create(t,n)},n._destructor=function(e){return e.destroy()},n}return _inherits(t,e),_createClass2(t,[{key:"_restart",value:function(){var e=this;return Promise.resolve().then((function(){return e.state="initializing",e._fire("stateChange"),e._destroy()})).catch((function(e){console.error("An error happened during the editor destroying.",e)})).then((function(){if("string"==typeof e._elementOrData)return e.create(e._data,e._config,e._config.context);var t=Object.assign({},e._config,{initialData:e._data});return e.create(e._elementOrData,t,t.context)})).then((function(){e._fire("restart")}))}},{key:"create",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._elementOrData,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._config,l=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then((function(){return _get2(_getPrototypeOf2(t.prototype),"_startErrorHandling",e).call(e),e._elementOrData=n,e._config=e._cloneEditorConfiguration(i)||{},e._config.context=l,e._creator(n,e._config)})).then((function(t){e._editor=t,t.model.document.on("change:data",e._throttledSave),e._lastDocumentVersion=t.model.document.version,e._data=e._getData(),e.state="ready",e._fire("stateChange")}))}},{key:"destroy",value:function(){var e=this;return Promise.resolve().then((function(){return e.state="destroyed",e._fire("stateChange"),_get2(_getPrototypeOf2(t.prototype),"destroy",e).call(e),e._destroy()}))}},{key:"_destroy",value:function(){var e=this;return Promise.resolve().then((function(){e._stopErrorHandling(),e._throttledSave.flush();var t=e._editor;return e._editor=null,e._destructor(t)}))}},{key:"_save",value:function(){var e=this._editor.model.document.version;if(e!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(e){this._excludedProps=e}},{key:"_getData",value:function(){var e={},t=!0,n=!1,i=void 0;try{for(var l,r=this._editor.model.document.getRootNames()[Symbol.iterator]();!(t=(l=r.next()).done);t=!0){var a=l.value;e[a]=this._editor.data.get({rootName:a})}}catch(o){n=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return e}},{key:"_isErrorComingFromThisItem",value:function(e){return function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t&&"object"==typeof(n=e)&&null!==n)return!0;var l=b$(e,i),r=b$(t,i),a=!0,o=!1,s=void 0;try{for(var u,c=l[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value;if(r.has(h))return!0}}catch(d){o=!0,s=d}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return!1}(this._editor,e.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(e){return f$(e,(function(e,t){return function(e){return mX(e)&&1===e.nodeType&&!function(e){if(!mX(e)||"[object Object]"!=gX(e))return!1;var t=LK(e);if(null===t)return!0;var n=m$.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&g$.call(n)==y$}(e)}(e)?e:"context"===t?e:void 0}))}},{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}}]),t}(function(){function e(t){var n=this;if(_classCallCheck2(this,e),this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(e){var t=e.error||e.reason;t instanceof Error&&n._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return _createClass2(e,[{key:"setCreator",value:function(e){this._creator=e}},{key:"setDestructor",value:function(e){this._destructor=e}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}},{key:"off",value:function(e,t){this._listeners[e]=this._listeners[e].filter((function(e){return e!==t}))}},{key:"_fire",value:function(e){for(var t=this._listeners[e]||[],n=arguments.length,i=new Array(n>1?n-1:0),l=1;l<n;l++)i[l-1]=arguments[l];var r=!0,a=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;c.apply(this,[null].concat(i))}}catch(h){a=!0,o=h}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t.filename,lineno:t.lineno,colno:t.colno,date:this._now()});var n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(e){return e.is&&e.is("CKEditorError")&&null!=e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),e}());!function(e){e.EditorConstructor=function(){},e.Config=function(){},e.EventInfo=function(){},e.BaseEditor=function(){},e.DataApi=function(){},e.Editor=function(){},e.ContextWatchdog=function(){},e.EditorWatchdog=function(){},e.Watchdog=function(){}}(d$||(d$={}));var w$=new Array(256).fill(0).map((function(e,t){return("0"+t.toString(16)).slice(-2)})),x$=function(){function e(t,n){var i,l,r,a;_classCallCheck2(this,e),this.config={},this.data="",this.tagName="div",this.ready=new dr,this.change=new dr,this.blur=new dr,this.focus=new dr,this.error=new dr,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=(i=4294967296*Math.random()>>>0,l=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,a=4294967296*Math.random()>>>0,"e"+w$[i>>0&255]+w$[i>>8&255]+w$[i>>16&255]+w$[i>>24&255]+w$[l>>0&255]+w$[l>>8&255]+w$[l>>16&255]+w$[l>>24&255]+w$[r>>0&255]+w$[r>>8&255]+w$[r>>16&255]+w$[r>>24&255]+w$[a>>0&255]+w$[a>>8&255]+w$[a>>16&255]+w$[a>>24&255]),this.ngZone=n,this.elementRef=t}return _createClass2(e,[{key:"ngAfterViewInit",value:function(){this.attachToWatchdog()}},{key:"ngOnDestroy",value:function(){return OG(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.watchdog){e.next=5;break}return e.next=3,this.watchdog.remove(this.id);case 3:e.next=10;break;case 5:if(e.t0=this.editorWatchdog&&this.editorWatchdog.editor,!e.t0){e.next=10;break}return e.next=9,this.editorWatchdog.destroy();case 9:this.editorWatchdog=void 0;case 10:case"end":return e.stop()}}),e,this)})))}},{key:"writeValue",value:function(e){null===e&&(e=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(e),this.isEditorSettingData=!1):(this.data=e,this.editorElement&&(this.editorElement.innerHTML=this.data))}},{key:"registerOnChange",value:function(e){this.cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this.cvaOnTouched=e}},{key:"setDisabledState",value:function(e){this.editorInstance&&(this.editorInstance.isReadOnly=e),this.initiallyDisabled=e}},{key:"attachToWatchdog",value:function(){var e=this,t=function(t,n){return OG(e,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.ngZone.runOutsideAngular((function(){return OG(i,void 0,void 0,regeneratorRuntime.mark((function e(){var i,l=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.elementRef.nativeElement.appendChild(t),e.next=3,this.editor.create(t,n);case 3:return i=e.sent,e.abrupt("return",(this.initiallyDisabled&&(i.isReadOnly=this.initiallyDisabled),this.ngZone.run((function(){l.ready.emit(i)})),this.setUpEditorEvents(i),i));case 5:case"end":return e.stop()}}),e,this)})))})));case 1:case"end":return e.stop()}}),e,this)})))},n=function(t){return OG(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.destroy();case 2:this.elementRef.nativeElement.removeChild(this.editorElement);case 3:case"end":return e.stop()}}),e,this)})))},i=function(){e.ngZone.run((function(){e.error.emit()}))},l=document.createElement(this.tagName),r=this.getConfig();if(this.editorElement=l,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:n,sourceElementOrData:l,config:r}),this.watchdog.on("itemError",(function(t,n){n.itemId===e.id&&i()}));else{var a=new _$(this.editor);a.setCreator(t),a.setDestructor(n),a.on("error",i),this.editorWatchdog=a,this.editorWatchdog.create(l,r)}}},{key:"getConfig",value:function(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");return Object.assign({},this.config,{initialData:this.config.initialData||this.data||""})}},{key:"setUpEditorEvents",value:function(e){var t=this,n=e.editing.view.document;e.model.document.on("change:data",(function(n){t.ngZone.run((function(){if(t.cvaOnChange&&!t.isEditorSettingData){var i=e.getData();t.cvaOnChange(i)}t.change.emit({event:n,editor:e})}))})),n.on("focus",(function(n){t.ngZone.run((function(){t.focus.emit({event:n,editor:e})}))})),n.on("blur",(function(n){t.ngZone.run((function(){t.cvaOnTouched&&t.cvaOnTouched(),t.blur.emit({event:n,editor:e})}))}))}},{key:"disabled",set:function(e){this.setDisabledState(e)},get:function(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}},{key:"editorInstance",get:function(){var e=this.editorWatchdog;return this.watchdog&&(e=this.watchdog._watchdogs.get(this.id)),e?e.editor:null}}]),e}(),C$=function e(){_classCallCheck2(this,e)},S$=Ei({encapsulation:2,styles:[],data:{}});function T$(e){return no(0,[(e()(),Na(0,null,null,0))],null,null)}function P$(e){return no(0,[(e()(),Na(0,null,null,0,null,T$))],null,null)}var M$,A$=n("+z1p"),I$=function(){function e(t){_classCallCheck2(this,e),this.treatmentService=t,this.Editor=A$,this.ImageFile=null,this._p=1,this._total=0}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(){var e=this;this.subscription=this.treatmentService.getListTreatment(this._p).subscribe((function(t){e.treatment=t.results,e._total=t.count}))}},{key:"onImageSelected",value:function(e){e.length>0&&(this.ImageFile=e.item(0))}},{key:"onCreate",value:function(e){var t=this;this.subscription=this.treatmentService.createTreatment(e,this.detail,this.ImageFile).subscribe((function(e){ey.a.fire({title:"Success",text:"T\u1ea1o m\u1edbi th\xe0nh c\xf4ng",icon:"success"}),t.loadData()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"onDelete",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a lo\u1ea1i n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&t.treatmentService.deleteTreatment(e).subscribe((function(e){t.loadData(),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}))}},{key:"onChange",value:function(e){var t=e.editor;this.detail=t.getData()}},{key:"changePage",value:function(e){var t=this;this._p=e,this.subscription=this.treatmentService.getListTreatment(this._p).subscribe((function(e){t.treatment=e.results,t._total=e.count}))}}]),e}(),E$={headers:new ly({Authorization:"Bearer "+cs.token})},D$=((M$=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getListTreatment",value:function(e){return this.http.get("".concat(this.API,"/api/treatment/?page=").concat(e),E$)}},{key:"getListTreatmentNonePage",value:function(){return this.http.get("".concat(this.API,"/api/doctor_treatment/"),E$)}},{key:"getDetailTreatment",value:function(e){return this.http.get("".concat(this.API,"/api/treatment/").concat(e,"/"),E$)}},{key:"updateTreatment",value:function(e,t,n,i){console.log(i);var l=new FormData;return l.append("image",i,i.name),JSON.stringify({image:i}),this.http.patch("".concat(this.API,"/api/treatment/").concat(e,"/"),l,E$)}},{key:"createTreatment",value:function(e,t,n){var i=new FormData;return null!=n?i.append("image",n,n.name):i.append("image",n),i.append("name",e),i.append("detail",t),this.http.post("".concat(this.API,"/api/treatment/"),i,E$)}},{key:"deleteTreatment",value:function(e){return this.http.delete("".concat(this.API,"/api/treatment/").concat(e,"/"),E$)}}]),e}()).ngInjectableDef=De({factory:function(){return new M$(nt(by))},token:M$,providedIn:"root"}),M$),O$=Ei({encapsulation:0,styles:[[""]],data:{}});function F$(e){return no(0,[(e()(),La(0,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(2,0,null,null,0,"img",[["alt",""],["width","100%"]],[[8,"src",4]],null,null,null,null)),(e()(),La(3,0,null,null,2,"div",[["class","col-xs-2 col-sm-2 col-md-2 col-lg-2"]],null,null,null,null,null)),(e()(),La(4,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ja(5,null,[" "," "])),(e()(),La(6,0,null,null,1,"div",[["class","col-xs-5 col-sm-5 col-md-5 col-lg-5"]],null,null,null,null,null)),(e()(),La(7,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),La(8,0,null,null,6,"div",[["class","col-xs-1 col-sm-1 col-md-1 col-lg-1"]],null,null,null,null,null)),(e()(),La(9,0,null,null,3,"button",[["class","btn btn-primary"],["style","width: 100%;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,10).onClick()&&i),i}),null,null)),jl(10,16384,null,0,lp,[ip,Gd,[8,null],qn,Hn],{routerLink:[0,"routerLink"]},null),$a(11,2),(e()(),Ja(-1,null,["Chi ti\u1ebft"])),(e()(),La(13,0,null,null,1,"button",[["class","btn btn-danger"],["style","width: 100%;"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDelete(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],(function(e,t){var n=e(t,11,0,"./",t.context.$implicit.id);e(t,10,0,n)}),(function(e,t){e(t,2,0,ll(1,"",t.context.$implicit.image,"")),e(t,5,0,t.context.$implicit.name),e(t,7,0,t.context.$implicit.detail)}))}function R$(e){return no(0,[(e()(),La(0,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,21,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,20,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(7,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4"]],null,null,null,null,null)),(e()(),La(8,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(9,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(10,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(e()(),La(11,0,null,null,1,"button",[["class","btn btn-success"],["data-target","#addtreatment"],["data-toggle","modal"],["style","width: 20%;"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam"])),(e()(),Na(16777216,null,null,3,null,F$)),jl(14,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(15,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(17,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(18,0,null,null,0,"div",[["class","col-sm-4"]],null,null,null,null,null)),(e()(),La(19,0,null,null,2,"div",[["class","col-sm-4"]],null,null,null,null,null)),(e()(),La(20,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(21,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(22,0,null,null,0,"div",[["class","col-sm-4 text-right"]],null,null,null,null,null)),(e()(),La(23,0,null,null,31,"div",[["class","modal fade"],["id","addtreatment"],["role","dialog"]],null,null,null,null,null)),(e()(),La(24,0,null,null,30,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(25,0,null,null,29,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(26,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(27,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(28,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(29,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam nh\xf3m d\u1ecbch v\u1ee5"])),(e()(),La(31,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(32,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(33,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(34,0,null,null,17,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(35,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(36,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(e()(),La(38,0,[["addname",1]],null,0,"input",[["class","form-control"],["type","text"]],null,null,null,null,null)),(e()(),La(39,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(40,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\xecnh \u1ea3nh"])),(e()(),La(42,0,null,null,0,"input",[["class","form-control form-control-line"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onImageSelected(n.target.files)&&i),i}),null,null)),(e()(),La(43,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(44,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft"])),(e()(),La(46,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),La(47,0,null,null,2,"ckeditor",[],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChange(n)&&i),i}),P$,S$)),Wl(5120,null,Yy,(function(e){return[e]}),[x$]),jl(49,4374528,null,0,x$,[Hn,Qr],{editor:[0,"editor"]},{change:"change"}),(e()(),La(50,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCreate(Ml(e,38).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Ho\xe0n th\xe0nh"])),(e()(),La(52,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(53,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"]))],(function(e,t){var n=t.component,i=Mi(t,14,0,Ml(t,16).transform(n.treatment,e(t,15,0,10,n._p,n._total)));e(t,14,0,i),e(t,49,0,n.Editor)}),null)}var N$=ml("app-treatment",I$,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-treatment",[],null,null,null,R$,O$)),jl(1,245760,null,0,I$,[D$],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),L$={headers:new ly({Authorization:"Bearer "+cs.token})},B$=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.activatedRouterService=t,this.routerService=n,this.treatmentService=i,this.http=l,this.Editor=A$,this.content=".",this.TreatmentDetail={id:0,name:"loading",image:"loading",detail:"loading"},this.ImageFile=null,this.API=cs.urlApi}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;this.subscriptionParams=this.activatedRouterService.params.subscribe((function(t){e.subscription=e.treatmentService.getDetailTreatment(t.id).subscribe((function(t){e.TreatmentDetail=t,e.content=t.detail}))}))}},{key:"onUpdate",value:function(e,t){var n=this,i=new FormData;null!=this.ImageFile&&i.append("image",this.ImageFile,this.ImageFile.name),i.append("name",t),i.append("detail",this.detail),this.http.patch("".concat(this.API,"/api/treatment/").concat(e,"/"),i,L$).subscribe((function(e){ey.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"}),n.loadData()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"onChange",value:function(e){var t=e.editor;this.detail=t.getData()}},{key:"onImageSelected",value:function(e){e.length>0&&(this.ImageFile=e.item(0))}}]),e}(),V$=Ei({encapsulation:0,styles:[[""]],data:{}});function z$(e){return no(0,[(e()(),La(0,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,32,"div",[["class","col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,31,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,30,"form",[["class","form-horizontal form-material"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ml(e,5).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ml(e,5).onReset()&&i),i}),null,null)),jl(4,16384,null,0,Qb,[],null,null),jl(5,4210688,null,0,Yb,[[8,null],[8,null]],null,null),Wl(2048,null,$y,null,[Yb]),jl(7,16384,null,0,tb,[[4,$y]],null,null),(e()(),La(8,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(e()(),La(11,0,null,null,1,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(12,0,[["nametreatment",1]],null,0,"input",[["class","form-control form-control-line"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(13,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(14,0,null,null,1,"label",[["class","col-md-12"],["for","example-email"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\xecnh \u1ea3nh"])),(e()(),La(16,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(17,0,[["image",1]],null,0,"img",[["alt",""],["height","100%"],["width","100%"]],[[8,"src",4]],null,null,null,null)),(e()(),La(18,0,null,null,0,"input",[["class","form-control form-control-line"],["type","file"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onImageSelected(n.target.files)&&i),i}),null,null)),(e()(),La(19,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(20,0,null,null,1,"label",[["class","col-md-12"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft"])),(e()(),La(22,0,null,null,7,"div",[["class","col-md-12"]],null,null,null,null,null)),(e()(),La(23,0,null,null,6,"ckeditor",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"ngModelChange"]],(function(e,t,n){var i=!0,l=e.component;return"change"===t&&(i=!1!==l.onChange(n)&&i),"ngModelChange"===t&&(i=!1!==(l.content=n)&&i),i}),P$,S$)),jl(24,4374528,null,0,x$,[Hn,Qr],{editor:[0,"editor"],data:[1,"data"]},{change:"change"}),Wl(1024,null,Yy,(function(e){return[e]}),[x$]),jl(26,671744,null,0,Zb,[[2,$y],[8,null],[8,null],[6,Yy]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),Za(27,{standalone:0}),Wl(2048,null,Qy,null,[Zb]),jl(29,16384,null,0,eb,[[4,Qy]],null,null),(e()(),La(30,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(31,0,null,null,2,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(32,0,null,null,1,"button",[["class","btn btn-success"]],null,[[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.onUpdate(l.TreatmentDetail.id,Ml(e,12).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"]))],(function(e,t){var n=t.component;e(t,24,0,n.Editor,ll(1,"",n.TreatmentDetail.detail,""));var i=n.content,l=e(t,27,0,!0);e(t,26,0,i,l)}),(function(e,t){var n=t.component;e(t,3,0,Ml(t,7).ngClassUntouched,Ml(t,7).ngClassTouched,Ml(t,7).ngClassPristine,Ml(t,7).ngClassDirty,Ml(t,7).ngClassValid,Ml(t,7).ngClassInvalid,Ml(t,7).ngClassPending),e(t,12,0,n.TreatmentDetail.name),e(t,17,0,ll(1,"",n.TreatmentDetail.image,"")),e(t,23,0,Ml(t,29).ngClassUntouched,Ml(t,29).ngClassTouched,Ml(t,29).ngClassPristine,Ml(t,29).ngClassDirty,Ml(t,29).ngClassValid,Ml(t,29).ngClassInvalid,Ml(t,29).ngClassPending)}))}var j$,H$=ml("app-treatment-detail",B$,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-treatment-detail",[],null,null,null,z$,V$)),jl(1,114688,null,0,B$,[Gd,ip,D$,by],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),W$=function(){function e(t,n,i){_classCallCheck2(this,e),this.serviceService=t,this.treatmentService=n,this.adminService=i,this.Editor=A$,this.id_service=0,this.name_service="",this.ServiceDetail={id:0,name:"loading...",cost:"loading...",unit:"loading...",guarantee:"loading..."},this.unit="r\u0103ng",this._p=1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(){var e=this;this.subscription=this.serviceService.getListService(this._p).subscribe((function(t){e.service=t.results,e._total=t.count})),this.subscription=this.treatmentService.getListTreatmentNonePage().subscribe((function(t){e.treatment=t}))}},{key:"detailService",value:function(e){var t=this;this.subscription=this.serviceService.getDetailService(e).subscribe((function(e){t.ServiceDetail=e,console.log(t.ServiceDetail)}))}},{key:"onUpdateService",value:function(e,t,n,i){var l=this;try{i=parseInt(i)}catch(r){i=null}this.subscription=this.serviceService.updateService(e,t,n,i).subscribe((function(e){l.loadData(),l.ServiceDetail={id:0,name:"loading...",cost:null,unit:"loading...",guarantee:null}}))}},{key:"onChangeUnit",value:function(e){this.unit=e.target.value}},{key:"onCreateService",value:function(e,t,n,i){var l=this;this.subscription=this.serviceService.createService(e,t,this.unit,n,i).subscribe((function(e){l.loadData(),ey.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"}),document.getElementById("servicename").value="",document.getElementById("servicecost").value="",document.getElementById("serviceguarantee").value=""}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"onDeleteService",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a d\u1ecbch v\u1ee5 n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&(t.subscription=t.serviceService.deleteService(e).subscribe((function(e){t.loadData(),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")})))}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.serviceService.getListService(this._p).subscribe((function(e){t.service=e.results}),(function(e){console.log(e)}))}},{key:"updateCost",value:function(e,t){var n=this;this.subscription=this.serviceService.updateCostService(e,t).subscribe((function(e){n.loadData(),n.ServiceDetail={id:0,name:"loading...",cost:null,unit:"loading...",guarantee:null}}))}},{key:"editHistory",value:function(e){var t=this;this.serviceService.getServiceHistory(e).subscribe((function(e){t.serviceHistory=e.results}),(function(e){ey.a.fire({title:"Error!",text:"Kh\xf4ng th\u1ec3 t\u1ea3i th\xf4ng tin",icon:"error",confirmButtonText:"Cool"})}))}},{key:"onChange",value:function(e){var t=e.editor;console.log(this.detail),this.detail=t.getData()}},{key:"onAddDiscount",value:function(e,t){this.id_service=e,this.name_service=t}},{key:"createDiscount",value:function(e,t,n){this.adminService.createDiscount(this.id_service,e,t,n,this.detail).subscribe((function(e){ey.a.fire("Th\xe0nh c\xf4ng!","\u0110\xe3 t\u1ea1o khuy\u1ebfn m\xe3i th\xe0nh c\xf4ng","success")}),(function(e){ey.a.fire({title:"Error!",text:"Kh\xf4ng th\u1ec3 t\u1ea1o khuy\u1ebfn m\xe3i",icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),U$={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},Y$=((j$=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getListService",value:function(e){return this.http.get("".concat(this.API,"/api/service/?page=").concat(e),U$)}},{key:"getDetailService",value:function(e){return this.http.get("".concat(this.API,"/api/service/").concat(e,"/"),U$)}},{key:"updateService",value:function(e,t,n,i){var l=JSON.stringify({name:t,guarantee:i});return this.http.patch("".concat(this.API,"/api/service/").concat(e,"/"),l,U$)}},{key:"updateCostService",value:function(e,t){var n=JSON.stringify({cost:t});return this.http.patch("".concat(this.API,"/api/service/").concat(e,"/"),n,U$)}},{key:"createService",value:function(e,t,n,i,l){var r=JSON.stringify({name:e,cost:t,unit:n,treatment:l});return this.http.post("".concat(this.API,"/api/service/"),r,U$)}},{key:"deleteService",value:function(e){return this.http.delete("".concat(this.API,"/api/service/").concat(e,"/"),U$)}},{key:"getServiceHistory",value:function(e){return this.http.get("".concat(this.API,"/api/service/history/?source_key=").concat(e),U$)}}]),e}()).ngInjectableDef=De({factory:function(){return new j$(nt(by))},token:j$,providedIn:"root"}),j$),q$=Ei({encapsulation:0,styles:[[".dp-inline[_ngcontent-%COMP%]{display:inline!important}"]],data:{}});function G$(e){return no(0,[(e()(),La(0,0,null,null,19,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(8,null,["",""])),(e()(),La(9,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(10,null,["",""])),(e()(),La(11,0,null,null,1,"td",[["data-target","#detailservice"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.detailService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(12,null,["",""])),(e()(),La(13,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),La(14,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#addDiscount"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onAddDiscount(e.context.$implicit.id,e.context.$implicit.name)&&i),i}),null,null)),(e()(),Ja(-1,null,["Khuy\u1ebfn m\xe3i"])),(e()(),La(16,0,null,null,1,"button",[["class","btn btn-warning"],["data-target","#servicehistory"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.editHistory(e.context.$implicit.source_key)&&i),i}),null,null)),(e()(),Ja(-1,null,["L\u1ecbch s\u1eed"])),(e()(),La(18,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDeleteService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],null,(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.cost),e(t,8,0,t.context.$implicit.unit),e(t,10,0,t.context.$implicit.guarantee),e(t,12,0,t.context.$implicit.treatment.name)}))}function X$(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit.id,"")),e(t,2,0,ll(1,"",t.context.$implicit.id,""))}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function K$(e){return no(0,[(e()(),La(0,0,null,null,1,"td",[["class","text-danger"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 x\xf3a"]))],null,null)}function $$(e){return no(0,[(e()(),La(0,0,null,null,1,"td",[["class","text-info"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Hi\u1ec7n t\u1ea1i"]))],null,null)}function Z$(e){return no(0,[(e()(),La(0,0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,["",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,["",""])),(e()(),Na(16777216,null,null,1,null,K$)),jl(12,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NoneDeleted",2]],null,0,null,$$))],(function(e,t){e(t,12,0,t.context.$implicit.is_deleted,Ml(t,13))}),(function(e,t){e(t,2,0,t.context.$implicit.id),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.cost),e(t,8,0,t.context.$implicit.unit),e(t,10,0,t.context.$implicit.create_at)}))}function Q$(e){return no(0,[(e()(),La(0,0,null,null,49,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,48,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,47,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(7,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(8,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(9,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(e()(),La(11,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(13,0,null,null,36,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(14,0,null,null,27,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(15,0,null,null,21,"thead",[],null,null,null,null,null)),(e()(),La(16,0,null,null,20,"tr",[],null,null,null,null,null)),(e()(),La(17,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["# "])),(e()(),La(19,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(e()(),La(20,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean d\u1ecbch v\u1ee5 "])),(e()(),La(22,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(e()(),La(23,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\xe1 "])),(e()(),La(25,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(e()(),La(26,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u01a1n v\u1ecb "])),(e()(),La(28,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(e()(),La(29,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["B\u1ea3o h\xe0nh "])),(e()(),La(31,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(e()(),La(32,0,null,null,2,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5 "])),(e()(),La(34,0,null,null,0,"i",[["aria-hidden","true"],["class","fa  fa-sort"]],null,null,null,null,null)),(e()(),La(35,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(37,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,G$)),jl(39,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(40,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(42,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(43,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(44,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(45,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(46,0,null,null,2,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#addservice"],["data-toggle","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam d\u1ecbch v\u1ee5"])),(e()(),La(49,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null)),(e()(),La(50,0,null,null,34,"div",[["class","modal fade"],["id","detailservice"],["role","dialog"]],null,null,null,null,null)),(e()(),La(51,0,null,null,33,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(52,0,null,null,32,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(53,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(54,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(55,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(56,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ch\u1ec9nh s\u1eeda"])),(e()(),La(58,0,null,null,23,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(59,0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(60,0,null,null,21,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(61,0,null,null,20,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(62,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(63,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean d\u1ecbch v\u1ee5"])),(e()(),La(65,0,[["servicename",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(66,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(67,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\xe1"])),(e()(),La(69,0,[["price",1]],null,0,"input",[["class","form-control dp-inline"],["min","1000"],["placeholder","\u0110ang t\u1ea3i..."],["type","number"]],[[8,"value",0]],null,null,null,null)),(e()(),La(70,0,null,null,1,"button",[["class","btn btn-md btn-primary dp-inline"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.updateCost(l.ServiceDetail.id,Ml(e,69).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt gi\xe1"])),(e()(),La(72,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(73,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u01a1n v\u1ecb"])),(e()(),La(75,0,[["unit",1]],null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(76,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(77,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["B\u1ea3o h\xe0nh"])),(e()(),La(79,0,[["guarantee",1]],null,0,"input",[["class","form-control"],["max","36"],["min","0"],["placeholder","Ch\u01b0a c\u1eadp nh\u1eadt"],["type","number"]],[[8,"value",0]],null,null,null,null)),(e()(),La(80,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0,l=e.component;return"click"===t&&(i=!1!==l.onUpdateService(l.ServiceDetail.id,Ml(e,65).value,Ml(e,69).value,Ml(e,79).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(82,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(83,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"])),(e()(),La(85,0,null,null,45,"div",[["class","modal fade"],["id","addservice"],["role","dialog"]],null,null,null,null,null)),(e()(),La(86,0,null,null,44,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(87,0,null,null,43,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(88,0,null,null,4,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(89,0,null,null,3,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(90,0,null,null,2,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),La(91,0,null,null,1,"button",[["class","btn btn-outline-info"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ch\u1ec9nh s\u1eeda"])),(e()(),La(93,0,null,null,34,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(94,0,null,null,33,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(95,0,null,null,32,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(96,0,null,null,31,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(97,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(98,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean d\u1ecbch v\u1ee5"])),(e()(),La(100,0,[["addname",1]],null,0,"input",[["class","form-control"],["id","servicename"],["type","text"]],null,null,null,null,null)),(e()(),La(101,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(102,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\xe1"])),(e()(),La(104,0,[["addcost",1]],null,0,"input",[["class","form-control"],["id","servicecost"],["type","number"]],null,null,null,null,null)),(e()(),La(105,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(106,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u01a1n v\u1ecb"])),(e()(),La(108,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(109,0,null,null,0,"input",[["checked",""],["name","unit"],["type","radio"],["value","r\u0103ng"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeUnit(n)&&i),i}),null,null)),(e()(),Ja(-1,null,["R\u0103ng "])),(e()(),La(111,0,null,null,0,"input",[["name","unit"],["type","radio"],["value","tr\u1ee5"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeUnit(n)&&i),i}),null,null)),(e()(),Ja(-1,null,[" Tr\u1ee5 "])),(e()(),La(113,0,null,null,0,"input",[["name","unit"],["type","radio"],["value","h\xe0m"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChangeUnit(n)&&i),i}),null,null)),(e()(),Ja(-1,null,[" H\xe0m "])),(e()(),La(115,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(116,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["B\u1ea3o h\xe0nh"])),(e()(),La(118,0,[["addguarantee",1]],null,0,"input",[["class","form-control"],["id","serviceguarantee"],["type","number"]],null,null,null,null,null)),(e()(),La(119,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(120,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xf3m d\u1ecbch v\u1ee5"])),(e()(),La(122,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(123,0,[["selectgrp",1]],null,2,"select",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,X$)),jl(125,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(126,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onCreateService(Ml(e,100).value,Ml(e,104).value,Ml(e,118).value,Ml(e,123).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Th\xeam d\u1ecbch v\u1ee5"])),(e()(),La(128,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(129,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"])),(e()(),La(131,0,null,null,32,"div",[["class","modal fade"],["id","servicehistory"],["role","dialog"]],null,null,null,null,null)),(e()(),La(132,0,null,null,31,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(133,0,null,null,30,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(134,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(135,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(136,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" L\u1ecbch s\u1eed ch\u1ec9nh s\u1eeda gi\xe1 d\u1ecbch v\u1ee5 "])),(e()(),La(138,0,null,null,22,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(139,0,null,null,21,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(140,0,null,null,20,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(141,0,null,null,19,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(142,0,null,null,18,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(143,0,null,null,17,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(144,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),La(145,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),La(146,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["M\xe3 d\u1ecbch v\u1ee5"])),(e()(),La(148,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean d\u1ecbch v\u1ee5 "])),(e()(),La(150,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\xe1 "])),(e()(),La(152,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u01a1n v\u1ecb"])),(e()(),La(154,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y t\u1ea1o"])),(e()(),La(156,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xecnh tr\u1ea1ng"])),(e()(),La(158,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,Z$)),jl(160,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(161,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(162,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"])),(e()(),La(164,0,null,null,38,"div",[["class","modal fade"],["id","addDiscount"],["role","dialog"]],null,null,null,null,null)),(e()(),La(165,0,null,null,37,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(166,0,null,null,36,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(167,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(168,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),La(169,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Th\xf4ng tin khuy\u1ebfn m\xe3i "])),(e()(),La(171,0,null,null,28,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(172,0,null,null,27,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(173,0,null,null,26,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(174,0,null,null,25,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(175,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(176,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5 khuy\u1ebfn m\xe3i"])),(e()(),La(178,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(179,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(180,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u1ed1 ti\u1ec1n"])),(e()(),La(182,0,[["amount",1]],null,0,"input",[["class","form-control"],["type","number"]],null,null,null,null,null)),(e()(),La(183,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(184,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y khuy\u1ebfn m\xe3i"])),(e()(),La(186,0,[["startdate",1]],null,0,"input",[["class","form-control"],["type","date"]],null,null,null,null,null)),(e()(),La(187,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(188,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y k\u1ebft th\xfac"])),(e()(),La(190,0,[["enddate",1]],null,0,"input",[["class","form-control"],["type","date"]],null,null,null,null,null)),(e()(),La(191,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(192,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft"])),(e()(),La(194,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),La(195,0,null,null,2,"ckeditor",[],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onChange(n)&&i),i}),P$,S$)),Wl(5120,null,Yy,(function(e){return[e]}),[x$]),jl(197,4374528,null,0,x$,[Hn,Qr],{editor:[0,"editor"]},{change:"change"}),(e()(),La(198,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.createDiscount(Ml(e,182).value,Ml(e,186).value,Ml(e,190).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Th\xeam khuy\u1ebfn m\xe3i"])),(e()(),La(200,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(201,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"]))],(function(e,t){var n=t.component,i=Mi(t,39,0,Ml(t,41).transform(n.service,e(t,40,0,10,n._p,n._total)));e(t,39,0,i),e(t,125,0,n.treatment),e(t,160,0,n.serviceHistory),e(t,197,0,n.Editor)}),(function(e,t){var n=t.component;e(t,65,0,n.ServiceDetail.name),e(t,69,0,n.ServiceDetail.cost),e(t,75,0,n.ServiceDetail.unit),e(t,79,0,n.ServiceDetail.guarantee),e(t,178,0,ll(1,"",n.name_service,""))}))}var J$=ml("app-service",W$,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-service",[],null,null,null,Q$,q$)),jl(1,245760,null,0,W$,[Y$,D$,HG],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),eZ=function(){function e(t){_classCallCheck2(this,e),this.adminService=t,this.Editor=A$,this._p=1,this.is_NoLoad=!0}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData(1)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(e){var t=this;this._p=e,this.subscription=this.adminService.getListDiscount(this._p).subscribe((function(e){t.Discount=e.results,t._total=e.count,console.log(e)}),(function(e){console.log(e)}))}},{key:"changePage",value:function(e){this.loadData(e)}},{key:"onSelectDiscount",value:function(e){}},{key:"onDeleteService",value:function(e){}},{key:"onSendPromotion",value:function(e,t){var n=this;this.is_NoLoad=!1,this.adminService.sendPromotionToEmail(e,t).subscribe((function(e){n.is_NoLoad=!0}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),tZ=Ei({encapsulation:0,styles:[[".loader[_ngcontent-%COMP%]{border:4px solid #f3f3f3;border-radius:50%;border-top:4px solid #00f;width:20px;height:20px;-webkit-animation:1s linear infinite spin;animation:1s linear infinite spin}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"]],data:{}});function nZ(e){return no(0,[(e()(),La(0,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSendPromotion(e.parent.context.$implicit.discount_in_service[0].name,e.parent.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["Email th\xf4ng b\xe1o"]))],null,null)}function iZ(e){return no(0,[(e()(),La(0,0,null,null,0,"div",[["class","loader"]],null,null,null,null,null))],null,null)}function lZ(e){return no(0,[(e()(),La(0,0,null,null,21,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,["",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,["",""])),(e()(),La(11,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),La(12,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null)),(e()(),La(13,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,nZ)),jl(15,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NoneLoad",2]],null,0,null,iZ)),(e()(),La(17,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),La(18,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSelectDiscount(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["Ch\u1ec9nh s\u1eeda"])),(e()(),La(20,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDeleteService(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],(function(e,t){e(t,15,0,t.component.is_NoLoad,Ml(t,16))}),(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.discount_in_service[0].name),e(t,6,0,t.context.$implicit.amount),e(t,8,0,t.context.$implicit.from_date),e(t,10,0,t.context.$implicit.to_date),e(t,12,0,t.context.$implicit.detail)}))}function rZ(e){return no(0,[(e()(),La(0,0,null,null,43,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,42,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,41,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(7,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(8,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(9,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,null,null,null,null)),(e()(),La(11,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"],["type","submit"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(13,0,null,null,30,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(14,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(15,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),La(16,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["# "])),(e()(),La(19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean d\u1ecbch v\u1ee5 "])),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Khuy\u1ebfn m\xe3i "])),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1eeb ng\xe0y "])),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u1ebfn ng\xe0y "])),(e()(),La(27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft "])),(e()(),La(29,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["G\u1eedi email"])),(e()(),La(31,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(33,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,lZ)),jl(35,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(36,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(38,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(39,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(40,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(41,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(42,0,null,null,0,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(e()(),La(43,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null))],(function(e,t){var n=t.component,i=Mi(t,35,0,Ml(t,37).transform(n.Discount,e(t,36,0,10,n._p,n._total)));e(t,35,0,i)}),null)}var aZ=ml("app-discount",eZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-discount",[],null,null,null,rZ,tZ)),jl(1,245760,null,0,eZ,[HG],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),oZ=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}(),sZ=Ei({encapsulation:0,styles:[[""]],data:{}});function uZ(e){return no(0,[(e()(),La(0,0,null,null,19,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,18,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,17,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,13,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,10,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,9,"nav",[],null,null,null,null,null)),(e()(),La(6,0,null,null,8,"div",[["class","nav nav-tabs"],["id","nav-tab"],["role","tablist"]],null,null,null,null,null)),(e()(),La(7,0,null,null,3,"p",[["aria-controls","nav-home"],["aria-selected","true"],["class","nav-item nav-link cls-pointer active"],["data-toggle","tab"],["id","nav-home-tab"],["role","tab"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,8).onClick()&&i),i}),null,null)),jl(8,16384,null,0,lp,[ip,Gd,[8,null],qn,Hn],{routerLink:[0,"routerLink"]},null),$a(9,1),(e()(),Ja(-1,null,["B\u1ea3ng"])),(e()(),La(11,0,null,null,3,"p",[["aria-controls","nav-profile"],["aria-selected","false"],["class","nav-item nav-link cls-pointer"],["data-toggle","tab"],["id","nav-profile-tab"],["role","tab"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,12).onClick()&&i),i}),null,null)),jl(12,16384,null,0,lp,[ip,Gd,[8,null],qn,Hn],{routerLink:[0,"routerLink"]},null),$a(13,1),(e()(),Ja(-1,null,["L\u1ecbch"])),(e()(),La(15,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(16,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(17,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(18,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(19,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null)],(function(e,t){var n=e(t,9,0,"./");e(t,8,0,n);var i=e(t,13,0,"./scheduler");e(t,12,0,i),e(t,19,0)}),null)}var cZ=ml("app-admin-schedule",oZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-admin-schedule",[],null,null,null,uZ,sZ)),jl(1,114688,null,0,oZ,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),hZ=function(){function e(t){_classCallCheck2(this,e),this.adminService=t,this.Schedule=[],this._p=1,this.ScheduleDetail={name:"loading",email:"loading",phone:"loading",date:"loading",time:"loading",note:"loading"},this.listFreeTime=["8:00","9:00","10:00","11:00","13:00","14:00","15:00","16:00"],this.options=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData(1)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(e){var t=this;this._p=e,this.subscription=this.adminService.getScheduleByTime(this._p).subscribe((function(e){t.Schedule=e.results,t._total=e.count}))}},{key:"getScheduleDetail",value:function(e,t){var n=this;this.ScheduleDetail=this.Schedule[t],this.subscription=this.adminService.getFreeTimeList(this.ScheduleDetail.date).subscribe((function(e){n.listFreeTime=e}),(function(e){console.log(e)}))}},{key:"onPickDate",value:function(e){var t=this;this.subscription=this.adminService.getFreeTimeList(e).subscribe((function(e){t.listFreeTime=e}),(function(e){console.log(e)}))}},{key:"onUpdateSchedule",value:function(e,t,n,i,l,r){var a=this;this.subscription=this.adminService.updateSchedule(this.ScheduleDetail.id,e,t,n,i,l,r).subscribe((function(e){a.loadData(1),ey.a.fire({title:"Success",text:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",icon:"success"})}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"changeOption",value:function(e){this.options=e,e?this.loadToday(1):this.loadData(1)}},{key:"loadToday",value:function(e){var t=this;this._p=e,this.adminService.getScheduleToday(this._p).subscribe((function(e){t.Schedule=e.results,t._total=e.count}),(function(e){console.log(e)}))}},{key:"changePage",value:function(e){this._p=e,this.options?this.loadToday(this._p):this.loadData(this._p)}},{key:"deleteSchedule",value:function(e){var t=this;ey.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a \u0111\u0103ng k\xfd n\xe0y?",text:"B\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 ph\u1ee5c h\u1ed3i l\u1ea1i",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"X\xe1c nh\u1eadn",cancelButtonText:"H\u1ee7y"}).then((function(n){n.value&&t.adminService.deleteSchedule(e).subscribe((function(e){t.loadData(1),ey.a.fire("\u0110\xe3 x\xf3a!","X\xf3a th\xe0nh c\xf4ng.","success")}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}))}}]),e}(),dZ=Ei({encapsulation:0,styles:[[""]],data:{}});function fZ(e){return no(0,[(e()(),La(0,0,null,null,19,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,[" "," "])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,[" "," "," "])),(e()(),La(11,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(12,null,[" ",""])),(e()(),La(13,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(14,null,[" "," "])),(e()(),La(15,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),La(16,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#ModalSchedule"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getScheduleDetail(e.context.$implicit.id,e.context.index)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(18,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteSchedule(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],null,(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.is_reexam?t.context.$implicit.pre_examination.patient.name:t.context.$implicit.name),e(t,6,0,t.context.$implicit.is_reexam?t.context.$implicit.pre_examination.patient.email:t.context.$implicit.email),e(t,8,0,t.context.$implicit.is_reexam?t.context.$implicit.pre_examination.patient.phone:t.context.$implicit.phone),e(t,10,0,t.context.$implicit.date,t.context.$implicit.time),e(t,12,0,t.context.$implicit.is_reexam?t.context.$implicit.detail:t.context.$implicit.message),e(t,14,0,t.context.$implicit.note)}))}function pZ(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit,"")),e(t,2,0,ll(1,"",t.context.$implicit,""))}),(function(e,t){e(t,3,0,t.context.$implicit)}))}function vZ(e){return no(0,[(e()(),La(0,0,null,null,47,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,46,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,45,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,15,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-2 col-lg-2"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch kh\xe1m"])),(e()(),La(7,0,null,null,8,"div",[["class","col-xs-4 col-sm-4 col-md-6 col-lg-6"]],null,null,null,null,null)),(e()(),La(8,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(e()(),La(9,0,null,null,0,"input",[["class","form-check-input"],["id","inlineRadio1"],["name","inlineRadioOptions"],["type","radio"],["value","option1"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeOption(!0)&&i),i}),null,null)),(e()(),La(10,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio1"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\xf4m nay"])),(e()(),La(12,0,null,null,3,"div",[["class","form-check form-check-inline"]],null,null,null,null,null)),(e()(),La(13,0,null,null,0,"input",[["checked",""],["class","form-check-input"],["id","inlineRadio2"],["name","inlineRadioOptions"],["type","radio"],["value","option2"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.changeOption(!1)&&i),i}),null,null)),(e()(),La(14,0,null,null,1,"label",[["class","form-check-label"],["for","inlineRadio2"]],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ea5t c\u1ea3"])),(e()(),La(16,0,null,null,2,"div",[["class","col-xs-4 col-sm-4 col-md-4 col-lg-4 text-right"]],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"button",[["class","btn btn-success"],["data-target","#addtreatment"],["data-toggle","modal"],["style","width: 20%;"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xeam"])),(e()(),La(19,0,null,null,28,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(20,0,null,null,23,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(21,0,null,null,17,"thead",[],null,null,null,null,null)),(e()(),La(22,0,null,null,16,"tr",[],null,null,null,null,null)),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(29,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u0110T"])),(e()(),La(31,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\u1eddi gian"])),(e()(),La(33,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Tin nh\u1eafn"])),(e()(),La(35,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(37,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(39,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,fZ)),jl(41,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(42,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(44,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(45,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(46,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(47,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(48,0,null,null,49,"div",[["class","modal fade"],["id","ModalSchedule"],["role","dialog"]],null,null,null,null,null)),(e()(),La(49,0,null,null,48,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(50,0,null,null,47,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(51,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(52,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(53,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Th\xf4ng tin "])),(e()(),La(55,0,null,null,39,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(56,0,null,null,38,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(57,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(58,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(59,0,null,null,34,"div",[["class","col-xs-8 col-sm-8 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),La(60,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(61,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(63,0,[["name",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(64,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(65,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Email"])),(e()(),La(67,0,[["email",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(68,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(69,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u0110T"])),(e()(),La(71,0,[["phone",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(72,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(73,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(74,0,null,null,3,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(75,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y"])),(e()(),La(77,0,[["date",1]],null,0,"input",[["class","form-control"],["type","date"]],[[8,"value",0]],[[null,"input"]],(function(e,t,n){var i=!0;return"input"===t&&(i=!1!==e.component.onPickDate(n.target.value)&&i),i}),null,null)),(e()(),La(78,0,null,null,9,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(79,0,null,null,1,"label",[["class","font-weight-bold"],["for","email"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edd"])),(e()(),La(81,0,[["time",1]],null,6,"select",[["class","form-control"]],null,null,null,null,null)),(e()(),La(82,0,null,null,3,"option",[["selected",""]],null,null,null,null,null)),jl(83,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(84,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(85,null,["",""])),(e()(),Na(16777216,null,null,1,null,pZ)),jl(87,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(88,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(89,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(91,0,[["note",1]],null,0,"input",[["class","form-control"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(92,0,null,null,1,"button",[["class","btn btn-md btn-danger"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onUpdateSchedule(Ml(e,63).value,Ml(e,67).value,Ml(e,71).value,Ml(e,77).value,Ml(e,81).value,Ml(e,91).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(94,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(95,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(96,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,41,0,Ml(t,43).transform(n.Schedule,e(t,42,0,10,n._p,n._total)));e(t,41,0,i),e(t,83,0,n.ScheduleDetail.time),e(t,84,0,n.ScheduleDetail.time),e(t,87,0,n.listFreeTime)}),(function(e,t){var n=t.component;e(t,63,0,ll(1,"",n.ScheduleDetail.name,"")),e(t,67,0,n.ScheduleDetail.email),e(t,71,0,n.ScheduleDetail.phone),e(t,77,0,n.ScheduleDetail.date),e(t,85,0,n.ScheduleDetail.time),e(t,91,0,n.ScheduleDetail.note)}))}var gZ=ml("app-admin-schedule-table",hZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-admin-schedule-table",[],null,null,null,vZ,dZ)),jl(1,245760,null,0,hZ,[HG],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),mZ=function(){function e(t,n){_classCallCheck2(this,e),this.adminService=t,this.formBuilder=n,this.selectedDate=new Date,this.events=[],this.StartComponent=!1,this.listSchedule=[],this.startEndValidator=function(e){var t=e.get("start").value,n=e.get("end").value;return null!==t&&null!==n&&t.getTime()<n.getTime()?null:{range:"End date must be greater than Start date"}},this.createFormGroup=this.createFormGroup.bind(this)}return _createClass2(e,[{key:"createFormGroup",value:function(e){var t=e.dataItem;return this.formGroup=this.formBuilder.group({id:e.isNew?this.getNextId():t.id,start:[t.start,rb.required],end:[t.end,rb.required],startTimezone:[t.startTimezone],endTimezone:[t.endTimezone],isAllDay:t.isAllDay,title:t.title,description:t.description,recurrenceRule:t.recurrenceRule,recurrenceId:t.recurrenceId,roomId:t.roomId,attendees:[t.attendees]},{validator:this.startEndValidator}),this.formGroup}},{key:"getNextId",value:function(){return 0===this.events.length?1:this.events[this.events.length-1].id+1}},{key:"ngOnInit",value:function(){this.loadSchedule()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadSchedule",value:function(){var e=this;this.subscription=this.adminService.getScheduler().subscribe((function(t){e.listSchedule=t;var n=0;e.listSchedule.forEach((function(t){var i,l=t.time,r=Number(l.slice(0,2))+1;l=(r<10?"0"+r.toString():r.toString())+l.slice(2),i=t.is_reexam?{id:n+1,title:t.pre_examination.patient.name+" - "+t.pre_examination.patient.phone+" - "+t.detail,description:t.detail,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+l),readonly:!0}:{id:n+1,title:t.name+" - "+t.phone+" - "+t.message,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+l)},n++,e.events.push(i)})),e.StartComponent=!0;var i=Xs(new Date,"yyyy-MM-dd","en","+0700");e.selectedDate=new Date(i)}))}},{key:"onRemove",value:function(e){this.preventReadonly(e)}},{key:"onEdit",value:function(e){console.log("EDITTT"),this.preventReadonly(e)}},{key:"onAdd",value:function(e){this.occupiedSlot(e.dataItem)&&(alert("This time period is occupied."),e.preventDefault())}},{key:"preventReadonly",value:function(e){e.dataItem.readonly&&(alert("The event cannot be changed."),e.preventDefault())}},{key:"occupiedSlot",value:function(e){var t=!1;return this.events.find((function(n){if(n!==e.dataItem&&(i=e.start,l=e.end,r=n.start,a=n.end,i<r&&l>a||r<=i&&i<a||r<l&&l<=a))return t=!0,!0;var i,l,r,a})),t}}]),e}(),yZ=Ei({encapsulation:0,styles:[[""]],data:{}});function bZ(e){return no(0,[(e()(),La(0,0,null,null,74,"div",[["class","cls-Scheduler"],["style","color: coral;"]],null,null,null,null,null)),(e()(),La(1,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;color: coral;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,uU,oU)),Wl(4608,null,zB,zB,[]),Wl(512,null,HB,HB,[]),Wl(512,null,UB,UB,[]),Wl(512,null,aV,aV,[Qr]),Wl(256,null,Kg,"kendo.scheduler",[]),Wl(131584,null,hV,hV,[Kg,[2,qg],[2,Xg]]),Wl(2048,null,$g,null,[hV]),Wl(512,null,sV,sV,[]),Wl(131584,null,uV,uV,[[2,qn],[2,Hn],sV]),Wl(512,null,cV,cV,[Mm,$g,Zt,uV,UB]),Wl(512,null,fV,fV,[]),jl(13,1818624,null,14,CV,[Hn,HB,UB,aV,cV,aS,Zt,Qr,fV,$g,sV,qn,uV],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),Ha(335544320,1,{editDialogTemplate:0}),Ha(335544320,2,{toolbarTemplate:0}),Ha(603979776,3,{views:1}),Ha(603979776,4,{allDayEventTemplate:1}),Ha(603979776,5,{eventTemplate:1}),Ha(603979776,6,{timeSlotTemplate:1}),Ha(603979776,7,{minorTimeHeaderTemplate:1}),Ha(603979776,8,{majorTimeHeaderTemplate:1}),Ha(603979776,9,{monthDaySlotTemplate:1}),Ha(603979776,10,{dateHeaderTemplate:1}),Ha(603979776,11,{allDaySlotTemplate:1}),Ha(603979776,12,{groupHeaderTemplate:1}),Ha(603979776,13,{agendaDateTemplate:1}),Ha(603979776,14,{agendaTimeTemplate:1}),Wl(512,null,oV,oV,[]),jl(29,212992,null,0,qV,[CV,Zt,aS,oV],{data:[0,"data"]},null),jl(30,16384,null,0,gj,[CV,sV,uV,Qr,Zt,UB,cV],null,null),(e()(),La(31,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,vU,fU)),jl(32,704512,null,8,_z,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,15,{eventTemplate:0}),Ha(335544320,16,{groupHeaderTemplate:0}),Ha(335544320,17,{timeSlotTemplate:0}),Ha(335544320,18,{dateHeaderTemplate:0}),Ha(335544320,19,{allDaySlotTemplate:0}),Ha(335544320,20,{allDayEventTemplate:0}),Ha(335544320,21,{minorTimeHeaderTemplate:0}),Ha(335544320,22,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[_z]),(e()(),La(42,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,dY,cY)),jl(43,704512,null,8,wz,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,23,{eventTemplate:0}),Ha(335544320,24,{groupHeaderTemplate:0}),Ha(335544320,25,{timeSlotTemplate:0}),Ha(335544320,26,{dateHeaderTemplate:0}),Ha(335544320,27,{allDaySlotTemplate:0}),Ha(335544320,28,{allDayEventTemplate:0}),Ha(335544320,29,{minorTimeHeaderTemplate:0}),Ha(335544320,30,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[wz]),(e()(),La(53,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,dU,cU)),jl(54,704512,null,8,bz,[$g,Zt,HB,UB],null,null),Ha(335544320,31,{eventTemplate:0}),Ha(335544320,32,{groupHeaderTemplate:0}),Ha(335544320,33,{timeSlotTemplate:0}),Ha(335544320,34,{dateHeaderTemplate:0}),Ha(335544320,35,{allDaySlotTemplate:0}),Ha(335544320,36,{allDayEventTemplate:0}),Ha(335544320,37,{minorTimeHeaderTemplate:0}),Ha(335544320,38,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[bz]),(e()(),La(64,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,uY,oY)),jl(65,704512,null,8,kz,[$g,Zt,HB,UB],{numberOfDays:[0,"numberOfDays"]},null),Ha(335544320,39,{eventTemplate:0}),Ha(335544320,40,{groupHeaderTemplate:0}),Ha(335544320,41,{timeSlotTemplate:0}),Ha(335544320,42,{dateHeaderTemplate:0}),Ha(335544320,43,{allDaySlotTemplate:0}),Ha(335544320,44,{allDayEventTemplate:0}),Ha(335544320,45,{minorTimeHeaderTemplate:0}),Ha(335544320,46,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[kz])],(function(e,t){var n=t.component;e(t,13,0,"07:00","19:00",n.selectedDate),e(t,29,0,n.events),e(t,65,0,3)}),(function(e,t){e(t,1,0,Ml(t,13).hostClasses,Ml(t,13).hostClasses,Ml(t,13).hostClasses,Ml(t,13).rtl,Ml(t,13).dir)}))}function kZ(e){return no(0,[(e()(),La(0,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,uU,oU)),Wl(4608,null,zB,zB,[]),Wl(512,null,HB,HB,[]),Wl(512,null,UB,UB,[]),Wl(512,null,aV,aV,[Qr]),Wl(256,null,Kg,"kendo.scheduler",[]),Wl(131584,null,hV,hV,[Kg,[2,qg],[2,Xg]]),Wl(2048,null,$g,null,[hV]),Wl(512,null,sV,sV,[]),Wl(131584,null,uV,uV,[[2,qn],[2,Hn],sV]),Wl(512,null,cV,cV,[Mm,$g,Zt,uV,UB]),Wl(512,null,fV,fV,[]),jl(12,1818624,null,14,CV,[Hn,HB,UB,aV,cV,aS,Zt,Qr,fV,$g,sV,qn,uV],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),Ha(335544320,47,{editDialogTemplate:0}),Ha(335544320,48,{toolbarTemplate:0}),Ha(603979776,49,{views:1}),Ha(603979776,50,{allDayEventTemplate:1}),Ha(603979776,51,{eventTemplate:1}),Ha(603979776,52,{timeSlotTemplate:1}),Ha(603979776,53,{minorTimeHeaderTemplate:1}),Ha(603979776,54,{majorTimeHeaderTemplate:1}),Ha(603979776,55,{monthDaySlotTemplate:1}),Ha(603979776,56,{dateHeaderTemplate:1}),Ha(603979776,57,{allDaySlotTemplate:1}),Ha(603979776,58,{groupHeaderTemplate:1}),Ha(603979776,59,{agendaDateTemplate:1}),Ha(603979776,60,{agendaTimeTemplate:1}),Wl(512,null,oV,oV,[]),jl(28,212992,null,0,qV,[CV,Zt,aS,oV],{data:[0,"data"]},null),jl(29,16384,null,0,gj,[CV,sV,uV,Qr,Zt,UB,cV],null,null),(e()(),La(30,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,vU,fU)),jl(31,704512,null,8,_z,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,61,{eventTemplate:0}),Ha(335544320,62,{groupHeaderTemplate:0}),Ha(335544320,63,{timeSlotTemplate:0}),Ha(335544320,64,{dateHeaderTemplate:0}),Ha(335544320,65,{allDaySlotTemplate:0}),Ha(335544320,66,{allDayEventTemplate:0}),Ha(335544320,67,{minorTimeHeaderTemplate:0}),Ha(335544320,68,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[_z]),(e()(),La(41,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,dY,cY)),jl(42,704512,null,8,wz,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,69,{eventTemplate:0}),Ha(335544320,70,{groupHeaderTemplate:0}),Ha(335544320,71,{timeSlotTemplate:0}),Ha(335544320,72,{dateHeaderTemplate:0}),Ha(335544320,73,{allDaySlotTemplate:0}),Ha(335544320,74,{allDayEventTemplate:0}),Ha(335544320,75,{minorTimeHeaderTemplate:0}),Ha(335544320,76,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[wz]),(e()(),La(52,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,dU,cU)),jl(53,704512,null,8,bz,[$g,Zt,HB,UB],null,null),Ha(335544320,77,{eventTemplate:0}),Ha(335544320,78,{groupHeaderTemplate:0}),Ha(335544320,79,{timeSlotTemplate:0}),Ha(335544320,80,{dateHeaderTemplate:0}),Ha(335544320,81,{allDaySlotTemplate:0}),Ha(335544320,82,{allDayEventTemplate:0}),Ha(335544320,83,{minorTimeHeaderTemplate:0}),Ha(335544320,84,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[bz]),(e()(),La(63,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,uY,oY)),jl(64,704512,null,8,kz,[$g,Zt,HB,UB],{numberOfDays:[0,"numberOfDays"]},null),Ha(335544320,85,{eventTemplate:0}),Ha(335544320,86,{groupHeaderTemplate:0}),Ha(335544320,87,{timeSlotTemplate:0}),Ha(335544320,88,{dateHeaderTemplate:0}),Ha(335544320,89,{allDaySlotTemplate:0}),Ha(335544320,90,{allDayEventTemplate:0}),Ha(335544320,91,{minorTimeHeaderTemplate:0}),Ha(335544320,92,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[kz])],(function(e,t){var n=t.component;e(t,12,0,"07:00","19:00",n.selectedDate),e(t,28,0,n.events),e(t,64,0,3)}),(function(e,t){e(t,0,0,Ml(t,12).hostClasses,Ml(t,12).hostClasses,Ml(t,12).hostClasses,Ml(t,12).rtl,Ml(t,12).dir)}))}function _Z(e){return no(0,[(e()(),Na(16777216,null,null,1,null,bZ)),jl(1,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NotYet",2]],null,0,null,kZ))],(function(e,t){e(t,1,0,t.component.StartComponent,Ml(t,2))}),null)}var wZ,xZ=ml("app-admin-scheduler",mZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-admin-scheduler",[],null,null,null,_Z,yZ)),jl(1,245760,null,0,mZ,[HG,sk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),CZ=function(){function e(t,n){_classCallCheck2(this,e),this.userService=t,this.doctorService=n,this.User={image:"loading"},this.StartComponent=!1,this.selectedDate=new Date,this.events=[],this.listSchedule=[]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadProfile()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"onLogout",value:function(){this.subscription=this.userService.logoutUser().subscribe((function(e){localStorage.removeItem("bearToken"),window.location.reload()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"}),localStorage.removeItem("bearToken"),window.location.reload()}))}},{key:"loadProfile",value:function(){var e=this;this.subscription=this.userService.getUserProfile().subscribe((function(t){e.User=t.results[0]}),(function(t){if(401==t.status)e.userService.refreshToken(localStorage.getItem("refresh")).subscribe((function(e){localStorage.setItem("bearToken",e.access),window.location.reload()}),(function(e){localStorage.removeItem("bearToken"),localStorage.removeItem("refresh"),ey.a.fire({title:"Error!",text:"H\u1ebft h\u1ea1n \u0111\u0103ng nh\u1eadp",icon:"error",confirmButtonText:"Cool"}),window.location.reload()}));else{var n=JSON.stringify(t.error);ey.a.fire({title:"Error!",text:n,icon:"error",confirmButtonText:"Cool"})}}))}},{key:"loadSchedule",value:function(){var e=this;this.subscription=this.doctorService.getScheduler().subscribe((function(t){e.listSchedule=t;var n=0;e.listSchedule.forEach((function(t){var i,l=t.time,r=Number(l.slice(0,2))+1;l=(r<10?"0"+r.toString():r.toString())+l.slice(2),i=t.is_reexam?{id:n+1,title:t.pre_examination.patient.name+" - "+t.pre_examination.patient.phone+" - "+t.detail,description:t.detail,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+l),readonly:!0}:{id:n+1,title:t.name+" - "+t.phone+" - "+t.message,start:new Date(t.date+"T"+t.time),end:new Date(t.date+"T"+l)},n++,e.events.push(i)})),e.StartComponent=!0;var i=Xs(new Date,"yyyy-MM-dd","en","+0700");e.selectedDate=new Date(i)}))}}]),e}(),SZ={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},TZ=((wZ=function(){function e(t){_classCallCheck2(this,e),this.http=t,this.API=cs.urlApi,this.load=!0}return _createClass2(e,[{key:"getListTooth",value:function(){return this.http.get("".concat(this.API,"/api/tooth/"),SZ)}},{key:"getListWaitingPatient",value:function(){return this.http.get("".concat(this.API,"/api/doctor_examination/"),SZ)}},{key:"getListCategory",value:function(){return this.http.get("".concat(this.API,"/api/doctor_treatment/"),SZ)}},{key:"getListService",value:function(){return this.http.get("".concat(this.API,"/api/doctor_service/"),SZ)}},{key:"filterListService",value:function(e){return this.http.get("".concat(this.API,"/api/doctor_service/?treatment=").concat(e),SZ)}},{key:"pickExamination",value:function(e){var t=JSON.stringify({is_examining:!0});return this.http.patch("".concat(this.API,"/api/doctor_examination/").concat(e,"/"),t,SZ)}},{key:"getExaminationByID",value:function(e){return this.http.get("".concat(this.API,"/api/doctor_examination/").concat(e,"/"),SZ)}},{key:"deleteExamination",value:function(e){return this.http.delete("".concat(this.API,"/api/doctor_examination/").concat(e,"/"),SZ)}},{key:"getPublicExamination",value:function(e,t){return this.http.get("".concat(this.API,"/api/public/examination/?page=").concat(e,"&search=").concat(t),SZ)}},{key:"getPublicExaminationSearch",value:function(e,t){return this.http.get("".concat(this.API,"/api/public/examination/?page=").concat(e,"&search=").concat(t),SZ)}},{key:"reverseExamination",value:function(e){var t=JSON.stringify({is_deleted:!1});return this.http.patch("".concat(this.API,"/api/doctor_examination/").concat(e,"/"),t,SZ)}},{key:"filterDiagnosisByExam",value:function(e){return this.http.get("".concat(this.API,"/api/public/diagnosis/?examination=").concat(e),SZ)}},{key:"getListDiagnosis",value:function(e){return this.http.get("".concat(this.API,"/api/diagnosis/?page=").concat(e),SZ)}},{key:"updateDiagnosis",value:function(e,t){var n=JSON.stringify({note:t});return this.http.patch("".concat(this.API,"/api/diagnosis/").concat(e,"/"),n,SZ)}},{key:"deleteDiagnosis",value:function(e){return this.http.delete("".concat(this.API,"/api/diagnosis/").concat(e,"/"),SZ)}},{key:"createDiagnosis",value:function(e,t,n,i){console.log("note: "+e,"service: "+t,"exam: "+n,"tooth:"+i);var l=JSON.stringify({note:e,service:t,examination:n,tooth:i});return this.http.post("".concat(this.API,"/api/diagnosis/"),l,SZ)}},{key:"finishExamination",value:function(e){var t=JSON.stringify({is_done:!0,is_examining:!1});return this.http.patch("".concat(this.API,"/api/doctor_examination/").concat(e,"/"),t,SZ)}},{key:"createShedule",value:function(e,t,n,i){var l=JSON.stringify({date:e,time:t,detail:n,pre_examination:i});return this.http.post("".concat(this.API,"/api/schedule/re-exam/"),l,SZ)}},{key:"getScheduler",value:function(){return this.http.get("".concat(this.API,"/api/scheduler/?ordering=date,time"),SZ)}}]),e}()).ngInjectableDef=De({factory:function(){return new wZ(nt(by))},token:wZ,providedIn:"root"}),wZ),PZ=Ei({encapsulation:0,styles:[[".navbar[_ngcontent-%COMP%]{padding:0!important}.inline-display[_ngcontent-%COMP%]{display:inline}"]],data:{}});function MZ(e){return no(0,[(e()(),La(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["width","36"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){e(t,0,0,ll(1,"",t.component.User.image,""))}))}function AZ(e){return no(0,[(e()(),La(0,0,null,null,0,"img",[["alt","user-img"],["class","img-circle"],["src","assets/img/logodoctor.png"],["width","36"]],null,null,null,null,null))],null,null)}function IZ(e){return no(0,[(e()(),La(0,0,null,null,74,"div",[["class","cls-Scheduler"],["style","color: coral;"]],null,null,null,null,null)),(e()(),La(1,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;color: coral;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,uU,oU)),Wl(4608,null,zB,zB,[]),Wl(512,null,HB,HB,[]),Wl(512,null,UB,UB,[]),Wl(512,null,aV,aV,[Qr]),Wl(256,null,Kg,"kendo.scheduler",[]),Wl(131584,null,hV,hV,[Kg,[2,qg],[2,Xg]]),Wl(2048,null,$g,null,[hV]),Wl(512,null,sV,sV,[]),Wl(131584,null,uV,uV,[[2,qn],[2,Hn],sV]),Wl(512,null,cV,cV,[Mm,$g,Zt,uV,UB]),Wl(512,null,fV,fV,[]),jl(13,1818624,null,14,CV,[Hn,HB,UB,aV,cV,aS,Zt,Qr,fV,$g,sV,qn,uV],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),Ha(335544320,1,{editDialogTemplate:0}),Ha(335544320,2,{toolbarTemplate:0}),Ha(603979776,3,{views:1}),Ha(603979776,4,{allDayEventTemplate:1}),Ha(603979776,5,{eventTemplate:1}),Ha(603979776,6,{timeSlotTemplate:1}),Ha(603979776,7,{minorTimeHeaderTemplate:1}),Ha(603979776,8,{majorTimeHeaderTemplate:1}),Ha(603979776,9,{monthDaySlotTemplate:1}),Ha(603979776,10,{dateHeaderTemplate:1}),Ha(603979776,11,{allDaySlotTemplate:1}),Ha(603979776,12,{groupHeaderTemplate:1}),Ha(603979776,13,{agendaDateTemplate:1}),Ha(603979776,14,{agendaTimeTemplate:1}),Wl(512,null,oV,oV,[]),jl(29,212992,null,0,qV,[CV,Zt,aS,oV],{data:[0,"data"]},null),jl(30,16384,null,0,gj,[CV,sV,uV,Qr,Zt,UB,cV],null,null),(e()(),La(31,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,vU,fU)),jl(32,704512,null,8,_z,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,15,{eventTemplate:0}),Ha(335544320,16,{groupHeaderTemplate:0}),Ha(335544320,17,{timeSlotTemplate:0}),Ha(335544320,18,{dateHeaderTemplate:0}),Ha(335544320,19,{allDaySlotTemplate:0}),Ha(335544320,20,{allDayEventTemplate:0}),Ha(335544320,21,{minorTimeHeaderTemplate:0}),Ha(335544320,22,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[_z]),(e()(),La(42,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,dY,cY)),jl(43,704512,null,8,wz,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,23,{eventTemplate:0}),Ha(335544320,24,{groupHeaderTemplate:0}),Ha(335544320,25,{timeSlotTemplate:0}),Ha(335544320,26,{dateHeaderTemplate:0}),Ha(335544320,27,{allDaySlotTemplate:0}),Ha(335544320,28,{allDayEventTemplate:0}),Ha(335544320,29,{minorTimeHeaderTemplate:0}),Ha(335544320,30,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[wz]),(e()(),La(53,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,dU,cU)),jl(54,704512,null,8,bz,[$g,Zt,HB,UB],null,null),Ha(335544320,31,{eventTemplate:0}),Ha(335544320,32,{groupHeaderTemplate:0}),Ha(335544320,33,{timeSlotTemplate:0}),Ha(335544320,34,{dateHeaderTemplate:0}),Ha(335544320,35,{allDaySlotTemplate:0}),Ha(335544320,36,{allDayEventTemplate:0}),Ha(335544320,37,{minorTimeHeaderTemplate:0}),Ha(335544320,38,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[bz]),(e()(),La(64,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,uY,oY)),jl(65,704512,null,8,kz,[$g,Zt,HB,UB],{numberOfDays:[0,"numberOfDays"]},null),Ha(335544320,39,{eventTemplate:0}),Ha(335544320,40,{groupHeaderTemplate:0}),Ha(335544320,41,{timeSlotTemplate:0}),Ha(335544320,42,{dateHeaderTemplate:0}),Ha(335544320,43,{allDaySlotTemplate:0}),Ha(335544320,44,{allDayEventTemplate:0}),Ha(335544320,45,{minorTimeHeaderTemplate:0}),Ha(335544320,46,{majorTimeHeaderTemplate:0}),Wl(2048,[[3,4]],jB,null,[kz])],(function(e,t){var n=t.component;e(t,13,0,"07:00","19:00",n.selectedDate),e(t,29,0,n.events),e(t,65,0,3)}),(function(e,t){e(t,1,0,Ml(t,13).hostClasses,Ml(t,13).hostClasses,Ml(t,13).hostClasses,Ml(t,13).rtl,Ml(t,13).dir)}))}function EZ(e){return no(0,[(e()(),La(0,0,null,null,73,"kendo-scheduler",[["endTime","19:00"],["startTime","07:00"],["style","height: 600px;"]],[[2,"k-widget",null],[2,"k-scheduler",null],[2,"k-floatwrap",null],[2,"k-rtl",null],[1,"dir",0]],null,null,uU,oU)),Wl(4608,null,zB,zB,[]),Wl(512,null,HB,HB,[]),Wl(512,null,UB,UB,[]),Wl(512,null,aV,aV,[Qr]),Wl(256,null,Kg,"kendo.scheduler",[]),Wl(131584,null,hV,hV,[Kg,[2,qg],[2,Xg]]),Wl(2048,null,$g,null,[hV]),Wl(512,null,sV,sV,[]),Wl(131584,null,uV,uV,[[2,qn],[2,Hn],sV]),Wl(512,null,cV,cV,[Mm,$g,Zt,uV,UB]),Wl(512,null,fV,fV,[]),jl(12,1818624,null,14,CV,[Hn,HB,UB,aV,cV,aS,Zt,Qr,fV,$g,sV,qn,uV],{startTime:[0,"startTime"],endTime:[1,"endTime"],selectedDate:[2,"selectedDate"]},null),Ha(335544320,47,{editDialogTemplate:0}),Ha(335544320,48,{toolbarTemplate:0}),Ha(603979776,49,{views:1}),Ha(603979776,50,{allDayEventTemplate:1}),Ha(603979776,51,{eventTemplate:1}),Ha(603979776,52,{timeSlotTemplate:1}),Ha(603979776,53,{minorTimeHeaderTemplate:1}),Ha(603979776,54,{majorTimeHeaderTemplate:1}),Ha(603979776,55,{monthDaySlotTemplate:1}),Ha(603979776,56,{dateHeaderTemplate:1}),Ha(603979776,57,{allDaySlotTemplate:1}),Ha(603979776,58,{groupHeaderTemplate:1}),Ha(603979776,59,{agendaDateTemplate:1}),Ha(603979776,60,{agendaTimeTemplate:1}),Wl(512,null,oV,oV,[]),jl(28,212992,null,0,qV,[CV,Zt,aS,oV],{data:[0,"data"]},null),jl(29,16384,null,0,gj,[CV,sV,uV,Qr,Zt,UB,cV],null,null),(e()(),La(30,0,null,null,10,"kendo-scheduler-week-view",[],null,null,null,vU,fU)),jl(31,704512,null,8,_z,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,61,{eventTemplate:0}),Ha(335544320,62,{groupHeaderTemplate:0}),Ha(335544320,63,{timeSlotTemplate:0}),Ha(335544320,64,{dateHeaderTemplate:0}),Ha(335544320,65,{allDaySlotTemplate:0}),Ha(335544320,66,{allDayEventTemplate:0}),Ha(335544320,67,{minorTimeHeaderTemplate:0}),Ha(335544320,68,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[_z]),(e()(),La(41,0,null,null,10,"kendo-scheduler-work-week-view",[],null,null,null,dY,cY)),jl(42,704512,null,8,wz,[aS,$g,Zt,HB,UB],null,null),Ha(335544320,69,{eventTemplate:0}),Ha(335544320,70,{groupHeaderTemplate:0}),Ha(335544320,71,{timeSlotTemplate:0}),Ha(335544320,72,{dateHeaderTemplate:0}),Ha(335544320,73,{allDaySlotTemplate:0}),Ha(335544320,74,{allDayEventTemplate:0}),Ha(335544320,75,{minorTimeHeaderTemplate:0}),Ha(335544320,76,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[wz]),(e()(),La(52,0,null,null,10,"kendo-scheduler-day-view",[],null,null,null,dU,cU)),jl(53,704512,null,8,bz,[$g,Zt,HB,UB],null,null),Ha(335544320,77,{eventTemplate:0}),Ha(335544320,78,{groupHeaderTemplate:0}),Ha(335544320,79,{timeSlotTemplate:0}),Ha(335544320,80,{dateHeaderTemplate:0}),Ha(335544320,81,{allDaySlotTemplate:0}),Ha(335544320,82,{allDayEventTemplate:0}),Ha(335544320,83,{minorTimeHeaderTemplate:0}),Ha(335544320,84,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[bz]),(e()(),La(63,0,null,null,10,"kendo-scheduler-multi-day-view",[],null,null,null,uY,oY)),jl(64,704512,null,8,kz,[$g,Zt,HB,UB],{numberOfDays:[0,"numberOfDays"]},null),Ha(335544320,85,{eventTemplate:0}),Ha(335544320,86,{groupHeaderTemplate:0}),Ha(335544320,87,{timeSlotTemplate:0}),Ha(335544320,88,{dateHeaderTemplate:0}),Ha(335544320,89,{allDaySlotTemplate:0}),Ha(335544320,90,{allDayEventTemplate:0}),Ha(335544320,91,{minorTimeHeaderTemplate:0}),Ha(335544320,92,{majorTimeHeaderTemplate:0}),Wl(2048,[[49,4]],jB,null,[kz])],(function(e,t){var n=t.component;e(t,12,0,"07:00","19:00",n.selectedDate),e(t,28,0,n.events),e(t,64,0,3)}),(function(e,t){e(t,0,0,Ml(t,12).hostClasses,Ml(t,12).hostClasses,Ml(t,12).hostClasses,Ml(t,12).rtl,Ml(t,12).dir)}))}function DZ(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[["class","preloader"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,":svg:svg",[["class","circular"],["viewBox","25 25 50 50"]],null,null,null,null,null)),(e()(),La(2,0,null,null,0,":svg:circle",[["class","path"],["cx","50"],["cy","50"],["fill","none"],["r","20"],["stroke-miterlimit","10"],["stroke-width","2"]],null,null,null,null,null)),(e()(),La(3,0,null,null,62,"div",[["id","wrapper"]],null,null,null,null,null)),(e()(),La(4,0,null,null,20,"nav",[["class","navbar navbar-default navbar-static-top m-b-0"]],null,null,null,null,null)),(e()(),La(5,0,null,null,19,"div",[["class","navbar-header"]],null,null,null,null,null)),(e()(),La(6,0,null,null,7,"div",[["class","top-left-part"]],null,null,null,null,null)),(e()(),La(7,0,null,null,6,"a",[["class","logo"],["href","/admin"]],null,null,null,null,null)),(e()(),La(8,0,null,null,2,"b",[],null,null,null,null,null)),(e()(),La(9,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(e()(),La(10,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["src","assets/plugins/images/logo01.png"],["width","50px"]],null,null,null,null,null)),(e()(),La(11,0,null,null,2,"span",[["class","hidden-xs"]],null,null,null,null,null)),(e()(),La(12,0,null,null,0,"img",[["alt","home"],["class","dark-logo"],["src","assets/plugins/images/logo01.png"]],null,null,null,null,null)),(e()(),La(13,0,null,null,0,"img",[["alt","home"],["class","light-logo"],["height","24px"],["src","assets/plugins/images/gdental3.png"],["width","139px"]],null,null,null,null,null)),(e()(),La(14,0,null,null,10,"ul",[["class","nav navbar-top-links navbar-right pull-right"]],null,null,null,null,null)),(e()(),La(15,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),La(16,0,null,null,1,"a",[["class","nav-toggler open-close waves-effect waves-light hidden-md hidden-lg"],["href","javascript:void(0)"]],null,null,null,null,null)),(e()(),La(17,0,null,null,0,"i",[["class","fa fa-bars"]],null,null,null,null,null)),(e()(),La(18,0,null,null,6,"li",[],null,null,null,null,null)),(e()(),La(19,0,null,null,3,"a",[["class","profile-pic inline-display"],["href","./"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,MZ)),jl(21,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NoAvatar",2]],null,0,null,AZ)),(e()(),La(23,0,null,null,1,"button",[["class","btn btn-danger profile-pic inline-display"],["data-dismiss","modal"],["style","margin-right: 10px"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onLogout()&&i),i}),null,null)),(e()(),Ja(-1,null,["\u0110\u0103ng xu\u1ea5t"])),(e()(),La(25,0,null,null,34,"div",[["class","navbar-default sidebar"],["role","navigation"]],null,null,null,null,null)),(e()(),La(26,0,null,null,33,"div",[["class","sidebar-nav slimscrollsidebar"]],null,null,null,null,null)),(e()(),La(27,0,null,null,5,"div",[["class","sidebar-head"]],null,null,null,null,null)),(e()(),La(28,0,null,null,4,"h3",[],null,null,null,null,null)),(e()(),La(29,0,null,null,1,"span",[["class","fa-fw open-close"]],null,null,null,null,null)),(e()(),La(30,0,null,null,0,"i",[["class","ti-close ti-menu"]],null,null,null,null,null)),(e()(),La(31,0,null,null,1,"span",[["class","hide-menu"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Navigation"])),(e()(),La(33,0,null,null,26,"ul",[["class","nav"],["id","side-menu"]],null,null,null,null,null)),(e()(),La(34,0,null,null,3,"li",[["style","padding: 70px 0 0;"]],null,null,null,null,null)),(e()(),La(35,0,null,null,2,"a",[["class","waves-effect"],["href","/doctor"]],null,null,null,null,null)),(e()(),La(36,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-clock-o fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Trang ch\xednh"])),(e()(),La(38,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(39,0,null,null,4,"a",[["class","waves-effect"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,40).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(40,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(41,1),(e()(),La(42,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-users fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(44,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(45,0,null,null,4,"a",[["class","waves-effect"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,46).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(46,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(47,1),(e()(),La(48,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-book fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(e()(),La(50,0,null,null,5,"li",[],null,null,null,null,null)),(e()(),La(51,0,null,null,4,"a",[["class","waves-effect"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,52).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(52,671744,null,0,rp,[ip,Gd,xs],{routerLink:[0,"routerLink"]},null),$a(53,1),(e()(),La(54,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-table fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ch\u1ea9n \u0111o\xe1n"])),(e()(),La(56,0,null,null,3,"li",[],null,null,null,null,null)),(e()(),La(57,0,null,null,2,"a",[["class","waves-effect"],["data-target","#scheduleViewModal"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.loadSchedule()&&i),i}),null,null)),(e()(),La(58,0,null,null,0,"i",[["class","fa fa-calendar-o fa-fw"]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch kh\xe1m"])),(e()(),La(60,0,null,null,5,"div",[["id","page-wrapper"]],null,null,null,null,null)),(e()(),La(61,0,null,null,4,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),La(62,0,null,null,0,"div",[["class","row bg-title"]],null,null,null,null,null)),(e()(),La(63,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(64,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(65,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null),(e()(),La(66,0,null,null,13,"div",[["class","modal fade"],["id","scheduleViewModal"],["role","dialog"]],null,null,null,null,null)),(e()(),La(67,0,null,null,12,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(68,0,null,null,11,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(69,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(70,0,null,null,2,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(71,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" L\u1ecbch kh\xe1m "])),(e()(),La(73,0,null,null,3,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,IZ)),jl(75,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NotYet",2]],null,0,null,EZ)),(e()(),La(77,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(78,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"]))],(function(e,t){var n=t.component;e(t,21,0,n.User.image,Ml(t,22));var i=e(t,41,0,"./customer");e(t,40,0,i);var l=e(t,47,0,"./examination");e(t,46,0,l);var r=e(t,53,0,"./diagnosis");e(t,52,0,r),e(t,65,0),e(t,75,0,n.StartComponent,Ml(t,76))}),(function(e,t){e(t,39,0,Ml(t,40).target,Ml(t,40).href),e(t,45,0,Ml(t,46).target,Ml(t,46).href),e(t,51,0,Ml(t,52).target,Ml(t,52).href)}))}var OZ=ml("app-docter-home-page",CZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-docter-home-page",[],null,null,null,DZ,PZ)),jl(1,245760,null,0,CZ,[Ly,TZ],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),FZ=function(){function e(t,n){_classCallCheck2(this,e),this.doctorService=t,this.renderer=n,this.Patient=null,this.deletedPatient=-1,this.currentPatient={id_exam:0,patient_name:"loading",note:"loading"},this.Diagnosis=[],this.EnableReExam=!1,this.arr_tooth=[],this.eventList=[]}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadTooth(),this.loadPatient(),this.loadCategory()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadTooth",value:function(){var e=this;this.subscription=this.doctorService.getListTooth().subscribe((function(t){e.tooth=t}))}},{key:"loadPatient",value:function(){var e=this;this.subscription=this.doctorService.getListWaitingPatient().subscribe((function(t){e.Patient=t}),(function(e){console.log(e)}))}},{key:"onRefreshQueue",value:function(){this.loadPatient()}},{key:"loadCategory",value:function(){var e=this;this.subscription=this.doctorService.getListCategory().subscribe((function(t){e.Category=t,e.loadService(t[0].id)}),(function(e){console.log(e)}))}},{key:"loadService",value:function(e){var t=this;this.subscription=this.doctorService.filterListService(e).subscribe((function(e){t.Service=e}),(function(e){console.log(e)}))}},{key:"filterService",value:function(e){var t=this;this.subscription=this.doctorService.filterListService(e).subscribe((function(e){t.Service=e}),(function(e){console.log(e)}))}},{key:"toggleClass",value:function(e,t,n,i){var l=this,r=e.target.classList.contains(t);"h\xe0m"==this.unit&&n<33?ey.a.fire("C\u1ea3nh b\xe1o","Vui l\xf2ng ch\u1ecdn r\u0103ng h\xe0m!","question"):r?(this.renderer.removeClass(e.target,t),this.arr_tooth.splice(this.arr_tooth.indexOf(n),1)):("A1"==i?this.eventList.forEach((function(e){"1"==e.parentElement.innerText.substr(1,1)&&(l.arr_tooth.splice(l.arr_tooth.indexOf(parseInt(e.id)),1),l.renderer.removeClass(e,t))})):"A2"==i?this.eventList.forEach((function(e){"0"==e.parentElement.innerText.substr(1,1)&&(l.arr_tooth.splice(l.arr_tooth.indexOf(parseInt(e.id)),1),l.renderer.removeClass(e,t))})):"A3"==i&&(this.eventList.forEach((function(e){l.renderer.removeClass(e,t)})),this.arr_tooth=[]),console.log(e.target),this.renderer.addClass(e.target,t),this.arr_tooth.push(n),this.eventList.push(e.target))}},{key:"onEnableReExam",value:function(){this.EnableReExam=!this.EnableReExam}},{key:"getCurrentPatient",value:function(e,t,n){var i=this;this.doctorService.pickExamination(e).subscribe((function(l){i.currentPatient.id_exam=e,i.currentPatient.patient_name=t,i.currentPatient.note=n,document.getElementById("btnsave").disabled=!1,i.getDiagnosis(e)}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"}),i.loadPatient()}))}},{key:"onNextPatient",value:function(e){var t=this;this.doctorService.deleteExamination(e).subscribe((function(n){t.deletedPatient=e,t.loadPatient()}),(function(e){console.log(e)}))}},{key:"onReversePatient",value:function(){var e=this;this.doctorService.reverseExamination(this.deletedPatient).subscribe((function(t){e.loadPatient()}),(function(e){console.log(e)}))}},{key:"onSelectedService",value:function(e){var t=this,n=e.indexOf(" ");this.id_service=e.substring(0,n),this.unit=e.substring(n+1),"h\xe0m"==e.substring(n+1)&&this.eventList.forEach((function(e){t.renderer.removeClass(e,"highlight")}))}},{key:"onDiganosis",value:function(e,t){var n=this,i=t.substring(0,t.indexOf(" "));this.arr_tooth.length<1?ey.a.fire("L\u01b0u \xfd","Vui l\xf2ng ch\u1ecdn v\u1ecb tr\xed r\u0103ng","question"):""!=e?this.doctorService.createDiagnosis(e,i,this.currentPatient.id_exam,this.arr_tooth).subscribe((function(e){n.eventList.forEach((function(e){n.renderer.removeClass(e,"highlight")})),n.eventList=[],n.arr_tooth=[],document.getElementById("doctor_note").value="",n.getDiagnosis(n.currentPatient.id_exam)}),(function(e){console.log(e)})):ey.a.fire("L\u01b0u \xfd","Vui l\xf2ng nh\u1eadp ch\u1ea9n \u0111o\xe1n","question")}},{key:"getDiagnosis",value:function(e){var t=this;this.subscription=this.doctorService.filterDiagnosisByExam(e).subscribe((function(e){t.Diagnosis=e}),(function(e){console.log(e)}))}},{key:"deleteDiagnosis",value:function(e){var t=this;this.doctorService.deleteDiagnosis(e).subscribe((function(e){t.getDiagnosis(t.currentPatient.id_exam)}),(function(e){console.log(e)}))}},{key:"onFinish",value:function(){var e=this;null!=this.currentPatient.id_exam?this.doctorService.finishExamination(this.currentPatient.id_exam).subscribe((function(t){ey.a.fire({title:"Success",text:"Qu\xe1 tr\xecnh kh\xe1m \u0111\xe3 ho\xe0n t\u1ea5t. H\xe3y ch\u1ecdn b\u1ec7nh nh\xe2n ti\u1ebfp theo!",icon:"success"}),e.loadPatient(),e.Diagnosis=[],e.EnableReExam=!1}),(function(e){console.log(e)})):ey.a.fire("L\u01b0u \xfd","B\u1ea1n ch\u01b0a kh\xe1m cho ai c\u1ea3!","question")}},{key:"onShedule",value:function(e,t,n){this.doctorService.createShedule(e,t,n,this.currentPatient.id_exam).subscribe((function(e){ey.a.fire({title:"Success",text:"\u0110\xe3 th\xeam v\xe0o l\u1ecbch h\u1eb9n kh\xe1m",icon:"success"})}),(function(e){console.log(e)}))}}]),e}(),RZ=Ei({encapsulation:0,styles:[[".inline-display[_ngcontent-%COMP%]{display:block}.testclass[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.element-5[_ngcontent-%COMP%]{width:6.25%;height:10%}.tooth[_ngcontent-%COMP%]:active, .tooth[_ngcontent-%COMP%]:focus{border:5px solid green}.range[_ngcontent-%COMP%]{border:5px solid #000}.highlight[_ngcontent-%COMP%]{border:2px solid #8a2be2;border-radius:50%}.parent-element[_ngcontent-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap;-webkit-box-pack:justify;justify-content:space-between}.option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;right:0;bottom:0;left:0;height:20px;width:20px;-webkit-transition:.15s ease-out;transition:all .15s ease-out 0s;background:#cbd1d8;border:none;color:#fff;cursor:pointer;display:inline-block;outline:0;position:relative;z-index:1000}.option-input[_ngcontent-%COMP%]:checked, .option-input[_ngcontent-%COMP%]:hover{background:#8a8a8a}.option-input[_ngcontent-%COMP%]:checked::before{height:20px;width:20px;position:absolute;content:'\u2714';display:inline-block;font-size:14px;text-align:center;line-height:20px;z-index:10000}.option-input[_ngcontent-%COMP%]:checked::after{-webkit-animation:.65s click-wave;animation:.65s click-wave;background:#8a8a8a;content:'';display:block;position:relative;z-index:100;height:20px;width:20px}.option-input.radio[_ngcontent-%COMP%], .option-input.radio[_ngcontent-%COMP%]::after{border-radius:50%}.gray-box[_ngcontent-%COMP%]{padding:0;margin-bottom:30px;border-bottom:#000;width:100%}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border-top:none}.tr-hover[_ngcontent-%COMP%]:hover{cursor:pointer}.cls-label[_ngcontent-%COMP%]{display:block;padding-left:15px;text-indent:-15px}.cls-input[_ngcontent-%COMP%]{width:20px;height:20px;padding:0;margin:0;vertical-align:bottom;position:relative;top:-1px}.cls-hover[_ngcontent-%COMP%]:hover{cursor:pointer;color:brown}.shake[_ngcontent-%COMP%]:hover{-webkit-animation:.5s infinite shake;animation:.5s infinite shake}@-webkit-keyframes shake{0%{-webkit-transform:translate(1px,1px) rotate(0);transform:translate(1px,1px) rotate(0)}10%{-webkit-transform:translate(-1px,-2px) rotate(-1deg);transform:translate(-1px,-2px) rotate(-1deg)}20%{-webkit-transform:translate(-3px,0) rotate(1deg);transform:translate(-3px,0) rotate(1deg)}30%{-webkit-transform:translate(3px,2px) rotate(0);transform:translate(3px,2px) rotate(0)}40%{-webkit-transform:translate(1px,-1px) rotate(1deg);transform:translate(1px,-1px) rotate(1deg)}50%{-webkit-transform:translate(-1px,2px) rotate(-1deg);transform:translate(-1px,2px) rotate(-1deg)}60%{-webkit-transform:translate(-3px,1px) rotate(0);transform:translate(-3px,1px) rotate(0)}70%{-webkit-transform:translate(3px,1px) rotate(-1deg);transform:translate(3px,1px) rotate(-1deg)}80%{-webkit-transform:translate(-1px,-1px) rotate(1deg);transform:translate(-1px,-1px) rotate(1deg)}90%{-webkit-transform:translate(1px,2px) rotate(0);transform:translate(1px,2px) rotate(0)}100%{-webkit-transform:translate(1px,-2px) rotate(-1deg);transform:translate(1px,-2px) rotate(-1deg)}}@keyframes shake{0%{-webkit-transform:translate(1px,1px) rotate(0);transform:translate(1px,1px) rotate(0)}10%{-webkit-transform:translate(-1px,-2px) rotate(-1deg);transform:translate(-1px,-2px) rotate(-1deg)}20%{-webkit-transform:translate(-3px,0) rotate(1deg);transform:translate(-3px,0) rotate(1deg)}30%{-webkit-transform:translate(3px,2px) rotate(0);transform:translate(3px,2px) rotate(0)}40%{-webkit-transform:translate(1px,-1px) rotate(1deg);transform:translate(1px,-1px) rotate(1deg)}50%{-webkit-transform:translate(-1px,2px) rotate(-1deg);transform:translate(-1px,2px) rotate(-1deg)}60%{-webkit-transform:translate(-3px,1px) rotate(0);transform:translate(-3px,1px) rotate(0)}70%{-webkit-transform:translate(3px,1px) rotate(-1deg);transform:translate(3px,1px) rotate(-1deg)}80%{-webkit-transform:translate(-1px,-1px) rotate(1deg);transform:translate(-1px,-1px) rotate(1deg)}90%{-webkit-transform:translate(1px,2px) rotate(0);transform:translate(1px,2px) rotate(0)}100%{-webkit-transform:translate(1px,-2px) rotate(-1deg);transform:translate(1px,-2px) rotate(-1deg)}}.cls-padding[_ngcontent-%COMP%]{padding-top:7px;padding-bottom:auto}.cls-img[_ngcontent-%COMP%]{cursor:pointer}.scrollbar[_ngcontent-%COMP%]{float:left;height:62%;width:100%;background:#f5f5f5;overflow-y:scroll;margin-bottom:25px}.scrollbar2[_ngcontent-%COMP%]{float:left;height:30%;width:100%;background:#f5f5f5;overflow-y:scroll;margin-bottom:25px}.force-overflow[_ngcontent-%COMP%]{min-height:450px}#wrapper[_ngcontent-%COMP%]{text-align:center;width:500px;margin:auto}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar-track{border:1px solid #000;background-color:#f5f5f5}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px;background-color:#f5f5f5}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#000}#style-8[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#d62929}"]],data:{}});function NZ(e){return no(0,[(e()(),La(0,0,null,null,3,"div",[["class","element-5 mb-4"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"img",[["alt",""],["class","hvr-float"],["width","100%"]],[[8,"id",0],[8,"src",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.toggleClass(n,"highlight",e.context.$implicit.id,e.context.$implicit.name)&&i),i}),null,null)),(e()(),La(2,0,null,null,1,"p",[["class","text-center"],["style","margin: 0px;"]],null,null,null,null,null)),(e()(),Ja(3,null,[" "," "]))],null,(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit.id,""),ll(1,"",t.context.$implicit.image,"")),e(t,3,0,"O"==t.context.$implicit.side?"H\xe0m tr\xean":"U"==t.context.$implicit.side?"H\xe0m d\u01b0\u1edbi":"B"==t.context.$implicit.side?"Hai h\xe0m":t.context.$implicit.side+t.context.$implicit.number)}))}function LZ(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,["",""]))],(function(e,t){e(t,1,0,t.context.$implicit.id),e(t,2,0,t.context.$implicit.id)}),(function(e,t){e(t,3,0,t.context.$implicit.name)}))}function BZ(e){return no(0,[(e()(),La(0,0,null,null,3,"option",[],null,null,null,null,null)),jl(1,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(2,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(3,null,[" "," - ","/",""]))],(function(e,t){e(t,1,0,ll(2,"",t.context.$implicit.id," ",t.context.$implicit.unit,"")),e(t,2,0,ll(2,"",t.context.$implicit.id," ",t.context.$implicit.unit,""))}),(function(e,t){e(t,3,0,t.context.$implicit.name,t.context.$implicit.cost,t.context.$implicit.unit)}))}function VZ(e){return no(0,[(e()(),La(0,0,null,null,19,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(1,0,null,null,4,"div",[["class","col-lg-4 col-sm-12 col-md-4 col-xs-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y kh\xe1m"])),(e()(),La(5,0,[["date",1]],null,0,"input",[["style","width: 100%;"],["type","date"]],null,null,null,null,null)),(e()(),La(6,0,null,null,4,"div",[["class","col-lg-3 col-sm-12 col-md-3 col-xs-12"]],null,null,null,null,null)),(e()(),La(7,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(8,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Gi\u1edd"])),(e()(),La(10,0,[["time",1]],null,0,"input",[["style","width: 100%;"],["type","time"]],null,null,null,null,null)),(e()(),La(11,0,null,null,4,"div",[["class","col-lg-5 col-sm-12 col-md-5 col-xs-12"]],null,null,null,null,null)),(e()(),La(12,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(13,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u1ed9i dung"])),(e()(),La(15,0,[["message",1]],null,0,"input",[["style","width: 100%;"],["type","text"]],null,null,null,null,null)),(e()(),La(16,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(17,0,null,null,2,"div",[["class","col-12 mt-3 text-center"]],null,null,null,null,null)),(e()(),La(18,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onShedule(Ml(e,5).value,Ml(e,10).value,Ml(e,15).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["L\u01b0u l\u1ecbch h\u1eb9n"]))],null,null)}function zZ(e){return no(0,[(e()(),La(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"tr",[],null,null,null,null,null)),(e()(),Ja(-1,null,[" Kh\xf4ng c\xf3 kh\xe1ch h\xe0ng n\xe0o "]))],null,null)}function jZ(e){return no(0,[(e()(),La(0,0,null,null,8,"tr",[["class","tr-hover"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-html","true"],["data-toggle","tooltip"]],[[8,"title",0]],null,null,null,null)),(e()(),Ja(2,null,["",". "," "])),(e()(),La(3,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(4,0,null,null,1,"button",[["class","btn btn-success"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getCurrentPatient(e.context.$implicit.id,e.context.$implicit.patient.name,e.context.$implicit.note)&&i),i}),null,null)),(e()(),Ja(-1,null,["Ti\u1ebfp nh\u1eadn"])),(e()(),La(6,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onNextPatient(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["B\u1ecf qua"]))],null,(function(e,t){e(t,1,0,ll(1,"",t.context.$implicit.note,"")),e(t,2,0,t.context.index+1,t.context.$implicit.patient.name)}))}function HZ(e){return no(0,[(e()(),Na(16777216,null,null,1,null,jZ)),jl(1,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),Na(0,null,null,0))],(function(e,t){e(t,1,0,t.component.Patient)}),null)}function WZ(e){return no(0,[(e()(),La(0,0,null,null,8,"tr",[["style","height: 20px;"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["class","cls-padding"]],null,null,null,null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,1,"td",[["class","cls-padding"]],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[["class","cls-padding"]],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[["class","cls-padding cls-img hvr-pop"]],null,null,null,null,null)),(e()(),La(8,0,null,null,0,"img",[["alt",""],["height","30px"],["src","assets/img/icons8-delete-64.png"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.deleteDiagnosis(e.context.$implicit.id)&&i),i}),null,null))],null,(function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.service.name),e(t,6,0,t.context.$implicit.cost)}))}function UZ(e){return no(0,[(e()(),La(0,0,null,null,72,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,71,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,70,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,3,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(6,null,["\u0110ang kh\xe1m: "," (",")"])),(e()(),La(7,0,null,null,65,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(8,0,null,null,40,"div",[["class","col-lg-9 col-sm-9 col-md-9 col-xs-9 `"]],null,null,null,null,null)),(e()(),La(9,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(10,0,null,null,2,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12 parent-element"]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,NZ)),jl(12,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(13,0,null,null,3,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),La(14,0,null,null,2,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(15,0,null,null,1,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(16,0,[["note",1]],null,0,"textarea",[["id","doctor_note"],["name",""],["placeholder","Ch\u1ea9n \u0111o\xe1n..."],["rows","2"],["style","width: 100%;"]],null,null,null,null,null)),(e()(),La(17,0,null,null,19,"div",[["class","row mt-3"]],null,null,null,null,null)),(e()(),La(18,0,null,null,18,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(19,0,null,null,6,"div",[["class","col-lg-6 col-sm-6 col-md-6 col-xs-12"]],null,null,null,null,null)),(e()(),La(20,0,null,null,1,"label",[["class","col-12"],["style","padding-left: 0px;"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110i\u1ec1u tr\u1ecb"])),(e()(),La(22,0,null,null,3,"div",[["class","col-12"],["style","padding: 0px;"]],null,null,null,null,null)),(e()(),La(23,0,null,null,2,"select",[["style","width: 100%;"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.filterService(n.target.value)&&i),i}),null,null)),(e()(),Na(16777216,null,null,1,null,LZ)),jl(25,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(26,0,null,null,6,"div",[["class","col-lg-6 col-sm-6 col-md-6 col-xs-12"]],null,null,null,null,null)),(e()(),La(27,0,null,null,1,"label",[["class","col-12"],["style","padding-left: 0px;"]],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5"])),(e()(),La(29,0,null,null,3,"div",[["class","col-12"],["style","padding: 0px;"]],null,null,null,null,null)),(e()(),La(30,0,[["service",1]],null,2,"select",[["style","width: 100%;"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onSelectedService(n.target.value)&&i),i}),null,null)),(e()(),Na(16777216,null,null,1,null,BZ)),jl(32,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(33,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(34,0,null,null,2,"div",[["class","col-12 mt-3 text-right pr-5"]],null,null,null,null,null)),(e()(),La(35,0,null,null,1,"button",[["class","btn btn-primary"],["disabled",""],["id","btnsave"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onDiganosis(Ml(e,16).value,Ml(e,30).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["L\u01b0u d\u1ecbch v\u1ee5"])),(e()(),La(37,0,null,null,11,"div",[["class","row mt-5"]],null,null,null,null,null)),(e()(),La(38,0,null,null,4,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(39,0,null,null,3,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(40,0,null,null,2,"label",[["class","cls-label"]],null,null,null,null,null)),(e()(),La(41,0,null,null,0,"input",[["class","cls-input option-input checkbox"],["type","checkbox"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onEnableReExam()&&i),i}),null,null)),(e()(),Ja(-1,null,[" H\u1eb9n t\xe1i kh\xe1m"])),(e()(),Na(16777216,null,null,1,null,VZ)),jl(44,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"]},null),(e()(),La(45,0,null,null,3,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12"]],null,null,null,null,null)),(e()(),La(46,0,null,null,2,"div",[["class","col-12 mt-3 text-center"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"button",[["class","btn btn-warning"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onFinish()&&i),i}),null,null)),(e()(),Ja(-1,null,["Ho\xe0n t\u1ea5t h\u1ed3 s\u01a1 kh\xe1m"])),(e()(),La(49,0,null,null,23,"div",[["class","col-lg-3 col-sm-3 col-md-3 col-xs-3"]],null,null,null,null,null)),(e()(),La(50,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(51,0,null,null,7,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(52,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(53,0,null,null,3,"div",[["class","col-6 cls-hover hvr-grow"],["style","padding-left: 0px;"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onRefreshQueue()&&i),i}),null,null)),(e()(),La(54,0,null,null,2,"h4",[["class","font-weight-bold"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Danh s\xe1ch ch\u1edd"])),(e()(),La(56,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-history fa-fw ml-3"]],null,null,null,null,null)),(e()(),La(57,0,null,null,1,"div",[["class","col-6 cls-hover hvr-grow"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onReversePatient()&&i),i}),null,null)),(e()(),Ja(-1,null,[" Kh\xf4i ph\u1ee5c "])),(e()(),La(59,0,null,null,6,"div",[["class","row scrollbar"]],null,null,null,null,null)),(e()(),La(60,0,null,null,5,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12 gray-box"]],null,null,null,null,null)),(e()(),La(61,0,null,null,4,"table",[["class","table table-borderless table-hover"]],null,null,null,null,null)),(e()(),La(62,0,null,null,3,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,zZ)),jl(64,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["elseNULL",2]],null,0,null,HZ)),(e()(),La(66,0,null,null,6,"div",[["class","row scrollbar2"]],null,null,null,null,null)),(e()(),La(67,0,null,null,5,"div",[["class","col-lg-12 col-sm-12 col-md-12 col-xs-12 gray-box"]],null,null,null,null,null)),(e()(),La(68,0,null,null,4,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(69,0,null,null,3,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(70,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,WZ)),jl(72,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,12,0,n.tooth),e(t,25,0,n.Category),e(t,32,0,n.Service),e(t,44,0,1==n.EnableReExam),e(t,64,0,0==n.Patient.length,Ml(t,65)),e(t,72,0,n.Diagnosis)}),(function(e,t){var n=t.component;e(t,6,0,n.currentPatient.patient_name,n.currentPatient.note)}))}var YZ=ml("app-docter-examination",FZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-docter-examination",[],null,null,null,UZ,RZ)),jl(1,245760,null,0,FZ,[TZ,qn],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),qZ=function(){function e(t,n){_classCallCheck2(this,e),this.docterService=t,this.customerService=n,this._p=1,this.Customer=[],this.isCheckExamined=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(){var e=this;this.subscription=this.customerService.getPageCustomer(this._p).subscribe((function(t){e.Customer=t.results,e._total=t.count}),(function(e){}))}},{key:"filterCustomerByDoctor",value:function(){var e=this;this.subscription=this.customerService.filterCustomerByDoctor(this._p).subscribe((function(t){e.Customer=t.results,e._total=t.count}),(function(e){}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.customerService.getPageCustomer(this._p).subscribe((function(e){t.Customer=e.results}))}},{key:"onCheckExamined",value:function(){console.log("SOMETHING"),this.isCheckExamined=!this.isCheckExamined,this.isCheckExamined?(this._p=1,this.filterCustomerByDoctor()):(this._p=1,this.loadData())}},{key:"onSearch",value:function(e){var t=this;this.subscription.unsubscribe(),this.subscription=this.customerService.searchCustomer(e).subscribe((function(e){t.Customer=e.results}))}}]),e}(),GZ=Ei({encapsulation:0,styles:[[".option-input[_ngcontent-%COMP%]{-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;appearance:none;right:0;bottom:0;left:0;height:20px;width:20px;-webkit-transition:.15s ease-out;transition:all .15s ease-out 0s;background:#cbd1d8;border:none;color:#fff;cursor:pointer;display:inline-block;outline:0;position:relative;z-index:1000}.option-input[_ngcontent-%COMP%]:checked, .option-input[_ngcontent-%COMP%]:hover{background:#8a8a8a}.option-input[_ngcontent-%COMP%]:checked::before{height:20px;width:20px;position:absolute;content:'\u2714';display:inline-block;font-size:14px;text-align:center;line-height:20px;z-index:10000}.option-input[_ngcontent-%COMP%]:checked::after{-webkit-animation:.65s click-wave;animation:.65s click-wave;background:#8a8a8a;content:'';display:block;position:relative;z-index:100;height:20px;width:20px}.option-input.radio[_ngcontent-%COMP%], .option-input.radio[_ngcontent-%COMP%]::after{border-radius:50%}"]],data:{}});function XZ(e){return no(0,[(e()(),La(0,0,null,null,0,"img",[["alt"," "],["src","assets/img/icons8-male.png "],["width","15% "]],null,null,null,null,null))],null,null)}function KZ(e){return no(0,[(e()(),La(0,0,null,null,0,"img",[["alt"," "],["src","assets/img/icons8-female.png "],["width","15% "]],null,null,null,null,null))],null,null)}function $Z(e){return no(0,[(e()(),La(0,0,null,null,18,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(2,null,[" ",""])),(e()(),La(3,0,null,null,1,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,3,"td",[["data-target","#detailcustomer "],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,XZ)),jl(9,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["elseFemale",2]],null,0,null,KZ)),(e()(),La(11,0,null,null,7,"td",[["style","cursor: pointer; "]],null,null,null,null,null)),(e()(),La(12,0,null,null,6,"div",[["class","hvr-forward "]],null,null,null,null,null)),(e()(),La(13,0,null,null,5,"a",[["target","_blank "]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,14).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&i),i}),null,null)),jl(14,671744,null,0,rp,[ip,Gd,xs],{target:[0,"target"],routerLink:[1,"routerLink"]},null),$a(15,2),(e()(),La(16,0,null,null,0,"i",[["class","fa fa-mail-forward "]],null,null,null,null,null)),(e()(),Ja(-1,null,["L\u1ecbch s\u1eed kh\xe1m"])),(e()(),La(18,0,null,null,0,"span",[["class","text-muted "]],null,null,null,null,null))],(function(e,t){e(t,9,0,t.context.$implicit.gender,Ml(t,10));var n=e(t,15,0,"/comon/customer/",t.context.$implicit.id);e(t,14,0,"_blank ",n)}),(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.name),e(t,6,0,t.context.$implicit.phone),e(t,13,0,Ml(t,14).target,Ml(t,14).href)}))}function ZZ(e){return no(0,[(e()(),La(0,0,null,null,45,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,44,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,43,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,9,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(7,0,null,null,0,"div",[["class","col-2"]],null,null,null,null,null)),(e()(),La(8,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(9,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(10,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,[[null,"keyup"]],(function(e,t,n){var i=!0;return"keyup"===t&&(i=!1!==e.component.onSearch(Ml(e,10).value)&&i),i}),null,null)),(e()(),La(11,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSearch(Ml(e,10).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(13,0,null,null,32,"div",[["class","table-responsive "]],null,null,null,null,null)),(e()(),La(14,0,null,null,7,"div",[["class","row "]],null,null,null,null,null)),(e()(),La(15,0,null,null,2,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(16,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(17,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(18,0,null,null,3,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(19,0,null,null,2,"label",[["class","cls-label"]],null,null,null,null,null)),(e()(),La(20,0,null,null,0,"input",[["class","cls-input option-input checkbox"],["type","checkbox"]],null,[[null,"change"]],(function(e,t,n){var i=!0;return"change"===t&&(i=!1!==e.component.onCheckExamined()&&i),i}),null,null)),(e()(),Ja(-1,null,[" \u0110\xe3 kh\xe1m"])),(e()(),La(22,0,null,null,17,"table",[["class","table table-hover "]],null,null,null,null,null)),(e()(),La(23,0,null,null,11,"thead",[],null,null,null,null,null)),(e()(),La(24,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(27,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xean"])),(e()(),La(29,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["li\xean l\u1ea1c"])),(e()(),La(31,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["gi\u1edbi t\xednh"])),(e()(),La(33,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(35,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,$Z)),jl(37,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(38,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(40,0,null,null,5,"div",[["class","row "]],null,null,null,null,null)),(e()(),La(41,0,null,null,2,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(e()(),La(42,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(43,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(44,0,null,null,0,"div",[["class","col-sm-5 text-right "]],null,null,null,null,null)),(e()(),La(45,0,null,null,0,"div",[["class","col-sm-1 text-right "]],null,null,null,null,null))],(function(e,t){var n=t.component,i=Mi(t,37,0,Ml(t,39).transform(n.Customer,e(t,38,0,10,n._p,n._total)));e(t,37,0,i)}),null)}var QZ=ml("app-doctor-customer",qZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-doctor-customer",[],null,null,null,ZZ,GZ)),jl(1,245760,null,0,qZ,[TZ,Vk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),JZ=function(){function e(t){_classCallCheck2(this,e),this.doctorService=t,this._p=1,this.detailDiagnosis={cost:null,create_at:null,discount:null,examination:null,id:null,is_deleted:null,note:null,service:{id:null,name:null},service_cost:null,tooth:null,treatment:null}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadDiagnosis()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadDiagnosis",value:function(){var e=this;this.subscription=this.doctorService.getListDiagnosis(this._p).subscribe((function(t){e.Diagnosis=t.results,e._total=t.count}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.subscription=this.doctorService.getListDiagnosis(this._p).subscribe((function(e){t.Diagnosis=e.results}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"getDiagnosisDetail",value:function(e){var t=this;this.detailDiagnosis=this.Diagnosis.find((function(t){return t.id===e})),this.subscription=this.doctorService.getListService().subscribe((function(e){t.Services=e}),(function(e){}))}},{key:"updateDiagnosis",value:function(e){var t=this;this.doctorService.updateDiagnosis(this.detailDiagnosis.id,e).subscribe((function(e){t.loadDiagnosis(),ey.a.fire({title:"Success",text:"Kh\xf4i ph\u1ee5c m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",icon:"success"})}),(function(e){console.log(e);var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),eQ=Ei({encapsulation:0,styles:[[""]],data:{}});function tQ(e){return no(0,[(e()(),La(0,0,null,null,13,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(2,null,[" ",""])),(e()(),La(3,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[["data-target","#detailDiagnosis"],["data-toggle","modal "]],null,null,null,null,null)),(e()(),Ja(8,null,[" EXAM",""])),(e()(),La(9,0,null,null,4,"td",[],null,null,null,null,null)),(e()(),La(10,0,null,null,1,"button",[["class","btn btn-primary"],["data-target","#detailDiagnosis"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getDiagnosisDetail(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["C\u1eadp nh\u1eadt"])),(e()(),La(12,0,null,null,1,"button",[["class","btn btn-danger"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["X\xf3a"]))],null,(function(e,t){e(t,2,0,10*(t.component._p-1)+t.context.index+1),e(t,4,0,t.context.$implicit.service.name),e(t,6,0,t.context.$implicit.note),e(t,8,0,1e4+t.context.$implicit.examination.id)}))}function nQ(e){return no(0,[(e()(),La(0,0,null,null,37,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(1,0,null,null,36,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,35,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(3,0,null,null,7,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(4,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Basic Table"])),(e()(),La(7,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(8,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(9,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(10,0,null,null,0,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(11,0,null,null,26,"div",[["class","table-responsive "]],null,null,null,null,null)),(e()(),La(12,0,null,null,1,"div",[["class","row "]],null,null,null,null,null)),(e()(),La(13,0,null,null,0,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(14,0,null,null,17,"table",[["class","table table-hover "]],null,null,null,null,null)),(e()(),La(15,0,null,null,11,"thead",[],null,null,null,null,null)),(e()(),La(16,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["#"])),(e()(),La(19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5"])),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["M\xe3 phi\u1ebfu kh\xe1m"])),(e()(),La(25,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(27,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,tQ)),jl(29,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(30,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(32,0,null,null,5,"div",[["class","row "]],null,null,null,null,null)),(e()(),La(33,0,null,null,2,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(e()(),La(34,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(35,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(36,0,null,null,0,"div",[["class","col-sm-5 text-right "]],null,null,null,null,null)),(e()(),La(37,0,null,null,0,"div",[["class","col-sm-1 text-right "]],null,null,null,null,null)),(e()(),La(38,0,null,null,27,"div",[["class","modal fade"],["id","detailDiagnosis"],["role","dialog"]],null,null,null,null,null)),(e()(),La(39,0,null,null,26,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(40,0,null,null,25,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(41,0,null,null,3,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(42,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),La(43,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" Chi ti\u1ebft ch\u1ea9n \u0111o\xe1n "])),(e()(),La(45,0,null,null,17,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(46,0,null,null,16,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(47,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(48,0,null,null,14,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(49,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(50,0,null,null,1,"label",[["style","display: block;"]],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5"])),(e()(),La(52,0,null,null,4,"select",[["class","form-group"],["style","width: 50%;"]],null,null,null,null,null)),(e()(),La(53,0,null,null,3,"option",[["class","form-control"]],null,null,null,null,null)),jl(54,147456,null,0,bb,[Hn,qn,[8,null]],{value:[0,"value"]},null),jl(55,147456,null,0,_b,[Hn,qn,[8,null]],{value:[0,"value"]},null),(e()(),Ja(56,null,["",""])),(e()(),La(57,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(58,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(60,0,[["note",1]],null,0,"input",[["class","form-control"],["style","width: 50%;"],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(61,0,null,null,1,"button",[["class","btn btn-md btn-primary"],["data-dismiss","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.updateDiagnosis(Ml(e,60).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["L\u01b0u th\xf4ng tin"])),(e()(),La(63,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(64,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,29,0,Ml(t,31).transform(n.Diagnosis,e(t,30,0,10,n._p,n._total)));e(t,29,0,i),e(t,54,0,ll(1,"",n.detailDiagnosis.service.id,"")),e(t,55,0,ll(1,"",n.detailDiagnosis.service.id,""))}),(function(e,t){var n=t.component;e(t,56,0,n.detailDiagnosis.service.name),e(t,60,0,ll(1,"",n.detailDiagnosis.note,""))}))}var iQ=ml("app-doctor-diagnosis",JZ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-doctor-diagnosis",[],null,null,null,nQ,eQ)),jl(1,245760,null,0,JZ,[TZ],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),lQ=function(){function e(t){_classCallCheck2(this,e),this.doctorService=t,this._p=1,this.query="",this.docter={name:"loading"},this.patient={name:"loading"},this.detailExam={id:0,docter:null,patient:null,note:"loading"}}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData(this._p,"")}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(e,t){var n=this;this.subscription=this.doctorService.getPublicExamination(e,t).subscribe((function(e){n.Examination=e.results,n._total=e.count}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}},{key:"changePage",value:function(e){this._p=e,this.loadData(this._p,this.query)}},{key:"getDetailExam",value:function(e){var t=this;this.doctorService.getExaminationByID(e).subscribe((function(e){t.detailExam=e,t.docter=e.docter,t.patient=e.patient}),(function(e){console.log(e)})),this.doctorService.filterDiagnosisByExam(e).subscribe((function(e){t.Diagnosis=e}),(function(e){console.log(e)}))}},{key:"onSearch",value:function(e){this.subscription.unsubscribe(),this.query=e,this.loadData(1,e)}}]),e}(),rQ=Ei({encapsulation:0,styles:[[""]],data:{}});function aQ(e){return no(0,[(e()(),La(0,0,null,null,14,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,[" EXAM",""])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,[" ",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,[" ",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,[" ",""])),(e()(),La(9,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,[" ",""])),Ka(11,2),(e()(),La(12,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(13,0,null,null,1,"button",[["class","btn btn-danger"],["data-target","#detailExamination"],["data-toggle","modal"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getDetailExam(e.context.$implicit.id)&&i),i}),null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft"]))],null,(function(e,t){e(t,2,0,1e4+t.context.$implicit.id),e(t,4,0,t.context.$implicit.patient.name),e(t,6,0,t.context.$implicit.note),e(t,8,0,t.context.$implicit.docter.name);var n=Mi(t,10,0,e(t,11,0,Ml(t.parent,0),t.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));e(t,10,0,n)}))}function oQ(e){return no(0,[(e()(),La(0,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ja(1,null,["",""]))],null,(function(e,t){e(t,1,0,t.context.$implicit.service.name)}))}function sQ(e){return no(0,[Hl(0,Eu,[Fr]),(e()(),La(1,0,null,null,43,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(2,0,null,null,42,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(3,0,null,null,41,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(4,0,null,null,11,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(5,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(6,0,null,null,1,"h3",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(-1,null,["H\u1ed3 s\u01a1 kh\xe1m"])),(e()(),La(8,0,null,null,2,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(10,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(11,0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(e()(),La(12,0,null,null,3,"nav",[["class","navbar navbar-light text-right"]],null,null,null,null,null)),(e()(),La(13,0,[["searchfield",1]],null,0,"input",[["aria-label","Search"],["class","form-control mr-sm-2"],["placeholder","Search"],["style","width: 250px;"],["type","search"]],null,[[null,"keyup"]],(function(e,t,n){var i=!0;return"keyup"===t&&(i=!1!==e.component.onSearch(Ml(e,13).value)&&i),i}),null,null)),(e()(),La(14,0,null,null,1,"button",[["class","btn btn-outline-success my-2 my-sm-0"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.onSearch(Ml(e,13).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["Search"])),(e()(),La(16,0,null,null,28,"div",[["class","table-responsive "]],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"div",[["class","row "]],null,null,null,null,null)),(e()(),La(18,0,null,null,0,"div",[["class","col-6 "]],null,null,null,null,null)),(e()(),La(19,0,null,null,19,"table",[["class","table table-hover "]],null,null,null,null,null)),(e()(),La(20,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),La(21,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),La(22,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["M\xe3 phi\u1ebfu kh\xe1m"])),(e()(),La(24,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(26,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(28,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(e()(),La(30,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y t\u1ea1o"])),(e()(),La(32,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\xf9y ch\u1ecdn"])),(e()(),La(34,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,aQ)),jl(36,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(37,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(39,0,null,null,5,"div",[["class","row "]],null,null,null,null,null)),(e()(),La(40,0,null,null,2,"div",[["class","col-sm-6 "]],null,null,null,null,null)),(e()(),La(41,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(42,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(43,0,null,null,0,"div",[["class","col-sm-5 text-right "]],null,null,null,null,null)),(e()(),La(44,0,null,null,0,"div",[["class","col-sm-1 text-right "]],null,null,null,null,null)),(e()(),La(45,0,null,null,29,"div",[["class","modal fade"],["id","detailExamination"],["role","dialog"]],null,null,null,null,null)),(e()(),La(46,0,null,null,28,"div",[["class","modal-dialog modal-md"]],null,null,null,null,null)),(e()(),La(47,0,null,null,27,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(48,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(49,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(50,null,[" EXAM"," "])),(e()(),La(51,0,null,null,20,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(52,0,null,null,19,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(53,0,null,null,18,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(54,0,null,null,17,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(55,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(56,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Kh\xe1ch h\xe0ng"])),(e()(),La(58,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(59,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(60,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(e()(),La(62,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(63,0,null,null,3,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(64,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ghi ch\xfa"])),(e()(),La(66,0,null,null,0,"input",[["class","form-control"],["disabled",""],["type","text"]],[[8,"value",0]],null,null,null,null)),(e()(),La(67,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(68,0,null,null,1,"label",[["for",""]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ch\u1ea9n \u0111o\xe1n"])),(e()(),Na(16777216,null,null,1,null,oQ)),jl(71,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(72,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(73,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xf3ng"]))],(function(e,t){var n=t.component,i=Mi(t,36,0,Ml(t,38).transform(n.Examination,e(t,37,0,10,n._p,n._total)));e(t,36,0,i),e(t,71,0,n.Diagnosis)}),(function(e,t){var n=t.component;e(t,50,0,1e4+n.detailExam.id),e(t,58,0,ll(1,"",n.patient.name,"")),e(t,62,0,ll(1,"",n.docter.name,"")),e(t,66,0,ll(1,"",n.detailExam.note,""))}))}var uQ=ml("app-doctor-examinationhistory",lQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-doctor-examinationhistory",[],null,null,null,sQ,rQ)),jl(1,245760,null,0,lQ,[TZ],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),cQ=(new qe("JWT_OPTIONS"),function(){function e(e){void 0===e&&(e=null),this.tokenGetter=e&&e.tokenGetter||function(){}}return e.prototype.urlBase64Decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}return this.b64DecodeUnicode(t)},e.prototype.b64decode=function(e){var t="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n=0,i=void 0,l=void 0,r=0;l=e.charAt(r++);~l&&(i=n%4?64*i+l:l,n++%4)?t+=String.fromCharCode(255&i>>(-2*n&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return t},e.prototype.b64DecodeUnicode=function(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))},e.prototype.decodeToken=function(e){if(void 0===e&&(e=this.tokenGetter()),!e||""===e)return null;var t=e.split(".");if(3!==t.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)},e.prototype.getTokenExpirationDate=function(e){var t;if(void 0===e&&(e=this.tokenGetter()),!(t=this.decodeToken(e))||!t.hasOwnProperty("exp"))return null;var n=new Date(0);return n.setUTCSeconds(t.exp),n},e.prototype.isTokenExpired=function(e,t){if(void 0===e&&(e=this.tokenGetter()),!e||""===e)return!0;var n=this.getTokenExpirationDate(e);return t=t||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*t)},e}());n("CxY0");var hQ=function(){function e(t,n){_classCallCheck2(this,e),this.http=t,this.router=n,this.API=cs.urlApi}return _createClass2(e,[{key:"ngOnInit",value:function(){if(null!=localStorage.getItem("bearToken")){var e=(new cQ).decodeToken(localStorage.getItem("bearToken"));this.router.navigate("admin"==e.type?["admin"]:"doctor"==e.type?["doctor"]:[""])}}},{key:"login",value:function(e,t){this.http.post("".concat(this.API,"/api/user/login/"),{username:e,password:t}).subscribe((function(e){localStorage.setItem("bearToken",e.access),localStorage.setItem("refresh",e.refresh),window.location.reload()}),(function(e){var t=JSON.stringify(e.error);ey.a.fire({title:"Error!",text:t,icon:"error",confirmButtonText:"Cool"})}))}}]),e}(),dQ=Ei({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#17a2b8;height:100vh}#login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #login-row[_ngcontent-%COMP%]   #login-column[_ngcontent-%COMP%]   #login-box[_ngcontent-%COMP%]{margin-top:120px;max-width:600px;height:320px;border:1px solid #9c9c9c;background-color:#eaeaea}#login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #login-row[_ngcontent-%COMP%]   #login-column[_ngcontent-%COMP%]   #login-box[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]{padding:20px}#login[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   #login-row[_ngcontent-%COMP%]   #login-column[_ngcontent-%COMP%]   #login-box[_ngcontent-%COMP%]   #login-form[_ngcontent-%COMP%]   #register-link[_ngcontent-%COMP%]{margin-top:-85px}"]],data:{}});function fQ(e){return no(0,[(e()(),La(0,0,null,null,39,"div",[["id","login"]],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"h3",[["class","text-center text-white pt-5"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Login form"])),(e()(),La(3,0,null,null,36,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(4,0,null,null,35,"div",[["class","row justify-content-center align-items-center"],["id","login-row"]],null,null,null,null,null)),(e()(),La(5,0,null,null,34,"div",[["class","col-md-6"],["id","login-column"]],null,null,null,null,null)),(e()(),La(6,0,null,null,33,"div",[["class","col-md-12"],["id","login-box"]],null,null,null,null,null)),(e()(),La(7,0,null,null,32,"form",[["action",""],["class","form"],["id","login-form"],["method","post"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var i=!0;return"submit"===t&&(i=!1!==Ml(e,9).onSubmit(n)&&i),"reset"===t&&(i=!1!==Ml(e,9).onReset()&&i),i}),null,null)),jl(8,16384,null,0,Qb,[],null,null),jl(9,4210688,null,0,Yb,[[8,null],[8,null]],null,null),Wl(2048,null,$y,null,[Yb]),jl(11,16384,null,0,tb,[[4,$y]],null,null),(e()(),La(12,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(13,0,null,null,1,"h3",[["class","text-center text-info"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Login"])),(e()(),La(15,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(16,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(17,0,null,null,1,"label",[["class","text-info"],["for","username"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Username:"])),(e()(),La(19,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(20,0,[["username",1]],null,0,"input",[["class","form-control"],["id","username"],["name","username"],["type","text"]],null,null,null,null,null)),(e()(),La(21,0,null,null,5,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(22,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(23,0,null,null,1,"label",[["class","text-info"],["for","password"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Password:"])),(e()(),La(25,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(26,0,[["password",1]],null,0,"input",[["class","form-control"],["id","password"],["name","password"],["type","password"]],null,null,null,null,null)),(e()(),La(27,0,null,null,9,"div",[["class","row ml-2 mr-2"]],null,null,null,null,null)),(e()(),La(28,0,null,null,7,"div",[["class","col-6"]],null,null,null,null,null)),(e()(),La(29,0,null,null,6,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),La(30,0,null,null,5,"label",[["class","text-info"],["for","remember-me"]],null,null,null,null,null)),(e()(),La(31,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Remember me"])),(e()(),Ja(-1,null,["\xa0"])),(e()(),La(34,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),La(35,0,null,null,0,"input",[["id","remember-me"],["name","remember-me"],["type","checkbox"]],null,null,null,null,null)),(e()(),La(36,0,null,null,0,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(e()(),La(37,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),La(38,0,null,null,1,"button",[["class","btn btn-info btn-md"],["name","submit"],["style","width: 25%; font-size: 14px; padding: auto 12px !important;"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.login(Ml(e,20).value,Ml(e,26).value)&&i),i}),null,null)),(e()(),Ja(-1,null,["\u0110\u0103ng nh\u1eadp"]))],null,(function(e,t){e(t,7,0,Ml(t,11).ngClassUntouched,Ml(t,11).ngClassTouched,Ml(t,11).ngClassPristine,Ml(t,11).ngClassDirty,Ml(t,11).ngClassValid,Ml(t,11).ngClassInvalid,Ml(t,11).ngClassPending)}))}var pQ=ml("app-login-page",hQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-login-page",[],null,null,null,fQ,dQ)),jl(1,114688,null,0,hQ,[by,ip],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),vQ=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.activatedRouterService=t,this.routerService=n,this.doctorService=i,this.customerService=l,this.Customer={name:"loading"},this.Examination=[],this.Diagnosis=[],this.ExamDetail={id:0},this.Doctor={name:"loading"},this._p=1}return _createClass2(e,[{key:"ngOnInit",value:function(){this.loadData()}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"loadData",value:function(){var e=this;this.subscriptionParams=this.activatedRouterService.params.subscribe((function(t){e.subscription=e.customerService.filterExaminationByPatient(e._p,t.id).subscribe((function(t){e.Examination=t.results,e._total=t.count})),e.customerService.getDetailCustomer(t.id).subscribe((function(t){e.Customer=t}))}))}},{key:"changePage",value:function(e){var t=this;this._p=e,this.customerService.getPageCustomer(this._p).subscribe((function(e){t.Customer=e.results}))}},{key:"getDetail",value:function(e,t){var n=this;this.subscription=this.customerService.filterDiagnosisByExam(e).subscribe((function(e){n.Diagnosis=e,n.ExamDetail=n.Examination[t],n.Doctor=n.ExamDetail.docter}),(function(e){}))}}]),e}(),gQ=Ei({encapsulation:0,styles:[[".cls-bbcontent[_ngcontent-%COMP%]{border:1px solid #000}.container-photoview[_ngcontent-%COMP%]{height:95vh;overflow:hidden;padding:0}"]],data:{}});function mQ(e){return no(0,[(e()(),La(0,0,null,null,1,"img",[["height","50px"],["lightbox",""],["width","50px"]],[[8,"src",4],[2,"lightbox-single",null],[2,"lightbox-simple-mode",null]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==Ml(e,1).onClick(n)&&i),i}),null,null)),jl(1,540672,null,0,$p,[Kp,Yp,Hn],null,null)],null,(function(e,t){e(t,0,0,ll(1,"",t.context.$implicit.image,""),Ml(t,1).hostLightboxGroup,Ml(t,1).hostSimpleMode)}))}function yQ(e){return no(0,[(e()(),La(0,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,mQ)),jl(2,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.parent.context.$implicit.examination_in_photo)}),null)}function bQ(e){return no(0,[(e()(),La(0,0,null,null,3,"td",[],null,null,null,null,null)),(e()(),La(1,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ch\u01b0a c\xf3 \u1ea3nh \u0111\u01b0\u1ee3c t\u1ea3i l\xean"]))],null,null)}function kQ(e){return no(0,[(e()(),La(0,0,null,null,18,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,["EXAM",""])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),Na(16777216,null,null,1,null,yQ)),jl(8,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["noneImage",2]],null,0,null,bQ)),(e()(),La(10,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),Ja(11,null,["",""])),Ka(12,2),(e()(),La(13,0,null,null,5,"td",[["style","cursor: pointer;"]],null,null,null,null,null)),(e()(),La(14,0,null,null,4,"div",[["class","hvr-forward"]],null,null,null,null,null)),(e()(),La(15,0,null,null,3,"a",[["data-target","#modalExamination"],["data-toggle","modal"]],null,[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==e.component.getDetail(e.context.$implicit.id,e.context.index)&&i),i}),null,null)),(e()(),La(16,0,null,null,0,"i",[["class","fa fa-mail-forward"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Xem chi ti\u1ebft"])),(e()(),La(18,0,null,null,0,"span",[["class","text-muted"]],null,null,null,null,null))],(function(e,t){e(t,8,0,t.context.$implicit.examination_in_photo.length>0,Ml(t,9))}),(function(e,t){e(t,2,0,1e4+t.context.$implicit.id),e(t,4,0,t.context.$implicit.note),e(t,6,0,t.context.$implicit.docter.name);var n=Mi(t,11,0,e(t,12,0,Ml(t.parent,0),t.context.$implicit.create_at,"dd/MM/yyyy hh:mm a"));e(t,11,0,n)}))}function _Q(e){return no(0,[(e()(),La(0,0,null,null,10,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,["",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.service.name),e(t,6,0,t.context.$implicit.cost),e(t,8,0,t.context.$implicit.cost/t.context.$implicit.service_cost),e(t,10,0,t.context.$implicit.cost-t.context.$implicit.discount)}))}function wQ(e){return no(0,[Hl(0,Eu,[Fr]),(e()(),La(1,0,null,null,34,"div",[],null,null,null,null,null)),(e()(),La(2,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(3,0,null,null,32,"div",[["class","col-sm-12"]],null,null,null,null,null)),(e()(),La(4,0,null,null,31,"div",[["class","white-box"]],null,null,null,null,null)),(e()(),La(5,0,null,null,3,"div",[["class","row menubar-3"]],null,null,null,null,null)),(e()(),La(6,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(7,0,null,null,1,"h4",[["class","box-title"]],null,null,null,null,null)),(e()(),Ja(8,null,["H\u1ed3 s\u01a1: ",""])),(e()(),La(9,0,null,null,26,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(10,0,null,null,19,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(11,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),La(12,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),La(13,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["M\xe3 phi\u1ebfu kh\xe1m"])),(e()(),La(15,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u1ed9i dung kh\xe1m"])),(e()(),La(17,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["B\xe1c s\u0129 kh\xe1m"])),(e()(),La(19,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u1ea2nh theo d\xf5i"])),(e()(),La(21,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ng\xe0y kh\xe1m"])),(e()(),La(23,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ti\u1ebft"])),(e()(),La(25,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,3,null,kQ)),jl(27,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),Za(28,{itemsPerPage:0,currentPage:1,totalItems:2}),Hl(0,pk,[hk]),(e()(),La(30,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(31,0,null,null,2,"div",[["class","col-sm-6"]],null,null,null,null,null)),(e()(),La(32,0,null,null,1,"pagination-controls",[],null,[[null,"pageChange"]],(function(e,t,n){var i=!0;return"pageChange"===t&&(i=!1!==e.component.changePage(n)&&i),i}),Fk,xk)),jl(33,49152,null,0,yk,[],null,{pageChange:"pageChange"}),(e()(),La(34,0,null,null,0,"div",[["class","col-sm-5 text-right"]],null,null,null,null,null)),(e()(),La(35,0,null,null,0,"div",[["class","col-sm-1 text-right"]],null,null,null,null,null)),(e()(),La(36,0,null,null,35,"div",[["class","modal fade"],["id","modalExamination"],["role","dialog"]],null,null,null,null,null)),(e()(),La(37,0,null,null,34,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(e()(),La(38,0,null,null,33,"div",[["class","modal-content"]],null,null,null,null,null)),(e()(),La(39,0,null,null,2,"div",[["class","modal-header"]],null,null,null,null,null)),(e()(),La(40,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(e()(),Ja(41,null,[" M\xe3 phi\u1ebfu kh\xe1m: EXAM"," "])),(e()(),La(42,0,null,null,26,"div",[["class","modal-body"]],null,null,null,null,null)),(e()(),La(43,0,null,null,25,"div",[["class","container"]],null,null,null,null,null)),(e()(),La(44,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(45,0,null,null,23,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(46,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6"]],null,null,null,null,null)),(e()(),Ja(48,null,[" Kh\xe1ch h\xe0ng: "," "])),(e()(),La(49,0,null,null,1,"div",[["class","col-xs-6 col-sm-6 col-md-6 col-lg-6"]],null,null,null,null,null)),(e()(),Ja(50,null,[" B\xe1c s\u0129 kh\xe1m: "," "])),(e()(),La(51,0,null,null,17,"div",[["class","row text-center"]],null,null,null,null,null)),(e()(),La(52,0,null,null,16,"div",[["class","col-xs-12 col-sm-12 col-md-12 col-lg-12"]],null,null,null,null,null)),(e()(),La(53,0,null,null,15,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(54,0,null,null,14,"table",[["class","table table-hover"]],null,null,null,null,null)),(e()(),La(55,0,null,null,10,"thead",[],null,null,null,null,null)),(e()(),La(56,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["STT"])),(e()(),La(58,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5"])),(e()(),La(60,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u01a1n gi\xe1"])),(e()(),La(62,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u1ed1 l\u01b0\u1ee3ng"])),(e()(),La(64,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xe0nh ti\u1ec1n"])),(e()(),La(66,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,_Q)),jl(68,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(69,0,null,null,2,"div",[["class","modal-footer"]],null,null,null,null,null)),(e()(),La(70,0,null,null,1,"button",[["class","btn btn-default"],["data-dismiss","modal"],["type","button"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Close"]))],(function(e,t){var n=t.component,i=Mi(t,27,0,Ml(t,29).transform(n.Examination,e(t,28,0,10,n._p,n._total)));e(t,27,0,i),e(t,68,0,n.Diagnosis)}),(function(e,t){var n=t.component;e(t,8,0,n.Customer.name),e(t,41,0,1e4+n.ExamDetail.id),e(t,48,0,n.Customer.name),e(t,50,0,n.Doctor.name)}))}var xQ=ml("app-doctor-customer-history",vQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-doctor-customer-history",[],null,null,null,wQ,gQ)),jl(1,245760,null,0,vQ,[Gd,ip,TZ,Vk],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),CQ=function(){function e(t,n,i){_classCallCheck2(this,e),this.printerService=t,this.staffService=n,this.httpClient=i,this.httpOptions={headers:new ly({"Content-Type":"application/json",Authorization:"Bearer "+cs.token})},this.invoice={voucher:null,cost:null,paid:null,owe:null},this.patient={name:null,phone:null,qrcoce:null},this.doctor={name:null},this.exam={note:null},this.reexam={time:null,date:null,detail:null},this.staff={name:null}}return _createClass2(e,[{key:"ngOnInit",value:function(){return OG(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,i,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=localStorage.getItem("id_exam")){e.next=4;break}ey.a.fire({title:"Error!",text:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",icon:"error",confirmButtonText:"Cool"}),e.next=20;break;case 4:return e.next=6,this.printInvoice();case 6:return t=e.sent,this.invoice=t,this.patient=t.examination.patient,this.doctor=t.examination.docter,this.exam=t.examination,e.next=10,this.getDiagnosis();case 10:return n=e.sent,this.diagnosis=n,e.next=14,this.getAppointment();case 14:return i=e.sent,this.reexam=i,e.next=18,this.getStaff();case 18:l=e.sent,this.staff=l.results[0],console.log("STAFF",this.staff),this.printerService.printCurrentWindow();case 20:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"printInvoice",value:function(){return this.staffService.getInvoicetoPrint(Number(localStorage.getItem("id_invoice")))}},{key:"getDiagnosis",value:function(){var e=localStorage.getItem("id_exam");return this.staffService.getDiagnosisByExamtoPrint(Number(e))}},{key:"getAppointment",value:function(){var e=localStorage.getItem("id_exam");return this.staffService.getScheduleByExamtoPrint(Number(e))}},{key:"getStaff",value:function(){return this.staffService.getUserProfiletoPrint()}},{key:"_sleep",value:function(e){var t=Date.now(),n=null;do{n=Date.now()}while(n-t<e)}}]),e}(),SQ=Ei({encapsulation:0,styles:[[".container-lv2[_ngcontent-%COMP%]{margin:5rem}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border-top:none;border-bottom:none}"]],data:{}});function TQ(e){return no(0,[(e()(),La(0,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),La(1,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(2,null,["",""])),(e()(),La(3,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(4,null,["",""])),(e()(),La(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(6,null,["",""])),(e()(),La(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(8,null,["",""])),(e()(),La(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(10,null,["-",""])),(e()(),La(11,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(12,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.index+1),e(t,4,0,t.context.$implicit.service.name),e(t,6,0,t.context.$implicit.service.cost),e(t,8,0,t.context.$implicit.cost/t.context.$implicit.service.cost),e(t,10,0,t.context.$implicit.discount),e(t,12,0,t.context.$implicit.cost-t.context.$implicit.discount)}))}function PQ(e){return no(0,[(e()(),La(0,0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(1,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ja(3,null,["T\xe1i kh\xe1m ng\xe0y: "," v\xe0o l\xfac ",""])),(e()(),La(4,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ja(6,null,["N\u1ed9i dung t\xe1i kh\xe1m: ",""]))],null,(function(e,t){var n=t.component;e(t,3,0,n.reexam.date,n.reexam.time),e(t,6,0,n.reexam.detail)}))}function MQ(e){return no(0,[(e()(),La(0,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(1,0,null,null,0,"h4",[],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(3,0,null,null,0,"h4",[],null,null,null,null,null))],null,null)}function AQ(e){return no(0,[(e()(),La(0,0,null,null,122,"div",[["class","container mt-5"]],null,null,null,null,null)),(e()(),La(1,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(2,0,null,null,1,"div",[["class","col-6 text-left"]],null,null,null,null,null)),(e()(),La(3,0,null,null,0,"img",[["alt",""],["width","40%"]],[[8,"src",4]],null,null,null,null)),(e()(),La(4,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(e()(),La(5,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(6,0,null,null,0,"img",[["alt",""],["src","assets/plugins/images/gdental.png"]],null,null,null,null,null)),(e()(),La(7,0,null,null,2,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(8,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Ph\xf2ng Kh\xe1m Nha Khoa GDental"])),(e()(),La(10,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(11,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),La(12,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ja(-1,null,["H\xf3a \u0110\u01a1n Thanh To\xe1n"])),(e()(),La(14,0,null,null,1,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" ---------oOo--------- "])),(e()(),La(16,0,null,null,94,"div",[["class","container-lv2"]],null,null,null,null,null)),(e()(),La(17,0,null,null,90,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(18,0,null,null,89,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(19,0,null,null,88,"table",[["class","table table-borderless"]],null,null,null,null,null)),(e()(),La(20,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),La(21,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),La(22,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(e()(),La(23,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(e()(),La(24,0,null,null,83,"tbody",[],null,null,null,null,null)),(e()(),La(25,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),La(26,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(27,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(28,null,["B\u1ec7nh nh\xe2n: ",""])),(e()(),La(29,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(30,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(31,null,["B\xe1c s\u0129 kh\xe1m: ",""])),(e()(),La(32,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),La(33,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(34,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(35,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: ",""])),(e()(),La(36,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(37,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Chuy\xean khoa: ..."])),(e()(),La(39,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),La(40,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),La(41,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(42,null,["Ghi ch\xfa: ",""])),(e()(),La(43,0,null,null,64,"tr",[],null,null,null,null,null)),(e()(),La(44,0,null,null,63,"td",[["class","text-center"],["colspan","2"]],null,null,null,null,null)),(e()(),La(45,0,null,null,62,"table",[["class","table table-bodered"],["style","width: 100%;font-size:large;"]],null,null,null,null,null)),(e()(),La(46,0,null,null,13,"thead",[],null,null,null,null,null)),(e()(),La(47,0,null,null,12,"tr",[],null,null,null,null,null)),(e()(),La(48,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["STT"])),(e()(),La(50,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["D\u1ecbch v\u1ee5 kh\xe1m"])),(e()(),La(52,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\u01a1n gi\xe1"])),(e()(),La(54,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["S\u1ed1 l\u01b0\u1ee3ng"])),(e()(),La(56,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Khuy\u1ebfn m\xe3i"])),(e()(),La(58,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Th\xe0nh ti\u1ec1n"])),(e()(),La(60,0,null,null,47,"tbody",[],null,null,null,null,null)),(e()(),Na(16777216,null,null,1,null,TQ)),jl(62,278528,null,0,gu,[di,ci,ri],{ngForOf:[0,"ngForOf"]},null),(e()(),La(63,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),La(64,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(65,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(66,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(67,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(68,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Voucher: "])),(e()(),La(70,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(71,null,[" "," "])),(e()(),La(72,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),La(73,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(74,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(75,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(76,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(77,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Chi ph\xed: "])),(e()(),La(79,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(80,null,["",""])),(e()(),La(81,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),La(82,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(83,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(84,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(85,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(86,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["N\u1ee3: "])),(e()(),La(88,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(89,null,["",""])),(e()(),La(90,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),La(91,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(92,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(93,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(94,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(95,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["T\u1ed5ng c\u1ed9ng: "])),(e()(),La(97,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(98,null,["",""])),(e()(),La(99,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),La(100,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(101,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(102,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(103,0,null,null,0,"td",[],null,null,null,null,null)),(e()(),La(104,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(-1,null,["\u0110\xe3 tr\u1ea3: "])),(e()(),La(106,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),Ja(107,null,["",""])),(e()(),Na(16777216,null,null,1,null,PQ)),jl(109,16384,null,0,yu,[di,ci],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),Na(0,[["NotReexam",2]],null,0,null,MQ)),(e()(),La(111,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(112,0,null,null,0,"div",[["class","col-9 text-right"]],null,null,null,null,null)),(e()(),La(113,0,null,null,2,"div",[["class","col-3 text-center"]],null,null,null,null,null)),(e()(),La(114,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xe2n vi\xean thu ti\u1ec1n"])),(e()(),La(116,0,null,null,0,"div",[["class","col-9 text-right"]],null,null,null,null,null)),(e()(),La(117,0,null,null,2,"div",[["class","col-3 text-center"]],null,null,null,null,null)),(e()(),La(118,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Ja(119,null,[""," "])),(e()(),La(120,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(121,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),La(122,0,null,null,0,"br",[],null,null,null,null,null))],(function(e,t){var n=t.component;e(t,62,0,n.diagnosis),e(t,109,0,null!=n.reexam,Ml(t,110))}),(function(e,t){var n=t.component;e(t,3,0,ll(1,"",n.patient.qrcoce,"")),e(t,28,0,n.patient.name),e(t,31,0,n.doctor.name),e(t,35,0,n.patient.phone),e(t,42,0,n.exam.note),e(t,71,0,n.invoice.voucher?n.invoice.voucher.amount:0),e(t,80,0,n.invoice.cost),e(t,89,0,n.invoice.owe),e(t,98,0,n.invoice.cost+n.invoice.owe),e(t,107,0,n.invoice.paid),e(t,119,0,n.staff.name)}))}var IQ=ml("app-print-involve-layout",CQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-print-involve-layout",[],null,null,null,AQ,SQ)),jl(1,245760,null,0,CQ,[gs,jk,by],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),EQ=function(){function e(t,n){_classCallCheck2(this,e),this.staffService=t,this.printerService=n,this.Examination={id:0,patient:null,note:"loading"},this.patient={name:"loading",phone:"loading"},this.doctor={name:"loading"},this.staff={name:"loading"}}return _createClass2(e,[{key:"ngOnInit",value:function(){return OG(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=localStorage.getItem("id_exam")){e.next=4;break}ey.a.fire({title:"Error!",text:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",icon:"error",confirmButtonText:"Cool"}),e.next=8;break;case 4:return e.next=6,this.printExamination();case 6:t=e.sent,this.Examination=t,this.patient=t.patient,this.doctor=t.docter,this.staff=t.staff,this.printerService.printCurrentWindow();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"printExamination",value:function(){return this.staffService.getExaminationByIdtoPrint(Number(localStorage.getItem("id_exam")))}}]),e}(),DQ=Ei({encapsulation:0,styles:[[""]],data:{}});function OQ(e){return no(0,[(e()(),La(0,0,null,null,52,"div",[["class","container mt-5"]],null,null,null,null,null)),(e()(),La(1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(2,0,null,null,2,"div",[["class","col-6 text-left pl-5 pt-5"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"h1",[["class","pl-2"],["style","font-size: 30px;"]],null,null,null,null,null)),(e()(),Ja(4,null,["STT: ",""])),(e()(),La(5,0,null,null,5,"div",[["class","col-6 text-right"]],null,null,null,null,null)),(e()(),La(6,0,null,null,1,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(7,0,null,null,0,"img",[["alt",""],["src","assets/plugins/images/gdental.png"]],null,null,null,null,null)),(e()(),La(8,0,null,null,2,"div",[["class","col-12 pr-5"]],null,null,null,null,null)),(e()(),La(9,0,null,null,1,"p",[["style","font-weight: bold;"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Ph\xf2ng Kh\xe1m Nha Khoa GDental"])),(e()(),La(11,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(12,0,null,null,2,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),La(13,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Phi\u1ebfu kh\xe1m"])),(e()(),La(15,0,null,null,1,"div",[["class","col-12 text-center"]],null,null,null,null,null)),(e()(),Ja(-1,null,[" ---------oOo--------- "])),(e()(),La(17,0,null,null,26,"div",[["class","container-lv2"]],null,null,null,null,null)),(e()(),La(18,0,null,null,25,"div",[["class","col-12"]],null,null,null,null,null)),(e()(),La(19,0,null,null,24,"div",[["class","table-responsive"]],null,null,null,null,null)),(e()(),La(20,0,null,null,23,"table",[["class","table table-borderless"]],null,null,null,null,null)),(e()(),La(21,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),La(22,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),La(23,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(e()(),La(24,0,null,null,0,"th",[["style","width: 50%;"]],null,null,null,null,null)),(e()(),La(25,0,null,null,18,"tbody",[],null,null,null,null,null)),(e()(),La(26,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),La(27,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(28,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(29,null,["B\u1ec7nh nh\xe2n: ",""])),(e()(),La(30,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(31,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(32,null,["B\xe1c s\u0129 kh\xe1m: ",""])),(e()(),La(33,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),La(34,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(35,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(36,null,["S\u1ed1 \u0111i\u1ec7n tho\u1ea1i: ",""])),(e()(),La(37,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),La(38,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Chuy\xean khoa: ..."])),(e()(),La(40,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),La(41,0,null,null,2,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),La(42,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),Ja(43,null,["Ghi ch\xfa: ",""])),(e()(),La(44,0,null,null,8,"div",[["class","row"]],null,null,null,null,null)),(e()(),La(45,0,null,null,0,"div",[["class","col-7 text-right"]],null,null,null,null,null)),(e()(),La(46,0,null,null,2,"div",[["class","col-5 text-center"]],null,null,null,null,null)),(e()(),La(47,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Ja(-1,null,["Nh\xe2n vi\xean ch\u1ecbu tr\xe1ch nhi\u1ec7m"])),(e()(),La(49,0,null,null,0,"div",[["class","col-7 text-right"]],null,null,null,null,null)),(e()(),La(50,0,null,null,2,"div",[["class","col-5 text-center"]],null,null,null,null,null)),(e()(),La(51,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Ja(52,null,[" "," "]))],null,(function(e,t){var n=t.component;e(t,4,0,n.Examination.id),e(t,29,0,n.Examination.patient.name),e(t,32,0,n.doctor.name),e(t,36,0,n.patient.phone),e(t,43,0,n.Examination.note),e(t,52,0,n.staff.name)}))}var FQ=ml("app-print-examination-layout",EQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-print-examination-layout",[],null,null,null,OQ,DQ)),jl(1,245760,null,0,EQ,[jk,gs],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),RQ=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}(),NQ=Ei({encapsulation:0,styles:[[""]],data:{}});function LQ(e){return no(0,[],null,null)}var BQ=ml("app-print-invoice",RQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-print-invoice",[],null,null,null,LQ,NQ)),jl(1,114688,null,0,RQ,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),VQ=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}(),zQ=Ei({encapsulation:0,styles:[[""]],data:{}});function jQ(e){return no(0,[(e()(),La(0,0,null,null,12,"section",[["class","error-page"],["id","wrapper"]],null,null,null,null,null)),(e()(),La(1,0,null,null,11,"div",[["class","error-box"]],null,null,null,null,null)),(e()(),La(2,0,null,null,8,"div",[["class","error-body text-center"]],null,null,null,null,null)),(e()(),La(3,0,null,null,1,"h1",[["class","text-danger"]],null,null,null,null,null)),(e()(),Ja(-1,null,["404"])),(e()(),La(5,0,null,null,1,"h3",[["class","text-uppercase"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Page Not Found !"])),(e()(),La(7,0,null,null,1,"p",[["class","text-muted m-t-30 m-b-30"]],null,null,null,null,null)),(e()(),Ja(-1,null,["YOU SEEM TO BE TRYING TO FIND HIS WAY HOME"])),(e()(),La(9,0,null,null,1,"a",[["class","btn btn-danger btn-rounded waves-effect waves-light m-b-40"],["href","dashboard.html"]],null,null,null,null,null)),(e()(),Ja(-1,null,["Back to home"])),(e()(),La(11,0,null,null,1,"footer",[["class","footer text-center"]],null,null,null,null,null)),(e()(),Ja(-1,null,["2017 \xa9 Ample Admin."]))],null,null)}var HQ=ml("app-page404",VQ,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-page404",[],null,null,null,jQ,zQ)),jl(1,114688,null,0,VQ,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),WQ=Ei({encapsulation:0,styles:[[""]],data:{}});function UQ(e){return no(0,[(e()(),La(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),jl(1,212992,null,0,up,[sp,di,Bn,[8,null],Zt],null,null)],(function(e,t){e(t,1,0)}),null)}var YQ=ml("app-root",ds,(function(e){return no(0,[(e()(),La(0,0,null,null,1,"app-root",[],null,null,null,UQ,WQ)),jl(1,49152,null,0,ds,[],null,null)],null,null)}),{},{},[]);function qQ(){return"undefined"!=typeof process}function GQ(e){switch(e.length){case 0:return new cg;case 1:return e[0];default:return new hg(e)}}function XQ(e,t,n,i){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],o=[],s=-1,u=null;if(i.forEach((function(e){var n=e.offset,i=n==s,c=i&&u||{};Object.keys(e).forEach((function(n){var i=n,o=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,a),o){case dg:o=l[n];break;case rg:o=r[n];break;default:o=t.normalizeStyleValue(n,i,o,a)}c[i]=o})),i||o.push(c),u=c,s=n})),a.length){throw new Error("Unable to animate due to the following errors:".concat("\n - ").concat(a.join("\n - ")))}return o}function KQ(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&$Q(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&$Q(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&$Q(n,"destroy",e))}))}}function $Q(e,t,n){var i=n.totalTime,l=ZQ(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),r=e._data;return null!=r&&(l._data=r),l}function ZQ(e,t,n,i){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",totalTime:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,disabled:!!(arguments.length>6?arguments[6]:void 0)}}function QQ(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function JQ(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var eJ=function(e,t){return!1},tJ=function(e,t){return!1},nJ=function(e,t,n){return[]},iJ=qQ();(iJ||"undefined"!=typeof Element)&&(eJ=function(e,t){return e.contains(t)},tJ=function(){if(iJ||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:tJ}(),nJ=function(e,t,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(e.querySelectorAll(t)));else{var l=e.querySelector(t);l&&i.push(l)}return i});var lJ=null,rJ=!1;function aJ(e){lJ||(lJ=("undefined"!=typeof document?document.body:null)||{},rJ=!!lJ.style&&"WebkitAppearance"in lJ.style);var t=!0;return lJ.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in lJ.style)&&rJ&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in lJ.style),t}var oJ=tJ,sJ=eJ,uJ=nJ;function cJ(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var hJ=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return aJ(e)}},{key:"matchesElement",value:function(e,t){return oJ(e,t)}},{key:"containsElement",value:function(e,t){return sJ(e,t)}},{key:"query",value:function(e,t,n){return uJ(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,l){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new cg(n,i)}}]),e}(),dJ=function(){var e=function e(){_classCallCheck2(this,e)};return e.NOOP=new hJ,e}(),fJ=1e3;function pJ(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:vJ(parseFloat(t[1]),t[2])}function vJ(e,t){switch(t){case"s":return e*fJ;default:return e}}function gJ(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,l=0,r="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=vJ(parseFloat(a[1]),a[2]);var o=a[3];null!=o&&(l=vJ(parseFloat(o),a[4]));var s=a[5];s&&(r=s)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),l<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:l,easing:r}}(e,t,n)}function mJ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function yJ(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else mJ(e,n);return n}function bJ(e,t,n){return n?t+":"+n+";":""}function kJ(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=bJ(0,i,e.style.getPropertyValue(i))}for(var l in e.style)e.style.hasOwnProperty(l)&&!l.startsWith("_")&&(t+=bJ(0,l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[l]));e.setAttribute("style",t)}function _J(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var l=AJ(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[l]),e.style[l]=t[i]})),qQ()&&kJ(e))}function wJ(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=AJ(t);e.style[n]=""})),qQ()&&kJ(e))}function xJ(e){return Array.isArray(e)?1==e.length?e[0]:og(e):e}var CJ=new RegExp("".concat("{{","\\s*(.+?)\\s*}}"),"g");function SJ(e){var t=[];if("string"==typeof e){for(var n,i=e.toString();n=CJ.exec(i);)t.push(n[1]);CJ.lastIndex=0}return t}function TJ(e,t,n){var i=e.toString(),l=i.replace(CJ,(function(e,i){var l=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),l=""),l.toString()}));return l==i?e:l}function PJ(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var MJ=/-+([a-z0-9])/g;function AJ(e){return e.replace(MJ,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function IJ(e,t){return 0===e||0===t}function EJ(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var l=t[0],r=[];if(i.forEach((function(e){l.hasOwnProperty(e)||r.push(e),l[e]=n[e]})),r.length)for(var a=function(){var n=t[o];r.forEach((function(t){n[t]=OJ(e,t)}))},o=1;o<t.length;o++)a()}return t}function DJ(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #".concat(t.type))}}function OJ(e,t){return window.getComputedStyle(e)[t]}var FJ="*";function RJ(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var l=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==l||l.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var r=l[1],a=l[2],o=l[3];t.push(BJ(r,o)),"<"!=a[0]||r==FJ&&o==FJ||t.push(BJ(o,r))}(e,n,t)})):n.push(e),n}var NJ=new Set(["true","1"]),LJ=new Set(["false","0"]);function BJ(e,t){var n=NJ.has(e)||LJ.has(e),i=NJ.has(t)||LJ.has(t);return function(l,r){var a=e==FJ||e==l,o=t==FJ||t==r;return!a&&n&&"boolean"==typeof l&&(a=l?NJ.has(e):LJ.has(e)),!o&&i&&"boolean"==typeof r&&(o=r?NJ.has(t):LJ.has(t)),a&&o}}var VJ=new RegExp("s*".concat(":self","s*,?"),"g");function zJ(e,t,n){return new jJ(e).build(t,n)}var jJ=function(){function e(t){_classCallCheck2(this,e),this._driver=t}return _createClass2(e,[{key:"build",value:function(e,t){var n=new HJ(t);return this._resetContextStyleTimingState(n),DJ(this,xJ(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,l=t.depCount=0,r=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var o=e,s=o.name;s.toString().split(/\s*,\s*/).forEach((function(e){o.name=e,r.push(n.visitState(o,t))})),o.name=s}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,l+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:r,transitions:a,queryCount:i,depCount:l,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var l=new Set,r=i||{};if(n.styles.forEach((function(e){if(WJ(e)){var t=e;Object.keys(t).forEach((function(e){SJ(t[e]).forEach((function(e){r.hasOwnProperty(e)||l.add(e)}))}))}})),l.size){var a=PJ(l.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=DJ(this,xJ(e.animation),t);return{type:1,matchers:RJ(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:UJ(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return DJ(n,e,t)})),options:UJ(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,l=0,r=e.steps.map((function(e){t.currentTime=i;var r=DJ(n,e,t);return l=Math.max(l,t.currentTime),r}));return t.currentTime=l,{type:3,steps:r,options:UJ(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return YJ(gJ(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var l=YJ(0,0,"");return l.dynamic=!0,l.strValue=i,l}return YJ((n=n||gJ(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var l=e.styles?e.styles:sg({});if(5==l.type)n=this.visitKeyframes(l,t);else{var r=e.styles,a=!1;if(!r){a=!0;var o={};i.easing&&(o.easing=i.easing),r=sg(o)}t.currentTime+=i.duration+i.delay;var s=this.visitStyle(r,t);s.isEmptyStep=a,n=s}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?e==rg?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,l=null;return n.forEach((function(e){if(WJ(e)){var t=e,n=t.easing;if(n&&(l=n,delete t.easing),!i)for(var r in t)if(t[r].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,l=t.currentTime,r=t.currentTime;i&&r>0&&(r-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var a=t.collectedStyles[t.currentQuerySelector],o=a[i],s=!0;o&&(r!=l&&r>=o.startTime&&l<=o.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(o.startTime,'ms" and "').concat(o.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(r,'ms" and "').concat(l,'ms"')),s=!1),r=o.startTime),s&&(a[i]={startTime:r,endTime:l}),t.options&&function(e,t,n){var i=t.params||{},l=SJ(e);l.length&&l.forEach((function(e){i.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}(e[i],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var l=0,r=[],a=!1,o=!1,s=0,u=e.steps.map((function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(WJ(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(WJ(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(l++,c=i.offset=u),o=o||c<0||c>1,a=a||c<s,s=c,r.push(c),i}));o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;l>0&&l<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(h=1/(c-1));var d=c-1,f=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return u.forEach((function(e,l){var a=h>0?l==d?1:h*l:r[l],o=a*v;t.currentTime=f+p.delay+o,p.duration=o,n._validateStyleAst(e,t),e.offset=a,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:DJ(this,xJ(e.animation),t),options:UJ(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:UJ(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:UJ(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var l=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(VJ,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),r=l[0],a=l[1];t.currentQuerySelector=n.length?n+" "+r:r,QQ(t.collectedStyles,t.currentQuerySelector,{});var o=DJ(this,xJ(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:o,originalSelector:e.selector,options:UJ(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:gJ(e.timings,t.errors,!0);return{type:12,animation:DJ(this,xJ(e.animation),t),timings:n,options:null}}}]),e}(),HJ=function e(t){_classCallCheck2(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function WJ(e){return!Array.isArray(e)&&"object"==typeof e}function UJ(e){var t;return e?(e=mJ(e)).params&&(e.params=(t=e.params)?mJ(t):null):e={},e}function YJ(e,t,n){return{duration:e,delay:t,easing:n}}function qJ(e,t,n,i,l,r){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:l,delay:r,totalTime:l+r,easing:arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,subTimeline:arguments.length>7&&void 0!==arguments[7]&&arguments[7]}}var GJ=function(){function e(){_classCallCheck2(this,e),this._map=new Map}return _createClass2(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),XJ=new RegExp(":enter","g"),KJ=new RegExp(":leave","g");function $J(e,t,n,i,l){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},o=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new ZJ).buildKeyframes(e,t,n,i,l,r,a,o,s,u)}var ZJ=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"buildKeyframes",value:function(e,t,n,i,l,r,a,o,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];s=s||new GJ;var c=new JJ(e,t,s,i,l,u,[]);c.options=o,c.currentTimeline.setStyles([r],null,c.errors,o),DJ(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([a],null,c.errors,o)}return h.length?h.map((function(e){return e.buildKeyframes()})):[qJ(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);l!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,l=null!=n.duration?pJ(n.duration):null,r=null!=n.delay?pJ(n.delay):null;return 0!==l&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,l,r);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),DJ(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,l=t,r=e.options;if(r&&(r.params||r.delay)&&((l=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=QJ);var a=pJ(r.delay);l.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return DJ(n,e,l)})),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>i&&l.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],l=t.currentTimeline.currentTime,r=e.options&&e.options.delay?pJ(e.options.delay):0;e.steps.forEach((function(a){var o=t.createSubContext(e.options);r&&o.delayNextStep(r),DJ(n,a,o),l=Math.max(l,o.currentTimeline.currentTime),i.push(o.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(l),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return gJ(t.params?TJ(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(n.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var l=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(l):n.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,l=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach((function(e){r.forwardTime((e.offset||0)*l),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+l),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,l=e.options||{},r=l.delay?pJ(l.delay):0;r&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=QJ);var a=i,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!l.optional,t.errors);t.currentQueryTotal=o.length;var s=null;o.forEach((function(i,l){t.currentQueryIndex=l;var o=t.createSubContext(e.options,i);r&&o.delayNextStep(r),i===t.element&&(s=o.currentTimeline),DJ(n,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,o.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),s&&(t.currentTimeline.mergeTimelineCollectedStyles(s),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,l=e.timings,r=Math.abs(l.duration),a=r*(t.currentQueryTotal-1),o=r*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":o=a-o;break;case"full":o=n.currentStaggerTime}var s=t.currentTimeline;o&&s.delayNextStep(o);var u=s.currentTime;DJ(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),QJ={},JJ=function(){function e(t,n,i,l,r,a,o,s){_classCallCheck2(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=l,this._leaveClassName=r,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=QJ,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new e0(this._driver,n,0),o.push(this.currentTimeline)}return _createClass2(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,l=this.options;null!=i.duration&&(l.duration=pJ(i.duration)),null!=i.delay&&(l.delay=pJ(i.delay));var r=i.params;if(r){var a=l.params;a||(a=this.options.params={}),Object.keys(r).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=TJ(r[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,l=n||this.element,r=new e(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=QJ,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},l=new t0(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,l,r){var a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(XJ,"."+this._enterClassName)).replace(KJ,"."+this._leaveClassName);var o=this._driver.query(this.element,e,1!=n);0!==n&&(o=n<0?o.slice(o.length+n,o.length):o.slice(0,n)),a.push.apply(a,_toConsumableArray(o))}return l||0!=a.length||r.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}},{key:"params",get:function(){return this.options.params}}]),e}(),e0=function(){function e(t,n,i,l){_classCallCheck2(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass2(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||rg,t._currentKeyframe[e]=rg})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var l=this;t&&(this._previousKeyframe.easing=t);var r=i&&i.params||{},a=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]=rg})):yJ(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=TJ(a[e],r,n);l._pendingStyles[e]=t,l._localTimelineStyles.hasOwnProperty(e)||(l._backFill[e]=l._globalTimelineStyles.hasOwnProperty(e)?l._globalTimelineStyles[e]:rg),l._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],l=e._styleSummary[n];(!i||l.time>i.time)&&t._updateStyle(n,l.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,l=[];this._keyframes.forEach((function(r,a){var o=yJ(r,!0);Object.keys(o).forEach((function(e){var i=o[e];i==dg?t.add(e):i==rg&&n.add(e)})),i||(o.offset=a/e.duration),l.push(o)}));var r=t.size?PJ(t.values()):[],a=n.size?PJ(n.values()):[];if(i){var o=l[0],s=mJ(o);o.offset=0,s.offset=1,l=[o,s]}return qJ(this.element,l,r,a,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),t0=function(e){function t(e,n,i,l,r,a){var o,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck2(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e,n,a.delay))).element=n,o.keyframes=i,o.preStyleProps=l,o.postStyleProps=r,o._stretchStartingKeyframe=s,o.timings={duration:a.duration,delay:a.delay,easing:a.easing},o}return _inherits(t,e),_createClass2(t,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,l=t.easing;if(this._stretchStartingKeyframe&&n){var r=[],a=i+n,o=n/a,s=yJ(e[0],!1);s.offset=0,r.push(s);var u=yJ(e[0],!1);u.offset=n0(o),r.push(u);for(var c=e.length-1,h=1;h<=c;h++){var d=yJ(e[h],!1);d.offset=n0((n+d.offset*i)/a),r.push(d)}i=a,n=0,l="",e=r}return qJ(this.element,e,this.preStyleProps,this.postStyleProps,i,n,l,!0)}}]),t}(e0);function n0(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var i0,l0,r0=function e(){_classCallCheck2(this,e)},a0=function(e){function t(){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).apply(this,arguments))}return _inherits(t,e),_createClass2(t,[{key:"normalizePropertyName",value:function(e,t){return AJ(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var l="",r=n.toString().trim();if(o0[t]&&0!==n&&"0"!==n)if("number"==typeof n)l="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return r+l}}]),t}(r0),o0=(i0="width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","),l0={},i0.forEach((function(e){return l0[e]=!0})),l0);function s0(e,t,n,i,l,r,a,o,s,u,c,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:l,fromState:n,fromStyles:r,toState:i,toStyles:a,timelines:o,queriedElements:s,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var u0={},c0=function(){function e(t,n,i){_classCallCheck2(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass2(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,l){return e.some((function(e){return e(t,n,i,l)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],l=this._stateStyles[e],r=i?i.buildStyles(t,n):{};return l?l.buildStyles(t,n):r}},{key:"build",value:function(e,t,n,i,l,r,a,o,s,u){var c=[],h=this.ast.options&&this.ast.options.params||u0,d=this.buildStyles(n,a&&a.params||u0,c),f=o&&o.params||u0,p=this.buildStyles(i,f,c),v=new Set,g=new Map,m=new Map,y="void"===i,b={params:Object.assign({},h,f)},k=u?[]:$J(e,t,this.ast.animation,l,r,d,p,b,s,c),_=0;if(k.forEach((function(e){_=Math.max(e.duration+e.delay,_)})),c.length)return s0(t,this._triggerName,n,i,y,d,p,[],[],g,m,_,c);k.forEach((function(e){var n=e.element,i=QQ(g,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var l=QQ(m,n,{});e.postStyleProps.forEach((function(e){return l[e]=!0})),n!==t&&v.add(n)}));var w=PJ(v.values());return s0(t,this._triggerName,n,i,y,d,p,k,w,g,m,_)}}]),e}(),h0=function(){function e(t,n){_classCallCheck2(this,e),this.styles=t,this.defaultParams=n}return _createClass2(e,[{key:"buildStyles",value:function(e,t){var n={},i=mJ(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var l=e;Object.keys(l).forEach((function(e){var r=l[e];r.length>1&&(r=TJ(r,i,t)),n[e]=r}))}})),n}}]),e}(),d0=function(){function e(t,n){var i=this;_classCallCheck2(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new h0(e.style,e.options&&e.options.params||{})})),f0(this.states,"true","1"),f0(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new c0(t,e,i.states))})),this.fallbackTransition=new c0(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass2(e,[{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(l){return l.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function f0(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var p0=new GJ,v0=function(){function e(t,n,i){_classCallCheck2(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass2(e,[{key:"register",value:function(e,t){var n=[],i=zJ(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,l=XQ(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[],a=this._animations[e],o=new Map;if(a?(n=$J(this._driver,t,a,"ng-enter","ng-leave",{},{},l,p0,r)).forEach((function(e){var t=QQ(o,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(r.push("The requested animation doesn't exist or has already been destroyed"),n=[]),r.length)throw new Error("Unable to create the animation due to the following errors: ".concat(r.join("\n")));o.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,rg)}))}));var s=GQ(n.map((function(e){var t=o.get(e.element);return i._buildPlayer(e,{},t)})));return this._playersById[e]=s,s.onDestroy((function(){return i.destroy(e)})),this.players.push(s),s}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by ".concat(e));return t}},{key:"listen",value:function(e,t,n,i){var l=ZQ(t,"","","");return KQ(this._getPlayer(e),n,l,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var l=this._getPlayer(e);switch(n){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),g0=[],m0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},y0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},b0="__ng_removed",k0=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck2(this,e),this.namespaceId=n;var i,l=t&&t.hasOwnProperty("value");if(this.value=null!=(i=l?t.value:t)?i:null,l){var r=mJ(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}return _createClass2(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),_0=new k0("void"),w0=function(){function e(t,n,i){_classCallCheck2(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,I0(n,this._hostClassName)}return _createClass2(e,[{key:"listen",value:function(e,t,n,i){var l,r=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(l=n)&&"done"!=l)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=QQ(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};a.push(o);var s=QQ(this._engine.statesByElement,e,{});return s.hasOwnProperty(t)||(I0(e,"ng-trigger"),I0(e,"ng-trigger-"+t),s[t]=_0),function(){r._engine.afterFlush((function(){var e=a.indexOf(o);e>=0&&a.splice(e,1),r._triggers[t]||delete s[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this._getTrigger(t),a=new C0(this.id,t,e),o=this._engine.statesByElement.get(e);o||(I0(e,"ng-trigger"),I0(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));var s=o[t],u=new k0(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&s&&u.absorbOptions(s.options),o[t]=u,s||(s=_0),"void"===u.value||s.value!==u.value){var c=QQ(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=r.matchTransition(s.value,u.value,e,u.params),d=!1;if(!h){if(!l)return;h=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:s,toState:u,player:a,isFallbackTransition:d}),d||(I0(e,"ng-animate-queued"),a.onStart((function(){E0(e,"ng-animate-queued")}))),a.onDone((function(){var t=i.players.indexOf(a);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var l=n.indexOf(a);l>=0&&n.splice(l,1)}})),this.players.push(a),c.push(a),a}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var l=0;l<n.length;l++){var r=n[l];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(s.params,u.params)){var f=[],p=r.matchStyles(s.value,s.params,f),v=r.matchStyles(u.value,u.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush((function(){wJ(e,p),_J(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(e,".ng-trigger",!0).forEach((function(e){if(!e[b0]){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var l=this,r=this._engine.statesByElement.get(e);if(r){var a=[];if(Object.keys(r).forEach((function(t){if(l._triggers[t]){var n=l.trigger(e,t,"void",i);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&GQ(a).onDone((function(){return l._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var l=n.name;if(!i.has(l)){i.add(l);var r=t._triggers[l].fallbackTransition,a=t._engine.statesByElement.get(e)[l]||_0,o=new k0("void"),s=new C0(t.id,l,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:l,transition:r,fromState:a,toState:o,player:s,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var l=!1;if(i.totalAnimations){var r=i.players.length?i.playersByQueriedElement.get(e):[];if(r&&r.length)l=!0;else for(var a=e;a=a.parentNode;)if(i.statesByElement.get(a)){l=!0;break}}this.prepareLeaveAnimationListeners(e),l?i.markElementAsRemoved(this.id,e,!1,t):(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}},{key:"insertNode",value:function(e,t){I0(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var l=i.player;if(!l.destroyed){var r=i.element,a=t._elementListeners.get(r);a&&a.forEach((function(t){if(t.name==i.triggerName){var n=ZQ(r,i.triggerName,i.fromState.value,i.toState.value);n._data=e,KQ(i.player,t.phase,n,t.callback)}})),l.markedForDestroy?t._engine.afterFlush((function(){l.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,l=n.transition.ast.depCount;return 0==i||0==l?i-l:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),x0=function(){function e(t,n,i){_classCallCheck2(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass2(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new w0(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,l=n;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),l=0;l<i.length;l++){var r=n[i[l]].namespaceId;if(r){var a=this._fetchNamespace(r);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,i){if(S0(t)){var l=this._fetchNamespace(e);if(l)return l.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if(S0(t)){var l=t[b0];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;var r=this.collectedLeaveElements.indexOf(t);r>=0&&this.collectedLeaveElements.splice(r,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),I0(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),E0(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if(S0(t)){var l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t[b0]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,l){return S0(t)?this._fetchNamespace(e).listen(t,n,i,l):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,l)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return GQ(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e[b0];if(n&&n.setForRemoval){if(e[b0]=m0,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)I0(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var l=[];try{n=this._flushAnimations(l,t)}finally{for(var r=0;r<l.length;r++)l[r]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?GQ(n).onDone((function(){o.forEach((function(e){return e()}))})):o.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(e.join("\n")))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new GJ,l=[],r=new Map,a=[],o=new Map,s=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)c.add(t[i])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=M0(d,this.collectedEnterElements),p=new Map,v=0;f.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return I0(e,n)}))}));for(var g=[],m=new Set,y=new Set,b=0;b<this.collectedLeaveElements.length;b++){var k=this.collectedLeaveElements[b],_=k[b0];_&&_.setForRemoval&&(g.push(k),m.add(k),_.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):y.add(k))}var w=new Map,x=M0(d,Array.from(m));x.forEach((function(e,t){var n="ng-leave"+v++;w.set(t,n),e.forEach((function(e){return I0(e,n)}))})),e.push((function(){f.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return E0(e,n)}))})),x.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return E0(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var C=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(t).forEach((function(e){var t=e.player,r=e.element;if(C.push(t),n.collectedEnterElements.length){var c=r[b0];if(c&&c.setForMove)return void t.destroy()}var d=!h||!n.driver.containsElement(h,r),f=w.get(r),v=p.get(r),g=n._buildInstruction(e,i,v,f,d);if(!g.errors||!g.errors.length)return d?(t.onStart((function(){return wJ(r,g.fromStyles)})),t.onDestroy((function(){return _J(r,g.toStyles)})),void l.push(t)):e.isFallbackTransition?(t.onStart((function(){return wJ(r,g.fromStyles)})),t.onDestroy((function(){return _J(r,g.toStyles)})),void l.push(t)):(g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(r,g.timelines),a.push({instruction:g,player:t,element:r}),g.queriedElements.forEach((function(e){return QQ(o,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=s.get(t);i||s.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),void g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=u.get(t);i||u.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))})));S.push(g)}));if(S.length){var P=[];S.forEach((function(e){P.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return P.push("- ".concat(e,"\n"))}))})),C.forEach((function(e){return e.destroy()})),this.reportError(P)}var M=new Map,A=new Map;a.forEach((function(e){var t=e.element;i.has(t)&&(A.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,M))})),l.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){QQ(M,t,[]).push(e),e.destroy()}))}));var I=g.filter((function(e){return O0(e,s,u)})),E=new Map;P0(E,this.driver,y,u,rg).forEach((function(e){O0(e,s,u)&&I.push(e)}));var D=new Map;f.forEach((function(e,t){P0(D,n.driver,new Set(e),s,dg)})),I.forEach((function(e){var t=E.get(e),n=D.get(e);E.set(e,Object.assign({},t,n))}));var O=[],F=[],R={};a.forEach((function(e){var t=e.element,a=e.player,o=e.instruction;if(i.has(t)){if(c.has(t))return a.onDestroy((function(){return _J(t,o.toStyles)})),a.disabled=!0,a.overrideTotalTime(o.totalTime),void l.push(a);var s=R;if(A.size>1){for(var u=t,h=[];u=u.parentNode;){var d=A.get(u);if(d){s=d;break}h.push(u)}h.forEach((function(e){return A.set(e,s)}))}var f=n._buildAnimation(a.namespaceId,o,M,r,D,E);if(a.setRealPlayer(f),s===R)O.push(a);else{var p=n.playersByElement.get(s);p&&p.length&&(a.parentPlayer=GQ(p)),l.push(a)}}else wJ(t,o.fromStyles),a.onDestroy((function(){return _J(t,o.toStyles)})),F.push(a),c.has(t)&&l.push(a)})),F.forEach((function(e){var t=r.get(e.element);if(t&&t.length){var n=GQ(t);e.setRealPlayer(n)}})),l.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var N=0;N<g.length;N++){var L=g[N],B=L[b0];if(E0(L,"ng-leave"),!B||!B.hasAnimation){var V=[];if(o.size){var z=o.get(L);z&&z.length&&V.push.apply(V,_toConsumableArray(z));for(var j=this.driver.query(L,".ng-animating",!0),H=0;H<j.length;H++){var W=o.get(j[H]);W&&W.length&&V.push.apply(V,_toConsumableArray(W))}}var U=V.filter((function(e){return!e.destroyed}));U.length?D0(this,L,U):this.processLeaveNode(L)}}return g.length=0,O.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),O}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t[b0];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,l){var r=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(r=a)}else{var o=this.playersByElement.get(e);if(o){var s=!l||"void"==l;o.forEach((function(e){e.queued||(s||e.triggerName==i)&&r.push(e)}))}}return(n||i)&&(r=r.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),r}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i=this,l=t.element,r=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName,o=!0,s=!1,u=void 0;try{for(var c,h=function(){var e=c.value.element,o=e!==l,s=QQ(n,e,[]);i._getPreviousPlayers(e,o,r,a,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),s.push(e)}))},d=t.timelines[Symbol.iterator]();!(o=(c=d.next()).done);o=!0)h()}catch(f){s=!0,u=f}finally{try{o||null==d.return||d.return()}finally{if(s)throw u}}wJ(l,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,l,r){var a=this,o=t.triggerName,s=t.element,u=[],c=new Set,h=new Set,d=t.timelines.map((function(t){var d=t.element;c.add(d);var f=d[b0];if(f&&f.removedBeforeQueried)return new cg(t.duration,t.delay);var p,v,g=d!==s,m=(p=(n.get(d)||g0).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var i=0;i<t.length;i++){var l=t[i];l instanceof hg?e(l.players,n):n.push(l)}}(p,v),v).filter((function(e){return!!e.element&&e.element===d})),y=l.get(d),b=r.get(d),k=XQ(0,a._normalizer,0,t.keyframes,y,b),_=a._buildPlayer(t,k,m);if(t.subTimeline&&i&&h.add(d),g){var w=new C0(e,o,d);w.setRealPlayer(_),u.push(w)}return _}));u.forEach((function(e){QQ(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var l=i.indexOf(n);i.splice(l,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&delete e[t]}return i}(a.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return I0(e,"ng-animating")}));var f=GQ(d);return f.onDestroy((function(){c.forEach((function(e){return E0(e,"ng-animating")})),_J(s,t.toStyles)})),h.forEach((function(e){QQ(i,e,[]).push(f)})),f}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new cg(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),C0=function(){function e(t,n,i){_classCallCheck2(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new cg,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass2(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return KQ(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){QQ(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function S0(e){return e&&1===e.nodeType}function T0(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function P0(e,t,n,i,l){var r=[];n.forEach((function(e){return r.push(T0(e))}));var a=[];i.forEach((function(n,i){var r={};n.forEach((function(e){var n=r[e]=t.computeStyle(i,e,l);n&&0!=n.length||(i[b0]=y0,a.push(i))})),e.set(i,r)}));var o=0;return n.forEach((function(e){return T0(e,r[o++])})),a}function M0(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),l=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var r=l.get(t);if(r)return r;var a=t.parentNode;return r=n.has(a)?a:i.has(a)?1:e(a),l.set(t,r),r}(e);1!==t&&n.get(t).push(e)})),n}var A0="$$classes";function I0(e,t){if(e.classList)e.classList.add(t);else{var n=e[A0];n||(n=e[A0]={}),n[t]=!0}}function E0(e,t){if(e.classList)e.classList.remove(t);else{var n=e[A0];n&&delete n[t]}}function D0(e,t,n){GQ(n).onDone((function(){return e.processLeaveNode(t)}))}function O0(e,t,n){var i=n.get(e);if(!i)return!1;var l=t.get(e);return l?i.forEach((function(e){return l.add(e)})):t.set(e,i),n.delete(e),!0}var F0=function(){function e(t,n,i){var l=this;_classCallCheck2(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new x0(t,n,i),this._timelineEngine=new v0(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return l.onRemovalComplete(e,t)}}return _createClass2(e,[{key:"registerTrigger",value:function(e,t,n,i,l){var r=e+"-"+i,a=this._triggerCache[r];if(!a){var o=[],s=zJ(this._driver,l,o);if(o.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(o.join("\n - ")));a=function(e,t){return new d0(e,t)}(i,s),this._triggerCache[r]=a}this._transitionEngine.registerTrigger(t,i,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var l=_slicedToArray(JQ(n),2),r=l[0],a=l[1];this._timelineEngine.command(r,t,a,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,l){if("@"==n.charAt(0)){var r=_slicedToArray(JQ(n),2),a=r[0],o=r[1];return this._timelineEngine.listen(a,t,o,l)}return this._transitionEngine.listen(e,t,n,i,l)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function R0(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=L0(t[0]),t.length>1&&(i=L0(t[t.length-1]))):t&&(n=L0(t)),n||i?new N0(e,n,i):null}var N0=function(){var e=function(){function e(t,n,i){_classCallCheck2(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var l=e.initialStylesByElement.get(t);l||e.initialStylesByElement.set(t,l={}),this._initialStyles=l}return _createClass2(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&_J(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(_J(this._element,this._initialStyles),this._endStyles&&(_J(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(wJ(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wJ(this._element,this._endStyles),this._endStyles=null),_J(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function L0(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var l=n[i];B0(l)&&((t=t||{})[l]=e[l])}return t}function B0(e){return"display"===e||"position"===e}var V0="animation",z0="animationend",j0=function(){function e(t,n,i,l,r,a,o){var s=this;_classCallCheck2(this,e),this._element=t,this._name=n,this._duration=i,this._delay=l,this._easing=r,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return s._handleCallback(e)}}return _createClass2(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=G0(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),q0(e,"",t),Y0(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){H0(this._element,this._name,"paused")}},{key:"resume",value:function(){H0(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=W0(this._element,this._name);this._position=e*this._duration,q0(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),Y0(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=G0(e,"").split(","),(i=U0(n,t))>=0&&(n.splice(i,1),q0(e,"",n.join(","))))}}]),e}();function H0(e,t,n){q0(e,"PlayState",n,W0(e,t))}function W0(e,t){var n=G0(e,"");return n.indexOf(",")>0?U0(n.split(","),t):U0([n],t)}function U0(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Y0(e,t,n){n?e.removeEventListener(z0,t):e.addEventListener(z0,t)}function q0(e,t,n,i){var l=V0+t;if(null!=i){var r=e.style[l];if(r.length){var a=r.split(",");a[i]=n,n=a.join(",")}}e.style[l]=n}function G0(e,t){return e.style[V0+t]}var X0="linear",K0=function(){function e(t,n,i,l,r,a,o,s){_classCallCheck2(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=l,this._delay=r,this._finalStyles=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||X0,this.totalTime=l+r,this._buildStyler()}return _createClass2(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new j0(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:OJ(e.element,i))}))}this.currentSnapshot=t}}]),e}(),$0=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this))).element=e,i._startingStyles={},i.__initialized=!1,i._styles=cJ(n),i}return _inherits(t,e),_createClass2(t,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get2(_getPrototypeOf2(t.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get2(_getPrototypeOf2(t.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get2(_getPrototypeOf2(t.prototype),"destroy",this).call(this))}}]),t}(cg),Z0=function(){function e(){_classCallCheck2(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return aJ(e)}},{key:"matchesElement",value:function(e,t){return oJ(e,t)}},{key:"containsElement",value:function(e,t){return sJ(e,t)}},{key:"query",value:function(e,t,n){return uJ(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return cJ(e)}));var i="@keyframes ".concat(t," {\n"),l="";n.forEach((function(e){l=" ";var t=parseFloat(e.offset);i+="".concat(l).concat(100*t,"% {\n"),l+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(l,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(l).concat(t,": ").concat(n,";\n"))}})),i+="".concat(l,"}\n")})),i+="}\n";var r=document.createElement("style");return r.innerHTML=i,r}},{key:"animate",value:function(e,t,n,i,l){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var o=r.filter((function(e){return e instanceof K0})),s={};IJ(n,i)&&o.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return s[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=EJ(e,t,s));if(0==n)return new $0(e,u);var c="".concat("gen_css_kf_").concat(this._count++),h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var d=R0(e,t),f=new K0(e,t,c,n,i,l,u,d);return f.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),f}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),Q0=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:OJ(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),J0=function(){function e(){_classCallCheck2(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(e1().toString()),this._cssKeyframesDriver=new Z0}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return aJ(e)}},{key:"matchesElement",value:function(e,t){return oJ(e,t)}},{key:"containsElement",value:function(e,t){return sJ(e,t)}},{key:"query",value:function(e,t,n){return uJ(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,l){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,l,r);var o={duration:n,delay:i,fill:0==i?"both":"forwards"};l&&(o.easing=l);var s={},u=r.filter((function(e){return e instanceof Q0}));IJ(n,i)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return s[e]=t[e]}))}));var c=R0(e,t=EJ(e,t=t.map((function(e){return yJ(e,!1)})),s));return new Q0(e,t,o,c)}}]),e}();function e1(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var t1=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._nextAnimationId=0,i._renderer=e.createRenderer(n.body,{id:"0",encapsulation:dt.None,styles:[],data:{animation:[]}}),i}return _inherits(t,e),_createClass2(t,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?og(e):e;return l1(this._renderer,null,t,"register",[n]),new n1(t,this._renderer)}}]),t}(ig),n1=function(e){function t(e,n){var i;return _classCallCheck2(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this)))._id=e,i._renderer=n,i}return _inherits(t,e),_createClass2(t,[{key:"create",value:function(e,t){return new i1(this._id,e,t||{},this._renderer)}}]),t}(lg),i1=function(){function e(t,n,i,l){_classCallCheck2(this,e),this.id=t,this.element=n,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass2(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return l1(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function l1(e,t,n,i,l){return e.setProperty(t,"@@".concat(n,":").concat(i),l)}var r1=function(){function e(t,n,i){_classCallCheck2(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass2(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var l=this._rendererCache.get(i);return l||(l=new a1("",i,this.engine),this._rendererCache.set(i,l)),l}var r=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function(t){return n.engine.registerTrigger(r,a,e,t.name,t)})),new o1(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}(),a1=function(){function e(t,n,i){_classCallCheck2(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass2(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),o1=function(e){function t(e,n,i,l){var r;return _classCallCheck2(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,n,i,l))).factory=e,r.namespaceId=n,r}return _inherits(t,e),_createClass2(t,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,l,r=this;if("@"==t.charAt(0)){var a,o=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),s=t.substr(1),u="";return"@"!=s.charAt(0)&&(l=(i=s).indexOf("."),s=(a=_slicedToArray([i.substring(0,l),i.substr(l+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,o,s,u,(function(e){r.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),t}(a1),s1=function(e){function t(e,n,i){return _classCallCheck2(this,t),_possibleConstructorReturn(this,_getPrototypeOf2(t).call(this,e.body,n,i))}return _inherits(t,e),t}(F0);function u1(){return"function"==typeof e1()?new J0:new Z0}function c1(){return new a0}function h1(e,t,n){return new r1(e,t,n)}var d1,f1,p1,v1,g1=new qe("AnimationModuleType"),m1=function e(){_classCallCheck2(this,e)},y1=((v1=function(){function e(t){_classCallCheck2(this,e),this.router=t}return _createClass2(e,[{key:"canActivate",value:function(e,t){var n=(new cQ).decodeToken(localStorage.getItem("bearToken"));return null==cs.token?(this.router.navigate(["login"]),!1):"staff"==n.type||("doctor"==n.type?this.router.navigate(["doctor"]):"admin"==n.type&&this.router.navigate(["admin"]),!1)}}]),e}()).ngInjectableDef=De({factory:function(){return new v1(nt(ip))},token:v1,providedIn:"root"}),v1),b1=((p1=function(){function e(t){_classCallCheck2(this,e),this.router=t}return _createClass2(e,[{key:"canActivate",value:function(e,t){var n=(new cQ).decodeToken(localStorage.getItem("bearToken"));return null==cs.token?(this.router.navigate(["login"]),!1):"admin"==n.type||("doctor"==n.type?this.router.navigate(["doctor"]):"staff"==n.type&&this.router.navigate([""]),!1)}}]),e}()).ngInjectableDef=De({factory:function(){return new p1(nt(ip))},token:p1,providedIn:"root"}),p1),k1=((f1=function(){function e(t){_classCallCheck2(this,e),this.router=t}return _createClass2(e,[{key:"canActivate",value:function(e,t){var n=(new cQ).decodeToken(localStorage.getItem("bearToken"));return null==cs.token?(this.router.navigate(["login"]),!1):"doctor"==n.type||("admin"==n.type?this.router.navigate(["admin"]):"staff"==n.type&&this.router.navigate([""]),!1)}}]),e}()).ngInjectableDef=De({factory:function(){return new f1(nt(ip))},token:f1,providedIn:"root"}),f1),_1=((d1=function(){function e(){_classCallCheck2(this,e),this.data={}}return _createClass2(e,[{key:"setOption",value:function(e,t){this.data[e]=t}},{key:"getOption",value:function(){return this.data}}]),e}()).ngInjectableDef=De({factory:function(){return new d1},token:d1,providedIn:"root"}),d1),w1=function e(){_classCallCheck2(this,e)},x1=new us(hs,[ds],(function(e){return function(e){for(var t={},n=[],i=!1,l=0;l<e.length;l++){var r=e[l];r.token===dn&&!0===r.value&&(i=!0),1073741824&r.flags&&n.push(r.token),r.index=l,t[Pi(r.token)]=r}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:i}}([cl(512,Bn,Vn,[[8,[ks,Fp,rv,Wg,Hm,Ym,Wy,Qk,n_,h_,v_,w_,hG,bG,xG,MG,DG,KG,eX,rX,N$,H$,J$,aZ,cZ,gZ,xZ,OZ,YZ,QZ,iQ,uQ,pQ,xQ,IQ,FQ,BQ,HQ,YQ]],[3,Bn],ot]),cl(5120,Fr,Oa,[[3,Fr]]),cl(4608,uu,cu,[Fr,[2,su]]),cl(5120,lr,Fa,[Qr]),cl(5120,Pr,Mr,[]),cl(5120,ri,Ea,[]),cl(5120,ai,Da,[]),cl(4608,Mh,Ah,[Fu]),cl(6144,qt,null,[Mh]),cl(4608,_h,xh,[]),cl(5120,Xc,(function(e,t,n,i,l,r,a,o){return[new bh(e,t,n),new Ph(i),new Ch(l,r,a,o)]}),[Fu,Qr,Er,Fu,Fu,_h,Or,[2,wh]]),cl(4608,Kc,Kc,[Xc,Qr]),cl(135680,Qc,Qc,[Fu]),cl(4608,rh,rh,[Kc,Qc,Pr]),cl(5120,dJ,u1,[]),cl(5120,r0,c1,[]),cl(4608,F0,s1,[Fu,dJ,r0]),cl(5120,Un,h1,[rh,F0,Qr]),cl(6144,Zc,null,[Qc]),cl(4608,aa,aa,[Qr]),cl(5120,Gd,Tp,[ip]),cl(4608,fp,fp,[]),cl(6144,hp,null,[fp]),cl(135680,pp,pp,[ip,ba,Wr,pn,hp]),cl(4608,dp,dp,[]),cl(5120,vp,_p,[ip,Nu,gp]),cl(5120,Ip,Ap,[Pp]),cl(5120,Dr,(function(e,t){return[e,t]}),[Ip,Ip]),cl(4608,hb,hb,[]),cl(4608,hk,hk,[]),cl(4608,Kp,Kp,[Bn,ma,pn]),cl(4608,Yp,Yp,[]),cl(4608,Ay,Iy,[Fu,Er,Py]),cl(4608,Ey,Ey,[Ay,My]),cl(5120,_y,(function(e){return[e]}),[Ey]),cl(4608,Sy,Sy,[]),cl(6144,Cy,null,[Sy]),cl(4608,Ty,Ty,[Cy]),cl(6144,iy,null,[Ty]),cl(4608,ny,Dy,[iy,pn]),cl(4608,by,by,[ny]),cl(4608,YT,YT,[]),cl(4608,hT,hT,[]),cl(4608,pT,pT,[]),cl(4608,aS,oS,[Fr]),cl(4608,mT,mT,[aS]),cl(4608,kT,kT,[aS]),cl(4608,jP,jP,[aS]),cl(135680,Zv,Zv,[Qr]),cl(4608,Ng,Ng,[ma,Bn,pn,[2,Rg]]),cl(4608,hP,hP,[xT]),cl(4608,uM,uM,[]),cl(4608,vM,vM,[aS]),cl(4608,_M,_M,[aS]),cl(4608,PM,PM,[aS]),cl(4608,DM,DM,[aS]),cl(4608,Cm,Cm,[]),cl(4608,Mm,Mm,[Bn,Cm]),cl(4608,sk,sk,[]),cl(4608,ig,t1,[Un,Fu]),cl(4608,y1,y1,[ip]),cl(4608,b1,b1,[ip]),cl(4608,k1,k1,[ip]),cl(4608,_1,_1,[]),cl(4608,By.PubNubAngular,By.PubNubAngular,[]),cl(1073742336,Ou,Ou,[]),cl(1024,kt,Lh,[]),cl(1024,ha,(function(){return[bp(),bp()]}),[]),cl(512,Pp,Pp,[pn]),cl(1024,Sr,(function(e,t,n){return[(i=e,Yc("probe",Gc),Yc("coreTokens",Object.assign({},qc,(i||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return Gc}),Mp(t),Mp(n)];var i}),[[2,ha],Pp,Pp]),cl(512,Tr,Tr,[[2,Sr]]),cl(131584,ma,ma,[Qr,Or,pn,kt,Bn,Tr]),cl(1073742336,Ra,Ra,[ma]),cl(1073742336,Bh,Bh,[[3,Bh]]),cl(1073742336,ms,ms,[]),cl(1024,mp,xp,[[3,ip]]),cl(512,Sd,Td,[]),cl(512,sp,sp,[]),cl(256,gp,{},[]),cl(1024,xs,wp,[_s,[2,Cs],gp]),cl(512,Ss,Ss,[xs,_s]),cl(512,Wr,Wr,[]),cl(512,ba,wa,[Wr,[2,ka]]),cl(1024,$f,(function(){return[[],[{path:"",component:ty,canActivate:[y1],children:[{path:"",component:Lk},{path:"customer/:id",component:Jk},{path:"registration",component:i_},{path:"schedule",component:d_,children:[{path:"",component:g_},{path:"scheduler",component:rG}]},{path:"examination",component:dG},{path:"invoice",component:kG,children:[{path:"",component:CG}]}]},{path:"admin",component:AG,canActivate:[b1],children:[{path:"",component:zG},{path:"user",component:$G},{path:"user/:id",component:tX},{path:"treatment",component:I$},{path:"treatment/:id",component:B$},{path:"service",component:W$},{path:"discount",component:eZ},{path:"schedule",component:oZ,children:[{path:"",component:hZ},{path:"scheduler",component:mZ}]}]},{path:"doctor",component:CZ,canActivate:[k1],children:[{path:"",component:FZ},{path:"customer",component:qZ},{path:"diagnosis",component:JZ},{path:"examination",component:lQ}]},{path:"login",component:hQ},{path:"comon/customer/:id",component:vQ},{path:"examination/print",component:CQ},{path:"printer/printexamination",component:EQ},{path:"common/print/invoice",component:RQ},{path:"**",component:VQ}]]}),[]),cl(1024,ip,Sp,[ma,Sd,sp,Ss,pn,ba,Wr,$f,gp,[2,Qf],[2,Xf]]),cl(1073742336,kp,kp,[[2,mp],[2,ip]]),cl(1073742336,w1,w1,[]),cl(1073742336,ok,ok,[]),cl(1073742336,uk,uk,[]),cl(1073742336,wk,wk,[]),cl(1073742336,Zp,Zp,[]),cl(1073742336,C$,C$,[]),cl(1073742336,BG,BG,[]),cl(1073742336,Oy,Oy,[]),cl(1073742336,Fy,Fy,[]),cl(1073742336,Uv,Uv,[]),cl(1073742336,WP,WP,[]),cl(1073742336,uS,uS,[]),cl(1073742336,UP,UP,[]),cl(1073742336,XP,XP,[]),cl(1073742336,KP,KP,[]),cl(1073742336,eg,eg,[]),cl(1073742336,Lg,Lg,[]),cl(1073742336,QV,QV,[]),cl(1073742336,tz,tz,[]),cl(1073742336,nz,nz,[]),cl(1073742336,gz,gz,[]),cl(1073742336,zz,zz,[]),cl(1073742336,jz,jz,[]),cl(1073742336,mz,mz,[]),cl(1073742336,Hz,Hz,[]),cl(1073742336,lm,lm,[]),cl(1073742336,rm,rm,[]),cl(1073742336,am,am,[]),cl(1073742336,om,om,[]),cl(1073742336,sm,sm,[]),cl(1073742336,um,um,[]),cl(1073742336,cm,cm,[]),cl(1073742336,$P,$P,[]),cl(1073742336,ZP,ZP,[]),cl(1073742336,eM,eM,[]),cl(1073742336,iM,iM,[]),cl(1073742336,$M,$M,[]),cl(1073742336,lM,lM,[]),cl(1073742336,ZM,ZM,[]),cl(1073742336,QM,QM,[]),cl(1073742336,Em,Em,[]),cl(1073742336,Dm,Dm,[]),cl(1073742336,DB,DB,[]),cl(1073742336,OB,OB,[]),cl(1073742336,KE,KE,[]),cl(1073742336,$E,$E,[]),cl(1073742336,ZE,ZE,[]),cl(1073742336,cD,cD,[]),cl(1073742336,dD,dD,[]),cl(1073742336,fD,fD,[]),cl(1073742336,pD,pD,[]),cl(1073742336,ck,ck,[]),cl(1073742336,mj,mj,[]),cl(1073742336,m1,m1,[]),cl(1073742336,hs,hs,[]),cl(256,dn,!0,[]),cl(256,Py,"XSRF-TOKEN",[]),cl(256,My,"X-XSRF-TOKEN",[]),cl(256,FP,FS,[]),cl(256,TE,uD,[]),cl(256,g1,"BrowserAnimations",[]),cl(256,vs,{printOpenWindow:!0},[])])}));cs.production&&function(){if(wt)throw new Error("Cannot enable prod mode after platform setup.");_t=!1}(),Nh().bootstrapModuleFactory(x1).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);